var $localize=Object.assign(void 0===$localize?{}:$localize,{locale:"en"});
"use strict";(function(global){global.ng=global.ng||{};global.ng.common=global.ng.common||{};global.ng.common.locales=global.ng.common.locales||{};const u=undefined;function plural(val){const n=val,i=Math.floor(Math.abs(val)),v=val.toString().replace(/^[^.]*\.?/,"").length;if(i===1&&v===0)return 1;return 5}global.ng.common.locales["en"]=["en",[["a","p"],["AM","PM"],u],[["AM","PM"],u,u],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],u,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],u,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",u,"{1} 'at' {0}",u],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",plural,[[["mi","n","in the morning","in the afternoon","in the evening","at night"],["midnight","noon","in the morning","in the afternoon","in the evening","at night"],u],[["midnight","noon","morning","afternoon","evening","night"],u,u],["00:00","12:00",["06:00","12:00"],["12:00","18:00"],["18:00","21:00"],["21:00","06:00"]]]]})(typeof globalThis!=="undefined"&&globalThis||typeof global!=="undefined"&&global||typeof window!=="undefined"&&window);;
(self.webpackChunksadad=self.webpackChunksadad||[]).push([[179],{440:(_n,vt,k)=>{"use strict";k.d(vt,{nm:()=>Vr});var p=k(6351);k(4650),k(5867);var kt=k(5861),yt=k(9681),et=k(4859),Ve=k(2090),pt=k(1877);const tt=new Map,Qe={activated:!1,tokenObservers:[]},Lt={initialized:!1,enabled:!1};function We(Pt){return tt.get(Pt)||Qe}function Ot(Pt,Rt){tt.set(Pt,Rt)}function Vt(){return Lt}class gn{constructor(Rt,Wt,vn,Pn,si){if(this.operation=Rt,this.retryPolicy=Wt,this.getWaitDuration=vn,this.lowerBound=Pn,this.upperBound=si,this.pending=null,this.nextErrorWaitInterval=Pn,Pn>si)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Rt){var Wt=this;return(0,kt.Z)(function*(){Wt.stop();try{Wt.pending=new Ve.BH,yield function Re(Pt){return new Promise(Rt=>{setTimeout(Rt,Pt)})}(Wt.getNextRun(Rt)),Wt.pending.resolve(),yield Wt.pending.promise,Wt.pending=new Ve.BH,yield Wt.operation(),Wt.pending.resolve(),yield Wt.pending.promise,Wt.process(!0).catch(()=>{})}catch(vn){Wt.retryPolicy(vn)?Wt.process(!1).catch(()=>{}):Wt.stop()}})()}getNextRun(Rt){if(Rt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Wt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Wt}}}const Fe=new Ve.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function St(Pt){if(!We(Pt).activated)throw Fe.create("use-before-activation",{appName:Pt.name})}function It(Pt,Rt){return qt.apply(this,arguments)}function qt(){return(qt=(0,kt.Z)(function*({url:Pt,body:Rt},Wt){var vn,Pn;const si={"Content-Type":"application/json"},Di=Wt.getImmediate({optional:!0});if(Di){const Us=yield Di.getHeartbeatsHeader();Us&&(si["X-Firebase-Client"]=Us)}const Ir={method:"POST",body:JSON.stringify(Rt),headers:si};let qi,zr;try{qi=yield fetch(Pt,Ir)}catch(Us){throw Fe.create("fetch-network-error",{originalErrorMessage:null===(vn=Us)||void 0===vn?void 0:vn.message})}if(200!==qi.status)throw Fe.create("fetch-status-error",{httpStatus:qi.status});try{zr=yield qi.json()}catch(Us){throw Fe.create("fetch-parse-error",{originalErrorMessage:null===(Pn=Us)||void 0===Pn?void 0:Pn.message})}const ls=zr.ttl.match(/^([\d.]+)(s)$/);if(!ls||!ls[2]||isNaN(Number(ls[1])))throw Fe.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${zr.ttl}`});const Ss=1e3*Number(ls[1]),Ro=Date.now();return{token:zr.token,expireTimeMillis:Ro+Ss,issuedAtTimeMillis:Ro}})).apply(this,arguments)}function En(Pt,Rt){const{projectId:Wt,appId:vn,apiKey:Pn}=Pt.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Wt}/apps/${vn}:exchangeDebugToken?key=${Pn}`,body:{debug_token:Rt}}}const Dn="firebase-app-check-store";let ee=null;function de(){return ee||(ee=new Promise((Pt,Rt)=>{var Wt;try{const vn=indexedDB.open("firebase-app-check-database",1);vn.onsuccess=Pn=>{Pt(Pn.target.result)},vn.onerror=Pn=>{var si;Rt(Fe.create("storage-open",{originalErrorMessage:null===(si=Pn.target.error)||void 0===si?void 0:si.message}))},vn.onupgradeneeded=Pn=>{0===Pn.oldVersion&&Pn.target.result.createObjectStore(Dn,{keyPath:"compositeKey"})}}catch(vn){Rt(Fe.create("storage-open",{originalErrorMessage:null===(Wt=vn)||void 0===Wt?void 0:Wt.message}))}}),ee)}function Un(){return(Un=(0,kt.Z)(function*(Pt,Rt){const vn=(yield de()).transaction(Dn,"readwrite"),si=vn.objectStore(Dn).put({compositeKey:Pt,value:Rt});return new Promise((Di,Ir)=>{si.onsuccess=qi=>{Di()},vn.onerror=qi=>{var zr;Ir(Fe.create("storage-set",{originalErrorMessage:null===(zr=qi.target.error)||void 0===zr?void 0:zr.message}))}})})).apply(this,arguments)}const di=new pt.Yd("@firebase/app-check");function at(Pt,Rt){return(0,Ve.hl)()?function Be(Pt,Rt){return function hn(Pt,Rt){return Un.apply(this,arguments)}(function Fn(Pt){return`${Pt.options.appId}-${Pt.name}`}(Pt),Rt)}(Pt,Rt).catch(Wt=>{di.warn(`Failed to write token to IndexedDB. Error: ${Wt}`)}):Promise.resolve()}function Ne(){return Vt().enabled}function ke(){return ue.apply(this,arguments)}function ue(){return(ue=(0,kt.Z)(function*(){const Pt=Vt();if(Pt.enabled&&Pt.token)return Pt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const zt={error:"UNKNOWN_ERROR"};function st(Pt){return Ve.US.encodeString(JSON.stringify(Pt),!1)}function rt(Pt){return Je.apply(this,arguments)}function Je(){return(Je=(0,kt.Z)(function*(Pt,Rt=!1){const Wt=Pt.app;St(Wt);const vn=We(Wt);let si,Pn=vn.token;if(Pn&&!X(Pn)&&(Ot(Wt,Object.assign(Object.assign({},vn),{token:void 0})),Pn=void 0),!Pn){const qi=yield vn.cachedTokenPromise;qi&&(X(qi)?Pn=qi:yield at(Wt,void 0))}if(!Rt&&Pn&&X(Pn))return{token:Pn.token};let Ir,Di=!1;if(Ne()){vn.exchangeTokenPromise||(vn.exchangeTokenPromise=It(En(Wt,yield ke()),Pt.heartbeatServiceProvider).finally(()=>{vn.exchangeTokenPromise=void 0}),Di=!0);const qi=yield vn.exchangeTokenPromise;return yield at(Wt,qi),Ot(Wt,Object.assign(Object.assign({},vn),{token:qi})),{token:qi.token}}try{vn.exchangeTokenPromise||(vn.exchangeTokenPromise=vn.provider.getToken().finally(()=>{vn.exchangeTokenPromise=void 0}),Di=!0),Pn=yield vn.exchangeTokenPromise}catch(qi){"appCheck/throttled"===qi.code?di.warn(qi.message):di.error(qi),si=qi}return Pn?si?Ir=X(Pn)?{token:Pn.token,internalError:si}:K(si):(Ir={token:Pn.token},Ot(Wt,Object.assign(Object.assign({},vn),{token:Pn})),yield at(Wt,Pn)):Ir=K(si),Di&&G(Wt,Ir),Ir})).apply(this,arguments)}function $t(Pt,Rt){const Wt=We(Pt),vn=Wt.tokenObservers.filter(Pn=>Pn.next!==Rt);0===vn.length&&Wt.tokenRefresher&&Wt.tokenRefresher.isRunning()&&Wt.tokenRefresher.stop(),Ot(Pt,Object.assign(Object.assign({},Wt),{tokenObservers:vn}))}function ge(Pt){const{app:Rt}=Pt,Wt=We(Rt);let vn=Wt.tokenRefresher;vn||(vn=function j(Pt){const{app:Rt}=Pt;return new gn((0,kt.Z)(function*(){let vn;if(vn=We(Rt).token?yield rt(Pt,!0):yield rt(Pt),vn.error)throw vn.error;if(vn.internalError)throw vn.internalError}),()=>!0,()=>{const Wt=We(Rt);if(Wt.token){let vn=Wt.token.issuedAtTimeMillis+.5*(Wt.token.expireTimeMillis-Wt.token.issuedAtTimeMillis)+3e5;return vn=Math.min(vn,Wt.token.expireTimeMillis-3e5),Math.max(0,vn-Date.now())}return 0},3e4,96e4)}(Pt),Ot(Rt,Object.assign(Object.assign({},Wt),{tokenRefresher:vn}))),!vn.isRunning()&&Wt.isTokenAutoRefreshEnabled&&vn.start()}function G(Pt,Rt){const Wt=We(Pt).tokenObservers;for(const vn of Wt)try{"EXTERNAL"===vn.type&&null!=Rt.error?vn.error(Rt.error):vn.next(Rt)}catch{}}function X(Pt){return Pt.expireTimeMillis-Date.now()>0}function K(Pt){return{token:st(zt),error:Pt}}class he{constructor(Rt,Wt){this.app=Rt,this.heartbeatServiceProvider=Wt}_delete(){const{tokenObservers:Rt}=We(this.app);for(const Wt of Rt)$t(this.app,Wt.next);return Promise.resolve()}}const fs="app-check-internal";!function Ds(){(0,yt._registerComponent)(new et.wA("app-check",Pt=>function Xe(Pt,Rt){return new he(Pt,Rt)}(Pt.getProvider("app").getImmediate(),Pt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Pt,Rt,Wt)=>{Pt.getProvider(fs).initialize()})),(0,yt._registerComponent)(new et.wA(fs,Pt=>function Et(Pt){return{getToken:Rt=>rt(Pt,Rt),addTokenListener:Rt=>function Tt(Pt,Rt,Wt,vn){const{app:Pn}=Pt,si=We(Pn),Di={next:Wt,error:vn,type:Rt};if(Ot(Pn,Object.assign(Object.assign({},si),{tokenObservers:[...si.tokenObservers,Di]})),si.token&&X(si.token)){const Ir=si.token;Promise.resolve().then(()=>{Wt({token:Ir.token}),ge(Pt)}).catch(()=>{})}si.cachedTokenPromise.then(()=>ge(Pt))}(Pt,"INTERNAL",Rt),removeTokenListener:Rt=>$t(Pt.app,Rt)}}(Pt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,yt.registerVersion)("@firebase/app-check","0.5.16")}();class Vr{constructor(){return(0,p.vb)("app-check")}}typeof window<"u"&&window},4941:(_n,vt,k)=>{"use strict";k.d(vt,{zQ:()=>oi,ww:()=>Nn,rT:()=>Vt,f7:()=>qn,L6:()=>We,_Q:()=>Ot,lh:()=>bn,Qv:()=>Lt,nw:()=>jn});var p=k(4650),N=k(8929),_=k(1086),ne=k(6498),C=k(5254),J=k(6787),we=k(7770),fe=k(7545),Se=k(4850),ae=k(341),me=k(2654),ye=k(5279),Pe=k(5283);class Ke extends N.xQ{constructor(gn=Number.POSITIVE_INFINITY,Re=Number.POSITIVE_INFINITY,Ue){super(),this.scheduler=Ue,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=gn<1?1:gn,this._windowTime=Re<1?1:Re,Re===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(gn){const Re=this._events;Re.push(gn),Re.length>this._bufferSize&&Re.shift(),super.next(gn)}nextTimeWindow(gn){this._events.push(new ut(this._getNow(),gn)),this._trimBufferThenGetEvents(),super.next(gn)}_subscribe(gn){const Re=this._infiniteTimeWindow,Ue=Re?this._events:this._trimBufferThenGetEvents(),Fe=this.scheduler,Ze=Ue.length;let St;if(this.closed)throw new ye.N;if(this.isStopped||this.hasError?St=me.w.EMPTY:(this.observers.push(gn),St=new Pe.W(this,gn)),Fe&&gn.add(gn=new we.ht(gn,Fe)),Re)for(let tn=0;tn<Ze&&!gn.closed;tn++)gn.next(Ue[tn]);else for(let tn=0;tn<Ze&&!gn.closed;tn++)gn.next(Ue[tn].value);return this.hasError?gn.error(this.thrownError):this.isStopped&&gn.complete(),St}_getNow(){return(this.scheduler||ae.c).now()}_trimBufferThenGetEvents(){const gn=this._getNow(),Re=this._bufferSize,Ue=this._windowTime,Fe=this._events,Ze=Fe.length;let St=0;for(;St<Ze&&!(gn-Fe[St].time<Ue);)St++;return Ze>Re&&(St=Math.max(St,Ze-Re)),St>0&&Fe.splice(0,St),Fe}}class ut{constructor(gn,Re){this.time=gn,this.value=Re}}function je(rn,gn,Re){let Ue;return Ue=rn&&"object"==typeof rn?rn:{bufferSize:rn,windowTime:gn,refCount:!1,scheduler:Re},Fe=>Fe.lift(function ct({bufferSize:rn=Number.POSITIVE_INFINITY,windowTime:gn=Number.POSITIVE_INFINITY,refCount:Re,scheduler:Ue}){let Fe,St,Ze=0,tn=!1,Ln=!1;return function(qt){Ze++,(!Fe||tn)&&(tn=!1,Fe=new Ke(rn,gn,Ue),St=qt.subscribe({next(Ht){Fe.next(Ht)},error(Ht){tn=!0,Fe.error(Ht)},complete(){Ln=!0,St=void 0,Fe.complete()}}));const Mt=Fe.subscribe(this);this.add(()=>{Ze--,Mt.unsubscribe(),St&&!Ln&&Re&&0===Ze&&(St.unsubscribe(),St=void 0,Fe=void 0)})}}(Ue))}var mt=k(7224);function jt(rn,gn){return gn?(0,fe.w)(()=>rn,gn):(0,fe.w)(()=>rn)}var ht=k(3334),kt=k(2198),yt=k(6351),et=k(2011),Ve=k(6895),pt=k(440),tt=k(127);const Lt=new p.OlP("angularfire2.auth.use-emulator"),We=new p.OlP("angularfire2.auth.settings"),Ot=new p.OlP("angularfire2.auth.tenant-id"),Vt=new p.OlP("angularfire2.auth.langugage-code"),bn=new p.OlP("angularfire2.auth.use-device-language"),qn=new p.OlP("angularfire.auth.persistence"),jn=(rn,gn,Re,Ue,Fe,Ze,St,tn)=>(0,et.cc)(`${rn.name}.auth`,"AngularFireAuth",rn.name,()=>{const Ln=gn.runOutsideAngular(()=>rn.auth());if(Re&&Ln.useEmulator(...Re),Ue&&(Ln.tenantId=Ue),Ln.languageCode=Fe,Ze&&Ln.useDeviceLanguage(),St)for(const[It,qt]of Object.entries(St))Ln.settings[It]=qt;return tn&&Ln.setPersistence(tn),Ln},[Re,Ue,Fe,Ze,St,tn]);let oi=(()=>{class rn{constructor(Re,Ue,Fe,Ze,St,tn,Ln,It,qt,Mt,Ht,En){const Gt=new N.xQ,$n=(0,_.of)(void 0).pipe((0,we.QV)(St.outsideAngular),(0,fe.w)(()=>Ze.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,5881)))),(0,Se.U)(()=>(0,et.on)(Re,Ze,Ue)),(0,Se.U)(Dn=>jn(Dn,Ze,tn,It,qt,Mt,Ln,Ht)),je({bufferSize:1,refCount:!1}));if((0,Ve.PM)(Fe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,_.of)(null);else{$n.pipe((0,mt.P)()).subscribe();const gt=$n.pipe((0,fe.w)(Le=>Le.getRedirectResult().then(Be=>Be,()=>null)),yt.iC,je({bufferSize:1,refCount:!1})),ee=$n.pipe((0,fe.w)(Le=>new ne.y(Be=>({unsubscribe:Ze.runOutsideAngular(()=>Le.onAuthStateChanged(Ct=>Be.next(Ct),Ct=>Be.error(Ct),()=>Be.complete()))})))),de=$n.pipe((0,fe.w)(Le=>new ne.y(Be=>({unsubscribe:Ze.runOutsideAngular(()=>Le.onIdTokenChanged(Ct=>Be.next(Ct),Ct=>Be.error(Ct),()=>Be.complete()))}))));this.authState=gt.pipe(jt(ee),(0,ht.R)(St.outsideAngular),(0,we.QV)(St.insideAngular)),this.user=gt.pipe(jt(de),(0,ht.R)(St.outsideAngular),(0,we.QV)(St.insideAngular)),this.idToken=this.user.pipe((0,fe.w)(Le=>Le?(0,C.D)(Le.getIdToken()):(0,_.of)(null))),this.idTokenResult=this.user.pipe((0,fe.w)(Le=>Le?(0,C.D)(Le.getIdTokenResult()):(0,_.of)(null))),this.credential=(0,J.T)(gt,Gt,this.authState.pipe((0,kt.h)(Le=>!Le))).pipe((0,Se.U)(Le=>Le?.user?Le:null),(0,ht.R)(St.outsideAngular),(0,we.QV)(St.insideAngular))}return(0,et.pX)(this,$n,Ze,{spy:{apply:(Dn,gt,ee)=>{(Dn.startsWith("signIn")||Dn.startsWith("createUser"))&&ee.then(de=>Gt.next(de))}}})}}return rn.\u0275fac=function(Re){return new(Re||rn)(p.LFG(et.Dh),p.LFG(et.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(yt.HU),p.LFG(Lt,8),p.LFG(We,8),p.LFG(Ot,8),p.LFG(Vt,8),p.LFG(bn,8),p.LFG(qn,8),p.LFG(pt.nm,8))},rn.\u0275prov=p.Yz7({token:rn,factory:rn.\u0275fac,providedIn:"any"}),rn})(),Nn=(()=>{class rn{constructor(){tt.Z.registerVersion("angularfire",yt.q4.full,"auth-compat")}}return rn.\u0275fac=function(Re){return new(Re||rn)},rn.\u0275mod=p.oAB({type:rn}),rn.\u0275inj=p.cJS({providers:[oi]}),rn})()},2796:(_n,vt,k)=>{"use strict";k.d(vt,{ST:()=>mn,yb:()=>wn});var p=k(4650),N=k(353),_=k(6498),ne=k(5254),C=k(1086),J=k(6351),we=k(1059),fe=k(3489);function Se(){return s=>s.lift(new ae)}class ae{call(e,t){return t.subscribe(new me(e))}}class me extends fe.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var Qe,ye=k(4850),Pe=k(2014),Ke=k(5778),ut=k(2198),je=k(2011),ct=k(6895),jt=(k(5881),k(3942)),ht=k(5861),kt=k(9681),yt=k(4859),et=k(1877),Ve=k(2090),pt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tt={},Lt=Lt||{},We=pt||self;function Ot(){}function Vt(s){var e=typeof s;return"array"==(e="object"!=e?e:s?Array.isArray(s)?"array":e:"null")||"object"==e&&"number"==typeof s.length}function bn(s){var e=typeof s;return"object"==e&&null!=s||"function"==e}var jn="closure_uid_"+(1e9*Math.random()>>>0),oi=0;function Nn(s,e,t){return s.call.apply(s.bind,arguments)}function rn(s,e,t){if(!s)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(f,a),s.apply(e,f)}}return function(){return s.apply(e,arguments)}}function gn(s,e,t){return(gn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Nn:rn).apply(null,arguments)}function Re(s,e){var t=Array.prototype.slice.call(arguments,1);return function(){var a=t.slice();return a.push.apply(a,arguments),s.apply(this,a)}}function Ue(s,e){function t(){}t.prototype=e.prototype,s.X=e.prototype,s.prototype=new t,s.prototype.constructor=s,s.Wb=function(a,f,y){for(var M=Array(arguments.length-2),U=2;U<arguments.length;U++)M[U-2]=arguments[U];return e.prototype[f].apply(a,M)}}function Fe(){this.s=this.s,this.o=this.o}Fe.prototype.s=!1,Fe.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function qn(s){Object.prototype.hasOwnProperty.call(s,jn)&&s[jn]||(s[jn]=++oi)}(this)},Fe.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const St=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if("string"==typeof s)return"string"!=typeof e||1!=e.length?-1:s.indexOf(e,0);for(let t=0;t<s.length;t++)if(t in s&&s[t]===e)return t;return-1};function tn(s){const e=s.length;if(0<e){const t=Array(e);for(let a=0;a<e;a++)t[a]=s[a];return t}return[]}function Ln(s,e){for(let t=1;t<arguments.length;t++){const a=arguments[t];if(Vt(a)){const f=s.length||0,y=a.length||0;s.length=f+y;for(let M=0;M<y;M++)s[f+M]=a[M]}else s.push(a)}}function It(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}It.prototype.h=function(){this.defaultPrevented=!0};var qt=function(){if(!We.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{We.addEventListener("test",Ot,e),We.removeEventListener("test",Ot,e)}catch{}return s}();function Mt(s){return/^[\s\xa0]*$/.test(s)}var Ht=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function En(s,e){return s<e?-1:s>e?1:0}function Gt(){var s=We.navigator;return s&&(s=s.userAgent)?s:""}function $n(s){return-1!=Gt().indexOf(s)}function Dn(s){return Dn[" "](s),s}Dn[" "]=Ot;var Un,s,ee=$n("Opera"),de=$n("Trident")||$n("MSIE"),Le=$n("Edge"),Be=Le||de,Ct=$n("Gecko")&&!(-1!=Gt().toLowerCase().indexOf("webkit")&&!$n("Edge"))&&!($n("Trident")||$n("MSIE"))&&!$n("Edge"),Zt=-1!=Gt().toLowerCase().indexOf("webkit")&&!$n("Edge");function hn(){var s=We.document;return s?s.documentMode:void 0}e:{var Cn="",pn=(s=Gt(),Ct?/rv:([^\);]+)(\)|;)/.exec(s):Le?/Edge\/([\d\.]+)/.exec(s):de?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):Zt?/WebKit\/(\S+)/.exec(s):ee?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(pn&&(Cn=pn?pn[1]:""),de){var Fn=hn();if(null!=Fn&&Fn>parseFloat(Cn)){Un=String(Fn);break e}}Un=Cn}var di={};var Jt=We.document&&de&&(hn()||parseInt(Un,10))||void 0;function be(s,e){if(It.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var t=this.type=s.type,a=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(Ct){e:{try{Dn(e.nodeName);var f=!0;break e}catch{}f=!1}f||(e=null)}}else"mouseover"==t?e=s.fromElement:"mouseout"==t&&(e=s.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:Ne[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&be.X.h.call(this)}}Ue(be,It);var Ne={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.X.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),ue=0;function Nt(s,e,t,a,f){this.listener=s,this.proxy=null,this.src=e,this.type=t,this.capture=!!a,this.ha=f,this.key=++ue,this.ba=this.ea=!1}function zt(s){s.ba=!0,s.listener=null,s.proxy=null,s.src=null,s.ha=null}function st(s,e,t){for(const a in s)e.call(t,s[a],a,s)}function rt(s){const e={};for(const t in s)e[t]=s[t];return e}const Je="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tt(s,e){let t,a;for(let f=1;f<arguments.length;f++){for(t in a=arguments[f],a)s[t]=a[t];for(let y=0;y<Je.length;y++)t=Je[y],Object.prototype.hasOwnProperty.call(a,t)&&(s[t]=a[t])}}function $t(s){this.src=s,this.g={},this.h=0}function ge(s,e){var t=e.type;if(t in s.g){var y,a=s.g[t],f=St(a,e);(y=0<=f)&&Array.prototype.splice.call(a,f,1),y&&(zt(e),0==s.g[t].length&&(delete s.g[t],s.h--))}}function j(s,e,t,a){for(var f=0;f<s.length;++f){var y=s[f];if(!y.ba&&y.listener==e&&y.capture==!!t&&y.ha==a)return f}return-1}$t.prototype.add=function(s,e,t,a,f){var y=s.toString();(s=this.g[y])||(s=this.g[y]=[],this.h++);var M=j(s,e,a,f);return-1<M?(e=s[M],t||(e.ea=!1)):((e=new Nt(e,this.src,y,!!a,f)).ea=t,s.push(e)),e};var G="closure_lm_"+(1e6*Math.random()|0),X={};function K(s,e,t,a,f){if(a&&a.once)return Et(s,e,t,a,f);if(Array.isArray(e)){for(var y=0;y<e.length;y++)K(s,e[y],t,a,f);return null}return t=De(t),s&&s[ke]?s.N(e,t,bn(a)?!!a.capture:!!a,f):he(s,e,t,!1,a,f)}function he(s,e,t,a,f,y){if(!e)throw Error("Invalid event type");var M=bn(f)?!!f.capture:!!f,U=He(s);if(U||(s[G]=U=new $t(s)),(t=U.add(e,t,a,M,y)).proxy)return t;if(a=function Xe(){const e=$e;return function s(t){return e.call(s.src,s.listener,t)}}(),t.proxy=a,a.src=s,a.listener=t,s.addEventListener)qt||(f=M),void 0===f&&(f=!1),s.addEventListener(e.toString(),a,f);else if(s.attachEvent)s.attachEvent(ze(e.toString()),a);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(a)}return t}function Et(s,e,t,a,f){if(Array.isArray(e)){for(var y=0;y<e.length;y++)Et(s,e[y],t,a,f);return null}return t=De(t),s&&s[ke]?s.O(e,t,bn(a)?!!a.capture:!!a,f):he(s,e,t,!0,a,f)}function dn(s,e,t,a,f){if(Array.isArray(e))for(var y=0;y<e.length;y++)dn(s,e[y],t,a,f);else a=bn(a)?!!a.capture:!!a,t=De(t),s&&s[ke]?(s=s.i,(e=String(e).toString())in s.g&&-1<(t=j(y=s.g[e],t,a,f))&&(zt(y[t]),Array.prototype.splice.call(y,t,1),0==y.length&&(delete s.g[e],s.h--))):s&&(s=He(s))&&(e=s.g[e.toString()],s=-1,e&&(s=j(e,t,a,f)),(t=-1<s?e[s]:null)&&fn(t))}function fn(s){if("number"!=typeof s&&s&&!s.ba){var e=s.src;if(e&&e[ke])ge(e.i,s);else{var t=s.type,a=s.proxy;e.removeEventListener?e.removeEventListener(t,a,s.capture):e.detachEvent?e.detachEvent(ze(t),a):e.addListener&&e.removeListener&&e.removeListener(a),(t=He(e))?(ge(t,s),0==t.h&&(t.src=null,e[G]=null)):zt(s)}}}function ze(s){return s in X?X[s]:X[s]="on"+s}function $e(s,e){if(s.ba)s=!0;else{e=new be(e,this);var t=s.listener,a=s.ha||s.src;s.ea&&fn(s),s=t.call(a,e)}return s}function He(s){return(s=s[G])instanceof $t?s:null}var Ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function De(s){return"function"==typeof s?s:(s[Ye]||(s[Ye]=function(e){return s.handleEvent(e)}),s[Ye])}function Ce(){Fe.call(this),this.i=new $t(this),this.P=this,this.I=null}function ot(s,e){var t,a=s.I;if(a)for(t=[];a;a=a.I)t.push(a);if(s=s.P,a=e.type||e,"string"==typeof e)e=new It(e,s);else if(e instanceof It)e.target=e.target||s;else{var f=e;Tt(e=new It(a,s),f)}if(f=!0,t)for(var y=t.length-1;0<=y;y--){var M=e.g=t[y];f=Bt(M,a,!0,e)&&f}if(f=Bt(M=e.g=s,a,!0,e)&&f,f=Bt(M,a,!1,e)&&f,t)for(y=0;y<t.length;y++)f=Bt(M=e.g=t[y],a,!1,e)&&f}function Bt(s,e,t,a){if(!(e=s.i.g[String(e)]))return!0;e=e.concat();for(var f=!0,y=0;y<e.length;++y){var M=e[y];if(M&&!M.ba&&M.capture==t){var U=M.listener,oe=M.ha||M.src;M.ea&&ge(s.i,M),f=!1!==U.call(oe,a)&&f}}return f&&!a.defaultPrevented}Ue(Ce,Fe),Ce.prototype[ke]=!0,Ce.prototype.removeEventListener=function(s,e,t,a){dn(this,s,e,t,a)},Ce.prototype.M=function(){if(Ce.X.M.call(this),this.i){var e,s=this.i;for(e in s.g){for(var t=s.g[e],a=0;a<t.length;a++)zt(t[a]);delete s.g[e],s.h--}}this.I=null},Ce.prototype.N=function(s,e,t,a){return this.i.add(String(s),e,!1,t,a)},Ce.prototype.O=function(s,e,t,a){return this.i.add(String(s),e,!0,t,a)};var sn=We.JSON.stringify;function Kn(){var s=Mr;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}var zi,fi=new class{constructor(s,e){this.i=s,this.j=e,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}(()=>new Bi,s=>s.reset());class Bi{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function dr(s){We.setTimeout(()=>{throw s},0)}function sr(s,e){zi||function Ji(){var s=We.Promise.resolve(void 0);zi=function(){s.then(br)}}(),hr||(zi(),hr=!0),Mr.add(s,e)}var hr=!1,Mr=new class On{constructor(){this.h=this.g=null}add(e,t){const a=fi.get();a.set(e,t),this.h?this.h.next=a:this.g=a,this.h=a}};function br(){for(var s;s=Kn();){try{s.h.call(s.g)}catch(t){dr(t)}var e=fi;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}hr=!1}function ns(s,e){Ce.call(this),this.h=s||1,this.g=e||We,this.j=gn(this.lb,this),this.l=Date.now()}function Vi(s){s.ca=!1,s.R&&(s.g.clearTimeout(s.R),s.R=null)}function to(s,e,t){if("function"==typeof s)t&&(s=gn(s,t));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=gn(s.handleEvent,s)}return 2147483647<Number(e)?-1:We.setTimeout(s,e||0)}function fs(s){s.g=to(()=>{s.g=null,s.i&&(s.i=!1,fs(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}Ue(ns,Ce),(Qe=ns.prototype).ca=!1,Qe.R=null,Qe.lb=function(){if(this.ca){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-s):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ot(this,"tick"),this.ca&&(Vi(this),this.start()))}},Qe.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qe.M=function(){ns.X.M.call(this),Vi(this),delete this.g};class Ds extends Fe{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:fs(this)}M(){super.M(),this.g&&(We.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Br(s){Fe.call(this),this.h=s,this.g={}}Ue(Br,Fe);var qr=[];function Vr(s,e,t,a){Array.isArray(t)||(t&&(qr[0]=t.toString()),t=qr);for(var f=0;f<t.length;f++){var y=K(e,t[f],a||s.handleEvent,!1,s.h||s);if(!y)break;s.g[y.key]=y}}function Ts(s){st(s.g,function(e,t){this.g.hasOwnProperty(t)&&fn(e)},s),s.g={}}function or(){this.g=!0}function Dr(s,e,t,a){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+function as(s,e){if(!s.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(s=0;s<t.length;s++)if(Array.isArray(t[s])){var a=t[s];if(!(2>a.length)){var f=a[1];if(Array.isArray(f)&&!(1>f.length)){var y=f[0];if("noop"!=y&&"stop"!=y&&"close"!=y)for(var M=1;M<f.length;M++)f[M]=""}}}return sn(t)}catch{return e}}(s,t)+(a?" "+a:"")})}Br.prototype.M=function(){Br.X.M.call(this),Ts(this)},Br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},or.prototype.Aa=function(){this.g=!1},or.prototype.info=function(){};var gs={},Yi=null;function yo(){return Yi=Yi||new Ce}function La(s){It.call(this,gs.Pa,s)}function no(s){const e=yo();ot(e,new La(e))}function Fa(s,e){It.call(this,gs.STAT_EVENT,s),this.stat=e}function _s(s){const e=yo();ot(e,new Fa(e,s))}function Vs(s,e){It.call(this,gs.Qa,s),this.size=e}function Pt(s,e){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return We.setTimeout(function(){s()},e)}gs.Pa="serverreachability",Ue(La,It),gs.STAT_EVENT="statevent",Ue(Fa,It),gs.Qa="timingevent",Ue(Vs,It);var Rt={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Wt={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function vn(){}function si(){}vn.prototype.h=null;var zr,Di={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ir(){It.call(this,"d")}function qi(){It.call(this,"c")}function ls(){}function Ss(s,e,t,a){this.l=s,this.j=e,this.m=t,this.U=a||1,this.S=new Br(this),this.O=Us,this.T=new ns(s=Be?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Ro}function Ro(){this.i=null,this.g="",this.h=!1}Ue(Ir,It),Ue(qi,It),Ue(ls,vn),ls.prototype.g=function(){return new XMLHttpRequest},ls.prototype.i=function(){return{}},zr=new ls;var Us=45e3,Yo={},Ks={};function ra(s,e,t){s.K=1,s.v=Ur(js(e)),s.s=t,s.P=!0,Oo(s,null)}function Oo(s,e){s.F=Date.now(),io(s),s.A=js(s.v);var t=s.A,a=s.U;Array.isArray(a)||(a=[String(a)]),Dc(t.i,"t",a),s.C=0,t=s.l.H,s.h=new Ro,s.g=Fo(s.l,t?e:null,!s.s),0<s.N&&(s.L=new Ds(gn(s.La,s,s.g),s.N)),Vr(s.S,s.g,"readystatechange",s.ib),e=s.H?rt(s.H):{},s.s?(s.u||(s.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.da(s.A,s.u,s.s,e)):(s.u="GET",s.g.da(s.A,s.u,null,e)),no(),function Ao(s,e,t,a,f,y){s.info(function(){if(s.g)if(y)for(var M="",U=y.split("&"),oe=0;oe<U.length;oe++){var _e=U[oe].split("=");if(1<_e.length){var Ge=_e[0];_e=_e[1];var bt=Ge.split("_");M=2<=bt.length&&"type"==bt[1]?M+(Ge+"=")+_e+"&":M+(Ge+"=redacted&")}}else M=null;else M=y;return"XMLHTTP REQ ("+a+") [attempt "+f+"]: "+e+"\n"+t+"\n"+M})}(s.j,s.u,s.A,s.m,s.U,s.s)}function Po(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Da}function Ca(s,e,t){let f,a=!0;for(;!s.I&&s.C<t.length;){if(f=sa(s,t),f==Ks){4==e&&(s.o=4,_s(14),a=!1),Dr(s.j,s.m,null,"[Incomplete Response]");break}if(f==Yo){s.o=4,_s(15),Dr(s.j,s.m,t,"[Invalid Chunk]"),a=!1;break}Dr(s.j,s.m,f,null),Hs(s,f)}Po(s)&&f!=Ks&&f!=Yo&&(s.h.g="",s.C=0),4!=e||0!=t.length||s.h.h||(s.o=1,_s(16),a=!1),s.i=s.i&&a,a?0<t.length&&!s.$&&(s.$=!0,(e=s.l).g==s&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Hi(e),e.K=!0,_s(11))):(Dr(s.j,s.m,t,"[Invalid Chunked Response]"),xs(s),Is(s))}function sa(s,e){var t=s.C,a=e.indexOf("\n",t);return-1==a?Ks:(t=Number(e.substring(t,a)),isNaN(t)?Yo:(a+=1)+t>e.length?Ks:(e=e.substr(a,t),s.C=a+t,e))}function io(s){s.V=Date.now()+s.O,fr(s,s.O)}function fr(s,e){if(null!=s.B)throw Error("WatchDog timer not null");s.B=Pt(gn(s.gb,s),e)}function Ms(s){s.B&&(We.clearTimeout(s.B),s.B=null)}function Is(s){0==s.l.G||s.I||qe(s.l,s)}function xs(s){Ms(s);var e=s.L;e&&"function"==typeof e.na&&e.na(),s.L=null,Vi(s.T),Ts(s.S),s.g&&(e=s.g,s.g=null,e.abort(),e.na())}function Hs(s,e){try{var t=s.l;if(0!=t.G&&(t.g==s||Ii(t.h,s)))if(!s.J&&Ii(t.h,s)&&3==t.G){try{var a=t.Fa.g.parse(e)}catch{a=null}if(Array.isArray(a)&&3==a.length){var f=a;if(0==f[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<s.F))break e;_r(t),ve(t)}bi(t),_s(18)}}else t.Ba=f[1],0<t.Ba-t.T&&37500>f[2]&&t.L&&0==t.A&&!t.v&&(t.v=Pt(gn(t.cb,t),6e3));if(1>=Sn(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Rs(t,11)}else if((s.J||t.g==s)&&_r(t),!Mt(e))for(f=t.Fa.g.parse(e),e=0;e<f.length;e++){let _e=f[e];if(t.T=_e[0],_e=_e[1],2==t.G)if("c"==_e[0]){t.I=_e[1],t.ka=_e[2];const Ge=_e[3];null!=Ge&&(t.ma=Ge,t.j.info("VER="+t.ma));const bt=_e[4];null!=bt&&(t.Ca=bt,t.j.info("SVER="+t.Ca));const Kt=_e[5];null!=Kt&&"number"==typeof Kt&&0<Kt&&(t.J=a=1.5*Kt,t.j.info("backChannelRequestTimeoutMs_="+a)),a=t;const yn=s.g;if(yn){const Tn=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tn){var y=a.h;y.g||-1==Tn.indexOf("spdy")&&-1==Tn.indexOf("quic")&&-1==Tn.indexOf("h2")||(y.j=y.l,y.g=new Set,y.h&&(wo(y,y.h),y.h=null))}if(a.D){const ri=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;ri&&(a.za=ri,Ai(a.F,a.D,ri))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-s.F,t.j.info("Handshake RTT: "+t.P+"ms"));var M=s;if((a=t).sa=Gs(a,a.H?a.ka:null,a.V),M.J){Ea(a.h,M);var U=M,oe=a.J;oe&&U.setTimeout(oe),U.B&&(Ms(U),io(U)),a.g=M}else Ni(a);0<t.i.length&&Me(t)}else"stop"!=_e[0]&&"close"!=_e[0]||Rs(t,7);else 3==t.G&&("stop"==_e[0]||"close"==_e[0]?"stop"==_e[0]?Rs(t,7):W(t):"noop"!=_e[0]&&t.l&&t.l.wa(_e),t.A=0)}no()}catch{}}function ro(s,e){if(s.forEach&&"function"==typeof s.forEach)s.forEach(e,void 0);else if(Vt(s)||"string"==typeof s)Array.prototype.forEach.call(s,e,void 0);else for(var t=function Wr(s){if(s.oa&&"function"==typeof s.oa)return s.oa();if(!s.W||"function"!=typeof s.W){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(Vt(s)||"string"==typeof s){var e=[];s=s.length;for(var t=0;t<s;t++)e.push(t);return e}e=[],t=0;for(const a in s)e[t++]=a;return e}}}(s),a=function is(s){if(s.W&&"function"==typeof s.W)return s.W();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if("string"==typeof s)return s.split("");if(Vt(s)){for(var e=[],t=s.length,a=0;a<t;a++)e.push(s[a]);return e}for(a in e=[],t=0,s)e[t++]=s[a];return e}(s),f=a.length,y=0;y<f;y++)e.call(void 0,a[y],t&&t[y],s)}(Qe=Ss.prototype).setTimeout=function(s){this.O=s},Qe.ib=function(s){s=s.target;const e=this.L;e&&3==Yr(s)?e.l():this.La(s)},Qe.La=function(s){try{if(s==this.g)e:{const Ge=Yr(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>Ge)&&(3!=Ge||Be||this.g&&(this.h.h||this.g.fa()||ml(this.g)))){this.I||4!=Ge||7==e||no(),Ms(this);var t=this.g.aa();this.Y=t;t:if(Po(this)){var a=ml(this.g);s="";var f=a.length,y=4==Yr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){xs(this),Is(this);var M="";break t}this.h.i=new We.TextDecoder}for(e=0;e<f;e++)this.h.h=!0,s+=this.h.i.decode(a[e],{stream:y&&e==f-1});a.splice(0,f),this.h.g+=s,this.C=0,M=this.h.g}else M=this.g.fa();if(this.i=200==t,function Or(s,e,t,a,f,y,M){s.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+f+"]: "+e+"\n"+t+"\n"+y+" "+M})}(this.j,this.u,this.A,this.m,this.U,Ge,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var U,oe=this.g;if((U=oe.g?oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mt(U)){var _e=U;break t}}_e=null}if(!(t=_e)){this.i=!1,this.o=3,_s(12),xs(this),Is(this);break e}Dr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Hs(this,t)}this.P?(Ca(this,Ge,M),Be&&this.i&&3==Ge&&(Vr(this.S,this.T,"tick",this.hb),this.T.start())):(Dr(this.j,this.m,M,null),Hs(this,M)),4==Ge&&xs(this),this.i&&!this.I&&(4==Ge?qe(this.l,this):(this.i=!1,io(this)))}else 400==t&&0<M.indexOf("Unknown SID")?(this.o=3,_s(12)):(this.o=0,_s(13)),xs(this),Is(this)}}}catch{}},Qe.hb=function(){if(this.g){var s=Yr(this.g),e=this.g.fa();this.C<e.length&&(Ms(this),Ca(this,s,e),this.i&&4!=s&&io(this))}},Qe.cancel=function(){this.I=!0,xs(this)},Qe.gb=function(){this.B=null;const s=Date.now();0<=s-this.V?(function ko(s,e){s.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(no(),_s(17)),xs(this),this.o=2,Is(this)):fr(this,this.V-s)};var wa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function As(s,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,s instanceof As){this.h=void 0!==e?e:s.h,pr(this,s.j),this.s=s.s,this.g=s.g,Qr(this,s.m),this.l=s.l,e=s.i;var t=new aa;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),No(this,t),this.o=s.o}else s&&(t=String(s).match(wa))?(this.h=!!e,pr(this,t[1]||"",!0),this.s=so(t[2]||""),this.g=so(t[3]||"",!0),Qr(this,t[4]),this.l=so(t[5]||"",!0),No(this,t[6]||"",!0),this.o=so(t[7]||"")):(this.h=!!e,this.i=new aa(null,this.h))}function js(s){return new As(s)}function pr(s,e,t){s.j=t?so(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function Qr(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function No(s,e,t){e instanceof aa?(s.i=e,function pl(s,e){e&&!s.j&&(mr(s),s.i=null,s.g.forEach(function(t,a){var f=a.toLowerCase();a!=f&&(mi(this,a),Dc(this,f,t))},s)),s.j=e}(s.i,s.h)):(t||(e=vs(e,Ko)),s.i=new aa(e,s.h))}function Ai(s,e,t){s.i.set(e,t)}function Ur(s){return Ai(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function so(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function vs(s,e,t){return"string"==typeof s?(s=encodeURI(s).replace(e,oa),t&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function oa(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}As.prototype.toString=function(){var s=[],e=this.j;e&&s.push(vs(e,Ki,!0),":");var t=this.g;return(t||"file"==e)&&(s.push("//"),(e=this.s)&&s.push(vs(e,Ki,!0),"@"),s.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&s.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&s.push("/"),s.push(vs(t,"/"==t.charAt(0)?ks:Co,!0))),(t=this.i.toString())&&s.push("?",t),(t=this.o)&&s.push("#",vs(t,Zs)),s.join("")};var Ki=/[#\/\?@]/g,Co=/[#\?:]/g,ks=/[#\?]/g,Ko=/[#\?@]/g,Zs=/#/g;function aa(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function mr(s){s.g||(s.g=new Map,s.h=0,s.i&&function bo(s,e){if(s){s=s.split("&");for(var t=0;t<s.length;t++){var a=s[t].indexOf("="),f=null;if(0<=a){var y=s[t].substring(0,a);f=s[t].substring(a+1)}else y=s[t];e(y,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}}(s.i,function(e,t){s.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function mi(s,e){mr(s),e=ps(s,e),s.g.has(e)&&(s.i=null,s.h-=s.g.get(e).length,s.g.delete(e))}function xr(s,e){return mr(s),e=ps(s,e),s.g.has(e)}function Dc(s,e,t){mi(s,e),0<t.length&&(s.i=null,s.g.set(ps(s,e),tn(t)),s.h+=t.length)}function ps(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}function $s(s){this.l=s||Xr,s=We.PerformanceNavigationTiming?0<(s=We.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(We.g&&We.g.Ga&&We.g.Ga()&&We.g.Ga().$b),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Qe=aa.prototype).add=function(s,e){mr(this),this.i=null,s=ps(this,s);var t=this.g.get(s);return t||this.g.set(s,t=[]),t.push(e),this.h+=1,this},Qe.forEach=function(s,e){mr(this),this.g.forEach(function(t,a){t.forEach(function(f){s.call(e,f,a,this)},this)},this)},Qe.oa=function(){mr(this);const s=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let a=0;a<e.length;a++){const f=s[a];for(let y=0;y<f.length;y++)t.push(e[a])}return t},Qe.W=function(s){mr(this);let e=[];if("string"==typeof s)xr(this,s)&&(e=e.concat(this.g.get(ps(this,s))));else{s=Array.from(this.g.values());for(let t=0;t<s.length;t++)e=e.concat(s[t])}return e},Qe.set=function(s,e){return mr(this),this.i=null,xr(this,s=ps(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this},Qe.get=function(s,e){return s&&0<(s=this.W(s)).length?String(s[0]):e},Qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const s=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var a=e[t];const y=encodeURIComponent(String(a)),M=this.W(a);for(a=0;a<M.length;a++){var f=y;""!==M[a]&&(f+="="+encodeURIComponent(String(M[a]))),s.push(f)}}return this.i=s.join("&")};var Xr=10;function Qa(s){return!!s.h||!!s.g&&s.g.size>=s.j}function Sn(s){return s.h?1:s.g?s.g.size:0}function Ii(s,e){return s.h?s.h==e:!!s.g&&s.g.has(e)}function wo(s,e){s.g?s.g.add(e):s.h=e}function Ea(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}function Hr(s){if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){let e=s.i;for(const t of s.g.values())e=e.concat(t.D);return e}return tn(s.i)}function se(){}function Q(){this.g=new se}function $(s,e,t){const a=t||"";try{ro(s,function(f,y){let M=f;bn(f)&&(M=sn(f)),e.push(a+y+"="+encodeURIComponent(M))})}catch(f){throw e.push(a+"type="+encodeURIComponent("_badmap")),f}}function nn(s,e,t,a,f){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,f(a)}catch{}}function Jn(s){this.l=s.ac||null,this.j=s.jb||!1}function Cr(s,e){Ce.call(this),this.D=s,this.u=e,this.m=void 0,this.readyState=oo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$s.prototype.cancel=function(){if(this.i=Hr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}},se.prototype.stringify=function(s){return We.JSON.stringify(s,void 0)},se.prototype.parse=function(s){return We.JSON.parse(s,void 0)},Ue(Jn,vn),Jn.prototype.g=function(){return new Cr(this.l,this.j)},Jn.prototype.i=function(s){return function(){return s}}({}),Ue(Cr,Ce);var oo=0;function Lr(s){s.j.read().then(s.Ta.bind(s)).catch(s.ga.bind(s))}function gr(s){s.readyState=4,s.l=null,s.j=null,s.A=null,rs(s)}function rs(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(Qe=Cr.prototype).open=function(s,e){if(this.readyState!=oo)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,rs(this)},Qe.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.D||We).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gr(this)),this.readyState=oo},Qe.Wa=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,rs(this)),this.g&&(this.readyState=3,rs(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof We.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Lr(this)}else s.text().then(this.Va.bind(this),this.ga.bind(this))},Qe.Ta=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?gr(this):rs(this),3==this.readyState&&Lr(this)}},Qe.Va=function(s){this.g&&(this.response=this.responseText=s,gr(this))},Qe.Ua=function(s){this.g&&(this.response=s,gr(this))},Qe.ga=function(){this.g&&gr(this)},Qe.setRequestHeader=function(s,e){this.v.append(s,e)},Qe.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},Qe.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var t=e.next();!t.done;)s.push((t=t.value)[0]+": "+t[1]),t=e.next();return s.join("\r\n")},Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var ca=We.JSON.parse;function er(s){Ce.call(this),this.headers=new Map,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ao,this.K=this.L=!1}Ue(er,Ce);var ao="",Tc=/^https?$/i,Ba=["POST","PUT"];function Va(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,Zo(s),Lo(s)}function Zo(s){s.D||(s.D=!0,ot(s,"complete"),ot(s,"error"))}function Ua(s){if(s.h&&typeof Lt<"u"&&(!s.C[1]||4!=Yr(s)||2!=s.aa()))if(s.v&&4==Yr(s))to(s.Ha,0,s);else if(ot(s,"readystatechange"),4==Yr(s)){s.h=!1;try{const U=s.aa();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var a;if(a=0===U){var f=String(s.H).match(wa)[1]||null;if(!f&&We.self&&We.self.location){var y=We.self.location.protocol;f=y.substr(0,y.length-1)}a=!Tc.test(f?f.toLowerCase():"")}t=a}if(t)ot(s,"complete"),ot(s,"success");else{s.m=6;try{var M=2<Yr(s)?s.g.statusText:""}catch{M=""}s.j=M+" ["+s.aa()+"]",Zo(s)}}finally{Lo(s)}}}function Lo(s,e){if(s.g){Xa(s);const t=s.g,a=s.C[0]?Ot:null;s.g=null,s.C=null,e||ot(s,"ready");try{t.onreadystatechange=a}catch{}}}function Xa(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(We.clearTimeout(s.A),s.A=null)}function Yr(s){return s.g?s.g.readyState:0}function ml(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case ao:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function ua(s){let e="";return st(s,function(t,a){e+=a,e+=":",e+=t,e+="\r\n"}),e}function Ll(s,e,t){e:{for(a in t){var a=!1;break e}a=!0}a||(t=ua(t),"string"==typeof s?null!=t&&encodeURIComponent(String(t)):Ai(s,e,t))}function lo(s,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[s]||e}function Ja(s){this.Ca=0,this.i=[],this.j=new or,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=lo("failFast",!1,s),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=lo("baseRetryDelayMs",5e3,s),this.bb=lo("retryDelaySeedMs",1e4,s),this.$a=lo("forwardChannelMaxRetries",2,s),this.ta=lo("forwardChannelRequestTimeoutMs",2e4,s),this.ra=s&&s.xmlHttpFactory||void 0,this.Da=s&&s.Zb||!1,this.J=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.I="",this.h=new $s(s&&s.concurrentRequestLimit),this.Fa=new Q,this.O=s&&s.fastHandshake||!1,this.N=s&&s.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=s&&s.Xb||!1,s&&s.Aa&&this.j.Aa(),s&&s.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&s&&s.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function W(s){if(q(s),3==s.G){var e=s.U++,t=js(s.F);Ai(t,"SID",s.I),Ai(t,"RID",e),Ai(t,"TYPE","terminate"),un(s,t),(e=new Ss(s,s.j,e,void 0)).K=2,e.v=Ur(js(t)),t=!1,We.navigator&&We.navigator.sendBeacon&&(t=We.navigator.sendBeacon(e.v.toString(),"")),!t&&We.Image&&((new Image).src=e.v,t=!0),t||(e.g=Fo(e.l,null),e.g.da(e.v)),e.F=Date.now(),io(e)}ys(s)}function ve(s){s.g&&(Hi(s),s.g.cancel(),s.g=null)}function q(s){ve(s),s.u&&(We.clearTimeout(s.u),s.u=null),_r(s),s.h.cancel(),s.m&&("number"==typeof s.m&&We.clearTimeout(s.m),s.m=null)}function Me(s){Qa(s.h)||s.m||(s.m=!0,sr(s.Ja,s),s.C=0)}function Qt(s,e){var t;t=e?e.m:s.U++;const a=js(s.F);Ai(a,"SID",s.I),Ai(a,"RID",t),Ai(a,"AID",s.T),un(s,a),s.o&&s.s&&Ll(a,s.o,s.s),t=new Ss(s,s.j,t,s.C+1),null===s.o&&(t.H=s.s),e&&(s.i=e.D.concat(s.i)),e=Qn(s,t,1e3),t.setTimeout(Math.round(.5*s.ta)+Math.round(.5*s.ta*Math.random())),wo(s.h,t),ra(t,a,e)}function un(s,e){s.ia&&st(s.ia,function(t,a){Ai(e,a,t)}),s.l&&ro({},function(t,a){Ai(e,a,t)})}function Qn(s,e,t){t=Math.min(s.i.length,t);var a=s.l?gn(s.l.Ra,s.l,s):null;e:{var f=s.i;let y=-1;for(;;){const M=["count="+t];-1==y?0<t?(y=f[0].h,M.push("ofs="+y)):y=0:M.push("ofs="+y);let U=!0;for(let oe=0;oe<t;oe++){let _e=f[oe].h;const Ge=f[oe].g;if(_e-=y,0>_e)y=Math.max(0,f[oe].h-100),U=!1;else try{$(Ge,M,"req"+_e+"_")}catch{a&&a(Ge)}}if(U){a=M.join("&");break e}}}return s=s.i.splice(0,t),e.D=s,a}function Ni(s){s.g||s.u||(s.Z=1,sr(s.Ia,s),s.A=0)}function bi(s){return!(s.g||s.u||3<=s.A||(s.Z++,s.u=Pt(gn(s.Ia,s),ur(s,s.A)),s.A++,0))}function Hi(s){null!=s.B&&(We.clearTimeout(s.B),s.B=null)}function Li(s){s.g=new Ss(s,s.j,"rpc",s.Z),null===s.o&&(s.g.H=s.s),s.g.N=0;var e=js(s.sa);Ai(e,"RID","rpc"),Ai(e,"SID",s.I),Ai(e,"CI",s.L?"0":"1"),Ai(e,"AID",s.T),Ai(e,"TYPE","xmlhttp"),un(s,e),s.o&&s.s&&Ll(e,s.o,s.s),s.J&&s.g.setTimeout(s.J);var t=s.g;s=s.ka,t.K=1,t.v=Ur(js(e)),t.s=null,t.P=!0,Oo(t,s)}function _r(s){null!=s.v&&(We.clearTimeout(s.v),s.v=null)}function qe(s,e){var t=null;if(s.g==e){_r(s),Hi(s),s.g=null;var a=2}else{if(!Ii(s.h,e))return;t=e.D,Ea(s.h,e),a=1}if(0!=s.G)if(s.pa=e.Y,e.i)if(1==a){t=e.s?e.s.length:0,e=Date.now()-e.F;var f=s.C;ot(a=yo(),new Vs(a,t)),Me(s)}else Ni(s);else if(3==(f=e.o)||0==f&&0<s.pa||!(1==a&&function dt(s,e){return!(Sn(s.h)>=s.h.j-(s.m?1:0)||(s.m?(s.i=e.D.concat(s.i),0):1==s.G||2==s.G||s.C>=(s.Za?0:s.$a)||(s.m=Pt(gn(s.Ja,s,e),ur(s,s.C)),s.C++,0)))}(s,e)||2==a&&bi(s)))switch(t&&0<t.length&&(e=s.h,e.i=e.i.concat(t)),f){case 1:Rs(s,5);break;case 4:Rs(s,10);break;case 3:Rs(s,6);break;default:Rs(s,2)}}function ur(s,e){let t=s.Xa+Math.floor(Math.random()*s.bb);return s.l||(t*=2),t*e}function Rs(s,e){if(s.j.info("Error code "+e),2==e){var t=null;s.l&&(t=null);var a=gn(s.kb,s);t||(t=new As("//www.google.com/images/cleardot.gif"),We.location&&"http"==We.location.protocol||pr(t,"https"),Ur(t)),function xe(s,e){const t=new or;if(We.Image){const a=new Image;a.onload=Re(nn,t,a,"TestLoadImage: loaded",!0,e),a.onerror=Re(nn,t,a,"TestLoadImage: error",!1,e),a.onabort=Re(nn,t,a,"TestLoadImage: abort",!1,e),a.ontimeout=Re(nn,t,a,"TestLoadImage: timeout",!1,e),We.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=s}else e(!1)}(t.toString(),a)}else _s(2);s.G=0,s.l&&s.l.va(e),ys(s),q(s)}function ys(s){if(s.G=0,s.la=[],s.l){const e=Hr(s.h);(0!=e.length||0!=s.i.length)&&(Ln(s.la,e),Ln(s.la,s.i),s.h.i.length=0,tn(s.i),s.i.length=0),s.l.ua()}}function Gs(s,e,t){var a=t instanceof As?js(t):new As(t,void 0);if(""!=a.g)e&&(a.g=e+"."+a.g),Qr(a,a.m);else{var f=We.location;a=f.protocol,e=e?e+"."+f.hostname:f.hostname,f=+f.port;var y=new As(null,void 0);a&&pr(y,a),e&&(y.g=e),f&&Qr(y,f),t&&(y.l=t),a=y}return e=s.za,(t=s.D)&&e&&Ai(a,t,e),Ai(a,"VER",s.ma),un(s,a),a}function Fo(s,e,t){if(e&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new er(t&&s.Da&&!s.ra?new Jn({jb:!0}):s.ra)).Ka(s.H),e}function Eo(){}function tr(){if(de&&!(10<=Number(Jt)))throw Error("Environmental error: no available transport.")}function Os(s,e){Ce.call(this),this.g=new Ja(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(s?s["X-WebChannel-Client-Profile"]=e.ya:s={"X-WebChannel-Client-Profile":e.ya}),this.g.S=s,(s=e&&e.Yb)&&!Mt(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Mt(e)&&(this.g.D=e,null!==(s=this.h)&&e in s&&e in(s=this.h)&&delete s[e]),this.j=new da(this)}function gl(s){Ir.call(this);var e=s.__sm__;if(e){e:{for(const t in e){s=t;break e}s=void 0}(this.i=s)&&(s=this.i,e=null!==e&&s in e?e[s]:void 0),this.data=e}else this.data=s}function ss(){qi.call(this),this.status=1}function da(s){this.g=s}(Qe=er.prototype).Ka=function(s){this.L=s},Qe.da=function(s,e,t,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);e=e?e.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():zr.g(),this.C=function Pn(s){return s.h||(s.h=s.i())}(this.u?this.u:zr),this.g.onreadystatechange=gn(this.Ha,this);try{this.F=!0,this.g.open(e,String(s),!0),this.F=!1}catch(y){return void Va(this,y)}if(s=t||"",t=new Map(this.headers),a)if(Object.getPrototypeOf(a)===Object.prototype)for(var f in a)t.set(f,a[f]);else{if("function"!=typeof a.keys||"function"!=typeof a.get)throw Error("Unknown input type for opt_headers: "+String(a));for(const y of a.keys())t.set(y,a.get(y))}a=Array.from(t.keys()).find(y=>"content-type"==y.toLowerCase()),f=We.FormData&&s instanceof We.FormData,!(0<=St(Ba,e))||a||f||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[y,M]of t)this.g.setRequestHeader(y,M);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Xa(this),0<this.B&&((this.K=function Ql(s){return de&&function hi(){return function gt(s){var e=di;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=s(9)}(function(){let s=0;const e=Ht(String(Un)).split("."),t=Ht("9").split("."),a=Math.max(e.length,t.length);for(let M=0;0==s&&M<a;M++){var f=e[M]||"",y=t[M]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],y=/(\d*)(\D*)(.*)/.exec(y)||["","","",""],0==f[0].length&&0==y[0].length)break;s=En(0==f[1].length?0:parseInt(f[1],10),0==y[1].length?0:parseInt(y[1],10))||En(0==f[2].length,0==y[2].length)||En(f[2],y[2]),f=f[3],y=y[3]}while(0==s)}return 0<=s})}()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gn(this.qa,this)):this.A=to(this.qa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(y){Va(this,y)}},Qe.qa=function(){typeof Lt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ot(this,"timeout"),this.abort(8))},Qe.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,ot(this,"complete"),ot(this,"abort"),Lo(this))},Qe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lo(this,!0)),er.X.M.call(this)},Qe.Ha=function(){this.s||(this.F||this.v||this.l?Ua(this):this.fb())},Qe.fb=function(){Ua(this)},Qe.aa=function(){try{return 2<Yr(this)?this.g.status:-1}catch{return-1}},Qe.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Qe.Sa=function(s){if(this.g){var e=this.g.responseText;return s&&0==e.indexOf(s)&&(e=e.substring(s.length)),ca(e)}},Qe.Ea=function(){return this.m},Qe.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Qe=Ja.prototype).ma=8,Qe.G=1,Qe.Ja=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.U=Math.floor(1e5*Math.random()),s=this.U++;const f=new Ss(this,this.j,s,void 0);let y=this.s;if(this.S&&(y?(y=rt(y),Tt(y,this.S)):y=this.S),null!==this.o||this.N||(f.H=y,y=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var a=this.i[t];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(e+=a)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Qn(this,f,e),Ai(t=js(this.F),"RID",s),Ai(t,"CVER",22),this.D&&Ai(t,"X-HTTP-Session-Id",this.D),un(this,t),y&&(this.N?e="headers="+encodeURIComponent(String(ua(y)))+"&"+e:this.o&&Ll(t,this.o,y)),wo(this.h,f),this.Ya&&Ai(t,"TYPE","init"),this.O?(Ai(t,"$req",e),Ai(t,"SID","null"),f.Z=!0,ra(f,t,null)):ra(f,t,e),this.G=2}}else 3==this.G&&(s?Qt(this,s):0==this.i.length||Qa(this.h)||Qt(this))},Qe.Ia=function(){if(this.u=null,Li(this),this.$&&!(this.K||null==this.g||0>=this.P)){var s=2*this.P;this.j.info("BP detection timer enabled: "+s),this.B=Pt(gn(this.eb,this),s)}},Qe.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,_s(10),ve(this),Li(this))},Qe.cb=function(){null!=this.v&&(this.v=null,ve(this),bi(this),_s(19))},Qe.kb=function(s){s?(this.j.info("Successfully pinged google.com"),_s(2)):(this.j.info("Failed to ping google.com"),_s(1))},(Qe=Eo.prototype).xa=function(){},Qe.wa=function(){},Qe.va=function(){},Qe.ua=function(){},Qe.Ra=function(){},tr.prototype.g=function(s,e){return new Os(s,e)},Ue(Os,Ce),Os.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var s=this.g,e=this.l,t=this.h||void 0;_s(0),s.V=e,s.ia=t||{},s.L=s.Y,s.F=Gs(s,null,s.V),Me(s)},Os.prototype.close=function(){W(this.g)},Os.prototype.u=function(s){var e=this.g;if("string"==typeof s){var t={};t.__data__=s,s=t}else this.v&&((t={}).__data__=sn(s),s=t);e.i.push(new class{constructor(s,e){this.h=s,this.g=e}}(e.ab++,s)),3==e.G&&Me(e)},Os.prototype.M=function(){this.g.l=null,delete this.j,W(this.g),delete this.g,Os.X.M.call(this)},Ue(gl,Ir),Ue(ss,qi),Ue(da,Eo),da.prototype.xa=function(){ot(this.g,"a")},da.prototype.wa=function(s){ot(this.g,new gl(s))},da.prototype.va=function(s){ot(this.g,new ss)},da.prototype.ua=function(){ot(this.g,"b")},tr.prototype.createWebChannel=tr.prototype.g,Os.prototype.send=Os.prototype.u,Os.prototype.open=Os.prototype.m,Os.prototype.close=Os.prototype.close,Rt.NO_ERROR=0,Rt.TIMEOUT=8,Rt.HTTP_ERROR=6,Wt.COMPLETE="complete",si.EventType=Di,Di.OPEN="a",Di.CLOSE="b",Di.ERROR="c",Di.MESSAGE="d",Ce.prototype.listen=Ce.prototype.N,er.prototype.listenOnce=er.prototype.O,er.prototype.getLastError=er.prototype.Oa,er.prototype.getLastErrorCode=er.prototype.Ea,er.prototype.getStatus=er.prototype.aa,er.prototype.getResponseJson=er.prototype.Sa,er.prototype.getResponseText=er.prototype.fa,er.prototype.send=er.prototype.da,er.prototype.setWithCredentials=er.prototype.Ka;var $u=tt.createWebChannelTransport=function(){return new tr},Md=tt.getStatEventTarget=function(){return yo()},Sc=tt.ErrorCode=Rt,Fl=tt.EventType=Wt,Bl=tt.Event=gs,ha=tt.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Mc=tt.FetchXmlHttpFactory=Jn,el=tt.WebChannel=si,au=tt.XhrIo=er;const lu="@firebase/firestore";class nr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");let fa="9.13.0";const Bo=new et.Yd("@firebase/firestore");function _l(){return Bo.logLevel}function Rn(s,...e){if(Bo.logLevel<=et.in.DEBUG){const t=e.map(Gu);Bo.debug(`Firestore (${fa}): ${s}`,...t)}}function Qi(s,...e){if(Bo.logLevel<=et.in.ERROR){const t=e.map(Gu);Bo.error(`Firestore (${fa}): ${s}`,...t)}}function pa(s,...e){if(Bo.logLevel<=et.in.WARN){const t=e.map(Gu);Bo.warn(`Firestore (${fa}): ${s}`,...t)}}function Gu(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch{return s}}function ii(s="Unexpected state"){const e=`FIRESTORE (${fa}) INTERNAL ASSERTION FAILED: `+s;throw Qi(e),new Error(e)}function Ti(s,e){s||ii()}function Xn(s,e){return s}const cn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Mn extends Ve.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ar{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ic{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Do{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nr.UNAUTHENTICATED))}shutdown(){}}class tl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ma{constructor(e){this.t=e,this.currentUser=nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var a=this;let f=this.i;const y=_e=>this.i!==f?(f=this.i,t(_e)):Promise.resolve();let M=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),M.resolve(),M=new Ar,e.enqueueRetryable(()=>y(this.currentUser))};const U=()=>{const _e=M;e.enqueueRetryable((0,ht.Z)(function*(){yield _e.promise,yield y(a.currentUser)}))},oe=_e=>{Rn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_e,this.auth.addAuthTokenListener(this.o),U()};this.t.onInit(_e=>oe(_e)),setTimeout(()=>{if(!this.auth){const _e=this.t.getImmediate({optional:!0});_e?oe(_e):(Rn("FirebaseAuthCredentialsProvider","Auth not yet detected"),M.resolve(),M=new Ar)}},0),U()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(Rn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ti("string"==typeof a.accessToken),new Ic(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ti(null===e||"string"==typeof e),new nr(e)}}class vl{constructor(e,t,a,f){this.h=e,this.l=t,this.m=a,this.g=f,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ti(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class xc{constructor(e,t,a,f){this.h=e,this.l=t,this.m=a,this.g=f}getToken(){return Promise.resolve(new vl(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yl{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const a=y=>{null!=y.error&&Rn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const M=y.token!==this.A;return this.A=y.token,Rn("FirebaseAppCheckTokenProvider",`Received ${M?"new":"existing"} token.`),M?t(y.token):Promise.resolve()};this.o=y=>{e.enqueueRetryable(()=>a(y))};const f=y=>{Rn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.appCheck.addTokenListener(this.o)};this.T.onInit(y=>f(y)),setTimeout(()=>{if(!this.appCheck){const y=this.T.getImmediate({optional:!0});y?f(y):Rn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ti("string"==typeof t.token),this.A=t.token,new nl(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Pr(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let a=0;a<s;a++)t[a]=Math.floor(256*Math.random());return t}class il{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const f=Pr(40);for(let y=0;y<f.length;++y)a.length<20&&f[y]<t&&(a+=e.charAt(f[y]%e.length))}return a}}function Si(s,e){return s<e?-1:s>e?1:0}function ga(s,e,t){return s.length===e.length&&s.every((a,f)=>t(a,e[f]))}function rl(s){return s+"\0"}class kr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Mn(cn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Mn(cn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Mn(cn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Mn(cn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kr.fromMillis(Date.now())}static fromDate(e){return kr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*t));return new kr(t,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Si(this.nanoseconds,e.nanoseconds):Si(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ci{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ci(e)}static min(){return new Ci(new kr(0,0))}static max(){return new Ci(new kr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class cs{constructor(e,t,a){void 0===t?t=0:t>e.length&&ii(),void 0===a?a=e.length-t:a>e.length-t&&ii(),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return 0===cs.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof cs?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let f=0;f<a;f++){const y=e.get(f),M=t.get(f);if(y<M)return-1;if(y>M)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class yi extends cs{construct(e,t,a){return new yi(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new Mn(cn.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(f=>f.length>0))}return new yi(t)}static emptyPath(){return new yi([])}}const co=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends cs{construct(e,t,a){return new wr(e,t,a)}static isValidIdentifier(e){return co.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wr(["__name__"])}static fromServerFormat(e){const t=[];let a="",f=0;const y=()=>{if(0===a.length)throw new Mn(cn.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let M=!1;for(;f<e.length;){const U=e[f];if("\\"===U){if(f+1===e.length)throw new Mn(cn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const oe=e[f+1];if("\\"!==oe&&"."!==oe&&"`"!==oe)throw new Mn(cn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=oe,f+=2}else"`"===U?(M=!M,f++):"."!==U||M?(a+=U,f++):(y(),f++)}if(y(),M)throw new Mn(cn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wr(t)}static emptyPath(){return new wr([])}}class zn{constructor(e){this.path=e}static fromPath(e){return new zn(yi.fromString(e))}static fromName(e){return new zn(yi.fromString(e).popFirst(5))}static empty(){return new zn(yi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zn(new yi(e.slice()))}}class qo{constructor(e,t,a,f){this.indexId=e,this.collectionGroup=t,this.fields=a,this.indexState=f}}function Da(s){return s.fields.find(e=>2===e.kind)}function Qo(s){return s.fields.filter(e=>2!==e.kind)}qo.UNKNOWN_ID=-1;class _a{constructor(e,t){this.fieldPath=e,this.kind=t}}class bl{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new bl(0,uo.min())}}function Cl(s,e){const t=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,f=Ci.fromTimestamp(1e9===a?new kr(t+1,0):new kr(t,a));return new uo(f,zn.empty(),e)}function Xl(s){return new uo(s.readTime,s.key,-1)}class uo{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new uo(Ci.min(),zn.empty(),-1)}static max(){return new uo(Ci.max(),zn.empty(),-1)}}function Ac(s,e){let t=s.readTime.compareTo(e.readTime);return 0!==t?t:(t=zn.comparator(s.documentKey,e.documentKey),0!==t?t:Si(s.largestBatchId,e.largestBatchId))}const Ps="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ho(s){return wl.apply(this,arguments)}function wl(){return wl=(0,ht.Z)(function*(s){if(s.code!==cn.FAILED_PRECONDITION||s.message!==Ps)throw s;Rn("LocalStore","Unexpectedly lost primary lease")}),wl.apply(this,arguments)}class an{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ii(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new an((a,f)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(a,f)},this.catchCallback=y=>{this.wrapFailure(t,y).next(a,f)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof an?t:an.resolve(t)}catch(t){return an.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):an.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):an.reject(t)}static resolve(e){return new an((t,a)=>{t(e)})}static reject(e){return new an((t,a)=>{a(e)})}static waitFor(e){return new an((t,a)=>{let f=0,y=0,M=!1;e.forEach(U=>{++f,U.next(()=>{++y,M&&y===f&&t()},oe=>a(oe))}),M=!0,y===f&&t()})}static or(e){let t=an.resolve(!1);for(const a of e)t=t.next(f=>f?an.resolve(f):a());return t}static forEach(e,t){const a=[];return e.forEach((f,y)=>{a.push(t.call(this,f,y))}),this.waitFor(a)}static mapArray(e,t){return new an((a,f)=>{const y=e.length,M=new Array(y);let U=0;for(let oe=0;oe<y;oe++){const _e=oe;t(e[_e]).next(Ge=>{M[_e]=Ge,++U,U===y&&a(M)},Ge=>f(Ge))}})}static doWhile(e,t){return new an((a,f)=>{const y=()=>{!0===e()?t().next(()=>{y()},f):a()};y()})}}class Kr{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Ar,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new sl(e,t.error)):this.P.resolve()},this.transaction.onerror=a=>{const f=fo(a.target.error);this.P.reject(new sl(e,f))}}static open(e,t,a,f){try{return new Kr(t,e.transaction(f,a))}catch(y){throw new sl(t,y)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Rn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new To(t)}}class jo{constructor(e,t,a){this.name=e,this.version=t,this.S=a,12.2===jo.D((0,Ve.z$)())&&Qi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Rn("SimpleDb","Removing database:",e),ho(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Ve.hl)())return!1;if(jo.N())return!0;const e=(0,Ve.z$)(),t=jo.D(e),a=0<t&&t<10,f=jo.k(e),y=0<f&&f<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||y)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static k(e){const t=e.match(/Android ([\d.]+)/i),a=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(a)}F(e){var t=this;return(0,ht.Z)(function*(){return t.db||(Rn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((a,f)=>{const y=indexedDB.open(t.name,t.version);y.onsuccess=M=>{a(M.target.result)},y.onblocked=()=>{f(new sl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=M=>{const U=M.target.error;f("VersionError"===U.name?new Mn(cn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===U.name?new Mn(cn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+U):new sl(e,U))},y.onupgradeneeded=M=>{Rn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',M.oldVersion),t.S.$(M.target.result,y.transaction,M.oldVersion,t.version).next(()=>{Rn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=a=>t.B(a)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,a,f){var y=this;return(0,ht.Z)(function*(){const M="readonly"===t;let U=0;for(;;){++U;try{y.db=yield y.F(e);const oe=Kr.open(y.db,e,M?"readonly":"readwrite",a),_e=f(oe).next(Ge=>(oe.V(),Ge)).catch(Ge=>(oe.abort(Ge),an.reject(Ge))).toPromise();return _e.catch(()=>{}),yield oe.v,_e}catch(oe){const _e=oe,Ge="FirebaseError"!==_e.name&&U<3;if(Rn("SimpleDb","Transaction failed with error:",_e.message,"Retrying:",Ge),y.close(),!Ge)return Promise.reject(_e)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class kc{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return ho(this.U.delete())}}class sl extends Mn{constructor(e,t){super(cn.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Sa(s){return"IndexedDbTransactionError"===s.name}class To{constructor(e){this.store=e}put(e,t){let a;return void 0!==t?(Rn("SimpleDb","PUT",this.store.name,e,t),a=this.store.put(t,e)):(Rn("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),ho(a)}add(e){return Rn("SimpleDb","ADD",this.store.name,e,e),ho(this.store.add(e))}get(e){return ho(this.store.get(e)).next(t=>(void 0===t&&(t=null),Rn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Rn("SimpleDb","DELETE",this.store.name,e),ho(this.store.delete(e))}count(){return Rn("SimpleDb","COUNT",this.store.name),ho(this.store.count())}W(e,t){const a=this.options(e,t);if(a.index||"function"!=typeof this.store.getAll){const f=this.cursor(a),y=[];return this.H(f,(M,U)=>{y.push(U)}).next(()=>y)}{const f=this.store.getAll(a.range);return new an((y,M)=>{f.onerror=U=>{M(U.target.error)},f.onsuccess=U=>{y(U.target.result)}})}}J(e,t){const a=this.store.getAll(e,null===t?void 0:t);return new an((f,y)=>{a.onerror=M=>{y(M.target.error)},a.onsuccess=M=>{f(M.target.result)}})}Y(e,t){Rn("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,t);a.X=!1;const f=this.cursor(a);return this.H(f,(y,M,U)=>U.delete())}Z(e,t){let a;t?a=e:(a={},t=e);const f=this.cursor(a);return this.H(f,t)}tt(e){const t=this.cursor({});return new an((a,f)=>{t.onerror=y=>{const M=fo(y.target.error);f(M)},t.onsuccess=y=>{const M=y.target.result;M?e(M.primaryKey,M.value).next(U=>{U?M.continue():a()}):a()}})}H(e,t){const a=[];return new an((f,y)=>{e.onerror=M=>{y(M.target.error)},e.onsuccess=M=>{const U=M.target.result;if(!U)return void f();const oe=new kc(U),_e=t(U.primaryKey,U.value,oe);if(_e instanceof an){const Ge=_e.catch(bt=>(oe.done(),an.reject(bt)));a.push(Ge)}oe.isDone?f():null===oe.G?U.continue():U.continue(oe.G)}}).next(()=>an.waitFor(a))}options(e,t){let a;return void 0!==e&&("string"==typeof e?a=e:t=e),{index:a,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const a=this.store.index(e.index);return e.X?a.openKeyCursor(e.range,t):a.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ho(s){return new an((e,t)=>{s.onsuccess=a=>{e(a.target.result)},s.onerror=a=>{const f=fo(a.target.error);t(f)}})}let ec=!1;function fo(s){const e=jo.D((0,Ve.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(t)>=0){const a=new Mn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ec||(ec=!0,setTimeout(()=>{throw a},0)),a}}return s}class qs{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Rn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ht.Z)(function*(){t.task=null;try{Rn("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(a){Sa(a)?Rn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",a):yield Ho(a)}yield t.nt(6e4)}))}}class Vl{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ht.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>t.it(a,e))})()}it(e,t){const a=new Set;let f=t,y=!0;return an.doWhile(()=>!0===y&&f>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(M=>{if(null!==M&&!a.has(M))return Rn("IndexBackiller",`Processing collection: ${M}`),this.rt(e,M,f).next(U=>{f-=U,a.add(M)});y=!1})).next(()=>t-f)}rt(e,t,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(f=>this.localStore.localDocuments.getNextDocuments(e,t,f,a).next(y=>{const M=y.changes;return this.localStore.indexManager.updateIndexEntries(e,M).next(()=>this.ot(f,y)).next(U=>(Rn("IndexBackiller",`Updating offset: ${U}`),this.localStore.indexManager.updateCollectionGroup(e,t,U))).next(()=>M.size)}))}ot(e,t){let a=e;return t.changes.forEach((f,y)=>{const M=Xl(y);Ac(M,a)>0&&(a=M)}),new uo(a.readTime,a.documentKey,Math.max(t.batchId,e.largestBatchId))}}class po{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.ut(a),this.ct=a=>t.writeSequenceNumber(a))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Rc(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function mo(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function L(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}po.at=-1;class F{constructor(e,t){this.comparator=e,this.root=t||H.EMPTY}insert(e,t){return new F(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,H.BLACK,null,null))}remove(e){return new F(this.comparator,this.root.remove(e,this.comparator).copy(null,null,H.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(0===a)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const f=this.comparator(e,a.key);if(0===f)return t+a.left.size;f<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new I(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new I(this.root,e,this.comparator,!1)}getReverseIterator(){return new I(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new I(this.root,e,this.comparator,!0)}}class I{constructor(e,t,a,f){this.isReverse=f,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=t?a(e.key,t):1,t&&f&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class H{constructor(e,t,a,f,y){this.key=e,this.value=t,this.color=a??H.RED,this.left=f??H.EMPTY,this.right=y??H.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,f,y){return new H(e??this.key,t??this.value,a??this.color,f??this.left,y??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let f=this;const y=a(e,f.key);return f=y<0?f.copy(null,null,null,f.left.insert(e,t,a),null):0===y?f.copy(null,t,null,null,null):f.copy(null,null,null,null,f.right.insert(e,t,a)),f.fixUp()}removeMin(){if(this.left.isEmpty())return H.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,f=this;if(t(e,f.key)<0)f.left.isEmpty()||f.left.isRed()||f.left.left.isRed()||(f=f.moveRedLeft()),f=f.copy(null,null,null,f.left.remove(e,t),null);else{if(f.left.isRed()&&(f=f.rotateRight()),f.right.isEmpty()||f.right.isRed()||f.right.left.isRed()||(f=f.moveRedRight()),0===t(e,f.key)){if(f.right.isEmpty())return H.EMPTY;a=f.right.min(),f=f.copy(a.key,a.value,null,null,f.right.removeMin())}f=f.copy(null,null,null,null,f.right.remove(e,t))}return f.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,H.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,H.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ii();const e=this.left.check();if(e!==this.right.check())throw ii();return e+(this.isRed()?0:1)}}H.EMPTY=null,H.RED=!0,H.BLACK=!1,H.EMPTY=new class{constructor(){this.size=0}get key(){throw ii()}get value(){throw ii()}get color(){throw ii()}get left(){throw ii()}get right(){throw ii()}copy(s,e,t,a,f){return this}insert(s,e,t){return new H(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class te{constructor(e){this.comparator=e,this.data=new F(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const f=a.getNext();if(this.comparator(f.key,e[1])>=0)return;t(f.key)}}forEachWhile(e,t){let a;for(a=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ae(this.data.getIterator())}getIteratorFrom(e){return new Ae(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof te)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const f=t.getNext().key,y=a.getNext().key;if(0!==this.comparator(f,y))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new te(this.comparator);return t.data=e,t}}class Ae{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function nt(s){return s.hasNext()?s.getNext():void 0}class ft{constructor(e){this.fields=e,e.sort(wr.comparator)}static empty(){return new ft([])}unionWith(e){let t=new te(wr.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new ft(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ga(this.fields,e.fields,(t,a)=>t.isEqual(a))}}class An{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new An(t)}static fromUint8Array(e){const t=function(a){let f="";for(let y=0;y<a.length;++y)f+=String.fromCharCode(a[y]);return f}(e);return new An(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let a=0;a<e.length;a++)t[a]=e.charCodeAt(a);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Si(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}An.EMPTY_BYTE_STRING=new An("");const ai=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wn(s){if(Ti(!!s),"string"==typeof s){let e=0;const t=ai.exec(s);if(Ti(!!t),t[1]){let f=t[1];f=(f+"000000000").substr(0,9),e=Number(f)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ci(s.seconds),nanos:ci(s.nanos)}}function ci(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function Ui(s){return"string"==typeof s?An.fromBase64String(s):An.fromUint8Array(s)}function Tr(s){var e,t;return"server_timestamp"===(null===(t=((null===(e=s?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function So(s){const e=s.mapValue.fields.__previous_value__;return Tr(e)?So(e):e}function jr(s){const e=Wn(s.mapValue.fields.__local_write_time__.timestampValue);return new kr(e.seconds,e.nanos)}class Nr{constructor(e,t,a,f,y,M,U,oe){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=f,this.ssl=y,this.forceLongPolling=M,this.autoDetectLongPolling=U,this.useFetchStreams=oe}}class Ns{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ns("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ns&&e.projectId===this.projectId&&e.database===this.database}}function va(s){return null==s}function Jr(s){return 0===s&&1/s==-1/0}function tc(s){return"number"==typeof s&&Number.isInteger(s)&&!Jr(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Ul={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Z={nullValue:"NULL_VALUE"};function re(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Tr(s)?4:Ha(s)?9007199254740991:10:ii()}function Ie(s,e){if(s===e)return!0;const t=re(s);if(t!==re(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return jr(s).isEqual(jr(e));case 3:return function(a,f){if("string"==typeof a.timestampValue&&"string"==typeof f.timestampValue&&a.timestampValue.length===f.timestampValue.length)return a.timestampValue===f.timestampValue;const y=Wn(a.timestampValue),M=Wn(f.timestampValue);return y.seconds===M.seconds&&y.nanos===M.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return f=e,Ui(s.bytesValue).isEqual(Ui(f.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(a,f){return ci(a.geoPointValue.latitude)===ci(f.geoPointValue.latitude)&&ci(a.geoPointValue.longitude)===ci(f.geoPointValue.longitude)}(s,e);case 2:return function(a,f){if("integerValue"in a&&"integerValue"in f)return ci(a.integerValue)===ci(f.integerValue);if("doubleValue"in a&&"doubleValue"in f){const y=ci(a.doubleValue),M=ci(f.doubleValue);return y===M?Jr(y)===Jr(M):isNaN(y)&&isNaN(M)}return!1}(s,e);case 9:return ga(s.arrayValue.values||[],e.arrayValue.values||[],Ie);case 10:return function(a,f){const y=a.mapValue.fields||{},M=f.mapValue.fields||{};if(Rc(y)!==Rc(M))return!1;for(const U in y)if(y.hasOwnProperty(U)&&(void 0===M[U]||!Ie(y[U],M[U])))return!1;return!0}(s,e);default:return ii()}var f}function lt(s,e){return void 0!==(s.values||[]).find(t=>Ie(t,e))}function Ft(s,e){if(s===e)return 0;const t=re(s),a=re(e);if(t!==a)return Si(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return Si(s.booleanValue,e.booleanValue);case 2:return function(f,y){const M=ci(f.integerValue||f.doubleValue),U=ci(y.integerValue||y.doubleValue);return M<U?-1:M>U?1:M===U?0:isNaN(M)?isNaN(U)?0:-1:1}(s,e);case 3:return ln(s.timestampValue,e.timestampValue);case 4:return ln(jr(s),jr(e));case 5:return Si(s.stringValue,e.stringValue);case 6:return function(f,y){const M=Ui(f),U=Ui(y);return M.compareTo(U)}(s.bytesValue,e.bytesValue);case 7:return function(f,y){const M=f.split("/"),U=y.split("/");for(let oe=0;oe<M.length&&oe<U.length;oe++){const _e=Si(M[oe],U[oe]);if(0!==_e)return _e}return Si(M.length,U.length)}(s.referenceValue,e.referenceValue);case 8:return function(f,y){const M=Si(ci(f.latitude),ci(y.latitude));return 0!==M?M:Si(ci(f.longitude),ci(y.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(f,y){const M=f.values||[],U=y.values||[];for(let oe=0;oe<M.length&&oe<U.length;++oe){const _e=Ft(M[oe],U[oe]);if(_e)return _e}return Si(M.length,U.length)}(s.arrayValue,e.arrayValue);case 10:return function(f,y){if(f===Ul.mapValue&&y===Ul.mapValue)return 0;if(f===Ul.mapValue)return 1;if(y===Ul.mapValue)return-1;const M=f.fields||{},U=Object.keys(M),oe=y.fields||{},_e=Object.keys(oe);U.sort(),_e.sort();for(let Ge=0;Ge<U.length&&Ge<_e.length;++Ge){const bt=Si(U[Ge],_e[Ge]);if(0!==bt)return bt;const Kt=Ft(M[U[Ge]],oe[_e[Ge]]);if(0!==Kt)return Kt}return Si(U.length,_e.length)}(s.mapValue,e.mapValue);default:throw ii()}}function ln(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return Si(s,e);const t=Wn(s),a=Wn(e),f=Si(t.seconds,a.seconds);return 0!==f?f:Si(t.nanos,a.nanos)}function In(s){return Gn(s)}function Gn(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(a){const f=Wn(a);return`time(${f.seconds},${f.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?Ui(s.bytesValue).toBase64():"referenceValue"in s?zn.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(e=s.geoPointValue).latitude},${e.longitude})`:"arrayValue"in s?function(a){let f="[",y=!0;for(const M of a.values||[])y?y=!1:f+=",",f+=Gn(M);return f+"]"}(s.arrayValue):"mapValue"in s?function(a){const f=Object.keys(a.fields||{}).sort();let y="{",M=!0;for(const U of f)M?M=!1:y+=",",y+=`${U}:${Gn(a.fields[U])}`;return y+"}"}(s.mapValue):ii();var e}function _i(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Fi(s){return!!s&&"integerValue"in s}function Ri(s){return!!s&&"arrayValue"in s}function wi(s){return!!s&&"nullValue"in s}function ms(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Ls(s){return!!s&&"mapValue"in s}function Xo(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return mo(s.mapValue.fields,(t,a)=>e.mapValue.fields[t]=Xo(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xo(s.arrayValue.values[t]);return e}return Object.assign({},s)}function Ha(s){return"__max__"===(((s.mapValue||{}).fields||{}).__type__||{}).stringValue}function ol(s){return"nullValue"in s?Z:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?_i(Ns.empty(),zn.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?{mapValue:{}}:ii()}function cu(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?_i(Ns.empty(),zn.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?{mapValue:{}}:"mapValue"in s?Ul:ii()}function ja(s,e){const t=Ft(s.value,e.value);return 0!==t?t:s.inclusive&&!e.inclusive?-1:!s.inclusive&&e.inclusive?1:0}function nc(s,e){const t=Ft(s.value,e.value);return 0!==t?t:s.inclusive&&!e.inclusive?1:!s.inclusive&&e.inclusive?-1:0}class us{constructor(e){this.value=e}static empty(){return new us({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!Ls(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xo(t)}setAll(e){let t=wr.emptyPath(),a={},f=[];e.forEach((M,U)=>{if(!t.isImmediateParentOf(U)){const oe=this.getFieldsMap(t);this.applyChanges(oe,a,f),a={},f=[],t=U.popLast()}M?a[U.lastSegment()]=Xo(M):f.push(U.lastSegment())});const y=this.getFieldsMap(t);this.applyChanges(y,a,f)}delete(e){const t=this.field(e.popLast());Ls(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ie(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let f=t.mapValue.fields[e.get(a)];Ls(f)&&f.mapValue.fields||(f={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=f),t=f}return t.mapValue.fields}applyChanges(e,t,a){mo(t,(f,y)=>e[f]=y);for(const f of a)delete e[f]}clone(){return new us(Xo(this.value))}}function $a(s){const e=[];return mo(s.fields,(t,a)=>{const f=new wr([t]);if(Ls(a)){const y=$a(a.mapValue).fields;if(0===y.length)e.push(f);else for(const M of y)e.push(f.child(M))}else e.push(f)}),new ft(e)}class vr{constructor(e,t,a,f,y,M){this.key=e,this.documentType=t,this.version=a,this.readTime=f,this.data=y,this.documentState=M}static newInvalidDocument(e){return new vr(e,0,Ci.min(),Ci.min(),us.empty(),0)}static newFoundDocument(e,t,a){return new vr(e,1,t,Ci.min(),a,0)}static newNoDocument(e,t){return new vr(e,2,t,Ci.min(),us.empty(),0)}static newUnknownDocument(e,t){return new vr(e,3,t,Ci.min(),us.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=us.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ci.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uu{constructor(e,t=null,a=[],f=[],y=null,M=null,U=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=f,this.limit=y,this.startAt=M,this.endAt=U,this.ht=null}}function _h(s,e=null,t=[],a=[],f=null,y=null,M=null){return new uu(s,e,t,a,f,y,M)}function ic(s){const e=Xn(s);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>{return(f=a).field.canonicalString()+f.op.toString()+In(f.value);var f}).join(","),t+="|ob:",t+=e.orderBy.map(a=>{return(f=a).field.canonicalString()+f.dir;var f}).join(","),va(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>In(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>In(a)).join(",")),e.ht=t}return e.ht}function Oc(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let f=0;f<s.orderBy.length;f++)if(!lf(s.orderBy[f],e.orderBy[f]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let f=0;f<s.filters.length;f++)if((t=s.filters[f]).op!==(a=e.filters[f]).op||!t.field.isEqual(a.field)||!Ie(t.value,a.value))return!1;var t,a;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Ch(s.startAt,e.startAt)&&Ch(s.endAt,e.endAt)}function du(s){return zn.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}function zu(s,e){return s.filters.filter(t=>t instanceof go&&t.field.isEqual(e))}function Ad(s,e,t){let a=Z,f=!0;for(const y of zu(s,e)){let M=Z,U=!0;switch(y.op){case"<":case"<=":M=ol(y.value);break;case"==":case"in":case">=":M=y.value;break;case">":M=y.value,U=!1;break;case"!=":case"not-in":M=Z}ja({value:a,inclusive:f},{value:M,inclusive:U})<0&&(a=M,f=U)}if(null!==t)for(let y=0;y<s.orderBy.length;++y)if(s.orderBy[y].field.isEqual(e)){const M=t.position[y];ja({value:a,inclusive:f},{value:M,inclusive:t.inclusive})<0&&(a=M,f=t.inclusive);break}return{value:a,inclusive:f}}function vh(s,e,t){let a=Ul,f=!0;for(const y of zu(s,e)){let M=Ul,U=!0;switch(y.op){case">=":case">":M=cu(y.value),U=!1;break;case"==":case"in":case"<=":M=y.value;break;case"<":M=y.value,U=!1;break;case"!=":case"not-in":M=Ul}nc({value:a,inclusive:f},{value:M,inclusive:U})>0&&(a=M,f=U)}if(null!==t)for(let y=0;y<s.orderBy.length;++y)if(s.orderBy[y].field.isEqual(e)){const M=t.position[y];nc({value:a,inclusive:f},{value:M,inclusive:t.inclusive})>0&&(a=M,f=t.inclusive);break}return{value:a,inclusive:f}}class go extends class{}{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,a):new sf(e,t,a):"array-contains"===t?new af(e,a):"in"===t?new lp(e,a):"not-in"===t?new Rd(e,a):"array-contains-any"===t?new bh(e,a):new go(e,t,a)}static lt(e,t,a){return"in"===t?new yg(e,a):new kd(e,a)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Ft(t,this.value)):null!==t&&re(this.value)===re(t)&&this.ft(Ft(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ii()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class sf extends go{constructor(e,t,a){super(e,t,a),this.key=zn.fromName(a.referenceValue)}matches(e){const t=zn.comparator(e.key,this.key);return this.ft(t)}}class yg extends go{constructor(e,t){super(e,"in",t),this.keys=yh(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class kd extends go{constructor(e,t){super(e,"not-in",t),this.keys=yh(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function yh(s,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(a=>zn.fromName(a.referenceValue))}class af extends go{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ri(t)&&lt(t.arrayValue,this.value)}}class lp extends go{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&lt(this.value.arrayValue,t)}}class Rd extends go{constructor(e,t){super(e,"not-in",t)}matches(e){if(lt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!lt(this.value.arrayValue,t)}}class bh extends go{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ri(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>lt(this.value.arrayValue,a))}}class El{constructor(e,t){this.position=e,this.inclusive=t}}class al{constructor(e,t="asc"){this.field=e,this.dir=t}}function lf(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}function hu(s,e,t){let a=0;for(let f=0;f<s.position.length;f++){const y=e[f],M=s.position[f];if(a=y.field.isKeyField()?zn.comparator(zn.fromName(M.referenceValue),t.key):Ft(M,t.data.field(y.field)),"desc"===y.dir&&(a*=-1),0!==a)break}return a}function Ch(s,e){if(null===s)return null===e;if(null===e||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!Ie(s.position[t],e.position[t]))return!1;return!0}class rc{constructor(e,t=null,a=[],f=[],y=null,M="F",U=null,oe=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=f,this.limit=y,this.limitType=M,this.startAt=U,this.endAt=oe,this._t=null,this.wt=null}}function bg(s,e,t,a,f,y,M,U){return new rc(s,e,t,a,f,y,M,U)}function Hl(s){return new rc(s)}function Pc(s){return 0===s.filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())}function Qs(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function Wu(s){for(const e of s.filters)if(e.dt())return e.field;return null}function Yu(s){return null!==s.collectionGroup}function Fs(s){const e=Xn(s);if(null===e._t){e._t=[];const t=Wu(e),a=Qs(e);if(null!==t&&null===a)t.isKeyField()||e._t.push(new al(t)),e._t.push(new al(wr.keyField(),"asc"));else{let f=!1;for(const y of e.explicitOrderBy)e._t.push(y),y.field.isKeyField()&&(f=!0);if(!f){const y=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new al(wr.keyField(),y))}}}return e._t}function Jo(s){const e=Xn(s);if(!e.wt)if("F"===e.limitType)e.wt=_h(e.path,e.collectionGroup,Fs(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const y of Fs(e))t.push(new al(y.field,"desc"===y.dir?"asc":"desc"));const a=e.endAt?new El(e.endAt.position,e.endAt.inclusive):null,f=e.startAt?new El(e.startAt.position,e.startAt.inclusive):null;e.wt=_h(e.path,e.collectionGroup,t,e.filters,e.limit,a,f)}return e.wt}function Ku(s,e,t){return new rc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function fu(s,e){return Oc(Jo(s),Jo(e))&&s.limitType===e.limitType}function cf(s){return`${ic(Jo(s))}|lt:${s.limitType}`}function pu(s){return`Query(target=${function xd(s){let e=s.path.canonicalString();return null!==s.collectionGroup&&(e+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(e+=`, filters: [${s.filters.map(t=>{return`${(a=t).field.canonicalString()} ${a.op} ${In(a.value)}`;var a}).join(", ")}]`),va(s.limit)||(e+=", limit: "+s.limit),s.orderBy.length>0&&(e+=`, orderBy: [${s.orderBy.map(t=>{return`${(a=t).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),s.startAt&&(e+=", startAt: ",e+=s.startAt.inclusive?"b:":"a:",e+=s.startAt.position.map(t=>In(t)).join(",")),s.endAt&&(e+=", endAt: ",e+=s.endAt.inclusive?"a:":"b:",e+=s.endAt.position.map(t=>In(t)).join(",")),`Target(${e})`}(Jo(s))}; limitType=${s.limitType})`}function Dl(s,e){return e.isFoundDocument()&&function(t,a){const f=a.key.path;return null!==t.collectionGroup?a.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(f):zn.isDocumentKey(t.path)?t.path.isEqual(f):t.path.isImmediateParentOf(f)}(s,e)&&function(t,a){for(const f of t.explicitOrderBy)if(!f.field.isKeyField()&&null===a.data.field(f.field))return!1;return!0}(s,e)&&function(t,a){for(const f of t.filters)if(!f.matches(a))return!1;return!0}(s,e)&&(a=e,!((t=s).startAt&&!function(f,y,M){const U=hu(f,y,M);return f.inclusive?U<=0:U<0}(t.startAt,Fs(t),a)||t.endAt&&!function(f,y,M){const U=hu(f,y,M);return f.inclusive?U>=0:U>0}(t.endAt,Fs(t),a)));var t,a}function mu(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function uf(s){return(e,t)=>{let a=!1;for(const f of Fs(s)){const y=cp(f,e,t);if(0!==y)return y;a=a||f.field.isKeyField()}return 0}}function cp(s,e,t){const a=s.field.isKeyField()?zn.comparator(e.key,t.key):function(f,y,M){const U=y.data.field(f),oe=M.data.field(f);return null!==U&&null!==oe?Ft(U,oe):ii()}(s.field,e,t);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ii()}}function up(s,e){if(s.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jr(e)?"-0":e}}function df(s){return{integerValue:""+s}}function Zu(s,e){return tc(e)?df(e):up(s,e)}class Od{constructor(){this._=void 0}}function wh(s,e,t){return s instanceof gu?function(a,f){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return f&&(y.fields.__previous_value__=f),{mapValue:y}}(t,e):s instanceof _u?qu(s,e):s instanceof $o?Nc(s,e):function(a,f){const y=hf(a,f),M=Qu(y)+Qu(a.yt);return Fi(y)&&Fi(a.yt)?df(M):up(a.It,M)}(s,e)}function um(s,e,t){return s instanceof _u?qu(s,e):s instanceof $o?Nc(s,e):t}function hf(s,e){return s instanceof sc?Fi(t=e)||(a=t)&&"doubleValue"in a?e:{integerValue:0}:null;var a,t}class gu extends Od{}class _u extends Od{constructor(e){super(),this.elements=e}}function qu(s,e){const t=Eh(e);for(const a of s.elements)t.some(f=>Ie(f,a))||t.push(a);return{arrayValue:{values:t}}}class $o extends Od{constructor(e){super(),this.elements=e}}function Nc(s,e){let t=Eh(e);for(const a of s.elements)t=t.filter(f=>!Ie(f,a));return{arrayValue:{values:t}}}class sc extends Od{constructor(e,t){super(),this.It=e,this.yt=t}}function Qu(s){return ci(s.integerValue||s.doubleValue)}function Eh(s){return Ri(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class jl{constructor(e,t){this.field=e,this.transform=t}}class dp{constructor(e,t){this.version=e,this.transformResults=t}}class os{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new os}static exists(e){return new os(void 0,e)}static updateTime(e){return new os(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tl(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class Lc{}function Dh(s,e){if(!s.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return s.isNoDocument()?new Bc(s.key,os.none()):new Pd(s.key,s.data,os.none());{const t=s.data,a=us.empty();let f=new te(wr.comparator);for(let y of e.fields)if(!f.has(y)){let M=t.field(y);null===M&&y.length>1&&(y=y.popLast(),M=t.field(y)),null===M?a.delete(y):a.set(y,M),f=f.add(y)}return new ll(s.key,a,new ft(f.toArray()),os.none())}}function Xu(s,e,t){s instanceof Pd?function(a,f,y){const M=a.value.clone(),U=Ma(a.fieldTransforms,f,y.transformResults);M.setAll(U),f.convertToFoundDocument(y.version,M).setHasCommittedMutations()}(s,e,t):s instanceof ll?function(a,f,y){if(!Tl(a.precondition,f))return void f.convertToUnknownDocument(y.version);const M=Ma(a.fieldTransforms,f,y.transformResults),U=f.data;U.setAll(ya(a)),U.setAll(M),f.convertToFoundDocument(y.version,U).setHasCommittedMutations()}(s,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ju(s,e,t,a){return s instanceof Pd?function(f,y,M,U){if(!Tl(f.precondition,y))return M;const oe=f.value.clone(),_e=Fc(f.fieldTransforms,U,y);return oe.setAll(_e),y.convertToFoundDocument(y.version,oe).setHasLocalMutations(),null}(s,e,t,a):s instanceof ll?function(f,y,M,U){if(!Tl(f.precondition,y))return M;const oe=Fc(f.fieldTransforms,U,y),_e=y.data;return _e.setAll(ya(f)),_e.setAll(oe),y.convertToFoundDocument(y.version,_e).setHasLocalMutations(),null===M?null:M.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(Ge=>Ge.field))}(s,e,t,a):(M=t,Tl(s.precondition,y=e)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):M);var y,M}function hp(s,e){let t=null;for(const a of s.fieldTransforms){const f=e.data.field(a.field),y=hf(a.transform,f||null);null!=y&&(null===t&&(t=us.empty()),t.set(a.field,y))}return t||null}function fp(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(t=s.fieldTransforms)&&void 0===a||t&&a&&ga(t,a,(f,y)=>function Cg(s,e){return s.field.isEqual(e.field)&&(a=e.transform,(t=s.transform)instanceof _u&&a instanceof _u||t instanceof $o&&a instanceof $o?ga(t.elements,a.elements,Ie):t instanceof sc&&a instanceof sc?Ie(t.yt,a.yt):t instanceof gu&&a instanceof gu);var t,a}(f,y))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var t,a}class Pd extends Lc{constructor(e,t,a,f=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=f,this.type=0}getFieldMask(){return null}}class ll extends Lc{constructor(e,t,a,f,y=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=f,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function ya(s){const e=new Map;return s.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=s.data.field(t);e.set(t,a)}}),e}function Ma(s,e,t){const a=new Map;Ti(s.length===t.length);for(let f=0;f<t.length;f++){const y=s[f],M=y.transform,U=e.data.field(y.field);a.set(y.field,um(M,U,t[f]))}return a}function Fc(s,e,t){const a=new Map;for(const f of s){const y=f.transform,M=t.data.field(f.field);a.set(f.field,wh(y,M,e))}return a}class Bc extends Lc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ds extends Lc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class R{constructor(e){this.count=e}}var b,D;function B(s){switch(s){default:return ii();case cn.CANCELLED:case cn.UNKNOWN:case cn.DEADLINE_EXCEEDED:case cn.RESOURCE_EXHAUSTED:case cn.INTERNAL:case cn.UNAVAILABLE:case cn.UNAUTHENTICATED:return!1;case cn.INVALID_ARGUMENT:case cn.NOT_FOUND:case cn.ALREADY_EXISTS:case cn.PERMISSION_DENIED:case cn.FAILED_PRECONDITION:case cn.ABORTED:case cn.OUT_OF_RANGE:case cn.UNIMPLEMENTED:case cn.DATA_LOSS:return!0}}function pe(s){if(void 0===s)return Qi("GRPC error has no .code"),cn.UNKNOWN;switch(s){case b.OK:return cn.OK;case b.CANCELLED:return cn.CANCELLED;case b.UNKNOWN:return cn.UNKNOWN;case b.DEADLINE_EXCEEDED:return cn.DEADLINE_EXCEEDED;case b.RESOURCE_EXHAUSTED:return cn.RESOURCE_EXHAUSTED;case b.INTERNAL:return cn.INTERNAL;case b.UNAVAILABLE:return cn.UNAVAILABLE;case b.UNAUTHENTICATED:return cn.UNAUTHENTICATED;case b.INVALID_ARGUMENT:return cn.INVALID_ARGUMENT;case b.NOT_FOUND:return cn.NOT_FOUND;case b.ALREADY_EXISTS:return cn.ALREADY_EXISTS;case b.PERMISSION_DENIED:return cn.PERMISSION_DENIED;case b.FAILED_PRECONDITION:return cn.FAILED_PRECONDITION;case b.ABORTED:return cn.ABORTED;case b.OUT_OF_RANGE:return cn.OUT_OF_RANGE;case b.UNIMPLEMENTED:return cn.UNIMPLEMENTED;case b.DATA_LOSS:return cn.DATA_LOSS;default:return ii()}}(D=b||(b={}))[D.OK=0]="OK",D[D.CANCELLED=1]="CANCELLED",D[D.UNKNOWN=2]="UNKNOWN",D[D.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",D[D.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",D[D.NOT_FOUND=5]="NOT_FOUND",D[D.ALREADY_EXISTS=6]="ALREADY_EXISTS",D[D.PERMISSION_DENIED=7]="PERMISSION_DENIED",D[D.UNAUTHENTICATED=16]="UNAUTHENTICATED",D[D.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",D[D.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",D[D.ABORTED=10]="ABORTED",D[D.OUT_OF_RANGE=11]="OUT_OF_RANGE",D[D.UNIMPLEMENTED=12]="UNIMPLEMENTED",D[D.INTERNAL=13]="INTERNAL",D[D.UNAVAILABLE=14]="UNAVAILABLE",D[D.DATA_LOSS=15]="DATA_LOSS";class Ee{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0!==a)for(const[f,y]of a)if(this.equalsFn(f,e))return y}has(e){return void 0!==this.get(e)}set(e,t){const a=this.mapKeyFn(e),f=this.inner[a];if(void 0===f)return this.inner[a]=[[e,t]],void this.innerSize++;for(let y=0;y<f.length;y++)if(this.equalsFn(f[y][0],e))return void(f[y]=[e,t]);f.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0===a)return!1;for(let f=0;f<a.length;f++)if(this.equalsFn(a[f][0],e))return 1===a.length?delete this.inner[t]:a.splice(f,1),this.innerSize--,!0;return!1}forEach(e){mo(this.inner,(t,a)=>{for(const[f,y]of a)e(f,y)})}isEmpty(){return L(this.inner)}size(){return this.innerSize}}const At=new F(zn.comparator);function on(){return At}const Zn=new F(zn.comparator);function Vn(...s){let e=Zn;for(const t of s)e=e.insert(t.key,t);return e}function Ei(s){let e=Zn;return s.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function gi(){return Bs()}function Er(){return Bs()}function Bs(){return new Ee(s=>s.toString(),(s,e)=>s.isEqual(e))}const Xs=new F(zn.comparator),Js=new te(zn.comparator);function $i(...s){let e=Js;for(const t of s)e=e.add(t);return e}const ed=new te(Si);function vu(){return ed}class Mo{constructor(e,t,a,f,y){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=f,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const f=new Map;return f.set(e,ea.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new Mo(Ci.min(),f,vu(),on(),$i())}}class ea{constructor(e,t,a,f,y){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=f,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new ea(a,t,$i(),$i(),$i())}}class Ga{constructor(e,t,a,f){this.Tt=e,this.removedTargetIds=t,this.key=a,this.Et=f}}class yu{constructor(e,t){this.targetId=e,this.At=t}}class $l{constructor(e,t,a=An.EMPTY_BYTE_STRING,f=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=f}}class bu{constructor(){this.Rt=0,this.bt=Th(),this.Pt=An.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=$i(),t=$i(),a=$i();return this.bt.forEach((f,y)=>{switch(y){case 0:e=e.add(f);break;case 2:t=t.add(f);break;case 1:a=a.add(f);break;default:ii()}}),new ea(this.Pt,this.vt,e,t,a)}Nt(){this.Vt=!1,this.bt=Th()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Sl{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=on(),this.qt=eo(),this.Kt=new te(Si)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const a=this.zt(t);switch(e.state){case 0:this.Ht(t)&&a.Ct(e.resumeToken);break;case 1:a.Ft(),a.St||a.Nt(),a.Ct(e.resumeToken);break;case 2:a.Ft(),a.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(a.$t(),a.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),a.Ct(e.resumeToken));break;default:ii()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((a,f)=>{this.Ht(f)&&t(f)})}Yt(e){const t=e.targetId,a=e.At.count,f=this.Xt(t);if(f){const y=f.target;if(du(y))if(0===a){const M=new zn(y.path);this.jt(t,M,vr.newNoDocument(M,Ci.min()))}else Ti(1===a);else this.Zt(t)!==a&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((y,M)=>{const U=this.Xt(M);if(U){if(y.current&&du(U.target)){const oe=new zn(U.target.path);null!==this.Ut.get(oe)||this.ee(M,oe)||this.jt(M,oe,vr.newNoDocument(oe,e))}y.Dt&&(t.set(M,y.xt()),y.Nt())}});let a=$i();this.qt.forEach((y,M)=>{let U=!0;M.forEachWhile(oe=>{const _e=this.Xt(oe);return!_e||2===_e.purpose||(U=!1,!1)}),U&&(a=a.add(y))}),this.Ut.forEach((y,M)=>M.setReadTime(e));const f=new Mo(e,t,this.Kt,this.Ut,a);return this.Ut=on(),this.qt=eo(),this.Kt=new te(Si),f}Qt(e,t){if(!this.Ht(e))return;const a=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,a),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,a){if(!this.Ht(e))return;const f=this.zt(e);this.ee(e,t)?f.kt(t,1):f.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),a&&(this.Ut=this.Ut.insert(t,a))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new bu,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new te(Si),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Rn("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new bu),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function eo(){return new F(zn.comparator)}function Th(){return new F(zn.comparator)}const Sh={asc:"ASCENDING",desc:"DESCENDING"},N_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class dm{constructor(e,t){this.databaseId=e,this.gt=t}}function td(s,e){return s.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cu(s,e){return s.gt?e.toBase64():e.toUint8Array()}function Mh(s,e){return td(s,e.toTimestamp())}function bs(s){return Ti(!!s),Ci.fromTimestamp(function(e){const t=Wn(e);return new kr(t.seconds,t.nanos)}(s))}function wu(s,e){return(t=s,new yi(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function hm(s){const e=yi.fromString(s);return Ti(yp(e)),e}function Ml(s,e){return wu(s.databaseId,e.path)}function Ia(s,e){const t=hm(e);if(t.get(1)!==s.databaseId.projectId)throw new Mn(cn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new Mn(cn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new zn(mp(t))}function pp(s,e){return wu(s.databaseId,e)}function Nd(s){const e=hm(s);return 4===e.length?yi.emptyPath():mp(e)}function Eu(s){return new yi(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function mp(s){return Ti(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function Il(s,e,t){return{name:Ml(s,e),fields:t.value.mapValue.fields}}function ff(s,e,t){const a=Ia(s,e.name),f=bs(e.updateTime),y=new us({mapValue:{fields:e.fields}}),M=vr.newFoundDocument(a,f,y);return t&&M.setHasCommittedMutations(),t?M.setHasCommittedMutations():M}function Ld(s,e){let t;if(e instanceof Pd)t={update:Il(s,e.key,e.value)};else if(e instanceof Bc)t={delete:Ml(s,e.key)};else if(e instanceof ll)t={update:Il(s,e.key,e.data),updateMask:vp(e.fieldMask)};else{if(!(e instanceof ds))return ii();t={verify:Ml(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(f,y){const M=y.transform;if(M instanceof gu)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(M instanceof _u)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:M.elements}};if(M instanceof $o)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:M.elements}};if(M instanceof sc)return{fieldPath:y.field.canonicalString(),increment:M.yt};throw ii()}(0,a))),e.precondition.isNone||(t.currentDocument=void 0!==(f=e.precondition).updateTime?{updateTime:Mh(s,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:ii()),t;var f}function pm(s,e){const t=e.currentDocument?void 0!==(f=e.currentDocument).updateTime?os.updateTime(bs(f.updateTime)):void 0!==f.exists?os.exists(f.exists):os.none():os.none(),a=e.updateTransforms?e.updateTransforms.map(f=>function(y,M){let U=null;"setToServerValue"in M?(Ti("REQUEST_TIME"===M.setToServerValue),U=new gu):"appendMissingElements"in M?U=new _u(M.appendMissingElements.values||[]):"removeAllFromArray"in M?U=new $o(M.removeAllFromArray.values||[]):"increment"in M?U=new sc(y,M.increment):ii();const oe=wr.fromServerFormat(M.fieldPath);return new jl(oe,U)}(s,f)):[];var f;if(e.update){const f=Ia(s,e.update.name),y=new us({mapValue:{fields:e.update.fields}});if(e.updateMask){const M=new ft((e.updateMask.fieldPaths||[]).map(_e=>wr.fromServerFormat(_e)));return new ll(f,y,M,t,a)}return new Pd(f,y,t,a)}if(e.delete){const f=Ia(s,e.delete);return new Bc(f,t)}if(e.verify){const f=Ia(s,e.verify);return new ds(f,t)}return ii()}function Fd(s,e){return{documents:[pp(s,e.path)]}}function _p(s,e){const t={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(t.parent=pp(s,a),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=pp(s,a.popLast()),t.structuredQuery.from=[{collectionId:a.lastSegment()}]);const f=function(oe){if(0===oe.length)return;const _e=oe.map(Ge=>function(bt){if("=="===bt.op){if(ms(bt.value))return{unaryFilter:{field:nd(bt.field),op:"IS_NAN"}};if(wi(bt.value))return{unaryFilter:{field:nd(bt.field),op:"IS_NULL"}}}else if("!="===bt.op){if(ms(bt.value))return{unaryFilter:{field:nd(bt.field),op:"IS_NOT_NAN"}};if(wi(bt.value))return{unaryFilter:{field:nd(bt.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nd(bt.field),op:Ih(bt.op),value:bt.value}}}(Ge));return 1===_e.length?_e[0]:{compositeFilter:{op:"AND",filters:_e}}}(e.filters);f&&(t.structuredQuery.where=f);const y=function(oe){if(0!==oe.length)return oe.map(_e=>{return{field:nd((Ge=_e).field),direction:Eg(Ge.dir)};var Ge})}(e.orderBy);y&&(t.structuredQuery.orderBy=y);const M=(_e=e.limit,s.gt||va(_e)?_e:{value:_e});var _e,U,oe;return null!==M&&(t.structuredQuery.limit=M),e.startAt&&(t.structuredQuery.startAt={before:(U=e.startAt).inclusive,values:U.position}),e.endAt&&(t.structuredQuery.endAt={before:!(oe=e.endAt).inclusive,values:oe.position}),t}function Du(s){let e=Nd(s.parent);const t=s.structuredQuery,a=t.from?t.from.length:0;let f=null;if(a>0){Ti(1===a);const Ge=t.from[0];Ge.allDescendants?f=Ge.collectionId:e=e.child(Ge.collectionId)}let y=[];t.where&&(y=mf(t.where));let M=[];t.orderBy&&(M=t.orderBy.map(Ge=>{return new al(id((bt=Ge).field),function(Kt){switch(Kt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(bt.direction));var bt}));let U=null;t.limit&&(U=function(Ge){let bt;return bt="object"==typeof Ge?Ge.value:Ge,va(bt)?null:bt}(t.limit));let oe=null;var Ge;t.startAt&&(oe=new El((Ge=t.startAt).values||[],!!Ge.before));let _e=null;return t.endAt&&(_e=function(Ge){return new El(Ge.values||[],!Ge.before)}(t.endAt)),bg(e,f,M,y,U,"F",oe,_e)}function mf(s){return s?void 0!==s.unaryFilter?[mm(s)]:void 0!==s.fieldFilter?[L_(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(e=>mf(e)).reduce((e,t)=>e.concat(t)):ii():[]}function Eg(s){return Sh[s]}function Ih(s){return N_[s]}function nd(s){return{fieldPath:s.canonicalString()}}function id(s){return wr.fromServerFormat(s.fieldPath)}function L_(s){return go.create(id(s.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ii()}}(s.fieldFilter.op),s.fieldFilter.value)}function mm(s){switch(s.unaryFilter.op){case"IS_NAN":const e=id(s.unaryFilter.field);return go.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=id(s.unaryFilter.field);return go.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=id(s.unaryFilter.field);return go.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=id(s.unaryFilter.field);return go.create(f,"!=",{nullValue:"NULL_VALUE"});default:return ii()}}function vp(s){const e=[];return s.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function yp(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function za(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=gf(e)),e=F_(s.get(t),e);return gf(e)}function F_(s,e){let t=e;const a=s.length;for(let f=0;f<a;f++){const y=s.charAt(f);switch(y){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=y}}return t}function gf(s){return s+"\x01\x01"}function Vc(s){const e=s.length;if(Ti(e>=2),2===e)return Ti("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),yi.emptyPath();const t=e-2,a=[];let f="";for(let y=0;y<e;){const M=s.indexOf("\x01",y);switch((M<0||M>t)&&ii(),s.charAt(M+1)){case"\x01":const U=s.substring(y,M);let oe;0===f.length?oe=U:(f+=U,oe=f,f=""),a.push(oe);break;case"\x10":f+=s.substring(y,M),f+="\0";break;case"\x11":f+=s.substring(y,M+1);break;default:ii()}y=M+2}return new yi(a)}const bp=["userId","batchId"];function xh(s,e){return[s,za(e)]}function Dg(s,e,t){return[s,za(e),t]}const Rv={},Ov=["prefixPath","collectionGroup","readTime","documentId"],Pv=["prefixPath","collectionGroup","documentId"],Tg=["collectionGroup","readTime","prefixPath","documentId"],Sg=["canonicalId","targetId"],Mg=["targetId","path"],gm=["path","targetId"],Ig=["collectionId","parent"],Tu=["indexId","uid"],_f=["uid","sequenceNumber"],Cp=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],xg=["indexId","uid","orderedDocumentKey"],Ah=["userId","collectionPath","documentId"],oc=["userId","collectionPath","largestBatchId"],Ag=["userId","collectionGroup","largestBatchId"],kg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],B_=[...kg,"documentOverlays"],_m=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vf=_m,vm=[...vf,"indexConfiguration","indexState","indexEntries"];class yf extends Jl{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Go(s,e){const t=Xn(s);return jo.M(t.ie,e)}class Bd{constructor(e,t,a,f){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=f}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let f=0;f<this.mutations.length;f++){const y=this.mutations[f];y.key.isEqual(e.key)&&Xu(y,e,a[f])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=Ju(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=Ju(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=Er();return this.mutations.forEach(f=>{const y=e.get(f.key),M=y.overlayedDocument;let U=this.applyToLocalView(M,y.mutatedFields);U=t.has(f.key)?null:U;const oe=Dh(M,U);null!==oe&&a.set(f.key,oe),M.isValidDocument()||M.convertToNoDocument(Ci.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$i())}isEqual(e){return this.batchId===e.batchId&&ga(this.mutations,e.mutations,(t,a)=>fp(t,a))&&ga(this.baseMutations,e.baseMutations,(t,a)=>fp(t,a))}}class ym{constructor(e,t,a,f){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=f}static from(e,t,a){Ti(e.mutations.length===a.length);let f=Xs;const y=e.mutations;for(let M=0;M<y.length;M++)f=f.insert(y[M].key,a[M].version);return new ym(e,t,a,f)}}class wp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Su{constructor(e,t,a,f,y=Ci.min(),M=Ci.min(),U=An.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=f,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=M,this.resumeToken=U}withSequenceNumber(e){return new Su(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Su(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Su(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Vd{constructor(e){this.re=e}}function Cm(s,e){const t=e.key,a={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:zo(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:Ml(f=s.re,(y=e).key),fields:y.data.value.mapValue.fields,updateTime:td(f,y.version.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:t.path.toArray(),readTime:Uc(e.version)};else{if(!e.isUnknownDocument())return ii();a.unknownDocument={path:t.path.toArray(),version:Uc(e.version)}}var f,y;return a}function zo(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function Uc(s){const e=s.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Mu(s){const e=new kr(s.seconds,s.nanoseconds);return Ci.fromTimestamp(e)}function Gl(s,e){const t=(e.baseMutations||[]).map(y=>pm(s.re,y));for(let y=0;y<e.mutations.length-1;++y){const M=e.mutations[y];y+1<e.mutations.length&&void 0!==e.mutations[y+1].transform&&(M.updateTransforms=e.mutations[y+1].transform.fieldTransforms,e.mutations.splice(y+1,1),++y)}const a=e.mutations.map(y=>pm(s.re,y)),f=kr.fromMillis(e.localWriteTimeMs);return new Bd(e.batchId,f,t,a)}function _o(s){const e=Mu(s.readTime),t=void 0!==s.lastLimboFreeSnapshotVersion?Mu(s.lastLimboFreeSnapshotVersion):Ci.min();let a;var f;return void 0!==s.query.documents?(Ti(1===(f=s.query).documents.length),a=Jo(Hl(Nd(f.documents[0])))):a=Jo(Du(s.query)),new Su(a,s.targetId,0,s.lastListenSequenceNumber,e,t,An.fromBase64String(s.resumeToken))}function Ud(s,e){const t=Uc(e.snapshotVersion),a=Uc(e.lastLimboFreeSnapshotVersion);let f;f=du(e.target)?Fd(s.re,e.target):_p(s.re,e.target);const y=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ic(e.target),readTime:t,resumeToken:y,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:f}}function Sr(s){const e=Du({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?Ku(e,e.limit,"L"):e}function Rr(s,e){return new wp(e.largestBatchId,pm(s.re,e.overlayMutation))}function ar(s,e){const t=e.path.lastSegment();return[s,za(e.path.popLast()),t]}function Hc(s,e,t,a){return{indexId:s,uid:e.uid||"",sequenceNumber:t,readTime:Uc(a.readTime),documentKey:za(a.documentKey.path),largestBatchId:a.largestBatchId}}class hs{getBundleMetadata(e,t){return bf(e).get(t).next(a=>{if(a)return{id:(f=a).bundleId,createTime:Mu(f.createTime),version:f.version};var f})}saveBundleMetadata(e,t){return bf(e).put({bundleId:(a=t).id,createTime:Uc(bs(a.createTime)),version:a.version});var a}getNamedQuery(e,t){return Rg(e).get(t).next(a=>{if(a)return{name:(f=a).name,query:Sr(f.bundledQuery),readTime:Mu(f.readTime)};var f})}saveNamedQuery(e,t){return Rg(e).put({name:(a=t).name,readTime:Uc(bs(a.readTime)),bundledQuery:a.bundledQuery});var a}}function bf(s){return Go(s,"bundles")}function Rg(s){return Go(s,"namedQueries")}class Iu{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Iu(e,t.uid||"")}getOverlay(e,t){return kh(e).get(ar(this.userId,t)).next(a=>a?Rr(this.It,a):null)}getOverlays(e,t){const a=gi();return an.forEach(t,f=>this.getOverlay(e,f).next(y=>{null!==y&&a.set(f,y)})).next(()=>a)}saveOverlays(e,t,a){const f=[];return a.forEach((y,M)=>{const U=new wp(t,M);f.push(this.ue(e,U))}),an.waitFor(f)}removeOverlaysForBatchId(e,t,a){const f=new Set;t.forEach(M=>f.add(za(M.getCollectionPath())));const y=[];return f.forEach(M=>{const U=IDBKeyRange.bound([this.userId,M,a],[this.userId,M,a+1],!1,!0);y.push(kh(e).Y("collectionPathOverlayIndex",U))}),an.waitFor(y)}getOverlaysForCollection(e,t,a){const f=gi(),y=za(t),M=IDBKeyRange.bound([this.userId,y,a],[this.userId,y,Number.POSITIVE_INFINITY],!0);return kh(e).W("collectionPathOverlayIndex",M).next(U=>{for(const oe of U){const _e=Rr(this.It,oe);f.set(_e.getKey(),_e)}return f})}getOverlaysForCollectionGroup(e,t,a,f){const y=gi();let M;const U=IDBKeyRange.bound([this.userId,t,a],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kh(e).Z({index:"collectionGroupOverlayIndex",range:U},(oe,_e,Ge)=>{const bt=Rr(this.It,_e);y.size()<f||bt.largestBatchId===M?(y.set(bt.getKey(),bt),M=bt.largestBatchId):Ge.done()}).next(()=>y)}ue(e,t){return kh(e).put(function(a,f,y){const[M,U,oe]=ar(f,y.mutation.key);return{userId:f,collectionPath:U,documentId:oe,collectionGroup:y.mutation.key.getCollectionGroup(),largestBatchId:y.largestBatchId,overlayMutation:Ld(a.re,y.mutation)}}(this.It,this.userId,t))}}function kh(s){return Go(s,"documentOverlays")}class Zr{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(ci(e.integerValue));else if("doubleValue"in e){const a=ci(e.doubleValue);isNaN(a)?this.le(t,13):(this.le(t,15),Jr(a)?t.fe(0):t.fe(a))}else if("timestampValue"in e){const a=e.timestampValue;this.le(t,20),"string"==typeof a?t.de(a):(t.de(`${a.seconds||""}`),t.fe(a.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Ui(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const a=e.geoPointValue;this.le(t,45),t.fe(a.latitude||0),t.fe(a.longitude||0)}else"mapValue"in e?Ha(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):ii()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const a=e.fields||{};this.le(t,55);for(const f of Object.keys(a))this._e(f,t),this.ae(a[f],t)}pe(e,t){const a=e.values||[];this.le(t,50);for(const f of a)this.ae(f,t)}ge(e,t){this.le(t,37),zn.fromName(e).path.forEach(a=>{this.le(t,60),this.Ie(a,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function lr(s){if(0===s)return 8;let e=0;return s>>4==0&&(e+=4,s<<=4),s>>6==0&&(e+=2,s<<=2),s>>7==0&&(e+=1),e}function xa(s){const e=64-function(t){let a=0;for(let f=0;f<8;++f){const y=lr(255&t[f]);if(a+=y,8!==y)break}return a}(s);return Math.ceil(e/8)}Zr.Te=new Zr;class xu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this.Ae(a.value),a=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this.Pe(a.value),a=t.next();this.ve()}Ve(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this.Ae(a);else if(a<2048)this.Ae(960|a>>>6),this.Ae(128|63&a);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a);else{const f=t.codePointAt(0);this.Ae(240|f>>>18),this.Ae(128|63&f>>>12),this.Ae(128|63&f>>>6),this.Ae(128|63&f)}}this.Re()}Se(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this.Pe(a);else if(a<2048)this.Pe(960|a>>>6),this.Pe(128|63&a);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a);else{const f=t.codePointAt(0);this.Pe(240|f>>>18),this.Pe(128|63&f>>>12),this.Pe(128|63&f>>>6),this.Pe(128|63&f)}}this.ve()}De(e){const t=this.Ce(e),a=xa(t);this.xe(1+a),this.buffer[this.position++]=255&a;for(let f=t.length-a;f<t.length;++f)this.buffer[this.position++]=255&t[f]}Ne(e){const t=this.Ce(e),a=xa(t);this.xe(1+a),this.buffer[this.position++]=~(255&a);for(let f=t.length-a;f<t.length;++f)this.buffer[this.position++]=~(255&t[f])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(f){const y=new DataView(new ArrayBuffer(8));return y.setFloat64(0,f,!1),new Uint8Array(y.buffer)}(e),a=0!=(128&t[0]);t[0]^=a?255:128;for(let f=1;f<t.length;++f)t[f]^=a?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let a=2*this.buffer.length;a<t&&(a=t);const f=new Uint8Array(a);f.set(this.buffer),this.buffer=f}}class rd{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class zs{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Rh{constructor(){this.Be=new xu,this.Le=new rd(this.Be),this.Ue=new zs(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class sd{constructor(e,t,a,f){this.indexId=e,this.documentKey=t,this.arrayValue=a,this.directionalValue=f}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(t);return a.set(this.directionalValue,0),t!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new sd(this.indexId,this.documentKey,this.arrayValue,a)}}function Oh(s,e){let t=s.indexId-e.indexId;return 0!==t?t:(t=Og(s.arrayValue,e.arrayValue),0!==t?t:(t=Og(s.directionalValue,e.directionalValue),0!==t?t:zn.comparator(s.documentKey,e.documentKey)))}function Og(s,e){for(let t=0;t<s.length&&t<e.length;++t){const a=s[t]-e[t];if(0!==a)return a}return s.length-e.length}class jc{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const a=t;a.dt()?this.je=a:this.Qe.push(a)}}We(e){const t=Da(e);if(void 0!==t&&!this.ze(t))return!1;const a=Qo(e);let f=0,y=0;for(;f<a.length&&this.ze(a[f]);++f);if(f===a.length)return!0;if(void 0!==this.je){const M=a[f];if(!this.He(this.je,M)||!this.Je(this.Ge[y++],M))return!1;++f}for(;f<a.length;++f){const M=a[f];if(y>=this.Ge.length||!this.Je(this.Ge[y++],M))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class wm{constructor(){this.Ye=new ba}addToCollectionParentIndex(e,t){return this.Ye.add(t),an.resolve()}getCollectionParents(e,t){return an.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return an.resolve()}deleteFieldIndex(e,t){return an.resolve()}getDocumentsMatchingTarget(e,t){return an.resolve(null)}getIndexType(e,t){return an.resolve(0)}getFieldIndexes(e,t){return an.resolve([])}getNextCollectionGroupToUpdate(e){return an.resolve(null)}getMinOffset(e,t){return an.resolve(uo.min())}getMinOffsetFromCollectionGroup(e,t){return an.resolve(uo.min())}updateCollectionGroup(e,t,a){return an.resolve()}updateIndexEntries(e,t){return an.resolve()}}class ba{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),f=this.index[t]||new te(yi.comparator),y=!f.has(a);return this.index[t]=f.add(a),y}has(e){const t=e.lastSegment(),a=e.popLast(),f=this.index[t];return f&&f.has(a)}getEntries(e){return(this.index[e]||new te(yi.comparator)).toArray()}}const Hd=new Uint8Array(0);class Cf{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new ba,this.Ze=new Ee(a=>ic(a),(a,f)=>Oc(a,f)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const a=t.lastSegment(),f=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const y={collectionId:a,parent:za(f)};return Em(e).put(y)}return an.resolve()}getCollectionParents(e,t){const a=[],f=IDBKeyRange.bound([t,""],[rl(t),""],!1,!0);return Em(e).W(f).next(y=>{for(const M of y){if(M.collectionId!==t)break;a.push(Vc(M.parent))}return a})}addFieldIndex(e,t){const a=$c(e),f={indexId:(M=t).indexId,collectionGroup:M.collectionGroup,fields:M.fields.map(U=>[U.fieldPath.canonicalString(),U.kind])};var M;delete f.indexId;const y=a.add(f);if(t.indexState){const M=ac(e);return y.next(U=>{M.put(Hc(U,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return y.next()}deleteFieldIndex(e,t){const a=$c(e),f=ac(e),y=Au(e);return a.delete(t.indexId).next(()=>f.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const a=Au(e);let f=!0;const y=new Map;return an.forEach(this.tn(t),M=>this.en(e,M).next(U=>{f&&(f=!!U),y.set(M,U)})).next(()=>{if(f){let M=$i();const U=[];return an.forEach(y,(oe,_e)=>{var Ge;Rn("IndexedDbIndexManager",`Using index ${Ge=oe,`id=${Ge.indexId}|cg=${Ge.collectionGroup}|f=${Ge.fields.map(ti=>`${ti.fieldPath}:${ti.kind}`).join(",")}`} to execute ${ic(t)}`);const bt=function(ti,Mi){const ki=Da(Mi);if(void 0===ki)return null;for(const rr of zu(ti,ki.fieldPath))switch(rr.op){case"array-contains-any":return rr.value.arrayValue.values||[];case"array-contains":return[rr.value]}return null}(_e,oe),Kt=function(ti,Mi){const ki=new Map;for(const rr of Qo(Mi))for(const Gr of zu(ti,rr.fieldPath))switch(Gr.op){case"==":case"in":ki.set(rr.fieldPath.canonicalString(),Gr.value);break;case"not-in":case"!=":return ki.set(rr.fieldPath.canonicalString(),Gr.value),Array.from(ki.values())}return null}(_e,oe),yn=function(ti,Mi){const ki=[];let rr=!0;for(const Gr of Qo(Mi)){const ql=0===Gr.kind?Ad(ti,Gr.fieldPath,ti.startAt):vh(ti,Gr.fieldPath,ti.startAt);ki.push(ql.value),rr&&(rr=ql.inclusive)}return new El(ki,rr)}(_e,oe),Tn=function(ti,Mi){const ki=[];let rr=!0;for(const Gr of Qo(Mi)){const ql=0===Gr.kind?vh(ti,Gr.fieldPath,ti.endAt):Ad(ti,Gr.fieldPath,ti.endAt);ki.push(ql.value),rr&&(rr=ql.inclusive)}return new El(ki,rr)}(_e,oe),ri=this.nn(oe,_e,yn),pi=this.nn(oe,_e,Tn),Hn=this.sn(oe,_e,Kt),ei=this.rn(oe.indexId,bt,ri,yn.inclusive,pi,Tn.inclusive,Hn);return an.forEach(ei,ti=>a.J(ti,t.limit).next(Mi=>{Mi.forEach(ki=>{const rr=zn.fromSegments(ki.documentKey);M.has(rr)||(M=M.add(rr),U.push(rr))})}))}).next(()=>U)}return an.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,a,f,y,M,U){const oe=(null!=t?t.length:1)*Math.max(a.length,y.length),_e=oe/(null!=t?t.length:1),Ge=[];for(let bt=0;bt<oe;++bt){const Kt=t?this.on(t[bt/_e]):Hd,yn=this.un(e,Kt,a[bt%_e],f),Tn=this.cn(e,Kt,y[bt%_e],M),ri=U.map(pi=>this.un(e,Kt,pi,!0));Ge.push(...this.createRange(yn,Tn,ri))}return Ge}un(e,t,a,f){const y=new sd(e,zn.empty(),t,a);return f?y:y.Ke()}cn(e,t,a,f){const y=new sd(e,zn.empty(),t,a);return f?y.Ke():y}en(e,t){const a=new jc(t),f=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,f).next(y=>{let M=null;for(const U of y)a.We(U)&&(!M||U.fields.length>M.fields.length)&&(M=U);return M})}getIndexType(e,t){let a=2;return an.forEach(this.tn(t),f=>this.en(e,f).next(y=>{y?0!==a&&y.fields.length<function(M){let U=new te(wr.comparator),oe=!1;for(const _e of M.filters){const Ge=_e;Ge.field.isKeyField()||("array-contains"===Ge.op||"array-contains-any"===Ge.op?oe=!0:U=U.add(Ge.field))}for(const _e of M.orderBy)_e.field.isKeyField()||(U=U.add(_e.field));return U.size+(oe?1:0)}(f)&&(a=1):a=0})).next(()=>a)}an(e,t){const a=new Rh;for(const f of Qo(e)){const y=t.data.field(f.fieldPath);if(null==y)return null;const M=a.qe(f.kind);Zr.Te.ce(y,M)}return a.$e()}on(e){const t=new Rh;return Zr.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const a=new Rh;return Zr.Te.ce(_i(this.databaseId,t),a.qe(function(f){const y=Qo(f);return 0===y.length?0:y[y.length-1].kind}(e))),a.$e()}sn(e,t,a){if(null===a)return[];let f=[];f.push(new Rh);let y=0;for(const M of Qo(e)){const U=a[y++];for(const oe of f)if(this.ln(t,M.fieldPath)&&Ri(U))f=this.fn(f,M,U);else{const _e=oe.qe(M.kind);Zr.Te.ce(U,_e)}}return this.dn(f)}nn(e,t,a){return this.sn(e,t,a.position)}dn(e){const t=[];for(let a=0;a<e.length;++a)t[a]=e[a].$e();return t}fn(e,t,a){const f=[...e],y=[];for(const M of a.arrayValue.values||[])for(const U of f){const oe=new Rh;oe.seed(U.$e()),Zr.Te.ce(M,oe.qe(t.kind)),y.push(oe)}return y}ln(e,t){return!!e.filters.find(a=>a instanceof go&&a.field.isEqual(t)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,t){const a=$c(e),f=ac(e);return(t?a.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):a.W()).next(y=>{const M=[];return an.forEach(y,U=>f.get([U.indexId,this.uid]).next(oe=>{M.push(function(_e,Ge){const bt=Ge?new bl(Ge.sequenceNumber,new uo(Mu(Ge.readTime),new zn(Vc(Ge.documentKey)),Ge.largestBatchId)):bl.empty(),Kt=_e.fields.map(([yn,Tn])=>new _a(wr.fromServerFormat(yn),Tn));return new qo(_e.indexId,_e.collectionGroup,Kt,bt)}(U,oe))})).next(()=>M)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((a,f)=>{const y=a.indexState.sequenceNumber-f.indexState.sequenceNumber;return 0!==y?y:Si(a.collectionGroup,f.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,a){const f=$c(e),y=ac(e);return this._n(e).next(M=>f.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(U=>an.forEach(U,oe=>y.put(Hc(oe.indexId,this.user,M,a)))))}updateIndexEntries(e,t){const a=new Map;return an.forEach(t,(f,y)=>{const M=a.get(f.collectionGroup);return(M?an.resolve(M):this.getFieldIndexes(e,f.collectionGroup)).next(U=>(a.set(f.collectionGroup,U),an.forEach(U,oe=>this.wn(e,f,oe).next(_e=>{const Ge=this.mn(y,oe);return _e.isEqual(Ge)?an.resolve():this.gn(e,y,oe,_e,Ge)}))))})}yn(e,t,a,f){return Au(e).put({indexId:f.indexId,uid:this.uid,arrayValue:f.arrayValue,directionalValue:f.directionalValue,orderedDocumentKey:this.hn(a,t.key),documentKey:t.key.path.toArray()})}pn(e,t,a,f){return Au(e).delete([f.indexId,this.uid,f.arrayValue,f.directionalValue,this.hn(a,t.key),t.key.path.toArray()])}wn(e,t,a){const f=Au(e);let y=new te(Oh);return f.Z({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.hn(a,t)])},(M,U)=>{y=y.add(new sd(a.indexId,t,U.arrayValue,U.directionalValue))}).next(()=>y)}mn(e,t){let a=new te(Oh);const f=this.an(t,e);if(null==f)return a;const y=Da(t);if(null!=y){const M=e.data.field(y.fieldPath);if(Ri(M))for(const U of M.arrayValue.values||[])a=a.add(new sd(t.indexId,e.key,this.on(U),f))}else a=a.add(new sd(t.indexId,e.key,Hd,f));return a}gn(e,t,a,f,y){Rn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const M=[];return function(U,oe,_e,Ge,bt){const Kt=U.getIterator(),yn=oe.getIterator();let Tn=nt(Kt),ri=nt(yn);for(;Tn||ri;){let pi=!1,Hn=!1;if(Tn&&ri){const ei=_e(Tn,ri);ei<0?Hn=!0:ei>0&&(pi=!0)}else null!=Tn?Hn=!0:pi=!0;pi?(Ge(ri),ri=nt(yn)):Hn?(bt(Tn),Tn=nt(Kt)):(Tn=nt(Kt),ri=nt(yn))}}(f,y,Oh,U=>{M.push(this.yn(e,t,a,U))},U=>{M.push(this.pn(e,t,a,U))}),an.waitFor(M)}_n(e){let t=1;return ac(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,f,y)=>{y.done(),t=f.sequenceNumber+1}).next(()=>t)}createRange(e,t,a){a=a.sort((M,U)=>Oh(M,U)).filter((M,U,oe)=>!U||0!==Oh(M,oe[U-1]));const f=[];f.push(e);for(const M of a){const U=Oh(M,e),oe=Oh(M,t);if(0===U)f[0]=e.Ke();else if(U>0&&oe<0)f.push(M),f.push(M.Ke());else if(oe>0)break}f.push(t);const y=[];for(let M=0;M<f.length;M+=2)y.push(IDBKeyRange.bound([f[M].indexId,this.uid,f[M].arrayValue,f[M].directionalValue,Hd,[]],[f[M+1].indexId,this.uid,f[M+1].arrayValue,f[M+1].directionalValue,Hd,[]]));return y}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(cl)}getMinOffset(e,t){return an.mapArray(this.tn(t),a=>this.en(e,a).next(f=>f||ii())).next(cl)}}function Em(s){return Go(s,"collectionParents")}function Au(s){return Go(s,"indexEntries")}function $c(s){return Go(s,"indexConfiguration")}function ac(s){return Go(s,"indexState")}function cl(s){Ti(0!==s.length);let e=s[0].indexState.offset,t=e.largestBatchId;for(let a=1;a<s.length;a++){const f=s[a].indexState.offset;Ac(f,e)<0&&(e=f),t<f.largestBatchId&&(t=f.largestBatchId)}return new uo(e.readTime,e.documentKey,t)}const Wi={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ws{constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Ws(e,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function od(s,e,t){const a=s.store("mutations"),f=s.store("documentMutations"),y=[],M=IDBKeyRange.only(t.batchId);let U=0;const oe=a.Z({range:M},(Ge,bt,Kt)=>(U++,Kt.delete()));y.push(oe.next(()=>{Ti(1===U)}));const _e=[];for(const Ge of t.mutations){const bt=Dg(e,Ge.key.path,t.batchId);y.push(f.delete(bt)),_e.push(Ge.key)}return an.waitFor(y).next(()=>_e)}function jd(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw ii();e=s.noDocument}return JSON.stringify(e).length}Ws.DEFAULT_COLLECTION_PERCENTILE=10,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ws.DEFAULT=new Ws(41943040,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ws.DISABLED=new Ws(-1,0,0);class vo{constructor(e,t,a,f){this.userId=e,this.It=t,this.indexManager=a,this.referenceDelegate=f,this.In={}}static oe(e,t,a,f){Ti(""!==e.uid);const y=e.isAuthenticated()?e.uid:"";return new vo(y,t,a,f)}checkEmpty(e){let t=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ys(e).Z({index:"userMutationsIndex",range:a},(f,y,M)=>{t=!1,M.done()}).next(()=>t)}addMutationBatch(e,t,a,f){const y=ku(e),M=Ys(e);return M.add({}).next(U=>{Ti("number"==typeof U);const oe=new Bd(U,t,a,f),_e=function(Kt,yn,Tn){const ri=Tn.baseMutations.map(Hn=>Ld(Kt.re,Hn)),pi=Tn.mutations.map(Hn=>Ld(Kt.re,Hn));return{userId:yn,batchId:Tn.batchId,localWriteTimeMs:Tn.localWriteTime.toMillis(),baseMutations:ri,mutations:pi}}(this.It,this.userId,oe),Ge=[];let bt=new te((Kt,yn)=>Si(Kt.canonicalString(),yn.canonicalString()));for(const Kt of f){const yn=Dg(this.userId,Kt.key.path,U);bt=bt.add(Kt.key.path.popLast()),Ge.push(M.put(_e)),Ge.push(y.put(yn,Rv))}return bt.forEach(Kt=>{Ge.push(this.indexManager.addToCollectionParentIndex(e,Kt))}),e.addOnCommittedListener(()=>{this.In[U]=oe.keys()}),an.waitFor(Ge).next(()=>oe)})}lookupMutationBatch(e,t){return Ys(e).get(t).next(a=>a?(Ti(a.userId===this.userId),Gl(this.It,a)):null)}Tn(e,t){return this.In[t]?an.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(a=>{if(a){const f=a.keys();return this.In[t]=f,f}return null})}getNextMutationBatchAfterBatchId(e,t){const a=t+1,f=IDBKeyRange.lowerBound([this.userId,a]);let y=null;return Ys(e).Z({index:"userMutationsIndex",range:f},(M,U,oe)=>{U.userId===this.userId&&(Ti(U.batchId>=a),y=Gl(this.It,U)),oe.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Ys(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(f,y,M)=>{a=y.batchId,M.done()}).next(()=>a)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ys(e).W("userMutationsIndex",t).next(a=>a.map(f=>Gl(this.It,f)))}getAllMutationBatchesAffectingDocumentKey(e,t){const a=xh(this.userId,t.path),f=IDBKeyRange.lowerBound(a),y=[];return ku(e).Z({range:f},(M,U,oe)=>{const[_e,Ge,bt]=M,Kt=Vc(Ge);if(_e===this.userId&&t.path.isEqual(Kt))return Ys(e).get(bt).next(yn=>{if(!yn)throw ii();Ti(yn.userId===this.userId),y.push(Gl(this.It,yn))});oe.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new te(Si);const f=[];return t.forEach(y=>{const M=xh(this.userId,y.path),U=IDBKeyRange.lowerBound(M),oe=ku(e).Z({range:U},(_e,Ge,bt)=>{const[Kt,yn,Tn]=_e,ri=Vc(yn);Kt===this.userId&&y.path.isEqual(ri)?a=a.add(Tn):bt.done()});f.push(oe)}),an.waitFor(f).next(()=>this.En(e,a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,f=a.length+1,y=xh(this.userId,a),M=IDBKeyRange.lowerBound(y);let U=new te(Si);return ku(e).Z({range:M},(oe,_e,Ge)=>{const[bt,Kt,yn]=oe,Tn=Vc(Kt);bt===this.userId&&a.isPrefixOf(Tn)?Tn.length===f&&(U=U.add(yn)):Ge.done()}).next(()=>this.En(e,U))}En(e,t){const a=[],f=[];return t.forEach(y=>{f.push(Ys(e).get(y).next(M=>{if(null===M)throw ii();Ti(M.userId===this.userId),a.push(Gl(this.It,M))}))}),an.waitFor(f).next(()=>a)}removeMutationBatch(e,t){return od(e.ie,this.userId,t).next(a=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),an.forEach(a,f=>this.referenceDelegate.markPotentiallyOrphaned(e,f))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return an.resolve();const a=IDBKeyRange.lowerBound([this.userId]),f=[];return ku(e).Z({range:a},(y,M,U)=>{if(y[0]===this.userId){const oe=Vc(y[1]);f.push(oe)}else U.done()}).next(()=>{Ti(0===f.length)})})}containsKey(e,t){return xl(e,this.userId,t)}Rn(e){return ta(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function xl(s,e,t){const a=xh(e,t.path),f=a[1],y=IDBKeyRange.lowerBound(a);let M=!1;return ku(s).Z({range:y,X:!0},(U,oe,_e)=>{const[Ge,bt,Kt]=U;Ge===e&&bt===f&&(M=!0),_e.done()}).next(()=>M)}function Ys(s){return Go(s,"mutations")}function ku(s){return Go(s,"documentMutations")}function ta(s){return Go(s,"mutationQueues")}class lc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new lc(0)}static vn(){return new lc(-1)}}class Ph{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const a=new lc(t.highestTargetId);return t.highestTargetId=a.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Ci.fromTimestamp(new kr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,a){return this.Vn(e).next(f=>(f.highestListenSequenceNumber=t,a&&(f.lastRemoteSnapshotVersion=a.toTimestamp()),t>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=t),this.Sn(e,f)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(a=>(a.targetCount+=1,this.Cn(t,a),this.Sn(e,a))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Gc(e).delete(t.targetId)).next(()=>this.Vn(e)).next(a=>(Ti(a.targetCount>0),a.targetCount-=1,this.Sn(e,a)))}removeTargets(e,t,a){let f=0;const y=[];return Gc(e).Z((M,U)=>{const oe=_o(U);oe.sequenceNumber<=t&&null===a.get(oe.targetId)&&(f++,y.push(this.removeTargetData(e,oe)))}).next(()=>an.waitFor(y)).next(()=>f)}forEachTarget(e,t){return Gc(e).Z((a,f)=>{const y=_o(f);t(y)})}Vn(e){return Pg(e).get("targetGlobalKey").next(t=>(Ti(null!==t),t))}Sn(e,t){return Pg(e).put("targetGlobalKey",t)}Dn(e,t){return Gc(e).put(Ud(this.It,t))}Cn(e,t){let a=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,a=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const a=ic(t),f=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let y=null;return Gc(e).Z({range:f,index:"queryTargetsIndex"},(M,U,oe)=>{const _e=_o(U);Oc(t,_e.target)&&(y=_e,oe.done())}).next(()=>y)}addMatchingKeys(e,t,a){const f=[],y=zl(e);return t.forEach(M=>{const U=za(M.path);f.push(y.put({targetId:a,path:U})),f.push(this.referenceDelegate.addReference(e,a,M))}),an.waitFor(f)}removeMatchingKeys(e,t,a){const f=zl(e);return an.forEach(t,y=>{const M=za(y.path);return an.waitFor([f.delete([a,M]),this.referenceDelegate.removeReference(e,a,y)])})}removeMatchingKeysForTargetId(e,t){const a=zl(e),f=IDBKeyRange.bound([t],[t+1],!1,!0);return a.delete(f)}getMatchingKeysForTargetId(e,t){const a=IDBKeyRange.bound([t],[t+1],!1,!0),f=zl(e);let y=$i();return f.Z({range:a,X:!0},(M,U,oe)=>{const _e=Vc(M[1]),Ge=new zn(_e);y=y.add(Ge)}).next(()=>y)}containsKey(e,t){const a=za(t.path),f=IDBKeyRange.bound([a],[rl(a)],!1,!0);let y=0;return zl(e).Z({index:"documentTargetsIndex",X:!0,range:f},([M,U],oe,_e)=>{0!==M&&(y++,_e.done())}).next(()=>y>0)}se(e,t){return Gc(e).get(t).next(a=>a?_o(a):null)}}function Gc(s){return Go(s,"targets")}function Pg(s){return Go(s,"targetGlobal")}function zl(s){return Go(s,"targetDocuments")}function Ep([s,e],[t,a]){const f=Si(s,t);return 0===f?Si(e,a):f}class Dm{constructor(e){this.xn=e,this.buffer=new te(Ep),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();Ep(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Wl{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Rn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ht.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(a){Sa(a)?Rn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Ho(a)}yield t.Fn(3e5)}))}}class wf{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(0===t)return an.resolve(po.at);const a=new Dm(t);return this.$n.forEachTarget(e,f=>a.On(f.sequenceNumber)).next(()=>this.$n.Ln(e,f=>a.On(f))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.$n.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Rn("LruGarbageCollector","Garbage collection skipped; disabled"),an.resolve(Wi)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(Rn("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wi):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let a,f,y,M,U,oe,_e;const Ge=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(bt=>(bt>this.params.maximumSequenceNumbersToCollect?(Rn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${bt}`),f=this.params.maximumSequenceNumbersToCollect):f=bt,M=Date.now(),this.nthSequenceNumber(e,f))).next(bt=>(a=bt,U=Date.now(),this.removeTargets(e,a,t))).next(bt=>(y=bt,oe=Date.now(),this.removeOrphanedDocuments(e,a))).next(bt=>(_e=Date.now(),_l()<=et.in.DEBUG&&Rn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${M-Ge}ms\n\tDetermined least recently used ${f} in `+(U-M)+`ms\n\tRemoved ${y} targets in `+(oe-U)+`ms\n\tRemoved ${bt} documents in `+(_e-oe)+`ms\nTotal Duration: ${_e-Ge}ms`),an.resolve({didRun:!0,sequenceNumbersCollected:f,targetsRemoved:y,documentsRemoved:bt})))}}class Dp{constructor(e,t){this.db=e,this.garbageCollector=new wf(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(a=>t.next(f=>a+f))}qn(e){let t=0;return this.Ln(e,a=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(a,f)=>t(f))}addReference(e,t,a){return cc(e,a)}removeReference(e,t,a){return cc(e,a)}removeTargets(e,t,a){return this.db.getTargetCache().removeTargets(e,t,a)}markPotentiallyOrphaned(e,t){return cc(e,t)}Gn(e,t){return function(a,f){let y=!1;return ta(a).tt(M=>xl(a,M,f).next(U=>(U&&(y=!0),an.resolve(!U)))).next(()=>y)}(e,t)}removeOrphanedDocuments(e,t){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),f=[];let y=0;return this.Kn(e,(M,U)=>{if(U<=t){const oe=this.Gn(e,M).next(_e=>{if(!_e)return y++,a.getEntry(e,M).next(()=>(a.removeEntry(M,Ci.min()),zl(e).delete([0,za(M.path)])))});f.push(oe)}}).next(()=>an.waitFor(f)).next(()=>a.apply(e)).next(()=>y)}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,t){return cc(e,t)}Kn(e,t){const a=zl(e);let f,y=po.at;return a.Z({index:"documentTargetsIndex"},([M,U],{path:oe,sequenceNumber:_e})=>{0===M?(y!==po.at&&t(new zn(Vc(f)),y),y=_e,f=oe):y=po.at}).next(()=>{y!==po.at&&t(new zn(Vc(f)),y)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function cc(s,e){return zl(s).put((a=s.currentSequenceNumber,{targetId:0,path:za(e.path),sequenceNumber:a}));var a}class Nh{constructor(){this.changes=new Ee(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return void 0!==a?an.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zc{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,a){return Wa(e).put(a)}removeEntry(e,t,a){return Wa(e).delete(function(f,y){const M=f.path.toArray();return[M.slice(0,M.length-2),M[M.length-2],zo(y),M[M.length-1]]}(t,a))}updateMetadata(e,t){return this.getMetadata(e).next(a=>(a.byteSize+=t,this.Qn(e,a)))}getEntry(e,t){let a=vr.newInvalidDocument(t);return Wa(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Wc(t))},(f,y)=>{a=this.jn(t,y)}).next(()=>a)}Wn(e,t){let a={size:0,document:vr.newInvalidDocument(t)};return Wa(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Wc(t))},(f,y)=>{a={document:this.jn(t,y),size:jd(y)}}).next(()=>a)}getEntries(e,t){let a=on();return this.zn(e,t,(f,y)=>{const M=this.jn(f,y);a=a.insert(f,M)}).next(()=>a)}Hn(e,t){let a=on(),f=new F(zn.comparator);return this.zn(e,t,(y,M)=>{const U=this.jn(y,M);a=a.insert(y,U),f=f.insert(y,jd(M))}).next(()=>({documents:a,Jn:f}))}zn(e,t,a){if(t.isEmpty())return an.resolve();let f=new te(Ru);t.forEach(oe=>f=f.add(oe));const y=IDBKeyRange.bound(Wc(f.first()),Wc(f.last())),M=f.getIterator();let U=M.getNext();return Wa(e).Z({index:"documentKeyIndex",range:y},(oe,_e,Ge)=>{const bt=zn.fromSegments([..._e.prefixPath,_e.collectionGroup,_e.documentId]);for(;U&&Ru(U,bt)<0;)a(U,null),U=M.getNext();U&&U.isEqual(bt)&&(a(U,_e),U=M.hasNext()?M.getNext():null),U?Ge.j(Wc(U)):Ge.done()}).next(()=>{for(;U;)a(U,null),U=M.hasNext()?M.getNext():null})}getAllFromCollection(e,t,a){const f=[t.popLast().toArray(),t.lastSegment(),zo(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],y=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Wa(e).W(IDBKeyRange.bound(f,y,!0)).next(M=>{let U=on();for(const oe of M){const _e=this.jn(zn.fromSegments(oe.prefixPath.concat(oe.collectionGroup,oe.documentId)),oe);U=U.insert(_e.key,_e)}return U})}getAllFromCollectionGroup(e,t,a,f){let y=on();const M=ad(t,a),U=ad(t,uo.max());return Wa(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(M,U,!0)},(oe,_e,Ge)=>{const bt=this.jn(zn.fromSegments(_e.prefixPath.concat(_e.collectionGroup,_e.documentId)),_e);y=y.insert(bt.key,bt),y.size===f&&Ge.done()}).next(()=>y)}newChangeBuffer(e){return new Ef(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return uc(e).get("remoteDocumentGlobalKey").next(t=>(Ti(!!t),t))}Qn(e,t){return uc(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const a=function bm(s,e){let t;if(e.document)t=ff(s.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=zn.fromSegments(e.noDocument.path),f=Mu(e.noDocument.readTime);t=vr.newNoDocument(a,f),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ii();{const a=zn.fromSegments(e.unknownDocument.path),f=Mu(e.unknownDocument.version);t=vr.newUnknownDocument(a,f)}}return e.readTime&&t.setReadTime(function(a){const f=new kr(a[0],a[1]);return Ci.fromTimestamp(f)}(e.readTime)),t}(this.It,t);if(!a.isNoDocument()||!a.version.isEqual(Ci.min()))return a}return vr.newInvalidDocument(e)}}function $r(s){return new zc(s)}class Ef extends Nh{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Ee(a=>a.toString(),(a,f)=>a.isEqual(f))}applyChanges(e){const t=[];let a=0,f=new te((y,M)=>Si(y.canonicalString(),M.canonicalString()));return this.changes.forEach((y,M)=>{const U=this.Xn.get(y);if(t.push(this.Yn.removeEntry(e,y,U.readTime)),M.isValidDocument()){const oe=Cm(this.Yn.It,M);f=f.add(y.path.popLast()),a+=jd(oe)-U.size,t.push(this.Yn.addEntry(e,y,oe))}else if(a-=U.size,this.trackRemovals){const oe=Cm(this.Yn.It,M.convertToNoDocument(Ci.min()));t.push(this.Yn.addEntry(e,y,oe))}}),f.forEach(y=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,y))}),t.push(this.Yn.updateMetadata(e,a)),an.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(a=>(this.Xn.set(t,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:a,Jn:f})=>(f.forEach((y,M)=>{this.Xn.set(y,{size:M,readTime:a.get(y).readTime})}),a))}}function uc(s){return Go(s,"remoteDocumentGlobal")}function Wa(s){return Go(s,"remoteDocumentsV14")}function Wc(s){const e=s.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ad(s,e){const t=e.documentKey.path.toArray();return[s,zo(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Ru(s,e){const t=s.path.toArray(),a=e.path.toArray();let f=0;for(let y=0;y<t.length-2&&y<a.length-2;++y)if(f=Si(t[y],a[y]),f)return f;return f=Si(t.length,a.length),f||(f=Si(t[t.length-2],a[a.length-2]),f||Si(t[t.length-1],a[a.length-1]))}class ld{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Zi{constructor(e,t,a,f){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=f}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(f=>(a=f,this.getBaseDocument(e,t,a))).next(f=>(null!==a&&Ju(a.mutation,f,ft.empty(),kr.now()),f))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,$i()).next(()=>a))}getLocalViewOfDocuments(e,t,a=$i()){const f=gi();return this.populateOverlays(e,f,t).next(()=>this.computeViews(e,t,f,a).next(y=>{let M=Vn();return y.forEach((U,oe)=>{M=M.insert(U,oe.overlayedDocument)}),M}))}getOverlayedDocuments(e,t){const a=gi();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,$i()))}populateOverlays(e,t,a){const f=[];return a.forEach(y=>{t.has(y)||f.push(y)}),this.documentOverlayCache.getOverlays(e,f).next(y=>{y.forEach((M,U)=>{t.set(M,U)})})}computeViews(e,t,a,f){let y=on();const M=Bs(),U=Bs();return t.forEach((oe,_e)=>{const Ge=a.get(_e.key);f.has(_e.key)&&(void 0===Ge||Ge.mutation instanceof ll)?y=y.insert(_e.key,_e):void 0!==Ge&&(M.set(_e.key,Ge.mutation.getFieldMask()),Ju(Ge.mutation,_e,Ge.mutation.getFieldMask(),kr.now()))}),this.recalculateAndSaveOverlays(e,y).next(oe=>(oe.forEach((_e,Ge)=>M.set(_e,Ge)),t.forEach((_e,Ge)=>{var bt;return U.set(_e,new ld(Ge,null!==(bt=M.get(_e))&&void 0!==bt?bt:null))}),U))}recalculateAndSaveOverlays(e,t){const a=Bs();let f=new F((M,U)=>M-U),y=$i();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(M=>{for(const U of M)U.keys().forEach(oe=>{const _e=t.get(oe);if(null===_e)return;let Ge=a.get(oe)||ft.empty();Ge=U.applyToLocalView(_e,Ge),a.set(oe,Ge);const bt=(f.get(U.batchId)||$i()).add(oe);f=f.insert(U.batchId,bt)})}).next(()=>{const M=[],U=f.getReverseIterator();for(;U.hasNext();){const oe=U.getNext(),_e=oe.key,Ge=oe.value,bt=Er();Ge.forEach(Kt=>{if(!y.has(Kt)){const yn=Dh(t.get(Kt),a.get(Kt));null!==yn&&bt.set(Kt,yn),y=y.add(Kt)}}),M.push(this.documentOverlayCache.saveOverlays(e,_e,bt))}return an.waitFor(M)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a){return zn.isDocumentKey((f=t).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Yu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a):this.getDocumentsMatchingCollectionQuery(e,t,a);var f}getNextDocuments(e,t,a,f){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,f).next(y=>{const M=f-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,f-y.size):an.resolve(gi());let U=-1,oe=y;return M.next(_e=>an.forEach(_e,(Ge,bt)=>(U<bt.largestBatchId&&(U=bt.largestBatchId),y.get(Ge)?an.resolve():this.getBaseDocument(e,Ge,bt).next(Kt=>{oe=oe.insert(Ge,Kt)}))).next(()=>this.populateOverlays(e,_e,y)).next(()=>this.computeViews(e,oe,_e,$i())).next(Ge=>({batchId:U,changes:Ei(Ge)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new zn(t)).next(a=>{let f=Vn();return a.isFoundDocument()&&(f=f.insert(a.key,a)),f})}getDocumentsMatchingCollectionGroupQuery(e,t,a){const f=t.collectionGroup;let y=Vn();return this.indexManager.getCollectionParents(e,f).next(M=>an.forEach(M,U=>{const oe=(_e=t,Ge=U.child(f),new rc(Ge,null,_e.explicitOrderBy.slice(),_e.filters.slice(),_e.limit,_e.limitType,_e.startAt,_e.endAt));var _e,Ge;return this.getDocumentsMatchingCollectionQuery(e,oe,a).next(_e=>{_e.forEach((Ge,bt)=>{y=y.insert(Ge,bt)})})}).next(()=>y))}getDocumentsMatchingCollectionQuery(e,t,a){let f;return this.remoteDocumentCache.getAllFromCollection(e,t.path,a).next(y=>(f=y,this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId))).next(y=>{y.forEach((U,oe)=>{const _e=oe.getKey();null===f.get(_e)&&(f=f.insert(_e,vr.newInvalidDocument(_e)))});let M=Vn();return f.forEach((U,oe)=>{const _e=y.get(U);void 0!==_e&&Ju(_e.mutation,oe,ft.empty(),kr.now()),Dl(t,oe)&&(M=M.insert(U,oe))}),M})}getBaseDocument(e,t,a){return null===a||1===a.mutation.type?this.remoteDocumentCache.getEntry(e,t):an.resolve(vr.newInvalidDocument(t))}}class Ng{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return an.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var a;return this.Zn.set(t.id,{id:(a=t).id,version:a.version,createTime:bs(a.createTime)}),an.resolve()}getNamedQuery(e,t){return an.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(a=t).name,query:Sr(a.bundledQuery),readTime:bs(a.readTime)}),an.resolve();var a}}class Lh{constructor(){this.overlays=new F(zn.comparator),this.es=new Map}getOverlay(e,t){return an.resolve(this.overlays.get(t))}getOverlays(e,t){const a=gi();return an.forEach(t,f=>this.getOverlay(e,f).next(y=>{null!==y&&a.set(f,y)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((f,y)=>{this.ue(e,t,y)}),an.resolve()}removeOverlaysForBatchId(e,t,a){const f=this.es.get(a);return void 0!==f&&(f.forEach(y=>this.overlays=this.overlays.remove(y)),this.es.delete(a)),an.resolve()}getOverlaysForCollection(e,t,a){const f=gi(),y=t.length+1,M=new zn(t.child("")),U=this.overlays.getIteratorFrom(M);for(;U.hasNext();){const oe=U.getNext().value,_e=oe.getKey();if(!t.isPrefixOf(_e.path))break;_e.path.length===y&&oe.largestBatchId>a&&f.set(oe.getKey(),oe)}return an.resolve(f)}getOverlaysForCollectionGroup(e,t,a,f){let y=new F((_e,Ge)=>_e-Ge);const M=this.overlays.getIterator();for(;M.hasNext();){const _e=M.getNext().value;if(_e.getKey().getCollectionGroup()===t&&_e.largestBatchId>a){let Ge=y.get(_e.largestBatchId);null===Ge&&(Ge=gi(),y=y.insert(_e.largestBatchId,Ge)),Ge.set(_e.getKey(),_e)}}const U=gi(),oe=y.getIterator();for(;oe.hasNext()&&(oe.getNext().value.forEach((_e,Ge)=>U.set(_e,Ge)),!(U.size()>=f)););return an.resolve(U)}ue(e,t,a){const f=this.overlays.get(a.key);if(null!==f){const M=this.es.get(f.largestBatchId).delete(a.key);this.es.set(f.largestBatchId,M)}this.overlays=this.overlays.insert(a.key,new wp(t,a));let y=this.es.get(t);void 0===y&&(y=$i(),this.es.set(t,y)),this.es.set(t,y.add(a.key))}}class Tp{constructor(){this.ns=new te(Xi.ss),this.rs=new te(Xi.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const a=new Xi(e,t);this.ns=this.ns.add(a),this.rs=this.rs.add(a)}us(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.cs(new Xi(e,t))}hs(e,t){e.forEach(a=>this.removeReference(a,t))}ls(e){const t=new zn(new yi([])),a=new Xi(t,e),f=new Xi(t,e+1),y=[];return this.rs.forEachInRange([a,f],M=>{this.cs(M),y.push(M.key)}),y}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new zn(new yi([])),a=new Xi(t,e),f=new Xi(t,e+1);let y=$i();return this.rs.forEachInRange([a,f],M=>{y=y.add(M.key)}),y}containsKey(e){const t=new Xi(e,0),a=this.ns.firstAfterOrEqual(t);return null!==a&&e.isEqual(a.key)}}class Xi{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return zn.comparator(e.key,t.key)||Si(e._s,t._s)}static os(e,t){return Si(e._s,t._s)||zn.comparator(e.key,t.key)}}class Sp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new te(Xi.ss)}checkEmpty(e){return an.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,a,f){const y=this.ws;this.ws++;const M=new Bd(y,t,a,f);this.mutationQueue.push(M);for(const U of f)this.gs=this.gs.add(new Xi(U.key,y)),this.indexManager.addToCollectionParentIndex(e,U.key.path.popLast());return an.resolve(M)}lookupMutationBatch(e,t){return an.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const f=this.ps(t+1),y=f<0?0:f;return an.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return an.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return an.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new Xi(t,0),f=new Xi(t,Number.POSITIVE_INFINITY),y=[];return this.gs.forEachInRange([a,f],M=>{const U=this.ys(M._s);y.push(U)}),an.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new te(Si);return t.forEach(f=>{const y=new Xi(f,0),M=new Xi(f,Number.POSITIVE_INFINITY);this.gs.forEachInRange([y,M],U=>{a=a.add(U._s)})}),an.resolve(this.Is(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,f=a.length+1;let y=a;zn.isDocumentKey(y)||(y=y.child(""));const M=new Xi(new zn(y),0);let U=new te(Si);return this.gs.forEachWhile(oe=>{const _e=oe.key.path;return!!a.isPrefixOf(_e)&&(_e.length===f&&(U=U.add(oe._s)),!0)},M),an.resolve(this.Is(U))}Is(e){const t=[];return e.forEach(a=>{const f=this.ys(a);null!==f&&t.push(f)}),t}removeMutationBatch(e,t){Ti(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let a=this.gs;return an.forEach(t.mutations,f=>{const y=new Xi(f.key,t.batchId);return a=a.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,f.key)}).next(()=>{this.gs=a})}An(e){}containsKey(e,t){const a=new Xi(t,0),f=this.gs.firstAfterOrEqual(a);return an.resolve(t.isEqual(f&&f.key))}performConsistencyCheck(e){return an.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class $d{constructor(e){this.Es=e,this.docs=new F(zn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,f=this.docs.get(a),y=f?f.size:0,M=this.Es(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:M}),this.size+=M-y,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return an.resolve(a?a.document.mutableCopy():vr.newInvalidDocument(t))}getEntries(e,t){let a=on();return t.forEach(f=>{const y=this.docs.get(f);a=a.insert(f,y?y.document.mutableCopy():vr.newInvalidDocument(f))}),an.resolve(a)}getAllFromCollection(e,t,a){let f=on();const y=new zn(t.child("")),M=this.docs.getIteratorFrom(y);for(;M.hasNext();){const{key:U,value:{document:oe}}=M.getNext();if(!t.isPrefixOf(U.path))break;U.path.length>t.length+1||Ac(Xl(oe),a)<=0||(f=f.insert(oe.key,oe.mutableCopy()))}return an.resolve(f)}getAllFromCollectionGroup(e,t,a,f){ii()}As(e,t){return an.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new Gd(this)}getSize(e){return an.resolve(this.size)}}class Gd extends Nh{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((a,f)=>{f.isValidDocument()?t.push(this.Yn.addEntry(e,f)):this.Yn.removeEntry(a)}),an.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class dc{constructor(e){this.persistence=e,this.Rs=new Ee(t=>ic(t),Oc),this.lastRemoteSnapshotVersion=Ci.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Tp,this.targetCount=0,this.vs=lc.Pn()}forEachTarget(e,t){return this.Rs.forEach((a,f)=>t(f)),an.resolve()}getLastRemoteSnapshotVersion(e){return an.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return an.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),an.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.bs&&(this.bs=t),an.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new lc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,an.resolve()}updateTargetData(e,t){return this.Dn(t),an.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,an.resolve()}removeTargets(e,t,a){let f=0;const y=[];return this.Rs.forEach((M,U)=>{U.sequenceNumber<=t&&null===a.get(U.targetId)&&(this.Rs.delete(M),y.push(this.removeMatchingKeysForTargetId(e,U.targetId)),f++)}),an.waitFor(y).next(()=>f)}getTargetCount(e){return an.resolve(this.targetCount)}getTargetData(e,t){const a=this.Rs.get(t)||null;return an.resolve(a)}addMatchingKeys(e,t,a){return this.Ps.us(t,a),an.resolve()}removeMatchingKeys(e,t,a){this.Ps.hs(t,a);const f=this.persistence.referenceDelegate,y=[];return f&&t.forEach(M=>{y.push(f.markPotentiallyOrphaned(e,M))}),an.waitFor(y)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),an.resolve()}getMatchingKeysForTargetId(e,t){const a=this.Ps.ds(t);return an.resolve(a)}containsKey(e,t){return an.resolve(this.Ps.containsKey(t))}}class Yc{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new po(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new dc(this),this.indexManager=new wm,this.remoteDocumentCache=new $d(a=>this.referenceDelegate.xs(a)),this.It=new Vd(t),this.Ns=new Ng(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Lh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.Vs[e.toKey()];return a||(a=new Sp(t,this.referenceDelegate),this.Vs[e.toKey()]=a),a}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,a){Rn("MemoryPersistence","Starting transaction:",e);const f=new zd(this.Ss.next());return this.referenceDelegate.ks(),a(f).next(y=>this.referenceDelegate.Os(f).next(()=>y)).toPromise().then(y=>(f.raiseOnCommittedEvent(),y))}Ms(e,t){return an.or(Object.values(this.Vs).map(a=>()=>a.containsKey(e,t)))}}class zd extends Jl{constructor(e){super(),this.currentSequenceNumber=e}}class hc{constructor(e){this.persistence=e,this.Fs=new Tp,this.$s=null}static Bs(e){return new hc(e)}get Ls(){if(this.$s)return this.$s;throw ii()}addReference(e,t,a){return this.Fs.addReference(a,t),this.Ls.delete(a.toString()),an.resolve()}removeReference(e,t,a){return this.Fs.removeReference(a,t),this.Ls.add(a.toString()),an.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),an.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(f=>this.Ls.add(f.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(f=>{f.forEach(y=>this.Ls.add(y.toString()))}).next(()=>a.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return an.forEach(this.Ls,a=>{const f=zn.fromPath(a);return this.Us(e,f).next(y=>{y||t.removeEntry(f,Ci.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(a=>{a?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return an.or([()=>an.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Df{constructor(e){this.It=e}$(e,t,a,f){const y=new Kr("createOrUpgrade",t);var U;a<1&&f>=1&&(e.createObjectStore("owner"),(U=e).createObjectStore("mutationQueues",{keyPath:"userId"}),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bp,{unique:!0}),U.createObjectStore("documentMutations"),Tm(e),function(U){U.createObjectStore("remoteDocuments")}(e));let M=an.resolve();return a<3&&f>=3&&(0!==a&&(function(U){U.deleteObjectStore("targetDocuments"),U.deleteObjectStore("targets"),U.deleteObjectStore("targetGlobal")}(e),Tm(e)),M=M.next(()=>function(U){const oe=U.store("targetGlobal"),_e={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ci.min().toTimestamp(),targetCount:0};return oe.put("targetGlobalKey",_e)}(y))),a<4&&f>=4&&(0!==a&&(M=M.next(()=>function(U,oe){return oe.store("mutations").W().next(_e=>{U.deleteObjectStore("mutations"),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bp,{unique:!0});const Ge=oe.store("mutations"),bt=_e.map(Kt=>Ge.put(Kt));return an.waitFor(bt)})}(e,y))),M=M.next(()=>{!function(U){U.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&f>=5&&(M=M.next(()=>this.qs(y))),a<6&&f>=6&&(M=M.next(()=>(function(U){U.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(y)))),a<7&&f>=7&&(M=M.next(()=>this.Gs(y))),a<8&&f>=8&&(M=M.next(()=>this.Qs(e,y))),a<9&&f>=9&&(M=M.next(()=>{!function(U){U.objectStoreNames.contains("remoteDocumentChanges")&&U.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&f>=10&&(M=M.next(()=>this.js(y))),a<11&&f>=11&&(M=M.next(()=>{(function(U){U.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(U){U.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&f>=12&&(M=M.next(()=>{!function(U){const oe=U.createObjectStore("documentOverlays",{keyPath:Ah});oe.createIndex("collectionPathOverlayIndex",oc,{unique:!1}),oe.createIndex("collectionGroupOverlayIndex",Ag,{unique:!1})}(e)})),a<13&&f>=13&&(M=M.next(()=>function(U){const oe=U.createObjectStore("remoteDocumentsV14",{keyPath:Ov});oe.createIndex("documentKeyIndex",Pv),oe.createIndex("collectionGroupIndex",Tg)}(e)).next(()=>this.Ws(e,y)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&f>=14&&(M=M.next(()=>this.zs(e,y))),a<15&&f>=15&&(M=M.next(()=>function(U){U.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),U.createObjectStore("indexState",{keyPath:Tu}).createIndex("sequenceNumberIndex",_f,{unique:!1}),U.createObjectStore("indexEntries",{keyPath:Cp}).createIndex("documentKeyIndex",xg,{unique:!1})}(e))),M}Ks(e){let t=0;return e.store("remoteDocuments").Z((a,f)=>{t+=jd(f)}).next(()=>{const a={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}qs(e){const t=e.store("mutationQueues"),a=e.store("mutations");return t.W().next(f=>an.forEach(f,y=>{const M=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return a.W("userMutationsIndex",M).next(U=>an.forEach(U,oe=>{Ti(oe.userId===y.userId);const _e=Gl(this.It,oe);return od(e,y.userId,_e).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(f=>{const y=[];return a.Z((M,U)=>{const oe=new yi(M),_e=[0,za(oe)];y.push(t.get(_e).next(Ge=>Ge?an.resolve():t.put({targetId:0,path:za(oe),sequenceNumber:f.highestListenSequenceNumber})))}).next(()=>an.waitFor(y))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Ig});const a=t.store("collectionParents"),f=new ba,y=M=>{if(f.add(M)){const U=M.lastSegment(),oe=M.popLast();return a.put({collectionId:U,parent:za(oe)})}};return t.store("remoteDocuments").Z({X:!0},(M,U)=>{const oe=new yi(M);return y(oe.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([M,U,oe],_e)=>{const Ge=Vc(U);return y(Ge.popLast())}))}js(e){const t=e.store("targets");return t.Z((a,f)=>{const y=_o(f),M=Ud(this.It,y);return t.put(M)})}Ws(e,t){const a=t.store("remoteDocuments"),f=[];return a.Z((y,M)=>{const U=t.store("remoteDocumentsV14"),oe=(_e=M,_e.document?new zn(yi.fromString(_e.document.name).popFirst(5)):_e.noDocument?zn.fromSegments(_e.noDocument.path):_e.unknownDocument?zn.fromSegments(_e.unknownDocument.path):ii()).path.toArray();var _e;const Ge={prefixPath:oe.slice(0,oe.length-2),collectionGroup:oe[oe.length-2],documentId:oe[oe.length-1],readTime:M.readTime||[0,0],unknownDocument:M.unknownDocument,noDocument:M.noDocument,document:M.document,hasCommittedMutations:!!M.hasCommittedMutations};f.push(U.put(Ge))}).next(()=>an.waitFor(f))}zs(e,t){const a=t.store("mutations"),f=$r(this.It),y=new Yc(hc.Bs,this.It.re);return a.W().next(M=>{const U=new Map;return M.forEach(oe=>{var _e;let Ge=null!==(_e=U.get(oe.userId))&&void 0!==_e?_e:$i();Gl(this.It,oe).keys().forEach(bt=>Ge=Ge.add(bt)),U.set(oe.userId,Ge)}),an.forEach(U,(oe,_e)=>{const Ge=new nr(_e),bt=Iu.oe(this.It,Ge),Kt=y.getIndexManager(Ge),yn=vo.oe(Ge,this.It,Kt,y.referenceDelegate);return new Zi(f,yn,bt,Kt).recalculateAndSaveOverlaysForDocumentKeys(new yf(t,po.at),oe).next()})})}}function Tm(s){s.createObjectStore("targetDocuments",{keyPath:Mg}).createIndex("documentTargetsIndex",gm,{unique:!0}),s.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Sg,{unique:!0}),s.createObjectStore("targetGlobal")}const Ou="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class cd{constructor(e,t,a,f,y,M,U,oe,_e,Ge,bt=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=a,this.Hs=y,this.window=M,this.document=U,this.Js=_e,this.Ys=Ge,this.Xs=bt,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=Kt=>Promise.resolve(),!cd.C())throw new Mn(cn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Dp(this,f),this.ii=t+"main",this.It=new Vd(oe),this.ri=new jo(this.ii,this.Xs,new Df(this.It)),this.Cs=new Ph(this.referenceDelegate,this.It),this.remoteDocumentCache=$r(this.It),this.Ns=new hs,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===Ge&&Qi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Mn(cn.FAILED_PRECONDITION,Ou);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new po(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var a=(0,ht.Z)(function*(f){if(t.started)return e(f)});return function(f){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ht.Z)(function*(a){null===a.newVersion&&(yield e())});return function(a){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ht.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Pu(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Sa(e))return Rn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Rn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Yl(e).get("owner").next(t=>an.resolve(this.mi(t)))}gi(e){return Pu(e).delete(this.clientId)}yi(){var e=this;return(0,ht.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const f=Go(a,"clientMetadata");return f.W().next(y=>{const M=e.Ii(y,18e5),U=y.filter(oe=>-1===M.indexOf(oe));return an.forEach(U,oe=>f.delete(oe.clientId)).next(()=>U)})}).catch(()=>[]);if(e.oi)for(const a of t)e.oi.removeItem(e.Ti(a.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?an.resolve(!0):Yl(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Mn(cn.FAILED_PRECONDITION,Ou);return!1}}return!(!this.networkEnabled||!this.inForeground)||Pu(e).W().next(a=>void 0===this.Ii(a,5e3).find(f=>{if(this.clientId!==f.clientId){const M=!this.inForeground&&f.inForeground,U=this.networkEnabled===f.networkEnabled;if(!this.networkEnabled&&f.networkEnabled||M&&U)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Rn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ht.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const a=new yf(t,po.at);return e._i(a).next(()=>e.gi(a))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(a=>this.pi(a.updateTimeMs,t)&&!this.Ei(a.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Pu(e).W().next(t=>this.Ii(t,18e5).map(a=>a.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return vo.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Cf(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Iu.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,a){Rn("IndexedDbPersistence","Starting transaction:",e);const f="readonly"===t?"readonly":"readwrite",y=15===(M=this.Xs)?vm:14===M?vf:13===M?_m:12===M?B_:11===M?kg:void ii();var M;let U;return this.ri.runTransaction(e,f,y,oe=>(U=new yf(oe,this.Ss?this.Ss.next():po.at),"readwrite-primary"===t?this.fi(U).next(_e=>!!_e||this.di(U)).next(_e=>{if(!_e)throw Qi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Mn(cn.FAILED_PRECONDITION,Ps);return a(U)}).next(_e=>this.wi(U).next(()=>_e)):this.Vi(U).next(()=>a(U)))).then(oe=>(U.raiseOnCommittedEvent(),oe))}Vi(e){return Yl(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Mn(cn.FAILED_PRECONDITION,Ou)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Yl(e).put("owner",t)}static C(){return jo.C()}_i(e){const t=Yl(e);return t.get("owner").next(a=>this.mi(a)?(Rn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):an.resolve())}pi(e,t){const a=Date.now();return!(e<a-t||e>a&&(Qi(`Detected an update time that is in the future: ${e} > ${a}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Ve.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const a=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Rn("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Qi("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Qi("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Yl(s){return Go(s,"owner")}function Pu(s){return Go(s,"clientMetadata")}function Kc(s,e){let t=s.projectId;return s.isDefaultDatabase||(t+="."+s.database),"firestore/"+e+"/"+t+"/"}class Tf{constructor(e,t,a,f){this.targetId=e,this.fromCache=t,this.Si=a,this.Di=f}static Ci(e,t){let a=$i(),f=$i();for(const y of t.docChanges)switch(y.type){case 0:a=a.add(y.doc.key);break;case 1:f=f.add(y.doc.key)}return new Tf(e,t.fromCache,a,f)}}class Mp{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,a,f){return this.ki(e,t).next(y=>y||this.Oi(e,t,f,a)).next(y=>y||this.Mi(e,t))}ki(e,t){if(Pc(t))return an.resolve(null);let a=Jo(t);return this.indexManager.getIndexType(e,a).next(f=>0===f?null:(null!==t.limit&&1===f&&(t=Ku(t,null,"F"),a=Jo(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(y=>{const M=$i(...y);return this.Ni.getDocuments(e,M).next(U=>this.indexManager.getMinOffset(e,a).next(oe=>{const _e=this.Fi(t,U);return this.$i(t,_e,M,oe.readTime)?this.ki(e,Ku(t,null,"F")):this.Bi(e,_e,t,oe)}))})))}Oi(e,t,a,f){return Pc(t)||f.isEqual(Ci.min())?this.Mi(e,t):this.Ni.getDocuments(e,a).next(y=>{const M=this.Fi(t,y);return this.$i(t,M,a,f)?this.Mi(e,t):(_l()<=et.in.DEBUG&&Rn("QueryEngine","Re-using previous result from %s to execute query: %s",f.toString(),pu(t)),this.Bi(e,M,t,Cl(f,-1)))})}Fi(e,t){let a=new te(uf(e));return t.forEach((f,y)=>{Dl(e,y)&&(a=a.add(y))}),a}$i(e,t,a,f){if(null===e.limit)return!1;if(a.size!==t.size)return!0;const y="F"===e.limitType?t.last():t.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(f)>0)}Mi(e,t){return _l()<=et.in.DEBUG&&Rn("QueryEngine","Using full collection scan to execute query:",pu(t)),this.Ni.getDocumentsMatchingQuery(e,t,uo.min())}Bi(e,t,a,f){return this.Ni.getDocumentsMatchingQuery(e,a,f).next(y=>(t.forEach(M=>{y=y.insert(M.key,M)}),y))}}class Wd{constructor(e,t,a,f){this.persistence=e,this.Li=t,this.It=f,this.Ui=new F(Si),this.qi=new Ee(y=>ic(y),Oc),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(a)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zi(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Sm(s,e,t,a){return new Wd(s,e,t,a)}function Yd(s,e){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,ht.Z)(function*(s,e){const t=Xn(s);return yield t.persistence.runTransaction("Handle user change","readonly",a=>{let f;return t.mutationQueue.getAllMutationBatches(a).next(y=>(f=y,t.Qi(e),t.mutationQueue.getAllMutationBatches(a))).next(y=>{const M=[],U=[];let oe=$i();for(const _e of f){M.push(_e.batchId);for(const Ge of _e.mutations)oe=oe.add(Ge.key)}for(const _e of y){U.push(_e.batchId);for(const Ge of _e.mutations)oe=oe.add(Ge.key)}return t.localDocuments.getDocuments(a,oe).next(_e=>({ji:_e,removedBatchIds:M,addedBatchIds:U}))})})}),Ip.apply(this,arguments)}function Mm(s,e){const t=Xn(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const f=e.batch.keys(),y=t.Gi.newChangeBuffer({trackRemovals:!0});return function(M,U,oe,_e){const Ge=oe.batch,bt=Ge.keys();let Kt=an.resolve();return bt.forEach(yn=>{Kt=Kt.next(()=>_e.getEntry(U,yn)).next(Tn=>{const ri=oe.docVersions.get(yn);Ti(null!==ri),Tn.version.compareTo(ri)<0&&(Ge.applyToRemoteDocument(Tn,oe),Tn.isValidDocument()&&(Tn.setReadTime(oe.commitVersion),_e.addEntry(Tn)))})}),Kt.next(()=>M.mutationQueue.removeMutationBatch(U,Ge))}(t,a,e,y).next(()=>y.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,f,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(M){let U=$i();for(let oe=0;oe<M.mutationResults.length;++oe)M.mutationResults[oe].transformResults.length>0&&(U=U.add(M.batch.mutations[oe].key));return U}(e))).next(()=>t.localDocuments.getDocuments(a,f))})}function ul(s){const e=Xn(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function xp(s,e){const t=Xn(s),a=e.snapshotVersion;let f=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const M=t.Gi.newChangeBuffer({trackRemovals:!0});f=t.Ui;const U=[];e.targetChanges.forEach((Ge,bt)=>{const Kt=f.get(bt);if(!Kt)return;U.push(t.Cs.removeMatchingKeys(y,Ge.removedDocuments,bt).next(()=>t.Cs.addMatchingKeys(y,Ge.addedDocuments,bt)));let yn=Kt.withSequenceNumber(y.currentSequenceNumber);var Tn,ri,pi;e.targetMismatches.has(bt)?yn=yn.withResumeToken(An.EMPTY_BYTE_STRING,Ci.min()).withLastLimboFreeSnapshotVersion(Ci.min()):Ge.resumeToken.approximateByteSize()>0&&(yn=yn.withResumeToken(Ge.resumeToken,a)),f=f.insert(bt,yn),ri=yn,pi=Ge,(0===(Tn=Kt).resumeToken.approximateByteSize()||ri.snapshotVersion.toMicroseconds()-Tn.snapshotVersion.toMicroseconds()>=3e8||pi.addedDocuments.size+pi.modifiedDocuments.size+pi.removedDocuments.size>0)&&U.push(t.Cs.updateTargetData(y,yn))});let oe=on(),_e=$i();if(e.documentUpdates.forEach(Ge=>{e.resolvedLimboDocuments.has(Ge)&&U.push(t.persistence.referenceDelegate.updateLimboDocument(y,Ge))}),U.push(Sf(y,M,e.documentUpdates).next(Ge=>{oe=Ge.Wi,_e=Ge.zi})),!a.isEqual(Ci.min())){const Ge=t.Cs.getLastRemoteSnapshotVersion(y).next(bt=>t.Cs.setTargetsMetadata(y,y.currentSequenceNumber,a));U.push(Ge)}return an.waitFor(U).next(()=>M.apply(y)).next(()=>t.localDocuments.getLocalViewOfDocuments(y,oe,_e)).next(()=>oe)}).then(y=>(t.Ui=f,y))}function Sf(s,e,t){let a=$i(),f=$i();return t.forEach(y=>a=a.add(y)),e.getEntries(s,a).next(y=>{let M=on();return t.forEach((U,oe)=>{const _e=y.get(U);oe.isFoundDocument()!==_e.isFoundDocument()&&(f=f.add(U)),oe.isNoDocument()&&oe.version.isEqual(Ci.min())?(e.removeEntry(U,oe.readTime),M=M.insert(U,oe)):!_e.isValidDocument()||oe.version.compareTo(_e.version)>0||0===oe.version.compareTo(_e.version)&&_e.hasPendingWrites?(e.addEntry(oe),M=M.insert(U,oe)):Rn("LocalStore","Ignoring outdated watch update for ",U,". Current version:",_e.version," Watch version:",oe.version)}),{Wi:M,zi:f}})}function Mf(s,e){const t=Xn(s);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function Kd(s,e){const t=Xn(s);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let f;return t.Cs.getTargetData(a,e).next(y=>y?(f=y,an.resolve(f)):t.Cs.allocateTargetId(a).next(M=>(f=new Su(e,M,0,a.currentSequenceNumber),t.Cs.addTargetData(a,f).next(()=>f))))}).then(a=>{const f=t.Ui.get(a.targetId);return(null===f||a.snapshotVersion.compareTo(f.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(a.targetId,a),t.qi.set(e,a.targetId)),a})}function fc(s,e,t){return If.apply(this,arguments)}function If(){return If=(0,ht.Z)(function*(s,e,t){const a=Xn(s),f=a.Ui.get(e),y=t?"readwrite":"readwrite-primary";try{t||(yield a.persistence.runTransaction("Release target",y,M=>a.persistence.referenceDelegate.removeTarget(M,f)))}catch(M){if(!Sa(M))throw M;Rn("LocalStore",`Failed to update sequence numbers for target ${e}: ${M}`)}a.Ui=a.Ui.remove(e),a.qi.delete(f.target)}),If.apply(this,arguments)}function Zd(s,e,t){const a=Xn(s);let f=Ci.min(),y=$i();return a.persistence.runTransaction("Execute query","readonly",M=>function(U,oe,_e){const Ge=Xn(U),bt=Ge.qi.get(_e);return void 0!==bt?an.resolve(Ge.Ui.get(bt)):Ge.Cs.getTargetData(oe,_e)}(a,M,Jo(e)).next(U=>{if(U)return f=U.lastLimboFreeSnapshotVersion,a.Cs.getMatchingKeysForTargetId(M,U.targetId).next(oe=>{y=oe})}).next(()=>a.Li.getDocumentsMatchingQuery(M,e,t?f:Ci.min(),t?y:$i())).next(U=>(Bh(a,mu(e),U),{documents:U,Hi:y})))}function Fh(s,e){const t=Xn(s),a=Xn(t.Cs),f=t.Ui.get(e);return f?Promise.resolve(f.target):t.persistence.runTransaction("Get target data","readonly",y=>a.se(y,e).next(M=>M?M.target:null))}function Im(s,e){const t=Xn(s),a=t.Ki.get(e)||Ci.min();return t.persistence.runTransaction("Get new document changes","readonly",f=>t.Gi.getAllFromCollectionGroup(f,e,Cl(a,-1),Number.MAX_SAFE_INTEGER)).then(f=>(Bh(t,e,f),f))}function Bh(s,e,t){let a=s.Ki.get(e)||Ci.min();t.forEach((f,y)=>{y.readTime.compareTo(a)>0&&(a=y.readTime)}),s.Ki.set(e,a)}function qd(){return qd=(0,ht.Z)(function*(s,e,t,a){const f=Xn(s);let y=$i(),M=on();for(const _e of t){const Ge=e.Ji(_e.metadata.name);_e.document&&(y=y.add(Ge));const bt=e.Yi(_e);bt.setReadTime(e.Xi(_e.metadata.readTime)),M=M.insert(Ge,bt)}const U=f.Gi.newChangeBuffer({trackRemovals:!0}),oe=yield Kd(f,(_e=a,Jo(Hl(yi.fromString(`__bundle__/docs/${_e}`)))));var _e;return f.persistence.runTransaction("Apply bundle documents","readwrite",_e=>Sf(_e,U,M).next(Ge=>(U.apply(_e),Ge)).next(Ge=>f.Cs.removeMatchingKeysForTargetId(_e,oe.targetId).next(()=>f.Cs.addMatchingKeys(_e,y,oe.targetId)).next(()=>f.localDocuments.getLocalViewOfDocuments(_e,Ge.Wi,Ge.zi)).next(()=>Ge.Wi)))}),qd.apply(this,arguments)}function xf(s,e){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,ht.Z)(function*(s,e,t=$i()){const a=yield Kd(s,Jo(Sr(e.bundledQuery))),f=Xn(s);return f.persistence.runTransaction("Save named query","readwrite",y=>{const M=bs(e.readTime);if(a.snapshotVersion.compareTo(M)>=0)return f.Ns.saveNamedQuery(y,e);const U=a.withResumeToken(An.EMPTY_BYTE_STRING,M);return f.Ui=f.Ui.insert(U.targetId,U),f.Cs.updateTargetData(y,U).next(()=>f.Cs.removeMatchingKeysForTargetId(y,a.targetId)).next(()=>f.Cs.addMatchingKeys(y,t,a.targetId)).next(()=>f.Ns.saveNamedQuery(y,e))})}),Ap.apply(this,arguments)}function kp(s,e){return`firestore_clients_${s}_${e}`}function Rp(s,e,t){let a=`firestore_mutations_${s}_${t}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function Op(s,e){return`firestore_targets_${s}_${e}`}class Pp{constructor(e,t,a,f){this.user=e,this.batchId=t,this.state=a,this.error=f}static Zi(e,t,a){const f=JSON.parse(a);let y,M="object"==typeof f&&-1!==["pending","acknowledged","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error);return M&&f.error&&(M="string"==typeof f.error.message&&"string"==typeof f.error.code,M&&(y=new Mn(f.error.code,f.error.message))),M?new Pp(e,t,f.state,y):(Qi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${a}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ud{constructor(e,t,a){this.targetId=e,this.state=t,this.error=a}static Zi(e,t){const a=JSON.parse(t);let f,y="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return y&&a.error&&(y="string"==typeof a.error.message&&"string"==typeof a.error.code,y&&(f=new Mn(a.error.code,a.error.message))),y?new ud(e,a.state,f):(Qi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Aa{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const a=JSON.parse(t);let f="object"==typeof a&&a.activeTargetIds instanceof Array,y=vu();for(let M=0;f&&M<a.activeTargetIds.length;++M)f=tc(a.activeTargetIds[M]),y=y.add(a.activeTargetIds[M]);return f?new Aa(e,y):(Qi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Qd{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Qd(t.clientId,t.onlineState):(Qi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Af{constructor(){this.activeTargetIds=vu()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xd{constructor(e,t,a,f,y){this.window=e,this.Hs=t,this.persistenceKey=a,this.sr=f,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new F(Si),this.started=!1,this.cr=[];const M=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.ar=kp(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Af),this.lr=new RegExp(`^firestore_clients_${M}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${M}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${M}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(U){return`firestore_bundle_loaded_v2_${U}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ht.Z)(function*(){const t=yield e.syncEngine.vi();for(const f of t){if(f===e.sr)continue;const y=e.getItem(kp(e.persistenceKey,f));if(y){const M=Aa.Zi(f,y);M&&(e.ur=e.ur.insert(M.clientId,M))}}e.gr();const a=e.storage.getItem(e.wr);if(a){const f=e.yr(a);f&&e.pr(f)}for(const f of e.cr)e.rr(f);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((a,f)=>{f.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,a){this.Tr(e,t,a),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(Op(this.persistenceKey,e));if(a){const f=ud.Zi(e,a);f&&(t=f.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Op(this.persistenceKey,e))}updateQueryState(e,t,a){this.Rr(e,t,a)}handleUserChange(e,t,a){t.forEach(f=>{this.Er(f)}),this.currentUser=e,a.forEach(f=>{this.addPendingMutation(f)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Rn("SharedClientState","READ",e,t),t}setItem(e,t){Rn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Rn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const a=e;if(a.storageArea===this.storage){if(Rn("SharedClientState","EVENT",a.key,a.newValue),a.key===this.ar)return void Qi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ht.Z)(function*(){if(t.started){if(null!==a.key)if(t.lr.test(a.key)){if(null==a.newValue){const f=t.vr(a.key);return t.Vr(f,null)}{const f=t.Sr(a.key,a.newValue);if(f)return t.Vr(f.clientId,f)}}else if(t.dr.test(a.key)){if(null!==a.newValue){const f=t.Dr(a.key,a.newValue);if(f)return t.Cr(f)}}else if(t._r.test(a.key)){if(null!==a.newValue){const f=t.Nr(a.key,a.newValue);if(f)return t.kr(f)}}else if(a.key===t.wr){if(null!==a.newValue){const f=t.yr(a.newValue);if(f)return t.pr(f)}}else if(a.key===t.hr){const f=function(y){let M=po.at;if(null!=y)try{const U=JSON.parse(y);Ti("number"==typeof U),M=U}catch(U){Qi("SharedClientState","Failed to read sequence number from WebStorage",U)}return M}(a.newValue);f!==po.at&&t.sequenceNumberHandler(f)}else if(a.key===t.mr){const f=t.Or(a.newValue);yield Promise.all(f.map(y=>t.syncEngine.Mr(y)))}}else t.cr.push(a)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,a){const f=new Pp(this.currentUser,e,t,a),y=Rp(this.persistenceKey,this.currentUser,e);this.setItem(y,f.tr())}Er(e){const t=Rp(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,a){const f=Op(this.persistenceKey,e),y=new ud(e,t,a);this.setItem(f,y.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const a=this.vr(e);return Aa.Zi(a,t)}Dr(e,t){const a=this.dr.exec(e),f=Number(a[1]);return Pp.Zi(new nr(void 0!==a[2]?a[2]:null),f,t)}Nr(e,t){const a=this._r.exec(e),f=Number(a[1]);return ud.Zi(f,t)}yr(e){return Qd.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ht.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Rn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const a=t?this.ur.insert(e,t):this.ur.remove(e),f=this.Ir(this.ur),y=this.Ir(a),M=[],U=[];return y.forEach(oe=>{f.has(oe)||M.push(oe)}),f.forEach(oe=>{y.has(oe)||U.push(oe)}),this.syncEngine.Br(M,U).then(()=>{this.ur=a})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=vu();return e.forEach((a,f)=>{t=t.unionWith(f.activeTargetIds)}),t}}class w{constructor(){this.Lr=new Af,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,a){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Af,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class S{qr(e){}shutdown(){}}class c{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Rn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Rn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const v={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class O{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class ie extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,a,f,y){const M=this.ho(e,t);Rn("RestConnection","Sending: ",M,a);const U={};return this.lo(U,f,y),this.fo(e,M,U,a).then(oe=>(Rn("RestConnection","Received: ",oe),oe),oe=>{throw pa("RestConnection",`${e} failed with error: `,oe,"url: ",M,"request:",a),oe})}_o(e,t,a,f,y,M){return this.ao(e,t,a,f,y)}lo(e,t,a){e["X-Goog-Api-Client"]="gl-js/ fire/"+fa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((f,y)=>e[y]=f),a&&a.headers.forEach((f,y)=>e[y]=f)}ho(e,t){return`${this.oo}/v1/${t}:${v[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,a,f){return new Promise((y,M)=>{const U=new au;U.setWithCredentials(!0),U.listenOnce(Fl.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case Sc.NO_ERROR:const _e=U.getResponseJson();Rn("Connection","XHR received:",JSON.stringify(_e)),y(_e);break;case Sc.TIMEOUT:Rn("Connection",'RPC "'+e+'" timed out'),M(new Mn(cn.DEADLINE_EXCEEDED,"Request time out"));break;case Sc.HTTP_ERROR:const Ge=U.getStatus();if(Rn("Connection",'RPC "'+e+'" failed with status:',Ge,"response text:",U.getResponseText()),Ge>0){const bt=U.getResponseJson().error;if(bt&&bt.status&&bt.message){const Kt=function(yn){const Tn=yn.toLowerCase().replace(/_/g,"-");return Object.values(cn).indexOf(Tn)>=0?Tn:cn.UNKNOWN}(bt.status);M(new Mn(Kt,bt.message))}else M(new Mn(cn.UNKNOWN,"Server responded with status "+U.getStatus()))}else M(new Mn(cn.UNAVAILABLE,"Connection failed."));break;default:ii()}}finally{Rn("Connection",'RPC "'+e+'" completed.')}});const oe=JSON.stringify(f);U.send(t,"POST",oe,a,15)})}wo(e,t,a){const f=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],y=$u(),M=Md(),U={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(U.xmlHttpFactory=new Mc({})),this.lo(U.initMessageHeaders,t,a),U.encodeInitMessageHeaders=!0;const oe=f.join("");Rn("Connection","Creating WebChannel: "+oe,U);const _e=y.createWebChannel(oe,U);let Ge=!1,bt=!1;const Kt=new O({Hr:Tn=>{bt?Rn("Connection","Not sending because WebChannel is closed:",Tn):(Ge||(Rn("Connection","Opening WebChannel transport."),_e.open(),Ge=!0),Rn("Connection","WebChannel sending:",Tn),_e.send(Tn))},Jr:()=>_e.close()}),yn=(Tn,ri,pi)=>{Tn.listen(ri,Hn=>{try{pi(Hn)}catch(ei){setTimeout(()=>{throw ei},0)}})};return yn(_e,el.EventType.OPEN,()=>{bt||Rn("Connection","WebChannel transport opened.")}),yn(_e,el.EventType.CLOSE,()=>{bt||(bt=!0,Rn("Connection","WebChannel transport closed"),Kt.io())}),yn(_e,el.EventType.ERROR,Tn=>{bt||(bt=!0,pa("Connection","WebChannel transport errored:",Tn),Kt.io(new Mn(cn.UNAVAILABLE,"The operation could not be completed")))}),yn(_e,el.EventType.MESSAGE,Tn=>{var ri;if(!bt){const pi=Tn.data[0];Ti(!!pi);const Hn=pi,ei=Hn.error||(null===(ri=Hn[0])||void 0===ri?void 0:ri.error);if(ei){Rn("Connection","WebChannel received error:",ei);const ti=ei.status;let Mi=function(rr){const Gr=b[rr];if(void 0!==Gr)return pe(Gr)}(ti),ki=ei.message;void 0===Mi&&(Mi=cn.INTERNAL,ki="Unknown error status: "+ti+" with message "+ei.message),bt=!0,Kt.io(new Mn(Mi,ki)),_e.close()}else Rn("Connection","WebChannel received:",pi),Kt.ro(pi)}}),yn(M,Bl.STAT_EVENT,Tn=>{Tn.stat===ha.PROXY?Rn("Connection","Detected buffering proxy"):Tn.stat===ha.NOPROXY&&Rn("Connection","Detected no buffering proxy")}),setTimeout(()=>{Kt.so()},0),Kt}}function Dt(){return typeof window<"u"?window:null}function Xt(){return typeof document<"u"?document:null}function kn(s){return new dm(s,!0)}class xi{constructor(e,t,a=1e3,f=1.5,y=6e4){this.Hs=e,this.timerId=t,this.mo=a,this.yo=f,this.po=y,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),a=Math.max(0,Date.now()-this.Eo),f=Math.max(0,t-a);f>0&&Rn("ExponentialBackoff",`Backing off for ${f} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,f,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class ui{constructor(e,t,a,f,y,M,U,oe){this.Hs=e,this.vo=a,this.Vo=f,this.connection=y,this.authCredentialsProvider=M,this.appCheckCredentialsProvider=U,this.listener=oe,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new xi(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,ht.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ht.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var a=this;return(0,ht.Z)(function*(){a.Lo(),a.Uo(),a.xo.cancel(),a.So++,4!==e?a.xo.reset():t&&t.code===cn.RESOURCE_EXHAUSTED?(Qi(t.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),a.xo.Ao()):t&&t.code===cn.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.qo(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,f])=>{this.So===t&&this.Go(a,f)},a=>{e(()=>{const f=new Mn(cn.UNKNOWN,"Fetching auth token failed: "+a.message);return this.Qo(f)})})}Go(e,t){const a=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{a(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(f=>{a(()=>this.Qo(f))}),this.stream.onMessage(f=>{a(()=>this.onMessage(f))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,ht.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Rn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Rn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yr extends ui{constructor(e,t,a,f,y,M){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,f,M),this.It=y}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function wg(s,e){let t;if("targetChange"in e){const a="NO_CHANGE"===(oe=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===oe?1:"REMOVE"===oe?2:"CURRENT"===oe?3:"RESET"===oe?4:ii(),f=e.targetChange.targetIds||[],y=function(oe,_e){return oe.gt?(Ti(void 0===_e||"string"==typeof _e),An.fromBase64String(_e||"")):(Ti(void 0===_e||_e instanceof Uint8Array),An.fromUint8Array(_e||new Uint8Array))}(s,e.targetChange.resumeToken),M=e.targetChange.cause,U=M&&function(oe){const _e=void 0===oe.code?cn.UNKNOWN:pe(oe.code);return new Mn(_e,oe.message||"")}(M);t=new $l(a,f,y,U||null)}else if("documentChange"in e){const a=e.documentChange,f=Ia(s,a.document.name),y=bs(a.document.updateTime),M=new us({mapValue:{fields:a.document.fields}}),U=vr.newFoundDocument(f,y,M);t=new Ga(a.targetIds||[],a.removedTargetIds||[],U.key,U)}else if("documentDelete"in e){const a=e.documentDelete,f=Ia(s,a.document),y=a.readTime?bs(a.readTime):Ci.min(),M=vr.newNoDocument(f,y);t=new Ga([],a.removedTargetIds||[],M.key,M)}else if("documentRemove"in e){const a=e.documentRemove,f=Ia(s,a.document);t=new Ga([],a.removedTargetIds||[],f,null)}else{if(!("filter"in e))return ii();{const a=e.filter,y=new R(a.count||0);t=new yu(a.targetId,y)}}var oe;return t}(this.It,e),a=function(f){if(!("targetChange"in f))return Ci.min();const y=f.targetChange;return y.targetIds&&y.targetIds.length?Ci.min():y.readTime?bs(y.readTime):Ci.min()}(e);return this.listener.Wo(t,a)}zo(e){const t={};t.database=Eu(this.It),t.addTarget=function(f,y){let M;const U=y.target;return M=du(U)?{documents:Fd(f,U)}:{query:_p(f,U)},M.targetId=y.targetId,y.resumeToken.approximateByteSize()>0?M.resumeToken=Cu(f,y.resumeToken):y.snapshotVersion.compareTo(Ci.min())>0&&(M.readTime=td(f,y.snapshotVersion.toTimestamp())),M}(this.It,e);const a=function pf(s,e){const t=function(a,f){switch(f){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ii()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);a&&(t.labels=a),this.Bo(t)}Ho(e){const t={};t.database=Eu(this.It),t.removeTarget=e,this.Bo(t)}}class cr extends ui{constructor(e,t,a,f,y,M){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,f,M),this.It=y,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Ti(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function gp(s,e){return s&&s.length>0?(Ti(void 0!==e),s.map(t=>function(a,f){let y=bs(a.updateTime?a.updateTime:f);return y.isEqual(Ci.min())&&(y=bs(f)),new dp(y,a.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),a=bs(e.commitTime);return this.listener.Zo(a,t)}return Ti(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Eu(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>Ld(this.It,a))};this.Bo(t)}}class Cs extends class{}{constructor(e,t,a,f){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.It=f,this.nu=!1}su(){if(this.nu)throw new Mn(cn.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,a){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,y])=>this.connection.ao(e,t,a,f,y)).catch(f=>{throw"FirebaseError"===f.name?(f.code===cn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Mn(cn.UNKNOWN,f.toString())})}_o(e,t,a,f){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,M])=>this.connection._o(e,t,a,y,M,f)).catch(y=>{throw"FirebaseError"===y.name?(y.code===cn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new Mn(cn.UNKNOWN,y.toString())})}terminate(){this.nu=!0}}class na{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Qi(t),this.ou=!1):Rn("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class es{constructor(e,t,a,f,y){var M=this;this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=y,this.mu.qr(U=>{a.enqueueAndForget((0,ht.Z)(function*(){var oe;pc(M)&&(Rn("RemoteStore","Restarting streams for network reachability change."),yield(oe=(0,ht.Z)(function*(_e){const Ge=Xn(_e);Ge._u.add(4),yield Nu(Ge),Ge.gu.set("Unknown"),Ge._u.delete(4),yield ka(Ge)}),function(_e){return oe.apply(this,arguments)})(M))}))}),this.gu=new na(a,f)}}function ka(s){return Zc.apply(this,arguments)}function Zc(){return Zc=(0,ht.Z)(function*(s){if(pc(s))for(const e of s.wu)yield e(!0)}),Zc.apply(this,arguments)}function Nu(s){return xm.apply(this,arguments)}function xm(){return xm=(0,ht.Z)(function*(s){for(const e of s.wu)yield e(!1)}),xm.apply(this,arguments)}function kf(s,e){const t=Xn(s);t.du.has(e.targetId)||(t.du.set(e.targetId,e),hd(t)?Rf(t):Lf(t).ko()&&Np(t,e))}function qc(s,e){const t=Xn(s),a=Lf(t);t.du.delete(e),a.ko()&&dd(t,e),0===t.du.size&&(a.ko()?a.Fo():pc(t)&&t.gu.set("Unknown"))}function Np(s,e){s.yu.Mt(e.targetId),Lf(s).zo(e)}function dd(s,e){s.yu.Mt(e),Lf(s).Ho(e)}function Rf(s){s.yu=new Sl({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),se:e=>s.du.get(e)||null}),Lf(s).start(),s.gu.uu()}function hd(s){return pc(s)&&!Lf(s).No()&&s.du.size>0}function pc(s){return 0===Xn(s)._u.size}function Am(s){s.yu=void 0}function Lg(s){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,ht.Z)(function*(s){s.du.forEach((e,t)=>{Np(s,e)})}),Fg.apply(this,arguments)}function ly(s,e){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,ht.Z)(function*(s,e){Am(s),hd(s)?(s.gu.hu(e),Rf(s)):s.gu.set("Unknown")}),Jd.apply(this,arguments)}function V_(s,e,t){return km.apply(this,arguments)}function km(){return km=(0,ht.Z)(function*(s,e,t){if(s.gu.set("Online"),e instanceof $l&&2===e.state&&e.cause)try{yield(a=(0,ht.Z)(function*(f,y){const M=y.cause;for(const U of y.targetIds)f.du.has(U)&&(yield f.remoteSyncer.rejectListen(U,M),f.du.delete(U),f.yu.removeTarget(U))}),function(f,y){return a.apply(this,arguments)})(s,e)}catch(a){Rn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Vh(s,a)}else if(e instanceof Ga?s.yu.Gt(e):e instanceof yu?s.yu.Yt(e):s.yu.Wt(e),!t.isEqual(Ci.min()))try{const a=yield ul(s.localStore);t.compareTo(a)>=0&&(yield function(f,y){const M=f.yu.te(y);return M.targetChanges.forEach((U,oe)=>{if(U.resumeToken.approximateByteSize()>0){const _e=f.du.get(oe);_e&&f.du.set(oe,_e.withResumeToken(U.resumeToken,y))}}),M.targetMismatches.forEach(U=>{const oe=f.du.get(U);if(!oe)return;f.du.set(U,oe.withResumeToken(An.EMPTY_BYTE_STRING,oe.snapshotVersion)),dd(f,U);const _e=new Su(oe.target,U,1,oe.sequenceNumber);Np(f,_e)}),f.remoteSyncer.applyRemoteEvent(M)}(s,t))}catch(a){Rn("RemoteStore","Failed to raise snapshot:",a),yield Vh(s,a)}var a}),km.apply(this,arguments)}function Vh(s,e,t){return kl.apply(this,arguments)}function kl(){return kl=(0,ht.Z)(function*(s,e,t){if(!Sa(e))throw e;s._u.add(1),yield Nu(s),s.gu.set("Offline"),t||(t=()=>ul(s.localStore)),s.asyncQueue.enqueueRetryable((0,ht.Z)(function*(){Rn("RemoteStore","Retrying IndexedDB access"),yield t(),s._u.delete(1),yield ka(s)}))}),kl.apply(this,arguments)}function Rm(s,e){return e().catch(t=>Vh(s,t,e))}function Of(s){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,ht.Z)(function*(s){const e=Xn(s),t=md(e);let a=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;fd(e);)try{const f=yield Mf(e.localStore,a);if(null===f){0===e.fu.length&&t.Fo();break}a=f.batchId,Bg(e,f)}catch(f){yield Vh(e,f)}Vg(e)&&Om(e)}),Lp.apply(this,arguments)}function fd(s){return pc(s)&&s.fu.length<10}function Bg(s,e){s.fu.push(e);const t=md(s);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Vg(s){return pc(s)&&!md(s).No()&&s.fu.length>0}function Om(s){md(s).start()}function Ug(s){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,ht.Z)(function*(s){md(s).eu()}),Pf.apply(this,arguments)}function Nv(s){return pd.apply(this,arguments)}function pd(){return pd=(0,ht.Z)(function*(s){const e=md(s);for(const t of s.fu)e.Xo(t.mutations)}),pd.apply(this,arguments)}function Pm(s,e,t){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,ht.Z)(function*(s,e,t){const a=s.fu.shift(),f=ym.from(a,e,t);yield Rm(s,()=>s.remoteSyncer.applySuccessfulWrite(f)),yield Of(s)}),Uh.apply(this,arguments)}function Nm(s,e){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,ht.Z)(function*(s,e){var t;e&&md(s).Yo&&(yield(t=(0,ht.Z)(function*(a,f){if(B(y=f.code)&&y!==cn.ABORTED){const M=a.fu.shift();md(a).Mo(),yield Rm(a,()=>a.remoteSyncer.rejectFailedWrite(M.batchId,f)),yield Of(a)}var y}),function(a,f){return t.apply(this,arguments)})(s,e)),Vg(s)&&Om(s)}),Nf.apply(this,arguments)}function Lv(s,e){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,ht.Z)(function*(s,e){const t=Xn(s);t.asyncQueue.verifyOperationInProgress(),Rn("RemoteStore","RemoteStore received new credentials");const a=pc(t);t._u.add(3),yield Nu(t),a&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield ka(t)}),Hg.apply(this,arguments)}function Lm(s,e){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,ht.Z)(function*(s,e){const t=Xn(s);e?(t._u.delete(2),yield ka(t)):e||(t._u.add(2),yield Nu(t),t.gu.set("Unknown"))}),Fp.apply(this,arguments)}function Lf(s){return s.pu||(s.pu=function(e,t,a){const f=Xn(e);return f.su(),new yr(t,f.connection,f.authCredentials,f.appCheckCredentials,f.It,a)}(s.datastore,s.asyncQueue,{Yr:Lg.bind(null,s),Zr:ly.bind(null,s),Wo:V_.bind(null,s)}),s.wu.push(function(){var e=(0,ht.Z)(function*(t){t?(s.pu.Mo(),hd(s)?Rf(s):s.gu.set("Unknown")):(yield s.pu.stop(),Am(s))});return function(t){return e.apply(this,arguments)}}())),s.pu}function md(s){return s.Iu||(s.Iu=function(e,t,a){const f=Xn(e);return f.su(),new cr(t,f.connection,f.authCredentials,f.appCheckCredentials,f.It,a)}(s.datastore,s.asyncQueue,{Yr:Ug.bind(null,s),Zr:Nm.bind(null,s),tu:Nv.bind(null,s),Zo:Pm.bind(null,s)}),s.wu.push(function(){var e=(0,ht.Z)(function*(t){t?(s.Iu.Mo(),yield Of(s)):(yield s.Iu.stop(),s.fu.length>0&&(Rn("RemoteStore",`Stopping write stream with ${s.fu.length} pending writes`),s.fu=[]))});return function(t){return e.apply(this,arguments)}}())),s.Iu}class U_{constructor(e,t,a,f,y){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=f,this.removalCallback=y,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(M=>{})}static createAndSchedule(e,t,a,f,y){const M=Date.now()+a,U=new U_(e,t,M,f,y);return U.start(a),U}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Mn(cn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ff(s,e){if(Qi("AsyncQueue",`${e}: ${s}`),Sa(s))return new Mn(cn.UNAVAILABLE,`${e}: ${s}`);throw s}class Bf{constructor(e){this.comparator=e?(t,a)=>e(t,a)||zn.comparator(t.key,a.key):(t,a)=>zn.comparator(t.key,a.key),this.keyedMap=Vn(),this.sortedSet=new F(this.comparator)}static emptySet(e){return new Bf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const f=t.getNext().key,y=a.getNext().key;if(!f.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const a=new Bf;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}class Vf{constructor(){this.Tu=new F(zn.comparator)}track(e){const t=e.doc.key,a=this.Tu.get(t);a?0!==e.type&&3===a.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==a.type?this.Tu=this.Tu.insert(t,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Tu=this.Tu.remove(t):1===e.type&&2===a.type?this.Tu=this.Tu.insert(t,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):ii():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,a)=>{e.push(a)}),e}}class gd{constructor(e,t,a,f,y,M,U,oe,_e){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=f,this.mutatedKeys=y,this.fromCache=M,this.syncStateChanged=U,this.excludesMetadataChanges=oe,this.hasCachedResults=_e}static fromInitialDocuments(e,t,a,f,y){const M=[];return t.forEach(U=>{M.push({type:0,doc:U})}),new gd(e,t,Bf.emptySet(t),M,a,f,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let f=0;f<t.length;f++)if(t[f].type!==a[f].type||!t[f].doc.isEqual(a[f].doc))return!1;return!0}}class H_{constructor(){this.Au=void 0,this.listeners=[]}}class jg{constructor(){this.queries=new Ee(e=>cf(e),fu),this.onlineState="Unknown",this.Ru=new Set}}function $g(s,e){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,ht.Z)(function*(s,e){const t=Xn(s),a=e.query;let f=!1,y=t.queries.get(a);if(y||(f=!0,y=new H_),f)try{y.Au=yield t.onListen(a)}catch(M){const U=Ff(M,`Initialization of query '${pu(e.query)}' failed`);return void e.onError(U)}t.queries.set(a,y),y.listeners.push(e),e.bu(t.onlineState),y.Au&&e.Pu(y.Au)&&G_(t)}),Fm.apply(this,arguments)}function j_(s,e){return $_.apply(this,arguments)}function $_(){return $_=(0,ht.Z)(function*(s,e){const t=Xn(s),a=e.query;let f=!1;const y=t.queries.get(a);if(y){const M=y.listeners.indexOf(e);M>=0&&(y.listeners.splice(M,1),f=0===y.listeners.length)}if(f)return t.queries.delete(a),t.onUnlisten(a)}),$_.apply(this,arguments)}function cy(s,e){const t=Xn(s);let a=!1;for(const f of e){const M=t.queries.get(f.query);if(M){for(const U of M.listeners)U.Pu(f)&&(a=!0);M.Au=f}}a&&G_(t)}function uy(s,e,t){const a=Xn(s),f=a.queries.get(e);if(f)for(const y of f.listeners)y.onError(t);a.queries.delete(e)}function G_(s){s.Ru.forEach(e=>{e.next()})}class z_{constructor(e,t,a){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=a||{}}Pu(e){if(!this.options.includeMetadataChanges){const a=[];for(const f of e.docChanges)3!==f.type&&a.push(f);e=new gd(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=gd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class dy{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class W_{constructor(e){this.It=e}Ji(e){return Ia(this.It,e)}Yi(e){return e.metadata.exists?ff(this.It,e.document,!1):vr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return bs(e)}}class eh{constructor(e,t,a){this.Mu=e,this.localStore=t,this.It=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Bp(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const a=yi.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,a=new W_(this.It);for(const f of e)if(f.metadata.queries){const y=a.Ji(f.metadata.name);for(const M of f.metadata.queries){const U=(t.get(M)||$i()).add(y);t.set(M,U)}}return t}complete(){var e=this;return(0,ht.Z)(function*(){const t=yield function Oi(s,e,t,a){return qd.apply(this,arguments)}(e.localStore,new W_(e.It),e.documents,e.Mu.id),a=e.$u(e.documents);for(const f of e.queries)yield xf(e.localStore,f,a.get(f.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Bp(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class Gg{constructor(e){this.key=e}}class zg{constructor(e){this.key=e}}class Vp{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=$i(),this.mutatedKeys=$i(),this.Gu=uf(e),this.Qu=new Bf(this.Gu)}get ju(){return this.Uu}Wu(e,t){const a=t?t.zu:new Vf,f=t?t.Qu:this.Qu;let y=t?t.mutatedKeys:this.mutatedKeys,M=f,U=!1;const oe="F"===this.query.limitType&&f.size===this.query.limit?f.last():null,_e="L"===this.query.limitType&&f.size===this.query.limit?f.first():null;if(e.inorderTraversal((Ge,bt)=>{const Kt=f.get(Ge),yn=Dl(this.query,bt)?bt:null,Tn=!!Kt&&this.mutatedKeys.has(Kt.key),ri=!!yn&&(yn.hasLocalMutations||this.mutatedKeys.has(yn.key)&&yn.hasCommittedMutations);let pi=!1;Kt&&yn?Kt.data.isEqual(yn.data)?Tn!==ri&&(a.track({type:3,doc:yn}),pi=!0):this.Hu(Kt,yn)||(a.track({type:2,doc:yn}),pi=!0,(oe&&this.Gu(yn,oe)>0||_e&&this.Gu(yn,_e)<0)&&(U=!0)):!Kt&&yn?(a.track({type:0,doc:yn}),pi=!0):Kt&&!yn&&(a.track({type:1,doc:Kt}),pi=!0,(oe||_e)&&(U=!0)),pi&&(yn?(M=M.add(yn),y=ri?y.add(Ge):y.delete(Ge)):(M=M.delete(Ge),y=y.delete(Ge)))}),null!==this.query.limit)for(;M.size>this.query.limit;){const Ge="F"===this.query.limitType?M.last():M.first();M=M.delete(Ge.key),y=y.delete(Ge.key),a.track({type:1,doc:Ge})}return{Qu:M,zu:a,$i:U,mutatedKeys:y}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a){const f=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const y=e.zu.Eu();y.sort((_e,Ge)=>function(bt,Kt){const yn=Tn=>{switch(Tn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ii()}};return yn(bt)-yn(Kt)}(_e.type,Ge.type)||this.Gu(_e.doc,Ge.doc)),this.Ju(a);const M=t?this.Yu():[],U=0===this.Ku.size&&this.current?1:0,oe=U!==this.qu;return this.qu=U,0!==y.length||oe?{snapshot:new gd(this.query,e.Qu,f,y,e.mutatedKeys,0===U,oe,!1,!!a&&a.resumeToken.approximateByteSize()>0),Xu:M}:{Xu:M}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Vf,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=$i(),this.Qu.forEach(a=>{this.Zu(a.key)&&(this.Ku=this.Ku.add(a.key))});const t=[];return e.forEach(a=>{this.Ku.has(a)||t.push(new zg(a))}),this.Ku.forEach(a=>{e.has(a)||t.push(new Gg(a))}),t}tc(e){this.Uu=e.Hi,this.Ku=$i();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return gd.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class Up{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class Bm{constructor(e){this.key=e,this.nc=!1}}class Fv{constructor(e,t,a,f,y,M){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=f,this.currentUser=y,this.maxConcurrentLimboResolutions=M,this.sc={},this.ic=new Ee(U=>cf(U),fu),this.rc=new Map,this.oc=new Set,this.uc=new F(zn.comparator),this.cc=new Map,this.ac=new Tp,this.hc={},this.lc=new Map,this.fc=lc.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function th(s,e){return Vm.apply(this,arguments)}function Vm(){return Vm=(0,ht.Z)(function*(s,e){const t=zm(s);let a,f;const y=t.ic.get(e);if(y)a=y.targetId,t.sharedClientState.addLocalQueryTarget(a),f=y.view.ec();else{const M=yield Kd(t.localStore,Jo(e));t.isPrimaryClient&&kf(t.remoteStore,M);const U=t.sharedClientState.addLocalQueryTarget(M.targetId);a=M.targetId,f=yield Hp(t,e,a,"current"===U,M.resumeToken)}return f}),Vm.apply(this,arguments)}function Hp(s,e,t,a,f){return Um.apply(this,arguments)}function Um(){return Um=(0,ht.Z)(function*(s,e,t,a,f){s._c=(bt,Kt,yn)=>{return(Tn=(0,ht.Z)(function*(ri,pi,Hn,ei){let ti=pi.view.Wu(Hn);ti.$i&&(ti=yield Zd(ri.localStore,pi.query,!1).then(({documents:rr})=>pi.view.Wu(rr,ti)));const Mi=ei&&ei.targetChanges.get(pi.targetId),ki=pi.view.applyChanges(ti,ri.isPrimaryClient,Mi);return Zg(ri,pi.targetId,ki.Xu),ki.snapshot}),function(ri,pi,Hn,ei){return Tn.apply(this,arguments)})(s,bt,Kt,yn);var Tn};const y=yield Zd(s.localStore,e,!0),M=new Vp(e,y.Hi),U=M.Wu(y.documents),oe=ea.createSynthesizedTargetChangeForCurrentChange(t,a&&"Offline"!==s.onlineState,f),_e=M.applyChanges(U,s.isPrimaryClient,oe);Zg(s,t,_e.Xu);const Ge=new Up(e,t,M);return s.ic.set(e,Ge),s.rc.has(t)?s.rc.get(t).push(e):s.rc.set(t,[e]),_e.snapshot}),Um.apply(this,arguments)}function Y_(s,e){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,ht.Z)(function*(s,e){const t=Xn(s),a=t.ic.get(e),f=t.rc.get(a.targetId);if(f.length>1)return t.rc.set(a.targetId,f.filter(y=>!fu(y,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(a.targetId),t.sharedClientState.isActiveQueryTarget(a.targetId)||(yield fc(t.localStore,a.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(a.targetId),qc(t.remoteStore,a.targetId),Gf(t,a.targetId)}).catch(Ho))):(Gf(t,a.targetId),yield fc(t.localStore,a.targetId,!0))}),Wg.apply(this,arguments)}function Kl(){return Kl=(0,ht.Z)(function*(s,e,t){const a=Jg(s);try{const f=yield function(y,M){const U=Xn(y),oe=kr.now(),_e=M.reduce((Kt,yn)=>Kt.add(yn.key),$i());let Ge,bt;return U.persistence.runTransaction("Locally write mutations","readwrite",Kt=>{let yn=on(),Tn=$i();return U.Gi.getEntries(Kt,_e).next(ri=>{yn=ri,yn.forEach((pi,Hn)=>{Hn.isValidDocument()||(Tn=Tn.add(pi))})}).next(()=>U.localDocuments.getOverlayedDocuments(Kt,yn)).next(ri=>{Ge=ri;const pi=[];for(const Hn of M){const ei=hp(Hn,Ge.get(Hn.key).overlayedDocument);null!=ei&&pi.push(new ll(Hn.key,ei,$a(ei.value.mapValue),os.exists(!0)))}return U.mutationQueue.addMutationBatch(Kt,oe,pi,M)}).next(ri=>{bt=ri;const pi=ri.applyToLocalDocumentSet(Ge,Tn);return U.documentOverlayCache.saveOverlays(Kt,ri.batchId,pi)})}).then(()=>({batchId:bt.batchId,changes:Ei(Ge)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(f.batchId),function(y,M,U){let oe=y.hc[y.currentUser.toKey()];oe||(oe=new F(Si)),oe=oe.insert(M,U),y.hc[y.currentUser.toKey()]=oe}(a,f.batchId,t),yield vd(a,f.changes),yield Of(a.remoteStore)}catch(f){const y=Ff(f,"Failed to persist write");t.reject(y)}}),Kl.apply(this,arguments)}function nh(s,e){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,ht.Z)(function*(s,e){const t=Xn(s);try{const a=yield xp(t.localStore,e);e.targetChanges.forEach((f,y)=>{const M=t.cc.get(y);M&&(Ti(f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size<=1),f.addedDocuments.size>0?M.nc=!0:f.modifiedDocuments.size>0?Ti(M.nc):f.removedDocuments.size>0&&(Ti(M.nc),M.nc=!1))}),yield vd(t,a,e)}catch(a){yield Ho(a)}}),Uf.apply(this,arguments)}function Rl(s,e,t){const a=Xn(s);if(a.isPrimaryClient&&0===t||!a.isPrimaryClient&&1===t){const f=[];a.ic.forEach((y,M)=>{const U=M.view.bu(e);U.snapshot&&f.push(U.snapshot)}),function(y,M){const U=Xn(y);U.onlineState=M;let oe=!1;U.queries.forEach((_e,Ge)=>{for(const bt of Ge.listeners)bt.bu(M)&&(oe=!0)}),oe&&G_(U)}(a.eventManager,e),f.length&&a.sc.Wo(f),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function Hf(s,e,t){return _d.apply(this,arguments)}function _d(){return _d=(0,ht.Z)(function*(s,e,t){const a=Xn(s);a.sharedClientState.updateQueryState(e,"rejected",t);const f=a.cc.get(e),y=f&&f.key;if(y){let M=new F(zn.comparator);M=M.insert(y,vr.newNoDocument(y,Ci.min()));const U=$i().add(y),oe=new Mo(Ci.min(),new Map,new te(Si),M,U);yield nh(a,oe),a.uc=a.uc.remove(y),a.cc.delete(e),Gp(a)}else yield fc(a.localStore,e,!1).then(()=>Gf(a,e,t)).catch(Ho)}),_d.apply(this,arguments)}function Z_(s,e){return Hm.apply(this,arguments)}function Hm(){return Hm=(0,ht.Z)(function*(s,e){const t=Xn(s),a=e.batch.batchId;try{const f=yield Mm(t.localStore,e);$f(t,a,null),Lu(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),yield vd(t,f)}catch(f){yield Ho(f)}}),Hm.apply(this,arguments)}function Yg(s,e,t){return jf.apply(this,arguments)}function jf(){return jf=(0,ht.Z)(function*(s,e,t){const a=Xn(s);try{const f=yield function(y,M){const U=Xn(y);return U.persistence.runTransaction("Reject batch","readwrite-primary",oe=>{let _e;return U.mutationQueue.lookupMutationBatch(oe,M).next(Ge=>(Ti(null!==Ge),_e=Ge.keys(),U.mutationQueue.removeMutationBatch(oe,Ge))).next(()=>U.mutationQueue.performConsistencyCheck(oe)).next(()=>U.documentOverlayCache.removeOverlaysForBatchId(oe,_e,M)).next(()=>U.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(oe,_e)).next(()=>U.localDocuments.getDocuments(oe,_e))})}(a.localStore,e);$f(a,e,t),Lu(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),yield vd(a,f)}catch(f){yield Ho(f)}}),jf.apply(this,arguments)}function jp(){return jp=(0,ht.Z)(function*(s,e){const t=Xn(s);pc(t.remoteStore)||Rn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(y){const M=Xn(y);return M.persistence.runTransaction("Get highest unacknowledged batch id","readonly",U=>M.mutationQueue.getHighestUnacknowledgedBatchId(U))}(t.localStore);if(-1===a)return void e.resolve();const f=t.lc.get(a)||[];f.push(e),t.lc.set(a,f)}catch(a){const f=Ff(a,"Initialization of waitForPendingWrites() operation failed");e.reject(f)}}),jp.apply(this,arguments)}function Lu(s,e){(s.lc.get(e)||[]).forEach(t=>{t.resolve()}),s.lc.delete(e)}function $f(s,e,t){const a=Xn(s);let f=a.hc[a.currentUser.toKey()];if(f){const y=f.get(e);y&&(t?y.reject(t):y.resolve(),f=f.remove(e)),a.hc[a.currentUser.toKey()]=f}}function Gf(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.rc.get(e))s.ic.delete(a),t&&s.sc.wc(a,t);s.rc.delete(e),s.isPrimaryClient&&s.ac.ls(e).forEach(a=>{s.ac.containsKey(a)||Kg(s,a)})}function Kg(s,e){s.oc.delete(e.path.canonicalString());const t=s.uc.get(e);null!==t&&(qc(s.remoteStore,t),s.uc=s.uc.remove(e),s.cc.delete(t),Gp(s))}function Zg(s,e,t){for(const a of t)a instanceof Gg?(s.ac.addReference(a.key,e),$p(s,a)):a instanceof zg?(Rn("SyncEngine","Document no longer in limbo: "+a.key),s.ac.removeReference(a.key,e),s.ac.containsKey(a.key)||Kg(s,a.key)):ii()}function $p(s,e){const t=e.key,a=t.path.canonicalString();s.uc.get(t)||s.oc.has(a)||(Rn("SyncEngine","New document in limbo: "+t),s.oc.add(a),Gp(s))}function Gp(s){for(;s.oc.size>0&&s.uc.size<s.maxConcurrentLimboResolutions;){const e=s.oc.values().next().value;s.oc.delete(e);const t=new zn(yi.fromString(e)),a=s.fc.next();s.cc.set(a,new Bm(t)),s.uc=s.uc.insert(t,a),kf(s.remoteStore,new Su(Jo(Hl(t.path)),a,2,po.at))}}function vd(s,e,t){return Ra.apply(this,arguments)}function Ra(){return Ra=(0,ht.Z)(function*(s,e,t){const a=Xn(s),f=[],y=[],M=[];var U;a.ic.isEmpty()||(a.ic.forEach((U,oe)=>{M.push(a._c(oe,e,t).then(_e=>{if((_e||t)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(oe.targetId,_e?.fromCache?"not-current":"current"),_e){f.push(_e);const Ge=Tf.Ci(oe.targetId,_e);y.push(Ge)}}))}),yield Promise.all(M),a.sc.Wo(f),yield(U=(0,ht.Z)(function*(oe,_e){const Ge=Xn(oe);try{yield Ge.persistence.runTransaction("notifyLocalViewChanges","readwrite",bt=>an.forEach(_e,Kt=>an.forEach(Kt.Si,yn=>Ge.persistence.referenceDelegate.addReference(bt,Kt.targetId,yn)).next(()=>an.forEach(Kt.Di,yn=>Ge.persistence.referenceDelegate.removeReference(bt,Kt.targetId,yn)))))}catch(bt){if(!Sa(bt))throw bt;Rn("LocalStore","Failed to update sequence numbers: "+bt)}for(const bt of _e){const Kt=bt.targetId;if(!bt.fromCache){const yn=Ge.Ui.get(Kt),ri=yn.withLastLimboFreeSnapshotVersion(yn.snapshotVersion);Ge.Ui=Ge.Ui.insert(Kt,ri)}}}),function(oe,_e){return U.apply(this,arguments)})(a.localStore,y))}),Ra.apply(this,arguments)}function zp(s,e){return qg.apply(this,arguments)}function qg(){return qg=(0,ht.Z)(function*(s,e){const t=Xn(s);if(!t.currentUser.isEqual(e)){Rn("SyncEngine","User change. New user:",e.toKey());const a=yield Yd(t.localStore,e);t.currentUser=e,(f=t).lc.forEach(M=>{M.forEach(U=>{U.reject(new Mn(cn.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.lc.clear(),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield vd(t,a.ji)}var f}),qg.apply(this,arguments)}function Wp(s,e){const t=Xn(s),a=t.cc.get(e);if(a&&a.nc)return $i().add(a.key);{let f=$i();const y=t.rc.get(e);if(!y)return f;for(const M of y){const U=t.ic.get(M);f=f.unionWith(U.view.ju)}return f}}function q_(s,e){return zf.apply(this,arguments)}function zf(){return zf=(0,ht.Z)(function*(s,e){const t=Xn(s),a=yield Zd(t.localStore,e.query,!0),f=e.view.tc(a);return t.isPrimaryClient&&Zg(t,e.targetId,f.Xu),f}),zf.apply(this,arguments)}function Qg(s,e){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,ht.Z)(function*(s,e){const t=Xn(s);return Im(t.localStore,e).then(a=>vd(t,a))}),Hh.apply(this,arguments)}function $m(s,e,t,a){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,ht.Z)(function*(s,e,t,a){const f=Xn(s),y=yield function(M,U){const oe=Xn(M),_e=Xn(oe.mutationQueue);return oe.persistence.runTransaction("Lookup mutation documents","readonly",Ge=>_e.Tn(Ge,U).next(bt=>bt?oe.localDocuments.getDocuments(Ge,bt):an.resolve(null)))}(f.localStore,e);var U;null!==y?("pending"===t?yield Of(f.remoteStore):"acknowledged"===t||"rejected"===t?($f(f,e,a||null),Lu(f,e),U=e,Xn(Xn(f.localStore).mutationQueue).An(U)):ii(),yield vd(f,y)):Rn("SyncEngine","Cannot apply mutation batch with id: "+e)}),Yp.apply(this,arguments)}function Kp(){return Kp=(0,ht.Z)(function*(s,e){const t=Xn(s);if(zm(t),Jg(t),!0===e&&!0!==t.dc){const a=t.sharedClientState.getAllActiveQueryTargets(),f=yield Xg(t,a.toArray());t.dc=!0,yield Lm(t.remoteStore,!0);for(const y of f)kf(t.remoteStore,y)}else if(!1===e&&!1!==t.dc){const a=[];let f=Promise.resolve();t.rc.forEach((y,M)=>{t.sharedClientState.isLocalQueryTarget(M)?a.push(M):f=f.then(()=>(Gf(t,M),fc(t.localStore,M,!0))),qc(t.remoteStore,M)}),yield f,yield Xg(t,a),function(y){const M=Xn(y);M.cc.forEach((U,oe)=>{qc(M.remoteStore,oe)}),M.ac.fs(),M.cc=new Map,M.uc=new F(zn.comparator)}(t),t.dc=!1,yield Lm(t.remoteStore,!1)}}),Kp.apply(this,arguments)}function Xg(s,e,t){return jh.apply(this,arguments)}function jh(){return jh=(0,ht.Z)(function*(s,e,t){const a=Xn(s),f=[],y=[];for(const M of e){let U;const oe=a.rc.get(M);if(oe&&0!==oe.length){U=yield Kd(a.localStore,Jo(oe[0]));for(const _e of oe){const Ge=a.ic.get(_e),bt=yield q_(a,Ge);bt.snapshot&&y.push(bt.snapshot)}}else{const _e=yield Fh(a.localStore,M);U=yield Kd(a.localStore,_e),yield Hp(a,Q_(_e),M,!1,U.resumeToken)}f.push(U)}return a.sc.Wo(y),f}),jh.apply(this,arguments)}function Q_(s){return bg(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function X_(s){const e=Xn(s);return Xn(Xn(e.localStore).persistence).vi()}function J_(s,e,t,a){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,ht.Z)(function*(s,e,t,a){const f=Xn(s);if(f.dc)return void Rn("SyncEngine","Ignoring unexpected query state notification.");const y=f.rc.get(e);if(y&&y.length>0)switch(t){case"current":case"not-current":{const M=yield Im(f.localStore,mu(y[0])),U=Mo.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,An.EMPTY_BYTE_STRING);yield vd(f,M,U);break}case"rejected":yield fc(f.localStore,e,!0),Gf(f,e,a);break;default:ii()}}),Zp.apply(this,arguments)}function mc(s,e,t){return qp.apply(this,arguments)}function qp(){return qp=(0,ht.Z)(function*(s,e,t){const a=zm(s);if(a.dc){for(const f of e){if(a.rc.has(f)){Rn("SyncEngine","Adding an already active target "+f);continue}const y=yield Fh(a.localStore,f),M=yield Kd(a.localStore,y);yield Hp(a,Q_(y),M.targetId,!1,M.resumeToken),kf(a.remoteStore,M)}for(const f of t)a.rc.has(f)&&(yield fc(a.localStore,f,!1).then(()=>{qc(a.remoteStore,f),Gf(a,f)}).catch(Ho))}}),qp.apply(this,arguments)}function zm(s){const e=Xn(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=nh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wp.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hf.bind(null,e),e.sc.Wo=cy.bind(null,e.eventManager),e.sc.wc=uy.bind(null,e.eventManager),e}function Jg(s){const e=Xn(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Z_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Yg.bind(null,e),e}class Wm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ht.Z)(function*(){t.It=kn(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Sm(this.persistence,new Mp,e.initialUser,this.It)}yc(e){return new Yc(hc.Bs,this.It)}gc(e){return new w}terminate(){var e=this;return(0,ht.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ym extends Wm{constructor(e,t,a){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,a=this;return(0,ht.Z)(function*(){yield t().call(a,e),yield a.Ac.initialize(a,e),yield Jg(a.Ac.syncEngine),yield Of(a.Ac.remoteStore),yield a.persistence.li(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Sm(this.persistence,new Mp,e.initialUser,this.It)}Tc(e,t){return new Wl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const a=new Vl(t,this.persistence);return new qs(e.asyncQueue,a)}yc(e){const t=Kc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Ws.withCacheSize(this.cacheSizeBytes):Ws.DEFAULT;return new cd(this.synchronizeTabs,t,e.clientId,a,e.asyncQueue,Dt(),Xt(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new w}}class e_ extends Ym{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,a=this;return(0,ht.Z)(function*(){yield t().call(a,e);const f=a.Ac.syncEngine;a.sharedClientState instanceof Xd&&(a.sharedClientState.syncEngine={Fr:$m.bind(null,f),$r:J_.bind(null,f),Br:mc.bind(null,f),vi:X_.bind(null,f),Mr:Qg.bind(null,f)},yield a.sharedClientState.start()),yield a.persistence.li(function(){var y=(0,ht.Z)(function*(M){yield function Gm(s,e){return Kp.apply(this,arguments)}(a.Ac.syncEngine,M),a.gcScheduler&&(M&&!a.gcScheduler.started?a.gcScheduler.start():M||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(M&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():M||a.indexBackfillerScheduler.stop())});return function(M){return y.apply(this,arguments)}}())})()}gc(e){const t=Dt();if(!Xd.C(t))throw new Mn(cn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Kc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Xd(t,e.asyncQueue,a,e.clientId,e.initialUser)}}class Qp{initialize(e,t){var a=this;return(0,ht.Z)(function*(){a.localStore||(a.localStore=e.localStore,a.sharedClientState=e.sharedClientState,a.datastore=a.createDatastore(t),a.remoteStore=a.createRemoteStore(t),a.eventManager=a.createEventManager(t),a.syncEngine=a.createSyncEngine(t,!e.synchronizeTabs),a.sharedClientState.onlineStateHandler=f=>Rl(a.syncEngine,f,1),a.remoteStore.remoteSyncer.handleCredentialChange=zp.bind(null,a.syncEngine),yield Lm(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(e){return new jg}createDatastore(e){const t=kn(e.databaseInfo.databaseId),a=new ie(e.databaseInfo);return new Cs(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return t=this.localStore,a=this.datastore,f=e.asyncQueue,y=U=>Rl(this.syncEngine,U,0),M=c.C()?new c:new S,new es(t,a,f,y,M);var t,a,f,y,M}createSyncEngine(e,t){return function(a,f,y,M,U,oe,_e){const Ge=new Fv(a,f,y,M,U,oe);return _e&&(Ge.dc=!0),Ge}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ht.Z)(function*(t){const a=Xn(t);Rn("RemoteStore","RemoteStore shutting down."),a._u.add(5),yield Nu(a),a.mu.shutdown(),a.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function ih(s,e,t){if(!t)throw new Mn(cn.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function rh(s,e,t,a){if(!0===e&&!0===a)throw new Mn(cn.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function Km(s){if(!zn.isDocumentKey(s))throw new Mn(cn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Wf(s){if(zn.isDocumentKey(s))throw new Mn(cn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Yf(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(t=s).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof s?"a function":ii()}function ir(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Mn(cn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Yf(s);throw new Mn(cn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}function ev(s,e){if(e<=0)throw new Mn(cn.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}const Zm=new Map;class Xp{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Mn(cn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Mn(cn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,rh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sh{constructor(e,t,a,f){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=f,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Mn(cn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Mn(cn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xp(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Do;switch(t.type){case"gapi":return new xc(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Mn(cn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Zm.get(e);t&&(Rn("ComponentProvider","Removing Datastore"),Zm.delete(e),t.terminate())}(this),Promise.resolve()}}class ws{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ol(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ws(this.firestore,e,this._key)}}class Oa{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Oa(this.firestore,e,this._query)}}class Ol extends Oa{constructor(e,t,a){super(e,t,Hl(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ws(this.firestore,null,new zn(e))}withConverter(e){return new Ol(this.firestore,e,this._path)}}function Zl(s,e,...t){if(s=(0,Ve.m9)(s),ih("collection","path",e),s instanceof sh){const a=yi.fromString(e,...t);return Wf(a),new Ol(s,null,a)}{if(!(s instanceof ws||s instanceof Ol))throw new Mn(cn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(yi.fromString(e,...t));return Wf(a),new Ol(s.firestore,null,a)}}function $h(s,e,...t){if(s=(0,Ve.m9)(s),1===arguments.length&&(e=il.R()),ih("doc","path",e),s instanceof sh){const a=yi.fromString(e,...t);return Km(a),new ws(s,null,new zn(a))}{if(!(s instanceof ws||s instanceof Ol))throw new Mn(cn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(yi.fromString(e,...t));return Km(a),new ws(s.firestore,s instanceof Ol?s.converter:null,new zn(a))}}function Fu(s,e){return s=(0,Ve.m9)(s),e=(0,Ve.m9)(e),(s instanceof ws||s instanceof Ol)&&(e instanceof ws||e instanceof Ol)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function gc(s,e){return s=(0,Ve.m9)(s),e=(0,Ve.m9)(e),s instanceof Oa&&e instanceof Oa&&s.firestore===e.firestore&&fu(s._query,e._query)&&s.converter===e.converter}function oh(s,e=10240){let t=0;return{read:()=>(0,ht.Z)(function*(){if(t<s.byteLength){const a={value:s.slice(t,t+e),done:!1};return t+=e,a}return{done:!0}})(),cancel:()=>(0,ht.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class em{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Qi("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class tv{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Ar,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(a=>{a&&a.Ou()?this.metadata.resolve(a.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(a?.ku)}`))},a=>this.metadata.reject(a))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,ht.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,ht.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,ht.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const a=e.vc.decode(t),f=Number(a);isNaN(f)&&e.Dc(`length string (${a}) is not valid number`);const y=yield e.Cc(f);return new dy(JSON.parse(y),t.length+f)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,ht.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),a})()}Cc(e){var t=this;return(0,ht.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const a=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),a})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,ht.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const a=new Uint8Array(e.buffer.length+t.value.length);a.set(e.buffer),a.set(t.value,e.buffer.length),e.buffer=a}return t.done})()}}class fy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ht.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Mn(cn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(f=(0,ht.Z)(function*(y,M){const U=Xn(y),oe=Eu(U.It)+"/documents",_e={documents:M.map(yn=>Ml(U.It,yn))},Ge=yield U._o("BatchGetDocuments",oe,_e,M.length),bt=new Map;Ge.forEach(yn=>{const Tn=function fm(s,e){return"found"in e?function(t,a){Ti(!!a.found);const f=Ia(t,a.found.name),y=bs(a.found.updateTime),M=new us({mapValue:{fields:a.found.fields}});return vr.newFoundDocument(f,y,M)}(s,e):"missing"in e?function(t,a){Ti(!!a.missing),Ti(!!a.readTime);const f=Ia(t,a.missing),y=bs(a.readTime);return vr.newNoDocument(f,y)}(s,e):ii()}(U.It,yn);bt.set(Tn.key.toString(),Tn)});const Kt=[];return M.forEach(yn=>{const Tn=bt.get(yn.toString());Ti(!!Tn),Kt.push(Tn)}),Kt}),function(y,M){return f.apply(this,arguments)})(t.datastore,e);var f;return a.forEach(f=>t.recordVersion(f)),a})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new Bc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ht.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var a;e.mutations.forEach(a=>{t.delete(a.key.toString())}),t.forEach((a,f)=>{const y=zn.fromPath(f);e.mutations.push(new ds(y,e.precondition(y)))}),yield(a=(0,ht.Z)(function*(f,y){const M=Xn(f),U=Eu(M.It)+"/documents",oe={writes:y.map(_e=>Ld(M.It,_e))};yield M.ao("Commit",U,oe)}),function(f,y){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ii();t=Ci.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!t.isEqual(a))throw new Mn(cn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ci.min())?os.exists(!1):os.updateTime(t):os.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ci.min()))throw new Mn(cn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return os.updateTime(t)}return os.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class _c{constructor(e,t,a,f,y){this.asyncQueue=e,this.datastore=t,this.options=a,this.updateFunction=f,this.deferred=y,this.kc=a.maxAttempts,this.xo=new xi(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,ht.Z)(function*(){const t=new fy(e.datastore),a=e.Mc(t);a&&a.then(f=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(f)}).catch(y=>{e.Fc(y)}))}).catch(f=>{e.Fc(f)})}))}Mc(e){try{const t=this.updateFunction(e);return!va(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!B(t)}return!1}}class Bv{constructor(e,t,a,f){var y=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=f,this.user=nr.UNAUTHENTICATED,this.clientId=il.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var M=(0,ht.Z)(function*(U){Rn("FirestoreClient","Received user=",U.uid),yield y.authCredentialListener(U),y.user=U});return function(U){return M.apply(this,arguments)}}()),this.appCheckCredentials.start(a,M=>(Rn("FirestoreClient","Received new app check token=",M),this.appCheckCredentialListener(M,this.user)))}getConfiguration(){var e=this;return(0,ht.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Mn(cn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ht.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(a){const f=Ff(a,"Failed to shutdown persistence");t.reject(f)}})),t.promise}}function iv(s,e){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,ht.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),Rn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield s.getConfiguration();yield e.initialize(t);let a=t.initialUser;s.setCredentialChangeListener(function(){var f=(0,ht.Z)(function*(y){a.isEqual(y)||(yield Yd(e.localStore,y),a=y)});return function(y){return f.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=e}),Kf.apply(this,arguments)}function n_(s,e){return Ya.apply(this,arguments)}function Ya(){return Ya=(0,ht.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const t=yield Zf(s);Rn("FirestoreClient","Initializing OnlineComponentProvider");const a=yield s.getConfiguration();yield e.initialize(t,a),s.setCredentialChangeListener(f=>Lv(e.remoteStore,f)),s.setAppCheckTokenChangeListener((f,y)=>Lv(e.remoteStore,y)),s.onlineComponents=e}),Ya.apply(this,arguments)}function Zf(s){return i_.apply(this,arguments)}function i_(){return i_=(0,ht.Z)(function*(s){return s.offlineComponents||(Rn("FirestoreClient","Using default OfflineComponentProvider"),yield iv(s,new Wm)),s.offlineComponents}),i_.apply(this,arguments)}function Gh(s){return r_.apply(this,arguments)}function r_(){return r_=(0,ht.Z)(function*(s){return s.onlineComponents||(Rn("FirestoreClient","Using default OnlineComponentProvider"),yield n_(s,new Qp)),s.onlineComponents}),r_.apply(this,arguments)}function rv(s){return Zf(s).then(e=>e.persistence)}function qm(s){return Zf(s).then(e=>e.localStore)}function Qm(s){return Gh(s).then(e=>e.remoteStore)}function zh(s){return Gh(s).then(e=>e.syncEngine)}function Bu(s){return bd.apply(this,arguments)}function bd(){return bd=(0,ht.Z)(function*(s){const e=yield Gh(s),t=e.eventManager;return t.onListen=th.bind(null,e.syncEngine),t.onUnlisten=Y_.bind(null,e.syncEngine),t}),bd.apply(this,arguments)}function Xm(s,e,t={}){const a=new Ar;return s.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return function(f,y,M,U,oe){const _e=new em({next:bt=>{y.enqueueAndForget(()=>j_(f,Ge));const Kt=bt.docs.has(M);!Kt&&bt.fromCache?oe.reject(new Mn(cn.UNAVAILABLE,"Failed to get document because the client is offline.")):Kt&&bt.fromCache&&U&&"server"===U.source?oe.reject(new Mn(cn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):oe.resolve(bt)},error:bt=>oe.reject(bt)}),Ge=new z_(Hl(M.path),_e,{includeMetadataChanges:!0,Nu:!0});return $g(f,Ge)}(yield Bu(s),s.asyncQueue,e,t,a)})),a.promise}function ov(s,e,t={}){const a=new Ar;return s.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return function(f,y,M,U,oe){const _e=new em({next:bt=>{y.enqueueAndForget(()=>j_(f,Ge)),bt.fromCache&&"server"===U.source?oe.reject(new Mn(cn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):oe.resolve(bt)},error:bt=>oe.reject(bt)}),Ge=new z_(M,_e,{includeMetadataChanges:!0,Nu:!0});return $g(f,Ge)}(yield Bu(s),s.asyncQueue,e,t,a)})),a.promise}class Wh{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new xi(this,"async_queue_retry"),this.Wc=()=>{const t=Xt();t&&Rn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Xt();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=Xt();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Ar;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,ht.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Sa(t))throw t;Rn("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(a=>{throw this.Kc=a,this.Gc=!1,Qi("INTERNAL UNHANDLED ERROR: ",function(y){let M=y.message||"";return y.stack&&(M=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),M}(a)),a}).then(a=>(this.Gc=!1,a))));return this.Bc=t,t}enqueueAfterDelay(e,t,a){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const f=U_.createAndSchedule(this,e,t,a,y=>this.Yc(y));return this.qc.push(f),f}zc(){this.Kc&&ii()}verifyOperationInProgress(){}Xc(){var e=this;return(0,ht.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function Qf(s){return function(e,t){if("object"!=typeof e||null===e)return!1;const a=e;for(const f of["next","error","complete"])if(f in a&&"function"==typeof a[f])return!0;return!1}(s)}class Pl{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ar,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,a){this._progressObserver={next:e,error:t,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ts extends sh{constructor(e,t,a,f){super(e,t,a,f),this.type="firestore",this._queue=new Wh,this._persistenceKey=f?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Cd(this),this._firestoreClient.terminate()}}function Es(s){return s._firestoreClient||Cd(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function Cd(s){var e;const t=s._freezeSettings(),a=(y=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new Nr(s._databaseId,y,s._persistenceKey,(U=t).host,U.ssl,U.experimentalForceLongPolling,U.experimentalAutoDetectLongPolling,U.useFetchStreams));var y,U;s._firestoreClient=new Bv(s._authCredentials,s._appCheckCredentials,s._queue,a)}function yc(s,e,t){const a=new Ar;return s.asyncQueue.enqueue((0,ht.Z)(function*(){try{yield iv(s,t),yield n_(s,e),a.resolve()}catch(f){const y=f;if(!("FirebaseError"===(M=y).name?M.code===cn.FAILED_PRECONDITION||M.code===cn.UNIMPLEMENTED:!(typeof DOMException<"u"&&M instanceof DOMException)||22===M.code||20===M.code||11===M.code))throw y;pa("Error enabling offline persistence. Falling back to persistence disabled: "+y),a.reject(y)}var M})).then(()=>a.promise)}function u_(s){if(s._initialized||s._terminated)throw new Mn(cn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Qc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qc(An.fromBase64String(e))}catch(t){throw new Mn(cn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Qc(An.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Mn(cn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class lh{constructor(e){this._methodName=e}}class ep{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Mn(cn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Mn(cn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Si(this._lat,e._lat)||Si(this._long,e._long)}}const d_=/^__.*__$/;class h_{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return null!==this.fieldMask?new ll(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pd(e,this.data,t,this.fieldTransforms)}}class Pa{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new ll(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Yh(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ii()}}class Xc{constructor(e,t,a,f,y,M){this.settings=e,this.databaseId=t,this.It=a,this.ignoreUndefinedProperties=f,void 0===y&&this.na(),this.fieldTransforms=y||[],this.fieldMask=M||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Xc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),f=this.ia({path:a,oa:!1});return f.ua(e),f}ca(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),f=this.ia({path:a,oa:!1});return f.na(),f}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return rp(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Yh(this.sa)&&d_.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Kh{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=a||kn(e)}da(e,t,a,f=!1){return new Xc({sa:e,methodName:t,fa:a,path:wr.emptyPath(),oa:!1,la:f},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Io(s){const e=s._freezeSettings(),t=kn(s._databaseId);return new Kh(s._databaseId,!!e.ignoreUndefinedProperties,t)}function Cc(s,e,t,a,f,y={}){const M=s.da(y.merge||y.mergeFields?2:0,e,t,f);qh("Data must be an object, but it was:",M,a);const U=cv(a,M);let oe,_e;if(y.merge)oe=new ft(M.fieldMask),_e=M.fieldTransforms;else if(y.mergeFields){const Ge=[];for(const bt of y.mergeFields){const Kt=ch(e,bt,t);if(!M.contains(Kt))throw new Mn(cn.INVALID_ARGUMENT,`Field '${Kt}' is specified in your field mask but missing from your input data.`);og(Ge,Kt)||Ge.push(Kt)}oe=new ft(Ge),_e=M.fieldTransforms.filter(bt=>oe.covers(bt.field))}else oe=null,_e=M.fieldTransforms;return new h_(new us(U),oe,_e)}class tp extends lh{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tp}}function np(s,e,t){return new Xc({sa:3,fa:e.settings.fa,methodName:s._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class wc extends lh{_toFieldTransform(e){return new jl(e.path,new gu)}isEqual(e){return e instanceof wc}}class av extends lh{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=np(this,e,!0),a=this._a.map(y=>Ed(y,t)),f=new _u(a);return new jl(e.path,f)}isEqual(e){return this===e}}class lv extends lh{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=np(this,e,!0),a=this._a.map(y=>Ed(y,t)),f=new $o(a);return new jl(e.path,f)}isEqual(e){return this===e}}class f_ extends lh{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new sc(e.It,Zu(e.It,this.wa));return new jl(e.path,t)}isEqual(e){return this===e}}function ip(s,e,t,a){const f=s.da(1,e,t);qh("Data must be an object, but it was:",f,a);const y=[],M=us.empty();mo(a,(oe,_e)=>{const Ge=nm(e,oe,t);_e=(0,Ve.m9)(_e);const bt=f.ca(Ge);if(_e instanceof tp)y.push(Ge);else{const Kt=Ed(_e,bt);null!=Kt&&(y.push(Ge),M.set(Ge,Kt))}});const U=new ft(y);return new Pa(M,U,f.fieldTransforms)}function ig(s,e,t,a,f,y){const M=s.da(1,e,t),U=[ch(e,a,t)],oe=[f];if(y.length%2!=0)throw new Mn(cn.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Kt=0;Kt<y.length;Kt+=2)U.push(ch(e,y[Kt])),oe.push(y[Kt+1]);const _e=[],Ge=us.empty();for(let Kt=U.length-1;Kt>=0;--Kt)if(!og(_e,U[Kt])){const yn=U[Kt];let Tn=oe[Kt];Tn=(0,Ve.m9)(Tn);const ri=M.ca(yn);if(Tn instanceof tp)_e.push(yn);else{const pi=Ed(Tn,ri);null!=pi&&(_e.push(yn),Ge.set(yn,pi))}}const bt=new ft(_e);return new Pa(Ge,bt,M.fieldTransforms)}function rg(s,e,t,a=!1){return Ed(t,s.da(a?4:3,e))}function Ed(s,e){if(Zh(s=(0,Ve.m9)(s)))return qh("Unsupported field value:",e,s),cv(s,e);if(s instanceof lh)return function(t,a){if(!Yh(a.sa))throw a.ha(`${t._methodName}() can only be used with update() and set()`);if(!a.path)throw a.ha(`${t._methodName}() is not currently supported inside arrays`);const f=t._toFieldTransform(a);f&&a.fieldTransforms.push(f)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,a){const f=[];let y=0;for(const M of t){let U=Ed(M,a.aa(y));null==U&&(U={nullValue:"NULL_VALUE"}),f.push(U),y++}return{arrayValue:{values:f}}}(s,e)}return function(t,a){if(null===(t=(0,Ve.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Zu(a.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const f=kr.fromDate(t);return{timestampValue:td(a.It,f)}}if(t instanceof kr){const f=new kr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:td(a.It,f)}}if(t instanceof ep)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Qc)return{bytesValue:Cu(a.It,t._byteString)};if(t instanceof ws){const f=a.databaseId,y=t.firestore._databaseId;if(!y.isEqual(f))throw a.ha(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:wu(t.firestore._databaseId||a.databaseId,t._key.path)}}throw a.ha(`Unsupported field value: ${Yf(t)}`)}(s,e)}function cv(s,e){const t={};return L(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mo(s,(a,f)=>{const y=Ed(f,e.ra(a));null!=y&&(t[a]=y)}),{mapValue:{fields:t}}}function Zh(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof kr||s instanceof ep||s instanceof Qc||s instanceof ws||s instanceof lh)}function qh(s,e,t){if(!Zh(t)||"object"!=typeof(a=t)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=Yf(t);throw e.ha("an object"===a?s+" a custom object":s+" "+a)}var a}function ch(s,e,t){if((e=(0,Ve.m9)(e))instanceof bc)return e._internalPath;if("string"==typeof e)return nm(s,e);throw rp("Field path arguments must be of type string or ",s,!1,void 0,t)}const sg=new RegExp("[~\\*/\\[\\]]");function nm(s,e,t){if(e.search(sg)>=0)throw rp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new bc(...e.split("."))._internalPath}catch{throw rp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function rp(s,e,t,a,f){const y=a&&!a.isEmpty(),M=void 0!==f;let U=`Function ${e}() called with invalid data`;t&&(U+=" (via `toFirestore()`)"),U+=". ";let oe="";return(y||M)&&(oe+=" (found",y&&(oe+=` in field ${a}`),M&&(oe+=` in document ${f}`),oe+=")"),new Mn(cn.INVALID_ARGUMENT,U+s+oe)}function og(s,e){return s.some(t=>t.isEqual(e))}class Qh{constructor(e,t,a,f,y){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=f,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new ws(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ag(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ag extends Qh{data(){return super.data()}}function hl(s,e){return"string"==typeof e?nm(s,e):e instanceof bc?e._internalPath:e._delegate._internalPath}function lg(s){if("L"===s.limitType&&0===s.explicitOrderBy.length)throw new Mn(cn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sp{}function Dd(s,...e){for(const t of e)s=t._apply(s);return s}class uv extends sp{constructor(e,t,a){super(),this.ma=e,this.ga=t,this.ya=a,this.type="where"}_apply(e){const t=Io(e.firestore),a=function(f,y,M,U,oe,_e,Ge){let bt;if(oe.isKeyField()){if("array-contains"===_e||"array-contains-any"===_e)throw new Mn(cn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_e}' queries on documentId().`);if("in"===_e||"not-in"===_e){v_(Ge,_e);const yn=[];for(const Tn of Ge)yn.push(fv(U,f,Tn));bt={arrayValue:{values:yn}}}else bt=fv(U,f,Ge)}else"in"!==_e&&"not-in"!==_e&&"array-contains-any"!==_e||v_(Ge,_e),bt=rg(M,"where",Ge,"in"===_e||"not-in"===_e);const Kt=go.create(oe,_e,bt);return function(yn,Tn){if(Tn.dt()){const pi=Wu(yn);if(null!==pi&&!pi.isEqual(Tn.field))throw new Mn(cn.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${pi.toString()}' and '${Tn.field.toString()}'`);const Hn=Qs(yn);null!==Hn&&y_(0,Tn.field,Hn)}const ri=function(pi,Hn){for(const ei of pi.filters)if(Hn.indexOf(ei.op)>=0)return ei.op;return null}(yn,function(pi){switch(pi){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Tn.op));if(null!==ri)throw new Mn(cn.INVALID_ARGUMENT,ri===Tn.op?`Invalid query. You cannot use more than one '${Tn.op.toString()}' filter.`:`Invalid query. You cannot use '${Tn.op.toString()}' filters with '${ri.toString()}' filters.`)}(f,Kt),Kt}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Oa(e.firestore,e.converter,function(f,y){const M=f.filters.concat([y]);return new rc(f.path,f.collectionGroup,f.explicitOrderBy.slice(),M,f.limit,f.limitType,f.startAt,f.endAt)}(e._query,a))}}class dv extends sp{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(a,f,y){if(null!==a.startAt)throw new Mn(cn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new Mn(cn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const M=new al(f,y);return function(U,oe){if(null===Qs(U)){const _e=Wu(U);null!==_e&&y_(0,_e,oe.field)}}(a,M),M}(e._query,this.ma,this.pa);return new Oa(e.firestore,e.converter,function(a,f){const y=a.explicitOrderBy.concat([f]);return new rc(a.path,a.collectionGroup,y,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}class Uv extends sp{constructor(e,t,a){super(),this.type=e,this.Ia=t,this.Ta=a}_apply(e){return new Oa(e.firestore,e.converter,Ku(e._query,this.Ia,this.Ta))}}class m_ extends sp{constructor(e,t,a){super(),this.type=e,this.Ea=t,this.Aa=a}_apply(e){const t=__(e,this.type,this.Ea,this.Aa);return new Oa(e.firestore,e.converter,(f=t,new rc((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,f,a.endAt)));var a,f}}class g_ extends sp{constructor(e,t,a){super(),this.type=e,this.Ea=t,this.Aa=a}_apply(e){const t=__(e,this.type,this.Ea,this.Aa);return new Oa(e.firestore,e.converter,(f=t,new rc((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,f)));var a,f}}function __(s,e,t,a){if(t[0]=(0,Ve.m9)(t[0]),t[0]instanceof Qh)return function(f,y,M,U,oe){if(!U)throw new Mn(cn.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${M}().`);const _e=[];for(const Ge of Fs(f))if(Ge.field.isKeyField())_e.push(_i(y,U.key));else{const bt=U.data.field(Ge.field);if(Tr(bt))throw new Mn(cn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ge.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===bt){const Kt=Ge.field.canonicalString();throw new Mn(cn.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Kt}' (used as the orderBy) does not exist.`)}_e.push(bt)}return new El(_e,oe)}(s._query,s.firestore._databaseId,e,t[0]._document,a);{const f=Io(s.firestore);return function(y,M,U,oe,_e,Ge){const bt=y.explicitOrderBy;if(_e.length>bt.length)throw new Mn(cn.INVALID_ARGUMENT,`Too many arguments provided to ${oe}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Kt=[];for(let yn=0;yn<_e.length;yn++){const Tn=_e[yn];if(bt[yn].field.isKeyField()){if("string"!=typeof Tn)throw new Mn(cn.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${oe}(), but got a ${typeof Tn}`);if(!Yu(y)&&-1!==Tn.indexOf("/"))throw new Mn(cn.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${oe}() must be a plain document ID, but '${Tn}' contains a slash.`);const ri=y.path.child(yi.fromString(Tn));if(!zn.isDocumentKey(ri))throw new Mn(cn.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${oe}() must result in a valid document path, but '${ri}' is not because it contains an odd number of segments.`);const pi=new zn(ri);Kt.push(_i(M,pi))}else{const ri=rg(U,oe,Tn);Kt.push(ri)}}return new El(Kt,Ge)}(s._query,s.firestore._databaseId,f,e,t,a)}}function fv(s,e,t){if("string"==typeof(t=(0,Ve.m9)(t))){if(""===t)throw new Mn(cn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yu(e)&&-1!==t.indexOf("/"))throw new Mn(cn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(yi.fromString(t));if(!zn.isDocumentKey(a))throw new Mn(cn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return _i(s,new zn(a))}if(t instanceof ws)return _i(s,t._key);throw new Mn(cn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yf(t)}.`)}function v_(s,e){if(!Array.isArray(s)||0===s.length)throw new Mn(cn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(s.length>10)throw new Mn(cn.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function y_(s,e,t){if(!t.isEqual(e))throw new Mn(cn.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class uh{convertValue(e,t="none"){switch(re(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ci(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ii()}}convertObject(e,t){const a={};return mo(e.fields,(f,y)=>{a[f]=this.convertValue(y,t)}),a}convertGeoPoint(e){return new ep(ci(e.latitude),ci(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=So(e);return null==a?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(jr(e));default:return null}}convertTimestamp(e){const t=Wn(e);return new kr(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=yi.fromString(e);Ti(yp(a));const f=new Ns(a.get(1),a.get(3)),y=new zn(a.popFirst(5));return f.isEqual(t)||Qi(`Document ${y} contains a document reference within a different database (${f.projectId}/${f.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),y}}function cg(s,e,t){let a;return a=s?t&&(t.merge||t.mergeFields)?s.toFirestore(e,t):s.toFirestore(e):e,a}class Jc extends uh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ws(this.firestore,null,t)}}class dh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eu extends Qh{constructor(e,t,a,f,y,M){super(e,t,a,f,M),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(hl("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}}class Xh extends eu{data(e={}){return super.data(e)}}class Jh{constructor(e,t,a,f){this._firestore=e,this._userDataWriter=t,this._snapshot=f,this.metadata=new dh(f.hasPendingWrites,f.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new Xh(this._firestore,this._userDataWriter,a.key,a,new dh(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Mn(cn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,f){if(a._snapshot.oldDocs.isEmpty()){let y=0;return a._snapshot.docChanges.map(M=>({type:"added",doc:new Xh(a._firestore,a._userDataWriter,M.doc.key,M.doc,new dh(a._snapshot.mutatedKeys.has(M.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:y++}))}{let y=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(M=>f||3!==M.type).map(M=>{const U=new Xh(a._firestore,a._userDataWriter,M.doc.key,M.doc,new dh(a._snapshot.mutatedKeys.has(M.doc.key),a._snapshot.fromCache),a.query.converter);let oe=-1,_e=-1;return 0!==M.type&&(oe=y.indexOf(M.doc.key),y=y.delete(M.doc.key)),1!==M.type&&(y=y.add(M.doc),_e=y.indexOf(M.doc.key)),{type:ug(M.type),doc:U,oldIndex:oe,newIndex:_e}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ug(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ii()}}function dg(s,e){return s instanceof eu&&e instanceof eu?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(null===s._document?null===e._document:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof Jh&&e instanceof Jh&&s._firestore===e._firestore&&gc(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}class hh extends uh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ws(this.firestore,null,t)}}function hg(s,e,t){s=ir(s,ws);const a=ir(s.firestore,ts),f=cg(s.converter,e,t);return ju(a,[Cc(Io(a),"setDoc",s._key,f,null!==s.converter,t).toMutation(s._key,os.none())])}function mv(s,e,t,...a){s=ir(s,ws);const f=ir(s.firestore,ts),y=Io(f);let M;return M="string"==typeof(e=(0,Ve.m9)(e))||e instanceof bc?ig(y,"updateDoc",s._key,e,t,a):ip(y,"updateDoc",s._key,e),ju(f,[M.toMutation(s._key,os.exists(!0))])}function gv(s,...e){var t,a,f;s=(0,Ve.m9)(s);let y={includeMetadataChanges:!1},M=0;"object"!=typeof e[M]||Qf(e[M])||(y=e[M],M++);const U={includeMetadataChanges:y.includeMetadataChanges};if(Qf(e[M])){const bt=e[M];e[M]=null===(t=bt.next)||void 0===t?void 0:t.bind(bt),e[M+1]=null===(a=bt.error)||void 0===a?void 0:a.bind(bt),e[M+2]=null===(f=bt.complete)||void 0===f?void 0:f.bind(bt)}let oe,_e,Ge;if(s instanceof ws)_e=ir(s.firestore,ts),Ge=Hl(s._key.path),oe={next:bt=>{e[M]&&e[M](C_(_e,s,bt))},error:e[M+1],complete:e[M+2]};else{const bt=ir(s,Oa);_e=ir(bt.firestore,ts),Ge=bt._query;const Kt=new hh(_e);oe={next:yn=>{e[M]&&e[M](new Jh(_e,Kt,bt,yn))},error:e[M+1],complete:e[M+2]},lg(s._query)}return function(bt,Kt,yn,Tn){const ri=new em(Tn),pi=new z_(Kt,ri,yn);return bt.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return $g(yield Bu(bt),pi)})),()=>{ri.bc(),bt.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return j_(yield Bu(bt),pi)}))}}(Es(_e),Ge,U,oe)}function ju(s,e){return function(t,a){const f=new Ar;return t.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return function K_(s,e,t){return Kl.apply(this,arguments)}(yield zh(t),a,f)})),f.promise}(Es(s),e)}function C_(s,e,t){const a=t.docs.get(e._key),f=new hh(s);return new eu(s,f,e._key,a,new dh(t.hasPendingWrites,t.fromCache),e.converter)}const qv={maxAttempts:5};class _v{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Io(e)}set(e,t,a){this._verifyNotCommitted();const f=ru(e,this._firestore),y=cg(f.converter,t,a),M=Cc(this._dataReader,"WriteBatch.set",f._key,y,null!==f.converter,a);return this._mutations.push(M.toMutation(f._key,os.none())),this}update(e,t,a,...f){this._verifyNotCommitted();const y=ru(e,this._firestore);let M;return M="string"==typeof(t=(0,Ve.m9)(t))||t instanceof bc?ig(this._dataReader,"WriteBatch.update",y._key,t,a,f):ip(this._dataReader,"WriteBatch.update",y._key,t),this._mutations.push(M.toMutation(y._key,os.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ru(e,this._firestore);return this._mutations=this._mutations.concat(new Bc(t._key,os.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Mn(cn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ru(s,e){if((s=(0,Ve.m9)(s)).firestore!==e)throw new Mn(cn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class Qv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Io(e)}get(e){const t=ru(e,this._firestore),a=new Jc(this._firestore);return this._transaction.lookup([t._key]).then(f=>{if(!f||1!==f.length)return ii();const y=f[0];if(y.isFoundDocument())return new Qh(this._firestore,a,y.key,y,t.converter);if(y.isNoDocument())return new Qh(this._firestore,a,t._key,null,t.converter);throw ii()})}set(e,t,a){const f=ru(e,this._firestore),y=cg(f.converter,t,a),M=Cc(this._dataReader,"Transaction.set",f._key,y,null!==f.converter,a);return this._transaction.set(f._key,M),this}update(e,t,a,...f){const y=ru(e,this._firestore);let M;return M="string"==typeof(t=(0,Ve.m9)(t))||t instanceof bc?ig(this._dataReader,"Transaction.update",y._key,t,a,f):ip(this._dataReader,"Transaction.update",y._key,t),this._transaction.update(y._key,M),this}delete(e){const t=ru(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ru(e,this._firestore),a=new hh(this._firestore);return super.get(e).then(f=>new eu(this._firestore,a,t._key,f._document,new dh(!1,!1),t.converter))}}function pg(s,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Mn("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return e}function Cv(){if(typeof Uint8Array>"u")throw new Mn("unimplemented","Uint8Arrays are not available in this environment.")}function wv(){if(!function Yt(){return typeof atob<"u"}())throw new Mn("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(s,e=!0){fa=kt.SDK_VERSION,(0,kt._registerComponent)(new yt.wA("firestore",(t,{instanceIdentifier:a,options:f})=>{const y=t.getProvider("app").getImmediate(),M=new ts(new ma(t.getProvider("auth-internal")),new yl(t.getProvider("app-check-internal")),function(U,oe){if(!Object.prototype.hasOwnProperty.apply(U.options,["projectId"]))throw new Mn(cn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ns(U.options.projectId,oe)}(y,a),y);return f=Object.assign({useFetchStreams:e},f),M._setSettings(f),M},"PUBLIC").setMultipleInstances(!0)),(0,kt.registerVersion)(lu,"3.7.2",s),(0,kt.registerVersion)(lu,"3.7.2","esm2017")}();class im{constructor(e){this._delegate=e}static fromBase64String(e){return wv(),new im(Qc.fromBase64String(e))}static fromUint8Array(e){return Cv(),new im(Qc.fromUint8Array(e))}toBase64(){return wv(),this._delegate.toBase64()}toUint8Array(){return Cv(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function T_(s){return function Ev(s,e){if("object"!=typeof s||null===s)return!1;const t=s;for(const a of e)if(a in t&&"function"==typeof t[a])return!0;return!1}(s,["next","error","complete"])}class Dv{enableIndexedDbPersistence(e,t){return function wd(s,e){u_(s=ir(s,ts));const t=Es(s),a=s._freezeSettings(),f=new Qp;return yc(t,f,new Ym(f,a.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Xf(s){u_(s=ir(s,ts));const e=Es(s),t=s._freezeSettings(),a=new Qp;return yc(e,a,new e_(a,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Jf(s){if(s._initialized&&!s._terminated)throw new Mn(cn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ar;return s._queue.enqueueAndForgetEvenWhileRestricted((0,ht.Z)(function*(){try{yield(t=(0,ht.Z)(function*(a){if(!jo.C())return Promise.resolve();const f=a+"main";yield jo.delete(f)}),function(a){return t.apply(this,arguments)})(Kc(s._databaseId,s._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class S_{constructor(e,t,a){this._delegate=t,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ns||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&pa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,a={}){!function t_(s,e,t,a={}){var f;const y=(s=ir(s,sh))._getSettings();if("firestore.googleapis.com"!==y.host&&y.host!==e&&pa("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},y),{host:`${e}:${t}`,ssl:!1})),a.mockUserToken){let M,U;if("string"==typeof a.mockUserToken)M=a.mockUserToken,U=nr.MOCK_USER;else{M=(0,Ve.Sg)(a.mockUserToken,null===(f=s._app)||void 0===f?void 0:f.options.projectId);const oe=a.mockUserToken.sub||a.mockUserToken.user_id;if(!oe)throw new Mn(cn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");U=new nr(oe)}s._authCredentials=new tl(new Ic(M,U))}}(this._delegate,e,t,a)}enableNetwork(){return function l_(s){return function sv(s){return s.asyncQueue.enqueue((0,ht.Z)(function*(){const e=yield rv(s),t=yield Qm(s);return e.setNetworkEnabled(!0),function(a){const f=Xn(a);return f._u.delete(0),ka(f)}(t)}))}(Es(s=ir(s,ts)))}(this._delegate)}disableNetwork(){return function c_(s){return function ah(s){return s.asyncQueue.enqueue((0,ht.Z)(function*(){const e=yield rv(s),t=yield Qm(s);return e.setNetworkEnabled(!1),(a=(0,ht.Z)(function*(f){const y=Xn(f);y._u.add(0),yield Nu(y),y.gu.set("Offline")}),function(f){return a.apply(this,arguments)})(t);var a}))}(Es(s=ir(s,ts)))}(this._delegate)}enablePersistence(e){let t=!1,a=!1;return e&&(t=!!e.synchronizeTabs,a=!!e.experimentalForceOwningTab,rh("synchronizeTabs",t,"experimentalForceOwningTab",a)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function a_(s){return function(e){const t=new Ar;return e.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return function jm(s,e){return jp.apply(this,arguments)}(yield zh(e),t)})),t.promise}(Es(s=ir(s,ts)))}(this._delegate)}onSnapshotsInSync(e){return function b_(s,e){return function Vu(s,e){const t=new em(e);return s.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return a=yield Bu(s),f=t,Xn(a).Ru.add(f),void f.next();var a,f})),()=>{t.bc(),s.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return a=yield Bu(s),f=t,void Xn(a).Ru.delete(f);var a,f}))}}(Es(s=ir(s,ts)),Qf(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Mn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new tf(this,Zl(this._delegate,e))}catch(t){throw Za(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ec(this,$h(this._delegate,e))}catch(t){throw Za(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new qa(this,function Jp(s,e){if(s=ir(s,sh),ih("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Mn(cn.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Oa(s,null,(t=e,new rc(yi.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Za(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function vv(s,e,t){s=ir(s,ts);const a=Object.assign(Object.assign({},qv),t);return function(f){if(f.maxAttempts<1)throw new Mn(cn.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(f,y,M){const U=new Ar;return f.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){const oe=yield function s_(s){return Gh(s).then(e=>e.datastore)}(f);new _c(f.asyncQueue,oe,M,y,U).run()})),U.promise}(Es(s),f=>e(new Qv(s,f)),a)}(this._delegate,t=>e(new Tv(this,t)))}batch(){return Es(this._delegate),new M_(new _v(this._delegate,e=>ju(this._delegate,e)))}loadBundle(e){return function tg(s,e){const t=Es(s=ir(s,ts)),a=new Pl;return function qf(s,e,t,a){const f=function(y,M){let U;return U="string"==typeof y?(new TextEncoder).encode(y):y,oe=function(oe,_e){if(oe instanceof Uint8Array)return oh(oe,void 0);if(oe instanceof ArrayBuffer)return oh(new Uint8Array(oe),void 0);if(oe instanceof ReadableStream)return oe.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(U),new tv(oe,M);var oe}(t,kn(e));s.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){!function hy(s,e,t){const a=Xn(s);var f;(f=(0,ht.Z)(function*(y,M,U){try{const oe=yield M.getMetadata();if(yield function(Kt,yn){const Tn=Xn(Kt),ri=bs(yn.createTime);return Tn.persistence.runTransaction("hasNewerBundle","readonly",pi=>Tn.Ns.getBundleMetadata(pi,yn.id)).then(pi=>!!pi&&pi.createTime.compareTo(ri)>=0)}(y.localStore,oe))return yield M.close(),U._completeWith({taskState:"Success",documentsLoaded:(Kt=oe).totalDocuments,bytesLoaded:Kt.totalBytes,totalDocuments:Kt.totalDocuments,totalBytes:Kt.totalBytes}),Promise.resolve(new Set);U._updateProgress(Bp(oe));const _e=new eh(oe,y.localStore,M.It);let Ge=yield M.mc();for(;Ge;){const Kt=yield _e.Fu(Ge);Kt&&U._updateProgress(Kt),Ge=yield M.mc()}const bt=yield _e.complete();return yield vd(y,bt.Lu,void 0),yield function(Kt,yn){const Tn=Xn(Kt);return Tn.persistence.runTransaction("Save bundle","readwrite",ri=>Tn.Ns.saveBundleMetadata(ri,yn))}(y.localStore,oe),U._completeWith(bt.progress),Promise.resolve(bt.Bu)}catch(oe){return pa("SyncEngine",`Loading bundle failed with ${oe}`),U._failWith(oe),Promise.resolve(new Set)}var Kt}),function(y,M,U){return f.apply(this,arguments)})(a,e,t).then(f=>{a.sharedClientState.notifyBundleLoaded(f)})}(yield zh(s),f,a)}))}(t,s._databaseId,e,a),a}(this._delegate,e)}namedQuery(e){return function ng(s,e){return function Ka(s,e){return s.asyncQueue.enqueue((0,ht.Z)(function*(){return function(t,a){const f=Xn(t);return f.persistence.runTransaction("Get named query","readonly",y=>f.Ns.getNamedQuery(y,a))}(yield qm(s),e)}))}(Es(s=ir(s,ts)),e).then(t=>t?new Oa(s,null,t.query):null)}(this._delegate,e).then(t=>t?new qa(this,t):null)}}class rm extends uh{constructor(e){super(),this.firestore=e}convertBytes(e){return new im(new Qc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ec.forKey(t,this.firestore,null)}}class Tv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new rm(e)}get(e){const t=Td(e);return this._delegate.get(t).then(a=>new om(this._firestore,new eu(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,t.converter)))}set(e,t,a){const f=Td(e);return a?(pg("Transaction.set",a),this._delegate.set(f,t,a)):this._delegate.set(f,t),this}update(e,t,a,...f){const y=Td(e);return 2===arguments.length?this._delegate.update(y,t):this._delegate.update(y,t,a,...f),this}delete(e){const t=Td(e);return this._delegate.delete(t),this}}class M_{constructor(e){this._delegate=e}set(e,t,a){const f=Td(e);return a?(pg("WriteBatch.set",a),this._delegate.set(f,t,a)):this._delegate.set(f,t),this}update(e,t,a,...f){const y=Td(e);return 2===arguments.length?this._delegate.update(y,t):this._delegate.update(y,t,a,...f),this}delete(e){const t=Td(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ef{constructor(e,t,a){this._firestore=e,this._userDataWriter=t,this._delegate=a}fromFirestore(e,t){const a=new Xh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new am(this._firestore,a),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const a=ef.INSTANCES;let f=a.get(e);f||(f=new WeakMap,a.set(e,f));let y=f.get(t);return y||(y=new ef(e,new rm(e),t),f.set(t,y)),y}}ef.INSTANCES=new WeakMap;class Ec{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rm(e)}static forPath(e,t,a){if(e.length%2!=0)throw new Mn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ec(t,new ws(t._delegate,a,new zn(e)))}static forKey(e,t,a){return new Ec(t,new ws(t._delegate,a,e))}get id(){return this._delegate.id}get parent(){return new tf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new tf(this.firestore,Zl(this._delegate,e))}catch(t){throw Za(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ve.m9)(e))instanceof ws&&Fu(this._delegate,e)}set(e,t){t=pg("DocumentReference.set",t);try{return t?hg(this._delegate,e,t):hg(this._delegate,e)}catch(a){throw Za(a,"setDoc()","DocumentReference.set()")}}update(e,t,...a){try{return 1===arguments.length?mv(this._delegate,e):mv(this._delegate,e,t,...a)}catch(f){throw Za(f,"updateDoc()","DocumentReference.update()")}}delete(){return function Yv(s){return ju(ir(s.firestore,ts),[new Bc(s._key,os.none())])}(this._delegate)}onSnapshot(...e){const t=I_(e),a=x_(e,f=>new om(this.firestore,new eu(this.firestore._delegate,this._userDataWriter,f._key,f._document,f.metadata,this._delegate.converter)));return gv(this._delegate,t,a)}get(e){let t;return t="cache"===e?.source?function pv(s){s=ir(s,ws);const e=ir(s.firestore,ts),t=Es(e),a=new hh(e);return function Vv(s,e){const t=new Ar;return s.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return(a=(0,ht.Z)(function*(f,y,M){try{const U=yield function(oe,_e){const Ge=Xn(oe);return Ge.persistence.runTransaction("read document","readonly",bt=>Ge.localDocuments.getDocument(bt,_e))}(f,y);U.isFoundDocument()?M.resolve(U):U.isNoDocument()?M.resolve(null):M.reject(new Mn(cn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(U){const oe=Ff(U,`Failed to get document '${y} from cache`);M.reject(oe)}}),function(f,y,M){return a.apply(this,arguments)})(yield qm(s),e,t);var a})),t.promise}(t,s._key).then(f=>new eu(e,a,s._key,f,new dh(null!==f&&f.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===e?.source?function tu(s){s=ir(s,ws);const e=ir(s.firestore,ts);return Xm(Es(e),s._key,{source:"server"}).then(t=>C_(e,s,t))}(this._delegate):function Hu(s){s=ir(s,ws);const e=ir(s.firestore,ts);return Xm(Es(e),s._key).then(t=>C_(e,s,t))}(this._delegate),t.then(a=>new om(this.firestore,new eu(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(e){return new Ec(this.firestore,this._delegate.withConverter(e?ef.getInstance(this.firestore,e):null))}}function Za(s,e,t){return s.message=s.message.replace(e,t),s}function I_(s){for(const e of s)if("object"==typeof e&&!T_(e))return e;return{}}function x_(s,e){var t,a;let f;return f=T_(s[0])?s[0]:T_(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:y=>{f.next&&f.next(e(y))},error:null===(t=f.error)||void 0===t?void 0:t.bind(f),complete:null===(a=f.complete)||void 0===a?void 0:a.bind(f)}}class om{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ec(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return dg(this._delegate,e._delegate)}}class am extends om{data(e){const t=this._delegate.data(e);return function Uo(s,e){s||ii()}(void 0!==t),t}}class qa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rm(e)}where(e,t,a){try{return new qa(this.firestore,Dd(this._delegate,function p_(s,e,t){const a=e,f=hl("where",s);return new uv(f,a,t)}(e,t,a)))}catch(f){throw Za(f,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new qa(this.firestore,Dd(this._delegate,function hv(s,e="asc"){const t=e,a=hl("orderBy",s);return new dv(a,t)}(e,t)))}catch(a){throw Za(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new qa(this.firestore,Dd(this._delegate,function Hv(s){return ev("limit",s),new Uv("limit",s,"F")}(e)))}catch(t){throw Za(t,"limit()","Query.limit()")}}limitToLast(e){try{return new qa(this.firestore,Dd(this._delegate,function jv(s){return ev("limitToLast",s),new Uv("limitToLast",s,"L")}(e)))}catch(t){throw Za(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new qa(this.firestore,Dd(this._delegate,function $v(...s){return new m_("startAt",s,!0)}(...e)))}catch(t){throw Za(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new qa(this.firestore,Dd(this._delegate,function ia(...s){return new m_("startAfter",s,!1)}(...e)))}catch(t){throw Za(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new qa(this.firestore,Dd(this._delegate,function Gv(...s){return new g_("endBefore",s,!1)}(...e)))}catch(t){throw Za(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new qa(this.firestore,Dd(this._delegate,function zv(...s){return new g_("endAt",s,!0)}(...e)))}catch(t){throw Za(t,"endAt()","Query.endAt()")}}isEqual(e){return gc(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function iu(s){s=ir(s,Oa);const e=ir(s.firestore,ts),t=Es(e),a=new hh(e);return function o_(s,e){const t=new Ar;return s.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return(a=(0,ht.Z)(function*(f,y,M){try{const U=yield Zd(f,y,!0),oe=new Vp(y,U.Hi),_e=oe.Wu(U.documents),Ge=oe.applyChanges(_e,!1);M.resolve(Ge.snapshot)}catch(U){const oe=Ff(U,`Failed to execute query '${y} against cache`);M.reject(oe)}}),function(f,y,M){return a.apply(this,arguments)})(yield qm(s),e,t);var a})),t.promise}(t,s._query).then(f=>new Jh(e,a,s,f))}(this._delegate):"server"===e?.source?function Wv(s){s=ir(s,Oa);const e=ir(s.firestore,ts),t=Es(e),a=new hh(e);return ov(t,s._query,{source:"server"}).then(f=>new Jh(e,a,s,f))}(this._delegate):function nu(s){s=ir(s,Oa);const e=ir(s.firestore,ts),t=Es(e),a=new hh(e);return lg(s._query),ov(t,s._query).then(f=>new Jh(e,a,s,f))}(this._delegate),t.then(a=>new mg(this.firestore,new Jh(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...e){const t=I_(e),a=x_(e,f=>new mg(this.firestore,new Jh(this.firestore._delegate,this._userDataWriter,this._delegate,f._snapshot)));return gv(this._delegate,t,a)}withConverter(e){return new qa(this.firestore,this._delegate.withConverter(e?ef.getInstance(this.firestore,e):null))}}class A_{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new am(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class mg{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new qa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new am(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new A_(this._firestore,t))}forEach(e,t){this._delegate.forEach(a=>{e.call(t,new am(this._firestore,a))})}isEqual(e){return dg(this._delegate,e._delegate)}}class tf extends qa{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ec(this.firestore,e):null}doc(e){try{return new Ec(this.firestore,void 0===e?$h(this._delegate):$h(this._delegate,e))}catch(t){throw Za(t,"doc()","CollectionReference.doc()")}}add(e){return function Kv(s,e){const t=ir(s.firestore,ts),a=$h(s),f=cg(s.converter,e);return ju(t,[Cc(Io(s.firestore),"addDoc",a._key,f,null!==s.converter,{}).toMutation(a._key,os.exists(!1))]).then(()=>a)}(this._delegate,e).then(t=>new Ec(this.firestore,t))}isEqual(e){return Fu(this._delegate,e._delegate)}withConverter(e){return new tf(this.firestore,this._delegate.withConverter(e?ef.getInstance(this.firestore,e):null))}}function Td(s){return ir(s,ws)}class gg{constructor(...e){this._delegate=new bc(...e)}static documentId(){return new gg(wr.keyField().canonicalString())}isEqual(e){return(e=(0,Ve.m9)(e))instanceof bc&&this._delegate._internalPath.isEqual(e._internalPath)}}class ph{constructor(e){this._delegate=e}static serverTimestamp(){const e=function E_(){return new wc("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new ph(e)}static delete(){const e=function w_(){return new tp("deleteField")}();return e._methodName="FieldValue.delete",new ph(e)}static arrayUnion(...e){const t=function fg(...s){return new av("arrayUnion",s)}(...e);return t._methodName="FieldValue.arrayUnion",new ph(t)}static arrayRemove(...e){const t=function D_(...s){return new lv("arrayRemove",s)}(...e);return t._methodName="FieldValue.arrayRemove",new ph(t)}static increment(e){const t=function yv(s){return new f_("increment",s)}(e);return t._methodName="FieldValue.increment",new ph(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Sv={Firestore:S_,GeoPoint:ep,Timestamp:kr,Blob:im,Transaction:Tv,WriteBatch:M_,DocumentReference:Ec,DocumentSnapshot:om,Query:qa,QueryDocumentSnapshot:am,QuerySnapshot:mg,CollectionReference:tf,FieldPath:gg,FieldValue:ph,setLogLevel:function sm(s){!function Vo(s){Bo.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};!function k_(s){(function Mv(s,e){s.INTERNAL.registerComponent(new yt.wA("firestore-compat",t=>{const a=t.getProvider("app-compat").getImmediate(),f=t.getProvider("firestore").getImmediate();return e(a,f)},"PUBLIC").setServiceProps(Object.assign({},Sv)))})(s,(e,t)=>new S_(e,t,new Dv)),s.registerVersion("@firebase/firestore-compat","0.2.2")}(jt.Z);var su=k(4941),mh=k(440),Iv=k(127);function nf(s,e){return function Xv(s,e=N.P){return new _.y(t=>{let a;return null!=e?e.schedule(()=>{a=s.onSnapshot({includeMetadataChanges:!0},t)}):a=s.onSnapshot({includeMetadataChanges:!0},t),()=>{a?.()}})}(s,e)}function lm(s,e){return nf(s,e).pipe((0,ye.U)(t=>({payload:t,type:"query"})))}function R_(s,e){return lm(s,e).pipe((0,we.O)(void 0),Se(),(0,ye.U)(([t,a])=>{const f=a.payload.docChanges(),y=f.map(M=>({type:M.type,payload:M}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((M,U)=>{const oe=f.find(Ge=>Ge.doc.ref.isEqual(M.ref)),_e=t?.payload.docs.find(Ge=>Ge.ref.isEqual(M.ref));oe&&JSON.stringify(oe.doc.metadata)===JSON.stringify(M.metadata)||!oe&&_e&&JSON.stringify(_e.metadata)===JSON.stringify(M.metadata)||y.push({type:"modified",payload:{oldIndex:U,newIndex:U,type:"modified",doc:M}})}),y}))}function u(s,e,t){return R_(s,t).pipe((0,Pe.R)((a,f)=>function i(s,e,t){return e.forEach(a=>{t.indexOf(a.type)>-1&&(s=function d(s,e){switch(e.type){case"added":if(!s[e.newIndex]||!s[e.newIndex].doc.ref.isEqual(e.doc.ref))return o(s,e.newIndex,0,e);break;case"modified":if(null==s[e.oldIndex]||s[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=s.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return o(s,e.newIndex,1,e)}break;case"removed":if(s[e.oldIndex]&&s[e.oldIndex].doc.ref.isEqual(e.doc.ref))return o(s,e.oldIndex,1)}return s}(s,a))}),s}(a,f.map(y=>y.payload),e),[]),(0,Ke.x)(),(0,ye.U)(a=>a.map(f=>({type:f.type,payload:f}))))}function o(s,e,t,...a){const f=s.slice();return f.splice(e,t,...a),f}function g(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}class T{constructor(e,t,a){this.ref=e,this.query=t,this.afs=a}stateChanges(e){let t=R_(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ye.U)(a=>a.filter(f=>e.indexOf(f.type)>-1)))),t.pipe((0,we.O)(void 0),Se(),(0,ut.h)(([a,f])=>f.length>0||!a),(0,ye.U)(([a,f])=>f),J.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Pe.R)((t,a)=>[...t,...a],[]))}snapshotChanges(e){const t=g(e);return u(this.query,t,this.afs.schedulers.outsideAngular).pipe(J.iC)}valueChanges(e={}){return lm(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(t=>t.payload.docs.map(a=>e.idField?Object.assign(Object.assign({},a.data()),{[e.idField]:a.id}):a.data())),J.iC)}get(e){return(0,ne.D)(this.query.get(e)).pipe(J.iC)}add(e){return this.ref.add(e)}doc(e){return new P(this.ref.doc(e),this.afs)}}class P{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const a=this.ref.collection(e),{ref:f,query:y}=Ut(a,t);return new T(f,y,this.afs)}snapshotChanges(){return function Jv(s,e){return nf(s,e).pipe((0,we.O)(void 0),Se(),(0,ye.U)(([t,a])=>a.exists?t?.exists?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(J.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ye.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ne.D)(this.ref.get(e)).pipe(J.iC)}}class z{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?R_(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(t=>t.filter(a=>e.indexOf(a.type)>-1)),(0,ut.h)(t=>t.length>0),J.iC):R_(this.query,this.afs.schedulers.outsideAngular).pipe(J.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Pe.R)((t,a)=>[...t,...a],[]))}snapshotChanges(e){const t=g(e);return u(this.query,t,this.afs.schedulers.outsideAngular).pipe(J.iC)}valueChanges(e={}){return lm(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(a=>a.payload.docs.map(f=>e.idField?Object.assign({[e.idField]:f.id},f.data()):f.data())),J.iC)}get(e){return(0,ne.D)(this.query.get(e)).pipe(J.iC)}}const le=new p.OlP("angularfire2.enableFirestorePersistence"),Te=new p.OlP("angularfire2.firestore.persistenceSettings"),_t=new p.OlP("angularfire2.firestore.settings"),wt=new p.OlP("angularfire2.firestore.use-emulator");function Ut(s,e=(t=>t)){return{query:e(s),ref:s}}let mn=(()=>{class s{constructor(t,a,f,y,M,U,oe,_e,Ge,bt,Kt,yn,Tn,ri,pi,Hn,ei){this.schedulers=oe;const ti=(0,je.on)(t,U,a),Mi=Ge;bt&&(0,su.nw)(ti,U,Kt,Tn,ri,pi,yn,Hn),[this.firestore,this.persistenceEnabled$]=(0,je.cc)(`${ti.name}.firestore`,"AngularFirestore",ti.name,()=>{const ki=U.runOutsideAngular(()=>ti.firestore());if(y&&ki.settings(y),Mi&&ki.useEmulator(...Mi),f&&!(0,ct.PM)(M)){const rr=()=>{try{return(0,ne.D)(ki.enablePersistence(_e||void 0).then(()=>!0,()=>!1))}catch(Gr){return typeof console<"u"&&console.warn(Gr),(0,C.of)(!1)}};return[ki,U.runOutsideAngular(rr)]}return[ki,(0,C.of)(!1)]},[y,Mi,f])}collection(t,a){let f;f="string"==typeof t?this.firestore.collection(t):t;const{ref:y,query:M}=Ut(f,a),U=this.schedulers.ngZone.run(()=>y);return new T(U,M,this)}collectionGroup(t,a){const f=a||(M=>M),y=this.firestore.collectionGroup(t);return new z(f(y),this)}doc(t){let a;a="string"==typeof t?this.firestore.doc(t):t;const f=this.schedulers.ngZone.run(()=>a);return new P(f,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(t){return new(t||s)(p.LFG(je.Dh),p.LFG(je.xv,8),p.LFG(le,8),p.LFG(_t,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(J.HU),p.LFG(Te,8),p.LFG(wt,8),p.LFG(su.zQ,8),p.LFG(su.Qv,8),p.LFG(su.L6,8),p.LFG(su._Q,8),p.LFG(su.rT,8),p.LFG(su.lh,8),p.LFG(su.f7,8),p.LFG(mh.nm,8))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),wn=(()=>{class s{constructor(){Iv.Z.registerVersion("angularfire",J.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:s,providers:[{provide:le,useValue:!0},{provide:Te,useValue:t}]}}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({providers:[mn]}),s})()},2011:(_n,vt,k)=>{"use strict";k.d(vt,{Dh:()=>fe,GT:()=>J,cc:()=>Ke,hO:()=>Pe,on:()=>ae,pX:()=>C,xv:()=>Se});var p=k(4650),N=k(127),_=k(6351);_n=k.hmd(_n);const ne=["ngOnDestroy"],C=(mt,jt,ht,kt={})=>new Proxy(mt,{get:(yt,et)=>ht.runOutsideAngular(()=>{var Ve;if(mt[et])return!(null===(Ve=kt?.spy)||void 0===Ve)&&Ve.get&&kt.spy.get(et,mt[et]),mt[et];if(ne.indexOf(et)>-1)return()=>{};const pt=jt.toPromise().then(tt=>{const Qe=tt&&tt[et];return"function"==typeof Qe?Qe.bind(tt):Qe&&Qe.then?Qe.then(Lt=>ht.run(()=>Lt)):ht.run(()=>Qe)});return new Proxy(()=>{},{get:(tt,Qe)=>pt[Qe],apply:(tt,Qe,Lt)=>pt.then(We=>{var Ot;const Vt=We&&We(...Lt);return!(null===(Ot=kt?.spy)||void 0===Ot)&&Ot.apply&&kt.spy.apply(et,Lt,Vt),Vt})})})}),J=(mt,jt)=>{jt.forEach(ht=>{Object.getOwnPropertyNames(ht.prototype||ht).forEach(kt=>{Object.defineProperty(mt.prototype,kt,Object.getOwnPropertyDescriptor(ht.prototype||ht,kt))})})};class we{constructor(jt){return jt}}const fe=new p.OlP("angularfire2.app.options"),Se=new p.OlP("angularfire2.app.name");function ae(mt,jt,ht){const yt="object"==typeof ht&&ht||{};yt.name=yt.name||"string"==typeof ht&&ht||"[DEFAULT]";const Ve=N.Z.apps.filter(pt=>pt&&pt.name===yt.name)[0]||jt.runOutsideAngular(()=>N.Z.initializeApp(mt,yt));try{JSON.stringify(mt)!==JSON.stringify(Ve.options)&&me("error",`${Ve.name} Firebase App already initialized with different options${_n.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new we(Ve)}const me=(mt,...jt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[mt](...jt)},ye={provide:we,useFactory:ae,deps:[fe,p.R0b,[new p.FiY,Se]]};let Pe=(()=>{class mt{constructor(ht){N.Z.registerVersion("angularfire",_.q4.full,"core"),N.Z.registerVersion("angularfire",_.q4.full,"app-compat"),N.Z.registerVersion("angular",p.q4F.full,ht.toString())}static initializeApp(ht,kt){return{ngModule:mt,providers:[{provide:fe,useValue:ht},{provide:Se,useValue:kt}]}}}return mt.\u0275fac=function(ht){return new(ht||mt)(p.LFG(p.Lbi))},mt.\u0275mod=p.oAB({type:mt}),mt.\u0275inj=p.cJS({providers:[ye]}),mt})();function Ke(mt,jt,ht,kt,yt){const[,et,Ve]=globalThis.\u0275AngularfireInstanceCache.find(pt=>pt[0]===mt)||[];if(et)return function ut(mt,jt){try{return mt.toString()===jt.toString()}catch{return mt===jt}}(yt,Ve)||(ct("error",`${jt} was already initialized on the ${ht} Firebase App with different settings.${je?" You may need to reload as Firebase is not HMR aware.":""}`),ct("warn",{is:yt,was:Ve})),et;{const pt=kt();return globalThis.\u0275AngularfireInstanceCache.push([mt,pt,yt]),pt}}const je=!!_n.hot,ct=(mt,...jt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[mt](...jt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(_n,vt,k)=>{"use strict";k.d(vt,{q4:()=>po,iC:()=>va,fc:()=>Nr,HU:()=>Ui,vb:()=>An,JM:()=>Yt});var p=k(4650),N=k(5867),_=k(5861),ne=k(9681),C=k(2090),J=k(4859),we=k(1877),fe=k(8766);const Se="@firebase/installations",ae="0.5.16",ye=`w:${ae}`,Pe="FIS_v2",jt=new C.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ht(Z){return Z instanceof C.ZR&&Z.code.includes("request-failed")}function kt({projectId:Z}){return`https://firebaseinstallations.googleapis.com/v1/projects/${Z}/installations`}function yt(Z){return{token:Z.token,requestStatus:2,expiresIn:We(Z.expiresIn),creationTime:Date.now()}}function et(Z,re){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,_.Z)(function*(Z,re){const lt=(yield re.json()).error;return jt.create("request-failed",{requestName:Z,serverCode:lt.code,serverMessage:lt.message,serverStatus:lt.status})})).apply(this,arguments)}function pt({apiKey:Z}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Z})}function tt(Z,{refreshToken:re}){const Ie=pt(Z);return Ie.append("Authorization",function Ot(Z){return`${Pe} ${Z}`}(re)),Ie}function Qe(Z){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,_.Z)(function*(Z){const re=yield Z();return re.status>=500&&re.status<600?Z():re})).apply(this,arguments)}function We(Z){return Number(Z.replace("s","000"))}function Vt(Z,re){return bn.apply(this,arguments)}function bn(){return(bn=(0,_.Z)(function*({appConfig:Z,heartbeatServiceProvider:re},{fid:Ie}){const lt=kt(Z),Ft=pt(Z),ln=re.getImmediate({optional:!0});if(ln){const Fi=yield ln.getHeartbeatsHeader();Fi&&Ft.append("x-firebase-client",Fi)}const Gn={method:"POST",headers:Ft,body:JSON.stringify({fid:Ie,authVersion:Pe,appId:Z.appId,sdkVersion:ye})},_i=yield Qe(()=>fetch(lt,Gn));if(_i.ok){const Fi=yield _i.json();return{fid:Fi.fid||Ie,registrationStatus:2,refreshToken:Fi.refreshToken,authToken:yt(Fi.authToken)}}throw yield et("Create Installation",_i)})).apply(this,arguments)}function qn(Z){return new Promise(re=>{setTimeout(re,Z)})}const oi=/^[cdef][\w-]{21}$/;function rn(){try{const Z=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Z),Z[0]=112+Z[0]%16;const Ie=function gn(Z){return function jn(Z){return btoa(String.fromCharCode(...Z)).replace(/\+/g,"-").replace(/\//g,"_")}(Z).substr(0,22)}(Z);return oi.test(Ie)?Ie:""}catch{return""}}function Re(Z){return`${Z.appName}!${Z.appId}`}const Ue=new Map;function Fe(Z,re){const Ie=Re(Z);tn(Ie,re),function Ln(Z,re){const Ie=function qt(){return!It&&"BroadcastChannel"in self&&(It=new BroadcastChannel("[Firebase] FID Change"),It.onmessage=Z=>{tn(Z.data.key,Z.data.fid)}),It}();Ie&&Ie.postMessage({key:Z,fid:re}),function Mt(){0===Ue.size&&It&&(It.close(),It=null)}()}(Ie,re)}function tn(Z,re){const Ie=Ue.get(Z);if(Ie)for(const lt of Ie)lt(re)}let It=null;const Gt="firebase-installations-store";let $n=null;function Dn(){return $n||($n=(0,fe.X3)("firebase-installations-database",1,{upgrade:(Z,re)=>{0===re&&Z.createObjectStore(Gt)}})),$n}function gt(Z,re){return ee.apply(this,arguments)}function ee(){return(ee=(0,_.Z)(function*(Z,re){const Ie=Re(Z),Ft=(yield Dn()).transaction(Gt,"readwrite"),ln=Ft.objectStore(Gt),In=yield ln.get(Ie);return yield ln.put(re,Ie),yield Ft.done,(!In||In.fid!==re.fid)&&Fe(Z,re.fid),re})).apply(this,arguments)}function de(Z){return Le.apply(this,arguments)}function Le(){return(Le=(0,_.Z)(function*(Z){const re=Re(Z),lt=(yield Dn()).transaction(Gt,"readwrite");yield lt.objectStore(Gt).delete(re),yield lt.done})).apply(this,arguments)}function Be(Z,re){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,_.Z)(function*(Z,re){const Ie=Re(Z),Ft=(yield Dn()).transaction(Gt,"readwrite"),ln=Ft.objectStore(Gt),In=yield ln.get(Ie),Gn=re(In);return void 0===Gn?yield ln.delete(Ie):yield ln.put(Gn,Ie),yield Ft.done,Gn&&(!In||In.fid!==Gn.fid)&&Fe(Z,Gn.fid),Gn})).apply(this,arguments)}function Zt(Z){return hn.apply(this,arguments)}function hn(){return(hn=(0,_.Z)(function*(Z){let re;const Ie=yield Be(Z.appConfig,lt=>{const Ft=Un(lt),ln=Cn(Z,Ft);return re=ln.registrationPromise,ln.installationEntry});return""===Ie.fid?{installationEntry:yield re}:{installationEntry:Ie,registrationPromise:re}})).apply(this,arguments)}function Un(Z){return at(Z||{fid:rn(),registrationStatus:0})}function Cn(Z,re){if(0===re.registrationStatus){if(!navigator.onLine)return{installationEntry:re,registrationPromise:Promise.reject(jt.create("app-offline"))};const Ie={fid:re.fid,registrationStatus:1,registrationTime:Date.now()},lt=function pn(Z,re){return Fn.apply(this,arguments)}(Z,Ie);return{installationEntry:Ie,registrationPromise:lt}}return 1===re.registrationStatus?{installationEntry:re,registrationPromise:di(Z)}:{installationEntry:re}}function Fn(){return(Fn=(0,_.Z)(function*(Z,re){try{const Ie=yield Vt(Z,re);return gt(Z.appConfig,Ie)}catch(Ie){throw ht(Ie)&&409===Ie.customData.serverCode?yield de(Z.appConfig):yield gt(Z.appConfig,{fid:re.fid,registrationStatus:0}),Ie}})).apply(this,arguments)}function di(Z){return hi.apply(this,arguments)}function hi(){return(hi=(0,_.Z)(function*(Z){let re=yield ni(Z.appConfig);for(;1===re.registrationStatus;)yield qn(100),re=yield ni(Z.appConfig);if(0===re.registrationStatus){const{installationEntry:Ie,registrationPromise:lt}=yield Zt(Z);return lt||Ie}return re})).apply(this,arguments)}function ni(Z){return Be(Z,re=>{if(!re)throw jt.create("installation-not-found");return at(re)})}function at(Z){return function Jt(Z){return 1===Z.registrationStatus&&Z.registrationTime+1e4<Date.now()}(Z)?{fid:Z.fid,registrationStatus:0}:Z}function be(Z,re){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,_.Z)(function*({appConfig:Z,heartbeatServiceProvider:re},Ie){const lt=ke(Z,Ie),Ft=tt(Z,Ie),ln=re.getImmediate({optional:!0});if(ln){const Fi=yield ln.getHeartbeatsHeader();Fi&&Ft.append("x-firebase-client",Fi)}const Gn={method:"POST",headers:Ft,body:JSON.stringify({installation:{sdkVersion:ye,appId:Z.appId}})},_i=yield Qe(()=>fetch(lt,Gn));if(_i.ok)return yt(yield _i.json());throw yield et("Generate Auth Token",_i)})).apply(this,arguments)}function ke(Z,{fid:re}){return`${kt(Z)}/${re}/authTokens:generate`}function ue(Z){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,_.Z)(function*(Z,re=!1){let Ie;const lt=yield Be(Z.appConfig,ln=>{if(!$t(ln))throw jt.create("not-registered");const In=ln.authToken;if(!re&&ge(In))return ln;if(1===In.requestStatus)return Ie=zt(Z,re),ln;{if(!navigator.onLine)throw jt.create("app-offline");const Gn=G(ln);return Ie=Je(Z,Gn),Gn}});return Ie?yield Ie:lt.authToken})).apply(this,arguments)}function zt(Z,re){return st.apply(this,arguments)}function st(){return(st=(0,_.Z)(function*(Z,re){let Ie=yield rt(Z.appConfig);for(;1===Ie.authToken.requestStatus;)yield qn(100),Ie=yield rt(Z.appConfig);const lt=Ie.authToken;return 0===lt.requestStatus?ue(Z,re):lt})).apply(this,arguments)}function rt(Z){return Be(Z,re=>{if(!$t(re))throw jt.create("not-registered");return function X(Z){return 1===Z.requestStatus&&Z.requestTime+1e4<Date.now()}(re.authToken)?Object.assign(Object.assign({},re),{authToken:{requestStatus:0}}):re})}function Je(Z,re){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,_.Z)(function*(Z,re){try{const Ie=yield be(Z,re),lt=Object.assign(Object.assign({},re),{authToken:Ie});return yield gt(Z.appConfig,lt),Ie}catch(Ie){if(!ht(Ie)||401!==Ie.customData.serverCode&&404!==Ie.customData.serverCode){const lt=Object.assign(Object.assign({},re),{authToken:{requestStatus:0}});yield gt(Z.appConfig,lt)}else yield de(Z.appConfig);throw Ie}})).apply(this,arguments)}function $t(Z){return void 0!==Z&&2===Z.registrationStatus}function ge(Z){return 2===Z.requestStatus&&!function j(Z){const re=Date.now();return re<Z.creationTime||Z.creationTime+Z.expiresIn<re+36e5}(Z)}function G(Z){const re={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},Z),{authToken:re})}function he(){return(he=(0,_.Z)(function*(Z){const re=Z,{installationEntry:Ie,registrationPromise:lt}=yield Zt(re);return lt?lt.catch(console.error):ue(re).catch(console.error),Ie.fid})).apply(this,arguments)}function Et(){return(Et=(0,_.Z)(function*(Z,re=!1){const Ie=Z;return yield dn(Ie),(yield ue(Ie,re)).token})).apply(this,arguments)}function dn(Z){return fn.apply(this,arguments)}function fn(){return(fn=(0,_.Z)(function*(Z){const{registrationPromise:re}=yield Zt(Z);re&&(yield re)})).apply(this,arguments)}function sn(Z){return jt.create("missing-app-config-values",{valueName:Z})}const Kn="installations",fi=Z=>{const re=Z.getProvider("app").getImmediate(),Ie=function Bt(Z){if(!Z||!Z.options)throw sn("App Configuration");if(!Z.name)throw sn("App Name");const re=["projectId","apiKey","appId"];for(const Ie of re)if(!Z.options[Ie])throw sn(Ie);return{appName:Z.name,projectId:Z.options.projectId,apiKey:Z.options.apiKey,appId:Z.options.appId}}(re);return{app:re,appConfig:Ie,heartbeatServiceProvider:(0,ne._getProvider)(re,"heartbeat"),_delete:()=>Promise.resolve()}},Bi=Z=>{const re=Z.getProvider("app").getImmediate(),Ie=(0,ne._getProvider)(re,Kn).getImmediate();return{getId:()=>function K(Z){return he.apply(this,arguments)}(Ie),getToken:Ft=>function Xe(Z){return Et.apply(this,arguments)}(Ie,Ft)}};(function dr(){(0,ne._registerComponent)(new J.wA(Kn,fi,"PUBLIC")),(0,ne._registerComponent)(new J.wA("installations-internal",Bi,"PRIVATE"))})(),(0,ne.registerVersion)(Se,ae),(0,ne.registerVersion)(Se,ae,"esm2017");const sr="@firebase/remote-config",br=new C.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class no{constructor(re,Ie,lt,Ft){this.client=re,this.storage=Ie,this.storageCache=lt,this.logger=Ft}isCachedDataFresh(re,Ie){if(!Ie)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const lt=Date.now()-Ie,Ft=lt<=re;return this.logger.debug(`Config fetch cache check. Cache age millis: ${lt}. Cache max age millis (minimumFetchIntervalMillis setting): ${re}. Is cache hit: ${Ft}.`),Ft}fetch(re){var Ie=this;return(0,_.Z)(function*(){const[lt,Ft]=yield Promise.all([Ie.storage.getLastSuccessfulFetchTimestampMillis(),Ie.storage.getLastSuccessfulFetchResponse()]);if(Ft&&Ie.isCachedDataFresh(re.cacheMaxAgeMillis,lt))return Ft;re.eTag=Ft&&Ft.eTag;const ln=yield Ie.client.fetch(re),In=[Ie.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ln.status&&In.push(Ie.storage.setLastSuccessfulFetchResponse(ln)),yield Promise.all(In),ln})()}}function Fa(Z=navigator){return Z.languages&&Z.languages[0]||Z.language}class _s{constructor(re,Ie,lt,Ft,ln,In){this.firebaseInstallations=re,this.sdkVersion=Ie,this.namespace=lt,this.projectId=Ft,this.apiKey=ln,this.appId=In}fetch(re){var Ie=this;return(0,_.Z)(function*(){var lt,Ft,ln;const[In,Gn]=yield Promise.all([Ie.firebaseInstallations.getId(),Ie.firebaseInstallations.getToken()]),Fi=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Ie.projectId}/namespaces/${Ie.namespace}:fetch?key=${Ie.apiKey}`,Ri={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":re.eTag||"*"},wi={sdk_version:Ie.sdkVersion,app_instance_id:In,app_instance_id_token:Gn,app_id:Ie.appId,language_code:Fa()},ms={method:"POST",headers:Ri,body:JSON.stringify(wi)},Ls=fetch(Fi,ms),Xo=new Promise((us,$a)=>{re.signal.addEventListener(()=>{const vr=new Error("The operation was aborted.");vr.name="AbortError",$a(vr)})});let Ha;try{yield Promise.race([Ls,Xo]),Ha=yield Ls}catch(us){let $a="fetch-client-network";throw"AbortError"===(null===(lt=us)||void 0===lt?void 0:lt.name)&&($a="fetch-timeout"),br.create($a,{originalErrorMessage:null===(Ft=us)||void 0===Ft?void 0:Ft.message})}let ol=Ha.status;const cu=Ha.headers.get("ETag")||void 0;let ja,nc;if(200===Ha.status){let us;try{us=yield Ha.json()}catch($a){throw br.create("fetch-client-parse",{originalErrorMessage:null===(ln=$a)||void 0===ln?void 0:ln.message})}ja=us.entries,nc=us.state}if("INSTANCE_STATE_UNSPECIFIED"===nc?ol=500:"NO_CHANGE"===nc?ol=304:("NO_TEMPLATE"===nc||"EMPTY_CONFIG"===nc)&&(ja={}),304!==ol&&200!==ol)throw br.create("fetch-status",{httpStatus:ol});return{status:ol,eTag:cu,config:ja}})()}}class Rt{constructor(re,Ie){this.client=re,this.storage=Ie}fetch(re){var Ie=this;return(0,_.Z)(function*(){const lt=(yield Ie.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Ie.attemptFetch(re,lt)})()}attemptFetch(re,{throttleEndTimeMillis:Ie,backoffCount:lt}){var Ft=this;return(0,_.Z)(function*(){yield function Vs(Z,re){return new Promise((Ie,lt)=>{const Ft=Math.max(re-Date.now(),0),ln=setTimeout(Ie,Ft);Z.addEventListener(()=>{clearTimeout(ln),lt(br.create("fetch-throttle",{throttleEndTimeMillis:re}))})})}(re.signal,Ie);try{const ln=yield Ft.client.fetch(re);return yield Ft.storage.deleteThrottleMetadata(),ln}catch(ln){if(!function Pt(Z){if(!(Z instanceof C.ZR&&Z.customData))return!1;const re=Number(Z.customData.httpStatus);return 429===re||500===re||503===re||504===re}(ln))throw ln;const In={throttleEndTimeMillis:Date.now()+(0,C.$s)(lt),backoffCount:lt+1};return yield Ft.storage.setThrottleMetadata(In),Ft.attemptFetch(re,In)}})()}}class Pn{constructor(re,Ie,lt,Ft,ln){this.app=re,this._client=Ie,this._storageCache=lt,this._storage=Ft,this._logger=ln,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function si(Z,re){var Ie;const lt=Z.target.error||void 0;return br.create(re,{originalErrorMessage:lt&&(null===(Ie=lt)||void 0===Ie?void 0:Ie.message)})}const Di="app_namespace_store";class ls{constructor(re,Ie,lt,Ft=function zr(){return new Promise((Z,re)=>{var Ie;try{const lt=indexedDB.open("firebase_remote_config",1);lt.onerror=Ft=>{re(si(Ft,"storage-open"))},lt.onsuccess=Ft=>{Z(Ft.target.result)},lt.onupgradeneeded=Ft=>{0===Ft.oldVersion&&Ft.target.result.createObjectStore(Di,{keyPath:"compositeKey"})}}catch(lt){re(br.create("storage-open",{originalErrorMessage:null===(Ie=lt)||void 0===Ie?void 0:Ie.message}))}})}()){this.appId=re,this.appName=Ie,this.namespace=lt,this.openDbPromise=Ft}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(re){return this.set("last_fetch_status",re)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(re){return this.set("last_successful_fetch_timestamp_millis",re)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(re){return this.set("last_successful_fetch_response",re)}getActiveConfig(){return this.get("active_config")}setActiveConfig(re){return this.set("active_config",re)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(re){return this.set("active_config_etag",re)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(re){return this.set("throttle_metadata",re)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(re){var Ie=this;return(0,_.Z)(function*(){const lt=yield Ie.openDbPromise;return new Promise((Ft,ln)=>{var In;const _i=lt.transaction([Di],"readonly").objectStore(Di),Fi=Ie.createCompositeKey(re);try{const Ri=_i.get(Fi);Ri.onerror=wi=>{ln(si(wi,"storage-get"))},Ri.onsuccess=wi=>{const ms=wi.target.result;Ft(ms?ms.value:void 0)}}catch(Ri){ln(br.create("storage-get",{originalErrorMessage:null===(In=Ri)||void 0===In?void 0:In.message}))}})})()}set(re,Ie){var lt=this;return(0,_.Z)(function*(){const Ft=yield lt.openDbPromise;return new Promise((ln,In)=>{var Gn;const Fi=Ft.transaction([Di],"readwrite").objectStore(Di),Ri=lt.createCompositeKey(re);try{const wi=Fi.put({compositeKey:Ri,value:Ie});wi.onerror=ms=>{In(si(ms,"storage-set"))},wi.onsuccess=()=>{ln()}}catch(wi){In(br.create("storage-set",{originalErrorMessage:null===(Gn=wi)||void 0===Gn?void 0:Gn.message}))}})})()}delete(re){var Ie=this;return(0,_.Z)(function*(){const lt=yield Ie.openDbPromise;return new Promise((Ft,ln)=>{var In;const _i=lt.transaction([Di],"readwrite").objectStore(Di),Fi=Ie.createCompositeKey(re);try{const Ri=_i.delete(Fi);Ri.onerror=wi=>{ln(si(wi,"storage-delete"))},Ri.onsuccess=()=>{Ft()}}catch(Ri){ln(br.create("storage-delete",{originalErrorMessage:null===(In=Ri)||void 0===In?void 0:In.message}))}})})()}createCompositeKey(re){return[this.appId,this.appName,this.namespace,re].join()}}class Ss{constructor(re){this.storage=re}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var re=this;return(0,_.Z)(function*(){const Ie=re.storage.getLastFetchStatus(),lt=re.storage.getLastSuccessfulFetchTimestampMillis(),Ft=re.storage.getActiveConfig(),ln=yield Ie;ln&&(re.lastFetchStatus=ln);const In=yield lt;In&&(re.lastSuccessfulFetchTimestampMillis=In);const Gn=yield Ft;Gn&&(re.activeConfig=Gn)})()}setLastFetchStatus(re){return this.lastFetchStatus=re,this.storage.setLastFetchStatus(re)}setLastSuccessfulFetchTimestampMillis(re){return this.lastSuccessfulFetchTimestampMillis=re,this.storage.setLastSuccessfulFetchTimestampMillis(re)}setActiveConfig(re){return this.activeConfig=re,this.storage.setActiveConfig(re)}}function Ks(){return ra.apply(this,arguments)}function ra(){return(ra=(0,_.Z)(function*(){if(!(0,C.hl)())return!1;try{return yield(0,C.eu)()}catch{return!1}})).apply(this,arguments)}!function Ro(){(0,ne._registerComponent)(new J.wA("remote-config",function Z(re,{instanceIdentifier:Ie}){const lt=re.getProvider("app").getImmediate(),Ft=re.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw br.create("registration-window");if(!(0,C.hl)())throw br.create("indexed-db-unavailable");const{projectId:ln,apiKey:In,appId:Gn}=lt.options;if(!ln)throw br.create("registration-project-id");if(!In)throw br.create("registration-api-key");if(!Gn)throw br.create("registration-app-id");const _i=new ls(Gn,lt.name,Ie=Ie||"firebase"),Fi=new Ss(_i),Ri=new we.Yd(sr);Ri.logLevel=we.in.ERROR;const wi=new _s(Ft,ne.SDK_VERSION,Ie,ln,In,Gn),ms=new Rt(wi,_i),Ls=new no(ms,_i,Fi,Ri),Xo=new Pn(lt,Ls,Fi,_i,Ri);return function or(Z){const re=(0,C.m9)(Z);re._initializePromise||(re._initializePromise=re._storageCache.loadFromStorage().then(()=>{re._isInitializationComplete=!0}))}(Xo),Xo},"PUBLIC").setMultipleInstances(!0)),(0,ne.registerVersion)(sr,"0.3.15"),(0,ne.registerVersion)(sr,"0.3.15","esm2017")}();const Oo="/firebase-messaging-sw.js",Po="/firebase-cloud-messaging-push-scope",Ca="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",io="google.c.a.c_id",fr="google.c.a.c_l",Ms="google.c.a.ts",Is="google.c.a.e";var Hs=(()=>{return(Z=Hs||(Hs={})).PUSH_RECEIVED="push-received",Z.NOTIFICATION_CLICKED="notification-clicked",Hs;var Z})();function is(Z){const re=new Uint8Array(Z);return btoa(String.fromCharCode(...re)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Wr(Z){const Ie=(Z+"=".repeat((4-Z.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),lt=atob(Ie),Ft=new Uint8Array(lt.length);for(let ln=0;ln<lt.length;++ln)Ft[ln]=lt.charCodeAt(ln);return Ft}const ro="fcm_token_details_db",bo="fcm_token_object_Store";function As(Z){return js.apply(this,arguments)}function js(){return js=(0,_.Z)(function*(Z){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ln=>ln.name).includes(ro))return null;let re=null;return(yield(0,fe.X3)(ro,5,{upgrade:(lt=(0,_.Z)(function*(Ft,ln,In,Gn){var _i;if(ln<2||!Ft.objectStoreNames.contains(bo))return;const Fi=Gn.objectStore(bo),Ri=yield Fi.index("fcmSenderId").get(Z);if(yield Fi.clear(),Ri)if(2===ln){const wi=Ri;if(!wi.auth||!wi.p256dh||!wi.endpoint)return;re={token:wi.fcmToken,createTime:null!==(_i=wi.createTime)&&void 0!==_i?_i:Date.now(),subscriptionOptions:{auth:wi.auth,p256dh:wi.p256dh,endpoint:wi.endpoint,swScope:wi.swScope,vapidKey:"string"==typeof wi.vapidKey?wi.vapidKey:is(wi.vapidKey)}}}else if(3===ln){const wi=Ri;re={token:wi.fcmToken,createTime:wi.createTime,subscriptionOptions:{auth:is(wi.auth),p256dh:is(wi.p256dh),endpoint:wi.endpoint,swScope:wi.swScope,vapidKey:is(wi.vapidKey)}}}else if(4===ln){const wi=Ri;re={token:wi.fcmToken,createTime:wi.createTime,subscriptionOptions:{auth:is(wi.auth),p256dh:is(wi.p256dh),endpoint:wi.endpoint,swScope:wi.swScope,vapidKey:is(wi.vapidKey)}}}}),function(ln,In,Gn,_i){return lt.apply(this,arguments)})})).close(),yield(0,fe.Lj)(ro),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),pr(re)?re:null;var lt}),js.apply(this,arguments)}function pr(Z){if(!Z||!Z.subscriptionOptions)return!1;const{subscriptionOptions:re}=Z;return"number"==typeof Z.createTime&&Z.createTime>0&&"string"==typeof Z.token&&Z.token.length>0&&"string"==typeof re.auth&&re.auth.length>0&&"string"==typeof re.p256dh&&re.p256dh.length>0&&"string"==typeof re.endpoint&&re.endpoint.length>0&&"string"==typeof re.swScope&&re.swScope.length>0&&"string"==typeof re.vapidKey&&re.vapidKey.length>0}const Ai="firebase-messaging-store";let Ur=null;function so(){return Ur||(Ur=(0,fe.X3)("firebase-messaging-database",1,{upgrade:(Z,re)=>{0===re&&Z.createObjectStore(Ai)}})),Ur}function vs(Z){return oa.apply(this,arguments)}function oa(){return(oa=(0,_.Z)(function*(Z){const re=Zs(Z),lt=yield(yield so()).transaction(Ai).objectStore(Ai).get(re);if(lt)return lt;{const Ft=yield As(Z.appConfig.senderId);if(Ft)return yield Ki(Z,Ft),Ft}})).apply(this,arguments)}function Ki(Z,re){return Co.apply(this,arguments)}function Co(){return(Co=(0,_.Z)(function*(Z,re){const Ie=Zs(Z),Ft=(yield so()).transaction(Ai,"readwrite");return yield Ft.objectStore(Ai).put(re,Ie),yield Ft.done,re})).apply(this,arguments)}function ks(Z){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,_.Z)(function*(Z){const re=Zs(Z),lt=(yield so()).transaction(Ai,"readwrite");yield lt.objectStore(Ai).delete(re),yield lt.done})).apply(this,arguments)}function Zs({appConfig:Z}){return Z.appId}const mr=new C.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function mi(Z,re){return xr.apply(this,arguments)}function xr(){return(xr=(0,_.Z)(function*(Z,re){var Ie;const lt=yield Xr(Z),Ft=Sn(re),ln={method:"POST",headers:lt,body:JSON.stringify(Ft)};let In;try{In=yield(yield fetch($s(Z.appConfig),ln)).json()}catch(Gn){throw mr.create("token-subscribe-failed",{errorInfo:null===(Ie=Gn)||void 0===Ie?void 0:Ie.toString()})}if(In.error)throw mr.create("token-subscribe-failed",{errorInfo:In.error.message});if(!In.token)throw mr.create("token-subscribe-no-token");return In.token})).apply(this,arguments)}function Dc(Z,re){return ps.apply(this,arguments)}function ps(){return(ps=(0,_.Z)(function*(Z,re){var Ie;const lt=yield Xr(Z),Ft=Sn(re.subscriptionOptions),ln={method:"PATCH",headers:lt,body:JSON.stringify(Ft)};let In;try{In=yield(yield fetch(`${$s(Z.appConfig)}/${re.token}`,ln)).json()}catch(Gn){throw mr.create("token-update-failed",{errorInfo:null===(Ie=Gn)||void 0===Ie?void 0:Ie.toString()})}if(In.error)throw mr.create("token-update-failed",{errorInfo:In.error.message});if(!In.token)throw mr.create("token-update-no-token");return In.token})).apply(this,arguments)}function pl(Z,re){return la.apply(this,arguments)}function la(){return(la=(0,_.Z)(function*(Z,re){var Ie;const Ft={method:"DELETE",headers:yield Xr(Z)};try{const In=yield(yield fetch(`${$s(Z.appConfig)}/${re}`,Ft)).json();if(In.error)throw mr.create("token-unsubscribe-failed",{errorInfo:In.error.message})}catch(ln){throw mr.create("token-unsubscribe-failed",{errorInfo:null===(Ie=ln)||void 0===Ie?void 0:Ie.toString()})}})).apply(this,arguments)}function $s({projectId:Z}){return`https://fcmregistrations.googleapis.com/v1/projects/${Z}/registrations`}function Xr(Z){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,_.Z)(function*({appConfig:Z,installations:re}){const Ie=yield re.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Z.apiKey,"x-goog-firebase-installations-auth":`FIS ${Ie}`})})).apply(this,arguments)}function Sn({p256dh:Z,auth:re,endpoint:Ie,vapidKey:lt}){const Ft={web:{endpoint:Ie,auth:re,p256dh:Z}};return lt!==Ca&&(Ft.web.applicationPubKey=lt),Ft}const Ii=6048e5;function wo(Z){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,_.Z)(function*(Z){const re=yield Jn(Z.swRegistration,Z.vapidKey),Ie={vapidKey:Z.vapidKey,swScope:Z.swRegistration.scope,endpoint:re.endpoint,auth:is(re.getKey("auth")),p256dh:is(re.getKey("p256dh"))},lt=yield vs(Z.firebaseDependencies);if(lt){if(oo(lt.subscriptionOptions,Ie))return Date.now()>=lt.createTime+Ii?Q(Z,{token:lt.token,createTime:Date.now(),subscriptionOptions:Ie}):lt.token;try{yield pl(Z.firebaseDependencies,lt.token)}catch(Ft){console.warn(Ft)}return xe(Z.firebaseDependencies,Ie)}return xe(Z.firebaseDependencies,Ie)})).apply(this,arguments)}function Hr(Z){return se.apply(this,arguments)}function se(){return(se=(0,_.Z)(function*(Z){const re=yield vs(Z.firebaseDependencies);re&&(yield pl(Z.firebaseDependencies,re.token),yield ks(Z.firebaseDependencies));const Ie=yield Z.swRegistration.pushManager.getSubscription();return!Ie||Ie.unsubscribe()})).apply(this,arguments)}function Q(Z,re){return $.apply(this,arguments)}function $(){return($=(0,_.Z)(function*(Z,re){try{const Ie=yield Dc(Z.firebaseDependencies,re),lt=Object.assign(Object.assign({},re),{token:Ie,createTime:Date.now()});return yield Ki(Z.firebaseDependencies,lt),Ie}catch(Ie){throw yield Hr(Z),Ie}})).apply(this,arguments)}function xe(Z,re){return nn.apply(this,arguments)}function nn(){return(nn=(0,_.Z)(function*(Z,re){const lt={token:yield mi(Z,re),createTime:Date.now(),subscriptionOptions:re};return yield Ki(Z,lt),lt.token})).apply(this,arguments)}function Jn(Z,re){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,_.Z)(function*(Z,re){return(yield Z.pushManager.getSubscription())||Z.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Wr(re)})})).apply(this,arguments)}function oo(Z,re){return re.vapidKey===Z.vapidKey&&re.endpoint===Z.endpoint&&re.auth===Z.auth&&re.p256dh===Z.p256dh}function Lr(Z){const re={from:Z.from,collapseKey:Z.collapse_key,messageId:Z.fcmMessageId};return function gr(Z,re){if(!re.notification)return;Z.notification={};const Ie=re.notification.title;Ie&&(Z.notification.title=Ie);const lt=re.notification.body;lt&&(Z.notification.body=lt);const Ft=re.notification.image;Ft&&(Z.notification.image=Ft);const ln=re.notification.icon;ln&&(Z.notification.icon=ln)}(re,Z),function rs(Z,re){!re.data||(Z.data=re.data)}(re,Z),function ca(Z,re){var Ie,lt,Ft,ln,In;if(!(re.fcmOptions||null!==(Ie=re.notification)&&void 0!==Ie&&Ie.click_action))return;Z.fcmOptions={};const Gn=null!==(Ft=null===(lt=re.fcmOptions)||void 0===lt?void 0:lt.link)&&void 0!==Ft?Ft:null===(ln=re.notification)||void 0===ln?void 0:ln.click_action;Gn&&(Z.fcmOptions.link=Gn);const _i=null===(In=re.fcmOptions)||void 0===In?void 0:In.analytics_label;_i&&(Z.fcmOptions.analyticsLabel=_i)}(re,Z),re}function er(Z){return"object"==typeof Z&&!!Z&&io in Z}function ao(Z,re){const Ie=[];for(let lt=0;lt<Z.length;lt++)Ie.push(Z.charAt(lt)),lt<re.length&&Ie.push(re.charAt(lt));return Ie.join("")}function Ba(Z){return mr.create("missing-app-config-values",{valueName:Z})}ao("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ao("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ql{constructor(re,Ie,lt){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ft=function Tc(Z){if(!Z||!Z.options)throw Ba("App Configuration Object");if(!Z.name)throw Ba("App Name");const re=["projectId","apiKey","appId","messagingSenderId"],{options:Ie}=Z;for(const lt of re)if(!Ie[lt])throw Ba(lt);return{appName:Z.name,projectId:Ie.projectId,apiKey:Ie.apiKey,appId:Ie.appId,senderId:Ie.messagingSenderId}}(re);this.firebaseDependencies={app:re,appConfig:Ft,installations:Ie,analyticsProvider:lt}}_delete(){return Promise.resolve()}}function Va(Z){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,_.Z)(function*(Z){var re;try{Z.swRegistration=yield navigator.serviceWorker.register(Oo,{scope:Po}),Z.swRegistration.update().catch(()=>{})}catch(Ie){throw mr.create("failed-service-worker-registration",{browserErrorMessage:null===(re=Ie)||void 0===re?void 0:re.message})}})).apply(this,arguments)}function Ua(Z,re){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,_.Z)(function*(Z,re){if(!re&&!Z.swRegistration&&(yield Va(Z)),re||!Z.swRegistration){if(!(re instanceof ServiceWorkerRegistration))throw mr.create("invalid-sw-registration");Z.swRegistration=re}})).apply(this,arguments)}function Xa(Z,re){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,_.Z)(function*(Z,re){re?Z.vapidKey=re:Z.vapidKey||(Z.vapidKey=Ca)})).apply(this,arguments)}function ua(){return(ua=(0,_.Z)(function*(Z,re){if(!navigator)throw mr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw mr.create("permission-blocked");return yield Xa(Z,re?.vapidKey),yield Ua(Z,re?.serviceWorkerRegistration),wo(Z)})).apply(this,arguments)}function Ll(Z,re,Ie){return lo.apply(this,arguments)}function lo(){return(lo=(0,_.Z)(function*(Z,re,Ie){const lt=Ja(re);(yield Z.firebaseDependencies.analyticsProvider.get()).logEvent(lt,{message_id:Ie[io],message_name:Ie[fr],message_time:Ie[Ms],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ja(Z){switch(Z){case Hs.NOTIFICATION_CLICKED:return"notification_open";case Hs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ve(){return(ve=(0,_.Z)(function*(Z,re){const Ie=re.data;if(!Ie.isFirebaseMessaging)return;Z.onMessageHandler&&Ie.messageType===Hs.PUSH_RECEIVED&&("function"==typeof Z.onMessageHandler?Z.onMessageHandler(Lr(Ie)):Z.onMessageHandler.next(Lr(Ie)));const lt=Ie.data;er(lt)&&"1"===lt[Is]&&(yield Ll(Z,Ie.messageType,lt))})).apply(this,arguments)}const q="@firebase/messaging",dt=Z=>{const re=new Ql(Z.getProvider("app").getImmediate(),Z.getProvider("installations-internal").getImmediate(),Z.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Ie=>function W(Z,re){return ve.apply(this,arguments)}(re,Ie)),re},Qt=Z=>{const re=Z.getProvider("messaging").getImmediate();return{getToken:lt=>function ml(Z,re){return ua.apply(this,arguments)}(re,lt)}};function Qn(){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,_.Z)(function*(){try{yield(0,C.eu)()}catch{return!1}return typeof window<"u"&&(0,C.hl)()&&(0,C.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function un(){(0,ne._registerComponent)(new J.wA("messaging",dt,"PUBLIC")),(0,ne._registerComponent)(new J.wA("messaging-internal",Qt,"PRIVATE")),(0,ne.registerVersion)(q,"0.10.0"),(0,ne.registerVersion)(q,"0.10.0","esm2017")}();const Gs="analytics",Fo="firebase_id",Os="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gl="https://www.googletagmanager.com/gtag/js",ss=new we.Yd("@firebase/analytics");function da(Z){return Promise.all(Z.map(re=>re.catch(Ie=>Ie)))}function $u(Z,re){const Ie=document.createElement("script");Ie.src=`${gl}?l=${Z}&id=${re}`,Ie.async=!0,document.head.appendChild(Ie)}function Sc(Z,re,Ie,lt,Ft,ln){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,_.Z)(function*(Z,re,Ie,lt,Ft,ln){const In=lt[Ft];try{if(In)yield re[In];else{const _i=(yield da(Ie)).find(Fi=>Fi.measurementId===Ft);_i&&(yield re[_i.appId])}}catch(Gn){ss.error(Gn)}Z("config",Ft,ln)})).apply(this,arguments)}function Bl(Z,re,Ie,lt,Ft){return ha.apply(this,arguments)}function ha(){return(ha=(0,_.Z)(function*(Z,re,Ie,lt,Ft){try{let ln=[];if(Ft&&Ft.send_to){let In=Ft.send_to;Array.isArray(In)||(In=[In]);const Gn=yield da(Ie);for(const _i of In){const Fi=Gn.find(wi=>wi.measurementId===_i),Ri=Fi&&re[Fi.appId];if(!Ri){ln=[];break}ln.push(Ri)}}0===ln.length&&(ln=Object.values(re)),yield Promise.all(ln),Z("event",lt,Ft||{})}catch(ln){ss.error(ln)}})).apply(this,arguments)}function au(Z){const re=window.document.getElementsByTagName("script");for(const Ie of Object.values(re))if(Ie.src&&Ie.src.includes(gl)&&Ie.src.includes(Z))return Ie;return null}const nr=new C.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Vo=new class _l{constructor(re={},Ie=1e3){this.throttleMetadata=re,this.intervalMillis=Ie}getThrottleMetadata(re){return this.throttleMetadata[re]}setThrottleMetadata(re,Ie){this.throttleMetadata[re]=Ie}deleteThrottleMetadata(re){delete this.throttleMetadata[re]}};function Rn(Z){return new Headers({Accept:"application/json","x-goog-api-key":Z})}function Qi(Z){return pa.apply(this,arguments)}function pa(){return(pa=(0,_.Z)(function*(Z){var re;const{appId:Ie,apiKey:lt}=Z,Ft={method:"GET",headers:Rn(lt)},ln=Os.replace("{app-id}",Ie),In=yield fetch(ln,Ft);if(200!==In.status&&304!==In.status){let Gn="";try{const _i=yield In.json();null!==(re=_i.error)&&void 0!==re&&re.message&&(Gn=_i.error.message)}catch{}throw nr.create("config-fetch-failed",{httpStatus:In.status,responseMessage:Gn})}return In.json()})).apply(this,arguments)}function Gu(Z){return ii.apply(this,arguments)}function ii(){return(ii=(0,_.Z)(function*(Z,re=Vo,Ie){const{appId:lt,apiKey:Ft,measurementId:ln}=Z.options;if(!lt)throw nr.create("no-app-id");if(!Ft){if(ln)return{measurementId:ln,appId:lt};throw nr.create("no-api-key")}const In=re.getThrottleMetadata(lt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Gn=new Mn;return setTimeout((0,_.Z)(function*(){Gn.abort()}),void 0!==Ie?Ie:6e4),Ti({appId:lt,apiKey:Ft,measurementId:ln},In,Gn,re)})).apply(this,arguments)}function Ti(Z,re,Ie){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,_.Z)(function*(Z,{throttleEndTimeMillis:re,backoffCount:Ie},lt,Ft=Vo){var ln,In;const{appId:Gn,measurementId:_i}=Z;try{yield Xn(lt,re)}catch(Fi){if(_i)return ss.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_i} provided in the "measurementId" field in the local Firebase config. [${null===(ln=Fi)||void 0===ln?void 0:ln.message}]`),{appId:Gn,measurementId:_i};throw Fi}try{const Fi=yield Qi(Z);return Ft.deleteThrottleMetadata(Gn),Fi}catch(Fi){const Ri=Fi;if(!cn(Ri)){if(Ft.deleteThrottleMetadata(Gn),_i)return ss.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_i} provided in the "measurementId" field in the local Firebase config. [${Ri?.message}]`),{appId:Gn,measurementId:_i};throw Fi}const wi=503===Number(null===(In=Ri?.customData)||void 0===In?void 0:In.httpStatus)?(0,C.$s)(Ie,Ft.intervalMillis,30):(0,C.$s)(Ie,Ft.intervalMillis),ms={throttleEndTimeMillis:Date.now()+wi,backoffCount:Ie+1};return Ft.setThrottleMetadata(Gn,ms),ss.debug(`Calling attemptFetch again in ${wi} millis`),Ti(Z,ms,lt,Ft)}})).apply(this,arguments)}function Xn(Z,re){return new Promise((Ie,lt)=>{const Ft=Math.max(re-Date.now(),0),ln=setTimeout(Ie,Ft);Z.addEventListener(()=>{clearTimeout(ln),lt(nr.create("fetch-throttle",{throttleEndTimeMillis:re}))})})}function cn(Z){if(!(Z instanceof C.ZR&&Z.customData))return!1;const re=Number(Z.customData.httpStatus);return 429===re||500===re||503===re||504===re}class Mn{constructor(){this.listeners=[]}addEventListener(re){this.listeners.push(re)}abort(){this.listeners.forEach(re=>re())}}let Ar,il;function Do(){return(Do=(0,_.Z)(function*(Z,re,Ie,lt,Ft){if(Ft&&Ft.global)Z("event",Ie,lt);else{const ln=yield re;Z("event",Ie,Object.assign(Object.assign({},lt),{send_to:ln}))}})).apply(this,arguments)}function Si(Z){il=Z}function ga(Z){Ar=Z}function rl(){return kr.apply(this,arguments)}function kr(){return(kr=(0,_.Z)(function*(){var Z;if(!(0,C.hl)())return ss.warn(nr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,C.eu)()}catch(re){return ss.warn(nr.create("indexeddb-unavailable",{errorInfo:null===(Z=re)||void 0===Z?void 0:Z.toString()}).message),!1}return!0})).apply(this,arguments)}function cs(){return(cs=(0,_.Z)(function*(Z,re,Ie,lt,Ft,ln,In){var Gn;const _i=Gu(Z);_i.then(Ls=>{Ie[Ls.measurementId]=Ls.appId,Z.options.measurementId&&Ls.measurementId!==Z.options.measurementId&&ss.warn(`The measurement ID in the local Firebase config (${Z.options.measurementId}) does not match the measurement ID fetched from the server (${Ls.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ls=>ss.error(Ls)),re.push(_i);const Fi=rl().then(Ls=>{if(Ls)return lt.getId()}),[Ri,wi]=yield Promise.all([_i,Fi]);au(ln)||$u(ln,Ri.measurementId),il&&(Ft("consent","default",il),Si(void 0)),Ft("js",new Date);const ms=null!==(Gn=In?.config)&&void 0!==Gn?Gn:{};return ms.origin="firebase",ms.update=!0,null!=wi&&(ms[Fo]=wi),Ft("config",Ri.measurementId,ms),Ar&&(Ft("set",Ar),ga(void 0)),Ri.measurementId})).apply(this,arguments)}class yi{constructor(re){this.app=re}_delete(){return delete co[this.app.options.appId],Promise.resolve()}}let co={},wr=[];const zn={};let Qo,Ta,qo="dataLayer",_a=!1;function Cl(Z,re,Ie){!function bl(){const Z=[];if((0,C.ru)()&&Z.push("This is a browser extension environment."),(0,C.zI)()||Z.push("Cookies are not available."),Z.length>0){const re=Z.map((lt,Ft)=>`(${Ft+1}) ${lt}`).join(" "),Ie=nr.create("invalid-analytics-context",{errorInfo:re});ss.warn(Ie.message)}}();const lt=Z.options.appId;if(!lt)throw nr.create("no-app-id");if(!Z.options.apiKey){if(!Z.options.measurementId)throw nr.create("no-api-key");ss.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Z.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=co[lt])throw nr.create("already-exists",{id:lt});if(!_a){!function Md(Z){let re=[];Array.isArray(window[Z])?re=window[Z]:window[Z]=re}(qo);const{wrappedGtag:ln,gtagCore:In}=function el(Z,re,Ie,lt,Ft){let ln=function(...In){window[lt].push(arguments)};return window[Ft]&&"function"==typeof window[Ft]&&(ln=window[Ft]),window[Ft]=function Mc(Z,re,Ie,lt){function ln(){return(ln=(0,_.Z)(function*(In,Gn,_i){try{"event"===In?yield Bl(Z,re,Ie,Gn,_i):"config"===In?yield Sc(Z,re,Ie,lt,Gn,_i):"consent"===In?Z("consent","update",_i):Z("set",Gn)}catch(Fi){ss.error(Fi)}})).apply(this,arguments)}return function Ft(In,Gn,_i){return ln.apply(this,arguments)}}(ln,Z,re,Ie),{gtagCore:ln,wrappedGtag:window[Ft]}}(co,wr,zn,qo,"gtag");Ta=ln,Qo=In,_a=!0}return co[lt]=function Ci(Z,re,Ie,lt,Ft,ln,In){return cs.apply(this,arguments)}(Z,wr,zn,re,Qo,qo,Ie),new yi(Z)}function Ac(){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,_.Z)(function*(){if((0,C.ru)()||!(0,C.zI)()||!(0,C.hl)())return!1;try{return yield(0,C.eu)()}catch{return!1}})).apply(this,arguments)}const sl="@firebase/analytics";!function To(){(0,ne._registerComponent)(new J.wA(Gs,(re,{options:Ie})=>Cl(re.getProvider("app").getImmediate(),re.getProvider("installations-internal").getImmediate(),Ie),"PUBLIC")),(0,ne._registerComponent)(new J.wA("analytics-internal",function Z(re){try{const Ie=re.getProvider(Gs).getImmediate();return{logEvent:(lt,Ft,ln)=>function jo(Z,re,Ie,lt){Z=(0,C.m9)(Z),function Ic(Z,re,Ie,lt,Ft){return Do.apply(this,arguments)}(Ta,co[Z.app.options.appId],re,Ie,lt).catch(Ft=>ss.error(Ft))}(Ie,lt,Ft,ln)}}catch(Ie){throw nr.create("interop-component-reg-failed",{reason:Ie})}},"PRIVATE")),(0,ne.registerVersion)(sl,"0.8.4"),(0,ne.registerVersion)(sl,"0.8.4","esm2017")}();var ho=k(341),ec=k(353),fo=k(2868),qs=k(7770),Vl=k(3334);const po=new p.GfV("7.4.1"),Rc="__angularfire_symbol__analyticsIsSupportedValue",mo="__angularfire_symbol__analyticsIsSupported",L="__angularfire_symbol__remoteConfigIsSupportedValue",F="__angularfire_symbol__remoteConfigIsSupported",I="__angularfire_symbol__messagingIsSupportedValue",H="__angularfire_symbol__messagingIsSupported";function Yt(Z,re,Ie){if(re){if(1===re.length)return re[0];const ln=re.filter(In=>In.app===Ie);if(1===ln.length)return ln[0]}return Ie.container.getProvider(Z).getImmediate({optional:!0})}globalThis[mo]||(globalThis[mo]=Ac().then(Z=>globalThis[Rc]=Z).catch(()=>globalThis[Rc]=!1)),globalThis[H]||(globalThis[H]=Qn().then(Z=>globalThis[I]=Z).catch(()=>globalThis[I]=!1)),globalThis[F]||(globalThis[F]=Ks().then(Z=>globalThis[L]=Z).catch(()=>globalThis[L]=!1));const An=(Z,re)=>{const Ie=re?[re]:(0,N.C6)(),lt=[];return Ie.forEach(Ft=>{Ft.container.getProvider(Z).instances.forEach(In=>{lt.includes(In)||lt.push(In)})}),lt};function ai(){}class Wn{constructor(re,Ie=ho.c){this.zone=re,this.delegate=Ie}now(){return this.delegate.now()}schedule(re,Ie,lt){const Ft=this.zone;return this.delegate.schedule(function(In){Ft.runGuarded(()=>{re.apply(this,[In])})},Ie,lt)}}class ci{constructor(re){this.zone=re,this.task=null}call(re,Ie){const lt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ai,{},ai,ai)),Ie.pipe((0,fo.b)({next:lt,complete:lt,error:lt})).subscribe(re).add(lt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ui=(()=>{class Z{constructor(Ie){this.ngZone=Ie,this.outsideAngular=Ie.runOutsideAngular(()=>new Wn(Zone.current)),this.insideAngular=Ie.run(()=>new Wn(Zone.current,ec.P)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Z.\u0275fac=function(Ie){return new(Ie||Z)(p.LFG(p.R0b))},Z.\u0275prov=p.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})();function Tr(){const Z=globalThis.\u0275AngularFireScheduler;if(!Z)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Z}function Nr(Z){return Z.pipe((0,qs.QV)(Tr().outsideAngular))}function va(Z){return Tr(),function Jr(Z){return function(Ie){return(Ie=Ie.lift(new ci(Z.ngZone))).pipe((0,Vl.R)(Z.outsideAngular),(0,qs.QV)(Z.insideAngular))}}(Tr())(Z)}},732:(_n,vt,k)=>{"use strict";k.d(vt,{$:()=>Zo,A:()=>rn,B:()=>Ue,G:()=>La,H:()=>Pt,J:()=>is,L:()=>Ji,M:()=>Ki,N:()=>Zs,P:()=>re,Q:()=>aa,R:()=>Wn,T:()=>mr,U:()=>Ko,V:()=>ps,W:()=>pl,X:()=>Sn,Y:()=>rs,Z:()=>er,_:()=>Tc,a:()=>ga,a0:()=>ml,a1:()=>Ll,a2:()=>Ja,a3:()=>ve,a4:()=>Me,a5:()=>Qt,a6:()=>Qn,a7:()=>Ni,a8:()=>Hi,a9:()=>Li,aA:()=>hr,aB:()=>Rd,aC:()=>ic,aD:()=>_h,aE:()=>Yi,aI:()=>Ci,aL:()=>xr,aa:()=>Rs,ab:()=>Gs,ac:()=>Eo,af:()=>ss,ag:()=>$u,ah:()=>Md,ak:()=>se,al:()=>fa,an:()=>cn,ao:()=>ma,ap:()=>Dn,aq:()=>Vr,ar:()=>Ds,as:()=>It,at:()=>jl,au:()=>Hl,av:()=>Ts,aw:()=>qt,ax:()=>Gt,ay:()=>hu,az:()=>ee,b:()=>il,c:()=>Ri,d:()=>Xo,e:()=>ms,f:()=>du,g:()=>yg,h:()=>vh,i:()=>sl,j:()=>af,k:()=>Tl,l:()=>jr,m:()=>Xu,o:()=>jn,r:()=>Ns,s:()=>Tr,u:()=>Ul});var p=k(5861),N=k(2090),_=k(9681),ne=k(1877);function fe(R,b){var D={};for(var B in R)Object.prototype.hasOwnProperty.call(R,B)&&b.indexOf(B)<0&&(D[B]=R[B]);if(null!=R&&"function"==typeof Object.getOwnPropertySymbols){var pe=0;for(B=Object.getOwnPropertySymbols(R);pe<B.length;pe++)b.indexOf(B[pe])<0&&Object.prototype.propertyIsEnumerable.call(R,B[pe])&&(D[B[pe]]=R[B[pe]])}return D}var bn=k(4859);const jn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},rn={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ue=function gn(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Fe=function Re(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ze=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),tn=new ne.Yd("@firebase/auth");function Ln(R,...b){tn.logLevel<=ne.in.ERROR&&tn.error(`Auth (${_.SDK_VERSION}): ${R}`,...b)}function It(R,...b){throw En(R,...b)}function qt(R,...b){return En(R,...b)}function Mt(R,b,D){const B=Object.assign(Object.assign({},Fe()),{[b]:D});return new N.LL("auth","Firebase",B).create(b,{appName:R.name})}function Ht(R,b,D){if(!(b instanceof D))throw D.name!==b.constructor.name&&It(R,"argument-error"),Mt(R,"argument-error",`Type of ${b.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function En(R,...b){if("string"!=typeof R){const D=b[0],B=[...b.slice(1)];return B[0]&&(B[0].appName=R.name),R._errorFactory.create(D,...B)}return Ze.create(R,...b)}function Gt(R,b,...D){if(!R)throw En(b,...D)}function $n(R){const b="INTERNAL ASSERTION FAILED: "+R;throw Ln(b),new Error(b)}function Dn(R,b){R||$n(b)}const gt=new Map;function ee(R){Dn(R instanceof Function,"Expected a class definition");let b=gt.get(R);return b?(Dn(b instanceof R,"Instance stored in cache mismatched with class"),b):(b=new R,gt.set(R,b),b)}function Be(){var R;return typeof self<"u"&&(null===(R=self.location)||void 0===R?void 0:R.href)||""}function Ct(){return"http:"===Zt()||"https:"===Zt()}function Zt(){var R;return typeof self<"u"&&(null===(R=self.location)||void 0===R?void 0:R.protocol)||null}class Cn{constructor(b,D){this.shortDelay=b,this.longDelay=D,Dn(D>b,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function hn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ct()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pn(R,b){Dn(R.emulator,"Emulator should always be set here");const{url:D}=R.emulator;return b?`${D}${b.startsWith("/")?b.slice(1):b}`:D}class Fn{static initialize(b,D,B){this.fetchImpl=b,D&&(this.headersImpl=D),B&&(this.responseImpl=B)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void $n("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void $n("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void $n("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const di={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},hi=new Cn(3e4,6e4);function ni(R,b){return R.tenantId&&!b.tenantId?Object.assign(Object.assign({},b),{tenantId:R.tenantId}):b}function at(R,b,D,B){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,p.Z)(function*(R,b,D,B,pe={}){return be(R,pe,(0,p.Z)(function*(){let Ee={},At={};B&&("GET"===b?At=B:Ee={body:JSON.stringify(B)});const on=(0,N.xO)(Object.assign({key:R.config.apiKey},At)).slice(1),Zn=yield R._getAdditionalHeaders();return Zn["Content-Type"]="application/json",R.languageCode&&(Zn["X-Firebase-Locale"]=R.languageCode),Fn.fetch()(Nt(R,R.config.apiHost,D,on),Object.assign({method:b,headers:Zn,referrerPolicy:"no-referrer"},Ee))}))})).apply(this,arguments)}function be(R,b,D){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,p.Z)(function*(R,b,D){R._canInitEmulator=!1;const B=Object.assign(Object.assign({},di),b);try{const pe=new zt(R),Ee=yield Promise.race([D(),pe.promise]);pe.clearNetworkTimeout();const At=yield Ee.json();if("needConfirmation"in At)throw st(R,"account-exists-with-different-credential",At);if(Ee.ok&&!("errorMessage"in At))return At;{const on=Ee.ok?At.errorMessage:At.error.message,[Zn,Vn]=on.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Zn)throw st(R,"credential-already-in-use",At);if("EMAIL_EXISTS"===Zn)throw st(R,"email-already-in-use",At);if("USER_DISABLED"===Zn)throw st(R,"user-disabled",At);const Ei=B[Zn]||Zn.toLowerCase().replace(/[_\s]+/g,"-");if(Vn)throw Mt(R,Ei,Vn);It(R,Ei)}}catch(pe){if(pe instanceof N.ZR)throw pe;It(R,"network-request-failed")}})).apply(this,arguments)}function ke(R,b,D,B){return ue.apply(this,arguments)}function ue(){return(ue=(0,p.Z)(function*(R,b,D,B,pe={}){const Ee=yield at(R,b,D,B,pe);return"mfaPendingCredential"in Ee&&It(R,"multi-factor-auth-required",{_serverResponse:Ee}),Ee})).apply(this,arguments)}function Nt(R,b,D,B){const pe=`${b}${D}?${B}`;return R.config.emulator?pn(R.config,pe):`${R.config.apiScheme}://${pe}`}class zt{constructor(b){this.auth=b,this.timer=null,this.promise=new Promise((D,B)=>{this.timer=setTimeout(()=>B(qt(this.auth,"network-request-failed")),hi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function st(R,b,D){const B={appName:R.name};D.email&&(B.email=D.email),D.phoneNumber&&(B.phoneNumber=D.phoneNumber);const pe=qt(R,b,B);return pe.customData._tokenResponse=D,pe}function Je(){return(Je=(0,p.Z)(function*(R,b){return at(R,"POST","/v1/accounts:delete",b)})).apply(this,arguments)}function Tt(R,b){return $t.apply(this,arguments)}function $t(){return($t=(0,p.Z)(function*(R,b){return at(R,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function ge(R,b){return j.apply(this,arguments)}function j(){return(j=(0,p.Z)(function*(R,b){return at(R,"POST","/v1/accounts:lookup",b)})).apply(this,arguments)}function G(R){if(R)try{const b=new Date(Number(R));if(!isNaN(b.getTime()))return b.toUTCString()}catch{}}function he(){return(he=(0,p.Z)(function*(R,b=!1){const D=(0,N.m9)(R),B=yield D.getIdToken(b),pe=Et(B);Gt(pe&&pe.exp&&pe.auth_time&&pe.iat,D.auth,"internal-error");const Ee="object"==typeof pe.firebase?pe.firebase:void 0,At=Ee?.sign_in_provider;return{claims:pe,token:B,authTime:G(Xe(pe.auth_time)),issuedAtTime:G(Xe(pe.iat)),expirationTime:G(Xe(pe.exp)),signInProvider:At||null,signInSecondFactor:Ee?.sign_in_second_factor||null}})).apply(this,arguments)}function Xe(R){return 1e3*Number(R)}function Et(R){var b;const[D,B,pe]=R.split(".");if(void 0===D||void 0===B||void 0===pe)return Ln("JWT malformed, contained fewer than 3 sections"),null;try{const Ee=(0,N.tV)(B);return Ee?JSON.parse(Ee):(Ln("Failed to decode base64 JWT payload"),null)}catch(Ee){return Ln("Caught error parsing JWT payload as JSON",null===(b=Ee)||void 0===b?void 0:b.toString()),null}}function fn(R,b){return ze.apply(this,arguments)}function ze(){return(ze=(0,p.Z)(function*(R,b,D=!1){if(D)return b;try{return yield b}catch(B){throw B instanceof N.ZR&&$e(B)&&R.auth.currentUser===R&&(yield R.auth.signOut()),B}})).apply(this,arguments)}function $e({code:R}){return"auth/user-disabled"===R||"auth/user-token-expired"===R}class He{constructor(b){this.user=b,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(b){var D;if(b){const B=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),B}{this.errorBackoff=3e4;const pe=(null!==(D=this.user.stsTokenManager.expirationTime)&&void 0!==D?D:0)-Date.now()-3e5;return Math.max(0,pe)}}schedule(b=!1){var D=this;if(!this.isRunning)return;const B=this.getInterval(b);this.timerId=setTimeout((0,p.Z)(function*(){yield D.iteration()}),B)}iteration(){var b=this;return(0,p.Z)(function*(){var D;try{yield b.user.getIdToken(!0)}catch(B){return void("auth/network-request-failed"===(null===(D=B)||void 0===D?void 0:D.code)&&b.schedule(!0))}b.schedule()})()}}class Ye{constructor(b,D){this.createdAt=b,this.lastLoginAt=D,this._initializeTime()}_initializeTime(){this.lastSignInTime=G(this.lastLoginAt),this.creationTime=G(this.createdAt)}_copy(b){this.createdAt=b.createdAt,this.lastLoginAt=b.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function De(R){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,p.Z)(function*(R){var b;const D=R.auth,B=yield R.getIdToken(),pe=yield fn(R,ge(D,{idToken:B}));Gt(pe?.users.length,D,"internal-error");const Ee=pe.users[0];R._notifyReloadListener(Ee);const At=null!==(b=Ee.providerUserInfo)&&void 0!==b&&b.length?Kn(Ee.providerUserInfo):[],on=sn(R.providerData,At),Ei=!!R.isAnonymous&&!(R.email&&Ee.passwordHash||on?.length),gi={uid:Ee.localId,displayName:Ee.displayName||null,photoURL:Ee.photoUrl||null,email:Ee.email||null,emailVerified:Ee.emailVerified||!1,phoneNumber:Ee.phoneNumber||null,tenantId:Ee.tenantId||null,providerData:on,metadata:new Ye(Ee.createdAt,Ee.lastLoginAt),isAnonymous:Ei};Object.assign(R,gi)})).apply(this,arguments)}function Bt(){return(Bt=(0,p.Z)(function*(R){const b=(0,N.m9)(R);yield De(b),yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)})).apply(this,arguments)}function sn(R,b){return[...R.filter(B=>!b.some(pe=>pe.providerId===B.providerId)),...b]}function Kn(R){return R.map(b=>{var{providerId:D}=b,B=fe(b,["providerId"]);return{providerId:D,uid:B.rawId||"",displayName:B.displayName||null,email:B.email||null,phoneNumber:B.phoneNumber||null,photoURL:B.photoUrl||null}})}function fi(){return(fi=(0,p.Z)(function*(R,b){const D=yield be(R,{},(0,p.Z)(function*(){const B=(0,N.xO)({grant_type:"refresh_token",refresh_token:b}).slice(1),{tokenApiHost:pe,apiKey:Ee}=R.config,At=Nt(R,pe,"/v1/token",`key=${Ee}`),on=yield R._getAdditionalHeaders();return on["Content-Type"]="application/x-www-form-urlencoded",Fn.fetch()(At,{method:"POST",headers:on,body:B})}));return{accessToken:D.access_token,expiresIn:D.expires_in,refreshToken:D.refresh_token}})).apply(this,arguments)}class Bi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(b){Gt(b.idToken,"internal-error"),Gt(typeof b.idToken<"u","internal-error"),Gt(typeof b.refreshToken<"u","internal-error");const D="expiresIn"in b&&typeof b.expiresIn<"u"?Number(b.expiresIn):function dn(R){const b=Et(R);return Gt(b,"internal-error"),Gt(typeof b.exp<"u","internal-error"),Gt(typeof b.iat<"u","internal-error"),Number(b.exp)-Number(b.iat)}(b.idToken);this.updateTokensAndExpiration(b.idToken,b.refreshToken,D)}getToken(b,D=!1){var B=this;return(0,p.Z)(function*(){return Gt(!B.accessToken||B.refreshToken,b,"user-token-expired"),D||!B.accessToken||B.isExpired?B.refreshToken?(yield B.refresh(b,B.refreshToken),B.accessToken):null:B.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(b,D){var B=this;return(0,p.Z)(function*(){const{accessToken:pe,refreshToken:Ee,expiresIn:At}=yield function On(R,b){return fi.apply(this,arguments)}(b,D);B.updateTokensAndExpiration(pe,Ee,Number(At))})()}updateTokensAndExpiration(b,D,B){this.refreshToken=D||null,this.accessToken=b||null,this.expirationTime=Date.now()+1e3*B}static fromJSON(b,D){const{refreshToken:B,accessToken:pe,expirationTime:Ee}=D,At=new Bi;return B&&(Gt("string"==typeof B,"internal-error",{appName:b}),At.refreshToken=B),pe&&(Gt("string"==typeof pe,"internal-error",{appName:b}),At.accessToken=pe),Ee&&(Gt("number"==typeof Ee,"internal-error",{appName:b}),At.expirationTime=Ee),At}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(b){this.accessToken=b.accessToken,this.refreshToken=b.refreshToken,this.expirationTime=b.expirationTime}_clone(){return Object.assign(new Bi,this.toJSON())}_performRefresh(){return $n("not implemented")}}function dr(R,b){Gt("string"==typeof R||typeof R>"u","internal-error",{appName:b})}class sr{constructor(b){var{uid:D,auth:B,stsTokenManager:pe}=b,Ee=fe(b,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new He(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=D,this.auth=B,this.stsTokenManager=pe,this.accessToken=pe.accessToken,this.displayName=Ee.displayName||null,this.email=Ee.email||null,this.emailVerified=Ee.emailVerified||!1,this.phoneNumber=Ee.phoneNumber||null,this.photoURL=Ee.photoURL||null,this.isAnonymous=Ee.isAnonymous||!1,this.tenantId=Ee.tenantId||null,this.providerData=Ee.providerData?[...Ee.providerData]:[],this.metadata=new Ye(Ee.createdAt||void 0,Ee.lastLoginAt||void 0)}getIdToken(b){var D=this;return(0,p.Z)(function*(){const B=yield fn(D,D.stsTokenManager.getToken(D.auth,b));return Gt(B,D.auth,"internal-error"),D.accessToken!==B&&(D.accessToken=B,yield D.auth._persistUserIfCurrent(D),D.auth._notifyListenersIfCurrent(D)),B})()}getIdTokenResult(b){return function K(R){return he.apply(this,arguments)}(this,b)}reload(){return function ot(R){return Bt.apply(this,arguments)}(this)}_assign(b){this!==b&&(Gt(this.uid===b.uid,this.auth,"internal-error"),this.displayName=b.displayName,this.photoURL=b.photoURL,this.email=b.email,this.emailVerified=b.emailVerified,this.phoneNumber=b.phoneNumber,this.isAnonymous=b.isAnonymous,this.tenantId=b.tenantId,this.providerData=b.providerData.map(D=>Object.assign({},D)),this.metadata._copy(b.metadata),this.stsTokenManager._assign(b.stsTokenManager))}_clone(b){return new sr(Object.assign(Object.assign({},this),{auth:b,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(b){Gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=b,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(b){this.reloadListener?this.reloadListener(b):this.reloadUserInfo=b}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(b,D=!1){var B=this;return(0,p.Z)(function*(){let pe=!1;b.idToken&&b.idToken!==B.stsTokenManager.accessToken&&(B.stsTokenManager.updateFromServerResponse(b),pe=!0),D&&(yield De(B)),yield B.auth._persistUserIfCurrent(B),pe&&B.auth._notifyListenersIfCurrent(B)})()}delete(){var b=this;return(0,p.Z)(function*(){const D=yield b.getIdToken();return yield fn(b,function rt(R,b){return Je.apply(this,arguments)}(b.auth,{idToken:D})),b.stsTokenManager.clearRefreshToken(),b.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(b=>Object.assign({},b)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(b,D){var B,pe,Ee,At,on,Zn,Vn,Ei;const gi=null!==(B=D.displayName)&&void 0!==B?B:void 0,Er=null!==(pe=D.email)&&void 0!==pe?pe:void 0,Bs=null!==(Ee=D.phoneNumber)&&void 0!==Ee?Ee:void 0,Xs=null!==(At=D.photoURL)&&void 0!==At?At:void 0,Js=null!==(on=D.tenantId)&&void 0!==on?on:void 0,$i=null!==(Zn=D._redirectEventId)&&void 0!==Zn?Zn:void 0,ed=null!==(Vn=D.createdAt)&&void 0!==Vn?Vn:void 0,vu=null!==(Ei=D.lastLoginAt)&&void 0!==Ei?Ei:void 0,{uid:Mo,emailVerified:ea,isAnonymous:Ga,providerData:yu,stsTokenManager:$l}=D;Gt(Mo&&$l,b,"internal-error");const bu=Bi.fromJSON(this.name,$l);Gt("string"==typeof Mo,b,"internal-error"),dr(gi,b.name),dr(Er,b.name),Gt("boolean"==typeof ea,b,"internal-error"),Gt("boolean"==typeof Ga,b,"internal-error"),dr(Bs,b.name),dr(Xs,b.name),dr(Js,b.name),dr($i,b.name),dr(ed,b.name),dr(vu,b.name);const Sl=new sr({uid:Mo,auth:b,email:Er,emailVerified:ea,displayName:gi,isAnonymous:Ga,photoURL:Xs,phoneNumber:Bs,tenantId:Js,stsTokenManager:bu,createdAt:ed,lastLoginAt:vu});return yu&&Array.isArray(yu)&&(Sl.providerData=yu.map(eo=>Object.assign({},eo))),$i&&(Sl._redirectEventId=$i),Sl}static _fromIdTokenResponse(b,D,B=!1){return(0,p.Z)(function*(){const pe=new Bi;pe.updateFromServerResponse(D);const Ee=new sr({uid:D.localId,auth:b,stsTokenManager:pe,isAnonymous:B});return yield De(Ee),Ee})()}}const Ji=(()=>{class R{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(D,B){var pe=this;return(0,p.Z)(function*(){pe.storage[D]=B})()}_get(D){var B=this;return(0,p.Z)(function*(){const pe=B.storage[D];return void 0===pe?null:pe})()}_remove(D){var B=this;return(0,p.Z)(function*(){delete B.storage[D]})()}_addListener(D,B){}_removeListener(D,B){}}return R.type="NONE",R})();function hr(R,b,D){return`firebase:${R}:${b}:${D}`}class Mr{constructor(b,D,B){this.persistence=b,this.auth=D,this.userKey=B;const{config:pe,name:Ee}=this.auth;this.fullUserKey=hr(this.userKey,pe.apiKey,Ee),this.fullPersistenceKey=hr("persistence",pe.apiKey,Ee),this.boundEventHandler=D._onStorageEvent.bind(D),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(b){return this.persistence._set(this.fullUserKey,b.toJSON())}getCurrentUser(){var b=this;return(0,p.Z)(function*(){const D=yield b.persistence._get(b.fullUserKey);return D?sr._fromJSON(b.auth,D):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(b){var D=this;return(0,p.Z)(function*(){if(D.persistence===b)return;const B=yield D.getCurrentUser();return yield D.removeCurrentUser(),D.persistence=b,B?D.setCurrentUser(B):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(b,D,B="authUser"){return(0,p.Z)(function*(){if(!D.length)return new Mr(ee(Ji),b,B);const pe=(yield Promise.all(D.map(function(){var Vn=(0,p.Z)(function*(Ei){if(yield Ei._isAvailable())return Ei});return function(Ei){return Vn.apply(this,arguments)}}()))).filter(Vn=>Vn);let Ee=pe[0]||ee(Ji);const At=hr(B,b.config.apiKey,b.name);let on=null;for(const Vn of D)try{const Ei=yield Vn._get(At);if(Ei){const gi=sr._fromJSON(b,Ei);Vn!==Ee&&(on=gi),Ee=Vn;break}}catch{}const Zn=pe.filter(Vn=>Vn._shouldAllowMigration);return Ee._shouldAllowMigration&&Zn.length?(Ee=Zn[0],on&&(yield Ee._set(At,on.toJSON())),yield Promise.all(D.map(function(){var Vn=(0,p.Z)(function*(Ei){if(Ei!==Ee)try{yield Ei._remove(At)}catch{}});return function(Ei){return Vn.apply(this,arguments)}}())),new Mr(Ee,b,B)):new Mr(Ee,b,B)})()}}function br(R){const b=R.toLowerCase();if(b.includes("opera/")||b.includes("opr/")||b.includes("opios/"))return"Opera";if(fs(b))return"IEMobile";if(b.includes("msie")||b.includes("trident/"))return"IE";if(b.includes("edge/"))return"Edge";if(ns(b))return"Firefox";if(b.includes("silk/"))return"Silk";if(Br(b))return"Blackberry";if(qr(b))return"Webos";if(Vi(b))return"Safari";if((b.includes("chrome/")||to(b))&&!b.includes("edge/"))return"Chrome";if(Ds(b))return"Android";{const B=R.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===B?.length)return B[1]}return"Other"}function ns(R=(0,N.z$)()){return/firefox\//i.test(R)}function Vi(R=(0,N.z$)()){const b=R.toLowerCase();return b.includes("safari/")&&!b.includes("chrome/")&&!b.includes("crios/")&&!b.includes("android")}function to(R=(0,N.z$)()){return/crios\//i.test(R)}function fs(R=(0,N.z$)()){return/iemobile/i.test(R)}function Ds(R=(0,N.z$)()){return/android/i.test(R)}function Br(R=(0,N.z$)()){return/blackberry/i.test(R)}function qr(R=(0,N.z$)()){return/webos/i.test(R)}function Vr(R=(0,N.z$)()){return/iphone|ipad|ipod/i.test(R)||/macintosh/i.test(R)&&/mobile/i.test(R)}function Ts(R=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(R)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(R)}function Or(R=(0,N.z$)()){return Vr(R)||Ds(R)||qr(R)||Br(R)||/windows phone/i.test(R)||fs(R)}function ko(R,b=[]){let D;switch(R){case"Browser":D=br((0,N.z$)());break;case"Worker":D=`${br((0,N.z$)())}-${R}`;break;default:D=R}const B=b.length?b.join(","):"FirebaseCore-web";return`${D}/JsCore/${_.SDK_VERSION}/${B}`}class as{constructor(b){this.auth=b,this.queue=[]}pushCallback(b,D){const B=Ee=>new Promise((At,on)=>{try{At(b(Ee))}catch(Zn){on(Zn)}});B.onAbort=D,this.queue.push(B);const pe=this.queue.length-1;return()=>{this.queue[pe]=()=>Promise.resolve()}}runMiddleware(b){var D=this;return(0,p.Z)(function*(){var B;if(D.auth.currentUser===b)return;const pe=[];try{for(const Ee of D.queue)yield Ee(b),Ee.onAbort&&pe.push(Ee.onAbort)}catch(Ee){pe.reverse();for(const At of pe)try{At()}catch{}throw D.auth._errorFactory.create("login-blocked",{originalMessage:null===(B=Ee)||void 0===B?void 0:B.message})}})()}}class gs{constructor(b,D,B){this.app=b,this.heartbeatServiceProvider=D,this.config=B,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yo(this),this.idTokenSubscription=new yo(this),this.beforeStateQueue=new as(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ze,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=b.name,this.clientVersion=B.sdkClientVersion}_initializeWithPersistence(b,D){var B=this;return D&&(this._popupRedirectResolver=ee(D)),this._initializationPromise=this.queue((0,p.Z)(function*(){var pe,Ee;if(!B._deleted&&(B.persistenceManager=yield Mr.create(B,b),!B._deleted)){if(null!==(pe=B._popupRedirectResolver)&&void 0!==pe&&pe._shouldInitProactively)try{yield B._popupRedirectResolver._initialize(B)}catch{}yield B.initializeCurrentUser(D),B.lastNotifiedUid=(null===(Ee=B.currentUser)||void 0===Ee?void 0:Ee.uid)||null,!B._deleted&&(B._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var b=this;return(0,p.Z)(function*(){if(b._deleted)return;const D=yield b.assertedPersistence.getCurrentUser();if(b.currentUser||D){if(b.currentUser&&D&&b.currentUser.uid===D.uid)return b._currentUser._assign(D),void(yield b.currentUser.getIdToken());yield b._updateCurrentUser(D,!0)}})()}initializeCurrentUser(b){var D=this;return(0,p.Z)(function*(){var B;const pe=yield D.assertedPersistence.getCurrentUser();let Ee=pe,At=!1;if(b&&D.config.authDomain){yield D.getOrInitRedirectPersistenceManager();const on=null===(B=D.redirectUser)||void 0===B?void 0:B._redirectEventId,Zn=Ee?._redirectEventId,Vn=yield D.tryRedirectSignIn(b);(!on||on===Zn)&&Vn?.user&&(Ee=Vn.user,At=!0)}if(!Ee)return D.directlySetCurrentUser(null);if(!Ee._redirectEventId){if(At)try{yield D.beforeStateQueue.runMiddleware(Ee)}catch(on){Ee=pe,D._popupRedirectResolver._overrideRedirectResult(D,()=>Promise.reject(on))}return Ee?D.reloadAndSetCurrentUserOrClear(Ee):D.directlySetCurrentUser(null)}return Gt(D._popupRedirectResolver,D,"argument-error"),yield D.getOrInitRedirectPersistenceManager(),D.redirectUser&&D.redirectUser._redirectEventId===Ee._redirectEventId?D.directlySetCurrentUser(Ee):D.reloadAndSetCurrentUserOrClear(Ee)})()}tryRedirectSignIn(b){var D=this;return(0,p.Z)(function*(){let B=null;try{B=yield D._popupRedirectResolver._completeRedirectFn(D,b,!0)}catch{yield D._setRedirectUser(null)}return B})()}reloadAndSetCurrentUserOrClear(b){var D=this;return(0,p.Z)(function*(){var B;try{yield De(b)}catch(pe){if("auth/network-request-failed"!==(null===(B=pe)||void 0===B?void 0:B.code))return D.directlySetCurrentUser(null)}return D.directlySetCurrentUser(b)})()}useDeviceLanguage(){this.languageCode=function Un(){if(typeof navigator>"u")return null;const R=navigator;return R.languages&&R.languages[0]||R.language||null}()}_delete(){var b=this;return(0,p.Z)(function*(){b._deleted=!0})()}updateCurrentUser(b){var D=this;return(0,p.Z)(function*(){const B=b?(0,N.m9)(b):null;return B&&Gt(B.auth.config.apiKey===D.config.apiKey,D,"invalid-user-token"),D._updateCurrentUser(B&&B._clone(D))})()}_updateCurrentUser(b,D=!1){var B=this;return(0,p.Z)(function*(){if(!B._deleted)return b&&Gt(B.tenantId===b.tenantId,B,"tenant-id-mismatch"),D||(yield B.beforeStateQueue.runMiddleware(b)),B.queue((0,p.Z)(function*(){yield B.directlySetCurrentUser(b),B.notifyAuthListeners()}))})()}signOut(){var b=this;return(0,p.Z)(function*(){return yield b.beforeStateQueue.runMiddleware(null),(b.redirectPersistenceManager||b._popupRedirectResolver)&&(yield b._setRedirectUser(null)),b._updateCurrentUser(null,!0)})()}setPersistence(b){var D=this;return this.queue((0,p.Z)(function*(){yield D.assertedPersistence.setPersistence(ee(b))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(b){this._errorFactory=new N.LL("auth","Firebase",b())}onAuthStateChanged(b,D,B){return this.registerStateListener(this.authStateSubscription,b,D,B)}beforeAuthStateChanged(b,D){return this.beforeStateQueue.pushCallback(b,D)}onIdTokenChanged(b,D,B){return this.registerStateListener(this.idTokenSubscription,b,D,B)}toJSON(){var b;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(b=this._currentUser)||void 0===b?void 0:b.toJSON()}}_setRedirectUser(b,D){var B=this;return(0,p.Z)(function*(){const pe=yield B.getOrInitRedirectPersistenceManager(D);return null===b?pe.removeCurrentUser():pe.setCurrentUser(b)})()}getOrInitRedirectPersistenceManager(b){var D=this;return(0,p.Z)(function*(){if(!D.redirectPersistenceManager){const B=b&&ee(b)||D._popupRedirectResolver;Gt(B,D,"argument-error"),D.redirectPersistenceManager=yield Mr.create(D,[ee(B._redirectPersistence)],"redirectUser"),D.redirectUser=yield D.redirectPersistenceManager.getCurrentUser()}return D.redirectPersistenceManager})()}_redirectUserForId(b){var D=this;return(0,p.Z)(function*(){var B,pe;return D._isInitialized&&(yield D.queue((0,p.Z)(function*(){}))),(null===(B=D._currentUser)||void 0===B?void 0:B._redirectEventId)===b?D._currentUser:(null===(pe=D.redirectUser)||void 0===pe?void 0:pe._redirectEventId)===b?D.redirectUser:null})()}_persistUserIfCurrent(b){var D=this;return(0,p.Z)(function*(){if(b===D.currentUser)return D.queue((0,p.Z)(function*(){return D.directlySetCurrentUser(b)}))})()}_notifyListenersIfCurrent(b){b===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var b,D;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const B=null!==(D=null===(b=this.currentUser)||void 0===b?void 0:b.uid)&&void 0!==D?D:null;this.lastNotifiedUid!==B&&(this.lastNotifiedUid=B,this.authStateSubscription.next(this.currentUser))}registerStateListener(b,D,B,pe){if(this._deleted)return()=>{};const Ee="function"==typeof D?D:D.next.bind(D),At=this._isInitialized?Promise.resolve():this._initializationPromise;return Gt(At,this,"internal-error"),At.then(()=>Ee(this.currentUser)),"function"==typeof D?b.addObserver(D,B,pe):b.addObserver(D)}directlySetCurrentUser(b){var D=this;return(0,p.Z)(function*(){D.currentUser&&D.currentUser!==b&&D._currentUser._stopProactiveRefresh(),b&&D.isProactiveRefreshEnabled&&b._startProactiveRefresh(),D.currentUser=b,b?yield D.assertedPersistence.setCurrentUser(b):yield D.assertedPersistence.removeCurrentUser()})()}queue(b){return this.operations=this.operations.then(b,b),this.operations}get assertedPersistence(){return Gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(b){!b||this.frameworks.includes(b)||(this.frameworks.push(b),this.frameworks.sort(),this.clientVersion=ko(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var b=this;return(0,p.Z)(function*(){var D;const B={"X-Client-Version":b.clientVersion};b.app.options.appId&&(B["X-Firebase-gmpid"]=b.app.options.appId);const pe=yield null===(D=b.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===D?void 0:D.getHeartbeatsHeader();return pe&&(B["X-Firebase-Client"]=pe),B})()}}function Yi(R){return(0,N.m9)(R)}class yo{constructor(b){this.auth=b,this.observer=null,this.addObserver=(0,N.ne)(D=>this.observer=D)}get next(){return Gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function La(R,b,D){const B=Yi(R);Gt(B._canInitEmulator,B,"emulator-config-failed"),Gt(/^https?:\/\//.test(b),B,"invalid-emulator-scheme");const pe=!!D?.disableWarnings,Ee=no(b),{host:At,port:on}=function Fa(R){const b=no(R),D=/(\/\/)?([^?#/]+)/.exec(R.substr(b.length));if(!D)return{host:"",port:null};const B=D[2].split("@").pop()||"",pe=/^(\[[^\]]+\])(:|$)/.exec(B);if(pe){const Ee=pe[1];return{host:Ee,port:_s(B.substr(Ee.length+1))}}{const[Ee,At]=B.split(":");return{host:Ee,port:_s(At)}}}(b);B.config.emulator={url:`${Ee}//${At}${null===on?"":`:${on}`}/`},B.settings.appVerificationDisabledForTesting=!0,B.emulatorConfig=Object.freeze({host:At,port:on,protocol:Ee.replace(":",""),options:Object.freeze({disableWarnings:pe})}),pe||function Vs(){function R(){const b=document.createElement("p"),D=b.style;b.innerText="Running in emulator mode. Do not use with production credentials.",D.position="fixed",D.width="100%",D.backgroundColor="#ffffff",D.border=".1em solid #000000",D.color="#b50000",D.bottom="0px",D.left="0px",D.margin="0px",D.zIndex="10000",D.textAlign="center",b.classList.add("firebase-emulator-warning"),document.body.appendChild(b)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",R):R())}()}function no(R){const b=R.indexOf(":");return b<0?"":R.substr(0,b+1)}function _s(R){if(!R)return null;const b=Number(R);return isNaN(b)?null:b}class Pt{constructor(b,D){this.providerId=b,this.signInMethod=D}toJSON(){return $n("not implemented")}_getIdTokenResponse(b){return $n("not implemented")}_linkToIdToken(b,D){return $n("not implemented")}_getReauthenticationResolver(b){return $n("not implemented")}}function Rt(R,b){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,p.Z)(function*(R,b){return at(R,"POST","/v1/accounts:resetPassword",ni(R,b))})).apply(this,arguments)}function vn(R,b){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,p.Z)(function*(R,b){return at(R,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function si(R,b){return Di.apply(this,arguments)}function Di(){return(Di=(0,p.Z)(function*(R,b){return at(R,"POST","/v1/accounts:update",ni(R,b))})).apply(this,arguments)}function qi(){return(qi=(0,p.Z)(function*(R,b){return ke(R,"POST","/v1/accounts:signInWithPassword",ni(R,b))})).apply(this,arguments)}function zr(R,b){return ls.apply(this,arguments)}function ls(){return(ls=(0,p.Z)(function*(R,b){return at(R,"POST","/v1/accounts:sendOobCode",ni(R,b))})).apply(this,arguments)}function Ss(R,b){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,p.Z)(function*(R,b){return zr(R,b)})).apply(this,arguments)}function Us(R,b){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,p.Z)(function*(R,b){return zr(R,b)})).apply(this,arguments)}function Ks(R,b){return ra.apply(this,arguments)}function ra(){return(ra=(0,p.Z)(function*(R,b){return zr(R,b)})).apply(this,arguments)}function Oo(R,b){return Po.apply(this,arguments)}function Po(){return(Po=(0,p.Z)(function*(R,b){return zr(R,b)})).apply(this,arguments)}function sa(){return(sa=(0,p.Z)(function*(R,b){return ke(R,"POST","/v1/accounts:signInWithEmailLink",ni(R,b))})).apply(this,arguments)}function fr(){return(fr=(0,p.Z)(function*(R,b){return ke(R,"POST","/v1/accounts:signInWithEmailLink",ni(R,b))})).apply(this,arguments)}class Ms extends Pt{constructor(b,D,B,pe=null){super("password",B),this._email=b,this._password=D,this._tenantId=pe}static _fromEmailAndPassword(b,D){return new Ms(b,D,"password")}static _fromEmailAndCode(b,D,B=null){return new Ms(b,D,"emailLink",B)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(b){const D="string"==typeof b?JSON.parse(b):b;if(D?.email&&D?.password){if("password"===D.signInMethod)return this._fromEmailAndPassword(D.email,D.password);if("emailLink"===D.signInMethod)return this._fromEmailAndCode(D.email,D.password,D.tenantId)}return null}_getIdTokenResponse(b){var D=this;return(0,p.Z)(function*(){switch(D.signInMethod){case"password":return function Ir(R,b){return qi.apply(this,arguments)}(b,{returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Ca(R,b){return sa.apply(this,arguments)}(b,{email:D._email,oobCode:D._password});default:It(b,"internal-error")}})()}_linkToIdToken(b,D){var B=this;return(0,p.Z)(function*(){switch(B.signInMethod){case"password":return vn(b,{idToken:D,returnSecureToken:!0,email:B._email,password:B._password});case"emailLink":return function io(R,b){return fr.apply(this,arguments)}(b,{idToken:D,email:B._email,oobCode:B._password});default:It(b,"internal-error")}})()}_getReauthenticationResolver(b){return this._getIdTokenResponse(b)}}function Is(R,b){return xs.apply(this,arguments)}function xs(){return(xs=(0,p.Z)(function*(R,b){return ke(R,"POST","/v1/accounts:signInWithIdp",ni(R,b))})).apply(this,arguments)}class is extends Pt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(b){const D=new is(b.providerId,b.signInMethod);return b.idToken||b.accessToken?(b.idToken&&(D.idToken=b.idToken),b.accessToken&&(D.accessToken=b.accessToken),b.nonce&&!b.pendingToken&&(D.nonce=b.nonce),b.pendingToken&&(D.pendingToken=b.pendingToken)):b.oauthToken&&b.oauthTokenSecret?(D.accessToken=b.oauthToken,D.secret=b.oauthTokenSecret):It("argument-error"),D}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(b){const D="string"==typeof b?JSON.parse(b):b,{providerId:B,signInMethod:pe}=D,Ee=fe(D,["providerId","signInMethod"]);if(!B||!pe)return null;const At=new is(B,pe);return At.idToken=Ee.idToken||void 0,At.accessToken=Ee.accessToken||void 0,At.secret=Ee.secret,At.nonce=Ee.nonce,At.pendingToken=Ee.pendingToken||null,At}_getIdTokenResponse(b){return Is(b,this.buildRequest())}_linkToIdToken(b,D){const B=this.buildRequest();return B.idToken=D,Is(b,B)}_getReauthenticationResolver(b){const D=this.buildRequest();return D.autoCreate=!1,Is(b,D)}buildRequest(){const b={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)b.pendingToken=this.pendingToken;else{const D={};this.idToken&&(D.id_token=this.idToken),this.accessToken&&(D.access_token=this.accessToken),this.secret&&(D.oauth_token_secret=this.secret),D.providerId=this.providerId,this.nonce&&!this.pendingToken&&(D.nonce=this.nonce),b.postBody=(0,N.xO)(D)}return b}}function Wr(R,b){return ro.apply(this,arguments)}function ro(){return(ro=(0,p.Z)(function*(R,b){return at(R,"POST","/v1/accounts:sendVerificationCode",ni(R,b))})).apply(this,arguments)}function bo(){return(bo=(0,p.Z)(function*(R,b){return ke(R,"POST","/v1/accounts:signInWithPhoneNumber",ni(R,b))})).apply(this,arguments)}function js(){return(js=(0,p.Z)(function*(R,b){const D=yield ke(R,"POST","/v1/accounts:signInWithPhoneNumber",ni(R,b));if(D.temporaryProof)throw st(R,"account-exists-with-different-credential",D);return D})).apply(this,arguments)}const pr={USER_NOT_FOUND:"user-not-found"};function No(){return(No=(0,p.Z)(function*(R,b){return ke(R,"POST","/v1/accounts:signInWithPhoneNumber",ni(R,Object.assign(Object.assign({},b),{operation:"REAUTH"})),pr)})).apply(this,arguments)}class Ai extends Pt{constructor(b){super("phone","phone"),this.params=b}static _fromVerification(b,D){return new Ai({verificationId:b,verificationCode:D})}static _fromTokenResponse(b,D){return new Ai({phoneNumber:b,temporaryProof:D})}_getIdTokenResponse(b){return function wa(R,b){return bo.apply(this,arguments)}(b,this._makeVerificationRequest())}_linkToIdToken(b,D){return function As(R,b){return js.apply(this,arguments)}(b,Object.assign({idToken:D},this._makeVerificationRequest()))}_getReauthenticationResolver(b){return function Qr(R,b){return No.apply(this,arguments)}(b,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:b,phoneNumber:D,verificationId:B,verificationCode:pe}=this.params;return b&&D?{temporaryProof:b,phoneNumber:D}:{sessionInfo:B,code:pe}}toJSON(){const b={providerId:this.providerId};return this.params.phoneNumber&&(b.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(b.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(b.verificationCode=this.params.verificationCode),this.params.verificationId&&(b.verificationId=this.params.verificationId),b}static fromJSON(b){"string"==typeof b&&(b=JSON.parse(b));const{verificationId:D,verificationCode:B,phoneNumber:pe,temporaryProof:Ee}=b;return B||D||pe||Ee?new Ai({verificationId:D,verificationCode:B,phoneNumber:pe,temporaryProof:Ee}):null}}class vs{constructor(b){var D,B,pe,Ee,At,on;const Zn=(0,N.zd)((0,N.pd)(b)),Vn=null!==(D=Zn.apiKey)&&void 0!==D?D:null,Ei=null!==(B=Zn.oobCode)&&void 0!==B?B:null,gi=function Ur(R){switch(R){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(pe=Zn.mode)&&void 0!==pe?pe:null);Gt(Vn&&Ei&&gi,"argument-error"),this.apiKey=Vn,this.operation=gi,this.code=Ei,this.continueUrl=null!==(Ee=Zn.continueUrl)&&void 0!==Ee?Ee:null,this.languageCode=null!==(At=Zn.languageCode)&&void 0!==At?At:null,this.tenantId=null!==(on=Zn.tenantId)&&void 0!==on?on:null}static parseLink(b){const D=function so(R){const b=(0,N.zd)((0,N.pd)(R)).link,D=b?(0,N.zd)((0,N.pd)(b)).deep_link_id:null,B=(0,N.zd)((0,N.pd)(R)).deep_link_id;return(B?(0,N.zd)((0,N.pd)(B)).link:null)||B||D||b||R}(b);try{return new vs(D)}catch{return null}}}let Ki=(()=>{class R{constructor(){this.providerId=R.PROVIDER_ID}static credential(D,B){return Ms._fromEmailAndPassword(D,B)}static credentialWithLink(D,B){const pe=vs.parseLink(B);return Gt(pe,"argument-error"),Ms._fromEmailAndCode(D,pe.code,pe.tenantId)}}return R.PROVIDER_ID="password",R.EMAIL_PASSWORD_SIGN_IN_METHOD="password",R.EMAIL_LINK_SIGN_IN_METHOD="emailLink",R})();class Co{constructor(b){this.providerId=b,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(b){this.defaultLanguageCode=b}setCustomParameters(b){return this.customParameters=b,this}getCustomParameters(){return this.customParameters}}class ks extends Co{constructor(){super(...arguments),this.scopes=[]}addScope(b){return this.scopes.includes(b)||this.scopes.push(b),this}getScopes(){return[...this.scopes]}}class Ko extends ks{static credentialFromJSON(b){const D="string"==typeof b?JSON.parse(b):b;return Gt("providerId"in D&&"signInMethod"in D,"argument-error"),is._fromParams(D)}credential(b){return this._credential(Object.assign(Object.assign({},b),{nonce:b.rawNonce}))}_credential(b){return Gt(b.idToken||b.accessToken,"argument-error"),is._fromParams(Object.assign(Object.assign({},b),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(b){return Ko.oauthCredentialFromTaggedObject(b)}static credentialFromError(b){return Ko.oauthCredentialFromTaggedObject(b.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:D,oauthAccessToken:B,oauthTokenSecret:pe,pendingToken:Ee,nonce:At,providerId:on}=b;if(!B&&!pe&&!D&&!Ee||!on)return null;try{return new Ko(on)._credential({idToken:D,accessToken:B,nonce:At,pendingToken:Ee})}catch{return null}}}let Zs=(()=>{class R extends ks{constructor(){super("facebook.com")}static credential(D){return is._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.FACEBOOK_SIGN_IN_METHOD,accessToken:D})}static credentialFromResult(D){return R.credentialFromTaggedObject(D)}static credentialFromError(D){return R.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D||!("oauthAccessToken"in D)||!D.oauthAccessToken)return null;try{return R.credential(D.oauthAccessToken)}catch{return null}}}return R.FACEBOOK_SIGN_IN_METHOD="facebook.com",R.PROVIDER_ID="facebook.com",R})(),aa=(()=>{class R extends ks{constructor(){super("google.com"),this.addScope("profile")}static credential(D,B){return is._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.GOOGLE_SIGN_IN_METHOD,idToken:D,accessToken:B})}static credentialFromResult(D){return R.credentialFromTaggedObject(D)}static credentialFromError(D){return R.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{oauthIdToken:B,oauthAccessToken:pe}=D;if(!B&&!pe)return null;try{return R.credential(B,pe)}catch{return null}}}return R.GOOGLE_SIGN_IN_METHOD="google.com",R.PROVIDER_ID="google.com",R})(),mr=(()=>{class R extends ks{constructor(){super("github.com")}static credential(D){return is._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.GITHUB_SIGN_IN_METHOD,accessToken:D})}static credentialFromResult(D){return R.credentialFromTaggedObject(D)}static credentialFromError(D){return R.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D||!("oauthAccessToken"in D)||!D.oauthAccessToken)return null;try{return R.credential(D.oauthAccessToken)}catch{return null}}}return R.GITHUB_SIGN_IN_METHOD="github.com",R.PROVIDER_ID="github.com",R})();class xr extends Pt{constructor(b,D){super(b,b),this.pendingToken=D}_getIdTokenResponse(b){return Is(b,this.buildRequest())}_linkToIdToken(b,D){const B=this.buildRequest();return B.idToken=D,Is(b,B)}_getReauthenticationResolver(b){const D=this.buildRequest();return D.autoCreate=!1,Is(b,D)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(b){const D="string"==typeof b?JSON.parse(b):b,{providerId:B,signInMethod:pe,pendingToken:Ee}=D;return B&&pe&&Ee&&B===pe?new xr(B,Ee):null}static _create(b,D){return new xr(b,D)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ps extends Co{constructor(b){Gt(b.startsWith("saml."),"argument-error"),super(b)}static credentialFromResult(b){return ps.samlCredentialFromTaggedObject(b)}static credentialFromError(b){return ps.samlCredentialFromTaggedObject(b.customData||{})}static credentialFromJSON(b){const D=xr.fromJSON(b);return Gt(D,"argument-error"),D}static samlCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{pendingToken:D,providerId:B}=b;if(!D||!B)return null;try{return xr._create(B,D)}catch{return null}}}let pl=(()=>{class R extends ks{constructor(){super("twitter.com")}static credential(D,B){return is._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.TWITTER_SIGN_IN_METHOD,oauthToken:D,oauthTokenSecret:B})}static credentialFromResult(D){return R.credentialFromTaggedObject(D)}static credentialFromError(D){return R.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{oauthAccessToken:B,oauthTokenSecret:pe}=D;if(!B||!pe)return null;try{return R.credential(B,pe)}catch{return null}}}return R.TWITTER_SIGN_IN_METHOD="twitter.com",R.PROVIDER_ID="twitter.com",R})();function la(R,b){return $s.apply(this,arguments)}function $s(){return($s=(0,p.Z)(function*(R,b){return ke(R,"POST","/v1/accounts:signUp",ni(R,b))})).apply(this,arguments)}class Xr{constructor(b){this.user=b.user,this.providerId=b.providerId,this._tokenResponse=b._tokenResponse,this.operationType=b.operationType}static _fromIdTokenResponse(b,D,B,pe=!1){return(0,p.Z)(function*(){const Ee=yield sr._fromIdTokenResponse(b,B,pe),At=Qa(B);return new Xr({user:Ee,providerId:At,_tokenResponse:B,operationType:D})})()}static _forOperation(b,D,B){return(0,p.Z)(function*(){yield b._updateTokensIfNecessary(B,!0);const pe=Qa(B);return new Xr({user:b,providerId:pe,_tokenResponse:B,operationType:D})})()}}function Qa(R){return R.providerId?R.providerId:"phoneNumber"in R?"phone":null}function Sn(R){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,p.Z)(function*(R){var b;const D=Yi(R);if(yield D._initializationPromise,null!==(b=D.currentUser)&&void 0!==b&&b.isAnonymous)return new Xr({user:D.currentUser,providerId:null,operationType:"signIn"});const B=yield la(D,{returnSecureToken:!0}),pe=yield Xr._fromIdTokenResponse(D,"signIn",B,!0);return yield D._updateCurrentUser(pe.user),pe})).apply(this,arguments)}class wo extends N.ZR{constructor(b,D,B,pe){var Ee;super(D.code,D.message),this.operationType=B,this.user=pe,Object.setPrototypeOf(this,wo.prototype),this.customData={appName:b.name,tenantId:null!==(Ee=b.tenantId)&&void 0!==Ee?Ee:void 0,_serverResponse:D.customData._serverResponse,operationType:B}}static _fromErrorAndOperation(b,D,B,pe){return new wo(b,D,B,pe)}}function Ea(R,b,D,B){return("reauthenticate"===b?D._getReauthenticationResolver(R):D._getIdTokenResponse(R)).catch(Ee=>{throw"auth/multi-factor-auth-required"===Ee.code?wo._fromErrorAndOperation(R,Ee,b,B):Ee})}function Hr(R){return new Set(R.map(({providerId:b})=>b).filter(b=>!!b))}function se(R,b){return Q.apply(this,arguments)}function Q(){return(Q=(0,p.Z)(function*(R,b){const D=(0,N.m9)(R);yield nn(!0,D,b);const{providerUserInfo:B}=yield Tt(D.auth,{idToken:yield D.getIdToken(),deleteProvider:[b]}),pe=Hr(B||[]);return D.providerData=D.providerData.filter(Ee=>pe.has(Ee.providerId)),pe.has("phone")||(D.phoneNumber=null),yield D.auth._persistUserIfCurrent(D),D})).apply(this,arguments)}function $(R,b){return xe.apply(this,arguments)}function xe(){return(xe=(0,p.Z)(function*(R,b,D=!1){const B=yield fn(R,b._linkToIdToken(R.auth,yield R.getIdToken()),D);return Xr._forOperation(R,"link",B)})).apply(this,arguments)}function nn(R,b,D){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,p.Z)(function*(R,b,D){yield De(b);const pe=!1===R?"provider-already-linked":"no-such-provider";Gt(Hr(b.providerData).has(D)===R,b.auth,pe)})).apply(this,arguments)}function Cr(R,b){return oo.apply(this,arguments)}function oo(){return(oo=(0,p.Z)(function*(R,b,D=!1){var B;const{auth:pe}=R,Ee="reauthenticate";try{const At=yield fn(R,Ea(pe,Ee,b,R),D);Gt(At.idToken,pe,"internal-error");const on=Et(At.idToken);Gt(on,pe,"internal-error");const{sub:Zn}=on;return Gt(R.uid===Zn,pe,"user-mismatch"),Xr._forOperation(R,Ee,At)}catch(At){throw"auth/user-not-found"===(null===(B=At)||void 0===B?void 0:B.code)&&It(pe,"user-mismatch"),At}})).apply(this,arguments)}function Lr(R,b){return gr.apply(this,arguments)}function gr(){return(gr=(0,p.Z)(function*(R,b,D=!1){const B="signIn",pe=yield Ea(R,B,b),Ee=yield Xr._fromIdTokenResponse(R,B,pe);return D||(yield R._updateCurrentUser(Ee.user)),Ee})).apply(this,arguments)}function rs(R,b){return ca.apply(this,arguments)}function ca(){return(ca=(0,p.Z)(function*(R,b){return Lr(Yi(R),b)})).apply(this,arguments)}function er(R,b){return ao.apply(this,arguments)}function ao(){return(ao=(0,p.Z)(function*(R,b){const D=(0,N.m9)(R);return yield nn(!1,D,b.providerId),$(D,b)})).apply(this,arguments)}function Tc(R,b){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,p.Z)(function*(R,b){return Cr((0,N.m9)(R),b)})).apply(this,arguments)}function Ql(R,b){return Va.apply(this,arguments)}function Va(){return(Va=(0,p.Z)(function*(R,b){return ke(R,"POST","/v1/accounts:signInWithCustomToken",ni(R,b))})).apply(this,arguments)}function Zo(R,b){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,p.Z)(function*(R,b){const D=Yi(R),B=yield Ql(D,{token:b,returnSecureToken:!0}),pe=yield Xr._fromIdTokenResponse(D,"signIn",B);return yield D._updateCurrentUser(pe.user),pe})).apply(this,arguments)}class Lo{constructor(b,D){this.factorId=b,this.uid=D.mfaEnrollmentId,this.enrollmentTime=new Date(D.enrolledAt).toUTCString(),this.displayName=D.displayName}static _fromServerResponse(b,D){return"phoneInfo"in D?Xa._fromServerResponse(b,D):It(b,"internal-error")}}class Xa extends Lo{constructor(b){super("phone",b),this.phoneNumber=b.phoneInfo}static _fromServerResponse(b,D){return new Xa(D)}}function Yr(R,b,D){var B;Gt((null===(B=D.url)||void 0===B?void 0:B.length)>0,R,"invalid-continue-uri"),Gt(typeof D.dynamicLinkDomain>"u"||D.dynamicLinkDomain.length>0,R,"invalid-dynamic-link-domain"),b.continueUrl=D.url,b.dynamicLinkDomain=D.dynamicLinkDomain,b.canHandleCodeInApp=D.handleCodeInApp,D.iOS&&(Gt(D.iOS.bundleId.length>0,R,"missing-ios-bundle-id"),b.iOSBundleId=D.iOS.bundleId),D.android&&(Gt(D.android.packageName.length>0,R,"missing-android-pkg-name"),b.androidInstallApp=D.android.installApp,b.androidMinimumVersionCode=D.android.minimumVersion,b.androidPackageName=D.android.packageName)}function ml(R,b,D){return ua.apply(this,arguments)}function ua(){return(ua=(0,p.Z)(function*(R,b,D){const B=(0,N.m9)(R),pe={requestType:"PASSWORD_RESET",email:b};D&&Yr(B,pe,D),yield Us(B,pe)})).apply(this,arguments)}function Ll(R,b,D){return lo.apply(this,arguments)}function lo(){return(lo=(0,p.Z)(function*(R,b,D){yield Rt((0,N.m9)(R),{oobCode:b,newPassword:D})})).apply(this,arguments)}function Ja(R,b){return W.apply(this,arguments)}function W(){return(W=(0,p.Z)(function*(R,b){yield si((0,N.m9)(R),{oobCode:b})})).apply(this,arguments)}function ve(R,b){return q.apply(this,arguments)}function q(){return(q=(0,p.Z)(function*(R,b){const D=(0,N.m9)(R),B=yield Rt(D,{oobCode:b}),pe=B.requestType;switch(Gt(pe,D,"internal-error"),pe){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Gt(B.newEmail,D,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Gt(B.mfaInfo,D,"internal-error");default:Gt(B.email,D,"internal-error")}let Ee=null;return B.mfaInfo&&(Ee=Lo._fromServerResponse(Yi(D),B.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===B.requestType?B.newEmail:B.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===B.requestType?B.email:B.newEmail)||null,multiFactorInfo:Ee},operation:pe}})).apply(this,arguments)}function Me(R,b){return dt.apply(this,arguments)}function dt(){return(dt=(0,p.Z)(function*(R,b){const{data:D}=yield ve((0,N.m9)(R),b);return D.email})).apply(this,arguments)}function Qt(R,b,D){return un.apply(this,arguments)}function un(){return(un=(0,p.Z)(function*(R,b,D){const B=Yi(R),pe=yield la(B,{returnSecureToken:!0,email:b,password:D}),Ee=yield Xr._fromIdTokenResponse(B,"signIn",pe);return yield B._updateCurrentUser(Ee.user),Ee})).apply(this,arguments)}function Qn(R,b,D){return rs((0,N.m9)(R),Ki.credential(b,D))}function Ni(R,b,D){return bi.apply(this,arguments)}function bi(){return(bi=(0,p.Z)(function*(R,b,D){const B=(0,N.m9)(R),pe={requestType:"EMAIL_SIGNIN",email:b};Gt(D.handleCodeInApp,B,"argument-error"),D&&Yr(B,pe,D),yield Ks(B,pe)})).apply(this,arguments)}function Hi(R,b){return"EMAIL_SIGNIN"===vs.parseLink(b)?.operation}function Li(R,b,D){return _r.apply(this,arguments)}function _r(){return(_r=(0,p.Z)(function*(R,b,D){const B=(0,N.m9)(R),pe=Ki.credentialWithLink(b,D||Be());return Gt(pe._tenantId===(B.tenantId||null),B,"tenant-id-mismatch"),rs(B,pe)})).apply(this,arguments)}function qe(R,b){return ur.apply(this,arguments)}function ur(){return(ur=(0,p.Z)(function*(R,b){return at(R,"POST","/v1/accounts:createAuthUri",ni(R,b))})).apply(this,arguments)}function Rs(R,b){return ys.apply(this,arguments)}function ys(){return(ys=(0,p.Z)(function*(R,b){const B={identifier:b,continueUri:Ct()?Be():"http://localhost"},{signinMethods:pe}=yield qe((0,N.m9)(R),B);return pe||[]})).apply(this,arguments)}function Gs(R,b){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,p.Z)(function*(R,b){const D=(0,N.m9)(R),pe={requestType:"VERIFY_EMAIL",idToken:yield R.getIdToken()};b&&Yr(D.auth,pe,b);const{email:Ee}=yield Ss(D.auth,pe);Ee!==R.email&&(yield R.reload())})).apply(this,arguments)}function Eo(R,b,D){return tr.apply(this,arguments)}function tr(){return(tr=(0,p.Z)(function*(R,b,D){const B=(0,N.m9)(R),Ee={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield R.getIdToken(),newEmail:b};D&&Yr(B.auth,Ee,D);const{email:At}=yield Oo(B.auth,Ee);At!==R.email&&(yield R.reload())})).apply(this,arguments)}function Os(R,b){return gl.apply(this,arguments)}function gl(){return(gl=(0,p.Z)(function*(R,b){return at(R,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function ss(R,b){return da.apply(this,arguments)}function da(){return(da=(0,p.Z)(function*(R,{displayName:b,photoURL:D}){if(void 0===b&&void 0===D)return;const B=(0,N.m9)(R),Ee={idToken:yield B.getIdToken(),displayName:b,photoUrl:D,returnSecureToken:!0},At=yield fn(B,Os(B.auth,Ee));B.displayName=At.displayName||null,B.photoURL=At.photoUrl||null;const on=B.providerData.find(({providerId:Zn})=>"password"===Zn);on&&(on.displayName=B.displayName,on.photoURL=B.photoURL),yield B._updateTokensIfNecessary(At)})).apply(this,arguments)}function $u(R,b){return Sc((0,N.m9)(R),b,null)}function Md(R,b){return Sc((0,N.m9)(R),null,b)}function Sc(R,b,D){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,p.Z)(function*(R,b,D){const{auth:B}=R,Ee={idToken:yield R.getIdToken(),returnSecureToken:!0};b&&(Ee.email=b),D&&(Ee.password=D);const At=yield fn(R,vn(B,Ee));yield R._updateTokensIfNecessary(At,!0)})).apply(this,arguments)}class ha{constructor(b,D,B={}){this.isNewUser=b,this.providerId=D,this.profile=B}}class Mc extends ha{constructor(b,D,B,pe){super(b,D,B),this.username=pe}}class el extends ha{constructor(b,D){super(b,"facebook.com",D)}}class au extends Mc{constructor(b,D){super(b,"github.com",D,"string"==typeof D?.login?D?.login:null)}}class lu extends ha{constructor(b,D){super(b,"google.com",D)}}class nr extends Mc{constructor(b,D,B){super(b,"twitter.com",D,B)}}function fa(R){const{user:b,_tokenResponse:D}=R;return b.isAnonymous&&!D?{providerId:null,isNewUser:!1,profile:null}:function Bl(R){var b,D;if(!R)return null;const{providerId:B}=R,pe=R.rawUserInfo?JSON.parse(R.rawUserInfo):{},Ee=R.isNewUser||"identitytoolkit#SignupNewUserResponse"===R.kind;if(!B&&R?.idToken){const At=null===(D=null===(b=Et(R.idToken))||void 0===b?void 0:b.firebase)||void 0===D?void 0:D.sign_in_provider;if(At)return new ha(Ee,"anonymous"!==At&&"custom"!==At?At:null)}if(!B)return null;switch(B){case"facebook.com":return new el(Ee,pe);case"github.com":return new au(Ee,pe);case"google.com":return new lu(Ee,pe);case"twitter.com":return new nr(Ee,pe,R.screenName||null);case"custom":case"anonymous":return new ha(Ee,null);default:return new ha(Ee,B,pe)}}(D)}class Uo{constructor(b,D,B){this.type=b,this.credential=D,this.auth=B}static _fromIdtoken(b,D){return new Uo("enroll",b,D)}static _fromMfaPendingCredential(b){return new Uo("signin",b)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(b){var D,B;if(b?.multiFactorSession){if(null!==(D=b.multiFactorSession)&&void 0!==D&&D.pendingCredential)return Uo._fromMfaPendingCredential(b.multiFactorSession.pendingCredential);if(null!==(B=b.multiFactorSession)&&void 0!==B&&B.idToken)return Uo._fromIdtoken(b.multiFactorSession.idToken)}return null}}class Xn{constructor(b,D,B){this.session=b,this.hints=D,this.signInResolver=B}static _fromError(b,D){const B=Yi(b),pe=D.customData._serverResponse,Ee=(pe.mfaInfo||[]).map(on=>Lo._fromServerResponse(B,on));Gt(pe.mfaPendingCredential,B,"internal-error");const At=Uo._fromMfaPendingCredential(pe.mfaPendingCredential);return new Xn(At,Ee,function(){var on=(0,p.Z)(function*(Zn){const Vn=yield Zn._process(B,At);delete pe.mfaInfo,delete pe.mfaPendingCredential;const Ei=Object.assign(Object.assign({},pe),{idToken:Vn.idToken,refreshToken:Vn.refreshToken});switch(D.operationType){case"signIn":const gi=yield Xr._fromIdTokenResponse(B,D.operationType,Ei);return yield B._updateCurrentUser(gi.user),gi;case"reauthenticate":return Gt(D.user,B,"internal-error"),Xr._forOperation(D.user,D.operationType,Ei);default:It(B,"internal-error")}});return function(Zn){return on.apply(this,arguments)}}())}resolveSignIn(b){var D=this;return(0,p.Z)(function*(){return D.signInResolver(b)})()}}function cn(R,b){var D;const B=(0,N.m9)(R),pe=b;return Gt(b.customData.operationType,B,"argument-error"),Gt(null===(D=pe.customData._serverResponse)||void 0===D?void 0:D.mfaPendingCredential,B,"argument-error"),Xn._fromError(B,pe)}function Mn(R,b){return at(R,"POST","/v2/accounts/mfaEnrollment:start",ni(R,b))}class Do{constructor(b){this.user=b,this.enrolledFactors=[],b._onReload(D=>{D.mfaInfo&&(this.enrolledFactors=D.mfaInfo.map(B=>Lo._fromServerResponse(b.auth,B)))})}static _fromUser(b){return new Do(b)}getSession(){var b=this;return(0,p.Z)(function*(){return Uo._fromIdtoken(yield b.user.getIdToken(),b.user.auth)})()}enroll(b,D){var B=this;return(0,p.Z)(function*(){const pe=b,Ee=yield B.getSession(),At=yield fn(B.user,pe._process(B.user.auth,Ee,D));return yield B.user._updateTokensIfNecessary(At),B.user.reload()})()}unenroll(b){var D=this;return(0,p.Z)(function*(){var B;const pe="string"==typeof b?b:b.uid,Ee=yield D.user.getIdToken(),At=yield fn(D.user,function Ic(R,b){return at(R,"POST","/v2/accounts/mfaEnrollment:withdraw",ni(R,b))}(D.user.auth,{idToken:Ee,mfaEnrollmentId:pe}));D.enrolledFactors=D.enrolledFactors.filter(({uid:on})=>on!==pe),yield D.user._updateTokensIfNecessary(At);try{yield D.user.reload()}catch(on){if("auth/user-token-expired"!==(null===(B=on)||void 0===B?void 0:B.code))throw on}})()}}const tl=new WeakMap;function ma(R){const b=(0,N.m9)(R);return tl.has(b)||tl.set(b,Do._fromUser(b)),tl.get(b)}const vl="__sak";class xc{constructor(b,D){this.storageRetriever=b,this.type=D}_isAvailable(){try{return this.storage?(this.storage.setItem(vl,"1"),this.storage.removeItem(vl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(b,D){return this.storage.setItem(b,JSON.stringify(D)),Promise.resolve()}_get(b){const D=this.storage.getItem(b);return Promise.resolve(D?JSON.parse(D):null)}_remove(b){return this.storage.removeItem(b),Promise.resolve()}get storage(){return this.storageRetriever()}}const il=(()=>{class R extends xc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(D,B)=>this.onStorageEvent(D,B),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function nl(){const R=(0,N.z$)();return Vi(R)||Vr(R)}()&&function Dr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Or(),this._shouldAllowMigration=!0}forAllChangedKeys(D){for(const B of Object.keys(this.listeners)){const pe=this.storage.getItem(B),Ee=this.localCache[B];pe!==Ee&&D(B,Ee,pe)}}onStorageEvent(D,B=!1){if(!D.key)return void this.forAllChangedKeys((on,Zn,Vn)=>{this.notifyListeners(on,Vn)});const pe=D.key;if(B?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const on=this.storage.getItem(pe);if(D.newValue!==on)null!==D.newValue?this.storage.setItem(pe,D.newValue):this.storage.removeItem(pe);else if(this.localCache[pe]===D.newValue&&!B)return}const Ee=()=>{const on=this.storage.getItem(pe);!B&&this.localCache[pe]===on||this.notifyListeners(pe,on)},At=this.storage.getItem(pe);!function Ao(){return(0,N.w1)()&&10===document.documentMode}()||At===D.newValue||D.newValue===D.oldValue?Ee():setTimeout(Ee,10)}notifyListeners(D,B){this.localCache[D]=B;const pe=this.listeners[D];if(pe)for(const Ee of Array.from(pe))Ee(B&&JSON.parse(B))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((D,B,pe)=>{this.onStorageEvent(new StorageEvent("storage",{key:D,oldValue:B,newValue:pe}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(D,B){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[D]||(this.listeners[D]=new Set,this.localCache[D]=this.storage.getItem(D)),this.listeners[D].add(B)}_removeListener(D,B){this.listeners[D]&&(this.listeners[D].delete(B),0===this.listeners[D].size&&delete this.listeners[D]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(D,B){var pe=()=>super._set,Ee=this;return(0,p.Z)(function*(){yield pe().call(Ee,D,B),Ee.localCache[D]=JSON.stringify(B)})()}_get(D){var B=()=>super._get,pe=this;return(0,p.Z)(function*(){const Ee=yield B().call(pe,D);return pe.localCache[D]=JSON.stringify(Ee),Ee})()}_remove(D){var B=()=>super._remove,pe=this;return(0,p.Z)(function*(){yield B().call(pe,D),delete pe.localCache[D]})()}}return R.type="LOCAL",R})(),ga=(()=>{class R extends xc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(D,B){}_removeListener(D,B){}}return R.type="SESSION",R})();let kr=(()=>{class R{constructor(D){this.eventTarget=D,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(D){const B=this.receivers.find(Ee=>Ee.isListeningto(D));if(B)return B;const pe=new R(D);return this.receivers.push(pe),pe}isListeningto(D){return this.eventTarget===D}handleEvent(D){var B=this;return(0,p.Z)(function*(){const pe=D,{eventId:Ee,eventType:At,data:on}=pe.data,Zn=B.handlersMap[At];if(!Zn?.size)return;pe.ports[0].postMessage({status:"ack",eventId:Ee,eventType:At});const Vn=Array.from(Zn).map(function(){var gi=(0,p.Z)(function*(Er){return Er(pe.origin,on)});return function(Er){return gi.apply(this,arguments)}}()),Ei=yield function rl(R){return Promise.all(R.map(function(){var b=(0,p.Z)(function*(D){try{return{fulfilled:!0,value:yield D}}catch(B){return{fulfilled:!1,reason:B}}});return function(D){return b.apply(this,arguments)}}()))}(Vn);pe.ports[0].postMessage({status:"done",eventId:Ee,eventType:At,response:Ei})})()}_subscribe(D,B){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[D]||(this.handlersMap[D]=new Set),this.handlersMap[D].add(B)}_unsubscribe(D,B){this.handlersMap[D]&&B&&this.handlersMap[D].delete(B),(!B||0===this.handlersMap[D].size)&&delete this.handlersMap[D],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return R.receivers=[],R})();function Ci(R="",b=10){let D="";for(let B=0;B<b;B++)D+=Math.floor(10*Math.random());return R+D}class cs{constructor(b){this.target=b,this.handlers=new Set}removeMessageHandler(b){b.messageChannel&&(b.messageChannel.port1.removeEventListener("message",b.onMessage),b.messageChannel.port1.close()),this.handlers.delete(b)}_send(b,D,B=50){var pe=this;return(0,p.Z)(function*(){const Ee=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ee)throw new Error("connection_unavailable");let At,on;return new Promise((Zn,Vn)=>{const Ei=Ci("",20);Ee.port1.start();const gi=setTimeout(()=>{Vn(new Error("unsupported_event"))},B);on={messageChannel:Ee,onMessage(Er){const Bs=Er;if(Bs.data.eventId===Ei)switch(Bs.data.status){case"ack":clearTimeout(gi),At=setTimeout(()=>{Vn(new Error("timeout"))},3e3);break;case"done":clearTimeout(At),Zn(Bs.data.response);break;default:clearTimeout(gi),clearTimeout(At),Vn(new Error("invalid_response"))}}},pe.handlers.add(on),Ee.port1.addEventListener("message",on.onMessage),pe.target.postMessage({eventType:b,eventId:Ei,data:D},[Ee.port2])}).finally(()=>{on&&pe.removeMessageHandler(on)})})()}}function yi(){return window}function wr(){return typeof yi().WorkerGlobalScope<"u"&&"function"==typeof yi().importScripts}function qo(){return(qo=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ta="firebaseLocalStorageDb",ji="firebaseLocalStorage",bl="fbase_key";class Cl{constructor(b){this.request=b}toPromise(){return new Promise((b,D)=>{this.request.addEventListener("success",()=>{b(this.request.result)}),this.request.addEventListener("error",()=>{D(this.request.error)})})}}function Xl(R,b){return R.transaction([ji],b?"readwrite":"readonly").objectStore(ji)}function Ac(){const R=indexedDB.open(Ta,1);return new Promise((b,D)=>{R.addEventListener("error",()=>{D(R.error)}),R.addEventListener("upgradeneeded",()=>{const B=R.result;try{B.createObjectStore(ji,{keyPath:bl})}catch(pe){D(pe)}}),R.addEventListener("success",(0,p.Z)(function*(){const B=R.result;B.objectStoreNames.contains(ji)?b(B):(B.close(),yield function uo(){const R=indexedDB.deleteDatabase(Ta);return new Cl(R).toPromise()}(),b(yield Ac()))}))})}function Ps(R,b,D){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,p.Z)(function*(R,b,D){const B=Xl(R,!0).put({[bl]:b,value:D});return new Cl(B).toPromise()})).apply(this,arguments)}function wl(){return(wl=(0,p.Z)(function*(R,b){const D=Xl(R,!1).get(b),B=yield new Cl(D).toPromise();return void 0===B?null:B.value})).apply(this,arguments)}function an(R,b){const D=Xl(R,!0).delete(b);return new Cl(D).toPromise()}const sl=(()=>{class R{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var D=this;return(0,p.Z)(function*(){return D.db||(D.db=yield Ac()),D.db})()}_withRetries(D){var B=this;return(0,p.Z)(function*(){let pe=0;for(;;)try{const Ee=yield B._openDb();return yield D(Ee)}catch(Ee){if(pe++>3)throw Ee;B.db&&(B.db.close(),B.db=void 0)}})()}initializeServiceWorkerMessaging(){var D=this;return(0,p.Z)(function*(){return wr()?D.initializeReceiver():D.initializeSender()})()}initializeReceiver(){var D=this;return(0,p.Z)(function*(){D.receiver=kr._getInstance(function Qo(){return wr()?self:null}()),D.receiver._subscribe("keyChanged",function(){var B=(0,p.Z)(function*(pe,Ee){return{keyProcessed:(yield D._poll()).includes(Ee.key)}});return function(pe,Ee){return B.apply(this,arguments)}}()),D.receiver._subscribe("ping",function(){var B=(0,p.Z)(function*(pe,Ee){return["keyChanged"]});return function(pe,Ee){return B.apply(this,arguments)}}())})()}initializeSender(){var D=this;return(0,p.Z)(function*(){var B,pe;if(D.activeServiceWorker=yield function zn(){return qo.apply(this,arguments)}(),!D.activeServiceWorker)return;D.sender=new cs(D.activeServiceWorker);const Ee=yield D.sender._send("ping",{},800);!Ee||(null===(B=Ee[0])||void 0===B?void 0:B.fulfilled)&&(null===(pe=Ee[0])||void 0===pe?void 0:pe.value.includes("keyChanged"))&&(D.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(D){var B=this;return(0,p.Z)(function*(){if(B.sender&&B.activeServiceWorker&&function Da(){var R;return(null===(R=navigator?.serviceWorker)||void 0===R?void 0:R.controller)||null}()===B.activeServiceWorker)try{yield B.sender._send("keyChanged",{key:D},B.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const D=yield Ac();return yield Ps(D,vl,"1"),yield an(D,vl),!0}catch{}return!1})()}_withPendingWrite(D){var B=this;return(0,p.Z)(function*(){B.pendingWrites++;try{yield D()}finally{B.pendingWrites--}})()}_set(D,B){var pe=this;return(0,p.Z)(function*(){return pe._withPendingWrite((0,p.Z)(function*(){return yield pe._withRetries(Ee=>Ps(Ee,D,B)),pe.localCache[D]=B,pe.notifyServiceWorker(D)}))})()}_get(D){var B=this;return(0,p.Z)(function*(){const pe=yield B._withRetries(Ee=>function Ho(R,b){return wl.apply(this,arguments)}(Ee,D));return B.localCache[D]=pe,pe})()}_remove(D){var B=this;return(0,p.Z)(function*(){return B._withPendingWrite((0,p.Z)(function*(){return yield B._withRetries(pe=>an(pe,D)),delete B.localCache[D],B.notifyServiceWorker(D)}))})()}_poll(){var D=this;return(0,p.Z)(function*(){const B=yield D._withRetries(At=>{const on=Xl(At,!1).getAll();return new Cl(on).toPromise()});if(!B)return[];if(0!==D.pendingWrites)return[];const pe=[],Ee=new Set;for(const{fbase_key:At,value:on}of B)Ee.add(At),JSON.stringify(D.localCache[At])!==JSON.stringify(on)&&(D.notifyListeners(At,on),pe.push(At));for(const At of Object.keys(D.localCache))D.localCache[At]&&!Ee.has(At)&&(D.notifyListeners(At,null),pe.push(At));return pe})()}notifyListeners(D,B){this.localCache[D]=B;const pe=this.listeners[D];if(pe)for(const Ee of Array.from(pe))Ee(B)}startPolling(){var D=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return D._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(D,B){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[D]||(this.listeners[D]=new Set,this._get(D)),this.listeners[D].add(B)}_removeListener(D,B){this.listeners[D]&&(this.listeners[D].delete(B),0===this.listeners[D].size&&delete this.listeners[D]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return R.type="LOCAL",R})();function Sa(R,b){return at(R,"POST","/v2/accounts/mfaSignIn:start",ni(R,b))}function ec(){return(ec=(0,p.Z)(function*(R){return(yield at(R,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function qs(R){return new Promise((b,D)=>{const B=document.createElement("script");B.setAttribute("src",R),B.onload=b,B.onerror=pe=>{const Ee=qt("internal-error");Ee.customData=pe,D(Ee)},B.type="text/javascript",B.charset="UTF-8",function fo(){var R,b;return null!==(b=null===(R=document.getElementsByTagName("head"))||void 0===R?void 0:R[0])&&void 0!==b?b:document}().appendChild(B)})}function Vl(R){return`__${R}${Math.floor(1e6*Math.random())}`}const mo=1e12;class L{constructor(b){this.auth=b,this.counter=mo,this._widgets=new Map}render(b,D){const B=this.counter;return this._widgets.set(B,new F(b,this.auth.name,D||{})),this.counter++,B}reset(b){var D;const B=b||mo;null===(D=this._widgets.get(B))||void 0===D||D.delete(),this._widgets.delete(B)}getResponse(b){var D;return(null===(D=this._widgets.get(b||mo))||void 0===D?void 0:D.getResponse())||""}execute(b){var D=this;return(0,p.Z)(function*(){var B;return null===(B=D._widgets.get(b||mo))||void 0===B||B.execute(),""})()}}class F{constructor(b,D,B){this.params=B,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const pe="string"==typeof b?document.getElementById(b):b;Gt(pe,"argument-error",{appName:D}),this.container=pe,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function I(R){const b=[],D="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let B=0;B<R;B++)b.push(D.charAt(Math.floor(Math.random()*D.length)));return b.join("")}(50);const{callback:b,"expired-callback":D}=this.params;if(b)try{b(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,D)try{D()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const H=Vl("rcb"),te=new Cn(3e4,6e4);class nt{constructor(){var b;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(b=yi().grecaptcha)||void 0===b||!b.render)}load(b,D=""){return Gt(function ft(R){return R.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(R)}(D),b,"argument-error"),this.shouldResolveImmediately(D)?Promise.resolve(yi().grecaptcha):new Promise((B,pe)=>{const Ee=yi().setTimeout(()=>{pe(qt(b,"network-request-failed"))},te.get());yi()[H]=()=>{yi().clearTimeout(Ee),delete yi()[H];const on=yi().grecaptcha;if(!on)return void pe(qt(b,"internal-error"));const Zn=on.render;on.render=(Vn,Ei)=>{const gi=Zn(Vn,Ei);return this.counter++,gi},this.hostLanguage=D,B(on)},qs(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:H,render:"explicit",hl:D})}`).catch(()=>{clearTimeout(Ee),pe(qt(b,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(b){var D;return!(null===(D=yi().grecaptcha)||void 0===D||!D.render)&&(b===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Yt{load(b){return(0,p.Z)(function*(){return new L(b)})()}clearedOneInstance(){}}const An="recaptcha",ai={theme:"light",type:"image"};class Wn{constructor(b,D=Object.assign({},ai),B){this.parameters=D,this.type=An,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Yi(B),this.isInvisible="invisible"===this.parameters.size,Gt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const pe="string"==typeof b?document.getElementById(b):b;Gt(pe,this.auth,"argument-error"),this.container=pe,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Yt:new nt,this.validateStartingState()}verify(){var b=this;return(0,p.Z)(function*(){b.assertNotDestroyed();const D=yield b.render(),B=b.getAssertedRecaptcha();return B.getResponse(D)||new Promise(Ee=>{const At=on=>{!on||(b.tokenChangeListeners.delete(At),Ee(on))};b.tokenChangeListeners.add(At),b.isInvisible&&B.execute(D)})})()}render(){try{this.assertNotDestroyed()}catch(b){return Promise.reject(b)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(b=>{throw this.renderPromise=null,b})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(b=>{this.container.removeChild(b)})}validateStartingState(){Gt(!this.parameters.sitekey,this.auth,"argument-error"),Gt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Gt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(b){return D=>{if(this.tokenChangeListeners.forEach(B=>B(D)),"function"==typeof b)b(D);else if("string"==typeof b){const B=yi()[b];"function"==typeof B&&B(D)}}}assertNotDestroyed(){Gt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var b=this;return(0,p.Z)(function*(){if(yield b.init(),!b.widgetId){let D=b.container;if(!b.isInvisible){const B=document.createElement("div");D.appendChild(B),D=B}b.widgetId=b.getAssertedRecaptcha().render(D,b.parameters)}return b.widgetId})()}init(){var b=this;return(0,p.Z)(function*(){Gt(Ct()&&!wr(),b.auth,"internal-error"),yield function ci(){let R=null;return new Promise(b=>{"complete"!==document.readyState?(R=()=>b(),window.addEventListener("load",R)):b()}).catch(b=>{throw R&&window.removeEventListener("load",R),b})}(),b.recaptcha=yield b._recaptchaLoader.load(b.auth,b.auth.languageCode||void 0);const D=yield function ho(R){return ec.apply(this,arguments)}(b.auth);Gt(D,b.auth,"internal-error"),b.parameters.sitekey=D})()}getAssertedRecaptcha(){return Gt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ui{constructor(b,D){this.verificationId=b,this.onConfirmation=D}confirm(b){const D=Ai._fromVerification(this.verificationId,b);return this.onConfirmation(D)}}function Tr(R,b,D){return So.apply(this,arguments)}function So(){return(So=(0,p.Z)(function*(R,b,D){const B=Yi(R),pe=yield Jr(B,b,(0,N.m9)(D));return new Ui(pe,Ee=>rs(B,Ee))})).apply(this,arguments)}function jr(R,b,D){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,p.Z)(function*(R,b,D){const B=(0,N.m9)(R);yield nn(!1,B,"phone");const pe=yield Jr(B.auth,b,(0,N.m9)(D));return new Ui(pe,Ee=>er(B,Ee))})).apply(this,arguments)}function Ns(R,b,D){return va.apply(this,arguments)}function va(){return(va=(0,p.Z)(function*(R,b,D){const B=(0,N.m9)(R),pe=yield Jr(B.auth,b,(0,N.m9)(D));return new Ui(pe,Ee=>Tc(B,Ee))})).apply(this,arguments)}function Jr(R,b,D){return tc.apply(this,arguments)}function tc(){return(tc=(0,p.Z)(function*(R,b,D){var B;const pe=yield D.verify();try{let Ee;if(Gt("string"==typeof pe,R,"argument-error"),Gt(D.type===An,R,"argument-error"),Ee="string"==typeof b?{phoneNumber:b}:b,"session"in Ee){const At=Ee.session;if("phoneNumber"in Ee)return Gt("enroll"===At.type,R,"internal-error"),(yield Mn(R,{idToken:At.credential,phoneEnrollmentInfo:{phoneNumber:Ee.phoneNumber,recaptchaToken:pe}})).phoneSessionInfo.sessionInfo;{Gt("signin"===At.type,R,"internal-error");const on=(null===(B=Ee.multiFactorHint)||void 0===B?void 0:B.uid)||Ee.multiFactorUid;return Gt(on,R,"missing-multi-factor-info"),(yield Sa(R,{mfaPendingCredential:At.credential,mfaEnrollmentId:on,phoneSignInInfo:{recaptchaToken:pe}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:At}=yield Wr(R,{phoneNumber:Ee.phoneNumber,recaptchaToken:pe});return At}}finally{D._reset()}})).apply(this,arguments)}function Ul(R,b){return Z.apply(this,arguments)}function Z(){return(Z=(0,p.Z)(function*(R,b){yield $((0,N.m9)(R),b)})).apply(this,arguments)}let re=(()=>{class R{constructor(D){this.providerId=R.PROVIDER_ID,this.auth=Yi(D)}verifyPhoneNumber(D,B){return Jr(this.auth,D,(0,N.m9)(B))}static credential(D,B){return Ai._fromVerification(D,B)}static credentialFromResult(D){return R.credentialFromTaggedObject(D)}static credentialFromError(D){return R.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{phoneNumber:B,temporaryProof:pe}=D;return B&&pe?Ai._fromTokenResponse(B,pe):null}}return R.PROVIDER_ID="phone",R.PHONE_SIGN_IN_METHOD="phone",R})();function Ie(R,b){return b?ee(b):(Gt(R._popupRedirectResolver,R,"argument-error"),R._popupRedirectResolver)}class lt extends Pt{constructor(b){super("custom","custom"),this.params=b}_getIdTokenResponse(b){return Is(b,this._buildIdpRequest())}_linkToIdToken(b,D){return Is(b,this._buildIdpRequest(D))}_getReauthenticationResolver(b){return Is(b,this._buildIdpRequest())}_buildIdpRequest(b){const D={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return b&&(D.idToken=b),D}}function Ft(R){return Lr(R.auth,new lt(R),R.bypassAuthState)}function ln(R){const{auth:b,user:D}=R;return Gt(D,b,"internal-error"),Cr(D,new lt(R),R.bypassAuthState)}function In(R){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,p.Z)(function*(R){const{auth:b,user:D}=R;return Gt(D,b,"internal-error"),$(D,new lt(R),R.bypassAuthState)})).apply(this,arguments)}class _i{constructor(b,D,B,pe,Ee=!1){this.auth=b,this.resolver=B,this.user=pe,this.bypassAuthState=Ee,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(D)?D:[D]}execute(){var b=this;return new Promise(function(){var D=(0,p.Z)(function*(B,pe){b.pendingPromise={resolve:B,reject:pe};try{b.eventManager=yield b.resolver._initialize(b.auth),yield b.onExecution(),b.eventManager.registerConsumer(b)}catch(Ee){b.reject(Ee)}});return function(B,pe){return D.apply(this,arguments)}}())}onAuthEvent(b){var D=this;return(0,p.Z)(function*(){const{urlResponse:B,sessionId:pe,postBody:Ee,tenantId:At,error:on,type:Zn}=b;if(on)return void D.reject(on);const Vn={auth:D.auth,requestUri:B,sessionId:pe,tenantId:At||void 0,postBody:Ee||void 0,user:D.user,bypassAuthState:D.bypassAuthState};try{D.resolve(yield D.getIdpTask(Zn)(Vn))}catch(Ei){D.reject(Ei)}})()}onError(b){this.reject(b)}getIdpTask(b){switch(b){case"signInViaPopup":case"signInViaRedirect":return Ft;case"linkViaPopup":case"linkViaRedirect":return In;case"reauthViaPopup":case"reauthViaRedirect":return ln;default:It(this.auth,"internal-error")}}resolve(b){Dn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(b),this.unregisterAndCleanUp()}reject(b){Dn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(b),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fi=new Cn(2e3,1e4);function Ri(R,b,D){return wi.apply(this,arguments)}function wi(){return(wi=(0,p.Z)(function*(R,b,D){const B=Yi(R);Ht(R,b,Co);const pe=Ie(B,D);return new ol(B,"signInViaPopup",b,pe).executeNotNull()})).apply(this,arguments)}function ms(R,b,D){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,p.Z)(function*(R,b,D){const B=(0,N.m9)(R);Ht(B.auth,b,Co);const pe=Ie(B.auth,D);return new ol(B.auth,"reauthViaPopup",b,pe,B).executeNotNull()})).apply(this,arguments)}function Xo(R,b,D){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,p.Z)(function*(R,b,D){const B=(0,N.m9)(R);Ht(B.auth,b,Co);const pe=Ie(B.auth,D);return new ol(B.auth,"linkViaPopup",b,pe,B).executeNotNull()})).apply(this,arguments)}let ol=(()=>{class R extends _i{constructor(D,B,pe,Ee,At){super(D,B,Ee,At),this.provider=pe,this.authWindow=null,this.pollId=null,R.currentPopupAction&&R.currentPopupAction.cancel(),R.currentPopupAction=this}executeNotNull(){var D=this;return(0,p.Z)(function*(){const B=yield D.execute();return Gt(B,D.auth,"internal-error"),B})()}onExecution(){var D=this;return(0,p.Z)(function*(){Dn(1===D.filter.length,"Popup operations only handle one event");const B=Ci();D.authWindow=yield D.resolver._openPopup(D.auth,D.provider,D.filter[0],B),D.authWindow.associatedEvent=B,D.resolver._originValidation(D.auth).catch(pe=>{D.reject(pe)}),D.resolver._isIframeWebStorageSupported(D.auth,pe=>{pe||D.reject(qt(D.auth,"web-storage-unsupported"))}),D.pollUserCancellation()})()}get eventId(){var D;return(null===(D=this.authWindow)||void 0===D?void 0:D.associatedEvent)||null}cancel(){this.reject(qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,R.currentPopupAction=null}pollUserCancellation(){const D=()=>{var B,pe;this.pollId=null!==(pe=null===(B=this.authWindow)||void 0===B?void 0:B.window)&&void 0!==pe&&pe.closed?window.setTimeout(()=>{this.pollId=null,this.reject(qt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(D,Fi.get())};D()}}return R.currentPopupAction=null,R})();const ja=new Map;class nc extends _i{constructor(b,D,B=!1){super(b,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],D,void 0,B),this.eventId=null}execute(){var b=()=>super.execute,D=this;return(0,p.Z)(function*(){let B=ja.get(D.auth._key());if(!B){try{const Ee=(yield function us(R,b){return $a.apply(this,arguments)}(D.resolver,D.auth))?yield b().call(D):null;B=()=>Promise.resolve(Ee)}catch(pe){B=()=>Promise.reject(pe)}ja.set(D.auth._key(),B)}return D.bypassAuthState||ja.set(D.auth._key(),()=>Promise.resolve(null)),B()})()}onAuthEvent(b){var D=()=>super.onAuthEvent,B=this;return(0,p.Z)(function*(){if("signInViaRedirect"===b.type)return D().call(B,b);if("unknown"!==b.type){if(b.eventId){const pe=yield B.auth._redirectUserForId(b.eventId);if(pe)return B.user=pe,D().call(B,b);B.resolve(null)}}else B.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function $a(){return($a=(0,p.Z)(function*(R,b){const D=Oc(b),B=xd(R);if(!(yield B._isAvailable()))return!1;const pe="true"===(yield B._get(D));return yield B._remove(D),pe})).apply(this,arguments)}function vr(R,b){return uu.apply(this,arguments)}function uu(){return(uu=(0,p.Z)(function*(R,b){return xd(R)._set(Oc(b),"true")})).apply(this,arguments)}function _h(){ja.clear()}function ic(R,b){ja.set(R._key(),b)}function xd(R){return ee(R._redirectPersistence)}function Oc(R){return hr("pendingRedirect",R.config.apiKey,R.name)}function du(R,b,D){return function zu(R,b,D){return Ad.apply(this,arguments)}(R,b,D)}function Ad(){return(Ad=(0,p.Z)(function*(R,b,D){const B=Yi(R);Ht(R,b,Co);const pe=Ie(B,D);return yield vr(pe,B),pe._openRedirect(B,b,"signInViaRedirect")})).apply(this,arguments)}function vh(R,b,D){return function go(R,b,D){return sf.apply(this,arguments)}(R,b,D)}function sf(){return(sf=(0,p.Z)(function*(R,b,D){const B=(0,N.m9)(R);Ht(B.auth,b,Co);const pe=Ie(B.auth,D);yield vr(pe,B.auth);const Ee=yield El(B);return pe._openRedirect(B.auth,b,"reauthViaRedirect",Ee)})).apply(this,arguments)}function yg(R,b,D){return function kd(R,b,D){return yh.apply(this,arguments)}(R,b,D)}function yh(){return(yh=(0,p.Z)(function*(R,b,D){const B=(0,N.m9)(R);Ht(B.auth,b,Co);const pe=Ie(B.auth,D);yield nn(!1,B,b.providerId),yield vr(pe,B.auth);const Ee=yield El(B);return pe._openRedirect(B.auth,b,"linkViaRedirect",Ee)})).apply(this,arguments)}function af(R,b){return lp.apply(this,arguments)}function lp(){return(lp=(0,p.Z)(function*(R,b){return yield Yi(R)._initializationPromise,Rd(R,b,!1)})).apply(this,arguments)}function Rd(R,b){return bh.apply(this,arguments)}function bh(){return(bh=(0,p.Z)(function*(R,b,D=!1){const B=Yi(R),pe=Ie(B,b),At=yield new nc(B,pe,D).execute();return At&&!D&&(delete At.user._redirectEventId,yield B._persistUserIfCurrent(At.user),yield B._setRedirectUser(null,b)),At})).apply(this,arguments)}function El(R){return al.apply(this,arguments)}function al(){return(al=(0,p.Z)(function*(R){const b=Ci(`${R.uid}:::`);return R._redirectEventId=b,yield R.auth._setRedirectUser(R),yield R.auth._persistUserIfCurrent(R),b})).apply(this,arguments)}class hu{constructor(b){this.auth=b,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(b){this.consumers.add(b),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,b)&&(this.sendToConsumer(this.queuedRedirectEvent,b),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(b){this.consumers.delete(b)}onEvent(b){if(this.hasEventBeenHandled(b))return!1;let D=!1;return this.consumers.forEach(B=>{this.isEventForConsumer(b,B)&&(D=!0,this.sendToConsumer(b,B),this.saveEventToCache(b))}),this.hasHandledPotentialRedirect||!function bg(R){switch(R.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rc(R);default:return!1}}(b)||(this.hasHandledPotentialRedirect=!0,D||(this.queuedRedirectEvent=b,D=!0)),D}sendToConsumer(b,D){var B;if(b.error&&!rc(b)){const pe=(null===(B=b.error.code)||void 0===B?void 0:B.split("auth/")[1])||"internal-error";D.onError(qt(this.auth,pe))}else D.onAuthEvent(b)}isEventForConsumer(b,D){const B=null===D.eventId||!!b.eventId&&b.eventId===D.eventId;return D.filter.includes(b.type)&&B}hasEventBeenHandled(b){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ch(b))}saveEventToCache(b){this.cachedEventUids.add(Ch(b)),this.lastProcessedEventTime=Date.now()}}function Ch(R){return[R.type,R.eventId,R.sessionId,R.tenantId].filter(b=>b).join("-")}function rc({type:R,error:b}){return"unknown"===R&&"auth/no-auth-event"===b?.code}function Hl(R){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,p.Z)(function*(R,b={}){return at(R,"GET","/v1/projects",b)})).apply(this,arguments)}const Qs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wu=/^https?/;function Fs(){return(Fs=(0,p.Z)(function*(R){if(R.config.emulator)return;const{authorizedDomains:b}=yield Hl(R);for(const D of b)try{if(Jo(D))return}catch{}It(R,"unauthorized-domain")})).apply(this,arguments)}function Jo(R){const b=Be(),{protocol:D,hostname:B}=new URL(b);if(R.startsWith("chrome-extension://")){const At=new URL(R);return""===At.hostname&&""===B?"chrome-extension:"===D&&R.replace("chrome-extension://","")===b.replace("chrome-extension://",""):"chrome-extension:"===D&&At.hostname===B}if(!Wu.test(D))return!1;if(Qs.test(R))return B===R;const pe=R.replace(/\./g,"\\.");return new RegExp("^(.+\\."+pe+"|"+pe+")$","i").test(B)}const Ku=new Cn(3e4,6e4);function fu(){const R=yi().___jsl;if(R?.H)for(const b of Object.keys(R.H))if(R.H[b].r=R.H[b].r||[],R.H[b].L=R.H[b].L||[],R.H[b].r=[...R.H[b].L],R.CP)for(let D=0;D<R.CP.length;D++)R.CP[D]=null}let pu=null;function Dl(R){return pu=pu||function cf(R){return new Promise((b,D)=>{var B,pe,Ee;function At(){fu(),gapi.load("gapi.iframes",{callback:()=>{b(gapi.iframes.getContext())},ontimeout:()=>{fu(),D(qt(R,"network-request-failed"))},timeout:Ku.get()})}if(null!==(pe=null===(B=yi().gapi)||void 0===B?void 0:B.iframes)&&void 0!==pe&&pe.Iframe)b(gapi.iframes.getContext());else{if(null===(Ee=yi().gapi)||void 0===Ee||!Ee.load){const on=Vl("iframefcb");return yi()[on]=()=>{gapi.load?At():D(qt(R,"network-request-failed"))},qs(`https://apis.google.com/js/api.js?onload=${on}`).catch(Zn=>D(Zn))}At()}}).catch(b=>{throw pu=null,b})}(R),pu}const mu=new Cn(5e3,15e3),up={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},df=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zu(R){const b=R.config;Gt(b.authDomain,R,"auth-domain-config-required");const D=b.emulator?pn(b,"emulator/auth/iframe"):`https://${R.config.authDomain}/__/auth/iframe`,B={apiKey:b.apiKey,appName:R.name,v:_.SDK_VERSION},pe=df.get(R.config.apiHost);pe&&(B.eid=pe);const Ee=R._getFrameworks();return Ee.length&&(B.fw=Ee.join(",")),`${D}?${(0,N.xO)(B).slice(1)}`}function wh(){return wh=(0,p.Z)(function*(R){const b=yield Dl(R),D=yi().gapi;return Gt(D,R,"internal-error"),b.open({where:document.body,url:Zu(R),messageHandlersFilter:D.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:up,dontclear:!0},B=>new Promise(function(){var pe=(0,p.Z)(function*(Ee,At){yield B.restyle({setHideOnLeave:!1});const on=qt(R,"network-request-failed"),Zn=yi().setTimeout(()=>{At(on)},mu.get());function Vn(){yi().clearTimeout(Zn),Ee(B)}B.ping(Vn).then(Vn,()=>{At(on)})});return function(Ee,At){return pe.apply(this,arguments)}}()))}),wh.apply(this,arguments)}const um={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $o{constructor(b){this.window=b,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jl(R,b,D,B,pe,Ee){Gt(R.config.authDomain,R,"auth-domain-config-required"),Gt(R.config.apiKey,R,"invalid-api-key");const At={apiKey:R.config.apiKey,appName:R.name,authType:D,redirectUrl:B,v:_.SDK_VERSION,eventId:pe};if(b instanceof Co){b.setDefaultLanguage(R.languageCode),At.providerId=b.providerId||"",(0,N.xb)(b.getCustomParameters())||(At.customParameters=JSON.stringify(b.getCustomParameters()));for(const[Zn,Vn]of Object.entries(Ee||{}))At[Zn]=Vn}if(b instanceof ks){const Zn=b.getScopes().filter(Vn=>""!==Vn);Zn.length>0&&(At.scopes=Zn.join(","))}R.tenantId&&(At.tid=R.tenantId);const on=At;for(const Zn of Object.keys(on))void 0===on[Zn]&&delete on[Zn];return`${function Cg({config:R}){return R.emulator?pn(R,"emulator/auth/handler"):`https://${R.authDomain}/__/auth/handler`}(R)}?${(0,N.xO)(on).slice(1)}`}const dp="webStorageSupport",Tl=class os{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ga,this._completeRedirectFn=Rd,this._overrideRedirectResult=ic}_openPopup(b,D,B,pe){var Ee=this;return(0,p.Z)(function*(){var At;Dn(null===(At=Ee.eventManagers[b._key()])||void 0===At?void 0:At.manager,"_initialize() not called before _openPopup()");const on=jl(b,D,B,Be(),pe);return function Nc(R,b,D,B=500,pe=600){const Ee=Math.max((window.screen.availHeight-pe)/2,0).toString(),At=Math.max((window.screen.availWidth-B)/2,0).toString();let on="";const Zn=Object.assign(Object.assign({},um),{width:B.toString(),height:pe.toString(),top:Ee,left:At}),Vn=(0,N.z$)().toLowerCase();D&&(on=to(Vn)?"_blank":D),ns(Vn)&&(b=b||"http://localhost",Zn.scrollbars="yes");const Ei=Object.entries(Zn).reduce((Er,[Bs,Xs])=>`${Er}${Bs}=${Xs},`,"");if(function or(R=(0,N.z$)()){var b;return Vr(R)&&!(null===(b=window.navigator)||void 0===b||!b.standalone)}(Vn)&&"_self"!==on)return function sc(R,b){const D=document.createElement("a");D.href=R,D.target=b;const B=document.createEvent("MouseEvent");B.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),D.dispatchEvent(B)}(b||"",on),new $o(null);const gi=window.open(b||"",on,Ei);Gt(gi,R,"popup-blocked");try{gi.focus()}catch{}return new $o(gi)}(b,on,Ci())})()}_openRedirect(b,D,B,pe){var Ee=this;return(0,p.Z)(function*(){return yield Ee._originValidation(b),function co(R){yi().location.href=R}(jl(b,D,B,Be(),pe)),new Promise(()=>{})})()}_initialize(b){const D=b._key();if(this.eventManagers[D]){const{manager:pe,promise:Ee}=this.eventManagers[D];return pe?Promise.resolve(pe):(Dn(Ee,"If manager is not set, promise should be"),Ee)}const B=this.initAndGetManager(b);return this.eventManagers[D]={promise:B},B.catch(()=>{delete this.eventManagers[D]}),B}initAndGetManager(b){var D=this;return(0,p.Z)(function*(){const B=yield function Od(R){return wh.apply(this,arguments)}(b),pe=new hu(b);return B.register("authEvent",Ee=>(Gt(Ee?.authEvent,b,"invalid-auth-event"),{status:pe.onEvent(Ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),D.eventManagers[b._key()]={manager:pe},D.iframes[b._key()]=B,pe})()}_isIframeWebStorageSupported(b,D){this.iframes[b._key()].send(dp,{type:dp},pe=>{var Ee;const At=null===(Ee=pe?.[0])||void 0===Ee?void 0:Ee[dp];void 0!==At&&D(!!At),It(b,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(b){const D=b._key();return this.originValidationPromises[D]||(this.originValidationPromises[D]=function Yu(R){return Fs.apply(this,arguments)}(b)),this.originValidationPromises[D]}get _shouldInitProactively(){return Or()||Vi()||Vr()}};class Dh extends class Lc{constructor(b){this.factorId=b}_process(b,D,B){switch(D.type){case"enroll":return this._finalizeEnroll(b,D.credential,B);case"signin":return this._finalizeSignIn(b,D.credential);default:return $n("unexpected MultiFactorSessionType")}}}{constructor(b){super("phone"),this.credential=b}static _fromCredential(b){return new Dh(b)}_finalizeEnroll(b,D,B){return function Ar(R,b){return at(R,"POST","/v2/accounts/mfaEnrollment:finalize",ni(R,b))}(b,{idToken:D,displayName:B,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(b,D){return function To(R,b){return at(R,"POST","/v2/accounts/mfaSignIn:finalize",ni(R,b))}(b,{mfaPendingCredential:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Xu=(()=>{class R{constructor(){}static assertion(D){return Dh._fromCredential(D)}}return R.FACTOR_ID="phone",R})();var Ju="@firebase/auth",hp="0.20.11";class fp{constructor(b){this.auth=b,this.internalListeners=new Map}getUid(){var b;return this.assertAuthConfigured(),(null===(b=this.auth.currentUser)||void 0===b?void 0:b.uid)||null}getToken(b){var D=this;return(0,p.Z)(function*(){return D.assertAuthConfigured(),yield D.auth._initializationPromise,D.auth.currentUser?{accessToken:yield D.auth.currentUser.getIdToken(b)}:null})()}addAuthTokenListener(b){if(this.assertAuthConfigured(),this.internalListeners.has(b))return;const D=this.auth.onIdTokenChanged(B=>{var pe;b((null===(pe=B)||void 0===pe?void 0:pe.stsTokenManager.accessToken)||null)});this.internalListeners.set(b,D),this.updateProactiveRefresh()}removeAuthTokenListener(b){this.assertAuthConfigured();const D=this.internalListeners.get(b);!D||(this.internalListeners.delete(b),D(),this.updateProactiveRefresh())}assertAuthConfigured(){Gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,N.Pz)("authIdTokenMaxAge"),function ll(R){(0,_._registerComponent)(new bn.wA("auth",(b,{options:D})=>{const B=b.getProvider("app").getImmediate(),pe=b.getProvider("heartbeat"),{apiKey:Ee,authDomain:At}=B.options;return((on,Zn)=>{Gt(Ee&&!Ee.includes(":"),"invalid-api-key",{appName:on.name}),Gt(!At?.includes(":"),"argument-error",{appName:on.name});const Vn={apiKey:Ee,authDomain:At,clientPlatform:R,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ko(R)},Ei=new gs(on,Zn,Vn);return function Le(R,b){const D=b?.persistence||[],B=(Array.isArray(D)?D:[D]).map(ee);b?.errorMap&&R._updateErrorMap(b.errorMap),R._initializeWithPersistence(B,b?.popupRedirectResolver)}(Ei,D),Ei})(B,pe)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((b,D,B)=>{b.getProvider("auth-internal").initialize()})),(0,_._registerComponent)(new bn.wA("auth-internal",b=>{const D=Yi(b.getProvider("auth").getImmediate());return new fp(D)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,_.registerVersion)(Ju,hp,function Pd(R){switch(R){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(R)),(0,_.registerVersion)(Ju,hp,"esm2017")}("Browser")},2090:(_n,vt,k)=>{"use strict";k.d(vt,{$s:()=>rt,BH:()=>Nn,DV:()=>Gt,Dv:()=>di,G6:()=>et,GJ:()=>Ht,L:()=>fe,LL:()=>Ue,Pz:()=>oi,Sg:()=>rn,UG:()=>ut,UI:()=>Dn,US:()=>J,Wj:()=>at,Wl:()=>tn,Yr:()=>yt,ZB:()=>me,ZR:()=>Re,aH:()=>jn,b$:()=>mt,cI:()=>St,dS:()=>be,eu:()=>pt,g5:()=>_,gK:()=>hi,gQ:()=>Zt,h$:()=>we,hl:()=>Ve,hu:()=>N,jU:()=>je,lb:()=>Jt,m9:()=>$t,ne:()=>hn,p$:()=>ae,pd:()=>Ct,r3:()=>En,ru:()=>ct,tV:()=>Se,uI:()=>Ke,ug:()=>Ne,vZ:()=>gt,w1:()=>ht,w9:()=>Mt,xO:()=>Le,xb:()=>$n,z$:()=>Pe,zI:()=>tt,zd:()=>Be});const N=function(ge,j){if(!ge)throw _(j)},_=function(ge){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+ge)},ne=function(ge){const j=[];let G=0;for(let X=0;X<ge.length;X++){let K=ge.charCodeAt(X);K<128?j[G++]=K:K<2048?(j[G++]=K>>6|192,j[G++]=63&K|128):55296==(64512&K)&&X+1<ge.length&&56320==(64512&ge.charCodeAt(X+1))?(K=65536+((1023&K)<<10)+(1023&ge.charCodeAt(++X)),j[G++]=K>>18|240,j[G++]=K>>12&63|128,j[G++]=K>>6&63|128,j[G++]=63&K|128):(j[G++]=K>>12|224,j[G++]=K>>6&63|128,j[G++]=63&K|128)}return j},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ge,j){if(!Array.isArray(ge))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,X=[];for(let K=0;K<ge.length;K+=3){const he=ge[K],Xe=K+1<ge.length,Et=Xe?ge[K+1]:0,dn=K+2<ge.length,fn=dn?ge[K+2]:0;let He=(15&Et)<<2|fn>>6,Ye=63&fn;dn||(Ye=64,Xe||(He=64)),X.push(G[he>>2],G[(3&he)<<4|Et>>4],G[He],G[Ye])}return X.join("")},encodeString(ge,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(ge):this.encodeByteArray(ne(ge),j)},decodeString(ge,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(ge):function(ge){const j=[];let G=0,X=0;for(;G<ge.length;){const K=ge[G++];if(K<128)j[X++]=String.fromCharCode(K);else if(K>191&&K<224){const he=ge[G++];j[X++]=String.fromCharCode((31&K)<<6|63&he)}else if(K>239&&K<365){const dn=((7&K)<<18|(63&ge[G++])<<12|(63&ge[G++])<<6|63&ge[G++])-65536;j[X++]=String.fromCharCode(55296+(dn>>10)),j[X++]=String.fromCharCode(56320+(1023&dn))}else{const he=ge[G++],Xe=ge[G++];j[X++]=String.fromCharCode((15&K)<<12|(63&he)<<6|63&Xe)}}return j.join("")}(this.decodeStringToByteArray(ge,j))},decodeStringToByteArray(ge,j){this.init_();const G=j?this.charToByteMapWebSafe_:this.charToByteMap_,X=[];for(let K=0;K<ge.length;){const he=G[ge.charAt(K++)],Et=K<ge.length?G[ge.charAt(K)]:0;++K;const fn=K<ge.length?G[ge.charAt(K)]:64;++K;const $e=K<ge.length?G[ge.charAt(K)]:64;if(++K,null==he||null==Et||null==fn||null==$e)throw Error();X.push(he<<2|Et>>4),64!==fn&&(X.push(Et<<4&240|fn>>2),64!==$e&&X.push(fn<<6&192|$e))}return X},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ge=0;ge<this.ENCODED_VALS.length;ge++)this.byteToCharMap_[ge]=this.ENCODED_VALS.charAt(ge),this.charToByteMap_[this.byteToCharMap_[ge]]=ge,this.byteToCharMapWebSafe_[ge]=this.ENCODED_VALS_WEBSAFE.charAt(ge),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ge]]=ge,ge>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ge)]=ge,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ge)]=ge)}}},we=function(ge){const j=ne(ge);return J.encodeByteArray(j,!0)},fe=function(ge){return we(ge).replace(/\./g,"")},Se=function(ge){try{return J.decodeString(ge,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function ae(ge){return me(void 0,ge)}function me(ge,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===ge&&(ge={});break;case Array:ge=[];break;default:return j}for(const G in j)!j.hasOwnProperty(G)||!ye(G)||(ge[G]=me(ge[G],j[G]));return ge}function ye(ge){return"__proto__"!==ge}function Pe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ke(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function ut(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function je(){return"object"==typeof self&&self.self===self}function ct(){const ge="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ge&&void 0!==ge.id}function mt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ht(){const ge=Pe();return ge.indexOf("MSIE ")>=0||ge.indexOf("Trident/")>=0}function yt(){return!1}function et(){return!ut()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ve(){return"object"==typeof indexedDB}function pt(){return new Promise((ge,j)=>{try{let G=!0;const X="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(X);K.onsuccess=()=>{K.result.close(),G||self.indexedDB.deleteDatabase(X),ge(!0)},K.onupgradeneeded=()=>{G=!1},K.onerror=()=>{var he;j((null===(he=K.error)||void 0===he?void 0:he.message)||"")}}catch(G){j(G)}})}function tt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Vt=()=>{try{return function Qe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ge=process.env.__FIREBASE_DEFAULTS__;return ge?JSON.parse(ge):void 0})()||(()=>{if(typeof document>"u")return;let ge;try{ge=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=ge&&Se(ge[1]);return j&&JSON.parse(j)})()}catch(ge){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ge}`)}},jn=()=>{var ge;return null===(ge=Vt())||void 0===ge?void 0:ge.config},oi=ge=>{var j;return null===(j=Vt())||void 0===j?void 0:j[`_${ge}`]};class Nn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,G)=>{this.resolve=j,this.reject=G})}wrapCallback(j){return(G,X)=>{G?this.reject(G):this.resolve(X),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(G):j(G,X))}}}function rn(ge,j){if(ge.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const X=j||"demo-project",K=ge.iat||0,he=ge.sub||ge.user_id;if(!he)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Xe=Object.assign({iss:`https://securetoken.google.com/${X}`,aud:X,iat:K,exp:K+3600,auth_time:K,sub:he,user_id:he,firebase:{sign_in_provider:"custom",identities:{}}},ge);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(Xe)),""].join(".")}class Re extends Error{constructor(j,G,X){super(G),this.code=j,this.customData=X,this.name="FirebaseError",Object.setPrototypeOf(this,Re.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ue.prototype.create)}}class Ue{constructor(j,G,X){this.service=j,this.serviceName=G,this.errors=X}create(j,...G){const X=G[0]||{},K=`${this.service}/${j}`,he=this.errors[j],Xe=he?function Fe(ge,j){return ge.replace(Ze,(G,X)=>{const K=j[X];return null!=K?String(K):`<${X}?>`})}(he,X):"Error";return new Re(K,`${this.serviceName}: ${Xe} (${K}).`,X)}}const Ze=/\{\$([^}]+)}/g;function St(ge){return JSON.parse(ge)}function tn(ge){return JSON.stringify(ge)}const Ln=function(ge){let j={},G={},X={},K="";try{const he=ge.split(".");j=St(Se(he[0])||""),G=St(Se(he[1])||""),K=he[2],X=G.d||{},delete G.d}catch{}return{header:j,claims:G,data:X,signature:K}},Mt=function(ge){const G=Ln(ge).claims;return!!G&&"object"==typeof G&&G.hasOwnProperty("iat")},Ht=function(ge){const j=Ln(ge).claims;return"object"==typeof j&&!0===j.admin};function En(ge,j){return Object.prototype.hasOwnProperty.call(ge,j)}function Gt(ge,j){if(Object.prototype.hasOwnProperty.call(ge,j))return ge[j]}function $n(ge){for(const j in ge)if(Object.prototype.hasOwnProperty.call(ge,j))return!1;return!0}function Dn(ge,j,G){const X={};for(const K in ge)Object.prototype.hasOwnProperty.call(ge,K)&&(X[K]=j.call(G,ge[K],K,ge));return X}function gt(ge,j){if(ge===j)return!0;const G=Object.keys(ge),X=Object.keys(j);for(const K of G){if(!X.includes(K))return!1;const he=ge[K],Xe=j[K];if(ee(he)&&ee(Xe)){if(!gt(he,Xe))return!1}else if(he!==Xe)return!1}for(const K of X)if(!G.includes(K))return!1;return!0}function ee(ge){return null!==ge&&"object"==typeof ge}function Le(ge){const j=[];for(const[G,X]of Object.entries(ge))Array.isArray(X)?X.forEach(K=>{j.push(encodeURIComponent(G)+"="+encodeURIComponent(K))}):j.push(encodeURIComponent(G)+"="+encodeURIComponent(X));return j.length?"&"+j.join("&"):""}function Be(ge){const j={};return ge.replace(/^\?/,"").split("&").forEach(X=>{if(X){const[K,he]=X.split("=");j[decodeURIComponent(K)]=decodeURIComponent(he)}}),j}function Ct(ge){const j=ge.indexOf("?");if(!j)return"";const G=ge.indexOf("#",j);return ge.substring(j,G>0?G:void 0)}class Zt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let j=1;j<this.blockSize;++j)this.pad_[j]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(j,G){G||(G=0);const X=this.W_;if("string"==typeof j)for(let $e=0;$e<16;$e++)X[$e]=j.charCodeAt(G)<<24|j.charCodeAt(G+1)<<16|j.charCodeAt(G+2)<<8|j.charCodeAt(G+3),G+=4;else for(let $e=0;$e<16;$e++)X[$e]=j[G]<<24|j[G+1]<<16|j[G+2]<<8|j[G+3],G+=4;for(let $e=16;$e<80;$e++){const He=X[$e-3]^X[$e-8]^X[$e-14]^X[$e-16];X[$e]=4294967295&(He<<1|He>>>31)}let fn,ze,K=this.chain_[0],he=this.chain_[1],Xe=this.chain_[2],Et=this.chain_[3],dn=this.chain_[4];for(let $e=0;$e<80;$e++){$e<40?$e<20?(fn=Et^he&(Xe^Et),ze=1518500249):(fn=he^Xe^Et,ze=1859775393):$e<60?(fn=he&Xe|Et&(he|Xe),ze=2400959708):(fn=he^Xe^Et,ze=3395469782);const He=(K<<5|K>>>27)+fn+dn+ze+X[$e]&4294967295;dn=Et,Et=Xe,Xe=4294967295&(he<<30|he>>>2),he=K,K=He}this.chain_[0]=this.chain_[0]+K&4294967295,this.chain_[1]=this.chain_[1]+he&4294967295,this.chain_[2]=this.chain_[2]+Xe&4294967295,this.chain_[3]=this.chain_[3]+Et&4294967295,this.chain_[4]=this.chain_[4]+dn&4294967295}update(j,G){if(null==j)return;void 0===G&&(G=j.length);const X=G-this.blockSize;let K=0;const he=this.buf_;let Xe=this.inbuf_;for(;K<G;){if(0===Xe)for(;K<=X;)this.compress_(j,K),K+=this.blockSize;if("string"==typeof j){for(;K<G;)if(he[Xe]=j.charCodeAt(K),++Xe,++K,Xe===this.blockSize){this.compress_(he),Xe=0;break}}else for(;K<G;)if(he[Xe]=j[K],++Xe,++K,Xe===this.blockSize){this.compress_(he),Xe=0;break}}this.inbuf_=Xe,this.total_+=G}digest(){const j=[];let G=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let K=this.blockSize-1;K>=56;K--)this.buf_[K]=255&G,G/=256;this.compress_(this.buf_);let X=0;for(let K=0;K<5;K++)for(let he=24;he>=0;he-=8)j[X]=this.chain_[K]>>he&255,++X;return j}}function hn(ge,j){const G=new Un(ge,j);return G.subscribe.bind(G)}class Un{constructor(j,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{j(this)}).catch(X=>{this.error(X)})}next(j){this.forEachObserver(G=>{G.next(j)})}error(j){this.forEachObserver(G=>{G.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,G,X){let K;if(void 0===j&&void 0===G&&void 0===X)throw new Error("Missing Observer.");K=function pn(ge,j){if("object"!=typeof ge||null===ge)return!1;for(const G of j)if(G in ge&&"function"==typeof ge[G])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:G,complete:X},void 0===K.next&&(K.next=Fn),void 0===K.error&&(K.error=Fn),void 0===K.complete&&(K.complete=Fn);const he=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),he}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,j)}sendOne(j,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{G(this.observers[j])}catch(X){typeof console<"u"&&console.error&&console.error(X)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fn(){}const di=function(ge,j,G,X){let K;if(X<j?K="at least "+j:X>G&&(K=0===G?"none":"no more than "+G),K)throw new Error(ge+" failed: Was called with "+X+(1===X?" argument.":" arguments.")+" Expects "+K+".")};function hi(ge,j){return`${ge} failed: ${j} argument `}function at(ge,j,G,X){if((!X||G)&&"function"!=typeof G)throw new Error(hi(ge,j)+"must be a valid function.")}function Jt(ge,j,G,X){if((!X||G)&&("object"!=typeof G||null===G))throw new Error(hi(ge,j)+"must be a valid context object.")}const be=function(ge){const j=[];let G=0;for(let X=0;X<ge.length;X++){let K=ge.charCodeAt(X);if(K>=55296&&K<=56319){const he=K-55296;X++,N(X<ge.length,"Surrogate pair missing trail surrogate."),K=65536+(he<<10)+(ge.charCodeAt(X)-56320)}K<128?j[G++]=K:K<2048?(j[G++]=K>>6|192,j[G++]=63&K|128):K<65536?(j[G++]=K>>12|224,j[G++]=K>>6&63|128,j[G++]=63&K|128):(j[G++]=K>>18|240,j[G++]=K>>12&63|128,j[G++]=K>>6&63|128,j[G++]=63&K|128)}return j},Ne=function(ge){let j=0;for(let G=0;G<ge.length;G++){const X=ge.charCodeAt(G);X<128?j++:X<2048?j+=2:X>=55296&&X<=56319?(j+=4,G++):j+=3}return j};function rt(ge,j=1e3,G=2){const X=j*Math.pow(G,ge),K=Math.round(.5*X*(Math.random()-.5)*2);return Math.min(144e5,X+K)}function $t(ge){return ge&&ge._delegate?ge._delegate:ge}},2666:(_n,vt,k)=>{"use strict";k.r(vt),k.d(vt,{LayoutModule:()=>ni});var p=k(6895),N=k(7868),_=k(4650),ne=k(2654),C=k(6053),J=k(4006),we=k(9444),fe=k(5938),Se=k(2796),ae=k(591),me=k(8929),ye=k(4850),Pe=k(4941),Ke=k(986),ut=k(7185);let je=(()=>{class at{constructor(be,Ne,ke,ue){this.afs=be,this.afAuth=Ne,this.authService=ke,this.toastr=ue,this.userId=this.authService.getUid(),this.searchItem=new ae.X(""),this.taskItem$=new me.xQ,this.taskFiltered$=new me.xQ}addTask(be){return new Promise((Ne,ke)=>{this.getTasks().subscribe(ue=>{ue.unshift(be),this.afs.doc(`users/${this.userId}`).set({tasks:ue},{mergeFields:["tasks"]}).then(()=>Ne()).catch(()=>ke())})})}doneTask(be,Ne){return new Promise((ke,ue)=>{this.getTasks().subscribe(Nt=>{const zt=Nt.find(rt=>rt.id===be);zt&&(zt.isDone=Ne),this.afs.doc(`users/${this.userId}`).set({tasks:Nt},{mergeFields:["tasks"]}).then(()=>ke()).catch(()=>ue())})})}updateTask(be,Ne,ke){return new Promise((ue,Nt)=>{this.getTasks().subscribe(zt=>{const st=zt.find(Je=>Je.id===be);st&&Ne&&(st.title=Ne),st&&ke&&(st.description=ke),this.afs.doc(`users/${this.userId}`).set({tasks:zt},{mergeFields:["tasks"]}).then(()=>ue()).catch(()=>Nt())})})}getLiveTasks(){return this.afs.doc(`users/${this.userId}`).snapshotChanges().pipe((0,ye.U)(be=>be.payload.data().tasks?be.payload.data().tasks:[]))}updateAll(be){return new Promise((Ne,ke)=>{this.afs.doc(`users/${this.userId}`).set({tasks:be},{mergeFields:["tasks"]}).then(()=>Ne()).catch(()=>ke())})}getTasks(){return this.afs.doc(`users/${this.userId}`).get({source:"default"}).pipe((0,ye.U)(Ne=>Ne.data().tasks?Ne.data().tasks:[]))}search(be){return this.searchItem.next(be)}removeTask(be){return new Promise((Ne,ke)=>{this.getTasks().subscribe(ue=>{ue=ue.filter(zt=>zt.id!==be),this.afs.doc(`users/${this.userId}`).set({tasks:ue},{mergeFields:["tasks"]}).then(()=>Ne()).catch(()=>ke())})})}bookMarkTask(be,Ne){return new Promise((ke,ue)=>{this.getTasks().subscribe(Nt=>{const zt=Nt.find(rt=>rt.id===be);zt&&(zt.isBookmark=Ne),this.afs.doc(`users/${this.userId}`).set({tasks:Nt},{mergeFields:["tasks"]}).then(()=>ke()).catch(()=>ue())})})}setTask(be){this.taskItem$.next(be)}setTaskFiltered(be){this.taskFiltered$.next(be)}}return at.\u0275fac=function(be){return new(be||at)(_.LFG(Se.ST),_.LFG(Pe.zQ),_.LFG(Ke.e),_.LFG(ut._W))},at.\u0275prov=_.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})();var ct=k(9549),mt=k(4144);const jt=function(at){return{color:at,fontsize:"12px"}};function ht(at,Jt){if(1&at&&(_.TgZ(0,"mat-label",0),_.SDv(1,5),_.qZA()),2&at){const be=_.oxw();_.Q6J("ngStyle",_.VKq(2,jt,be.labelColor)),_.xp6(1),_.pQV(be.label),_.QtT(1)}}function kt(at,Jt){if(1&at&&(_.TgZ(0,"mat-error"),_._uU(1),_.qZA()),2&at){const be=_.oxw();_.xp6(1),_.Oqu(be.getErrorMessages(null==be.formControl?null:be.formControl.errors))}}const yt=function(at){return{"font-size":at}};let et=(()=>{class at{constructor(be){this._renderer=be,this.formControl=new J.NI,this.fontSizePx="12",this.name="",this.label="",this.appearance="outline",this.labelColor="#484848",this.borderDefaultColor="#e2e2e2",this.borderSelectColor="blue",this.disabledBackgroundColor="#f8f8f8",this.borderWidthPx="1",this.required=!1,this.withLabel=!0,this.placeholder="",this.showUnderlineErrorContainer=!0,this.isDisabled=!1,this.errorMessages={}}writeValue(be){this.matInputValue=be}registerOnChange(be){this.onMatInputChange=be}registerOnTouched(be){this.onInputClicked=be}setDisabledState(be){this.isDisabled=be}onMatInputChange(be){this.matInputValue=be}onInputClicked(be){}getErrorMessages(be){return this.errorMessages[Object.keys(be)[0]]}ngAfterViewInit(){let be=document.querySelector("."+this.name+" .mat-form-field-appearance-outline .mat-form-field-outline");this._renderer.setStyle(be,"color",this.borderDefaultColor),be=document.querySelector("."+this.name+" .mat-form-field-appearance-outline .mat-form-field-outline-thick"),this._renderer.setStyle(be,"color",this.borderDefaultColor),document.querySelectorAll("."+this.name+" .mat-form-field-flex .mat-form-field-outline *").forEach(ke=>{this._renderer.setStyle(ke,"border-width",this.borderWidthPx+"px")}),be=document.querySelector("."+this.name+" .mat-form-field-wrapper"),!this.showUnderlineErrorContainer&&this._renderer.setStyle(be,"padding-bottom","0px")}ngAfterViewChecked(){let be=document.querySelector("."+this.name+" .mat-form-field-appearance-outline.ng-invalid.ng-touched .mat-form-field-outline-thick");if(be&&this._renderer.setStyle(be,"opacity",1),be&&this._renderer.setStyle(be,"color",this.borderDefaultColor,_.JOm.Important),be=document.querySelector("."+this.name+" .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick"),be&&this._renderer.setStyle(be,"color",this.borderSelectColor),be=document.querySelector("."+this.name+" .mat-form-field-appearance-outline.ng-valid.ng-touched .mat-form-field-outline-thick"),be&&this._renderer.setStyle(be,"opacity",1),be&&this._renderer.setStyle(be,"color",this.borderDefaultColor,_.JOm.Important),this.isDisabled){document.querySelectorAll("."+this.name+" .mat-form-field-flex .mat-form-field-outline *").forEach(ue=>{this._renderer.setStyle(ue,"background-color",this.disabledBackgroundColor)});const ke=document.querySelector("."+this.name+" .mat-form-field-appearance-outline .mat-input-element:disabled");this._renderer.setStyle(ke,"color","unset")}}ngOnInit(){}ngOnDestroy(){}}return at.\u0275fac=function(be){return new(be||at)(_.Y36(_.Qsj))},at.\u0275cmp=_.Xpm({type:at,selectors:[["app-custom-input"]],inputs:{formControl:"formControl",fontSizePx:"fontSizePx",name:"name",label:"label",appearance:"appearance",labelColor:"labelColor",borderDefaultColor:"borderDefaultColor",borderSelectColor:"borderSelectColor",disabledBackgroundColor:"disabledBackgroundColor",borderWidthPx:"borderWidthPx",required:"required",withLabel:"withLabel",placeholder:"placeholder",showUnderlineErrorContainer:"showUnderlineErrorContainer",isDisabled:"isDisabled",errorMessages:"errorMessages"},features:[_._Bn([{provide:J.JU,useExisting:(0,_.Gpc)(()=>at),multi:!0}])],decls:6,vars:13,consts:function(){let Jt;return Jt="" + "\ufffd0\ufffd" + "",[[3,"ngStyle"],[2,"width","100%",3,"appearance"],[3,"ngStyle",4,"ngIf"],["matInput","","type","text",3,"placeholder","value","formControl","required","disabled","change","click"],[4,"ngIf"],Jt]},template:function(be,Ne){1&be&&(_.TgZ(0,"div")(1,"div",0)(2,"mat-form-field",1),_.YNc(3,ht,2,4,"mat-label",2),_.TgZ(4,"input",3),_.NdJ("change",function(ue){return Ne.onMatInputChange(ue.target.value)})("click",function(ue){return Ne.onInputClicked(ue)}),_.qZA(),_.YNc(5,kt,2,1,"mat-error",4),_.qZA()()()),2&be&&(_.Tol(Ne.name),_.xp6(1),_.Q6J("ngStyle",_.VKq(11,yt,Ne.fontSizePx+"px")),_.xp6(1),_.Q6J("appearance",Ne.appearance),_.xp6(1),_.Q6J("ngIf",Ne.withLabel),_.xp6(1),_.Q6J("placeholder",Ne.placeholder)("value",Ne.matInputValue)("formControl",Ne.formControl)("required",Ne.required)("disabled",Ne.isDisabled),_.xp6(1),_.Q6J("ngIf",null==Ne.formControl?null:Ne.formControl.errors))},dependencies:[p.O5,p.PC,J.Fj,J.JJ,J.Q7,J.oH,ct.TO,ct.KE,ct.hX,mt.Nt],styles:[".mat-form-field-appearance-outline.mat-focused .mat-form-field-label{transform:translateY(-1.29375em) scale(.75)!important;top:1.70375em}  .mat-form-field-flex .mat-form-field-infix{padding:.4em 0 .7em}  .mat-form-field-flex .mat-form-field-infix input{margin-right:5px;height:100%}  .mat-form-field-flex .mat-form-field-infix input::-moz-placeholder{color:currentColor}  .mat-form-field-flex .mat-form-field-infix input::placeholder{color:currentColor}  .mat-form-field-flex .mat-form-field-infix .mat-form-field-label{font-size:inherit;top:1.40375em;transform:translateY(-1.29375em) scale(.75)!important}  .mat-form-field-flex .mat-form-field-infix .mat-form-field-label span{margin-left:3px;color:#f44336;font-size:16px}  .mat-form-field-appearance-outline.mat-form-field-hide-placeholder .mat-form-field-label{transform:none!important;transform:initial!important}  .mat-form-field-wrapper{padding-bottom:0}  mat-label{font-size:16px!important;color:var(--text-color)!important}input[_ngcontent-%COMP%]{color:var(--text-color)!important}"]}),at})();const Ve=function(at){return{color:at}};function pt(at,Jt){if(1&at&&(_.TgZ(0,"mat-label",0),_.SDv(1,5),_.qZA()),2&at){const be=_.oxw();_.Q6J("ngStyle",_.VKq(2,Ve,be.labelColor)),_.xp6(1),_.pQV(be.label),_.QtT(1)}}function tt(at,Jt){if(1&at&&(_.TgZ(0,"mat-error"),_._uU(1),_.qZA()),2&at){const be=_.oxw();_.xp6(1),_.Oqu(be.getErrorMessages(null==be.formControl?null:be.formControl.errors))}}const Qe=function(at){return{"font-size":at}};let Lt=(()=>{class at{constructor(be){this._renderer=be,this.formControl=new J.NI,this.fontSizePx="14",this.name="",this.label="",this.appearance="outline",this.labelColor="#484848",this.borderDefaultColor="#e2e2e2",this.borderSelectColor="blue",this.disabledBackgroundColor="#f8f8f8",this.borderWidthPx="1",this.required=!1,this.withLabel=!0,this.placeholder="",this.showUnderlineErrorContainer=!0,this.isDisabled=!1,this.errorMessages={}}writeValue(be){this.matInputValue=be}registerOnChange(be){this.onMatInputChange=be}registerOnTouched(be){this.onInputClicked=be}setDisabledState(be){this.isDisabled=be}onMatInputChange(be){this.matInputValue=be}onInputClicked(be){}getErrorMessages(be){return this.errorMessages[Object.keys(be)[0]]}ngAfterViewInit(){let be=document.querySelector("."+this.name+" .mat-form-field-appearance-outline .mat-form-field-outline");this._renderer.setStyle(be,"color",this.borderDefaultColor),be=document.querySelector("."+this.name+" .mat-form-field-appearance-outline .mat-form-field-outline-thick"),this._renderer.setStyle(be,"color",this.borderDefaultColor),document.querySelectorAll("."+this.name+" .mat-form-field-flex .mat-form-field-outline *").forEach(ke=>{this._renderer.setStyle(ke,"border-width",this.borderWidthPx+"px")}),be=document.querySelector("."+this.name+" .mat-form-field-wrapper"),!this.showUnderlineErrorContainer&&this._renderer.setStyle(be,"padding-bottom","0px")}ngAfterViewChecked(){let be;if(be=document.querySelector("."+this.name+" .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick"),be&&this._renderer.setStyle(be,"color",this.borderSelectColor),this.isDisabled){document.querySelectorAll("."+this.name+" .mat-form-field-flex .mat-form-field-outline *").forEach(ue=>{this._renderer.setStyle(ue,"background-color",this.disabledBackgroundColor)});const ke=document.querySelector("."+this.name+" .mat-form-field-appearance-outline .mat-input-element:disabled");this._renderer.setStyle(ke,"color","unset")}}ngOnInit(){}ngOnDestroy(){}}return at.\u0275fac=function(be){return new(be||at)(_.Y36(_.Qsj))},at.\u0275cmp=_.Xpm({type:at,selectors:[["app-custom-text-area"]],inputs:{formControl:"formControl",fontSizePx:"fontSizePx",name:"name",label:"label",appearance:"appearance",labelColor:"labelColor",borderDefaultColor:"borderDefaultColor",borderSelectColor:"borderSelectColor",disabledBackgroundColor:"disabledBackgroundColor",borderWidthPx:"borderWidthPx",required:"required",withLabel:"withLabel",placeholder:"placeholder",showUnderlineErrorContainer:"showUnderlineErrorContainer",isDisabled:"isDisabled",errorMessages:"errorMessages"},features:[_._Bn([{provide:J.JU,useExisting:(0,_.Gpc)(()=>at),multi:!0}])],decls:7,vars:13,consts:function(){let Jt;return Jt="" + "\ufffd0\ufffd" + "",[[3,"ngStyle"],[2,"width","100%","height","130px",3,"appearance"],[3,"ngStyle",4,"ngIf"],["matInput","","type","text",3,"placeholder","value","formControl","required","disabled","change","click"],[4,"ngIf"],Jt]},template:function(be,Ne){1&be&&(_.TgZ(0,"div")(1,"div",0)(2,"mat-form-field",1),_.YNc(3,pt,2,4,"mat-label",2),_.TgZ(4,"textarea",3),_.NdJ("change",function(ue){return Ne.onMatInputChange(ue.target.value)})("click",function(ue){return Ne.onInputClicked(ue)}),_._uU(5,"            "),_.qZA(),_.YNc(6,tt,2,1,"mat-error",4),_.qZA()()()),2&be&&(_.Tol(Ne.name),_.xp6(1),_.Q6J("ngStyle",_.VKq(11,Qe,Ne.fontSizePx+"px")),_.xp6(1),_.Q6J("appearance",Ne.appearance),_.xp6(1),_.Q6J("ngIf",Ne.withLabel),_.xp6(1),_.Q6J("placeholder",Ne.placeholder)("value",Ne.matInputValue)("formControl",Ne.formControl)("required",Ne.required)("disabled",Ne.isDisabled),_.xp6(2),_.Q6J("ngIf",null==Ne.formControl?null:Ne.formControl.errors))},dependencies:[p.O5,p.PC,J.Fj,J.JJ,J.Q7,J.oH,ct.TO,ct.KE,ct.hX,mt.Nt],styles:[".mat-form-field-appearance-outline.mat-focused .mat-form-field-label{transform:translateY(-1.29375em) scale(.75)!important;top:1.70375em}  .mat-form-field-flex .mat-form-field-infix{padding:.4em 0 .7em}  .mat-form-field-flex .mat-form-field-infix input{margin-right:5px}  .mat-form-field-flex .mat-form-field-infix input::-moz-placeholder{color:currentColor}  .mat-form-field-flex .mat-form-field-infix input::placeholder{color:currentColor}  .mat-form-field-flex .mat-form-field-infix .mat-form-field-label{font-size:inherit;top:1.40375em;transform:translateY(-1.29375em) scale(.75)!important}  .mat-form-field-flex .mat-form-field-infix .mat-form-field-label span{margin-left:3px;color:#f44336}  .mat-form-field-appearance-outline.mat-form-field-hide-placeholder .mat-form-field-label{transform:none!important;transform:initial!important}  .mat-form-field-wrapper{padding-bottom:0}textarea[_ngcontent-%COMP%]{width:100%;height:120px;resize:none!important}"]}),at})();function We(at,Jt){1&at&&(_.TgZ(0,"span",11),_.SDv(1,12),_.qZA())}function Ot(at,Jt){1&at&&(_.TgZ(0,"span",11),_.SDv(1,13),_.qZA())}function Vt(at,Jt){if(1&at){const be=_.EpF();_.TgZ(0,"button",14),_.NdJ("click",function(){_.CHM(be);const ke=_.oxw();return _.KtG(ke.onSubmit(ke.formGroup.value))}),_.SDv(1,15),_.qZA()}if(2&at){const be=_.oxw();_.Q6J("disabled",!be.formGroup.valid)}}function bn(at,Jt){if(1&at){const be=_.EpF();_.TgZ(0,"button",14),_.NdJ("click",function(){_.CHM(be);const ke=_.oxw();return _.KtG(ke.onSubmit(ke.formGroup.value))}),_.SDv(1,16),_.qZA()}if(2&at){const be=_.oxw();_.Q6J("disabled",!be.formGroup.valid)}}let qn=(()=>{class at{constructor(be,Ne,ke,ue,Nt){this.db=be,this.taskService=Ne,this.formBuilder=ke,this.dialogRef=ue,this.data=Nt,this.isEdit=!1}ngOnInit(){this.createForm(),this.isEdit=!!this.data.task,this.data.task&&this.formGroup.patchValue({title:this.data?.task?.title,description:this.data?.task?.description})}createForm(){this.formGroup=new J.cw({title:new J.NI(null,[J.kI.required]),description:new J.NI(null)})}cancel(){this.dialogRef.close(!1)}onSubmit(be){if(this?.data?.task)this.taskService.updateTask(this?.data?.task?.id,be?.title,be?.description).then(()=>{this.dialogRef.close()}).finally(()=>{});else{const Ne={title:be.title,description:be.description,isBookmark:!1,isDone:!1,creationDate:Date.now(),id:(0,we.v4)()};this.taskService.addTask(Ne).then(()=>{this.dialogRef.close()}).finally(()=>{})}}}return at.\u0275fac=function(be){return new(be||at)(_.Y36(Se.ST),_.Y36(je),_.Y36(J.qu),_.Y36(fe.so),_.Y36(fe.WI))},at.\u0275cmp=_.Xpm({type:at,selectors:[["app-create-item"]],decls:14,vars:11,consts:function(){let Jt,be,Ne,ke,ue,Nt;return Jt="close",be=" Cancel ",Ne="Edit Task",ke="Add Task",ue=" Edit ",Nt=" Add ",[[1,"dialog-header"],["src","./assets/images/close.svg","alt",Jt,3,"click"],["class","dialog-title",4,"ngIf"],[1,"dialog-content"],[1,"form",3,"formGroup","ngSubmit"],["formControlName","title",1,"margin-input-title",3,"name","label","formControl"],["formControlName","description",1,"margin-input",3,"formControl","name","label"],[1,"action"],["type","button","class","border border-teal-500 bg-teal-500 text-white rounded-md px-4 py-2 m-2 transition duration-500 ease select-none hover:bg-teal-600 focus:outline-none focus:shadow-outline",3,"disabled","click",4,"ngIf"],["type","button",1,"border","border-gray-200","bg-gray-200","text-gray-700","rounded-md","px-4","py-2","m-2","transition","duration-500","ease","select-none","hover:bg-gray-300","focus:outline-none","focus:shadow-outline",3,"click"],be,[1,"dialog-title"],Ne,ke,["type","button",1,"border","border-teal-500","bg-teal-500","text-white","rounded-md","px-4","py-2","m-2","transition","duration-500","ease","select-none","hover:bg-teal-600","focus:outline-none","focus:shadow-outline",3,"disabled","click"],ue,Nt]},template:function(be,Ne){1&be&&(_.TgZ(0,"div",0)(1,"img",1),_.NdJ("click",function(){return Ne.cancel()}),_.qZA(),_.YNc(2,We,2,0,"span",2),_.YNc(3,Ot,2,0,"span",2),_._UZ(4,"span"),_.qZA(),_.TgZ(5,"mat-dialog-content",3)(6,"form",4),_.NdJ("ngSubmit",function(){return Ne.onSubmit(Ne.formGroup.value)}),_._UZ(7,"app-custom-input",5)(8,"app-custom-text-area",6),_.qZA(),_.TgZ(9,"div",7),_.YNc(10,Vt,2,1,"button",8),_.YNc(11,bn,2,1,"button",8),_.TgZ(12,"button",9),_.NdJ("click",function(){return Ne.cancel()}),_.SDv(13,10),_.qZA()()()),2&be&&(_.xp6(2),_.Q6J("ngIf",Ne.isEdit),_.xp6(1),_.Q6J("ngIf",!Ne.isEdit),_.xp6(3),_.Q6J("formGroup",Ne.formGroup),_.xp6(1),_.Q6J("name","title")("label","title")("formControl",Ne.formGroup.controls.title),_.xp6(1),_.Q6J("formControl",Ne.formGroup.controls.description)("name","description")("label","description"),_.xp6(2),_.Q6J("ngIf",Ne.isEdit),_.xp6(1),_.Q6J("ngIf",!Ne.isEdit))},dependencies:[J._Y,J.JJ,J.JL,J.oH,J.sg,J.u,p.O5,fe.xY,et,Lt],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]{height:40px;display:flex;justify-content:space-between;align-items:center;padding-bottom:3px;border-bottom:1px lightgray solid}[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{color:#fff!important;width:20px;margin-left:15px;cursor:pointer;filter:invert(73%) sepia(14%) saturate(0%) hue-rotate(210deg) brightness(93%) contrast(91%)}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:10px!important}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30%}  .mat-dialog-container{padding:0;background-color:var(--card-item)!important;overflow:hidden}"]}),at})();var jn=k(3977);let oi=(()=>{class at{constructor(be){this.dialogRef=be}ngOnInit(){}submit(){this.dialogRef.close(!0)}cancel(){this.dialogRef.close(!1)}}return at.\u0275fac=function(be){return new(be||at)(_.Y36(fe.so))},at.\u0275cmp=_.Xpm({type:at,selectors:[["app-dialog-confirm"]],decls:15,vars:0,consts:function(){let Jt,be,Ne,ke;return Jt="close",be=" Delete Task ",Ne="Are You Sure ?",ke=" Yes ",[[1,"dialog-header"],["src","./assets/images/close.svg","alt",Jt,3,"click"],[1,"dialog-title"],be,[1,"dialog-content"],[1,"dialog-container"],["src","./assets/images/error.svg","alt",""],Ne,[1,"action"],["type","button",1,"border","border-teal-500","bg-teal-500","text-white","rounded-md","px-4","py-2","m-2","transition","duration-500","ease","select-none","hover:bg-teal-600","focus:outline-none","focus:shadow-outline",3,"click"],ke,["type","button",1,"border","border-gray-200","bg-gray-200","text-gray-700","rounded-md","px-4","py-2","m-2","transition","duration-500","ease","select-none","hover:bg-gray-300","focus:outline-none","focus:shadow-outline",3,"click"]]},template:function(be,Ne){1&be&&(_.TgZ(0,"div",0)(1,"img",1),_.NdJ("click",function(){return Ne.cancel()}),_.qZA(),_.TgZ(2,"span",2),_.SDv(3,3),_.qZA(),_._UZ(4,"span"),_.qZA(),_.TgZ(5,"div",4)(6,"div",5),_._UZ(7,"img",6),_.TgZ(8,"span",2),_.SDv(9,7),_.qZA(),_.TgZ(10,"div",8)(11,"button",9),_.NdJ("click",function(){return Ne.submit()}),_.SDv(12,10),_.qZA(),_.TgZ(13,"button",11),_.NdJ("click",function(){return Ne.cancel()}),_._uU(14," Cancel "),_.qZA()()()())},styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]{height:40px;display:flex;justify-content:space-between;align-items:center;padding-bottom:3px;border-bottom:1px lightgray solid}[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{color:#fff!important;width:20px;margin-left:15px;cursor:pointer;filter:invert(73%) sepia(14%) saturate(0%) hue-rotate(210deg) brightness(93%) contrast(91%)}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]{display:flex;min-height:200px;position:relative;width:550px;overflow:auto;bottom:0;margin:20px 0}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-weight:700;font-stretch:normal;font-style:normal;line-height:5;letter-spacing:normal;text-align:right;color:#d80612}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30%}  .mat-dialog-container{padding:0;background-color:var(--card-item)!important}"]}),at})();var Nn=k(8242);let rn=(()=>{class at{constructor(be){this.bottomSheetRef=be}ngOnInit(){}submit(){this.bottomSheetRef.dismiss(!0)}reset(){this.bottomSheetRef.dismiss(!1)}}return at.\u0275fac=function(be){return new(be||at)(_.Y36(Nn.oL))},at.\u0275cmp=_.Xpm({type:at,selectors:[["app-confirm-bottom-sheet"]],decls:13,vars:0,consts:function(){let Jt,be,Ne;return Jt="Are You Sure?",be=" Yes ",Ne=" Cancel ",[[1,"bottom-sheet-container"],[1,"dialog-content"],[1,"remove-container"],["src","./assets/images/error.svg","alt",""],Jt,[1,"bottom-sheet-action"],["type","button",1,"border","border-indigo-500","bg-indigo-500","text-white","rounded-md","px-4","py-2","m-2","transition","duration-500","ease","select-none","hover:bg-indigo-600","focus:outline-none","focus:shadow-outline",3,"click"],be,["type","button",1,"border","border-red-500","bg-red-500","text-white","rounded-md","px-4","py-2","m-2","transition","duration-500","ease","select-none","hover:bg-red-600","focus:outline-none","focus:shadow-outline",3,"click"],Ne,["container",""]]},template:function(be,Ne){1&be&&(_.TgZ(0,"div",0)(1,"div",1)(2,"div",2),_._UZ(3,"img",3),_.TgZ(4,"span"),_.SDv(5,4),_.qZA(),_.TgZ(6,"div",5)(7,"button",6),_.NdJ("click",function(){return Ne.submit()}),_.SDv(8,7),_.qZA(),_.TgZ(9,"button",8),_.NdJ("click",function(){return Ne.reset()}),_.SDv(10,9),_.qZA()()(),_._UZ(11,"template",null,10),_.qZA()())},styles:[".mat-bottom-sheet-container{border-radius:5px 5px 0 0;min-height:256px;max-height:256px;background-color:var(--bg-secondary)}[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;position:relative;width:100%;overflow:auto}.bottom-sheet-container[_ngcontent-%COMP%]{padding:5px;position:relative}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding-top:20px;overflow:hidden!important}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .remove-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .remove-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:68.2px;height:64.3px}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .remove-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:700;font-stretch:normal;font-style:normal;line-height:5.29;letter-spacing:normal;text-align:right;color:#d80612}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .remove-container[_ngcontent-%COMP%]   .bottom-sheet-action[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:10px;width:100%}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .remove-container[_ngcontent-%COMP%]   .bottom-sheet-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50%}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .remove-container[_ngcontent-%COMP%]   .bottom-sheet-action[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{padding:0 48px;margin-left:10px}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .remove-container[_ngcontent-%COMP%]   .bottom-sheet-action[_ngcontent-%COMP%]   .reset[_ngcontent-%COMP%]{padding:0 19px}"]}),at})();function gn(at,Jt){1&at&&(_.TgZ(0,"span",12),_.SDv(1,13),_.qZA())}function Re(at,Jt){1&at&&(_.TgZ(0,"span",12),_.SDv(1,14),_.qZA())}function Ue(at,Jt){if(1&at){const be=_.EpF();_.TgZ(0,"button",15),_.NdJ("click",function(){_.CHM(be);const ke=_.oxw();return _.KtG(ke.onSubmit(ke.formGroup.value))}),_.SDv(1,16),_.qZA()}if(2&at){const be=_.oxw();_.Q6J("disabled",!be.formGroup.valid)}}function Fe(at,Jt){if(1&at){const be=_.EpF();_.TgZ(0,"button",15),_.NdJ("click",function(){_.CHM(be);const ke=_.oxw();return _.KtG(ke.onSubmit(ke.formGroup.value))}),_.SDv(1,17),_.qZA()}if(2&at){const be=_.oxw();_.Q6J("disabled",!be.formGroup.valid)}}let Ze=(()=>{class at{constructor(be,Ne,ke){this.taskService=be,this.bottomSheetRef=Ne,this.data=ke,this.isEdit=!1}ngOnInit(){this.createForm(),this.data.task&&(this.isEdit=!0,this.formGroup.patchValue({title:this.data?.task?.title,description:this.data?.task?.description}))}createForm(){this.formGroup=new J.cw({title:new J.NI(null,[J.kI.required]),description:new J.NI(null)})}cancel(){this.bottomSheetRef.dismiss()}onSubmit(be){if(this?.data?.task)this.taskService.updateTask(this?.data?.task?.id,be?.title,be?.description).then(()=>{this.bottomSheetRef.dismiss()}).finally(()=>{});else{const Ne={title:be.title,description:be.description,isBookmark:!1,isDone:!1,creationDate:Date.now(),id:(0,we.v4)()};this.taskService.addTask(Ne).then(()=>{this.bottomSheetRef.dismiss()}).finally(()=>{})}}}return at.\u0275fac=function(be){return new(be||at)(_.Y36(je),_.Y36(Nn.oL),_.Y36(Nn.OG))},at.\u0275cmp=_.Xpm({type:at,selectors:[["app-create-item-bottom-sheet"]],decls:15,vars:11,consts:function(){let Jt,be,Ne,ke,ue;return Jt=" Cancel ",be="Create Task",Ne="Edit Task",ke=" Add ",ue=" Edit ",[[1,"bottom-sheet-container"],[1,"bottom-sheet-top-line"],[1,"dialog-content"],["class","bottom-sheet-title",4,"ngIf"],[1,"bottom-sheet-content"],[1,"form",3,"formGroup"],["formControlName","title",1,"margin-input-title",3,"name","label","formControl"],["formControlName","description",1,"margin-input",3,"formControl","name","label"],[1,"action"],["type","button","class","border border-indigo-500 bg-indigo-500 text-white rounded-md px-4 py-2 m-2 transition duration-500 ease select-none hover:bg-indigo-600 focus:outline-none focus:shadow-outline",3,"disabled","click",4,"ngIf"],["type","button",1,"border","border-red-500","bg-red-500","text-white","rounded-md","px-4","py-2","m-2","transition","duration-500","ease","select-none","hover:bg-red-600","focus:outline-none","focus:shadow-outline",3,"click"],Jt,[1,"bottom-sheet-title"],be,Ne,["type","button",1,"border","border-indigo-500","bg-indigo-500","text-white","rounded-md","px-4","py-2","m-2","transition","duration-500","ease","select-none","hover:bg-indigo-600","focus:outline-none","focus:shadow-outline",3,"disabled","click"],ke,ue]},template:function(be,Ne){1&be&&(_.TgZ(0,"div",0)(1,"div",1),_._UZ(2,"span"),_.qZA(),_.TgZ(3,"div",2),_.YNc(4,gn,2,0,"span",3),_.YNc(5,Re,2,0,"span",3),_.TgZ(6,"div",4)(7,"form",5),_._UZ(8,"app-custom-input",6)(9,"app-custom-text-area",7),_.TgZ(10,"div",8),_.YNc(11,Ue,2,1,"button",9),_.YNc(12,Fe,2,1,"button",9),_.TgZ(13,"button",10),_.NdJ("click",function(){return Ne.cancel()}),_.SDv(14,11),_.qZA()()()()()()),2&be&&(_.xp6(4),_.Q6J("ngIf",!Ne.isEdit),_.xp6(1),_.Q6J("ngIf",Ne.isEdit),_.xp6(2),_.Q6J("formGroup",Ne.formGroup),_.xp6(1),_.Q6J("name","title")("label","title")("formControl",Ne.formGroup.controls.title),_.xp6(1),_.Q6J("formControl",Ne.formGroup.controls.description)("name","description")("label","description"),_.xp6(2),_.Q6J("ngIf",!Ne.isEdit),_.xp6(1),_.Q6J("ngIf",Ne.isEdit))},dependencies:[J._Y,J.JJ,J.JL,J.oH,J.sg,J.u,p.O5,et,Lt],styles:[".mat-bottom-sheet-container{border-radius:5px 5px 0 0;min-height:40vh;background-color:var(--bg-secondary)}[_nghost-%COMP%]{display:block;border:3px solid var(--primary)}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;min-height:150px;position:relative;width:100%;overflow:auto}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .bottom-sheet-title[_ngcontent-%COMP%]{text-align:center;font-size:22px;font-weight:700}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .bottom-sheet-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .bottom-sheet-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:96%;margin-top:25px}.bottom-sheet-container[_ngcontent-%COMP%]{padding:5px;position:relative}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{min-height:40vh;padding-top:20px;overflow:hidden!important}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;margin-top:40px}.bottom-sheet-container[_ngcontent-%COMP%]   .bottom-sheet-top-line[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.bottom-sheet-container[_ngcontent-%COMP%]   .bottom-sheet-top-line[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:10px;background:#707070;height:1.5px;width:25%}"]}),at})();var St=k(3546);let tn=(()=>{class at{constructor(be){this.taskService=be,this.done=new _.vpe,this.bookMark=new _.vpe,this.remove=new _.vpe,this.edit=new _.vpe}onDone(){this.done.emit()}onRemove(){this.remove.emit()}onBookMark(){this.bookMark.emit()}onEdit(){this.edit.emit()}getTask(be){this.taskService.setTask(be)}}return at.\u0275fac=function(be){return new(be||at)(_.Y36(je))},at.\u0275cmp=_.Xpm({type:at,selectors:[["app-to-do-item"]],inputs:{task:"task"},outputs:{done:"done",bookMark:"bookMark",remove:"remove",edit:"edit"},decls:17,vars:6,consts:[[1,"task-item__container",3,"click"],[1,"task-item__content"],[1,"checkbox-container",3,"ngClass"],["type","checkbox",3,"checked","value","change"],[1,"checkmark"],[1,"task-description"],[1,"action"],[1,"bookmark",3,"click"],[3,"src"],[1,"btn-action"],[3,"click"],["src","./assets/images/edit.svg"],["src","./assets/images/trash.svg"]],template:function(be,Ne){1&be&&(_.TgZ(0,"div",0),_.NdJ("click",function(){return Ne.getTask(Ne.task)}),_.TgZ(1,"mat-card")(2,"div",1)(3,"span",2),_._uU(4),_.TgZ(5,"input",3),_.NdJ("change",function(){return Ne.onDone()}),_.qZA(),_._UZ(6,"span",4),_.qZA(),_.TgZ(7,"p",5),_._uU(8),_.qZA()(),_.TgZ(9,"div",6)(10,"div",7),_.NdJ("click",function(){return Ne.onBookMark()}),_._UZ(11,"img",8),_.qZA(),_.TgZ(12,"div",9)(13,"button",10),_.NdJ("click",function(){return Ne.onEdit()}),_._UZ(14,"img",11),_.qZA(),_.TgZ(15,"button",10),_.NdJ("click",function(){return Ne.onRemove()}),_._UZ(16,"img",12),_.qZA()()()()()),2&be&&(_.xp6(3),_.Q6J("ngClass",Ne.task.isDone?"completed":"unCompleted"),_.xp6(1),_.hij("",null==Ne.task?null:Ne.task.title," "),_.xp6(1),_.Q6J("checked",Ne.task.isDone)("value",Ne.task.isDone),_.xp6(3),_.Oqu(null==Ne.task?null:Ne.task.description),_.xp6(3),_.Q6J("src",Ne.task.isBookmark?"./assets/images/blue-star.png":"./assets/images/bookmark.svg",_.LSH))},dependencies:[p.mk,St.a8],styles:[".task-item__container[_ngcontent-%COMP%]{margin-bottom:10px;display:flex;flex-direction:column;gap:8px}.task-item__container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px;background-color:var(--card-item)}.task-item__container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:end}.task-item__container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .bookmark[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px!important;cursor:pointer!important}.task-item__container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{display:flex;margin-top:10px}.task-item__container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:21px}.task-item__content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.task-item__content[_ngcontent-%COMP%]   .task-description[_ngcontent-%COMP%]{font-weight:100}.task-item__content[_ngcontent-%COMP%]   .completed[_ngcontent-%COMP%]{text-decoration:line-through}.task-item__content[_ngcontent-%COMP%]   .unCompleted[_ngcontent-%COMP%]{text-decoration:none}.task-item__content[_ngcontent-%COMP%]   .task-description[_ngcontent-%COMP%]{font-size:16px;margin-left:35px}"]}),at})();var Ln=k(7331);let It=(()=>{class at{constructor(be){this.taskService=be}ngOnInit(){this.taskService.getLiveTasks().subscribe(be=>{this.tasks=be,this.totalCount=be.length,this.bookmarkCount=be.filter(Ne=>Ne.isBookmark).length,this.doneCount=be.filter(Ne=>Ne.isDone).length,this.ongoingCount=this.totalCount-this.doneCount})}getAllTask(){this.taskService.setTaskFiltered(this.tasks)}getBookmarkTask(){const be=this.tasks.filter(Ne=>!0===Ne.isBookmark);this.taskService.setTaskFiltered(be)}getCompletedTask(){const be=this.tasks.filter(Ne=>!0===Ne.isDone);this.taskService.setTaskFiltered(be)}getUnCompletedTask(){const be=this.tasks.filter(Ne=>!1===Ne.isDone);this.taskService.setTaskFiltered(be)}}return at.\u0275fac=function(be){return new(be||at)(_.Y36(je))},at.\u0275cmp=_.Xpm({type:at,selectors:[["app-filter-box"]],decls:26,vars:4,consts:function(){let Jt,be,Ne,ke;return Jt="All",be=" Star ",Ne="Completed",ke=" Ongoing",[[1,"filter-container"],["aria-label","task filter selection"],[3,"click"],["matChipAvatar","",1,"task-count"],Jt,["color","primary",3,"click"],be,["color","accent",3,"click"],Ne,ke]},template:function(be,Ne){1&be&&(_.TgZ(0,"div",0)(1,"mat-chip-list",1)(2,"mat-chip",2),_.NdJ("click",function(){return Ne.getAllTask()}),_.ynx(3),_.TgZ(4,"span",3),_._uU(5),_.qZA(),_.TgZ(6,"label"),_.SDv(7,4),_.qZA(),_.BQk(),_.qZA(),_.TgZ(8,"mat-chip",5),_.NdJ("click",function(){return Ne.getBookmarkTask()}),_.ynx(9),_.TgZ(10,"span",3),_._uU(11),_.qZA(),_.TgZ(12,"label"),_.SDv(13,6),_.qZA(),_.BQk(),_.qZA(),_.TgZ(14,"mat-chip",7),_.NdJ("click",function(){return Ne.getCompletedTask()}),_.ynx(15),_.TgZ(16,"span",3),_._uU(17),_.qZA(),_.TgZ(18,"label"),_.SDv(19,8),_.qZA(),_.BQk(),_.qZA(),_.TgZ(20,"mat-chip",7),_.NdJ("click",function(){return Ne.getUnCompletedTask()}),_.ynx(21),_.TgZ(22,"span",3),_._uU(23),_.qZA(),_.TgZ(24,"label"),_.SDv(25,9),_.qZA(),_.BQk(),_.qZA()()()),2&be&&(_.xp6(5),_.Oqu(Ne.totalCount),_.xp6(6),_.Oqu(Ne.bookmarkCount),_.xp6(6),_.Oqu(Ne.doneCount),_.xp6(6),_.Oqu(Ne.ongoingCount))},dependencies:[Ln.qn,Ln.HS,Ln.EC],styles:[".filter-container[_ngcontent-%COMP%]{background-color:var(--bg-secondary)!important;margin:10px 0}@media screen and (max-width: 959px){.filter-container[_ngcontent-%COMP%]{margin:0 0 10px}}.filter-container[_ngcontent-%COMP%]   .task-count[_ngcontent-%COMP%]{background-color:var(--bkg-color);color:var(--text-color)!important;cursor:pointer}mat-chip[_ngcontent-%COMP%]{min-width:100px!important;display:flex;justify-content:space-between}@media screen and (max-width: 959px){mat-chip[_ngcontent-%COMP%]{font-size:12px;min-width:120px!important}  .mat-chip-list-wrapper{flex-wrap:nowrap!important;overflow-x:auto!important;-webkit-overflow-scrolling:touch;padding-bottom:10px;justify-content:flex-start!important}}  .mat-chip-list-wrapper{justify-content:center}"]}),at})();function qt(at,Jt){if(1&at){const be=_.EpF();_.TgZ(0,"div",7)(1,"app-to-do-item",8),_.NdJ("done",function(){const ue=_.CHM(be).$implicit,Nt=_.oxw();return _.KtG(Nt.onDone(ue))})("bookMark",function(){const ue=_.CHM(be).$implicit,Nt=_.oxw();return _.KtG(Nt.onBookMark(ue))})("remove",function(){const ue=_.CHM(be).$implicit,Nt=_.oxw();return _.KtG(Nt.onRemove(ue))})("edit",function(){const ue=_.CHM(be).$implicit,Nt=_.oxw();return _.KtG(Nt.openDialogTask(ue))}),_.qZA()()}if(2&at){const be=Jt.$implicit;_.xp6(1),_.Q6J("task",be)}}let Mt=(()=>{class at{constructor(be,Ne,ke,ue,Nt,zt){this.db=be,this.taskService=Ne,this.authService=ke,this.afAuth=ue,this.dialog=Nt,this.bottomSheet=zt,this.subscriptions=new ne.w,this.isMobile=!1,this.width=window.innerWidth,this.height=window.innerHeight,this.mobileWidth=760,this.tasks=[]}ngOnInit(){this.isMobile=this.width<this.mobileWidth,this.subscriptions.add(this.taskService.taskFiltered$.asObservable().subscribe(be=>{this.tasks=be})),this.getTasks()}onWindowResize(){this.width=window.innerWidth,this.height=window.innerHeight,this.isMobile=this.width<this.mobileWidth}getTasks(){const be=this.taskService.getLiveTasks();(0,C.aj)([be,this.taskService.searchItem]).subscribe(([ke,ue])=>{this.tasks=ke.filter(Nt=>ue?Nt.title.indexOf(ue)>=0:1)})}drop(be){(0,jn.bA)(this.tasks,be.previousIndex,be.currentIndex),this.taskService.updateAll(this.tasks).finally()}openDialogTask(be){this.isMobile?this.bottomSheet.open(Ze,{disableClose:!0,hasBackdrop:!0,data:{task:be}}).afterDismissed().subscribe(()=>{}):this.dialog.open(qn,{disableClose:!1,width:"400px",height:"auto",data:{task:be}})}onDone(be){this.taskService.doneTask(be.id,!be.isDone).finally()}onBookMark(be){this.taskService.bookMarkTask(be.id,!be.isBookmark).finally()}onRemove(be){this.isMobile?this.bottomSheet.open(rn,{disableClose:!0}).afterDismissed().subscribe(()=>{}):this.dialog.open(oi,{disableClose:!0}).afterClosed().subscribe(ke=>{ke&&this.taskService.removeTask(be.id).finally()})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return at.\u0275fac=function(be){return new(be||at)(_.Y36(Se.ST),_.Y36(je),_.Y36(Ke.e),_.Y36(Pe.zQ),_.Y36(fe.uw),_.Y36(Nn.ch))},at.\u0275cmp=_.Xpm({type:at,selectors:[["app-to-do-list"]],hostBindings:function(be,Ne){1&be&&_.NdJ("resize",function(ue){return Ne.onWindowResize(ue)},!1,_.Jf7)},decls:8,vars:1,consts:function(){let Jt;return Jt="Add a task",[[1,"mb-5","add-task-card",3,"click"],["fill","currentColor","aria-hidden","true","width","20","height","20","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"fluentIcon","___12fm75w","f1w7gpdv","fez10in","fg4l7m0"],["d","M10 2.5a.5.5 0 00-1 0V9H2.5a.5.5 0 000 1H9v6.5a.5.5 0 001 0V10h6.5a.5.5 0 000-1H10V2.5z","fill","currentColor"],[1,"title"],Jt,["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag",""],[3,"task","done","bookMark","remove","edit"]]},template:function(be,Ne){1&be&&(_._UZ(0,"app-filter-box"),_.TgZ(1,"mat-card",0),_.NdJ("click",function(){return Ne.openDialogTask()}),_.O4$(),_.TgZ(2,"svg",1),_._UZ(3,"path",2),_.qZA(),_.kcU(),_.TgZ(4,"p",3),_.SDv(5,4),_.qZA()(),_.TgZ(6,"div",5),_.NdJ("cdkDropListDropped",function(ue){return Ne.drop(ue)}),_.YNc(7,qt,2,1,"div",6),_.qZA()),2&be&&(_.xp6(7),_.Q6J("ngForOf",Ne.tasks))},dependencies:[p.sg,St.a8,jn.Wj,jn.Zt,tn,It],styles:["[_nghost-%COMP%]{width:100%!important;margin:0 20px 20px!important}.add-task-card[_ngcontent-%COMP%]{margin-bottom:8px;display:flex;align-items:center;background-color:var(--card-item);cursor:pointer}.add-task-card[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{color:#78bafd!important}.add-task-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#78bafd!important;font-weight:400}div[_ngcontent-%COMP%]{cursor:move!important}"]}),at})(),Ht=(()=>{class at{constructor(be,Ne){this.afs=be,this.authService=Ne,this.userId=this.authService.getUid()}getUser(){return this.afs.doc(`users/${this.userId}`).snapshotChanges().pipe((0,ye.U)(be=>be.payload.data()))}}return at.\u0275fac=function(be){return new(be||at)(_.LFG(Se.ST),_.LFG(Ke.e))},at.\u0275prov=_.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})();var En=k(3336);let Gt=(()=>{class at{constructor(){this.darkMode=new _.vpe}ngOnInit(){this.theme=JSON.parse(localStorage.getItem("dark-mode")),this.theme&&(this.isDarkTheme=this.theme),this.isDarkTheme?document.body.classList.toggle("dark-theme"):document.body.classList.toggle("light-theme")}toggleTheme(){this.isDarkTheme=!this.isDarkTheme,console.log(this.isDarkTheme),this.isDarkTheme?(document.body.classList.remove("light-theme"),document.body.classList.add("dark-theme")):(document.body.classList.remove("dark-theme"),document.body.classList.add("light-theme")),localStorage.setItem("dark-mode",JSON.stringify(this.isDarkTheme)),this.darkMode.emit(this.isDarkTheme)}}return at.\u0275fac=function(be){return new(be||at)},at.\u0275cmp=_.Xpm({type:at,selectors:[["app-toggle-theme"]],outputs:{darkMode:"darkMode"},decls:2,vars:1,consts:[[3,"click"],[3,"src"]],template:function(be,Ne){1&be&&(_.TgZ(0,"button",0),_.NdJ("click",function(){return Ne.toggleTheme()}),_._UZ(1,"img",1),_.qZA()),2&be&&(_.xp6(1),_.Q6J("src",Ne.isDarkTheme?"./assets/images/dark.svg":"./assets/images/light.svg",_.LSH))},styles:["@media screen and (max-width: 959px){button[_ngcontent-%COMP%]{width:40px!important;height:40px!important}}button[_ngcontent-%COMP%]{width:25px;margin-right:10px;height:30px}"]}),at})();function $n(at,Jt){if(1&at&&(_.TgZ(0,"option",2),_._uU(1),_.qZA()),2&at){const be=Jt.$implicit;_.Q6J("value",be.code),_.xp6(1),_.hij(" ",be.name," ")}}let Dn=(()=>{class at{constructor(be){this.activeLocale=be,this.lang="En",this.selectLang=new _.vpe,this.locales=[{code:"en",name:"En"},{code:"fa",name:"Fa"}]}ngOnInit(){this.lang="En"===localStorage.getItem("lang")?"En":"Fa"}onChange(){const be=JSON.stringify(this.lang);localStorage.setItem("lang",be),this.lang="En"===this.lang?"Fa":"En",this.selectLang.emit(this.lang),window.location.href=`/todo-list/${this.activeLocale}`}}return at.\u0275fac=function(be){return new(be||at)(_.Y36(_.soG))},at.\u0275cmp=_.Xpm({type:at,selectors:[["app-toggle-language"]],outputs:{selectLang:"selectLang"},decls:2,vars:2,consts:[[3,"ngModel","change","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(be,Ne){1&be&&(_.TgZ(0,"select",0),_.NdJ("change",function(){return Ne.onChange()})("ngModelChange",function(ue){return Ne.activeLocale=ue}),_.YNc(1,$n,2,2,"option",1),_.qZA()),2&be&&(_.Q6J("ngModel",Ne.activeLocale),_.xp6(1),_.Q6J("ngForOf",Ne.locales))},dependencies:[p.sg,J.YN,J.Kr,J.EJ,J.JJ,J.On],styles:["select[_ngcontent-%COMP%]{border-radius:5px;margin-right:8px}"]}),at})();function gt(at,Jt){1&at&&(_.TgZ(0,"span"),_.SDv(1,13),_.qZA())}function ee(at,Jt){1&at&&(_.TgZ(0,"span"),_.SDv(1,14),_.qZA())}function de(at,Jt){1&at&&(_.TgZ(0,"span"),_.SDv(1,15),_.qZA())}function Le(at,Jt){1&at&&(_.TgZ(0,"span"),_.SDv(1,16),_.qZA())}let Be=(()=>{class at{constructor(be){this.userService=be}ngOnInit(){this.getUserInfo()}getTheme(be){this.isDarkMode=be}getLang(be){this.lang=be}getUserInfo(){this.user$=this.userService.getUser()}}return at.\u0275fac=function(be){return new(be||at)(_.Y36(Ht))},at.\u0275cmp=_.Xpm({type:at,selectors:[["app-user-info-dialog"]],decls:27,vars:18,consts:function(){let Jt,be,Ne,ke,ue,Nt;return Jt="close",be="photo",Ne="Switch To Light Mode",ke="Switch To Dark Mode",ue="Switch To Fa",Nt="Switch To En",[[1,"dialog-header"],["mat-dialog-close",""],["src","./assets/images/close.svg","alt",Jt],[1,"profile-container"],[1,"dialog-content"],[1,"profile-content"],["alt",be,1,"h-6","sm:h-9","shadow-lg","flex","items-center","rounded-full","profile-photo",3,"src"],[1,"user-info"],[1,"dark-mode-container"],[3,"darkMode"],[4,"ngIf"],[1,"lang-container"],[3,"selectLang"],Ne,ke,ue,Nt]},template:function(be,Ne){if(1&be&&(_.TgZ(0,"div",0)(1,"mat-icon",1),_._UZ(2,"img",2),_.qZA()(),_.TgZ(3,"div",3)(4,"div",4)(5,"div",5),_._UZ(6,"img",6),_.ALo(7,"async"),_.ALo(8,"async"),_.TgZ(9,"div",7)(10,"p"),_._uU(11),_.ALo(12,"async"),_.ALo(13,"async"),_.qZA(),_.TgZ(14,"p"),_._uU(15),_.ALo(16,"async"),_.qZA()()(),_._UZ(17,"hr"),_.TgZ(18,"div",8)(19,"app-toggle-theme",9),_.NdJ("darkMode",function(ue){return Ne.getTheme(ue)}),_.qZA(),_.YNc(20,gt,2,0,"span",10),_.YNc(21,ee,2,0,"span",10),_.qZA(),_._UZ(22,"hr"),_.TgZ(23,"div",11)(24,"app-toggle-language",12),_.NdJ("selectLang",function(ue){return Ne.getLang(ue)}),_.qZA(),_.YNc(25,de,2,0,"span",10),_.YNc(26,Le,2,0,"span",10),_.qZA()()()),2&be){let ke,ue,Nt;_.xp6(6),_.Q6J("src",null!=(ke=_.lcZ(7,8,Ne.user$))&&ke.photoURL?null==(ke=_.lcZ(8,10,Ne.user$))?null:ke.photoURL:"./assets/images/user.png",_.LSH),_.xp6(5),_.AsE("",null==(ue=_.lcZ(12,12,Ne.user$))?null:ue.firstName," ",null==(ue=_.lcZ(13,14,Ne.user$))?null:ue.lastName,""),_.xp6(4),_.Oqu(null==(Nt=_.lcZ(16,16,Ne.user$))?null:Nt.email),_.xp6(5),_.Q6J("ngIf",Ne.isDarkMode),_.xp6(1),_.Q6J("ngIf",!Ne.isDarkMode),_.xp6(4),_.Q6J("ngIf",Ne.lang),_.xp6(1),_.Q6J("ngIf",!Ne.lang)}},dependencies:[p.O5,En.Hw,fe.ZT,Gt,Dn,p.Ov],styles:[".dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding:10px 0 0 20px}.profile-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--bkg-color)}.profile-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{min-height:200px;width:95%}.profile-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]{display:flex;padding:20px;align-items:center}.profile-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px}.profile-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{margin-left:20px}.profile-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dark-mode-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:20px;padding-top:20px;font-size:18px}.profile-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .lang-container[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:18px;padding:20px 0 20px 20px}  .mat-dialog-container{padding:0;background-color:var(--card-item)!important;width:95%!important}  .cdk-overlay-pane{width:95%!important;justify-content:center!important}"]}),at})();var Ct=k(8255);function Zt(at,Jt){if(1&at&&(_.TgZ(0,"div",11),_._UZ(1,"img",12),_.ALo(2,"async"),_.ALo(3,"async"),_.qZA()),2&at){const be=_.oxw(),Ne=_.MAs(3);let ke;_.Q6J("matMenuTriggerFor",Ne),_.xp6(1),_.Q6J("src",null!=(ke=_.lcZ(2,2,be.user$))&&ke.photoURL?null==(ke=_.lcZ(3,4,be.user$))?null:ke.photoURL:"./assets/images/user.png",_.LSH)}}let hn=(()=>{class at{constructor(be,Ne){this.userService=be,this.authService=Ne}ngOnInit(){this.getUser()}getUser(){this.user$=this.userService.getUser()}signOut(){this.authService.SignOut().finally()}}return at.\u0275fac=function(be){return new(be||at)(_.Y36(Ht),_.Y36(Ke.e))},at.\u0275cmp=_.Xpm({type:at,selectors:[["app-profile"]],decls:21,vars:15,consts:function(){let Jt,be,Ne,ke;return Jt="photo",be="sign out",Ne="log-out",ke="photo",[["class","bg-gray-100 shadow-lg flex items-center rounded-full",3,"matMenuTriggerFor",4,"ngIf"],[1,"profile-container"],["menu","matMenu"],[1,"menu-container"],["alt",Jt,1,"h-6","sm:h-9","shadow-lg","flex","items-center","rounded-full","profile-photo",3,"src"],[1,"user-info"],[1,"user-email"],[1,"sign-out"],[3,"click"],be,["src","./assets/images/log-out.svg","alt",Ne],[1,"bg-gray-100","shadow-lg","flex","items-center","rounded-full",3,"matMenuTriggerFor"],["alt",ke,1,"h-6","sm:h-9","shadow-lg","flex","items-center","rounded-full",3,"src"]]},template:function(be,Ne){if(1&be&&(_.YNc(0,Zt,4,6,"div",0),_.TgZ(1,"div",1)(2,"mat-menu",null,2)(4,"div",3),_._UZ(5,"img",4),_.ALo(6,"async"),_.ALo(7,"async"),_.TgZ(8,"div",5)(9,"p",6),_._uU(10),_.ALo(11,"async"),_.ALo(12,"async"),_.qZA(),_.TgZ(13,"p",6),_._uU(14),_.ALo(15,"async"),_.qZA()()(),_._UZ(16,"hr"),_.TgZ(17,"div",7)(18,"a",8),_.NdJ("click",function(){return Ne.signOut()}),_.SDv(19,9),_.qZA(),_._UZ(20,"img",10),_.qZA()()()),2&be){let ke,ue,Nt;_.Q6J("ngIf",Ne.user$),_.xp6(5),_.Q6J("src",null!=(ke=_.lcZ(6,5,Ne.user$))&&ke.photoURL?null==(ke=_.lcZ(7,7,Ne.user$))?null:ke.photoURL:"./assets/images/user.png",_.LSH),_.xp6(5),_.AsE("",null==(ue=_.lcZ(11,9,Ne.user$))?null:ue.firstName," ",null==(ue=_.lcZ(12,11,Ne.user$))?null:ue.lastName,""),_.xp6(4),_.Oqu(null==(Nt=_.lcZ(15,13,Ne.user$))?null:Nt.email)}},dependencies:[p.O5,Ct.VK,Ct.p6,p.Ov],styles:["#menu[_ngcontent-%COMP%]{width:320px!important;max-width:100vw!important;overflow-wrap:anywhere}.profile-container[_ngcontent-%COMP%]{background-color:var(--card-item)!important}.menu-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.menu-container[_ngcontent-%COMP%]   .profile-photo[_ngcontent-%COMP%]{width:70px!important;height:70px!important;margin-left:5px}.menu-container[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:15px;margin-left:5px}.menu-container[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-email[_ngcontent-%COMP%]{font-size:14px!important;margin-right:5px}.sign-out[_ngcontent-%COMP%]{display:flex;margin-right:5px;justify-content:end;cursor:pointer}.sign-out[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;filter:invert(73%) sepia(14%) saturate(0%) hue-rotate(210deg) brightness(93%) contrast(91%)}.sign-out[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;margin-right:5px}hr[_ngcontent-%COMP%]{margin:10px 0}  .mat-menu-panel{width:400px}"]}),at})(),Un=(()=>{class at{constructor(be,Ne){this.taskService=be,this.dialog=Ne}search(be){this.taskService.search(be)}openDialogUser(){this.dialog.open(Be,{disableClose:!1})}}return at.\u0275fac=function(be){return new(be||at)(_.Y36(je),_.Y36(fe.uw))},at.\u0275cmp=_.Xpm({type:at,selectors:[["app-header"]],decls:15,vars:1,consts:function(){let Jt;return Jt="photo",[[1,"header-container"],[1,"lg:px-16","px-6","primary-color","flex","flex-wrap","items-center","lg:py-0","py-2"],[1,"flex-1","flex","justify-between","items-center"],[1,"flex","items-center"],["src","./assets/images/icon.png","alt","Todo Logo",1,"mr-3","h-6","sm:h-9"],[1,"self-center","text-xl","font-semibold","whitespace-nowrap","text-white","dark:text-white"],[1,"pointer-cursor","lg:hidden","block"],["alt",Jt,1,"avatar","h-6","sm:h-9","shadow-lg","flex","items-center","rounded-full","profile-photo",3,"src","click"],["id","menu",1,"hidden","lg:flex","lg:items-center","lg:w-auto","w-full"],[1,"flex","items-center","lg:order-2","align-center"]]},template:function(be,Ne){1&be&&(_.TgZ(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3),_._UZ(4,"img",4),_.TgZ(5,"span",5),_._uU(6,"To Do"),_.qZA()()(),_.TgZ(7,"label",6)(8,"img",7),_.NdJ("click",function(){return Ne.openDialogUser()}),_.qZA()(),_.TgZ(9,"div",8)(10,"nav")(11,"div",9),_._UZ(12,"app-toggle-language")(13,"app-toggle-theme")(14,"app-profile"),_.qZA()()()()()),2&be&&(_.xp6(8),_.Q6J("src","./assets/images/user.png",_.LSH))},dependencies:[Gt,Dn,hn],styles:["span[_ngcontent-%COMP%]{font-weight:600!important;font-size:16px;line-height:48px;color:#fff!important}header[_ngcontent-%COMP%]{border-bottom:1px var(--bg-secondary) solid}.header-container[_ngcontent-%COMP%]{background-color:var(--primary-color)}.lang[_ngcontent-%COMP%]{background-color:#e7dcdc;padding:3px;margin-right:10px}@media screen and (max-width: 959px){.avatar[_ngcontent-%COMP%]{width:40px!important;height:40px!important}}#menu-toggle[_ngcontent-%COMP%]:checked + #menu[_ngcontent-%COMP%]{display:block}"]}),at})();const pn=[{path:"",component:(()=>{class at{constructor(){}}return at.\u0275fac=function(be){return new(be||at)},at.\u0275cmp=_.Xpm({type:at,selectors:[["app-dashboard"]],decls:4,vars:0,consts:[[1,"dashboard-container"],[1,"task-container"]],template:function(be,Ne){1&be&&(_.TgZ(0,"div",0),_._UZ(1,"app-header"),_.TgZ(2,"div",1),_._UZ(3,"app-to-do-list"),_.qZA()())},dependencies:[Mt,Un],styles:[".dashboard-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.dashboard-container[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]{display:flex;background-color:var(--bg-secondary)!important;height:90%;padding:0 150px;overflow:auto}@media screen and (max-width: 959px){.dashboard-container[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]{padding:10px;align-items:center;flex-direction:column}}"]}),at})()}];let Fn=(()=>{class at{}return at.\u0275fac=function(be){return new(be||at)},at.\u0275mod=_.oAB({type:at}),at.\u0275inj=_.cJS({imports:[N.Bz.forChild(pn),N.Bz]}),at})();var di=k(1251),hi=k(8704);let ni=(()=>{class at{}return at.\u0275fac=function(be){return new(be||at)},at.\u0275mod=_.oAB({type:at}),at.\u0275inj=_.cJS({imports:[p.ez,Fn,hi.u,di.m,fe.Is]}),at})()},986:(_n,vt,k)=>{"use strict";k.d(vt,{e:()=>Pe});var p=k(732),J=(k(2090),k(9681),k(1877),k(4859),k(4650)),we=k(2796),fe=k(4941),Se=k(7868),ae=k(591);let me=(()=>{class Ke{constructor(){this.loading$=new ae.X(!1)}start(){this.loading$.next(!0)}complete(){this.loading$.next(!1)}}return Ke.\u0275fac=function(je){return new(je||Ke)},Ke.\u0275prov=J.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"}),Ke})();var ye=k(7185);let Pe=(()=>{class Ke{constructor(je,ct,mt,jt,ht,kt){this.afs=je,this.afAuth=ct,this.router=mt,this.apiService=jt,this.toastr=ht,this.ngZone=kt,this.afAuth.authState.subscribe(yt=>{yt?(this.userData=yt,this.userId=yt.uid,this.emailVerified=yt.emailVerified,localStorage.setItem("uid",this.userId),localStorage.setItem("emailVerified",this.emailVerified)):localStorage.setItem("uid","null")})}getUid(){return localStorage.getItem("uid")}SignIn(je,ct){return this.apiService.start(),this.afAuth.signInWithEmailAndPassword(je,ct).then(mt=>{this.SetUserData(mt.user),this.afAuth.authState.subscribe(jt=>{this.apiService.complete(),jt&&(this.router.navigate(["dashboard"]),localStorage.setItem("dark-mode","false"))})}).catch(mt=>{this.apiService.complete(),this.toastr.error(mt.message)})}SignUp(je,ct,mt,jt){return this.afAuth.createUserWithEmailAndPassword(mt,jt).then(ht=>{this.SendVerificationMail(),this.SetUserData(ht.user,je,ct),this.router.navigate(["auth/verify-email-address"])}).catch(ht=>{this.toastr.error(ht.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(je=>je.sendEmailVerification()).then(()=>{this.router.navigate(["auth/verify-email-address"])})}ForgotPassword(je){return this.afAuth.sendPasswordResetEmail(je).then(()=>{this.toastr.error("Password reset email sent, check your inbox.")}).catch(ct=>{this.toastr.error(ct)})}get isLoggedIn(){const je=localStorage.getItem("uid"),ct=JSON.parse(localStorage.getItem("emailVerified"));return null!==je&&!0===ct}GoogleAuth(){return this.AuthLogin(new p.Q).then(je=>{this.afAuth.authState.subscribe(ct=>{ct&&(this.router.navigate(["dashboard"]),localStorage.setItem("dark-mode","false"))})}).catch(je=>{this.toastr.error(je)})}AuthLogin(je){return this.afAuth.signInWithPopup(je).then(ct=>{let mt="",jt="";try{mt=ct.user.displayName.split(" ")[0],jt=ct.user.displayName.replace(mt,"")}catch{mt=ct.user.displayName}this.SetUserData(ct.user,mt,jt)}).catch(ct=>{this.toastr.error(ct.message)})}SetUserData(je,ct,mt){const jt=this.afs.doc(`users/${je.uid}`),ht={uid:je.uid,email:je.email,photoURL:je.photoURL,emailVerified:je.emailVerified};return ct&&(ht.firstName=ct),mt&&(ht.lastName=mt),jt.set(ht,{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.clear(),this.router.navigate(["auth/sign-in"])})}}return Ke.\u0275fac=function(je){return new(je||Ke)(J.LFG(we.ST),J.LFG(fe.zQ),J.LFG(Se.F0),J.LFG(me),J.LFG(ye._W),J.LFG(J.R0b))},Ke.\u0275prov=J.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"}),Ke})()},8704:(_n,vt,k)=>{"use strict";k.d(vt,{u:()=>_});var p=k(1251),N=k(4650);let _=(()=>{class ne{}return ne.\u0275fac=function(J){return new(J||ne)},ne.\u0275mod=N.oAB({type:ne}),ne.\u0275inj=N.cJS({imports:[p.m]}),ne})()},1251:(_n,vt,k)=>{"use strict";k.d(vt,{m:()=>Xd});var p=k(6895),N=k(4006),_=k(1281),ne=k(3353),C=k(4650),J=k(3238),we=k(2654),fe=k(8929),Pe=(k(8514),k(6787),k(1086),k(3753),k(8184)),Ke=k(2556),ut=k(445),ct=(k(9521),k(4080)),mt=k(9549);k(1059),k(7545),k(2986),k(2198),k(4850),k(2868),k(8583);const Ue={provide:new C.OlP("mat-autocomplete-scroll-strategy"),deps:[Pe.aV],useFactory:function Re(w){return()=>w.scrollStrategies.reposition()}};let Ln=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({providers:[Ue],imports:[Pe.U8,J.Ng,J.BQ,p.ez,Ke.ZD,J.Ng,J.BQ]}),w})();var It=k(2687),qt=k(9643);let Cn=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({}),w})(),pn=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[J.si,J.BQ,qt.Q8,Cn,J.BQ,Cn]}),w})(),ke=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[J.si,J.BQ,J.BQ]}),w})();k(7340);var Nt=k(4144);let De=(()=>{class w{constructor(){this.changes=new fe.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(c,v){return`${c} \u2013 ${v}`}formatYearRangeLabel(c,v){return`${c} to ${v}`}}return w.\u0275fac=function(c){return new(c||w)},w.\u0275prov=C.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const Fa={provide:new C.OlP("mat-datepicker-scroll-strategy"),deps:[Pe.aV],useFactory:function no(w){return()=>w.scrollStrategies.reposition()}};let io=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({providers:[De,Fa],imports:[p.ez,ke,Pe.U8,It.rt,ct.eL,J.BQ,Ke.ZD]}),w})();k(5017);let Ur=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[J.si,J.BQ,J.BQ]}),w})();const Hr={provide:new C.OlP("mat-select-scroll-strategy"),deps:[Pe.aV],useFactory:function wo(w){return()=>w.scrollStrategies.reposition()}};let Cr=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({providers:[Hr],imports:[p.ez,Pe.U8,J.Ng,J.BQ,Ke.ZD,mt.lN,J.Ng,J.BQ]}),w})(),Yr=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[p.ez,J.BQ,J.BQ]}),w})(),Qn=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({}),w})(),Ni=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[Qn,J.si,J.BQ,qt.Q8,Qn,J.BQ]}),w})();var bi=k(8255);let ys=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[J.BQ,J.BQ]}),w})(),Vo=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[p.ez,J.BQ,Ke.ZD,Ke.ZD,J.BQ]}),w})();var Rn=k(3546);let pa=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[J.BQ,J.BQ]}),w})(),rl=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[J.uc,J.BQ,J.uc,J.BQ]}),w})(),va=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[p.ez,J.BQ,ct.eL,J.si,qt.Q8,It.rt,J.BQ]}),w})(),Fi=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[ut.vT]}),w})();var Ri=k(3336);let kd=(()=>{class w{constructor(){this.changes=new fe.xQ,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return w.\u0275fac=function(c){return new(c||w)},w.\u0275prov=C.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const af={provide:kd,deps:[[new C.FiY,new C.tp0,kd]],useFactory:function yh(w){return w||new kd}};let Pc=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({providers:[af,J.rD],imports:[J.BQ,p.ez,ct.eL,ke,Fi,Ri.Ps,J.si,J.BQ]}),w})();k(7625);let sc=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[J.uc,J.si,J.BQ,J.us,p.ez,J.uc,J.BQ,J.us,pa]}),w})();k(591),k(6498);let pe=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({}),w})(),Xs=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[pe,J.BQ,J.BQ]}),w})(),Sh=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[J.BQ,J.si,J.BQ]}),w})(),Mh=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[It.rt,J.BQ,J.BQ]}),w})();var bs=k(7331);function wu(w,S){if(1&w&&(C.O4$(),C._UZ(0,"circle",4)),2&w){const c=C.oxw(),v=C.MAs(1);C.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+c._spinnerAnimationLabel)("stroke-dashoffset",c._getStrokeDashOffset(),"px")("stroke-dasharray",c._getStrokeCircumference(),"px")("stroke-width",c._getCircleStrokeWidth(),"%")("transform-origin",c._getCircleTransformOrigin(v)),C.uIk("r",c._getCircleRadius())}}function hm(w,S){if(1&w&&(C.O4$(),C._UZ(0,"circle",4)),2&w){const c=C.oxw(),v=C.MAs(1);C.Udp("stroke-dashoffset",c._getStrokeDashOffset(),"px")("stroke-dasharray",c._getStrokeCircumference(),"px")("stroke-width",c._getCircleStrokeWidth(),"%")("transform-origin",c._getCircleTransformOrigin(v)),C.uIk("r",c._getCircleRadius())}}const pp=(0,J.pj)(class{constructor(w){this._elementRef=w}},"primary"),Nd=new C.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Eu(){return{diameter:100}}});class Il extends pp{constructor(S,c,v,O,ie,Dt,Xt,kn){super(S),this._document=v,this._diameter=100,this._value=0,this._resizeSubscription=we.w.EMPTY,this.mode="determinate";const xi=Il._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),xi.has(v.head)||xi.set(v.head,new Set([100])),this._noopAnimations="NoopAnimations"===O&&!!ie&&!ie._forceAnimations,"mat-spinner"===S.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),ie&&(ie.color&&(this.color=this.defaultColor=ie.color),ie.diameter&&(this.diameter=ie.diameter),ie.strokeWidth&&(this.strokeWidth=ie.strokeWidth)),c.isBrowser&&c.SAFARI&&Xt&&Dt&&kn&&(this._resizeSubscription=Xt.change(150).subscribe(()=>{"indeterminate"===this.mode&&kn.run(()=>Dt.markForCheck())}))}get diameter(){return this._diameter}set diameter(S){this._diameter=(0,_.su)(S),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(S){this._strokeWidth=(0,_.su)(S)}get value(){return"determinate"===this.mode?this._value:0}set value(S){this._value=Math.max(0,Math.min(100,(0,_.su)(S)))}ngOnInit(){const S=this._elementRef.nativeElement;this._styleRoot=(0,ne.kV)(S)||this._document.head,this._attachStyleNode(),S.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const S=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${S} ${S}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(S){var c;const v=50*(null!==(c=S.currentScale)&&void 0!==c?c:1);return`${v}% ${v}%`}_attachStyleNode(){const S=this._styleRoot,c=this._diameter,v=Il._diameters;let O=v.get(S);if(!O||!O.has(c)){const ie=this._document.createElement("style");ie.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),ie.textContent=this._getAnimationText(),S.appendChild(ie),O||(O=new Set,v.set(S,O)),O.add(c)}}_getAnimationText(){const S=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*S).replace(/END_VALUE/g,""+.2*S).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Il._diameters=new WeakMap,Il.\u0275fac=function(S){return new(S||Il)(C.Y36(C.SBq),C.Y36(ne.t4),C.Y36(p.K0,8),C.Y36(C.QbO,8),C.Y36(Nd),C.Y36(C.sBO),C.Y36(Ke.rL),C.Y36(C.R0b))},Il.\u0275cmp=C.Xpm({type:Il,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(S,c){2&S&&(C.uIk("aria-valuemin","determinate"===c.mode?0:null)("aria-valuemax","determinate"===c.mode?100:null)("aria-valuenow","determinate"===c.mode?c.value:null)("mode",c.mode),C.Udp("width",c.diameter,"px")("height",c.diameter,"px"),C.ekj("_mat-animation-noopable",c._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[C.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(S,c){1&S&&(C.O4$(),C.TgZ(0,"svg",0,1),C.YNc(2,wu,1,11,"circle",2),C.YNc(3,hm,1,9,"circle",3),C.qZA()),2&S&&(C.Udp("width",c.diameter,"px")("height",c.diameter,"px"),C.Q6J("ngSwitch","indeterminate"===c.mode),C.uIk("viewBox",c._getViewBox()),C.xp6(2),C.Q6J("ngSwitchCase",!0),C.xp6(1),C.Q6J("ngSwitchCase",!1))},dependencies:[p.RF,p.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let ff=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[J.BQ,p.ez,J.BQ]}),w})(),mf=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[p.ez,J.BQ,J.BQ]}),w})();var Eg=k(8242),Ih=k(5938);let bp=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[Pe.U8,ct.eL,p.ez,ke,J.BQ,J.BQ]}),w})();const xg={provide:new C.OlP("mat-tooltip-scroll-strategy"),deps:[Pe.aV],useFactory:function Cp(w){return()=>w.scrollStrategies.reposition({scrollThrottle:20})}};let vf=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({providers:[xg],imports:[It.rt,p.ez,Pe.U8,J.BQ,J.BQ,Ke.ZD]}),w})(),Vd=(()=>{class w{constructor(){this.changes=new fe.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(c,v,O)=>{if(0==O||0==v)return`0 of ${O}`;const ie=c*v;return`${ie+1} \u2013 ${ie<(O=Math.max(O,0))?Math.min(ie+v,O):ie+v} of ${O}`}}}return w.\u0275fac=function(c){return new(c||w)},w.\u0275prov=C.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const Cm={provide:Vd,deps:[[new C.FiY,new C.tp0,Vd]],useFactory:function bm(w){return w||new Vd}};let Sr=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({providers:[Cm],imports:[p.ez,ke,Cr,vf,J.BQ]}),w})(),zs=(()=>{class w{constructor(){this.changes=new fe.xQ}}return w.\u0275fac=function(c){return new(c||w)},w.\u0275prov=C.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const sd={provide:zs,deps:[[new C.FiY,new C.tp0,zs]],useFactory:function Rh(w){return w||new zs}};let jc=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({providers:[sd],imports:[p.ez,J.BQ]}),w})();k(5254);let Kc=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[Ke.Cl]}),w})(),kp=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[Kc,J.BQ,J.BQ]}),w})();var ud=k(3977);const Aa=[p.ez,Ln,pn,io,mt.lN,Nt.c,Ur,Cr,Yr,Ni,bi.Tx,Vo,ys,Rn.QW,pa,rl,sc,Pc,va,Xs,ke,Sh,Mh,bs.Hi,Ri.Ps,ff,mt.lN,Nt.c,mf,J.si,Eg._r,Ih.Is,bp,vf,Sr,jc,ud._t,kp];let Qd=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[Aa,p.ez,Ln,pn,io,mt.lN,Nt.c,Ur,Cr,Yr,Ni,bi.Tx,Vo,ys,Rn.QW,pa,rl,sc,Pc,va,Xs,ke,Sh,Mh,bs.Hi,Ri.Ps,ff,mt.lN,Nt.c,mf,J.si,Eg._r,Ih.Is,bp,vf,Sr,jc,ud._t,kp]}),w})();const Af=[N.u5,N.UX,Qd];let Xd=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[p.ez,Af,N.u5,N.UX,Qd]}),w})()},8100:(_n,vt,k)=>{"use strict";var p=k(1481),N=k(4650),_=k(7340);function C(u){return new N.vHH(3e3,!1)}function Ze(){return typeof window<"u"&&typeof window.document<"u"}function St(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function tn(u){switch(u.length){case 0:return new _.ZN;case 1:return u[0];default:return new _.ZE(u)}}function Ln(u,i,o,d,g=new Map,T=new Map){const P=[],z=[];let le=-1,Te=null;if(d.forEach(_t=>{const wt=_t.get("offset"),Ut=wt==le,mn=Ut&&Te||new Map;_t.forEach((wn,s)=>{let e=s,t=wn;if("offset"!==s)switch(e=i.normalizePropertyName(e,P),t){case _.k1:t=g.get(s);break;case _.l3:t=T.get(s);break;default:t=i.normalizeStyleValue(s,e,t,P)}mn.set(e,t)}),Ut||z.push(mn),Te=mn,le=wt}),P.length)throw function We(u){return new N.vHH(3502,!1)}();return z}function It(u,i,o,d){switch(i){case"start":u.onStart(()=>d(o&&qt(o,"start",u)));break;case"done":u.onDone(()=>d(o&&qt(o,"done",u)));break;case"destroy":u.onDestroy(()=>d(o&&qt(o,"destroy",u)))}}function qt(u,i,o){const T=Mt(u.element,u.triggerName,u.fromState,u.toState,i||u.phaseName,o.totalTime??u.totalTime,!!o.disabled),P=u._data;return null!=P&&(T._data=P),T}function Mt(u,i,o,d,g="",T=0,P){return{element:u,triggerName:i,fromState:o,toState:d,phaseName:g,totalTime:T,disabled:!!P}}function Ht(u,i,o){let d=u.get(i);return d||u.set(i,d=o),d}function En(u){const i=u.indexOf(":");return[u.substring(1,i),u.slice(i+1)]}let Gt=(u,i)=>!1,$n=(u,i,o)=>[],Dn=null;function gt(u){const i=u.parentNode||u.host;return i===Dn?null:i}(St()||typeof Element<"u")&&(Ze()?(Dn=(()=>document.documentElement)(),Gt=(u,i)=>{for(;i;){if(i===u)return!0;i=gt(i)}return!1}):Gt=(u,i)=>u.contains(i),$n=(u,i,o)=>{if(o)return Array.from(u.querySelectorAll(i));const d=u.querySelector(i);return d?[d]:[]});let Le=null,Be=!1;const Un=Gt,Cn=$n;let Fn=(()=>{class u{validateStyleProperty(o){return function Ct(u){Le||(Le=function hn(){return typeof document<"u"?document.body:null}()||{},Be=!!Le.style&&"WebkitAppearance"in Le.style);let i=!0;return Le.style&&!function de(u){return"ebkit"==u.substring(1,6)}(u)&&(i=u in Le.style,!i&&Be&&(i="Webkit"+u.charAt(0).toUpperCase()+u.slice(1)in Le.style)),i}(o)}matchesElement(o,d){return!1}containsElement(o,d){return Un(o,d)}getParentElement(o){return gt(o)}query(o,d,g){return Cn(o,d,g)}computeStyle(o,d,g){return g||""}animate(o,d,g,T,P,z=[],le){return new _.ZN(g,T)}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275prov=N.Yz7({token:u,factory:u.\u0275fac}),u})(),di=(()=>{class u{}return u.NOOP=new Fn,u})();const Jt="ng-enter",be="ng-leave",Ne="ng-trigger",ke=".ng-trigger",ue="ng-animating",Nt=".ng-animating";function zt(u){if("number"==typeof u)return u;const i=u.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:st(parseFloat(i[1]),i[2])}function st(u,i){return"s"===i?1e3*u:u}function rt(u,i,o){return u.hasOwnProperty("duration")?u:function Je(u,i,o){let g,T=0,P="";if("string"==typeof u){const z=u.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===z)return i.push(C()),{duration:0,delay:0,easing:""};g=st(parseFloat(z[1]),z[2]);const le=z[3];null!=le&&(T=st(parseFloat(le),z[4]));const Te=z[5];Te&&(P=Te)}else g=u;if(!o){let z=!1,le=i.length;g<0&&(i.push(function J(){return new N.vHH(3100,!1)}()),z=!0),T<0&&(i.push(function we(){return new N.vHH(3101,!1)}()),z=!0),z&&i.splice(le,0,C())}return{duration:g,delay:T,easing:P}}(u,i,o)}function Tt(u,i={}){return Object.keys(u).forEach(o=>{i[o]=u[o]}),i}function $t(u){const i=new Map;return Object.keys(u).forEach(o=>{i.set(o,u[o])}),i}function G(u,i=new Map,o){if(o)for(let[d,g]of o)i.set(d,g);for(let[d,g]of u)i.set(d,g);return i}function X(u,i,o){return o?i+":"+o+";":""}function K(u){let i="";for(let o=0;o<u.style.length;o++){const d=u.style.item(o);i+=X(0,d,u.style.getPropertyValue(d))}for(const o in u.style)u.style.hasOwnProperty(o)&&!o.startsWith("_")&&(i+=X(0,Ce(o),u.style[o]));u.setAttribute("style",i)}function he(u,i,o){u.style&&(i.forEach((d,g)=>{const T=De(g);o&&!o.has(g)&&o.set(g,u.style[T]),u.style[T]=d}),St()&&K(u))}function Xe(u,i){u.style&&(i.forEach((o,d)=>{const g=De(d);u.style[g]=""}),St()&&K(u))}function Et(u){return Array.isArray(u)?1==u.length?u[0]:(0,_.vP)(u):u}const fn=new RegExp("{{\\s*(.+?)\\s*}}","g");function ze(u){let i=[];if("string"==typeof u){let o;for(;o=fn.exec(u);)i.push(o[1]);fn.lastIndex=0}return i}function $e(u,i,o){const d=u.toString(),g=d.replace(fn,(T,P)=>{let z=i[P];return null==z&&(o.push(function Se(u){return new N.vHH(3003,!1)}()),z=""),z.toString()});return g==d?u:g}function He(u){const i=[];let o=u.next();for(;!o.done;)i.push(o.value),o=u.next();return i}const Ye=/-+([a-z0-9])/g;function De(u){return u.replace(Ye,(...i)=>i[1].toUpperCase())}function Ce(u){return u.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function sn(u,i,o){switch(i.type){case 7:return u.visitTrigger(i,o);case 0:return u.visitState(i,o);case 1:return u.visitTransition(i,o);case 2:return u.visitSequence(i,o);case 3:return u.visitGroup(i,o);case 4:return u.visitAnimate(i,o);case 5:return u.visitKeyframes(i,o);case 6:return u.visitStyle(i,o);case 8:return u.visitReference(i,o);case 9:return u.visitAnimateChild(i,o);case 10:return u.visitAnimateRef(i,o);case 11:return u.visitQuery(i,o);case 12:return u.visitStagger(i,o);default:throw function ae(u){return new N.vHH(3004,!1)}()}}function Kn(u,i){return window.getComputedStyle(u)[i]}function Mr(u,i){const o=[];return"string"==typeof u?u.split(/\s*,\s*/).forEach(d=>function br(u,i,o){if(":"==u[0]){const le=function ns(u,i){switch(u){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,d)=>parseFloat(d)>parseFloat(o);case":decrement":return(o,d)=>parseFloat(d)<parseFloat(o);default:return i.push(function pt(u){return new N.vHH(3016,!1)}()),"* => *"}}(u,o);if("function"==typeof le)return void i.push(le);u=le}const d=u.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==d||d.length<4)return o.push(function Ve(u){return new N.vHH(3015,!1)}()),i;const g=d[1],T=d[2],P=d[3];i.push(fs(g,P));"<"==T[0]&&!("*"==g&&"*"==P)&&i.push(fs(P,g))}(d,o,i)):o.push(u),o}const Vi=new Set(["true","1"]),to=new Set(["false","0"]);function fs(u,i){const o=Vi.has(u)||to.has(u),d=Vi.has(i)||to.has(i);return(g,T)=>{let P="*"==u||u==g,z="*"==i||i==T;return!P&&o&&"boolean"==typeof g&&(P=g?Vi.has(u):to.has(u)),!z&&d&&"boolean"==typeof T&&(z=T?Vi.has(i):to.has(i)),P&&z}}const Br=new RegExp("s*:selfs*,?","g");function qr(u,i,o,d){return new Ts(u).build(i,o,d)}class Ts{constructor(i){this._driver=i}build(i,o,d){const g=new Or(o);return this._resetContextStyleTimingState(g),sn(this,Et(i),g)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles=new Map,i.collectedStyles.set("",new Map),i.currentTime=0}visitTrigger(i,o){let d=o.queryCount=0,g=o.depCount=0;const T=[],P=[];return"@"==i.name.charAt(0)&&o.errors.push(function ye(){return new N.vHH(3006,!1)}()),i.definitions.forEach(z=>{if(this._resetContextStyleTimingState(o),0==z.type){const le=z,Te=le.name;Te.toString().split(/\s*,\s*/).forEach(_t=>{le.name=_t,T.push(this.visitState(le,o))}),le.name=Te}else if(1==z.type){const le=this.visitTransition(z,o);d+=le.queryCount,g+=le.depCount,P.push(le)}else o.errors.push(function Pe(){return new N.vHH(3007,!1)}())}),{type:7,name:i.name,states:T,transitions:P,queryCount:d,depCount:g,options:null}}visitState(i,o){const d=this.visitStyle(i.styles,o),g=i.options&&i.options.params||null;if(d.containsDynamicStyles){const T=new Set,P=g||{};d.styles.forEach(z=>{z instanceof Map&&z.forEach(le=>{ze(le).forEach(Te=>{P.hasOwnProperty(Te)||T.add(Te)})})}),T.size&&(He(T.values()),o.errors.push(function Ke(u,i){return new N.vHH(3008,!1)}()))}return{type:0,name:i.name,style:d,options:g?{params:g}:null}}visitTransition(i,o){o.queryCount=0,o.depCount=0;const d=sn(this,Et(i.animation),o);return{type:1,matchers:Mr(i.expr,o.errors),animation:d,queryCount:o.queryCount,depCount:o.depCount,options:as(i.options)}}visitSequence(i,o){return{type:2,steps:i.steps.map(d=>sn(this,d,o)),options:as(i.options)}}visitGroup(i,o){const d=o.currentTime;let g=0;const T=i.steps.map(P=>{o.currentTime=d;const z=sn(this,P,o);return g=Math.max(g,o.currentTime),z});return o.currentTime=g,{type:3,steps:T,options:as(i.options)}}visitAnimate(i,o){const d=function ko(u,i){if(u.hasOwnProperty("duration"))return u;if("number"==typeof u)return gs(rt(u,i).duration,0,"");const o=u;if(o.split(/\s+/).some(T=>"{"==T.charAt(0)&&"{"==T.charAt(1))){const T=gs(0,0,"");return T.dynamic=!0,T.strValue=o,T}const g=rt(o,i);return gs(g.duration,g.delay,g.easing)}(i.timings,o.errors);o.currentAnimateTimings=d;let g,T=i.styles?i.styles:(0,_.oB)({});if(5==T.type)g=this.visitKeyframes(T,o);else{let P=i.styles,z=!1;if(!P){z=!0;const Te={};d.easing&&(Te.easing=d.easing),P=(0,_.oB)(Te)}o.currentTime+=d.duration+d.delay;const le=this.visitStyle(P,o);le.isEmptyStep=z,g=le}return o.currentAnimateTimings=null,{type:4,timings:d,style:g,options:null}}visitStyle(i,o){const d=this._makeStyleAst(i,o);return this._validateStyleAst(d,o),d}_makeStyleAst(i,o){const d=[],g=Array.isArray(i.styles)?i.styles:[i.styles];for(let z of g)"string"==typeof z?z===_.l3?d.push(z):o.errors.push(new N.vHH(3002,!1)):d.push($t(z));let T=!1,P=null;return d.forEach(z=>{if(z instanceof Map&&(z.has("easing")&&(P=z.get("easing"),z.delete("easing")),!T))for(let le of z.values())if(le.toString().indexOf("{{")>=0){T=!0;break}}),{type:6,styles:d,easing:P,offset:i.offset,containsDynamicStyles:T,options:null}}_validateStyleAst(i,o){const d=o.currentAnimateTimings;let g=o.currentTime,T=o.currentTime;d&&T>0&&(T-=d.duration+d.delay),i.styles.forEach(P=>{"string"!=typeof P&&P.forEach((z,le)=>{const Te=o.collectedStyles.get(o.currentQuerySelector),_t=Te.get(le);let wt=!0;_t&&(T!=g&&T>=_t.startTime&&g<=_t.endTime&&(o.errors.push(function ct(u,i,o,d,g){return new N.vHH(3010,!1)}()),wt=!1),T=_t.startTime),wt&&Te.set(le,{startTime:T,endTime:g}),o.options&&function dn(u,i,o){const d=i.params||{},g=ze(u);g.length&&g.forEach(T=>{d.hasOwnProperty(T)||o.push(function fe(u){return new N.vHH(3001,!1)}())})}(z,o.options,o.errors)})})}visitKeyframes(i,o){const d={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function mt(){return new N.vHH(3011,!1)}()),d;let T=0;const P=[];let z=!1,le=!1,Te=0;const _t=i.steps.map(t=>{const a=this._makeStyleAst(t,o);let f=null!=a.offset?a.offset:function Dr(u){if("string"==typeof u)return null;let i=null;if(Array.isArray(u))u.forEach(o=>{if(o instanceof Map&&o.has("offset")){const d=o;i=parseFloat(d.get("offset")),d.delete("offset")}});else if(u instanceof Map&&u.has("offset")){const o=u;i=parseFloat(o.get("offset")),o.delete("offset")}return i}(a.styles),y=0;return null!=f&&(T++,y=a.offset=f),le=le||y<0||y>1,z=z||y<Te,Te=y,P.push(y),a});le&&o.errors.push(function jt(){return new N.vHH(3012,!1)}()),z&&o.errors.push(function ht(){return new N.vHH(3200,!1)}());const wt=i.steps.length;let Ut=0;T>0&&T<wt?o.errors.push(function kt(){return new N.vHH(3202,!1)}()):0==T&&(Ut=1/(wt-1));const mn=wt-1,wn=o.currentTime,s=o.currentAnimateTimings,e=s.duration;return _t.forEach((t,a)=>{const f=Ut>0?a==mn?1:Ut*a:P[a],y=f*e;o.currentTime=wn+s.delay+y,s.duration=y,this._validateStyleAst(t,o),t.offset=f,d.styles.push(t)}),d}visitReference(i,o){return{type:8,animation:sn(this,Et(i.animation),o),options:as(i.options)}}visitAnimateChild(i,o){return o.depCount++,{type:9,options:as(i.options)}}visitAnimateRef(i,o){return{type:10,animation:this.visitReference(i.animation,o),options:as(i.options)}}visitQuery(i,o){const d=o.currentQuerySelector,g=i.options||{};o.queryCount++,o.currentQuery=i;const[T,P]=function or(u){const i=!!u.split(/\s*,\s*/).find(o=>":self"==o);return i&&(u=u.replace(Br,"")),u=u.replace(/@\*/g,ke).replace(/@\w+/g,o=>ke+"-"+o.slice(1)).replace(/:animating/g,Nt),[u,i]}(i.selector);o.currentQuerySelector=d.length?d+" "+T:T,Ht(o.collectedStyles,o.currentQuerySelector,new Map);const z=sn(this,Et(i.animation),o);return o.currentQuery=null,o.currentQuerySelector=d,{type:11,selector:T,limit:g.limit||0,optional:!!g.optional,includeSelf:P,animation:z,originalSelector:i.selector,options:as(i.options)}}visitStagger(i,o){o.currentQuery||o.errors.push(function yt(){return new N.vHH(3013,!1)}());const d="full"===i.timings?{duration:0,delay:0,easing:"full"}:rt(i.timings,o.errors,!0);return{type:12,animation:sn(this,Et(i.animation),o),timings:d,options:null}}}class Or{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function as(u){return u?(u=Tt(u)).params&&(u.params=function Ao(u){return u?Tt(u):null}(u.params)):u={},u}function gs(u,i,o){return{duration:u,delay:i,easing:o}}function Yi(u,i,o,d,g,T,P=null,z=!1){return{type:1,element:u,keyframes:i,preStyleProps:o,postStyleProps:d,duration:g,delay:T,totalTime:g+T,easing:P,subTimeline:z}}class yo{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,o){let d=this._map.get(i);d||this._map.set(i,d=[]),d.push(...o)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const Fa=new RegExp(":enter","g"),Vs=new RegExp(":leave","g");function Pt(u,i,o,d,g,T=new Map,P=new Map,z,le,Te=[]){return(new Rt).buildKeyframes(u,i,o,d,g,T,P,z,le,Te)}class Rt{buildKeyframes(i,o,d,g,T,P,z,le,Te,_t=[]){Te=Te||new yo;const wt=new vn(i,o,Te,g,T,_t,[]);wt.options=le;const Ut=le.delay?zt(le.delay):0;wt.currentTimeline.delayNextStep(Ut),wt.currentTimeline.setStyles([P],null,wt.errors,le),sn(this,d,wt);const mn=wt.timelines.filter(wn=>wn.containsAnimation());if(mn.length&&z.size){let wn;for(let s=mn.length-1;s>=0;s--){const e=mn[s];if(e.element===o){wn=e;break}}wn&&!wn.allowOnlyTimelineStyles()&&wn.setStyles([z],null,wt.errors,le)}return mn.length?mn.map(wn=>wn.buildKeyframes()):[Yi(o,[],[],[],0,Ut,"",!1)]}visitTrigger(i,o){}visitState(i,o){}visitTransition(i,o){}visitAnimateChild(i,o){const d=o.subInstructions.get(o.element);if(d){const g=o.createSubContext(i.options),T=o.currentTimeline.currentTime,P=this._visitSubInstructions(d,g,g.options);T!=P&&o.transformIntoNewTimeline(P)}o.previousNode=i}visitAnimateRef(i,o){const d=o.createSubContext(i.options);d.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],o,d),this.visitReference(i.animation,d),o.transformIntoNewTimeline(d.currentTimeline.currentTime),o.previousNode=i}_applyAnimationRefDelays(i,o,d){for(const T of i){const P=T?.delay;if(P){var g;const z="number"==typeof P?P:zt($e(P,null!==(g=T?.params)&&void 0!==g?g:{},o.errors));d.delayNextStep(z)}}}_visitSubInstructions(i,o,d){let T=o.currentTimeline.currentTime;const P=null!=d.duration?zt(d.duration):null,z=null!=d.delay?zt(d.delay):null;return 0!==P&&i.forEach(le=>{const Te=o.appendInstructionToTimeline(le,P,z);T=Math.max(T,Te.duration+Te.delay)}),T}visitReference(i,o){o.updateOptions(i.options,!0),sn(this,i.animation,o),o.previousNode=i}visitSequence(i,o){const d=o.subContextCount;let g=o;const T=i.options;if(T&&(T.params||T.delay)&&(g=o.createSubContext(T),g.transformIntoNewTimeline(),null!=T.delay)){6==g.previousNode.type&&(g.currentTimeline.snapshotCurrentStyles(),g.previousNode=Wt);const P=zt(T.delay);g.delayNextStep(P)}i.steps.length&&(i.steps.forEach(P=>sn(this,P,g)),g.currentTimeline.applyStylesToKeyframe(),g.subContextCount>d&&g.transformIntoNewTimeline()),o.previousNode=i}visitGroup(i,o){const d=[];let g=o.currentTimeline.currentTime;const T=i.options&&i.options.delay?zt(i.options.delay):0;i.steps.forEach(P=>{const z=o.createSubContext(i.options);T&&z.delayNextStep(T),sn(this,P,z),g=Math.max(g,z.currentTimeline.currentTime),d.push(z.currentTimeline)}),d.forEach(P=>o.currentTimeline.mergeTimelineCollectedStyles(P)),o.transformIntoNewTimeline(g),o.previousNode=i}_visitTiming(i,o){if(i.dynamic){const d=i.strValue;return rt(o.params?$e(d,o.params,o.errors):d,o.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,o){const d=o.currentAnimateTimings=this._visitTiming(i.timings,o),g=o.currentTimeline;d.delay&&(o.incrementTime(d.delay),g.snapshotCurrentStyles());const T=i.style;5==T.type?this.visitKeyframes(T,o):(o.incrementTime(d.duration),this.visitStyle(T,o),g.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=i}visitStyle(i,o){const d=o.currentTimeline,g=o.currentAnimateTimings;!g&&d.hasCurrentStyleProperties()&&d.forwardFrame();const T=g&&g.easing||i.easing;i.isEmptyStep?d.applyEmptyStep(T):d.setStyles(i.styles,T,o.errors,o.options),o.previousNode=i}visitKeyframes(i,o){const d=o.currentAnimateTimings,g=o.currentTimeline.duration,T=d.duration,z=o.createSubContext().currentTimeline;z.easing=d.easing,i.styles.forEach(le=>{z.forwardTime((le.offset||0)*T),z.setStyles(le.styles,le.easing,o.errors,o.options),z.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(z),o.transformIntoNewTimeline(g+T),o.previousNode=i}visitQuery(i,o){const d=o.currentTimeline.currentTime,g=i.options||{},T=g.delay?zt(g.delay):0;T&&(6===o.previousNode.type||0==d&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Wt);let P=d;const z=o.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!g.optional,o.errors);o.currentQueryTotal=z.length;let le=null;z.forEach((Te,_t)=>{o.currentQueryIndex=_t;const wt=o.createSubContext(i.options,Te);T&&wt.delayNextStep(T),Te===o.element&&(le=wt.currentTimeline),sn(this,i.animation,wt),wt.currentTimeline.applyStylesToKeyframe(),P=Math.max(P,wt.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(P),le&&(o.currentTimeline.mergeTimelineCollectedStyles(le),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=i}visitStagger(i,o){const d=o.parentContext,g=o.currentTimeline,T=i.timings,P=Math.abs(T.duration),z=P*(o.currentQueryTotal-1);let le=P*o.currentQueryIndex;switch(T.duration<0?"reverse":T.easing){case"reverse":le=z-le;break;case"full":le=d.currentStaggerTime}const _t=o.currentTimeline;le&&_t.delayNextStep(le);const wt=_t.currentTime;sn(this,i.animation,o),o.previousNode=i,d.currentStaggerTime=g.currentTime-wt+(g.startTime-d.currentTimeline.startTime)}}const Wt={};class vn{constructor(i,o,d,g,T,P,z,le){this._driver=i,this.element=o,this.subInstructions=d,this._enterClassName=g,this._leaveClassName=T,this.errors=P,this.timelines=z,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Wt,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=le||new Pn(this._driver,o,0),z.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,o){if(!i)return;const d=i;let g=this.options;null!=d.duration&&(g.duration=zt(d.duration)),null!=d.delay&&(g.delay=zt(d.delay));const T=d.params;if(T){let P=g.params;P||(P=this.options.params={}),Object.keys(T).forEach(z=>{(!o||!P.hasOwnProperty(z))&&(P[z]=$e(T[z],P,this.errors))})}}_copyOptions(){const i={};if(this.options){const o=this.options.params;if(o){const d=i.params={};Object.keys(o).forEach(g=>{d[g]=o[g]})}}return i}createSubContext(i=null,o,d){const g=o||this.element,T=new vn(this._driver,g,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(g,d||0));return T.previousNode=this.previousNode,T.currentAnimateTimings=this.currentAnimateTimings,T.options=this._copyOptions(),T.updateOptions(i),T.currentQueryIndex=this.currentQueryIndex,T.currentQueryTotal=this.currentQueryTotal,T.parentContext=this,this.subContextCount++,T}transformIntoNewTimeline(i){return this.previousNode=Wt,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,o,d){const g={duration:o??i.duration,delay:this.currentTimeline.currentTime+(d??0)+i.delay,easing:""},T=new si(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,g,i.stretchStartingKeyframe);return this.timelines.push(T),g}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,o,d,g,T,P){let z=[];if(g&&z.push(this.element),i.length>0){i=(i=i.replace(Fa,"."+this._enterClassName)).replace(Vs,"."+this._leaveClassName);let Te=this._driver.query(this.element,i,1!=d);0!==d&&(Te=d<0?Te.slice(Te.length+d,Te.length):Te.slice(0,d)),z.push(...Te)}return!T&&0==z.length&&P.push(function et(u){return new N.vHH(3014,!1)}()),z}}class Pn{constructor(i,o,d,g){this._driver=i,this.element=o,this.startTime=d,this._elementTimelineStylesLookup=g,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+i),o&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,o){return this.applyStylesToKeyframe(),new Pn(this._driver,i,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,o){this._localTimelineStyles.set(i,o),this._globalTimelineStyles.set(i,o),this._styleSummary.set(i,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[o,d]of this._globalTimelineStyles)this._backFill.set(o,d||_.l3),this._currentKeyframe.set(o,_.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,o,d,g){o&&this._previousKeyframe.set("easing",o);const T=g&&g.params||{},P=function Ir(u,i){const o=new Map;let d;return u.forEach(g=>{if("*"===g){d=d||i.keys();for(let T of d)o.set(T,_.l3)}else G(g,o)}),o}(i,this._globalTimelineStyles);for(let[le,Te]of P){const _t=$e(Te,T,d);var z;this._pendingStyles.set(le,_t),this._localTimelineStyles.has(le)||this._backFill.set(le,null!==(z=this._globalTimelineStyles.get(le))&&void 0!==z?z:_.l3),this._updateStyle(le,_t)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((i,o)=>{this._currentKeyframe.set(o,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,i)}))}snapshotCurrentStyles(){for(let[i,o]of this._localTimelineStyles)this._pendingStyles.set(i,o),this._updateStyle(i,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let o in this._currentKeyframe)i.push(o);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((o,d)=>{const g=this._styleSummary.get(d);(!g||o.time>g.time)&&this._updateStyle(d,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,o=new Set,d=1===this._keyframes.size&&0===this.duration;let g=[];this._keyframes.forEach((z,le)=>{const Te=G(z,new Map,this._backFill);Te.forEach((_t,wt)=>{_t===_.k1?i.add(wt):_t===_.l3&&o.add(wt)}),d||Te.set("offset",le/this.duration),g.push(Te)});const T=i.size?He(i.values()):[],P=o.size?He(o.values()):[];if(d){const z=g[0],le=new Map(z);z.set("offset",0),le.set("offset",1),g=[z,le]}return Yi(this.element,g,T,P,this.duration,this.startTime,this.easing,!1)}}class si extends Pn{constructor(i,o,d,g,T,P,z=!1){super(i,o,P.delay),this.keyframes=d,this.preStyleProps=g,this.postStyleProps=T,this._stretchStartingKeyframe=z,this.timings={duration:P.duration,delay:P.delay,easing:P.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:o,duration:d,easing:g}=this.timings;if(this._stretchStartingKeyframe&&o){const T=[],P=d+o,z=o/P,le=G(i[0]);le.set("offset",0),T.push(le);const Te=G(i[0]);Te.set("offset",Di(z)),T.push(Te);const _t=i.length-1;for(let wt=1;wt<=_t;wt++){let Ut=G(i[wt]);const mn=Ut.get("offset");Ut.set("offset",Di((o+mn*d)/P)),T.push(Ut)}d=P,o=0,g="",i=T}return Yi(this.element,i,this.preStyleProps,this.postStyleProps,d,o,g,!0)}}function Di(u,i=3){const o=Math.pow(10,i-1);return Math.round(u*o)/o}class zr{}const Ss=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ro extends zr{normalizePropertyName(i,o){return De(i)}normalizeStyleValue(i,o,d,g){let T="";const P=d.toString().trim();if(Ss.has(o)&&0!==d&&"0"!==d)if("number"==typeof d)T="px";else{const z=d.match(/^[+-]?[\d\.]+([a-z]*)$/);z&&0==z[1].length&&g.push(function me(u,i){return new N.vHH(3005,!1)}())}return P+T}}function Us(u,i,o,d,g,T,P,z,le,Te,_t,wt,Ut){return{type:0,element:u,triggerName:i,isRemovalTransition:g,fromState:o,fromStyles:T,toState:d,toStyles:P,timelines:z,queriedElements:le,preStyleProps:Te,postStyleProps:_t,totalTime:wt,errors:Ut}}const Yo={};class Ks{constructor(i,o,d){this._triggerName=i,this.ast=o,this._stateStyles=d}match(i,o,d,g){return function Oo(u,i,o,d,g){return u.some(T=>T(i,o,d,g))}(this.ast.matchers,i,o,d,g)}buildStyles(i,o,d){let g=this._stateStyles.get("*");return void 0!==i&&(g=this._stateStyles.get(i?.toString())||g),g?g.buildStyles(o,d):new Map}build(i,o,d,g,T,P,z,le,Te,_t){var wt;const Ut=[],mn=this.ast.options&&this.ast.options.params||Yo,s=this.buildStyles(d,z&&z.params||Yo,Ut),e=le&&le.params||Yo,t=this.buildStyles(g,e,Ut),a=new Set,f=new Map,y=new Map,M="void"===g,U={params:Po(e,mn),delay:null===(wt=this.ast.options)||void 0===wt?void 0:wt.delay},oe=_t?[]:Pt(i,o,this.ast.animation,T,P,s,t,U,Te,Ut);let _e=0;if(oe.forEach(bt=>{_e=Math.max(bt.duration+bt.delay,_e)}),Ut.length)return Us(o,this._triggerName,d,g,M,s,t,[],[],f,y,_e,Ut);oe.forEach(bt=>{const Kt=bt.element,yn=Ht(f,Kt,new Set);bt.preStyleProps.forEach(ri=>yn.add(ri));const Tn=Ht(y,Kt,new Set);bt.postStyleProps.forEach(ri=>Tn.add(ri)),Kt!==o&&a.add(Kt)});const Ge=He(a.values());return Us(o,this._triggerName,d,g,M,s,t,oe,Ge,f,y,_e)}}function Po(u,i){const o=Tt(i);for(const d in u)u.hasOwnProperty(d)&&null!=u[d]&&(o[d]=u[d]);return o}class Ca{constructor(i,o,d){this.styles=i,this.defaultParams=o,this.normalizer=d}buildStyles(i,o){const d=new Map,g=Tt(this.defaultParams);return Object.keys(i).forEach(T=>{const P=i[T];null!==P&&(g[T]=P)}),this.styles.styles.forEach(T=>{"string"!=typeof T&&T.forEach((P,z)=>{P&&(P=$e(P,g,o));const le=this.normalizer.normalizePropertyName(z,o);P=this.normalizer.normalizeStyleValue(z,le,P,o),d.set(le,P)})}),d}}class io{constructor(i,o,d){this.name=i,this.ast=o,this._normalizer=d,this.transitionFactories=[],this.states=new Map,o.states.forEach(g=>{this.states.set(g.name,new Ca(g.style,g.options&&g.options.params||{},d))}),Ms(this.states,"true","1"),Ms(this.states,"false","0"),o.transitions.forEach(g=>{this.transitionFactories.push(new Ks(i,g,this.states))}),this.fallbackTransition=function fr(u,i,o){return new Ks(u,{type:1,animation:{type:2,steps:[],options:null},matchers:[(P,z)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,o,d,g){return this.transitionFactories.find(P=>P.match(i,o,d,g))||null}matchStyles(i,o,d){return this.fallbackTransition.buildStyles(i,o,d)}}function Ms(u,i,o){u.has(i)?u.has(o)||u.set(o,u.get(i)):u.has(o)&&u.set(i,u.get(o))}const Is=new yo;class xs{constructor(i,o,d){this.bodyNode=i,this._driver=o,this._normalizer=d,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,o){const d=[],T=qr(this._driver,o,d,[]);if(d.length)throw function Ot(u){return new N.vHH(3503,!1)}();this._animations.set(i,T)}_buildPlayer(i,o,d){const g=i.element,T=Ln(0,this._normalizer,0,i.keyframes,o,d);return this._driver.animate(g,T,i.duration,i.delay,i.easing,[],!0)}create(i,o,d={}){const g=[],T=this._animations.get(i);let P;const z=new Map;if(T?(P=Pt(this._driver,o,T,Jt,be,new Map,new Map,d,Is,g),P.forEach(_t=>{const wt=Ht(z,_t.element,new Map);_t.postStyleProps.forEach(Ut=>wt.set(Ut,null))})):(g.push(function Vt(){return new N.vHH(3300,!1)}()),P=[]),g.length)throw function bn(u){return new N.vHH(3504,!1)}();z.forEach((_t,wt)=>{_t.forEach((Ut,mn)=>{_t.set(mn,this._driver.computeStyle(wt,mn,_.l3))})});const Te=tn(P.map(_t=>{const wt=z.get(_t.element);return this._buildPlayer(_t,new Map,wt)}));return this._playersById.set(i,Te),Te.onDestroy(()=>this.destroy(i)),this.players.push(Te),Te}destroy(i){const o=this._getPlayer(i);o.destroy(),this._playersById.delete(i);const d=this.players.indexOf(o);d>=0&&this.players.splice(d,1)}_getPlayer(i){const o=this._playersById.get(i);if(!o)throw function qn(u){return new N.vHH(3301,!1)}();return o}listen(i,o,d,g){const T=Mt(o,"","","");return It(this._getPlayer(i),d,T,g),()=>{}}command(i,o,d,g){if("register"==d)return void this.register(i,g[0]);if("create"==d)return void this.create(i,o,g[0]||{});const T=this._getPlayer(i);switch(d){case"play":T.play();break;case"pause":T.pause();break;case"reset":T.reset();break;case"restart":T.restart();break;case"finish":T.finish();break;case"init":T.init();break;case"setPosition":T.setPosition(parseFloat(g[0]));break;case"destroy":this.destroy(i)}}}const Hs="ng-animate-queued",Wr="ng-animate-disabled",As=[],js={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Qr="__ng_removed";class No{constructor(i,o=""){this.namespaceId=o;const d=i&&i.hasOwnProperty("value");if(this.value=function Co(u){return u??null}(d?i.value:i),d){const T=Tt(i);delete T.value,this.options=T}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(i){const o=i.params;if(o){const d=this.options.params;Object.keys(o).forEach(g=>{null==d[g]&&(d[g]=o[g])})}}}const Ai="void",Ur=new No(Ai);class so{constructor(i,o,d){this.id=i,this.hostElement=o,this._engine=d,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,mi(o,this._hostClassName)}listen(i,o,d,g){if(!this._triggers.has(o))throw function jn(u,i){return new N.vHH(3302,!1)}();if(null==d||0==d.length)throw function oi(u){return new N.vHH(3303,!1)}();if(!function Ko(u){return"start"==u||"done"==u}(d))throw function Nn(u,i){return new N.vHH(3400,!1)}();const T=Ht(this._elementListeners,i,[]),P={name:o,phase:d,callback:g};T.push(P);const z=Ht(this._engine.statesByElement,i,new Map);return z.has(o)||(mi(i,Ne),mi(i,Ne+"-"+o),z.set(o,Ur)),()=>{this._engine.afterFlush(()=>{const le=T.indexOf(P);le>=0&&T.splice(le,1),this._triggers.has(o)||z.delete(o)})}}register(i,o){return!this._triggers.has(i)&&(this._triggers.set(i,o),!0)}_getTrigger(i){const o=this._triggers.get(i);if(!o)throw function rn(u){return new N.vHH(3401,!1)}();return o}trigger(i,o,d,g=!0){const T=this._getTrigger(o),P=new oa(this.id,o,i);let z=this._engine.statesByElement.get(i);z||(mi(i,Ne),mi(i,Ne+"-"+o),this._engine.statesByElement.set(i,z=new Map));let le=z.get(o);const Te=new No(d,this.id);if(!(d&&d.hasOwnProperty("value"))&&le&&Te.absorbOptions(le.options),z.set(o,Te),le||(le=Ur),Te.value!==Ai&&le.value===Te.value){if(!function la(u,i){const o=Object.keys(u),d=Object.keys(i);if(o.length!=d.length)return!1;for(let g=0;g<o.length;g++){const T=o[g];if(!i.hasOwnProperty(T)||u[T]!==i[T])return!1}return!0}(le.params,Te.params)){const s=[],e=T.matchStyles(le.value,le.params,s),t=T.matchStyles(Te.value,Te.params,s);s.length?this._engine.reportError(s):this._engine.afterFlush(()=>{Xe(i,e),he(i,t)})}return}const Ut=Ht(this._engine.playersByElement,i,[]);Ut.forEach(s=>{s.namespaceId==this.id&&s.triggerName==o&&s.queued&&s.destroy()});let mn=T.matchTransition(le.value,Te.value,i,Te.params),wn=!1;if(!mn){if(!g)return;mn=T.fallbackTransition,wn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:o,transition:mn,fromState:le,toState:Te,player:P,isFallbackTransition:wn}),wn||(mi(i,Hs),P.onStart(()=>{xr(i,Hs)})),P.onDone(()=>{let s=this.players.indexOf(P);s>=0&&this.players.splice(s,1);const e=this._engine.playersByElement.get(i);if(e){let t=e.indexOf(P);t>=0&&e.splice(t,1)}}),this.players.push(P),Ut.push(P),P}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(o=>o.delete(i)),this._elementListeners.forEach((o,d)=>{this._elementListeners.set(d,o.filter(g=>g.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const o=this._engine.playersByElement.get(i);o&&(o.forEach(d=>d.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,o){const d=this._engine.driver.query(i,ke,!0);d.forEach(g=>{if(g[Qr])return;const T=this._engine.fetchNamespacesByElement(g);T.size?T.forEach(P=>P.triggerLeaveAnimation(g,o,!1,!0)):this.clearElementCache(g)}),this._engine.afterFlushAnimationsDone(()=>d.forEach(g=>this.clearElementCache(g)))}triggerLeaveAnimation(i,o,d,g){const T=this._engine.statesByElement.get(i),P=new Map;if(T){const z=[];if(T.forEach((le,Te)=>{if(P.set(Te,le.value),this._triggers.has(Te)){const _t=this.trigger(i,Te,Ai,g);_t&&z.push(_t)}}),z.length)return this._engine.markElementAsRemoved(this.id,i,!0,o,P),d&&tn(z).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const o=this._elementListeners.get(i),d=this._engine.statesByElement.get(i);if(o&&d){const g=new Set;o.forEach(T=>{const P=T.name;if(g.has(P))return;g.add(P);const le=this._triggers.get(P).fallbackTransition,Te=d.get(P)||Ur,_t=new No(Ai),wt=new oa(this.id,P,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:P,transition:le,fromState:Te,toState:_t,player:wt,isFallbackTransition:!0})})}}removeNode(i,o){const d=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,o),this.triggerLeaveAnimation(i,o,!0))return;let g=!1;if(d.totalAnimations){const T=d.players.length?d.playersByQueriedElement.get(i):[];if(T&&T.length)g=!0;else{let P=i;for(;P=P.parentNode;)if(d.statesByElement.get(P)){g=!0;break}}}if(this.prepareLeaveAnimationListeners(i),g)d.markElementAsRemoved(this.id,i,!1,o);else{const T=i[Qr];(!T||T===js)&&(d.afterFlush(()=>this.clearElementCache(i)),d.destroyInnerAnimations(i),d._onRemovalComplete(i,o))}}insertNode(i,o){mi(i,this._hostClassName)}drainQueuedTransitions(i){const o=[];return this._queue.forEach(d=>{const g=d.player;if(g.destroyed)return;const T=d.element,P=this._elementListeners.get(T);P&&P.forEach(z=>{if(z.name==d.triggerName){const le=Mt(T,d.triggerName,d.fromState.value,d.toState.value);le._data=i,It(d.player,z.phase,le,z.callback)}}),g.markedForDestroy?this._engine.afterFlush(()=>{g.destroy()}):o.push(d)}),this._queue=[],o.sort((d,g)=>{const T=d.transition.ast.depCount,P=g.transition.ast.depCount;return 0==T||0==P?T-P:this._engine.driver.containsElement(d.element,g.element)?1:-1})}destroy(i){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let o=!1;return this._elementListeners.has(i)&&(o=!0),o=!!this._queue.find(d=>d.element===i)||o,o}}class vs{constructor(i,o,d){this.bodyNode=i,this.driver=o,this._normalizer=d,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(g,T)=>{}}_onRemovalComplete(i,o){this.onRemovalComplete(i,o)}get queuedPlayers(){const i=[];return this._namespaceList.forEach(o=>{o.players.forEach(d=>{d.queued&&i.push(d)})}),i}createNamespace(i,o){const d=new so(i,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(d,o):(this.newHostElements.set(o,d),this.collectEnterElement(o)),this._namespaceLookup[i]=d}_balanceNamespaceList(i,o){const d=this._namespaceList,g=this.namespacesByHostElement;if(d.length-1>=0){let P=!1,z=this.driver.getParentElement(o);for(;z;){const le=g.get(z);if(le){const Te=d.indexOf(le);d.splice(Te+1,0,i),P=!0;break}z=this.driver.getParentElement(z)}P||d.unshift(i)}else d.push(i);return g.set(o,i),i}register(i,o){let d=this._namespaceLookup[i];return d||(d=this.createNamespace(i,o)),d}registerTrigger(i,o,d){let g=this._namespaceLookup[i];g&&g.register(o,d)&&this.totalAnimations++}destroy(i,o){if(!i)return;const d=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(d.hostElement),delete this._namespaceLookup[i];const g=this._namespaceList.indexOf(d);g>=0&&this._namespaceList.splice(g,1)}),this.afterFlushAnimationsDone(()=>d.destroy(o))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const o=new Set,d=this.statesByElement.get(i);if(d)for(let g of d.values())if(g.namespaceId){const T=this._fetchNamespace(g.namespaceId);T&&o.add(T)}return o}trigger(i,o,d,g){if(ks(o)){const T=this._fetchNamespace(i);if(T)return T.trigger(o,d,g),!0}return!1}insertNode(i,o,d,g){if(!ks(o))return;const T=o[Qr];if(T&&T.setForRemoval){T.setForRemoval=!1,T.setForMove=!0;const P=this.collectedLeaveElements.indexOf(o);P>=0&&this.collectedLeaveElements.splice(P,1)}if(i){const P=this._fetchNamespace(i);P&&P.insertNode(o,d)}g&&this.collectEnterElement(o)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,o){o?this.disabledNodes.has(i)||(this.disabledNodes.add(i),mi(i,Wr)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),xr(i,Wr))}removeNode(i,o,d,g){if(ks(o)){const T=i?this._fetchNamespace(i):null;if(T?T.removeNode(o,g):this.markElementAsRemoved(i,o,!1,g),d){const P=this.namespacesByHostElement.get(o);P&&P.id!==i&&P.removeNode(o,g)}}else this._onRemovalComplete(o,g)}markElementAsRemoved(i,o,d,g,T){this.collectedLeaveElements.push(o),o[Qr]={namespaceId:i,setForRemoval:g,hasAnimation:d,removedBeforeQueried:!1,previousTriggersValues:T}}listen(i,o,d,g,T){return ks(o)?this._fetchNamespace(i).listen(o,d,g,T):()=>{}}_buildInstruction(i,o,d,g,T){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,d,g,i.fromState.options,i.toState.options,o,T)}destroyInnerAnimations(i){let o=this.driver.query(i,ke,!0);o.forEach(d=>this.destroyActiveAnimationsForElement(d)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(i,Nt,!0),o.forEach(d=>this.finishActiveQueriedAnimationOnElement(d)))}destroyActiveAnimationsForElement(i){const o=this.playersByElement.get(i);o&&o.forEach(d=>{d.queued?d.markedForDestroy=!0:d.destroy()})}finishActiveQueriedAnimationOnElement(i){const o=this.playersByQueriedElement.get(i);o&&o.forEach(d=>d.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return tn(this.players).onDone(()=>i());i()})}processLeaveNode(i){var o;const d=i[Qr];if(d&&d.setForRemoval){if(i[Qr]=js,d.namespaceId){this.destroyInnerAnimations(i);const g=this._fetchNamespace(d.namespaceId);g&&g.clearElementCache(i)}this._onRemovalComplete(i,d.setForRemoval)}null!==(o=i.classList)&&void 0!==o&&o.contains(Wr)&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(g=>{this.markElementAsDisabled(g,!1)})}flush(i=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((d,g)=>this._balanceNamespaceList(d,g)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let d=0;d<this.collectedEnterElements.length;d++)mi(this.collectedEnterElements[d],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const d=[];try{o=this._flushAnimations(d,i)}finally{for(let g=0;g<d.length;g++)d[g]()}}else for(let d=0;d<this.collectedLeaveElements.length;d++)this.processLeaveNode(this.collectedLeaveElements[d]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(d=>d()),this._flushFns=[],this._whenQuietFns.length){const d=this._whenQuietFns;this._whenQuietFns=[],o.length?tn(o).onDone(()=>{d.forEach(g=>g())}):d.forEach(g=>g())}}reportError(i){throw function gn(u){return new N.vHH(3402,!1)}()}_flushAnimations(i,o){const d=new yo,g=[],T=new Map,P=[],z=new Map,le=new Map,Te=new Map,_t=new Set;this.disabledNodes.forEach(Hn=>{_t.add(Hn);const ei=this.driver.query(Hn,".ng-animate-queued",!0);for(let ti=0;ti<ei.length;ti++)_t.add(ei[ti])});const wt=this.bodyNode,Ut=Array.from(this.statesByElement.keys()),mn=mr(Ut,this.collectedEnterElements),wn=new Map;let s=0;mn.forEach((Hn,ei)=>{const ti=Jt+s++;wn.set(ei,ti),Hn.forEach(Mi=>mi(Mi,ti))});const e=[],t=new Set,a=new Set;for(let Hn=0;Hn<this.collectedLeaveElements.length;Hn++){const ei=this.collectedLeaveElements[Hn],ti=ei[Qr];ti&&ti.setForRemoval&&(e.push(ei),t.add(ei),ti.hasAnimation?this.driver.query(ei,".ng-star-inserted",!0).forEach(Mi=>t.add(Mi)):a.add(ei))}const f=new Map,y=mr(Ut,Array.from(t));y.forEach((Hn,ei)=>{const ti=be+s++;f.set(ei,ti),Hn.forEach(Mi=>mi(Mi,ti))}),i.push(()=>{mn.forEach((Hn,ei)=>{const ti=wn.get(ei);Hn.forEach(Mi=>xr(Mi,ti))}),y.forEach((Hn,ei)=>{const ti=f.get(ei);Hn.forEach(Mi=>xr(Mi,ti))}),e.forEach(Hn=>{this.processLeaveNode(Hn)})});const M=[],U=[];for(let Hn=this._namespaceList.length-1;Hn>=0;Hn--)this._namespaceList[Hn].drainQueuedTransitions(o).forEach(ti=>{const Mi=ti.player,ki=ti.element;if(M.push(Mi),this.collectedEnterElements.length){const Nl=ki[Qr];if(Nl&&Nl.setForMove){if(Nl.previousTriggersValues&&Nl.previousTriggersValues.has(ti.triggerName)){const _g=Nl.previousTriggersValues.get(ti.triggerName),Sd=this.statesByElement.get(ti.element);if(Sd&&Sd.has(ti.triggerName)){const ty=Sd.get(ti.triggerName);ty.value=_g,Sd.set(ti.triggerName,ty)}}return void Mi.destroy()}}const rr=!wt||!this.driver.containsElement(wt,ki),Gr=f.get(ki),ql=wn.get(ki),xo=this._buildInstruction(ti,d,ql,Gr,rr);if(xo.errors&&xo.errors.length)return void U.push(xo);if(rr)return Mi.onStart(()=>Xe(ki,xo.fromStyles)),Mi.onDestroy(()=>he(ki,xo.toStyles)),void g.push(Mi);if(ti.isFallbackTransition)return Mi.onStart(()=>Xe(ki,xo.fromStyles)),Mi.onDestroy(()=>he(ki,xo.toStyles)),void g.push(Mi);const ey=[];xo.timelines.forEach(Nl=>{Nl.stretchStartingKeyframe=!0,this.disabledNodes.has(Nl.element)||ey.push(Nl)}),xo.timelines=ey,d.append(ki,xo.timelines),P.push({instruction:xo,player:Mi,element:ki}),xo.queriedElements.forEach(Nl=>Ht(z,Nl,[]).push(Mi)),xo.preStyleProps.forEach((Nl,_g)=>{if(Nl.size){let Sd=le.get(_g);Sd||le.set(_g,Sd=new Set),Nl.forEach((ty,gy)=>Sd.add(gy))}}),xo.postStyleProps.forEach((Nl,_g)=>{let Sd=Te.get(_g);Sd||Te.set(_g,Sd=new Set),Nl.forEach((ty,gy)=>Sd.add(gy))})});if(U.length){const Hn=[];U.forEach(ei=>{Hn.push(function Ue(u,i){return new N.vHH(3505,!1)}())}),M.forEach(ei=>ei.destroy()),this.reportError(Hn)}const oe=new Map,_e=new Map;P.forEach(Hn=>{const ei=Hn.element;d.has(ei)&&(_e.set(ei,ei),this._beforeAnimationBuild(Hn.player.namespaceId,Hn.instruction,oe))}),g.forEach(Hn=>{const ei=Hn.element;this._getPreviousPlayers(ei,!1,Hn.namespaceId,Hn.triggerName,null).forEach(Mi=>{Ht(oe,ei,[]).push(Mi),Mi.destroy()})});const Ge=e.filter(Hn=>$s(Hn,le,Te)),bt=new Map;aa(bt,this.driver,a,Te,_.l3).forEach(Hn=>{$s(Hn,le,Te)&&Ge.push(Hn)});const yn=new Map;mn.forEach((Hn,ei)=>{aa(yn,this.driver,new Set(Hn),le,_.k1)}),Ge.forEach(Hn=>{var ei,ti;const Mi=bt.get(Hn),ki=yn.get(Hn);bt.set(Hn,new Map([...Array.from(null!==(ei=Mi?.entries())&&void 0!==ei?ei:[]),...Array.from(null!==(ti=ki?.entries())&&void 0!==ti?ti:[])]))});const Tn=[],ri=[],pi={};P.forEach(Hn=>{const{element:ei,player:ti,instruction:Mi}=Hn;if(d.has(ei)){if(_t.has(ei))return ti.onDestroy(()=>he(ei,Mi.toStyles)),ti.disabled=!0,ti.overrideTotalTime(Mi.totalTime),void g.push(ti);let ki=pi;if(_e.size>1){let Gr=ei;const ql=[];for(;Gr=Gr.parentNode;){const xo=_e.get(Gr);if(xo){ki=xo;break}ql.push(Gr)}ql.forEach(xo=>_e.set(xo,ki))}const rr=this._buildAnimation(ti.namespaceId,Mi,oe,T,yn,bt);if(ti.setRealPlayer(rr),ki===pi)Tn.push(ti);else{const Gr=this.playersByElement.get(ki);Gr&&Gr.length&&(ti.parentPlayer=tn(Gr)),g.push(ti)}}else Xe(ei,Mi.fromStyles),ti.onDestroy(()=>he(ei,Mi.toStyles)),ri.push(ti),_t.has(ei)&&g.push(ti)}),ri.forEach(Hn=>{const ei=T.get(Hn.element);if(ei&&ei.length){const ti=tn(ei);Hn.setRealPlayer(ti)}}),g.forEach(Hn=>{Hn.parentPlayer?Hn.syncPlayerEvents(Hn.parentPlayer):Hn.destroy()});for(let Hn=0;Hn<e.length;Hn++){const ei=e[Hn],ti=ei[Qr];if(xr(ei,be),ti&&ti.hasAnimation)continue;let Mi=[];if(z.size){let rr=z.get(ei);rr&&rr.length&&Mi.push(...rr);let Gr=this.driver.query(ei,Nt,!0);for(let ql=0;ql<Gr.length;ql++){let xo=z.get(Gr[ql]);xo&&xo.length&&Mi.push(...xo)}}const ki=Mi.filter(rr=>!rr.destroyed);ki.length?Dc(this,ei,ki):this.processLeaveNode(ei)}return e.length=0,Tn.forEach(Hn=>{this.players.push(Hn),Hn.onDone(()=>{Hn.destroy();const ei=this.players.indexOf(Hn);this.players.splice(ei,1)}),Hn.play()}),Tn}elementContainsData(i,o){let d=!1;const g=o[Qr];return g&&g.setForRemoval&&(d=!0),this.playersByElement.has(o)&&(d=!0),this.playersByQueriedElement.has(o)&&(d=!0),this.statesByElement.has(o)&&(d=!0),this._fetchNamespace(i).elementContainsData(o)||d}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,o,d,g,T){let P=[];if(o){const z=this.playersByQueriedElement.get(i);z&&(P=z)}else{const z=this.playersByElement.get(i);if(z){const le=!T||T==Ai;z.forEach(Te=>{Te.queued||!le&&Te.triggerName!=g||P.push(Te)})}}return(d||g)&&(P=P.filter(z=>!(d&&d!=z.namespaceId||g&&g!=z.triggerName))),P}_beforeAnimationBuild(i,o,d){const T=o.element,P=o.isRemovalTransition?void 0:i,z=o.isRemovalTransition?void 0:o.triggerName;for(const le of o.timelines){const Te=le.element,_t=Te!==T,wt=Ht(d,Te,[]);this._getPreviousPlayers(Te,_t,P,z,o.toState).forEach(mn=>{const wn=mn.getRealPlayer();wn.beforeDestroy&&wn.beforeDestroy(),mn.destroy(),wt.push(mn)})}Xe(T,o.fromStyles)}_buildAnimation(i,o,d,g,T,P){const z=o.triggerName,le=o.element,Te=[],_t=new Set,wt=new Set,Ut=o.timelines.map(wn=>{const s=wn.element;_t.add(s);const e=s[Qr];if(e&&e.removedBeforeQueried)return new _.ZN(wn.duration,wn.delay);const t=s!==le,a=function ps(u){const i=[];return pl(u,i),i}((d.get(s)||As).map(oe=>oe.getRealPlayer())).filter(oe=>!!oe.element&&oe.element===s),f=T.get(s),y=P.get(s),M=Ln(0,this._normalizer,0,wn.keyframes,f,y),U=this._buildPlayer(wn,M,a);if(wn.subTimeline&&g&&wt.add(s),t){const oe=new oa(i,z,s);oe.setRealPlayer(U),Te.push(oe)}return U});Te.forEach(wn=>{Ht(this.playersByQueriedElement,wn.element,[]).push(wn),wn.onDone(()=>function Ki(u,i,o){let d=u.get(i);if(d){if(d.length){const g=d.indexOf(o);d.splice(g,1)}0==d.length&&u.delete(i)}return d}(this.playersByQueriedElement,wn.element,wn))}),_t.forEach(wn=>mi(wn,ue));const mn=tn(Ut);return mn.onDestroy(()=>{_t.forEach(wn=>xr(wn,ue)),he(le,o.toStyles)}),wt.forEach(wn=>{Ht(g,wn,[]).push(mn)}),mn}_buildPlayer(i,o,d){return o.length>0?this.driver.animate(i.element,o,i.duration,i.delay,i.easing,d):new _.ZN(i.duration,i.delay)}}class oa{constructor(i,o,d){this.namespaceId=i,this.triggerName=o,this.element=d,this._player=new _.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((o,d)=>{o.forEach(g=>It(i,d,void 0,g))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const o=this._player;o.triggerCallback&&i.onStart(()=>o.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,o){Ht(this._queuedCallbacks,i,[]).push(o)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const o=this._player;o.triggerCallback&&o.triggerCallback(i)}}function ks(u){return u&&1===u.nodeType}function Zs(u,i){const o=u.style.display;return u.style.display=i??"none",o}function aa(u,i,o,d,g){const T=[];o.forEach(le=>T.push(Zs(le)));const P=[];d.forEach((le,Te)=>{const _t=new Map;le.forEach(wt=>{const Ut=i.computeStyle(Te,wt,g);_t.set(wt,Ut),(!Ut||0==Ut.length)&&(Te[Qr]=pr,P.push(Te))}),u.set(Te,_t)});let z=0;return o.forEach(le=>Zs(le,T[z++])),P}function mr(u,i){const o=new Map;if(u.forEach(z=>o.set(z,[])),0==i.length)return o;const g=new Set(i),T=new Map;function P(z){if(!z)return 1;let le=T.get(z);if(le)return le;const Te=z.parentNode;return le=o.has(Te)?Te:g.has(Te)?1:P(Te),T.set(z,le),le}return i.forEach(z=>{const le=P(z);1!==le&&o.get(le).push(z)}),o}function mi(u,i){var o;null===(o=u.classList)||void 0===o||o.add(i)}function xr(u,i){var o;null===(o=u.classList)||void 0===o||o.remove(i)}function Dc(u,i,o){tn(o).onDone(()=>u.processLeaveNode(i))}function pl(u,i){for(let o=0;o<u.length;o++){const d=u[o];d instanceof _.ZE?pl(d.players,i):i.push(d)}}function $s(u,i,o){const d=o.get(u);if(!d)return!1;let g=i.get(u);return g?d.forEach(T=>g.add(T)):i.set(u,d),o.delete(u),!0}class Xr{constructor(i,o,d){this.bodyNode=i,this._driver=o,this._normalizer=d,this._triggerCache={},this.onRemovalComplete=(g,T)=>{},this._transitionEngine=new vs(i,o,d),this._timelineEngine=new xs(i,o,d),this._transitionEngine.onRemovalComplete=(g,T)=>this.onRemovalComplete(g,T)}registerTrigger(i,o,d,g,T){const P=i+"-"+g;let z=this._triggerCache[P];if(!z){const le=[],_t=qr(this._driver,T,le,[]);if(le.length)throw function Lt(u,i){return new N.vHH(3404,!1)}();z=function sa(u,i,o){return new io(u,i,o)}(g,_t,this._normalizer),this._triggerCache[P]=z}this._transitionEngine.registerTrigger(o,g,z)}register(i,o){this._transitionEngine.register(i,o)}destroy(i,o){this._transitionEngine.destroy(i,o)}onInsert(i,o,d,g){this._transitionEngine.insertNode(i,o,d,g)}onRemove(i,o,d,g){this._transitionEngine.removeNode(i,o,g||!1,d)}disableAnimations(i,o){this._transitionEngine.markElementAsDisabled(i,o)}process(i,o,d,g){if("@"==d.charAt(0)){const[T,P]=En(d);this._timelineEngine.command(T,o,P,g)}else this._transitionEngine.trigger(i,o,d,g)}listen(i,o,d,g,T){if("@"==d.charAt(0)){const[P,z]=En(d);return this._timelineEngine.listen(P,o,z,T)}return this._transitionEngine.listen(i,o,d,g,T)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Sn=(()=>{class u{constructor(o,d,g){this._element=o,this._startStyles=d,this._endStyles=g,this._state=0;let T=u.initialStylesByElement.get(o);T||u.initialStylesByElement.set(o,T=new Map),this._initialStyles=T}start(){this._state<1&&(this._startStyles&&he(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(he(this._element,this._initialStyles),this._endStyles&&(he(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(u.initialStylesByElement.delete(this._element),this._startStyles&&(Xe(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xe(this._element,this._endStyles),this._endStyles=null),he(this._element,this._initialStyles),this._state=3)}}return u.initialStylesByElement=new WeakMap,u})();function Ii(u){let i=null;return u.forEach((o,d)=>{(function wo(u){return"display"===u||"position"===u})(d)&&(i=i||new Map,i.set(d,o))}),i}class Ea{constructor(i,o,d,g){this.element=i,this.keyframes=o,this.options=d,this._specialStyles=g,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=d.duration,this._delay=d.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){const o=[];return i.forEach(d=>{o.push(Object.fromEntries(d))}),o}_triggerWebAnimation(i,o,d){return i.animate(this._convertKeyframesToObject(o),d)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((d,g)=>{"offset"!==g&&i.set(g,this._finished?d:Kn(this.element,g))}),this.currentSnapshot=i}triggerCallback(i){const o="start"===i?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}class Hr{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}matchesElement(i,o){return!1}containsElement(i,o){return Un(i,o)}getParentElement(i){return gt(i)}query(i,o,d){return Cn(i,o,d)}computeStyle(i,o,d){return window.getComputedStyle(i)[o]}animate(i,o,d,g,T,P=[]){const le={duration:d,delay:g,fill:0==g?"both":"forwards"};T&&(le.easing=T);const Te=new Map,_t=P.filter(mn=>mn instanceof Ea);(function ot(u,i){return 0===u||0===i})(d,g)&&_t.forEach(mn=>{mn.currentSnapshot.forEach((wn,s)=>Te.set(s,wn))});let wt=function ge(u){return u.length?u[0]instanceof Map?u:u.map(i=>$t(i)):[]}(o).map(mn=>G(mn));wt=function Bt(u,i,o){if(o.size&&i.length){let d=i[0],g=[];if(o.forEach((T,P)=>{d.has(P)||g.push(P),d.set(P,T)}),g.length)for(let T=1;T<i.length;T++){let P=i[T];g.forEach(z=>P.set(z,Kn(u,z)))}}return i}(i,wt,Te);const Ut=function Qa(u,i){let o=null,d=null;return Array.isArray(i)&&i.length?(o=Ii(i[0]),i.length>1&&(d=Ii(i[i.length-1]))):i instanceof Map&&(o=Ii(i)),o||d?new Sn(u,o,d):null}(i,wt);return new Ea(i,wt,le,Ut)}}var se=k(6895);let Q=(()=>{class u extends _._j{constructor(o,d){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(d.body,{id:"0",encapsulation:N.ifc.None,styles:[],data:{animation:[]}})}build(o){const d=this._nextAnimationId.toString();this._nextAnimationId++;const g=Array.isArray(o)?(0,_.vP)(o):o;return nn(this._renderer,null,d,"register",[g]),new $(d,this._renderer)}}return u.\u0275fac=function(o){return new(o||u)(N.LFG(N.FYo),N.LFG(se.K0))},u.\u0275prov=N.Yz7({token:u,factory:u.\u0275fac}),u})();class $ extends _.LC{constructor(i,o){super(),this._id=i,this._renderer=o}create(i,o){return new xe(this._id,i,o||{},this._renderer)}}class xe{constructor(i,o,d,g){this.id=i,this.element=o,this._renderer=g,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",d)}_listen(i,o){return this._renderer.listen(this.element,`@@${this.id}:${i}`,o)}_command(i,...o){return nn(this._renderer,this.element,this.id,i,o)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){var i,o;return null!==(i=null===(o=this._renderer.engine.players[+this.id])||void 0===o?void 0:o.getPosition())&&void 0!==i?i:0}}function nn(u,i,o,d,g){return u.setProperty(i,`@@${o}:${d}`,g)}const Cr="@.disabled";let oo=(()=>{class u{constructor(o,d,g){this.delegate=o,this.engine=d,this._zone=g,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),d.onRemovalComplete=(T,P)=>{const z=P?.parentNode(T);z&&P.removeChild(z,T)}}createRenderer(o,d){const T=this.delegate.createRenderer(o,d);if(!(o&&d&&d.data&&d.data.animation)){let _t=this._rendererCache.get(T);return _t||(_t=new Lr("",T,this.engine),this._rendererCache.set(T,_t)),_t}const P=d.id,z=d.id+"-"+this._currentId;this._currentId++,this.engine.register(z,o);const le=_t=>{Array.isArray(_t)?_t.forEach(le):this.engine.registerTrigger(P,z,o,_t.name,_t)};return d.data.animation.forEach(le),new gr(this,z,T,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(o,d,g){o>=0&&o<this._microtaskId?this._zone.run(()=>d(g)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(T=>{const[P,z]=T;P(z)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([d,g]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return u.\u0275fac=function(o){return new(o||u)(N.LFG(N.FYo),N.LFG(Xr),N.LFG(N.R0b))},u.\u0275prov=N.Yz7({token:u,factory:u.\u0275fac}),u})();class Lr{constructor(i,o,d){this.namespaceId=i,this.delegate=o,this.engine=d,this.destroyNode=this.delegate.destroyNode?g=>o.destroyNode(g):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(i,o){return this.delegate.createElement(i,o)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,o){this.delegate.appendChild(i,o),this.engine.onInsert(this.namespaceId,o,i,!1)}insertBefore(i,o,d,g=!0){this.delegate.insertBefore(i,o,d),this.engine.onInsert(this.namespaceId,o,i,g)}removeChild(i,o,d){this.engine.onRemove(this.namespaceId,o,this.delegate,d)}selectRootElement(i,o){return this.delegate.selectRootElement(i,o)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,o,d,g){this.delegate.setAttribute(i,o,d,g)}removeAttribute(i,o,d){this.delegate.removeAttribute(i,o,d)}addClass(i,o){this.delegate.addClass(i,o)}removeClass(i,o){this.delegate.removeClass(i,o)}setStyle(i,o,d,g){this.delegate.setStyle(i,o,d,g)}removeStyle(i,o,d){this.delegate.removeStyle(i,o,d)}setProperty(i,o,d){"@"==o.charAt(0)&&o==Cr?this.disableAnimations(i,!!d):this.delegate.setProperty(i,o,d)}setValue(i,o){this.delegate.setValue(i,o)}listen(i,o,d){return this.delegate.listen(i,o,d)}disableAnimations(i,o){this.engine.disableAnimations(i,o)}}class gr extends Lr{constructor(i,o,d,g){super(o,d,g),this.factory=i,this.namespaceId=o}setProperty(i,o,d){"@"==o.charAt(0)?"."==o.charAt(1)&&o==Cr?this.disableAnimations(i,d=void 0===d||!!d):this.engine.process(this.namespaceId,i,o.slice(1),d):this.delegate.setProperty(i,o,d)}listen(i,o,d){if("@"==o.charAt(0)){const g=function rs(u){switch(u){case"body":return document.body;case"document":return document;case"window":return window;default:return u}}(i);let T=o.slice(1),P="";return"@"!=T.charAt(0)&&([T,P]=function ca(u){const i=u.indexOf(".");return[u.substring(0,i),u.slice(i+1)]}(T)),this.engine.listen(this.namespaceId,g,T,P,z=>{this.factory.scheduleListenerCallback(z._data||-1,d,z)})}return this.delegate.listen(i,o,d)}}const Ba=[{provide:_._j,useClass:Q},{provide:zr,useFactory:function ao(){return new Ro}},{provide:Xr,useClass:(()=>{class u extends Xr{constructor(o,d,g,T){super(o.body,d,g)}ngOnDestroy(){this.flush()}}return u.\u0275fac=function(o){return new(o||u)(N.LFG(se.K0),N.LFG(di),N.LFG(zr),N.LFG(N.z2F))},u.\u0275prov=N.Yz7({token:u,factory:u.\u0275fac}),u})()},{provide:N.FYo,useFactory:function Tc(u,i,o){return new oo(u,i,o)},deps:[p.se,Xr,N.R0b]}],Ql=[{provide:di,useFactory:()=>new Hr},{provide:N.QbO,useValue:"BrowserAnimations"},...Ba],Va=[{provide:di,useClass:Fn},{provide:N.QbO,useValue:"NoopAnimations"},...Ba];let Zo=(()=>{class u{static withConfig(o){return{ngModule:u,providers:o.disableAnimations?Va:Ql}}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=N.oAB({type:u}),u.\u0275inj=N.cJS({providers:Ql,imports:[p.b2]}),u})();var Yr=k(7868),ml=k(986);const lo=[{path:"dashboard",canActivate:[(()=>{class u{constructor(o,d){this.authService=o,this.router=d}canActivate(o,d){return!0!==this.authService.isLoggedIn&&this.router.navigate(["auth/sign-in"]),!0}}return u.\u0275fac=function(o){return new(o||u)(N.LFG(ml.e),N.LFG(Yr.F0))},u.\u0275prov=N.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()],loadChildren:()=>Promise.resolve().then(k.bind(k,2666)).then(u=>u.LayoutModule)},{path:"auth",canActivate:[(()=>{class u{constructor(o,d){this.authService=o,this.router=d}canActivate(o,d){return!0===this.authService.isLoggedIn&&this.router.navigate(["dashboard"]),!0}}return u.\u0275fac=function(o){return new(o||u)(N.LFG(ml.e),N.LFG(Yr.F0))},u.\u0275prov=N.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()],loadChildren:()=>k.e(877).then(k.bind(k,9877)).then(u=>u.AuthModule)},{path:"",redirectTo:"/auth/sign-in",pathMatch:"full"},{path:"**",redirectTo:"dashboard"}];let Ja=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=N.oAB({type:u}),u.\u0275inj=N.cJS({imports:[Yr.Bz.forRoot(lo,{relativeLinkResolution:"legacy"}),Yr.Bz.forRoot(lo,{useHash:!0}),Yr.Bz]}),u})(),W=(()=>{class u{constructor(){this.title="Todo List"}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275cmp=N.Xpm({type:u,selectors:[["app-root"]],decls:1,vars:0,template:function(o,d){1&o&&N._UZ(0,"router-outlet")},dependencies:[Yr.lC]}),u})();var ve=k(2011),q=k(4941),Me=k(6498),dt=k(1086),Qt=k(5254),un=k(13),Qn=k(4850),Ni=k(7545),bi=k(6351),Hi=k(3942),Li=k(5861),_r=k(9681),qe=k(2090),ur=k(4859);const Rs="firebasestorage.googleapis.com",ys="storageBucket";class tr extends qe.ZR{constructor(i,o,d=0){super(Os(i),`Firebase Storage: ${o} (${Os(i)})`),this.status_=d,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tr.prototype)}get status(){return this.status_}set status(i){this.status_=i}_codeEquals(i){return Os(i)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(i){this.customData.serverResponse=i,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Os(u){return"storage/"+u}function gl(){return new tr("unknown","An unknown error occurred, please check the error payload for server response.")}function Fl(){return new tr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Bl(){return new tr("canceled","User canceled the upload/download.")}function au(){return new tr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function fa(u){return new tr("invalid-argument",u)}function Bo(){return new tr("app-deleted","The Firebase app was deleted.")}function _l(u){return new tr("invalid-root-operation","The operation '"+u+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vo(u,i){return new tr("invalid-format","String does not match format '"+u+"': "+i)}function Rn(u){throw new tr("internal-error","Internal error: "+u)}class Qi{constructor(i,o){this.bucket=i,this.path_=o}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const i=encodeURIComponent;return"/b/"+i(this.bucket)+"/o/"+i(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(i,o){let d;try{d=Qi.makeFromUrl(i,o)}catch{return new Qi(i,"")}if(""===d.path)return d;throw function Mc(u){return new tr("invalid-default-bucket","Invalid default bucket '"+u+"'.")}(i)}static makeFromUrl(i,o){let d=null;const g="([A-Za-z0-9.\\-_]+)",z=new RegExp("^gs://"+g+"(/(.*))?$","i");function Te(y){y.path_=decodeURIComponent(y.path)}const wt=o.replace(/[.]/g,"\\."),f=[{regex:z,indices:{bucket:1,path:3},postModify:function T(y){"/"===y.path.charAt(y.path.length-1)&&(y.path_=y.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${wt}/v[A-Za-z0-9_]+/b/${g}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Te},{regex:new RegExp(`^https?://${o===Rs?"(?:storage.googleapis.com|storage.cloud.google.com)":o}/${g}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Te}];for(let y=0;y<f.length;y++){const M=f[y],U=M.regex.exec(i);if(U){let _e=U[M.indices.path];_e||(_e=""),d=new Qi(U[M.indices.bucket],_e),M.postModify(d);break}}if(null==d)throw function ha(u){return new tr("invalid-url","Invalid URL '"+u+"'.")}(i);return d}}class pa{constructor(i){this.promise_=Promise.reject(i)}getPromise(){return this.promise_}cancel(i=!1){}}function cn(u){return"string"==typeof u||u instanceof String}function Mn(u){return Ar()&&u instanceof Blob}function Ar(){return typeof Blob<"u"&&!(0,qe.UG)()}function Ic(u,i,o,d){if(d<i)throw fa(`Invalid value for '${u}'. Expected ${i} or greater.`);if(d>o)throw fa(`Invalid value for '${u}'. Expected ${o} or less.`)}function Do(u,i,o){let d=i;return null==o&&(d=`https://${i}`),`${o}://${d}/v0${u}`}function tl(u){const i=encodeURIComponent;let o="?";for(const d in u)u.hasOwnProperty(d)&&(o=o+(i(d)+"=")+i(u[d])+"&");return o=o.slice(0,-1),o}var ma=(()=>{return(u=ma||(ma={}))[u.NO_ERROR=0]="NO_ERROR",u[u.NETWORK_ERROR=1]="NETWORK_ERROR",u[u.ABORT=2]="ABORT",ma;var u})();function vl(u,i){const o=u>=500&&u<600,g=-1!==[408,429].indexOf(u),T=-1!==i.indexOf(u);return o||g||T}class xc{constructor(i,o,d,g,T,P,z,le,Te,_t,wt,Ut=!0){this.url_=i,this.method_=o,this.headers_=d,this.body_=g,this.successCodes_=T,this.additionalRetryCodes_=P,this.callback_=z,this.errorCallback_=le,this.timeout_=Te,this.progressCallback_=_t,this.connectionFactory_=wt,this.retry=Ut,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((mn,wn)=>{this.resolve_=mn,this.reject_=wn,this.start_()})}start_(){const o=(d,g)=>{const T=this.resolve_,P=this.reject_,z=g.connection;if(g.wasSuccessCode)try{const le=this.callback_(z,z.getResponse());!function Ti(u){return void 0!==u}(le)?T():T(le)}catch(le){P(le)}else if(null!==z){const le=gl();le.serverResponse=z.getErrorText(),P(this.errorCallback_?this.errorCallback_(z,le):le)}else P(g.canceled?this.appDelete_?Bo():Bl():Fl())};this.canceled_?o(0,new nl(!1,null,!0)):this.backoffId_=function Gu(u,i,o){let d=1,g=null,T=null,P=!1,z=0;function le(){return 2===z}let Te=!1;function _t(...e){Te||(Te=!0,i.apply(null,e))}function wt(e){g=setTimeout(()=>{g=null,u(mn,le())},e)}function Ut(){T&&clearTimeout(T)}function mn(e,...t){if(Te)return void Ut();if(e)return Ut(),void _t.call(null,e,...t);if(le()||P)return Ut(),void _t.call(null,e,...t);let f;d<64&&(d*=2),1===z?(z=2,f=0):f=1e3*(d+Math.random()),wt(f)}let wn=!1;function s(e){wn||(wn=!0,Ut(),!Te&&(null!==g?(e||(z=2),clearTimeout(g),wt(0)):e||(z=1)))}return wt(0),T=setTimeout(()=>{P=!0,s(!0)},o),s}((d,g)=>{if(g)return void d(!1,new nl(!1,null,!0));const T=this.connectionFactory_();this.pendingConnection_=T;const P=z=>{null!==this.progressCallback_&&this.progressCallback_(z.loaded,z.lengthComputable?z.total:-1)};null!==this.progressCallback_&&T.addUploadProgressListener(P),T.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&T.removeUploadProgressListener(P),this.pendingConnection_=null;const z=T.getErrorCode()===ma.NO_ERROR,le=T.getStatus();if((!z||vl(le,this.additionalRetryCodes_))&&this.retry){const _t=T.getErrorCode()===ma.ABORT;return void d(!1,new nl(!1,null,_t))}const Te=-1!==this.successCodes_.indexOf(le);d(!0,new nl(Te,T))})},o,this.timeout_)}getPromise(){return this.promise_}cancel(i){this.canceled_=!0,this.appDelete_=i||!1,null!==this.backoffId_&&function ii(u){u(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class nl{constructor(i,o,d){this.wasSuccessCode=i,this.connection=o,this.canceled=!!d}}function rl(...u){const i=function ga(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==i){const o=new i;for(let d=0;d<u.length;d++)o.append(u[d]);return o.getBlob()}if(Ar())return new Blob(u);throw new tr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const cs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class yi{constructor(i,o){this.data=i,this.contentType=o||null}}function co(u,i){switch(u){case cs.RAW:return new yi(wr(i));case cs.BASE64:case cs.BASE64URL:return new yi(qo(u,i));case cs.DATA_URL:return new yi(function Qo(u){const i=new Da(u);return i.base64?qo(cs.BASE64,i.rest):function zn(u){let i;try{i=decodeURIComponent(u)}catch{throw Vo(cs.DATA_URL,"Malformed data URL.")}return wr(i)}(i.rest)}(i),function Ta(u){return new Da(u).contentType}(i))}throw gl()}function wr(u){const i=[];for(let o=0;o<u.length;o++){let d=u.charCodeAt(o);d<=127?i.push(d):d<=2047?i.push(192|d>>6,128|63&d):55296==(64512&d)?o<u.length-1&&56320==(64512&u.charCodeAt(o+1))?(d=65536|(1023&d)<<10|1023&u.charCodeAt(++o),i.push(240|d>>18,128|d>>12&63,128|d>>6&63,128|63&d)):i.push(239,191,189):56320==(64512&d)?i.push(239,191,189):i.push(224|d>>12,128|d>>6&63,128|63&d)}return new Uint8Array(i)}function qo(u,i){switch(u){case cs.BASE64:{const g=-1!==i.indexOf("-"),T=-1!==i.indexOf("_");if(g||T)throw Vo(u,"Invalid character '"+(g?"-":"_")+"' found: is it base64url encoded?");break}case cs.BASE64URL:{const g=-1!==i.indexOf("+"),T=-1!==i.indexOf("/");if(g||T)throw Vo(u,"Invalid character '"+(g?"+":"/")+"' found: is it base64 encoded?");i=i.replace(/-/g,"+").replace(/_/g,"/");break}}let o;try{o=function Ci(u){return atob(u)}(i)}catch{throw Vo(u,"Invalid character found")}const d=new Uint8Array(o.length);for(let g=0;g<o.length;g++)d[g]=o.charCodeAt(g);return d}class Da{constructor(i){this.base64=!1,this.contentType=null;const o=i.match(/^data:([^,]+)?,/);if(null===o)throw Vo(cs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const d=o[1]||null;null!=d&&(this.base64=function _a(u,i){return u.length>=i.length&&u.substring(u.length-i.length)===i}(d,";base64"),this.contentType=this.base64?d.substring(0,d.length-7):d),this.rest=i.substring(i.indexOf(",")+1)}}class ji{constructor(i,o){let d=0,g="";Mn(i)?(this.data_=i,d=i.size,g=i.type):i instanceof ArrayBuffer?(o?this.data_=new Uint8Array(i):(this.data_=new Uint8Array(i.byteLength),this.data_.set(new Uint8Array(i))),d=this.data_.length):i instanceof Uint8Array&&(o?this.data_=i:(this.data_=new Uint8Array(i.length),this.data_.set(i)),d=i.length),this.size_=d,this.type_=g}size(){return this.size_}type(){return this.type_}slice(i,o){if(Mn(this.data_)){const g=function kr(u,i,o){return u.webkitSlice?u.webkitSlice(i,o):u.mozSlice?u.mozSlice(i,o):u.slice?u.slice(i,o):null}(this.data_,i,o);return null===g?null:new ji(g)}{const d=new Uint8Array(this.data_.buffer,i,o-i);return new ji(d,!0)}}static getBlob(...i){if(Ar()){const o=i.map(d=>d instanceof ji?d.data_:d);return new ji(rl.apply(null,o))}{const o=i.map(P=>cn(P)?co(cs.RAW,P).data:P.data_);let d=0;o.forEach(P=>{d+=P.byteLength});const g=new Uint8Array(d);let T=0;return o.forEach(P=>{for(let z=0;z<P.length;z++)g[T++]=P[z]}),new ji(g,!0)}}uploadData(){return this.data_}}function bl(u){let i;try{i=JSON.parse(u)}catch{return null}return function Xn(u){return"object"==typeof u&&!Array.isArray(u)}(i)?i:null}function uo(u){const i=u.lastIndexOf("/",u.length-2);return-1===i?u:u.slice(i+1)}function Ac(u,i){return i}class Ps{constructor(i,o,d,g){this.server=i,this.local=o||i,this.writable=!!d,this.xform=g||Ac}}let Jl=null;function wl(){if(Jl)return Jl;const u=[];u.push(new Ps("bucket")),u.push(new Ps("generation")),u.push(new Ps("metageneration")),u.push(new Ps("name","fullPath",!0));const o=new Ps("name");o.xform=function i(T,P){return function Ho(u){return!cn(u)||u.length<2?u:uo(u)}(P)},u.push(o);const g=new Ps("size");return g.xform=function d(T,P){return void 0!==P?Number(P):P},u.push(g),u.push(new Ps("timeCreated")),u.push(new Ps("updated")),u.push(new Ps("md5Hash",null,!0)),u.push(new Ps("cacheControl",null,!0)),u.push(new Ps("contentDisposition",null,!0)),u.push(new Ps("contentEncoding",null,!0)),u.push(new Ps("contentLanguage",null,!0)),u.push(new Ps("contentType",null,!0)),u.push(new Ps("metadata","customMetadata",!0)),Jl=u,Jl}function jo(u,i,o){const d=bl(i);return null===d?null:function Kr(u,i,o){const d={type:"file"},g=o.length;for(let T=0;T<g;T++){const P=o[T];d[P.local]=P.xform(d,i[P.server])}return function an(u,i){Object.defineProperty(u,"ref",{get:function o(){const T=new Qi(u.bucket,u.fullPath);return i._makeStorageReference(T)}})}(d,u),d}(u,d,o)}function sl(u,i){const o={},d=i.length;for(let g=0;g<d;g++){const T=i[g];T.writable&&(o[T.server]=u[T.local])}return JSON.stringify(o)}const Sa="prefixes";class fo{constructor(i,o,d,g){this.url=i,this.method=o,this.handler=d,this.timeout=g,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function qs(u){if(!u)throw gl()}function Vl(u,i){return function o(d,g){const T=jo(u,g,i);return qs(null!==T),T}}function mo(u){return function i(o,d){let g;return g=401===o.getStatus()?o.getErrorText().includes("Firebase App Check token is invalid")?function Md(){return new tr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function $u(){return new tr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===o.getStatus()?function da(u){return new tr("quota-exceeded","Quota for bucket '"+u+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(u.bucket):403===o.getStatus()?function Sc(u){return new tr("unauthorized","User does not have permission to access '"+u+"'.")}(u.path):d,g.status=o.getStatus(),g.serverResponse=d.serverResponse,g}}function L(u){const i=mo(u);return function o(d,g){let T=i(d,g);return 404===d.getStatus()&&(T=function ss(u){return new tr("object-not-found","Object '"+u+"' does not exist.")}(u.path)),T.serverResponse=g.serverResponse,T}}function F(u,i,o){const g=Do(i.fullServerUrl(),u.host,u._protocol),P=u.maxOperationRetryTime,z=new fo(g,"GET",Vl(u,o),P);return z.errorHandler=L(i),z}function I(u,i,o,d,g){const T={};T.prefix=i.isRoot?"":i.path+"/",o&&o.length>0&&(T.delimiter=o),d&&(T.pageToken=d),g&&(T.maxResults=g);const z=Do(i.bucketOnlyServerUrl(),u.host,u._protocol),Te=u.maxOperationRetryTime,_t=new fo(z,"GET",function po(u,i){return function o(d,g){const T=function ec(u,i,o){const d=bl(o);return null===d?null:function ho(u,i,o){const d={prefixes:[],items:[],nextPageToken:o.nextPageToken};if(o[Sa])for(const g of o[Sa]){const T=g.replace(/\/$/,""),P=u._makeStorageReference(new Qi(i,T));d.prefixes.push(P)}if(o.items)for(const g of o.items){const T=u._makeStorageReference(new Qi(i,g.name));d.items.push(T)}return d}(u,i,d)}(u,i,g);return qs(null!==T),T}}(u,i.bucket),Te);return _t.urlParams=T,_t.errorHandler=mo(i),_t}function Yt(u,i,o){const d=Object.assign({},o);return d.fullPath=u.path,d.size=i.size(),d.contentType||(d.contentType=function ft(u,i){return u&&u.contentType||i&&i.type()||"application/octet-stream"}(null,i)),d}class ai{constructor(i,o,d,g){this.current=i,this.total=o,this.finalized=!!d,this.metadata=g||null}}function Wn(u,i){let o=null;try{o=u.getResponseHeader("X-Goog-Upload-Status")}catch{qs(!1)}return qs(!!o&&-1!==(i||["active"]).indexOf(o)),o}const jr={STATE_CHANGED:"state_changed"},Nr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ns(u){switch(u){case"running":case"pausing":case"canceling":return Nr.RUNNING;case"paused":return Nr.PAUSED;case"success":return Nr.SUCCESS;case"canceled":return Nr.CANCELED;default:return Nr.ERROR}}class va{constructor(i,o,d){if(function Uo(u){return"function"==typeof u}(i)||null!=o||null!=d)this.next=i,this.error=o??void 0,this.complete=d??void 0;else{const T=i;this.next=T.next,this.error=T.error,this.complete=T.complete}}}function Jr(u){return(...i)=>{Promise.resolve().then(()=>u(...i))}}class Z extends class Ul{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ma.NO_ERROR,this.sendPromise_=new Promise(i=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ma.ABORT,i()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ma.NETWORK_ERROR,i()}),this.xhr_.addEventListener("load",()=>{i()})})}send(i,o,d,g){if(this.sent_)throw Rn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(o,i,!0),void 0!==g)for(const T in g)g.hasOwnProperty(T)&&this.xhr_.setRequestHeader(T,g[T].toString());return void 0!==d?this.xhr_.send(d):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Rn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Rn("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Rn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Rn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(i){return this.xhr_.getResponseHeader(i)}addUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",i)}removeUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",i)}}{initXhr(){this.xhr_.responseType="text"}}function re(){return new Z}class In{constructor(i,o,d=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=i,this._blob=o,this._metadata=d,this._mappings=wl(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=g=>{if(this._request=void 0,this._chunkMultiplier=1,g._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const T=this.isExponentialBackoffExpired();if(vl(g.status,[])){if(!T)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();g=Fl()}this._error=g,this._transition("error")}},this._metadataErrorHandler=g=>{this._request=void 0,g._codeEquals("canceled")?this.completeTransitions_():(this._error=g,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((g,T)=>{this._resolve=g,this._reject=T,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const i=this._transferred;return o=>this._updateProgress(i+o)}_shouldDoResumable(i){return i.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(i){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([o,d])=>{switch(this._state){case"running":i(o,d);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((i,o)=>{const d=function ci(u,i,o,d,g){const T=i.bucketOnlyServerUrl(),P=Yt(i,d,g),z={name:P.fullPath},le=Do(T,u.host,u._protocol),_t={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${d.size()}`,"X-Goog-Upload-Header-Content-Type":P.contentType,"Content-Type":"application/json; charset=utf-8"},wt=sl(P,o),wn=new fo(le,"POST",function mn(s){let e;Wn(s);try{e=s.getResponseHeader("X-Goog-Upload-URL")}catch{qs(!1)}return qs(cn(e)),e},u.maxUploadRetryTime);return wn.urlParams=z,wn.headers=_t,wn.body=wt,wn.errorHandler=mo(i),wn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),g=this._ref.storage._makeRequest(d,re,i,o);this._request=g,g.getPromise().then(T=>{this._request=void 0,this._uploadUrl=T,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const i=this._uploadUrl;this._resolveToken((o,d)=>{const g=function Ui(u,i,o,d){const le=new fo(o,"POST",function T(Te){const _t=Wn(Te,["active","final"]);let wt=null;try{wt=Te.getResponseHeader("X-Goog-Upload-Size-Received")}catch{qs(!1)}wt||qs(!1);const Ut=Number(wt);return qs(!isNaN(Ut)),new ai(Ut,d.size(),"final"===_t)},u.maxUploadRetryTime);return le.headers={"X-Goog-Upload-Command":"query"},le.errorHandler=mo(i),le}(this._ref.storage,this._ref._location,i,this._blob),T=this._ref.storage._makeRequest(g,re,o,d);this._request=T,T.getPromise().then(P=>{this._request=void 0,this._updateProgress(P.current),this._needToFetchStatus=!1,P.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const i=262144*this._chunkMultiplier,o=new ai(this._transferred,this._blob.size()),d=this._uploadUrl;this._resolveToken((g,T)=>{let P;try{P=function So(u,i,o,d,g,T,P,z){const le=new ai(0,0);if(P?(le.current=P.current,le.total=P.total):(le.current=0,le.total=d.size()),d.size()!==le.total)throw function lu(){return new tr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const Te=le.total-le.current;let _t=Te;g>0&&(_t=Math.min(_t,g));const wt=le.current;let mn="";mn=0===_t?"finalize":Te===_t?"upload, finalize":"upload";const wn={"X-Goog-Upload-Command":mn,"X-Goog-Upload-Offset":`${le.current}`},s=d.slice(wt,wt+_t);if(null===s)throw au();const f=new fo(o,"POST",function e(y,M){const U=Wn(y,["active","final"]),oe=le.current+_t,_e=d.size();let Ge;return Ge="final"===U?Vl(i,T)(y,M):null,new ai(oe,_e,"final"===U,Ge)},i.maxUploadRetryTime);return f.headers=wn,f.body=s.uploadData(),f.progressCallback=z||null,f.errorHandler=mo(u),f}(this._ref._location,this._ref.storage,d,this._blob,i,this._mappings,o,this._makeProgressCallback())}catch(le){return this._error=le,void this._transition("error")}const z=this._ref.storage._makeRequest(P,re,g,T,!1);this._request=z,z.getPromise().then(le=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(le.current),le.finalized?(this._metadata=le.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((i,o)=>{const d=F(this._ref.storage,this._ref._location,this._mappings),g=this._ref.storage._makeRequest(d,re,i,o);this._request=g,g.getPromise().then(T=>{this._request=void 0,this._metadata=T,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((i,o)=>{const d=function An(u,i,o,d,g){const T=i.bucketOnlyServerUrl(),P={"X-Goog-Upload-Protocol":"multipart"},le=function z(){let f="";for(let y=0;y<2;y++)f+=Math.random().toString().slice(2);return f}();P["Content-Type"]="multipart/related; boundary="+le;const Te=Yt(i,d,g),_t=sl(Te,o),mn=ji.getBlob("--"+le+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+_t+"\r\n--"+le+"\r\nContent-Type: "+Te.contentType+"\r\n\r\n",d,"\r\n--"+le+"--");if(null===mn)throw au();const wn={name:Te.fullPath},s=Do(T,u.host,u._protocol),t=u.maxUploadRetryTime,a=new fo(s,"POST",Vl(u,o),t);return a.urlParams=wn,a.headers=P,a.body=mn.uploadData(),a.errorHandler=mo(i),a}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),g=this._ref.storage._makeRequest(d,re,i,o);this._request=g,g.getPromise().then(T=>{this._request=void 0,this._metadata=T,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(i){const o=this._transferred;this._transferred=i,this._transferred!==o&&this._notifyObservers()}_transition(i){if(this._state!==i)switch(i){case"canceling":case"pausing":this._state=i,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const o="paused"===this._state;this._state=i,o&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=i,this._notifyObservers();break;case"canceled":this._error=Bl(),this._state=i,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const i=Ns(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:i,metadata:this._metadata,task:this,ref:this._ref}}on(i,o,d,g){const T=new va(o||void 0,d||void 0,g||void 0);return this._addObserver(T),()=>{this._removeObserver(T)}}then(i,o){return this._promise.then(i,o)}catch(i){return this.then(null,i)}_addObserver(i){this._observers.push(i),this._notifyObserver(i)}_removeObserver(i){const o=this._observers.indexOf(i);-1!==o&&this._observers.splice(o,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(o=>{this._notifyObserver(o)})}_finishPromise(){if(void 0!==this._resolve){let i=!0;switch(Ns(this._state)){case Nr.SUCCESS:Jr(this._resolve.bind(null,this.snapshot))();break;case Nr.CANCELED:case Nr.ERROR:Jr(this._reject.bind(null,this._error))();break;default:i=!1}i&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(i){switch(Ns(this._state)){case Nr.RUNNING:case Nr.PAUSED:i.next&&Jr(i.next.bind(i,this.snapshot))();break;case Nr.SUCCESS:i.complete&&Jr(i.complete.bind(i))();break;default:i.error&&Jr(i.error.bind(i,this._error))()}}resume(){const i="paused"===this._state||"pausing"===this._state;return i&&this._transition("running"),i}pause(){const i="running"===this._state;return i&&this._transition("pausing"),i}cancel(){const i="running"===this._state||"pausing"===this._state;return i&&this._transition("canceling"),i}}class Gn{constructor(i,o){this._service=i,this._location=o instanceof Qi?o:Qi.makeFromUrl(o,i.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(i,o){return new Gn(i,o)}get root(){const i=new Qi(this._location.bucket,"");return this._newRef(this._service,i)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uo(this._location.path)}get storage(){return this._service}get parent(){const i=function Cl(u){if(0===u.length)return null;const i=u.lastIndexOf("/");return-1===i?"":u.slice(0,i)}(this._location.path);if(null===i)return null;const o=new Qi(this._location.bucket,i);return new Gn(this._service,o)}_throwIfRoot(i){if(""===this._location.path)throw _l(i)}}function Xo(u,i,o){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,Li.Z)(function*(u,i,o){const g=yield ol(u,{pageToken:o});i.prefixes.push(...g.prefixes),i.items.push(...g.items),null!=g.nextPageToken&&(yield Xo(u,i,g.nextPageToken))})).apply(this,arguments)}function ol(u,i){null!=i&&"number"==typeof i.maxResults&&Ic("options.maxResults",1,1e3,i.maxResults);const o=i||{},d=I(u.storage,u._location,"/",o.pageToken,o.maxResults);return u.storage.makeRequestWithTokens(d,re)}function nc(u){u._throwIfRoot("getDownloadURL");const i=function te(u,i,o){const g=Do(i.fullServerUrl(),u.host,u._protocol),P=u.maxOperationRetryTime,z=new fo(g,"GET",function Rc(u,i){return function o(d,g){const T=jo(u,g,i);return qs(null!==T),function kc(u,i,o,d){const g=bl(i);if(null===g||!cn(g.downloadTokens))return null;const T=g.downloadTokens;if(0===T.length)return null;const P=encodeURIComponent;return T.split(",").map(Te=>{const wt=u.fullPath;return Do("/b/"+P(u.bucket)+"/o/"+P(wt),o,d)+tl({alt:"media",token:Te})})[0]}(T,g,u.host,u._protocol)}}(u,o),P);return z.errorHandler=L(i),z}(u.storage,u._location,wl());return u.storage.makeRequestWithTokens(i,re).then(o=>{if(null===o)throw function nr(){return new tr("no-download-url","The given file does not have any download URLs.")}();return o})}function $a(u,i){const o=function Xl(u,i){const o=i.split("/").filter(d=>d.length>0).join("/");return 0===u.length?o:u+"/"+o}(u._location.path,i),d=new Qi(u._location.bucket,o);return new Gn(u.storage,d)}function _h(u,i){if(u instanceof du){const o=u;if(null==o._bucket)throw function el(){return new tr("no-default-bucket","No default bucket found. Did you set the '"+ys+"' property when initializing the app?")}();const d=new Gn(o,o._bucket);return null!=i?_h(d,i):d}return void 0!==i?$a(u,i):u}function ic(u,i){if(i&&function vr(u){return/^[A-Za-z]+:\/\//.test(u)}(i)){if(u instanceof du)return function uu(u,i){return new Gn(u,i)}(u,i);throw fa("To use ref(service, url), the first argument must be a Storage instance.")}return _h(u,i)}function xd(u,i){const o=i?.[ys];return null==o?null:Qi.makeFromBucketSpec(o,u)}class du{constructor(i,o,d,g,T){this.app=i,this._authProvider=o,this._appCheckProvider=d,this._url=g,this._firebaseVersion=T,this._bucket=null,this._host=Rs,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=g?Qi.makeFromBucketSpec(g,this._host):xd(this._host,this.app.options)}get host(){return this._host}set host(i){this._host=i,this._bucket=null!=this._url?Qi.makeFromBucketSpec(this._url,i):xd(i,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(i){Ic("time",0,Number.POSITIVE_INFINITY,i),this._maxUploadRetryTime=i}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(i){Ic("time",0,Number.POSITIVE_INFINITY,i),this._maxOperationRetryTime=i}_getAuthToken(){var i=this;return(0,Li.Z)(function*(){if(i._overrideAuthToken)return i._overrideAuthToken;const o=i._authProvider.getImmediate({optional:!0});if(o){const d=yield o.getToken();if(null!==d)return d.accessToken}return null})()}_getAppCheckToken(){var i=this;return(0,Li.Z)(function*(){const o=i._appCheckProvider.getImmediate({optional:!0});return o?(yield o.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(i=>i.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(i){return new Gn(this,i)}_makeRequest(i,o,d,g,T=!0){if(this._deleted)return new pa(Bo());{const P=function Si(u,i,o,d,g,T,P=!0){const z=tl(u.urlParams),le=u.url+z,Te=Object.assign({},u.headers);return function Pr(u,i){i&&(u["X-Firebase-GMPID"]=i)}(Te,i),function yl(u,i){null!==i&&i.length>0&&(u.Authorization="Firebase "+i)}(Te,o),function Id(u,i){u["X-Firebase-Storage-Version"]="webjs/"+(i??"AppManager")}(Te,T),function il(u,i){null!==i&&(u["X-Firebase-AppCheck"]=i)}(Te,d),new xc(le,u.method,Te,u.body,u.successCodes,u.additionalRetryCodes,u.handler,u.errorHandler,u.timeout,u.progressCallback,g,P)}(i,this._appId,d,g,o,this._firebaseVersion,T);return this._requests.add(P),P.getPromise().then(()=>this._requests.delete(P),()=>this._requests.delete(P)),P}}makeRequestWithTokens(i,o){var d=this;return(0,Li.Z)(function*(){const[g,T]=yield Promise.all([d._getAuthToken(),d._getAppCheckToken()]);return d._makeRequest(i,o,g,T).getPromise()})()}}const zu="@firebase/storage";function al(u,i){return ic(u=(0,qe.m9)(u),i)}function Hl(u,{instanceIdentifier:i}){const o=u.getProvider("app").getImmediate(),d=u.getProvider("auth-internal"),g=u.getProvider("app-check-internal");return new du(o,d,g,i,_r.SDK_VERSION)}!function Pc(){(0,_r._registerComponent)(new ur.wA("storage",Hl,"PUBLIC").setMultipleInstances(!0)),(0,_r.registerVersion)(zu,"0.9.13",""),(0,_r.registerVersion)(zu,"0.9.13","esm2017")}();class Qs{constructor(i,o,d){this._delegate=i,this.task=o,this.ref=d}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Wu{constructor(i,o){this._delegate=i,this._ref=o,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Qs(this._delegate.snapshot,this,this._ref)}then(i,o){return this._delegate.then(d=>{if(i)return i(new Qs(d,this,this._ref))},o)}on(i,o,d,g){let T;return o&&(T="function"==typeof o?P=>o(new Qs(P,this,this._ref)):{next:o.next?P=>o.next(new Qs(P,this,this._ref)):void 0,complete:o.complete||void 0,error:o.error||void 0}),this._delegate.on(i,T,d||void 0,g||void 0)}}class Yu{constructor(i,o){this._delegate=i,this._service=o}get prefixes(){return this._delegate.prefixes.map(i=>new Fs(i,this._service))}get items(){return this._delegate.items.map(i=>new Fs(i,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Fs{constructor(i,o){this._delegate=i,this.storage=o}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(i){const o=function lf(u,i){return $a(u,i)}(this._delegate,i);return new Fs(o,this.storage)}get root(){return new Fs(this._delegate.root,this.storage)}get parent(){const i=this._delegate.parent;return null==i?null:new Fs(i,this.storage)}put(i,o){return this._throwIfRoot("put"),new Wu(function kd(u,i,o){return function wi(u,i,o){return u._throwIfRoot("uploadBytesResumable"),new In(u,new ji(i),o)}(u=(0,qe.m9)(u),i,o)}(this._delegate,i,o),this)}putString(i,o=cs.RAW,d){this._throwIfRoot("putString");const g=co(o,i),T=Object.assign({},d);return null==T.contentType&&null!=g.contentType&&(T.contentType=g.contentType),new Wu(new In(this._delegate,new ji(g.data,!0),T),this)}listAll(){return function Rd(u){return function Ls(u){const i={prefixes:[],items:[]};return Xo(u,i).then(()=>i)}(u=(0,qe.m9)(u))}(this._delegate).then(i=>new Yu(i,this.storage))}list(i){return function lp(u,i){return ol(u=(0,qe.m9)(u),i)}(this._delegate,i||void 0).then(o=>new Yu(o,this.storage))}getMetadata(){return function yh(u){return function cu(u){u._throwIfRoot("getMetadata");const i=F(u.storage,u._location,wl());return u.storage.makeRequestWithTokens(i,re)}(u=(0,qe.m9)(u))}(this._delegate)}updateMetadata(i){return function af(u,i){return function ja(u,i){u._throwIfRoot("updateMetadata");const o=function Ae(u,i,o,d){const T=Do(i.fullServerUrl(),u.host,u._protocol),z=sl(o,d),Te=u.maxOperationRetryTime,_t=new fo(T,"PATCH",Vl(u,d),Te);return _t.headers={"Content-Type":"application/json; charset=utf-8"},_t.body=z,_t.errorHandler=L(i),_t}(u.storage,u._location,i,wl());return u.storage.makeRequestWithTokens(o,re)}(u=(0,qe.m9)(u),i)}(this._delegate,i)}getDownloadURL(){return function bh(u){return nc(u=(0,qe.m9)(u))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function El(u){return function us(u){u._throwIfRoot("deleteObject");const i=function nt(u,i){const d=Do(i.fullServerUrl(),u.host,u._protocol),z=new fo(d,"DELETE",function P(le,Te){},u.maxOperationRetryTime);return z.successCodes=[200,204],z.errorHandler=L(i),z}(u.storage,u._location);return u.storage.makeRequestWithTokens(i,re)}(u=(0,qe.m9)(u))}(this._delegate)}_throwIfRoot(i){if(""===this._delegate._location.path)throw _l(i)}}class Jo{constructor(i,o){this.app=i,this._delegate=o}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(i){if(Ku(i))throw fa("ref() expected a child path but got a URL, use refFromURL instead.");return new Fs(al(this._delegate,i),this)}refFromURL(i){if(!Ku(i))throw fa("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Qi.makeFromUrl(i,this._delegate.host)}catch{throw fa("refFromUrl() expected a valid full URL but got an invalid one.")}return new Fs(al(this._delegate,i),this)}setMaxUploadRetryTime(i){this._delegate.maxUploadRetryTime=i}setMaxOperationRetryTime(i){this._delegate.maxOperationRetryTime=i}useEmulator(i,o,d={}){!function Ch(u,i,o,d={}){!function Oc(u,i,o,d={}){u.host=`${i}:${o}`,u._protocol="http";const{mockUserToken:g}=d;g&&(u._overrideAuthToken="string"==typeof g?g:(0,qe.Sg)(g,u.app.options.projectId))}(u,i,o,d)}(this._delegate,i,o,d)}}function Ku(u){return/^[A-Za-z]+:\/\//.test(u)}function Dl(u,{instanceIdentifier:i}){const o=u.getProvider("app-compat").getImmediate(),d=u.getProvider("storage").getImmediate({identifier:i});return new Jo(o,d)}!function mu(u){const i={TaskState:Nr,TaskEvent:jr,StringFormat:cs,Storage:Jo,Reference:Fs};u.INTERNAL.registerComponent(new ur.wA("storage-compat",Dl,"PUBLIC").setServiceProps(i).setMultipleInstances(!0)),u.registerVersion("@firebase/storage-compat","0.1.21")}(Hi.Z);var uf=k(440),cp=k(127);function df(u){const i=function up(u){return new Me.y(i=>{const o=P=>i.next(P);o(u.snapshot);const T=u.on("state_changed",o);return u.then(P=>{o(P),i.complete()},P=>{o(u.snapshot),(P=>{i.error(P)})(P)}),function(){T()}}).pipe((0,un.b)(0))}(u);return{task:u,then:u.then.bind(u),catch:u.catch.bind(u),pause:u.pause.bind(u),cancel:u.cancel.bind(u),resume:u.resume.bind(u),snapshotChanges:()=>i,percentageChanges:()=>i.pipe((0,Qn.U)(o=>o.bytesTransferred/o.totalBytes*100))}}function Zu(u){return{getDownloadURL:()=>(0,dt.of)(void 0).pipe(bi.fc,(0,Ni.w)(()=>u.getDownloadURL()),bi.iC),getMetadata:()=>(0,dt.of)(void 0).pipe(bi.fc,(0,Ni.w)(()=>u.getMetadata()),bi.iC),delete:()=>(0,Qt.D)(u.delete()),child:i=>Zu(u.child(i)),updateMetadata:i=>(0,Qt.D)(u.updateMetadata(i)),put:(i,o)=>df(u.put(i,o)),putString:(i,o,d)=>df(u.putString(i,o,d)),list:i=>(0,Qt.D)(u.list(i)),listAll:()=>(0,Qt.D)(u.listAll())}}const Od=new N.OlP("angularfire2.storageBucket"),wh=new N.OlP("angularfire2.storage.maxUploadRetryTime"),um=new N.OlP("angularfire2.storage.maxOperationRetryTime"),hf=new N.OlP("angularfire2.storage.use-emulator");let gu=(()=>{class u{constructor(o,d,g,T,P,z,le,Te,_t,wt){const Ut=(0,ve.on)(o,P,d);this.storage=(0,ve.cc)(`${Ut.name}.storage.${g}`,"AngularFireStorage",Ut.name,()=>{const mn=P.runOutsideAngular(()=>Ut.storage(g||void 0)),wn=_t;return wn&&mn.useEmulator(...wn),le&&mn.setMaxUploadRetryTime(le),Te&&mn.setMaxOperationRetryTime(Te),mn},[le,Te])}ref(o){return Zu(this.storage.ref(o))}refFromURL(o){return Zu(this.storage.refFromURL(o))}upload(o,d,g){return Zu(this.storage.ref(o)).put(d,g)}}return u.\u0275fac=function(o){return new(o||u)(N.LFG(ve.Dh),N.LFG(ve.xv,8),N.LFG(Od,8),N.LFG(N.Lbi),N.LFG(N.R0b),N.LFG(bi.HU),N.LFG(wh,8),N.LFG(um,8),N.LFG(hf,8),N.LFG(uf.nm,8))},u.\u0275prov=N.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),qu=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=N.oAB({type:u}),u.\u0275inj=N.cJS({}),u})(),$o=(()=>{class u{constructor(){cp.Z.registerVersion("angularfire",bi.q4.full,"gcs-compat")}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=N.oAB({type:u}),u.\u0275inj=N.cJS({providers:[gu],imports:[qu]}),u})();var Nc=k(2796),sc=k(353),Qu=k(6787),Eh=k(2474),jl=k(2014),Cg=k(5778),dp=k(826),os=k(9054);class Lc{constructor(i,o){this.observables=i,this.project=o}call(i,o){return o.subscribe(new Dh(i,this.observables,this.project))}}class Dh extends dp.L{constructor(i,o,d){super(i),this.observables=o,this.project=d,this.toRespond=[];const g=o.length;this.values=new Array(g);for(let T=0;T<g;T++)this.toRespond.push(T);for(let T=0;T<g;T++){let P=o[T];this.add((0,os.D)(this,P,P,T))}}notifyNext(i,o,d,g,T){this.values[d]=o;const P=this.toRespond;if(P.length>0){const z=P.indexOf(d);-1!==z&&P.splice(z,1)}}notifyComplete(){}_next(i){if(0===this.toRespond.length){const o=[i,...this.values];this.project?this._tryProject(o):this.destination.next(o)}}_tryProject(i){let o;try{o=this.project.apply(this,i)}catch(d){return void this.destination.error(d)}this.destination.next(o)}}var Xu=k(3489);class hp{constructor(i){this.predicate=i}call(i,o){return o.subscribe(new fp(i,this.predicate))}}class fp extends Xu.L{constructor(i,o){super(i),this.predicate=o,this.skipping=!0,this.index=0}_next(i){const o=this.destination;this.skipping&&this.tryCallPredicate(i),this.skipping||o.next(i)}tryCallPredicate(i){try{const o=this.predicate(i,this.index++);this.skipping=Boolean(o)}catch(o){this.destination.error(o)}}}k(5881);var ll=k(1877);const ya="@firebase/database",Ma="0.13.10";let Fc="";function Bc(u){Fc=u}class ds{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,o){null==o?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,qe.Wl)(o))}get(i){const o=this.domStorage_.getItem(this.prefixedName_(i));return null==o?null:(0,qe.cI)(o)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}class R{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,o){null==o?delete this.cache_[i]:this.cache_[i]=o}get(i){return(0,qe.r3)(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}const b=function(u){try{if(typeof window<"u"&&typeof window[u]<"u"){const i=window[u];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new ds(i)}}catch{}return new R},D=b("localStorage"),B=b("sessionStorage"),pe=new ll.Yd("@firebase/database"),Ee=function(){let u=1;return function(){return u++}}(),At=function(u){const i=(0,qe.dS)(u),o=new qe.gQ;o.update(i);const d=o.digest();return qe.US.encodeByteArray(d)},on=function(...u){let i="";for(let o=0;o<u.length;o++){const d=u[o];Array.isArray(d)||d&&"object"==typeof d&&"number"==typeof d.length?i+=on.apply(null,d):i+="object"==typeof d?(0,qe.Wl)(d):d,i+=" "}return i};let Zn=null,Vn=!0;const Ei=function(u,i){(0,qe.hu)(!i||!0===u||!1===u,"Can't turn on custom loggers persistently."),!0===u?(pe.logLevel=ll.in.VERBOSE,Zn=pe.log.bind(pe),i&&B.set("logging_enabled",!0)):"function"==typeof u?Zn=u:(Zn=null,B.remove("logging_enabled"))},gi=function(...u){if(!0===Vn&&(Vn=!1,null===Zn&&!0===B.get("logging_enabled")&&Ei(!0)),Zn){const i=on.apply(null,u);Zn(i)}},Er=function(u){return function(...i){gi(u,...i)}},Bs=function(...u){const i="FIREBASE INTERNAL ERROR: "+on(...u);pe.error(i)},Xs=function(...u){const i=`FIREBASE FATAL ERROR: ${on(...u)}`;throw pe.error(i),new Error(i)},Js=function(...u){const i="FIREBASE WARNING: "+on(...u);pe.warn(i)},ed=function(u){return"number"==typeof u&&(u!=u||u===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY)},Mo="[MIN_NAME]",ea="[MAX_NAME]",Ga=function(u,i){if(u===i)return 0;if(u===Mo||i===ea)return-1;if(i===Mo||u===ea)return 1;{const o=bs(u),d=bs(i);return null!==o?null!==d?o-d==0?u.length-i.length:o-d:-1:null!==d?1:u<i?-1:1}},yu=function(u,i){return u===i?0:u<i?-1:1},$l=function(u,i){if(i&&u in i)return i[u];throw new Error("Missing required key ("+u+") in object: "+(0,qe.Wl)(i))},bu=function(u){if("object"!=typeof u||null===u)return(0,qe.Wl)(u);const i=[];for(const d in u)i.push(d);i.sort();let o="{";for(let d=0;d<i.length;d++)0!==d&&(o+=","),o+=(0,qe.Wl)(i[d]),o+=":",o+=bu(u[i[d]]);return o+="}",o},Sl=function(u,i){const o=u.length;if(o<=i)return[u];const d=[];for(let g=0;g<o;g+=i)d.push(u.substring(g,g+i>o?o:g+i));return d};function eo(u,i){for(const o in u)u.hasOwnProperty(o)&&i(o,u[o])}const Th=function(u){(0,qe.hu)(!ed(u),"Invalid JSON number");const d=1023;let g,T,P,z,le;0===u?(T=0,P=0,g=1/u==-1/0?1:0):(g=u<0,(u=Math.abs(u))>=Math.pow(2,1-d)?(z=Math.min(Math.floor(Math.log(u)/Math.LN2),d),T=z+d,P=Math.round(u*Math.pow(2,52-z)-Math.pow(2,52))):(T=0,P=Math.round(u/Math.pow(2,-1074))));const Te=[];for(le=52;le;le-=1)Te.push(P%2?1:0),P=Math.floor(P/2);for(le=11;le;le-=1)Te.push(T%2?1:0),T=Math.floor(T/2);Te.push(g?1:0),Te.reverse();const _t=Te.join("");let wt="";for(le=0;le<64;le+=8){let Ut=parseInt(_t.substr(le,8),2).toString(16);1===Ut.length&&(Ut="0"+Ut),wt+=Ut}return wt.toLowerCase()},td=new RegExp("^-?(0*)\\d{1,10}$"),Cu=-2147483648,Mh=2147483647,bs=function(u){if(td.test(u)){const i=Number(u);if(i>=Cu&&i<=Mh)return i}return null},wu=function(u){try{u()}catch(i){setTimeout(()=>{throw Js("Exception was thrown by user callback.",i.stack||""),i},Math.floor(0))}},Ml=function(u,i){const o=setTimeout(u,i);return"number"==typeof o&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(o):"object"==typeof o&&o.unref&&o.unref(),o};class Ia{constructor(i,o){this.appName_=i,this.appCheckProvider=o,this.appCheck=o?.getImmediate({optional:!0}),this.appCheck||o?.get().then(d=>this.appCheck=d)}getToken(i){return this.appCheck?this.appCheck.getToken(i):new Promise((o,d)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(o,d):o(null)},0)})}addTokenChangeListener(i){var o;null===(o=this.appCheckProvider)||void 0===o||o.get().then(d=>d.addTokenListener(i))}notifyForInvalidToken(){Js(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class pp{constructor(i,o,d){this.appName_=i,this.firebaseOptions_=o,this.authProvider_=d,this.auth_=null,this.auth_=d.getImmediate({optional:!0}),this.auth_||d.onInit(g=>this.auth_=g)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(o=>o&&"auth/token-not-initialized"===o.code?(gi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(o)):new Promise((o,d)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(o,d):o(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(o=>o.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(o=>o.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';i+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Js(i)}}let Nd=(()=>{class u{constructor(o){this.accessToken=o}getToken(o){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(o){o(this.accessToken)}removeTokenChangeListener(o){}notifyForInvalidToken(){}}return u.OWNER="owner",u})();const wg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Fd="websocket",_p="long_polling";class Du{constructor(i,o,d,g,T=!1,P="",z=!1){this.secure=o,this.namespace=d,this.webSocketOnly=g,this.nodeAdmin=T,this.persistenceKey=P,this.includeNamespaceInQueryParams=z,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=D.get("host:"+i)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&D.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function mf(u,i,o){let d;if((0,qe.hu)("string"==typeof i,"typeof type must == string"),(0,qe.hu)("object"==typeof o,"typeof params must == object"),i===Fd)d=(u.secure?"wss://":"ws://")+u.internalHost+"/.ws?";else{if(i!==_p)throw new Error("Unknown connection type: "+i);d=(u.secure?"https://":"http://")+u.internalHost+"/.lp?"}(function pf(u){return u.host!==u.internalHost||u.isCustomHost()||u.includeNamespaceInQueryParams})(u)&&(o.ns=u.namespace);const g=[];return eo(o,(T,P)=>{g.push(T+"="+P)}),d+g.join("&")}class Eg{constructor(){this.counters_={}}incrementCounter(i,o=1){(0,qe.r3)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=o}get(){return(0,qe.p$)(this.counters_)}}const Ih={},nd={};function id(u){const i=u.toString();return Ih[i]||(Ih[i]=new Eg),Ih[i]}class mm{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,o){this.closeAfterResponse=i,this.onClose=o,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,o){for(this.pendingResponses[i]=o;this.pendingResponses[this.currentResponseNum];){const d=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let g=0;g<d.length;++g)d[g]&&wu(()=>{this.onMessage_(d[g])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Tu{constructor(i,o,d,g,T,P,z){this.connId=i,this.repoInfo=o,this.applicationId=d,this.appCheckToken=g,this.authToken=T,this.transportSessionId=P,this.lastSessionId=z,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Er(i),this.stats_=id(o),this.urlFn=le=>(this.appCheckToken&&(le.ac=this.appCheckToken),mf(o,_p,le))}open(i,o){this.curSegmentNum=0,this.onDisconnect_=o,this.myPacketOrderer=new mm(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(u){if((0,qe.Yr)()||"complete"===document.readyState)u();else{let i=!1;const o=function(){document.body?i||(i=!0,u()):setTimeout(o,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&o()}),window.attachEvent("onload",o))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new _f((...T)=>{const[P,z,le,Te,_t]=T;if(this.incrementIncomingBytes_(T),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===P)this.id=z,this.password=le;else{if("close"!==P)throw new Error("Unrecognized command received: "+P);z?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(z,()=>{this.onClosed_()})):this.onClosed_()}},(...T)=>{const[P,z]=T;this.incrementIncomingBytes_(T),this.myPacketOrderer.handleResponse(P,z)},()=>{this.onClosed_()},this.urlFn);const d={start:"t"};d.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(d.cb=this.scriptTagHolder.uniqueCallbackIdentifier),d.v="5",this.transportSessionId&&(d.s=this.transportSessionId),this.lastSessionId&&(d.ls=this.lastSessionId),this.applicationId&&(d.p=this.applicationId),this.appCheckToken&&(d.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&wg.test(location.hostname)&&(d.r="f");const g=this.urlFn(d);this.log_("Connecting via long-poll to "+g),this.scriptTagHolder.addTag(g,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Tu.forceAllow_=!0}static forceDisallow(){Tu.forceDisallow_=!0}static isAvailable(){return!((0,qe.Yr)()||!Tu.forceAllow_&&(Tu.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const o=(0,qe.Wl)(i);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const d=(0,qe.h$)(o),g=Sl(d,1840);for(let T=0;T<g.length;T++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,g.length,g[T]),this.curSegmentNum++}addDisconnectPingFrame(i,o){if((0,qe.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const d={dframe:"t"};d.id=i,d.pw=o,this.myDisconnFrame.src=this.urlFn(d),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const o=(0,qe.Wl)(i).length;this.bytesReceived+=o,this.stats_.incrementCounter("bytes_received",o)}}class _f{constructor(i,o,d,g){if(this.onDisconnect=d,this.urlFn=g,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,qe.Yr)())this.commandCB=i,this.onMessageCB=o;else{this.uniqueCallbackIdentifier=Ee(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=o,this.myIFrame=_f.createIFrame_();let T="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(T='<script>document.domain="'+document.domain+'";<\/script>');const P="<html><body>"+T+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(P),this.myIFrame.doc.close()}catch(z){gi("frame writing exception"),z.stack&&gi(z.stack),gi(z)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||gi("No IE domain setting required")}catch{const d=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+d+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,o){for(this.myID=i,this.myPW=o,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;let o=this.urlFn(i),d="",g=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+d.length<=1870;){const P=this.pendingSegs.shift();d=d+"&seg"+g+"="+P.seg+"&ts"+g+"="+P.ts+"&d"+g+"="+P.d,g++}return o+=d,this.addLongPollTag_(o,this.currentSerial),!0}return!1}enqueueSegment(i,o,d){this.pendingSegs.push({seg:i,ts:o,d}),this.alive&&this.newRequest_()}addLongPollTag_(i,o){this.outstandingRequests.add(o);const d=()=>{this.outstandingRequests.delete(o),this.newRequest_()},g=setTimeout(d,Math.floor(25e3));this.addTag(i,()=>{clearTimeout(g),d()})}addTag(i,o){(0,qe.Yr)()?this.doNodeLongPoll(i,o):setTimeout(()=>{try{if(!this.sendNewPolls)return;const d=this.myIFrame.doc.createElement("script");d.type="text/javascript",d.async=!0,d.src=i,d.onload=d.onreadystatechange=function(){const g=d.readyState;(!g||"loaded"===g||"complete"===g)&&(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),o())},d.onerror=()=>{gi("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(d)}catch{}},Math.floor(1))}}let Ah=null;typeof MozWebSocket<"u"?Ah=MozWebSocket:typeof WebSocket<"u"&&(Ah=WebSocket);let oc=(()=>{class u{constructor(o,d,g,T,P,z,le){this.connId=o,this.applicationId=g,this.appCheckToken=T,this.authToken=P,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Er(this.connId),this.stats_=id(d),this.connURL=u.connectionURL_(d,z,le,T,g),this.nodeAdmin=d.nodeAdmin}static connectionURL_(o,d,g,T,P){const z={v:"5"};return!(0,qe.Yr)()&&typeof location<"u"&&location.hostname&&wg.test(location.hostname)&&(z.r="f"),d&&(z.s=d),g&&(z.ls=g),T&&(z.ac=T),P&&(z.p=P),mf(o,Fd,z)}open(o,d){this.onDisconnect=d,this.onMessage=o,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,D.set("previous_websocket_failure",!0);try{let g;if((0,qe.Yr)()){g={headers:{"User-Agent":`Firebase/5/${Fc}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(g.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(g.headers["X-Firebase-AppCheck"]=this.appCheckToken);const P=process.env,z=0===this.connURL.indexOf("wss://")?P.HTTPS_PROXY||P.https_proxy:P.HTTP_PROXY||P.http_proxy;z&&(g.proxy={origin:z})}this.mySock=new Ah(this.connURL,[],g)}catch(g){this.log_("Error instantiating WebSocket.");const T=g.message||g.data;return T&&this.log_(T),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=g=>{this.handleIncomingFrame(g)},this.mySock.onerror=g=>{this.log_("WebSocket error.  Closing connection.");const T=g.message||g.data;T&&this.log_(T),this.onClosed_()}}start(){}static forceDisallow(){u.forceDisallow_=!0}static isAvailable(){let o=!1;if(typeof navigator<"u"&&navigator.userAgent){const g=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);g&&g.length>1&&parseFloat(g[1])<4.4&&(o=!0)}return!o&&null!==Ah&&!u.forceDisallow_}static previouslyFailed(){return D.isInMemoryStorage||!0===D.get("previous_websocket_failure")}markConnectionHealthy(){D.remove("previous_websocket_failure")}appendFrame_(o){if(this.frames.push(o),this.frames.length===this.totalFrames){const d=this.frames.join("");this.frames=null;const g=(0,qe.cI)(d);this.onMessage(g)}}handleNewFrameCount_(o){this.totalFrames=o,this.frames=[]}extractFrameCount_(o){if((0,qe.hu)(null===this.frames,"We already have a frame buffer"),o.length<=6){const d=Number(o);if(!isNaN(d))return this.handleNewFrameCount_(d),null}return this.handleNewFrameCount_(1),o}handleIncomingFrame(o){if(null===this.mySock)return;const d=o.data;if(this.bytesReceived+=d.length,this.stats_.incrementCounter("bytes_received",d.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(d);else{const g=this.extractFrameCount_(d);null!==g&&this.appendFrame_(g)}}send(o){this.resetKeepAlive();const d=(0,qe.Wl)(o);this.bytesSent+=d.length,this.stats_.incrementCounter("bytes_sent",d.length);const g=Sl(d,16384);g.length>1&&this.sendString_(String(g.length));for(let T=0;T<g.length;T++)this.sendString_(g[T])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(o){try{this.mySock.send(o)}catch(d){this.log_("Exception thrown from WebSocket.send():",d.message||d.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return u.responsesRequiredToBeHealthy=2,u.healthyTimeout=3e4,u})(),Ag=(()=>{class u{constructor(o){this.initTransports_(o)}static get ALL_TRANSPORTS(){return[Tu,oc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(o){const d=oc&&oc.isAvailable();let g=d&&!oc.previouslyFailed();if(o.webSocketOnly&&(d||Js("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),g=!0),g)this.transports_=[oc];else{const T=this.transports_=[];for(const P of u.ALL_TRANSPORTS)P&&P.isAvailable()&&T.push(P);u.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return u.globalTransportInitialized_=!1,u})();class zo{constructor(i,o,d,g,T,P,z,le,Te,_t){this.id=i,this.repoInfo_=o,this.applicationId_=d,this.appCheckToken_=g,this.authToken_=T,this.onMessage_=P,this.onReady_=z,this.onDisconnect_=le,this.onKill_=Te,this.lastSessionId=_t,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Er("c:"+this.id+":"),this.transportManager_=new Ag(o),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.conn_),d=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(o,d)},Math.floor(0));const g=i.healthyTimeout||0;g>0&&(this.healthyTimeout_=Ml(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(g)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return o=>{i===this.conn_?this.onConnectionLost_(o):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return o=>{2!==this.state_&&(i===this.rx_?this.onPrimaryMessageReceived_(o):i===this.secondaryConn_?this.onSecondaryMessageReceived_(o):this.log_("message on old connection"))}}sendRequest(i){this.sendData_({t:"d",d:i})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if("t"in i){const o=i.t;"a"===o?this.upgradeIfSecondaryHealthy_():"r"===o?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===o&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const o=$l("t",i),d=$l("d",i);if("c"===o)this.onSecondaryControl_(d);else{if("d"!==o)throw new Error("Unknown protocol layer: "+o);this.pendingDataMessages.push(d)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const o=$l("t",i),d=$l("d",i);"c"===o?this.onControl_(d):"d"===o&&this.onDataMessage_(d)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const o=$l("t",i);if("d"in i){const d=i.d;if("h"===o)this.onHandshake_(d);else if("n"===o){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let g=0;g<this.pendingDataMessages.length;++g)this.onDataMessage_(this.pendingDataMessages[g]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===o?this.onConnectionShutdown_(d):"r"===o?this.onReset_(d):"e"===o?Bs("Server Error: "+d):"o"===o?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Bs("Unknown control packet command: "+o)}}onHandshake_(i){const o=i.ts,d=i.v,g=i.h;this.sessionId=i.s,this.repoInfo_.host=g,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,o),"5"!==d&&Js("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.secondaryConn_),d=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(o,d),Ml(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,o){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(o,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ml(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(D.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Uc{put(i,o,d,g){}merge(i,o,d,g){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,o,d){}onDisconnectMerge(i,o,d){}onDisconnectCancel(i,o){}reportStats(i){}}class Mu{constructor(i){this.allowedEvents_=i,this.listeners_={},(0,qe.hu)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...o){if(Array.isArray(this.listeners_[i])){const d=[...this.listeners_[i]];for(let g=0;g<d.length;g++)d[g].callback.apply(d[g].context,o)}}on(i,o,d){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:o,context:d});const g=this.getInitialEvent(i);g&&o.apply(d,g)}off(i,o,d){this.validateEventType_(i);const g=this.listeners_[i]||[];for(let T=0;T<g.length;T++)if(g[T].callback===o&&(!d||d===g[T].context))return void g.splice(T,1)}validateEventType_(i){(0,qe.hu)(this.allowedEvents_.find(o=>o===i),"Unknown event: "+i)}}class Gl extends Mu{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,qe.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Gl}getInitialEvent(i){return(0,qe.hu)("online"===i,"Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}class Sr{constructor(i,o){if(void 0===o){this.pieces_=i.split("/");let d=0;for(let g=0;g<this.pieces_.length;g++)this.pieces_[g].length>0&&(this.pieces_[d]=this.pieces_[g],d++);this.pieces_.length=d,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=o}toString(){let i="";for(let o=this.pieceNum_;o<this.pieces_.length;o++)""!==this.pieces_[o]&&(i+="/"+this.pieces_[o]);return i||"/"}}function Rr(){return new Sr("")}function ar(u){return u.pieceNum_>=u.pieces_.length?null:u.pieces_[u.pieceNum_]}function Hc(u){return u.pieces_.length-u.pieceNum_}function hs(u){let i=u.pieceNum_;return i<u.pieces_.length&&i++,new Sr(u.pieces_,i)}function bf(u){return u.pieceNum_<u.pieces_.length?u.pieces_[u.pieces_.length-1]:null}function Iu(u,i=0){return u.pieces_.slice(u.pieceNum_+i)}function kh(u){if(u.pieceNum_>=u.pieces_.length)return null;const i=[];for(let o=u.pieceNum_;o<u.pieces_.length-1;o++)i.push(u.pieces_[o]);return new Sr(i,0)}function Zr(u,i){const o=[];for(let d=u.pieceNum_;d<u.pieces_.length;d++)o.push(u.pieces_[d]);if(i instanceof Sr)for(let d=i.pieceNum_;d<i.pieces_.length;d++)o.push(i.pieces_[d]);else{const d=i.split("/");for(let g=0;g<d.length;g++)d[g].length>0&&o.push(d[g])}return new Sr(o,0)}function lr(u){return u.pieceNum_>=u.pieces_.length}function xa(u,i){const o=ar(u),d=ar(i);if(null===o)return i;if(o===d)return xa(hs(u),hs(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+u+")")}function xu(u,i){const o=Iu(u,0),d=Iu(i,0);for(let g=0;g<o.length&&g<d.length;g++){const T=Ga(o[g],d[g]);if(0!==T)return T}return o.length===d.length?0:o.length<d.length?-1:1}function rd(u,i){if(Hc(u)!==Hc(i))return!1;for(let o=u.pieceNum_,d=i.pieceNum_;o<=u.pieces_.length;o++,d++)if(u.pieces_[o]!==i.pieces_[d])return!1;return!0}function zs(u,i){let o=u.pieceNum_,d=i.pieceNum_;if(Hc(u)>Hc(i))return!1;for(;o<u.pieces_.length;){if(u.pieces_[o]!==i.pieces_[d])return!1;++o,++d}return!0}class Rh{constructor(i,o){this.errorPrefix_=o,this.parts_=Iu(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let d=0;d<this.parts_.length;d++)this.byteLength_+=(0,qe.ug)(this.parts_[d]);Og(this)}}function Og(u){if(u.byteLength_>768)throw new Error(u.errorPrefix_+"has a key path longer than 768 bytes ("+u.byteLength_+").");if(u.parts_.length>32)throw new Error(u.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+jc(u))}function jc(u){return 0===u.parts_.length?"":"in property '"+u.parts_.join(".")+"'"}class wm extends Mu{constructor(){let i,o;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(o="visibilitychange",i="hidden"):typeof document.mozHidden<"u"?(o="mozvisibilitychange",i="mozHidden"):typeof document.msHidden<"u"?(o="msvisibilitychange",i="msHidden"):typeof document.webkitHidden<"u"&&(o="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,o&&document.addEventListener(o,()=>{const d=!document[i];d!==this.visible_&&(this.visible_=d,this.trigger("visible",d))},!1)}static getInstance(){return new wm}getInitialEvent(i){return(0,qe.hu)("visible"===i,"Unknown event type: "+i),[this.visible_]}}const ba=1e3;let od,cl=(()=>{class u extends Uc{constructor(o,d,g,T,P,z,le,Te){if(super(),this.repoInfo_=o,this.applicationId_=d,this.onDataUpdate_=g,this.onConnectStatus_=T,this.onServerInfoUpdate_=P,this.authTokenProvider_=z,this.appCheckTokenProvider_=le,this.authOverride_=Te,this.id=u.nextPersistentConnectionId_++,this.log_=Er("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ba,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Te&&!(0,qe.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");wm.getInstance().on("visible",this.onVisible_,this),-1===o.host.indexOf("fblocal")&&Gl.getInstance().on("online",this.onOnline_,this)}sendRequest(o,d,g){const T=++this.requestNumber_,P={r:T,a:o,b:d};this.log_((0,qe.Wl)(P)),(0,qe.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(P),g&&(this.requestCBHash_[T]=g)}get(o){this.initConnection_();const d=new qe.BH,g={p:o._path.toString(),q:o._queryObject};return this.outstandingGets_.push({action:"g",request:g,onComplete:z=>{const le=z.d;"ok"===z.s?d.resolve(le):d.reject(le)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),d.promise}listen(o,d,g,T){this.initConnection_();const P=o._queryIdentifier,z=o._path.toString();this.log_("Listen called for "+z+" "+P),this.listens.has(z)||this.listens.set(z,new Map),(0,qe.hu)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,qe.hu)(!this.listens.get(z).has(P),"listen() called twice for same path/queryId.");const le={onComplete:T,hashFn:d,query:o,tag:g};this.listens.get(z).set(P,le),this.connected_&&this.sendListen_(le)}sendGet_(o){const d=this.outstandingGets_[o];this.sendRequest("g",d.request,g=>{delete this.outstandingGets_[o],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),d.onComplete&&d.onComplete(g)})}sendListen_(o){const d=o.query,g=d._path.toString(),T=d._queryIdentifier;this.log_("Listen on "+g+" for "+T);const P={p:g};o.tag&&(P.q=d._queryObject,P.t=o.tag),P.h=o.hashFn(),this.sendRequest("q",P,le=>{const Te=le.d,_t=le.s;u.warnOnListenWarnings_(Te,d),(this.listens.get(g)&&this.listens.get(g).get(T))===o&&(this.log_("listen response",le),"ok"!==_t&&this.removeListen_(g,T),o.onComplete&&o.onComplete(_t,Te))})}static warnOnListenWarnings_(o,d){if(o&&"object"==typeof o&&(0,qe.r3)(o,"w")){const g=(0,qe.DV)(o,"w");if(Array.isArray(g)&&~g.indexOf("no_index")){const T='".indexOn": "'+d._queryParams.getIndex().toString()+'"',P=d._path.toString();Js(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${T} at ${P} to your security rules for better performance.`)}}}refreshAuthToken(o){this.authToken_=o,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(o)}reduceReconnectDelayIfAdminCredential_(o){(o&&40===o.length||(0,qe.GJ)(o))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(o){this.appCheckToken_=o,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const o=this.authToken_,d=(0,qe.w9)(o)?"auth":"gauth",g={cred:o};null===this.authOverride_?g.noauth=!0:"object"==typeof this.authOverride_&&(g.authvar=this.authOverride_),this.sendRequest(d,g,T=>{const P=T.s,z=T.d||"error";this.authToken_===o&&("ok"===P?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(P,z))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},o=>{const d=o.s,g=o.d||"error";"ok"===d?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(d,g)})}unlisten(o,d){const g=o._path.toString(),T=o._queryIdentifier;this.log_("Unlisten called for "+g+" "+T),(0,qe.hu)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(g,T)&&this.connected_&&this.sendUnlisten_(g,T,o._queryObject,d)}sendUnlisten_(o,d,g,T){this.log_("Unlisten on "+o+" for "+d);const P={p:o};T&&(P.q=g,P.t=T),this.sendRequest("n",P)}onDisconnectPut(o,d,g){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",o,d,g):this.onDisconnectRequestQueue_.push({pathString:o,action:"o",data:d,onComplete:g})}onDisconnectMerge(o,d,g){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",o,d,g):this.onDisconnectRequestQueue_.push({pathString:o,action:"om",data:d,onComplete:g})}onDisconnectCancel(o,d){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",o,null,d):this.onDisconnectRequestQueue_.push({pathString:o,action:"oc",data:null,onComplete:d})}sendOnDisconnect_(o,d,g,T){const P={p:d,d:g};this.log_("onDisconnect "+o,P),this.sendRequest(o,P,z=>{T&&setTimeout(()=>{T(z.s,z.d)},Math.floor(0))})}put(o,d,g,T){this.putInternal("p",o,d,g,T)}merge(o,d,g,T){this.putInternal("m",o,d,g,T)}putInternal(o,d,g,T,P){this.initConnection_();const z={p:d,d:g};void 0!==P&&(z.h=P),this.outstandingPuts_.push({action:o,request:z,onComplete:T}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+d)}sendPut_(o){const d=this.outstandingPuts_[o].action,g=this.outstandingPuts_[o].request,T=this.outstandingPuts_[o].onComplete;this.outstandingPuts_[o].queued=this.connected_,this.sendRequest(d,g,P=>{this.log_(d+" response",P),delete this.outstandingPuts_[o],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),T&&T(P.s,P.d)})}reportStats(o){if(this.connected_){const d={c:o};this.log_("reportStats",d),this.sendRequest("s",d,g=>{"ok"!==g.s&&this.log_("reportStats","Error sending stats: "+g.d)})}}onDataMessage_(o){if("r"in o){this.log_("from server: "+(0,qe.Wl)(o));const d=o.r,g=this.requestCBHash_[d];g&&(delete this.requestCBHash_[d],g(o.b))}else{if("error"in o)throw"A server-side error has occurred: "+o.error;"a"in o&&this.onDataPush_(o.a,o.b)}}onDataPush_(o,d){this.log_("handleServerMessage",o,d),"d"===o?this.onDataUpdate_(d.p,d.d,!1,d.t):"m"===o?this.onDataUpdate_(d.p,d.d,!0,d.t):"c"===o?this.onListenRevoked_(d.p,d.q):"ac"===o?this.onAuthRevoked_(d.s,d.d):"apc"===o?this.onAppCheckRevoked_(d.s,d.d):"sd"===o?this.onSecurityDebugPacket_(d):Bs("Unrecognized action received from server: "+(0,qe.Wl)(o)+"\nAre you using the latest client?")}onReady_(o,d){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(o),this.lastSessionId=d,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(o){(0,qe.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(o))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(o){o&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ba,this.realtime_||this.scheduleConnect_(0)),this.visible_=o}onOnline_(o){o?(this.log_("Browser went online."),this.reconnectDelay_=ba,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ba),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const o=(new Date).getTime()-this.lastConnectionAttemptTime_;let d=Math.max(0,this.reconnectDelay_-o);d=Math.random()*d,this.log_("Trying to reconnect in "+d+"ms"),this.scheduleConnect_(d),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var o=this;return(0,Li.Z)(function*(){if(o.shouldReconnect_()){o.log_("Making a connection attempt"),o.lastConnectionAttemptTime_=(new Date).getTime(),o.lastConnectionEstablishedTime_=null;const d=o.onDataMessage_.bind(o),g=o.onReady_.bind(o),T=o.onRealtimeDisconnect_.bind(o),P=o.id+":"+u.nextConnectionId_++,z=o.lastSessionId;let le=!1,Te=null;const _t=function(){Te?Te.close():(le=!0,T())};o.realtime_={close:_t,sendRequest:function(mn){(0,qe.hu)(Te,"sendRequest call when we're not connected not allowed."),Te.sendRequest(mn)}};const Ut=o.forceTokenRefresh_;o.forceTokenRefresh_=!1;try{const[mn,wn]=yield Promise.all([o.authTokenProvider_.getToken(Ut),o.appCheckTokenProvider_.getToken(Ut)]);le?gi("getToken() completed but was canceled"):(gi("getToken() completed. Creating connection."),o.authToken_=mn&&mn.accessToken,o.appCheckToken_=wn&&wn.token,Te=new zo(P,o.repoInfo_,o.applicationId_,o.appCheckToken_,o.authToken_,d,g,T,s=>{Js(s+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},z))}catch(mn){o.log_("Failed to get token: "+mn),le||(o.repoInfo_.nodeAdmin&&Js(mn),_t())}}})()}interrupt(o){gi("Interrupting connection for reason: "+o),this.interruptReasons_[o]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(o){gi("Resuming connection for reason: "+o),delete this.interruptReasons_[o],(0,qe.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ba,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(o){const d=o-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:d})}cancelSentTransactions_(){for(let o=0;o<this.outstandingPuts_.length;o++){const d=this.outstandingPuts_[o];d&&"h"in d.request&&d.queued&&(d.onComplete&&d.onComplete("disconnect"),delete this.outstandingPuts_[o],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(o,d){let g;g=d?d.map(P=>bu(P)).join("$"):"default";const T=this.removeListen_(o,g);T&&T.onComplete&&T.onComplete("permission_denied")}removeListen_(o,d){const g=new Sr(o).toString();let T;if(this.listens.has(g)){const P=this.listens.get(g);T=P.get(d),P.delete(d),0===P.size&&this.listens.delete(g)}else T=void 0;return T}onAuthRevoked_(o,d){gi("Auth token revoked: "+o+"/"+d),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===o||"permission_denied"===o)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(o,d){gi("App check token revoked: "+o+"/"+d),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===o||"permission_denied"===o)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(o){this.securityDebugCallback_?this.securityDebugCallback_(o):"msg"in o&&console.log("FIREBASE: "+o.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const o of this.listens.values())for(const d of o.values())this.sendListen_(d);for(let o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){const o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(let o=0;o<this.outstandingGets_.length;o++)this.outstandingGets_[o]&&this.sendGet_(o)}sendConnectStats_(){const o={};let d="js";(0,qe.Yr)()&&(d=this.repoInfo_.nodeAdmin?"admin_node":"node"),o["sdk."+d+"."+Fc.replace(/\./g,"-")]=1,(0,qe.uI)()?o["framework.cordova"]=1:(0,qe.b$)()&&(o["framework.reactnative"]=1),this.reportStats(o)}shouldReconnect_(){const o=Gl.getInstance().currentlyOnline();return(0,qe.xb)(this.interruptReasons_)&&o}}return u.nextPersistentConnectionId_=0,u.nextConnectionId_=0,u})();class Wi{constructor(i,o){this.name=i,this.node=o}static Wrap(i,o){return new Wi(i,o)}}class Ws{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,o){const d=new Wi(Mo,i),g=new Wi(Mo,o);return 0!==this.compare(d,g)}minPost(){return Wi.MIN}}class jd extends Ws{static get __EMPTY_NODE(){return od}static set __EMPTY_NODE(i){od=i}compare(i,o){return Ga(i.name,o.name)}isDefinedOn(i){throw(0,qe.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,o){return!1}minPost(){return Wi.MIN}maxPost(){return new Wi(ea,od)}makePost(i,o){return(0,qe.hu)("string"==typeof i,"KeyIndex indexValue must always be a string."),new Wi(i,od)}toString(){return".key"}}const vo=new jd;class xl{constructor(i,o,d,g,T=null){this.isReverse_=g,this.resultGenerator_=T,this.nodeStack_=[];let P=1;for(;!i.isEmpty();)if(P=o?d(i.key,o):1,g&&(P*=-1),P<0)i=this.isReverse_?i.left:i.right;else{if(0===P){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}getNext(){if(0===this.nodeStack_.length)return null;let o,i=this.nodeStack_.pop();if(o=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return o}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}let Gc,Ys=(()=>{class u{constructor(o,d,g,T,P){this.key=o,this.value=d,this.color=g??u.RED,this.left=T??ta.EMPTY_NODE,this.right=P??ta.EMPTY_NODE}copy(o,d,g,T,P){return new u(o??this.key,d??this.value,g??this.color,T??this.left,P??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(o){return this.left.inorderTraversal(o)||!!o(this.key,this.value)||this.right.inorderTraversal(o)}reverseTraversal(o){return this.right.reverseTraversal(o)||o(this.key,this.value)||this.left.reverseTraversal(o)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(o,d,g){let T=this;const P=g(o,T.key);return T=P<0?T.copy(null,null,null,T.left.insert(o,d,g),null):0===P?T.copy(null,d,null,null,null):T.copy(null,null,null,null,T.right.insert(o,d,g)),T.fixUp_()}removeMin_(){if(this.left.isEmpty())return ta.EMPTY_NODE;let o=this;return!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.removeMin_(),null),o.fixUp_()}remove(o,d){let g,T;if(g=this,d(o,g.key)<0)!g.left.isEmpty()&&!g.left.isRed_()&&!g.left.left.isRed_()&&(g=g.moveRedLeft_()),g=g.copy(null,null,null,g.left.remove(o,d),null);else{if(g.left.isRed_()&&(g=g.rotateRight_()),!g.right.isEmpty()&&!g.right.isRed_()&&!g.right.left.isRed_()&&(g=g.moveRedRight_()),0===d(o,g.key)){if(g.right.isEmpty())return ta.EMPTY_NODE;T=g.right.min_(),g=g.copy(T.key,T.value,null,null,g.right.removeMin_())}g=g.copy(null,null,null,null,g.right.remove(o,d))}return g.fixUp_()}isRed_(){return this.color}fixUp_(){let o=this;return o.right.isRed_()&&!o.left.isRed_()&&(o=o.rotateLeft_()),o.left.isRed_()&&o.left.left.isRed_()&&(o=o.rotateRight_()),o.left.isRed_()&&o.right.isRed_()&&(o=o.colorFlip_()),o}moveRedLeft_(){let o=this.colorFlip_();return o.right.left.isRed_()&&(o=o.copy(null,null,null,null,o.right.rotateRight_()),o=o.rotateLeft_(),o=o.colorFlip_()),o}moveRedRight_(){let o=this.colorFlip_();return o.left.left.isRed_()&&(o=o.rotateRight_(),o=o.colorFlip_()),o}rotateLeft_(){const o=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,o,null)}rotateRight_(){const o=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,o)}colorFlip_(){const o=this.left.copy(null,null,!this.left.color,null,null),d=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,o,d)}checkMaxDepth_(){const o=this.check_();return Math.pow(2,o)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const o=this.left.check_();if(o!==this.right.check_())throw new Error("Black depths differ");return o+(this.isRed_()?0:1)}}return u.RED=!0,u.BLACK=!1,u})();class ta{constructor(i,o=ta.EMPTY_NODE){this.comparator_=i,this.root_=o}insert(i,o){return new ta(this.comparator_,this.root_.insert(i,o,this.comparator_).copy(null,null,Ys.BLACK,null,null))}remove(i){return new ta(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,Ys.BLACK,null,null))}get(i){let o,d=this.root_;for(;!d.isEmpty();){if(o=this.comparator_(i,d.key),0===o)return d.value;o<0?d=d.left:o>0&&(d=d.right)}return null}getPredecessorKey(i){let o,d=this.root_,g=null;for(;!d.isEmpty();){if(o=this.comparator_(i,d.key),0===o){if(d.left.isEmpty())return g?g.key:null;for(d=d.left;!d.right.isEmpty();)d=d.right;return d.key}o<0?d=d.left:o>0&&(g=d,d=d.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new xl(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,o){return new xl(this.root_,i,this.comparator_,!1,o)}getReverseIteratorFrom(i,o){return new xl(this.root_,i,this.comparator_,!0,o)}getReverseIterator(i){return new xl(this.root_,null,this.comparator_,!0,i)}}function lc(u,i){return Ga(u.name,i.name)}function Ph(u,i){return Ga(u,i)}ta.EMPTY_NODE=new class ku{copy(i,o,d,g,T){return this}insert(i,o,d){return new Ys(i,o,null)}remove(i,o){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const zl=function(u){return"number"==typeof u?"number:"+Th(u):"string:"+u},Ep=function(u){if(u.isLeafNode()){const i=u.val();(0,qe.hu)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,qe.r3)(i,".sv"),"Priority must be a string or number.")}else(0,qe.hu)(u===Gc||u.isEmpty(),"priority of unexpected type.");(0,qe.hu)(u===Gc||u.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Dm,wf,Dp,Wl=(()=>{class u{constructor(o,d=u.__childrenNodeConstructor.EMPTY_NODE){this.value_=o,this.priorityNode_=d,this.lazyHash_=null,(0,qe.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ep(this.priorityNode_)}static set __childrenNodeConstructor(o){Dm=o}static get __childrenNodeConstructor(){return Dm}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(o){return new u(this.value_,o)}getImmediateChild(o){return".priority"===o?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}getChild(o){return lr(o)?this:".priority"===ar(o)?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(o,d){return null}updateImmediateChild(o,d){return".priority"===o?this.updatePriority(d):d.isEmpty()&&".priority"!==o?this:u.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(o,d).updatePriority(this.priorityNode_)}updateChild(o,d){const g=ar(o);return null===g?d:d.isEmpty()&&".priority"!==g?this:((0,qe.hu)(".priority"!==g||1===Hc(o),".priority must be the last token in a path"),this.updateImmediateChild(g,u.__childrenNodeConstructor.EMPTY_NODE.updateChild(hs(o),d)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(o,d){return!1}val(o){return o&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let o="";this.priorityNode_.isEmpty()||(o+="priority:"+zl(this.priorityNode_.val())+":");const d=typeof this.value_;o+=d+":",o+="number"===d?Th(this.value_):this.value_,this.lazyHash_=At(o)}return this.lazyHash_}getValue(){return this.value_}compareTo(o){return o===u.__childrenNodeConstructor.EMPTY_NODE?1:o instanceof u.__childrenNodeConstructor?-1:((0,qe.hu)(o.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(o))}compareToLeafNode_(o){const d=typeof o.value_,g=typeof this.value_,T=u.VALUE_TYPE_ORDER.indexOf(d),P=u.VALUE_TYPE_ORDER.indexOf(g);return(0,qe.hu)(T>=0,"Unknown leaf type: "+d),(0,qe.hu)(P>=0,"Unknown leaf type: "+g),T===P?"object"===g?0:this.value_<o.value_?-1:this.value_===o.value_?0:1:P-T}withIndex(){return this}isIndexed(){return!0}equals(o){if(o===this)return!0;if(o.isLeafNode()){const d=o;return this.value_===d.value_&&this.priorityNode_.equals(d.priorityNode_)}return!1}}return u.VALUE_TYPE_ORDER=["object","boolean","number","string"],u})();const $r=new class zc extends Ws{compare(i,o){const d=i.node.getPriority(),g=o.node.getPriority(),T=d.compareTo(g);return 0===T?Ga(i.name,o.name):T}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,o){return!i.getPriority().equals(o.getPriority())}minPost(){return Wi.MIN}maxPost(){return new Wi(ea,new Wl("[PRIORITY-POST]",Dp))}makePost(i,o){const d=wf(i);return new Wi(o,new Wl("[PRIORITY-POST]",d))}toString(){return".priority"}},Ef=Math.log(2);class uc{constructor(i){this.count=parseInt(Math.log(i+1)/Ef,10),this.current_=this.count-1;const g=(T=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=i+1&g}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const Wa=function(u,i,o,d){u.sort(i);const g=function(le,Te){const _t=Te-le;let wt,Ut;if(0===_t)return null;if(1===_t)return wt=u[le],Ut=o?o(wt):wt,new Ys(Ut,wt.node,Ys.BLACK,null,null);{const mn=parseInt(_t/2,10)+le,wn=g(le,mn),s=g(mn+1,Te);return wt=u[mn],Ut=o?o(wt):wt,new Ys(Ut,wt.node,Ys.BLACK,wn,s)}},z=function(le){let Te=null,_t=null,wt=u.length;const Ut=function(wn,s){const e=wt-wn,t=wt;wt-=wn;const a=g(e+1,t),f=u[e],y=o?o(f):f;mn(new Ys(y,f.node,s,null,a))},mn=function(wn){Te?(Te.left=wn,Te=wn):(_t=wn,Te=wn)};for(let wn=0;wn<le.count;++wn){const s=le.nextBitIsOne(),e=Math.pow(2,le.count-(wn+1));s?Ut(e,Ys.BLACK):(Ut(e,Ys.BLACK),Ut(e,Ys.RED))}return _t}(new uc(u.length));return new ta(d||i,z)};let Wc;const ad={};class Ru{constructor(i,o){this.indexes_=i,this.indexSet_=o}static get Default(){return(0,qe.hu)(ad&&$r,"ChildrenNode.ts has not been loaded"),Wc=Wc||new Ru({".priority":ad},{".priority":$r}),Wc}get(i){const o=(0,qe.DV)(this.indexes_,i);if(!o)throw new Error("No index defined for "+i);return o instanceof ta?o:null}hasIndex(i){return(0,qe.r3)(this.indexSet_,i.toString())}addIndex(i,o){(0,qe.hu)(i!==vo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const d=[];let g=!1;const T=o.getIterator(Wi.Wrap);let z,P=T.getNext();for(;P;)g=g||i.isDefinedOn(P.node),d.push(P),P=T.getNext();z=g?Wa(d,i.getCompare()):ad;const le=i.toString(),Te=Object.assign({},this.indexSet_);Te[le]=i;const _t=Object.assign({},this.indexes_);return _t[le]=z,new Ru(_t,Te)}addToIndexes(i,o){const d=(0,qe.UI)(this.indexes_,(g,T)=>{const P=(0,qe.DV)(this.indexSet_,T);if((0,qe.hu)(P,"Missing index implementation for "+T),g===ad){if(P.isDefinedOn(i.node)){const z=[],le=o.getIterator(Wi.Wrap);let Te=le.getNext();for(;Te;)Te.name!==i.name&&z.push(Te),Te=le.getNext();return z.push(i),Wa(z,P.getCompare())}return ad}{const z=o.get(i.name);let le=g;return z&&(le=le.remove(new Wi(i.name,z))),le.insert(i,i.node)}});return new Ru(d,this.indexSet_)}removeFromIndexes(i,o){const d=(0,qe.UI)(this.indexes_,g=>{if(g===ad)return g;{const T=o.get(i.name);return T?g.remove(new Wi(i.name,T)):g}});return new Ru(d,this.indexSet_)}}let ld,Zi=(()=>{class u{constructor(o,d,g){this.children_=o,this.priorityNode_=d,this.indexMap_=g,this.lazyHash_=null,this.priorityNode_&&Ep(this.priorityNode_),this.children_.isEmpty()&&(0,qe.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ld||(ld=new u(new ta(Ph),null,Ru.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ld}updatePriority(o){return this.children_.isEmpty()?this:new u(this.children_,o,this.indexMap_)}getImmediateChild(o){if(".priority"===o)return this.getPriority();{const d=this.children_.get(o);return null===d?ld:d}}getChild(o){const d=ar(o);return null===d?this:this.getImmediateChild(d).getChild(hs(o))}hasChild(o){return null!==this.children_.get(o)}updateImmediateChild(o,d){if((0,qe.hu)(d,"We should always be passing snapshot nodes"),".priority"===o)return this.updatePriority(d);{const g=new Wi(o,d);let T,P;d.isEmpty()?(T=this.children_.remove(o),P=this.indexMap_.removeFromIndexes(g,this.children_)):(T=this.children_.insert(o,d),P=this.indexMap_.addToIndexes(g,this.children_));const z=T.isEmpty()?ld:this.priorityNode_;return new u(T,z,P)}}updateChild(o,d){const g=ar(o);if(null===g)return d;{(0,qe.hu)(".priority"!==ar(o)||1===Hc(o),".priority must be the last token in a path");const T=this.getImmediateChild(g).updateChild(hs(o),d);return this.updateImmediateChild(g,T)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(o){if(this.isEmpty())return null;const d={};let g=0,T=0,P=!0;if(this.forEachChild($r,(z,le)=>{d[z]=le.val(o),g++,P&&u.INTEGER_REGEXP_.test(z)?T=Math.max(T,Number(z)):P=!1}),!o&&P&&T<2*g){const z=[];for(const le in d)z[le]=d[le];return z}return o&&!this.getPriority().isEmpty()&&(d[".priority"]=this.getPriority().val()),d}hash(){if(null===this.lazyHash_){let o="";this.getPriority().isEmpty()||(o+="priority:"+zl(this.getPriority().val())+":"),this.forEachChild($r,(d,g)=>{const T=g.hash();""!==T&&(o+=":"+d+":"+T)}),this.lazyHash_=""===o?"":At(o)}return this.lazyHash_}getPredecessorChildName(o,d,g){const T=this.resolveIndex_(g);if(T){const P=T.getPredecessorKey(new Wi(o,d));return P?P.name:null}return this.children_.getPredecessorKey(o)}getFirstChildName(o){const d=this.resolveIndex_(o);if(d){const g=d.minKey();return g&&g.name}return this.children_.minKey()}getFirstChild(o){const d=this.getFirstChildName(o);return d?new Wi(d,this.children_.get(d)):null}getLastChildName(o){const d=this.resolveIndex_(o);if(d){const g=d.maxKey();return g&&g.name}return this.children_.maxKey()}getLastChild(o){const d=this.getLastChildName(o);return d?new Wi(d,this.children_.get(d)):null}forEachChild(o,d){const g=this.resolveIndex_(o);return g?g.inorderTraversal(T=>d(T.name,T.node)):this.children_.inorderTraversal(d)}getIterator(o){return this.getIteratorFrom(o.minPost(),o)}getIteratorFrom(o,d){const g=this.resolveIndex_(d);if(g)return g.getIteratorFrom(o,T=>T);{const T=this.children_.getIteratorFrom(o.name,Wi.Wrap);let P=T.peek();for(;null!=P&&d.compare(P,o)<0;)T.getNext(),P=T.peek();return T}}getReverseIterator(o){return this.getReverseIteratorFrom(o.maxPost(),o)}getReverseIteratorFrom(o,d){const g=this.resolveIndex_(d);if(g)return g.getReverseIteratorFrom(o,T=>T);{const T=this.children_.getReverseIteratorFrom(o.name,Wi.Wrap);let P=T.peek();for(;null!=P&&d.compare(P,o)>0;)T.getNext(),P=T.peek();return T}}compareTo(o){return this.isEmpty()?o.isEmpty()?0:-1:o.isLeafNode()||o.isEmpty()?1:o===Lh?-1:0}withIndex(o){if(o===vo||this.indexMap_.hasIndex(o))return this;{const d=this.indexMap_.addIndex(o,this.children_);return new u(this.children_,this.priorityNode_,d)}}isIndexed(o){return o===vo||this.indexMap_.hasIndex(o)}equals(o){if(o===this)return!0;if(o.isLeafNode())return!1;{const d=o;if(this.getPriority().equals(d.getPriority())){if(this.children_.count()===d.children_.count()){const g=this.getIterator($r),T=d.getIterator($r);let P=g.getNext(),z=T.getNext();for(;P&&z;){if(P.name!==z.name||!P.node.equals(z.node))return!1;P=g.getNext(),z=T.getNext()}return null===P&&null===z}return!1}return!1}}resolveIndex_(o){return o===vo?null:this.indexMap_.get(o.toString())}}return u.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,u})();const Lh=new class Ng extends Zi{constructor(){super(new ta(Ph),Zi.EMPTY_NODE,Ru.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return Zi.EMPTY_NODE}isEmpty(){return!1}};function Xi(u,i=null){if(null===u)return Zi.EMPTY_NODE;if("object"==typeof u&&".priority"in u&&(i=u[".priority"]),(0,qe.hu)(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof u&&".value"in u&&null!==u[".value"]&&(u=u[".value"]),"object"!=typeof u||".sv"in u)return new Wl(u,Xi(i));if(u instanceof Array){let o=Zi.EMPTY_NODE;return eo(u,(d,g)=>{if((0,qe.r3)(u,d)&&"."!==d.substring(0,1)){const T=Xi(g);(T.isLeafNode()||!T.isEmpty())&&(o=o.updateImmediateChild(d,T))}}),o.updatePriority(Xi(i))}{const o=[];let d=!1;if(eo(u,(P,z)=>{if("."!==P.substring(0,1)){const le=Xi(z);le.isEmpty()||(d=d||!le.getPriority().isEmpty(),o.push(new Wi(P,le)))}}),0===o.length)return Zi.EMPTY_NODE;const T=Wa(o,lc,P=>P.name,Ph);if(d){const P=Wa(o,$r.getCompare());return new Zi(T,Xi(i),new Ru({".priority":P},{".priority":$r}))}return new Zi(T,Xi(i),Ru.Default)}}Object.defineProperties(Wi,{MIN:{value:new Wi(Mo,Zi.EMPTY_NODE)},MAX:{value:new Wi(ea,Lh)}}),jd.__EMPTY_NODE=Zi.EMPTY_NODE,Wl.__childrenNodeConstructor=Zi,function Pg(u){Gc=u}(Lh),function Nh(u){Dp=u}(Lh),function cc(u){wf=u}(Xi);class Sp extends Ws{constructor(i){super(),this.indexPath_=i,(0,qe.hu)(!lr(i)&&".priority"!==ar(i),"Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,o){const d=this.extractChild(i.node),g=this.extractChild(o.node),T=d.compareTo(g);return 0===T?Ga(i.name,o.name):T}makePost(i,o){const d=Xi(i),g=Zi.EMPTY_NODE.updateChild(this.indexPath_,d);return new Wi(o,g)}maxPost(){const i=Zi.EMPTY_NODE.updateChild(this.indexPath_,Lh);return new Wi(ea,i)}toString(){return Iu(this.indexPath_,0).join("/")}}const Gd=new class $d extends Ws{compare(i,o){const d=i.node.compareTo(o.node);return 0===d?Ga(i.name,o.name):d}isDefinedOn(i){return!0}indexedValueChanged(i,o){return!i.equals(o)}minPost(){return Wi.MIN}maxPost(){return Wi.MAX}makePost(i,o){const d=Xi(i);return new Wi(o,d)}toString(){return".value"}},dc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Df=function(){let u=0;const i=[];return function(o){const d=o===u;let g;u=o;const T=new Array(8);for(g=7;g>=0;g--)T[g]=dc.charAt(o%64),o=Math.floor(o/64);(0,qe.hu)(0===o,"Cannot push at time == 0");let P=T.join("");if(d){for(g=11;g>=0&&63===i[g];g--)i[g]=0;i[g]++}else for(g=0;g<12;g++)i[g]=Math.floor(64*Math.random());for(g=0;g<12;g++)P+=dc.charAt(i[g]);return(0,qe.hu)(20===P.length,"nextPushId: Length should be 20."),P}}(),Tm=function(u){if(u===""+Mh)return"-";const i=bs(u);if(null!=i)return""+(i+1);const o=new Array(u.length);for(let P=0;P<o.length;P++)o[P]=u.charAt(P);if(o.length<786)return o.push("-"),o.join("");let d=o.length-1;for(;d>=0&&"z"===o[d];)d--;if(-1===d)return ea;const T=dc.charAt(dc.indexOf(o[d])+1);return o[d]=T,o.slice(0,d+1).join("")},Ou=function(u){if(u===""+Cu)return Mo;const i=bs(u);if(null!=i)return""+(i-1);const o=new Array(u.length);for(let d=0;d<o.length;d++)o[d]=u.charAt(d);return"-"===o[o.length-1]?1===o.length?""+Mh:(delete o[o.length-1],o.join("")):(o[o.length-1]=dc.charAt(dc.indexOf(o[o.length-1])-1),o.join("")+"z".repeat(786-o.length))};function cd(u){return{type:"value",snapshotNode:u}}function Yl(u,i){return{type:"child_added",snapshotNode:i,childName:u}}function Pu(u,i){return{type:"child_removed",snapshotNode:i,childName:u}}function Kc(u,i,o){return{type:"child_changed",snapshotNode:i,childName:u,oldSnap:o}}class Mp{constructor(i){this.index_=i}updateChild(i,o,d,g,T,P){(0,qe.hu)(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");const z=i.getImmediateChild(o);return z.getChild(g).equals(d.getChild(g))&&z.isEmpty()===d.isEmpty()||(null!=P&&(d.isEmpty()?i.hasChild(o)?P.trackChildChange(Pu(o,z)):(0,qe.hu)(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):z.isEmpty()?P.trackChildChange(Yl(o,d)):P.trackChildChange(Kc(o,d,z))),i.isLeafNode()&&d.isEmpty())?i:i.updateImmediateChild(o,d).withIndex(this.index_)}updateFullNode(i,o,d){return null!=d&&(i.isLeafNode()||i.forEachChild($r,(g,T)=>{o.hasChild(g)||d.trackChildChange(Pu(g,T))}),o.isLeafNode()||o.forEachChild($r,(g,T)=>{if(i.hasChild(g)){const P=i.getImmediateChild(g);P.equals(T)||d.trackChildChange(Kc(g,T,P))}else d.trackChildChange(Yl(g,T))})),o.withIndex(this.index_)}updatePriority(i,o){return i.isEmpty()?Zi.EMPTY_NODE:i.updatePriority(o)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Wd{constructor(i){this.indexedFilter_=new Mp(i.getIndex()),this.index_=i.getIndex(),this.startPost_=Wd.getStartPost_(i),this.endPost_=Wd.getEndPost_(i)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){return this.index_.compare(this.getStartPost(),i)<=0&&this.index_.compare(i,this.getEndPost())<=0}updateChild(i,o,d,g,T,P){return this.matches(new Wi(o,d))||(d=Zi.EMPTY_NODE),this.indexedFilter_.updateChild(i,o,d,g,T,P)}updateFullNode(i,o,d){o.isLeafNode()&&(o=Zi.EMPTY_NODE);let g=o.withIndex(this.index_);g=g.updatePriority(Zi.EMPTY_NODE);const T=this;return o.forEachChild($r,(P,z)=>{T.matches(new Wi(P,z))||(g=g.updateImmediateChild(P,Zi.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,g,d)}updatePriority(i,o){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){const o=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),o)}return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){const o=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),o)}return i.getIndex().maxPost()}}class Sm{constructor(i){this.rangedFilter_=new Wd(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft()}updateChild(i,o,d,g,T,P){return this.rangedFilter_.matches(new Wi(o,d))||(d=Zi.EMPTY_NODE),i.getImmediateChild(o).equals(d)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,o,d,g,T,P):this.fullLimitUpdateChild_(i,o,d,T,P)}updateFullNode(i,o,d){let g;if(o.isLeafNode()||o.isEmpty())g=Zi.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<o.numChildren()&&o.isIndexed(this.index_)){let T;g=Zi.EMPTY_NODE.withIndex(this.index_),T=this.reverse_?o.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let P=0;for(;T.hasNext()&&P<this.limit_;){const z=T.getNext();let le;if(le=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),z)<=0:this.index_.compare(z,this.rangedFilter_.getEndPost())<=0,!le)break;g=g.updateImmediateChild(z.name,z.node),P++}}else{let T,P,z,le;if(g=o.withIndex(this.index_),g=g.updatePriority(Zi.EMPTY_NODE),this.reverse_){le=g.getReverseIterator(this.index_),T=this.rangedFilter_.getEndPost(),P=this.rangedFilter_.getStartPost();const wt=this.index_.getCompare();z=(Ut,mn)=>wt(mn,Ut)}else le=g.getIterator(this.index_),T=this.rangedFilter_.getStartPost(),P=this.rangedFilter_.getEndPost(),z=this.index_.getCompare();let Te=0,_t=!1;for(;le.hasNext();){const wt=le.getNext();!_t&&z(T,wt)<=0&&(_t=!0),_t&&Te<this.limit_&&z(wt,P)<=0?Te++:g=g.updateImmediateChild(wt.name,Zi.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,g,d)}updatePriority(i,o){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,o,d,g,T){let P;if(this.reverse_){const wt=this.index_.getCompare();P=(Ut,mn)=>wt(mn,Ut)}else P=this.index_.getCompare();const z=i;(0,qe.hu)(z.numChildren()===this.limit_,"");const le=new Wi(o,d),Te=this.reverse_?z.getFirstChild(this.index_):z.getLastChild(this.index_),_t=this.rangedFilter_.matches(le);if(z.hasChild(o)){const wt=z.getImmediateChild(o);let Ut=g.getChildAfterChild(this.index_,Te,this.reverse_);for(;null!=Ut&&(Ut.name===o||z.hasChild(Ut.name));)Ut=g.getChildAfterChild(this.index_,Ut,this.reverse_);const mn=null==Ut?1:P(Ut,le);if(_t&&!d.isEmpty()&&mn>=0)return T?.trackChildChange(Kc(o,d,wt)),z.updateImmediateChild(o,d);{T?.trackChildChange(Pu(o,wt));const s=z.updateImmediateChild(o,Zi.EMPTY_NODE);return null!=Ut&&this.rangedFilter_.matches(Ut)?(T?.trackChildChange(Yl(Ut.name,Ut.node)),s.updateImmediateChild(Ut.name,Ut.node)):s}}return d.isEmpty()?i:_t&&P(Te,le)>=0?(null!=T&&(T.trackChildChange(Pu(Te.name,Te.node)),T.trackChildChange(Yl(o,d))),z.updateImmediateChild(o,d).updateImmediateChild(Te.name,Zi.EMPTY_NODE)):i}}class Yd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=$r}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,qe.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,qe.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mo}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,qe.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,qe.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ea}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,qe.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===$r}copy(){const i=new Yd;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}}function xp(u,i,o){const d=u.copy();return d.startSet_=!0,void 0===i&&(i=null),d.indexStartValue_=i,null!=o?(d.startNameSet_=!0,d.indexStartName_=o):(d.startNameSet_=!1,d.indexStartName_=""),d}function Mf(u,i,o){const d=u.copy();return d.endSet_=!0,void 0===i&&(i=null),d.indexEndValue_=i,void 0!==o?(d.endNameSet_=!0,d.indexEndName_=o):(d.endNameSet_=!1,d.indexEndName_=""),d}function fc(u,i){const o=u.copy();return o.index_=i,o}function If(u){const i={};if(u.isDefault())return i;let o;return u.index_===$r?o="$priority":u.index_===Gd?o="$value":u.index_===vo?o="$key":((0,qe.hu)(u.index_ instanceof Sp,"Unrecognized index type!"),o=u.index_.toString()),i.orderBy=(0,qe.Wl)(o),u.startSet_&&(i.startAt=(0,qe.Wl)(u.indexStartValue_),u.startNameSet_&&(i.startAt+=","+(0,qe.Wl)(u.indexStartName_))),u.endSet_&&(i.endAt=(0,qe.Wl)(u.indexEndValue_),u.endNameSet_&&(i.endAt+=","+(0,qe.Wl)(u.indexEndName_))),u.limitSet_&&(u.isViewFromLeft()?i.limitToFirst=u.limit_:i.limitToLast=u.limit_),i}function Zd(u){const i={};if(u.startSet_&&(i.sp=u.indexStartValue_,u.startNameSet_&&(i.sn=u.indexStartName_)),u.endSet_&&(i.ep=u.indexEndValue_,u.endNameSet_&&(i.en=u.indexEndName_)),u.limitSet_){i.l=u.limit_;let o=u.viewFrom_;""===o&&(o=u.isViewFromLeft()?"l":"r"),i.vf=o}return u.index_!==$r&&(i.i=u.index_.toString()),i}class Fh extends Uc{constructor(i,o,d,g){super(),this.repoInfo_=i,this.onDataUpdate_=o,this.authTokenProvider_=d,this.appCheckTokenProvider_=g,this.log_=Er("p:rest:"),this.listens_={}}reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,o){return void 0!==o?"tag$"+o:((0,qe.hu)(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}listen(i,o,d,g){const T=i._path.toString();this.log_("Listen called for "+T+" "+i._queryIdentifier);const P=Fh.getListenId_(i,d),z={};this.listens_[P]=z;const le=If(i._queryParams);this.restRequest_(T+".json",le,(Te,_t)=>{let wt=_t;if(404===Te&&(wt=null,Te=null),null===Te&&this.onDataUpdate_(T,wt,!1,d),(0,qe.DV)(this.listens_,P)===z){let Ut;Ut=Te?401===Te?"permission_denied":"rest_error:"+Te:"ok",g(Ut,null)}})}unlisten(i,o){const d=Fh.getListenId_(i,o);delete this.listens_[d]}get(i){const o=If(i._queryParams),d=i._path.toString(),g=new qe.BH;return this.restRequest_(d+".json",o,(T,P)=>{let z=P;404===T&&(z=null,T=null),null===T?(this.onDataUpdate_(d,z,!1,null),g.resolve(z)):g.reject(new Error(z))}),g.promise}refreshAuthToken(i){}restRequest_(i,o={},d){return o.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([g,T])=>{g&&g.accessToken&&(o.auth=g.accessToken),T&&T.token&&(o.ac=T.token);const P=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+(0,qe.xO)(o);this.log_("Sending REST request for "+P);const z=new XMLHttpRequest;z.onreadystatechange=()=>{if(d&&4===z.readyState){this.log_("REST Response for "+P+" received. status:",z.status,"response:",z.responseText);let le=null;if(z.status>=200&&z.status<300){try{le=(0,qe.cI)(z.responseText)}catch{Js("Failed to parse JSON response for "+P+": "+z.responseText)}d(null,le)}else 401!==z.status&&404!==z.status&&Js("Got unsuccessful REST response for "+P+" Status: "+z.status),d(z.status);d=null}},z.open("GET",P,!0),z.send()})}}class Im{constructor(){this.rootNode_=Zi.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,o){this.rootNode_=this.rootNode_.updateChild(i,o)}}function Bh(){return{value:null,children:new Map}}function Oi(u,i,o){if(lr(i))u.value=o,u.children.clear();else if(null!==u.value)u.value=u.value.updateChild(i,o);else{const d=ar(i);u.children.has(d)||u.children.set(d,Bh()),Oi(u.children.get(d),i=hs(i),o)}}function qd(u,i){if(lr(i))return u.value=null,u.children.clear(),!0;if(null!==u.value){if(u.value.isLeafNode())return!1;{const o=u.value;return u.value=null,o.forEachChild($r,(d,g)=>{Oi(u,new Sr(d),g)}),qd(u,i)}}if(u.children.size>0){const o=ar(i);return i=hs(i),u.children.has(o)&&qd(u.children.get(o),i)&&u.children.delete(o),0===u.children.size}return!0}function xf(u,i,o){null!==u.value?o(i,u.value):function Ap(u,i){u.children.forEach((o,d)=>{i(d,o)})}(u,(d,g)=>{xf(g,new Sr(i.toString()+"/"+d),o)})}class kp{constructor(i){this.collection_=i,this.last_=null}get(){const i=this.collection_.get(),o=Object.assign({},i);return this.last_&&eo(this.last_,(d,g)=>{o[d]=o[d]-g}),this.last_=i,o}}class ud{constructor(i,o){this.server_=o,this.statsToReport_={},this.statsListener_=new kp(i);const d=1e4+2e4*Math.random();Ml(this.reportStats_.bind(this),Math.floor(d))}reportStats_(){const i=this.statsListener_.get(),o={};let d=!1;eo(i,(g,T)=>{T>0&&(0,qe.r3)(this.statsToReport_,g)&&(o[g]=T,d=!0)}),d&&this.server_.reportStats(o),Ml(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Aa=(()=>{return(u=Aa||(Aa={}))[u.OVERWRITE=0]="OVERWRITE",u[u.MERGE=1]="MERGE",u[u.ACK_USER_WRITE=2]="ACK_USER_WRITE",u[u.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Aa;var u})();function Xd(u){return{fromUser:!1,fromServer:!0,queryId:u,tagged:!0}}class w{constructor(i,o,d){this.path=i,this.affectedTree=o,this.revert=d,this.type=Aa.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(i){if(lr(this.path)){if(null!=this.affectedTree.value)return(0,qe.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const o=this.affectedTree.subtree(new Sr(i));return new w(Rr(),o,this.revert)}}return(0,qe.hu)(ar(this.path)===i,"operationForChild called for unrelated child."),new w(hs(this.path),this.affectedTree,this.revert)}}class S{constructor(i,o){this.source=i,this.path=o,this.type=Aa.LISTEN_COMPLETE}operationForChild(i){return lr(this.path)?new S(this.source,Rr()):new S(this.source,hs(this.path))}}class c{constructor(i,o,d){this.source=i,this.path=o,this.snap=d,this.type=Aa.OVERWRITE}operationForChild(i){return lr(this.path)?new c(this.source,Rr(),this.snap.getImmediateChild(i)):new c(this.source,hs(this.path),this.snap)}}class v{constructor(i,o,d){this.source=i,this.path=o,this.children=d,this.type=Aa.MERGE}operationForChild(i){if(lr(this.path)){const o=this.children.subtree(new Sr(i));return o.isEmpty()?null:o.value?new c(this.source,Rr(),o.value):new v(this.source,Rr(),o)}return(0,qe.hu)(ar(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new v(this.source,hs(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class O{constructor(i,o,d){this.node_=i,this.fullyInitialized_=o,this.filtered_=d}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(lr(i))return this.isFullyInitialized()&&!this.filtered_;const o=ar(i);return this.isCompleteForChild(o)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}}class ie{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}}function Xt(u,i,o,d,g,T){const P=d.filter(z=>z.type===o);P.sort((z,le)=>function xi(u,i,o){if(null==i.childName||null==o.childName)throw(0,qe.g5)("Should only compare child_ events.");const d=new Wi(i.childName,i.snapshotNode),g=new Wi(o.childName,o.snapshotNode);return u.index_.compare(d,g)}(u,z,le)),P.forEach(z=>{const le=function kn(u,i,o){return"value"===i.type||"child_removed"===i.type||(i.prevName=o.getPredecessorChildName(i.childName,i.snapshotNode,u.index_)),i}(u,z,T);g.forEach(Te=>{Te.respondsTo(z.type)&&i.push(Te.createEvent(le,u.query_))})})}function ui(u,i){return{eventCache:u,serverCache:i}}function yr(u,i,o,d){return ui(new O(i,o,d),u.serverCache)}function cr(u,i,o,d){return ui(u.eventCache,new O(i,o,d))}function Cs(u){return u.eventCache.isFullyInitialized()?u.eventCache.getNode():null}function Al(u){return u.serverCache.isFullyInitialized()?u.serverCache.getNode():null}let dl;class es{constructor(i,o=(()=>(dl||(dl=new ta(yu)),dl))()){this.value=i,this.children=o}static fromObject(i){let o=new es(null);return eo(i,(d,g)=>{o=o.set(new Sr(d),g)}),o}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,o){if(null!=this.value&&o(this.value))return{path:Rr(),value:this.value};if(lr(i))return null;{const d=ar(i),g=this.children.get(d);if(null!==g){const T=g.findRootMostMatchingPathAndValue(hs(i),o);return null!=T?{path:Zr(new Sr(d),T.path),value:T.value}:null}return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(lr(i))return this;{const o=ar(i),d=this.children.get(o);return null!==d?d.subtree(hs(i)):new es(null)}}set(i,o){if(lr(i))return new es(o,this.children);{const d=ar(i),T=(this.children.get(d)||new es(null)).set(hs(i),o),P=this.children.insert(d,T);return new es(this.value,P)}}remove(i){if(lr(i))return this.children.isEmpty()?new es(null):new es(null,this.children);{const o=ar(i),d=this.children.get(o);if(d){const g=d.remove(hs(i));let T;return T=g.isEmpty()?this.children.remove(o):this.children.insert(o,g),null===this.value&&T.isEmpty()?new es(null):new es(this.value,T)}return this}}get(i){if(lr(i))return this.value;{const o=ar(i),d=this.children.get(o);return d?d.get(hs(i)):null}}setTree(i,o){if(lr(i))return o;{const d=ar(i),T=(this.children.get(d)||new es(null)).setTree(hs(i),o);let P;return P=T.isEmpty()?this.children.remove(d):this.children.insert(d,T),new es(this.value,P)}}fold(i){return this.fold_(Rr(),i)}fold_(i,o){const d={};return this.children.inorderTraversal((g,T)=>{d[g]=T.fold_(Zr(i,g),o)}),o(i,this.value,d)}findOnPath(i,o){return this.findOnPath_(i,Rr(),o)}findOnPath_(i,o,d){const g=!!this.value&&d(o,this.value);if(g)return g;if(lr(i))return null;{const T=ar(i),P=this.children.get(T);return P?P.findOnPath_(hs(i),Zr(o,T),d):null}}foreachOnPath(i,o){return this.foreachOnPath_(i,Rr(),o)}foreachOnPath_(i,o,d){if(lr(i))return this;{this.value&&d(o,this.value);const g=ar(i),T=this.children.get(g);return T?T.foreachOnPath_(hs(i),Zr(o,g),d):new es(null)}}foreach(i){this.foreach_(Rr(),i)}foreach_(i,o){this.children.inorderTraversal((d,g)=>{g.foreach_(Zr(i,d),o)}),this.value&&o(i,this.value)}foreachChild(i){this.children.inorderTraversal((o,d)=>{d.value&&i(o,d.value)})}}class ka{constructor(i){this.writeTree_=i}static empty(){return new ka(new es(null))}}function Zc(u,i,o){if(lr(i))return new ka(new es(o));{const d=u.writeTree_.findRootMostValueAndPath(i);if(null!=d){const g=d.path;let T=d.value;const P=xa(g,i);return T=T.updateChild(P,o),new ka(u.writeTree_.set(g,T))}{const g=new es(o),T=u.writeTree_.setTree(i,g);return new ka(T)}}}function Nu(u,i,o){let d=u;return eo(o,(g,T)=>{d=Zc(d,Zr(i,g),T)}),d}function xm(u,i){if(lr(i))return ka.empty();{const o=u.writeTree_.setTree(i,new es(null));return new ka(o)}}function kf(u,i){return null!=qc(u,i)}function qc(u,i){const o=u.writeTree_.findRootMostValueAndPath(i);return null!=o?u.writeTree_.get(o.path).getChild(xa(o.path,i)):null}function Np(u){const i=[],o=u.writeTree_.value;return null!=o?o.isLeafNode()||o.forEachChild($r,(d,g)=>{i.push(new Wi(d,g))}):u.writeTree_.children.inorderTraversal((d,g)=>{null!=g.value&&i.push(new Wi(d,g.value))}),i}function dd(u,i){if(lr(i))return u;{const o=qc(u,i);return new ka(null!=o?new es(o):u.writeTree_.subtree(i))}}function Rf(u){return u.writeTree_.isEmpty()}function hd(u,i){return pc(Rr(),u.writeTree_,i)}function pc(u,i,o){if(null!=i.value)return o.updateChild(u,i.value);{let d=null;return i.children.inorderTraversal((g,T)=>{".priority"===g?((0,qe.hu)(null!==T.value,"Priority writes must always be leaf nodes"),d=T.value):o=pc(Zr(u,g),T,o)}),!o.getChild(u).isEmpty()&&null!==d&&(o=o.updateChild(Zr(u,".priority"),d)),o}}function Am(u,i){return Nf(i,u)}function V_(u,i){if(u.snap)return zs(u.path,i);for(const o in u.children)if(u.children.hasOwnProperty(o)&&zs(Zr(u.path,o),i))return!0;return!1}function Vh(u){return u.visible}function kl(u,i,o){let d=ka.empty();for(let g=0;g<u.length;++g){const T=u[g];if(i(T)){const P=T.path;let z;if(T.snap)zs(o,P)?(z=xa(o,P),d=Zc(d,z,T.snap)):zs(P,o)&&(z=xa(P,o),d=Zc(d,Rr(),T.snap.getChild(z)));else{if(!T.children)throw(0,qe.g5)("WriteRecord should have .snap or .children");if(zs(o,P))z=xa(o,P),d=Nu(d,z,T.children);else if(zs(P,o))if(z=xa(P,o),lr(z))d=Nu(d,Rr(),T.children);else{const le=(0,qe.DV)(T.children,ar(z));if(le){const Te=le.getChild(hs(z));d=Zc(d,Rr(),Te)}}}}}return d}function Rm(u,i,o,d,g){if(d||g){const T=dd(u.visibleWrites,i);return!g&&Rf(T)?o:g||null!=o||kf(T,Rr())?hd(kl(u.allWrites,function(Te){return(Te.visible||g)&&(!d||!~d.indexOf(Te.writeId))&&(zs(Te.path,i)||zs(i,Te.path))},i),o||Zi.EMPTY_NODE):null}{const T=qc(u.visibleWrites,i);if(null!=T)return T;{const P=dd(u.visibleWrites,i);return Rf(P)?o:null!=o||kf(P,Rr())?hd(P,o||Zi.EMPTY_NODE):null}}}function Ug(u,i,o,d){return Rm(u.writeTree,u.treePath,i,o,d)}function Pf(u,i){return function Of(u,i,o){let d=Zi.EMPTY_NODE;const g=qc(u.visibleWrites,i);if(g)return g.isLeafNode()||g.forEachChild($r,(T,P)=>{d=d.updateImmediateChild(T,P)}),d;if(o){const T=dd(u.visibleWrites,i);return o.forEachChild($r,(P,z)=>{const le=hd(dd(T,new Sr(P)),z);d=d.updateImmediateChild(P,le)}),Np(T).forEach(P=>{d=d.updateImmediateChild(P.name,P.node)}),d}return Np(dd(u.visibleWrites,i)).forEach(P=>{d=d.updateImmediateChild(P.name,P.node)}),d}(u.writeTree,u.treePath,i)}function Nv(u,i,o,d){return function Lp(u,i,o,d,g){(0,qe.hu)(d||g,"Either existingEventSnap or existingServerSnap must exist");const T=Zr(i,o);if(kf(u.visibleWrites,T))return null;{const P=dd(u.visibleWrites,T);return Rf(P)?g.getChild(o):hd(P,g.getChild(o))}}(u.writeTree,u.treePath,i,o,d)}function pd(u,i){return function Bg(u,i){return qc(u.visibleWrites,i)}(u.writeTree,Zr(u.treePath,i))}function Uh(u,i,o){return function fd(u,i,o,d){const g=Zr(i,o),T=qc(u.visibleWrites,g);return null!=T?T:d.isCompleteForChild(o)?hd(dd(u.visibleWrites,g),d.getNode().getImmediateChild(o)):null}(u.writeTree,u.treePath,i,o)}function Nm(u,i){return Nf(Zr(u.treePath,i),u.writeTree)}function Nf(u,i){return{treePath:u,writeTree:i}}class Lv{constructor(){this.changeMap=new Map}trackChildChange(i){const o=i.type,d=i.childName;(0,qe.hu)("child_added"===o||"child_changed"===o||"child_removed"===o,"Only child changes supported for tracking"),(0,qe.hu)(".priority"!==d,"Only non-priority child changes can be tracked.");const g=this.changeMap.get(d);if(g){const T=g.type;if("child_added"===o&&"child_removed"===T)this.changeMap.set(d,Kc(d,i.snapshotNode,g.snapshotNode));else if("child_removed"===o&&"child_added"===T)this.changeMap.delete(d);else if("child_removed"===o&&"child_changed"===T)this.changeMap.set(d,Pu(d,g.oldSnap));else if("child_changed"===o&&"child_added"===T)this.changeMap.set(d,Yl(d,i.snapshotNode));else{if("child_changed"!==o||"child_changed"!==T)throw(0,qe.g5)("Illegal combination of changes: "+i+" occurred after "+g);this.changeMap.set(d,Kc(d,i.snapshotNode,g.oldSnap))}}else this.changeMap.set(d,i)}getChanges(){return Array.from(this.changeMap.values())}}const Lm=new class Hg{getCompleteChild(i){return null}getChildAfterChild(i,o,d){return null}};class Fp{constructor(i,o,d=null){this.writes_=i,this.viewCache_=o,this.optCompleteServerCache_=d}getCompleteChild(i){const o=this.viewCache_.eventCache;if(o.isCompleteForChild(i))return o.getNode().getImmediateChild(i);{const d=null!=this.optCompleteServerCache_?new O(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Uh(this.writes_,i,d)}}getChildAfterChild(i,o,d){const g=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Al(this.viewCache_),T=function Pm(u,i,o,d,g,T){return function Vg(u,i,o,d,g,T,P){let z;const le=dd(u.visibleWrites,i),Te=qc(le,Rr());if(null!=Te)z=Te;else{if(null==o)return[];z=hd(le,o)}if(z=z.withIndex(P),z.isEmpty()||z.isLeafNode())return[];{const _t=[],wt=P.getCompare(),Ut=T?z.getReverseIteratorFrom(d,P):z.getIteratorFrom(d,P);let mn=Ut.getNext();for(;mn&&_t.length<g;)0!==wt(mn,d)&&_t.push(mn),mn=Ut.getNext();return _t}}(u.writeTree,u.treePath,i,o,d,g,T)}(this.writes_,g,o,1,d,i);return 0===T.length?null:T[0]}}function Bf(u,i,o,d,g,T){const P=i.eventCache;if(null!=pd(d,o))return i;{let z,le;if(lr(o))if((0,qe.hu)(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){const Te=Al(i),wt=Pf(d,Te instanceof Zi?Te:Zi.EMPTY_NODE);z=u.filter.updateFullNode(i.eventCache.getNode(),wt,T)}else{const Te=Ug(d,Al(i));z=u.filter.updateFullNode(i.eventCache.getNode(),Te,T)}else{const Te=ar(o);if(".priority"===Te){(0,qe.hu)(1===Hc(o),"Can't have a priority with additional path components");const _t=P.getNode();le=i.serverCache.getNode();const wt=Nv(d,o,_t,le);z=null!=wt?u.filter.updatePriority(_t,wt):P.getNode()}else{const _t=hs(o);let wt;if(P.isCompleteForChild(Te)){le=i.serverCache.getNode();const Ut=Nv(d,o,P.getNode(),le);wt=null!=Ut?P.getNode().getImmediateChild(Te).updateChild(_t,Ut):P.getNode().getImmediateChild(Te)}else wt=Uh(d,Te,i.serverCache);z=null!=wt?u.filter.updateChild(P.getNode(),Te,wt,_t,g,T):P.getNode()}}return yr(i,z,P.isFullyInitialized()||lr(o),u.filter.filtersNodes())}}function Vf(u,i,o,d,g,T,P,z){const le=i.serverCache;let Te;const _t=P?u.filter:u.filter.getIndexedFilter();if(lr(o))Te=_t.updateFullNode(le.getNode(),d,null);else if(_t.filtersNodes()&&!le.isFiltered()){const mn=le.getNode().updateChild(o,d);Te=_t.updateFullNode(le.getNode(),mn,null)}else{const mn=ar(o);if(!le.isCompleteForPath(o)&&Hc(o)>1)return i;const wn=hs(o),e=le.getNode().getImmediateChild(mn).updateChild(wn,d);Te=".priority"===mn?_t.updatePriority(le.getNode(),e):_t.updateChild(le.getNode(),mn,e,wn,Lm,null)}const wt=cr(i,Te,le.isFullyInitialized()||lr(o),_t.filtersNodes());return Bf(u,wt,o,g,new Fp(g,wt,T),z)}function gd(u,i,o,d,g,T,P){const z=i.eventCache;let le,Te;const _t=new Fp(g,i,T);if(lr(o))Te=u.filter.updateFullNode(i.eventCache.getNode(),d,P),le=yr(i,Te,!0,u.filter.filtersNodes());else{const wt=ar(o);if(".priority"===wt)Te=u.filter.updatePriority(i.eventCache.getNode(),d),le=yr(i,Te,z.isFullyInitialized(),z.isFiltered());else{const Ut=hs(o),mn=z.getNode().getImmediateChild(wt);let wn;if(lr(Ut))wn=d;else{const s=_t.getCompleteChild(wt);wn=null!=s?".priority"===bf(Ut)&&s.getChild(kh(Ut)).isEmpty()?s:s.updateChild(Ut,d):Zi.EMPTY_NODE}le=mn.equals(wn)?i:yr(i,u.filter.updateChild(z.getNode(),wt,wn,Ut,_t,P),z.isFullyInitialized(),u.filter.filtersNodes())}}return le}function H_(u,i){return u.eventCache.isCompleteForChild(i)}function $g(u,i,o){return o.foreach((d,g)=>{i=i.updateChild(d,g)}),i}function Fm(u,i,o,d,g,T,P,z){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let Te,le=i;Te=lr(o)?d:new es(null).setTree(o,d);const _t=i.serverCache.getNode();return Te.children.inorderTraversal((wt,Ut)=>{if(_t.hasChild(wt)){const wn=$g(0,i.serverCache.getNode().getImmediateChild(wt),Ut);le=Vf(u,le,new Sr(wt),wn,g,T,P,z)}}),Te.children.inorderTraversal((wt,Ut)=>{const mn=!i.serverCache.isCompleteForChild(wt)&&null===Ut.value;if(!_t.hasChild(wt)&&!mn){const s=$g(0,i.serverCache.getNode().getImmediateChild(wt),Ut);le=Vf(u,le,new Sr(wt),s,g,T,P,z)}}),le}class uy{constructor(i,o){this.query_=i,this.eventRegistrations_=[];const d=this.query_._queryParams,g=new Mp(d.getIndex()),T=function Ip(u){return u.loadsAllData()?new Mp(u.getIndex()):u.hasLimit()?new Sm(u):new Wd(u)}(d);this.processor_=function Lf(u){return{filter:u}}(T);const P=o.serverCache,z=o.eventCache,le=g.updateFullNode(Zi.EMPTY_NODE,P.getNode(),null),Te=T.updateFullNode(Zi.EMPTY_NODE,z.getNode(),null),_t=new O(le,P.isFullyInitialized(),g.filtersNodes()),wt=new O(Te,z.isFullyInitialized(),T.filtersNodes());this.viewCache_=ui(wt,_t),this.eventGenerator_=new ie(this.query_)}get query(){return this.query_}}function dy(u,i){const o=Al(u.viewCache_);return o&&(u.query._queryParams.loadsAllData()||!lr(i)&&!o.getImmediateChild(ar(i)).isEmpty())?o.getChild(i):null}function W_(u){return 0===u.eventRegistrations_.length}function Bp(u,i,o){const d=[];if(o){(0,qe.hu)(null==i,"A cancel should cancel all event registrations.");const g=u.query._path;u.eventRegistrations_.forEach(T=>{const P=T.createCancelEvent(o,g);P&&d.push(P)})}if(i){let g=[];for(let T=0;T<u.eventRegistrations_.length;++T){const P=u.eventRegistrations_[T];if(P.matches(i)){if(i.hasAnyCallback()){g=g.concat(u.eventRegistrations_.slice(T+1));break}}else g.push(P)}u.eventRegistrations_=g}else u.eventRegistrations_=[];return d}function Gg(u,i,o,d){i.type===Aa.MERGE&&null!==i.source.queryId&&((0,qe.hu)(Al(u.viewCache_),"We should always have a full cache before handling merges"),(0,qe.hu)(Cs(u.viewCache_),"Missing event cache, even though we have a server cache"));const g=u.viewCache_,T=function U_(u,i,o,d,g){const T=new Lv;let P,z;if(o.type===Aa.OVERWRITE){const Te=o;Te.source.fromUser?P=gd(u,i,Te.path,Te.snap,d,g,T):((0,qe.hu)(Te.source.fromServer,"Unknown source."),z=Te.source.tagged||i.serverCache.isFiltered()&&!lr(Te.path),P=Vf(u,i,Te.path,Te.snap,d,g,z,T))}else if(o.type===Aa.MERGE){const Te=o;Te.source.fromUser?P=function jg(u,i,o,d,g,T,P){let z=i;return d.foreach((le,Te)=>{const _t=Zr(o,le);H_(i,ar(_t))&&(z=gd(u,z,_t,Te,g,T,P))}),d.foreach((le,Te)=>{const _t=Zr(o,le);H_(i,ar(_t))||(z=gd(u,z,_t,Te,g,T,P))}),z}(u,i,Te.path,Te.children,d,g,T):((0,qe.hu)(Te.source.fromServer,"Unknown source."),z=Te.source.tagged||i.serverCache.isFiltered(),P=Fm(u,i,Te.path,Te.children,d,g,z,T))}else if(o.type===Aa.ACK_USER_WRITE){const Te=o;P=Te.revert?function cy(u,i,o,d,g,T){let P;if(null!=pd(d,o))return i;{const z=new Fp(d,i,g),le=i.eventCache.getNode();let Te;if(lr(o)||".priority"===ar(o)){let _t;if(i.serverCache.isFullyInitialized())_t=Ug(d,Al(i));else{const wt=i.serverCache.getNode();(0,qe.hu)(wt instanceof Zi,"serverChildren would be complete if leaf node"),_t=Pf(d,wt)}Te=u.filter.updateFullNode(le,_t,T)}else{const _t=ar(o);let wt=Uh(d,_t,i.serverCache);null==wt&&i.serverCache.isCompleteForChild(_t)&&(wt=le.getImmediateChild(_t)),Te=null!=wt?u.filter.updateChild(le,_t,wt,hs(o),z,T):i.eventCache.getNode().hasChild(_t)?u.filter.updateChild(le,_t,Zi.EMPTY_NODE,hs(o),z,T):le,Te.isEmpty()&&i.serverCache.isFullyInitialized()&&(P=Ug(d,Al(i)),P.isLeafNode()&&(Te=u.filter.updateFullNode(Te,P,T)))}return P=i.serverCache.isFullyInitialized()||null!=pd(d,Rr()),yr(i,Te,P,u.filter.filtersNodes())}}(u,i,Te.path,d,g,T):function j_(u,i,o,d,g,T,P){if(null!=pd(g,o))return i;const z=i.serverCache.isFiltered(),le=i.serverCache;if(null!=d.value){if(lr(o)&&le.isFullyInitialized()||le.isCompleteForPath(o))return Vf(u,i,o,le.getNode().getChild(o),g,T,z,P);if(lr(o)){let Te=new es(null);return le.getNode().forEachChild(vo,(_t,wt)=>{Te=Te.set(new Sr(_t),wt)}),Fm(u,i,o,Te,g,T,z,P)}return i}{let Te=new es(null);return d.foreach((_t,wt)=>{const Ut=Zr(o,_t);le.isCompleteForPath(Ut)&&(Te=Te.set(_t,le.getNode().getChild(Ut)))}),Fm(u,i,o,Te,g,T,z,P)}}(u,i,Te.path,Te.affectedTree,d,g,T)}else{if(o.type!==Aa.LISTEN_COMPLETE)throw(0,qe.g5)("Unknown operation type: "+o.type);P=function $_(u,i,o,d,g){const T=i.serverCache;return Bf(u,cr(i,T.getNode(),T.isFullyInitialized()||lr(o),T.isFiltered()),o,d,Lm,g)}(u,i,o.path,d,T)}const le=T.getChanges();return function Ff(u,i,o){const d=i.eventCache;if(d.isFullyInitialized()){const g=d.getNode().isLeafNode()||d.getNode().isEmpty(),T=Cs(u);(o.length>0||!u.eventCache.isFullyInitialized()||g&&!d.getNode().equals(T)||!d.getNode().getPriority().equals(T.getPriority()))&&o.push(cd(Cs(i)))}}(i,P,le),{viewCache:P,changes:le}}(u.processor_,g,i,o,d);return function md(u,i){(0,qe.hu)(i.eventCache.getNode().isIndexed(u.filter.getIndex()),"Event snap not indexed"),(0,qe.hu)(i.serverCache.getNode().isIndexed(u.filter.getIndex()),"Server snap not indexed")}(u.processor_,T.viewCache),(0,qe.hu)(T.viewCache.serverCache.isFullyInitialized()||!g.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),u.viewCache_=T.viewCache,Vp(u,T.changes,T.viewCache.eventCache.getNode(),null)}function Vp(u,i,o,d){return function Dt(u,i,o,d){const g=[],T=[];return i.forEach(P=>{"child_changed"===P.type&&u.index_.indexedValueChanged(P.oldSnap,P.snapshotNode)&&T.push(function Tf(u,i){return{type:"child_moved",snapshotNode:i,childName:u}}(P.childName,P.snapshotNode))}),Xt(u,g,"child_removed",i,d,o),Xt(u,g,"child_added",i,d,o),Xt(u,g,"child_moved",T,d,o),Xt(u,g,"child_changed",i,d,o),Xt(u,g,"value",i,d,o),g}(u.eventGenerator_,i,o,d?[d]:u.eventRegistrations_)}let Up,_d;class Bm{constructor(){this.views=new Map}}function Hp(u,i,o,d){const g=i.source.queryId;if(null!==g){const T=u.views.get(g);return(0,qe.hu)(null!=T,"SyncTree gave us an op for an invalid query."),Gg(T,i,o,d)}{let T=[];for(const P of u.views.values())T=T.concat(Gg(P,i,o,d));return T}}function Um(u,i,o,d,g){const P=u.views.get(i._queryIdentifier);if(!P){let z=Ug(o,g?d:null),le=!1;z?le=!0:d instanceof Zi?(z=Pf(o,d),le=!1):(z=Zi.EMPTY_NODE,le=!1);const Te=ui(new O(z,le,!1),new O(d,g,!1));return new uy(i,Te)}return P}function K_(u){const i=[];for(const o of u.views.values())o.query._queryParams.loadsAllData()||i.push(o);return i}function Kl(u,i){let o=null;for(const d of u.views.values())o=o||dy(d,i);return o}function nh(u,i){return i._queryParams.loadsAllData()?Hf(u):u.views.get(i._queryIdentifier)}function Uf(u,i){return null!=nh(u,i)}function Rl(u){return null!=Hf(u)}function Hf(u){for(const i of u.views.values())if(i.query._queryParams.loadsAllData())return i;return null}let Yg=1;class jf{constructor(i){this.listenProvider_=i,this.syncPointTree_=new es(null),this.pendingWriteTree_=function Om(){return{visibleWrites:ka.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function jm(u,i,o,d,g){return function Lg(u,i,o,d,g){(0,qe.hu)(d>u.lastWriteId,"Stacking an older write on top of newer ones"),void 0===g&&(g=!0),u.allWrites.push({path:i,snap:o,writeId:d,visible:g}),g&&(u.visibleWrites=Zc(u.visibleWrites,i,o)),u.lastWriteId=d}(u.pendingWriteTree_,i,o,d,g),g?Wp(u,new c({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,o)):[]}function Lu(u,i,o=!1){const d=function ly(u,i){for(let o=0;o<u.allWrites.length;o++){const d=u.allWrites[o];if(d.writeId===i)return d}return null}(u.pendingWriteTree_,i);if(function Jd(u,i){const o=u.allWrites.findIndex(z=>z.writeId===i);(0,qe.hu)(o>=0,"removeWrite called with nonexistent writeId.");const d=u.allWrites[o];u.allWrites.splice(o,1);let g=d.visible,T=!1,P=u.allWrites.length-1;for(;g&&P>=0;){const z=u.allWrites[P];z.visible&&(P>=o&&V_(z,d.path)?g=!1:zs(d.path,z.path)&&(T=!0)),P--}return!!g&&(T?(function km(u){u.visibleWrites=kl(u.allWrites,Vh,Rr()),u.lastWriteId=u.allWrites.length>0?u.allWrites[u.allWrites.length-1].writeId:-1}(u),!0):(d.snap?u.visibleWrites=xm(u.visibleWrites,d.path):eo(d.children,le=>{u.visibleWrites=xm(u.visibleWrites,Zr(d.path,le))}),!0))}(u.pendingWriteTree_,i)){let T=new es(null);return null!=d.snap?T=T.set(Rr(),!0):eo(d.children,P=>{T=T.set(new Sr(P),!0)}),Wp(u,new w(d.path,T,o))}return[]}function $f(u,i,o){return Wp(u,new c({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,o))}function $p(u,i,o,d,g=!1){const T=i._path,P=u.syncPointTree_.get(T);let z=[];if(P&&("default"===i._queryIdentifier||Uf(P,i))){const le=function Wg(u,i,o,d){const g=i._queryIdentifier,T=[];let P=[];const z=Rl(u);if("default"===g)for(const[le,Te]of u.views.entries())P=P.concat(Bp(Te,o,d)),W_(Te)&&(u.views.delete(le),Te.query._queryParams.loadsAllData()||T.push(Te.query));else{const le=u.views.get(g);le&&(P=P.concat(Bp(le,o,d)),W_(le)&&(u.views.delete(g),le.query._queryParams.loadsAllData()||T.push(le.query)))}return z&&!Rl(u)&&T.push(new(function th(){return(0,qe.hu)(Up,"Reference.ts has not been loaded"),Up}())(i._repo,i._path)),{removed:T,events:P}}(P,i,o,d);(function Vm(u){return 0===u.views.size})(P)&&(u.syncPointTree_=u.syncPointTree_.remove(T));const Te=le.removed;if(z=le.events,!g){const _t=-1!==Te.findIndex(Ut=>Ut._queryParams.loadsAllData()),wt=u.syncPointTree_.findOnPath(T,(Ut,mn)=>Rl(mn));if(_t&&!wt){const Ut=u.syncPointTree_.subtree(T);if(!Ut.isEmpty()){const mn=function Xg(u){return u.fold((i,o,d)=>{if(o&&Rl(o))return[Hf(o)];{let g=[];return o&&(g=K_(o)),eo(d,(T,P)=>{g=g.concat(P)}),g}})}(Ut);for(let wn=0;wn<mn.length;++wn){const s=mn[wn],e=s.query,t=Qg(u,s);u.listenProvider_.startListening(jh(e),Hh(u,e),t.hashFn,t.onComplete)}}}!wt&&Te.length>0&&!d&&(_t?u.listenProvider_.stopListening(jh(i),null):Te.forEach(Ut=>{const mn=u.queryToTagMap.get($m(Ut));u.listenProvider_.stopListening(jh(Ut),mn)}))}!function Q_(u,i){for(let o=0;o<i.length;++o){const d=i[o];if(!d._queryParams.loadsAllData()){const g=$m(d),T=u.queryToTagMap.get(g);u.queryToTagMap.delete(g),u.tagToQueryMap.delete(T)}}}(u,Te)}return z}function Gp(u,i,o,d){const g=Yp(u,d);if(null!=g){const T=Gm(g),P=T.path,z=T.queryId,le=xa(P,i);return Kp(u,P,new c(Xd(z),le,o))}return[]}function Ra(u,i,o,d=!1){const g=i._path;let T=null,P=!1;u.syncPointTree_.foreachOnPath(g,(Ut,mn)=>{const wn=xa(Ut,g);T=T||Kl(mn,wn),P=P||Rl(mn)});let le,z=u.syncPointTree_.get(g);z?(P=P||Rl(z),T=T||Kl(z,Rr())):(z=new Bm,u.syncPointTree_=u.syncPointTree_.set(g,z)),null!=T?le=!0:(le=!1,T=Zi.EMPTY_NODE,u.syncPointTree_.subtree(g).foreachChild((mn,wn)=>{const s=Kl(wn,Rr());s&&(T=T.updateImmediateChild(mn,s))}));const Te=Uf(z,i);if(!Te&&!i._queryParams.loadsAllData()){const Ut=$m(i);(0,qe.hu)(!u.queryToTagMap.has(Ut),"View does not exist, but we have a tag");const mn=function X_(){return Yg++}();u.queryToTagMap.set(Ut,mn),u.tagToQueryMap.set(mn,Ut)}let wt=function Y_(u,i,o,d,g,T){const P=Um(u,i,d,g,T);return u.views.has(i._queryIdentifier)||u.views.set(i._queryIdentifier,P),function eh(u,i){u.eventRegistrations_.push(i)}(P,o),function zg(u,i){const o=u.viewCache_.eventCache,d=[];return o.getNode().isLeafNode()||o.getNode().forEachChild($r,(T,P)=>{d.push(Yl(T,P))}),o.isFullyInitialized()&&d.push(cd(o.getNode())),Vp(u,d,o.getNode(),i)}(P,o)}(z,i,o,Am(u.pendingWriteTree_,g),T,le);if(!Te&&!P&&!d){const Ut=nh(z,i);wt=wt.concat(function J_(u,i,o){const d=i._path,g=Hh(u,i),T=Qg(u,o),P=u.listenProvider_.startListening(jh(i),g,T.hashFn,T.onComplete),z=u.syncPointTree_.subtree(d);if(g)(0,qe.hu)(!Rl(z.value),"If we're adding a query, it shouldn't be shadowed");else{const le=z.fold((Te,_t,wt)=>{if(!lr(Te)&&_t&&Rl(_t))return[Hf(_t).query];{let Ut=[];return _t&&(Ut=Ut.concat(K_(_t).map(mn=>mn.query))),eo(wt,(mn,wn)=>{Ut=Ut.concat(wn)}),Ut}});for(let Te=0;Te<le.length;++Te){const _t=le[Te];u.listenProvider_.stopListening(jh(_t),Hh(u,_t))}}return P}(u,i,Ut))}return wt}function zp(u,i,o){const g=u.pendingWriteTree_,T=u.syncPointTree_.findOnPath(i,(P,z)=>{const Te=Kl(z,xa(P,i));if(Te)return Te});return Rm(g,i,T,o,!0)}function Wp(u,i){return q_(i,u.syncPointTree_,null,Am(u.pendingWriteTree_,Rr()))}function q_(u,i,o,d){if(lr(u.path))return zf(u,i,o,d);{const g=i.get(Rr());null==o&&null!=g&&(o=Kl(g,Rr()));let T=[];const P=ar(u.path),z=u.operationForChild(P),le=i.children.get(P);if(le&&z){const Te=o?o.getImmediateChild(P):null,_t=Nm(d,P);T=T.concat(q_(z,le,Te,_t))}return g&&(T=T.concat(Hp(g,u,d,o))),T}}function zf(u,i,o,d){const g=i.get(Rr());null==o&&null!=g&&(o=Kl(g,Rr()));let T=[];return i.children.inorderTraversal((P,z)=>{const le=o?o.getImmediateChild(P):null,Te=Nm(d,P),_t=u.operationForChild(P);_t&&(T=T.concat(zf(_t,z,le,Te)))}),g&&(T=T.concat(Hp(g,u,d,o))),T}function Qg(u,i){const o=i.query,d=Hh(u,o);return{hashFn:()=>(function G_(u){return u.viewCache_.serverCache.getNode()}(i)||Zi.EMPTY_NODE).hash(),onComplete:g=>{if("ok"===g)return d?function Zg(u,i,o){const d=Yp(u,o);if(d){const g=Gm(d),T=g.path,P=g.queryId,z=xa(T,i);return Kp(u,T,new S(Xd(P),z))}return[]}(u,o._path,d):function Kg(u,i){return Wp(u,new S({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i))}(u,o._path);{const T=function dm(u,i){let o="Unknown Error";"too_big"===u?o="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===u?o="Client doesn't have permission to access the desired data.":"unavailable"===u&&(o="The service is unavailable");const d=new Error(u+" at "+i._path.toString()+": "+o);return d.code=u.toUpperCase(),d}(g,o);return $p(u,o,null,T)}}}}function Hh(u,i){const o=$m(i);return u.queryToTagMap.get(o)}function $m(u){return u._path.toString()+"$"+u._queryIdentifier}function Yp(u,i){return u.tagToQueryMap.get(i)}function Gm(u){const i=u.indexOf("$");return(0,qe.hu)(-1!==i&&i<u.length-1,"Bad queryKey."),{queryId:u.substr(i+1),path:new Sr(u.substr(0,i))}}function Kp(u,i,o){const d=u.syncPointTree_.get(i);return(0,qe.hu)(d,"Missing sync point for query tag that we're tracking"),Hp(d,o,Am(u.pendingWriteTree_,i),null)}function jh(u){return u._queryParams.loadsAllData()&&!u._queryParams.isDefault()?new(function Hm(){return(0,qe.hu)(_d,"Reference.ts has not been loaded"),_d}())(u._repo,u._path):u}class Zp{constructor(i){this.node_=i}getImmediateChild(i){const o=this.node_.getImmediateChild(i);return new Zp(o)}node(){return this.node_}}class mc{constructor(i,o){this.syncTree_=i,this.path_=o}getImmediateChild(i){const o=Zr(this.path_,i);return new mc(this.syncTree_,o)}node(){return zp(this.syncTree_,this.path_)}}const zm=function(u,i,o){return u&&"object"==typeof u?((0,qe.hu)(".sv"in u,"Unexpected leaf node or priority contents"),"string"==typeof u[".sv"]?Jg(u[".sv"],i,o):"object"==typeof u[".sv"]?hy(u[".sv"],i):void(0,qe.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2))):u},Jg=function(u,i,o){if("timestamp"===u)return o.timestamp;(0,qe.hu)(!1,"Unexpected server value: "+u)},hy=function(u,i,o){u.hasOwnProperty("increment")||(0,qe.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2));const d=u.increment;"number"!=typeof d&&(0,qe.hu)(!1,"Unexpected increment value: "+d);const g=i.node();if((0,qe.hu)(null!==g&&typeof g<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!g.isLeafNode())return d;const P=g.getValue();return"number"!=typeof P?d:P+d},Wm=function(u,i,o,d){return e_(i,new mc(o,u),d)},Ym=function(u,i,o){return e_(u,new Zp(i),o)};function e_(u,i,o){const d=u.getPriority().val(),g=zm(d,i.getImmediateChild(".priority"),o);let T;if(u.isLeafNode()){const P=u,z=zm(P.getValue(),i,o);return z!==P.getValue()||g!==P.getPriority().val()?new Wl(z,Xi(g)):u}{const P=u;return T=P,g!==P.getPriority().val()&&(T=T.updatePriority(new Wl(g))),P.forEachChild($r,(z,le)=>{const Te=e_(le,i.getImmediateChild(z),o);Te!==le&&(T=T.updateImmediateChild(z,Te))}),T}}class Qp{constructor(i="",o=null,d={children:{},childCount:0}){this.name=i,this.parent=o,this.node=d}}function ih(u,i){let o=i instanceof Sr?i:new Sr(i),d=u,g=ar(o);for(;null!==g;){const T=(0,qe.DV)(d.node.children,g)||{children:{},childCount:0};d=new Qp(g,d,T),o=hs(o),g=ar(o)}return d}function rh(u){return u.node.value}function Km(u,i){u.node.value=i,sh(u)}function Wf(u){return u.node.childCount>0}function ir(u,i){eo(u.node.children,(o,d)=>{i(new Qp(o,u,d))})}function ev(u,i,o,d){o&&!d&&i(u),ir(u,g=>{ev(g,i,!0,d)}),o&&d&&i(u)}function Xp(u){return new Sr(null===u.parent?u.name:Xp(u.parent)+"/"+u.name)}function sh(u){null!==u.parent&&function t_(u,i,o){const d=function Yf(u){return void 0===rh(u)&&!Wf(u)}(o),g=(0,qe.r3)(u.node.children,i);d&&g?(delete u.node.children[i],u.node.childCount--,sh(u)):!d&&!g&&(u.node.children[i]=o.node,u.node.childCount++,sh(u))}(u.parent,u.name,u)}const ws=/[\[\].#$\/\u0000-\u001F\u007F]/,Oa=/[\[\].#$\u0000-\u001F\u007F]/,Ol=10485760,Zl=function(u){return"string"==typeof u&&0!==u.length&&!ws.test(u)},Jp=function(u){return"string"==typeof u&&0!==u.length&&!Oa.test(u)},Fu=function(u){return null===u||"string"==typeof u||"number"==typeof u&&!ed(u)||u&&"object"==typeof u&&(0,qe.r3)(u,".sv")},gc=function(u,i,o,d){d&&void 0===i||oh((0,qe.gK)(u,"value"),i,o)},oh=function(u,i,o){const d=o instanceof Sr?new Rh(o,u):o;if(void 0===i)throw new Error(u+"contains undefined "+jc(d));if("function"==typeof i)throw new Error(u+"contains a function "+jc(d)+" with contents = "+i.toString());if(ed(i))throw new Error(u+"contains "+i.toString()+" "+jc(d));if("string"==typeof i&&i.length>Ol/3&&(0,qe.ug)(i)>Ol)throw new Error(u+"contains a string greater than "+Ol+" utf8 bytes "+jc(d)+" ('"+i.substring(0,50)+"...')");if(i&&"object"==typeof i){let g=!1,T=!1;if(eo(i,(P,z)=>{if(".value"===P)g=!0;else if(".priority"!==P&&".sv"!==P&&(T=!0,!Zl(P)))throw new Error(u+" contains an invalid key ("+P+") "+jc(d)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function sd(u,i){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(i),u.byteLength_+=(0,qe.ug)(i),Og(u)})(d,P),oh(u,z,d),function Oh(u){const i=u.parts_.pop();u.byteLength_-=(0,qe.ug)(i),u.parts_.length>0&&(u.byteLength_-=1)}(d)}),g&&T)throw new Error(u+' contains ".value" child '+jc(d)+" in addition to actual children.")}},tv=function(u,i,o,d){if(d&&void 0===i)return;const g=(0,qe.gK)(u,"values");if(!i||"object"!=typeof i||Array.isArray(i))throw new Error(g+" must be an object containing the children to replace.");const T=[];eo(i,(P,z)=>{const le=new Sr(P);if(oh(g,z,Zr(o,le)),".priority"===bf(le)&&!Fu(z))throw new Error(g+"contains an invalid value for '"+le.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");T.push(le)}),function(u,i){let o,d;for(o=0;o<i.length;o++){d=i[o];const T=Iu(d);for(let P=0;P<T.length;P++)if((".priority"!==T[P]||P!==T.length-1)&&!Zl(T[P]))throw new Error(u+"contains an invalid key ("+T[P]+") in path "+d.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}i.sort(xu);let g=null;for(o=0;o<i.length;o++){if(d=i[o],null!==g&&zs(g,d))throw new Error(u+"contains a path "+g.toString()+" that is ancestor of another path "+d.toString());g=d}}(g,T)},nv=function(u,i,o){if(!o||void 0!==i){if(ed(i))throw new Error((0,qe.gK)(u,"priority")+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Fu(i))throw new Error((0,qe.gK)(u,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},yd=function(u,i,o,d){if(!(d&&void 0===o||Zl(o)))throw new Error((0,qe.gK)(u,i)+'was an invalid key = "'+o+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},tm=function(u,i,o,d){if(!(d&&void 0===o||Jp(o)))throw new Error((0,qe.gK)(u,i)+'was an invalid path = "'+o+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},_c=function(u,i){if(".info"===ar(i))throw new Error(u+" failed = Can't modify data under /.info/")},Bv=function(u,i){const o=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!Zl(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==o.length&&!function(u){return u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),Jp(u)}(o))throw new Error((0,qe.gK)(u,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class iv{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Kf(u,i){let o=null;for(let d=0;d<i.length;d++){const g=i[d],T=g.getPath();null!==o&&!rd(T,o.path)&&(u.eventLists_.push(o),o=null),null===o&&(o={events:[],path:T}),o.events.push(g)}o&&u.eventLists_.push(o)}function n_(u,i,o){Kf(u,o),Zf(u,d=>rd(d,i))}function Ya(u,i,o){Kf(u,o),Zf(u,d=>zs(d,i)||zs(i,d))}function Zf(u,i){u.recursionDepth_++;let o=!0;for(let d=0;d<u.eventLists_.length;d++){const g=u.eventLists_[d];g&&(i(g.path)?(i_(u.eventLists_[d]),u.eventLists_[d]=null):o=!1)}o&&(u.eventLists_=[]),u.recursionDepth_--}function i_(u){for(let i=0;i<u.events.length;i++){const o=u.events[i];if(null!==o){u.events[i]=null;const d=o.getEventRunner();Zn&&gi("event: "+o.toString()),wu(d)}}}const Gh="repo_interrupt";class rv{constructor(i,o,d,g){this.repoInfo_=i,this.forceRestClient_=o,this.authTokenProvider_=d,this.appCheckProvider_=g,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new iv,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Bh(),this.transactionQueueTree_=new Qp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Qm(u){const o=u.infoData_.getNode(new Sr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+o}function zh(u){return function(u){return(u=u||{}).timestamp=u.timestamp||(new Date).getTime(),u}({timestamp:Qm(u)})}function s_(u,i,o,d,g){u.dataUpdateCount++;const T=new Sr(i);o=u.interceptServerDataCallback_?u.interceptServerDataCallback_(i,o):o;let P=[];if(g)if(d){const le=(0,qe.UI)(o,Te=>Xi(Te));P=function vd(u,i,o,d){const g=Yp(u,d);if(g){const T=Gm(g),P=T.path,z=T.queryId,le=xa(P,i),Te=es.fromObject(o);return Kp(u,P,new v(Xd(z),le,Te))}return[]}(u.serverSyncTree_,T,le,g)}else{const le=Xi(o);P=Gp(u.serverSyncTree_,T,le,g)}else if(d){const le=(0,qe.UI)(o,Te=>Xi(Te));P=function Gf(u,i,o){const d=es.fromObject(o);return Wp(u,new v({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,d))}(u.serverSyncTree_,T,le)}else{const le=Xi(o);P=$f(u.serverSyncTree_,T,le)}let z=T;P.length>0&&(z=yc(u,T)),Ya(u.eventQueue_,z,P)}function Bu(u,i){sv(u,"connected",i),!1===i&&function ov(u){Uu(u,"onDisconnectEvents");const i=zh(u),o=Bh();xf(u.onDisconnect_,Rr(),(g,T)=>{const P=Wm(g,T,u.serverSyncTree_,i);Oi(o,g,P)});let d=[];xf(o,Rr(),(g,T)=>{d=d.concat($f(u.serverSyncTree_,g,T));const P=tg(u,g);yc(u,P)}),u.onDisconnect_=Bh(),Ya(u.eventQueue_,Rr(),d)}(u)}function sv(u,i,o){const d=new Sr("/.info/"+i),g=Xi(o);u.infoData_.updateSnapshot(d,g);const T=$f(u.infoSyncTree_,d,g);Ya(u.eventQueue_,d,T)}function ah(u){return u.nextWriteId_++}function Xm(u,i,o,d,g){Uu(u,"set",{path:i.toString(),value:o,priority:d});const T=zh(u),P=Xi(o,d),z=zp(u.serverSyncTree_,i),le=Ym(P,z,T),Te=ah(u),_t=jm(u.serverSyncTree_,i,le,Te,!0);Kf(u.eventQueue_,_t),u.server_.put(i.toString(),P.val(!0),(Ut,mn)=>{const wn="ok"===Ut;wn||Js("set at "+i+" failed: "+Ut);const s=Lu(u.serverSyncTree_,Te,!wn);Ya(u.eventQueue_,i,s),vc(0,g,Ut,mn)});const wt=tg(u,i);yc(u,wt),Ya(u.eventQueue_,wt,[])}function Vu(u,i,o){u.server_.onDisconnectCancel(i.toString(),(d,g)=>{"ok"===d&&qd(u.onDisconnect_,i),vc(0,o,d,g)})}function qf(u,i,o,d){const g=Xi(o);u.server_.onDisconnectPut(i.toString(),g.val(!0),(T,P)=>{"ok"===T&&Oi(u.onDisconnect_,i,g),vc(0,d,T,P)})}function Pl(u,i,o){let d;d=".info"===ar(i._path)?$p(u.infoSyncTree_,i,o):$p(u.serverSyncTree_,i,o),n_(u.eventQueue_,i._path,d)}function Jm(u){u.persistentConnection_&&u.persistentConnection_.interrupt(Gh)}function Uu(u,...i){let o="";u.persistentConnection_&&(o=u.persistentConnection_.id+":"),gi(o,...i)}function vc(u,i,o,d){i&&wu(()=>{if("ok"===o)i(null);else{const g=(o||"error").toUpperCase();let T=g;d&&(T+=": "+d);const P=new Error(T);P.code=g,i(P)}})}function Cd(u,i,o){return zp(u.serverSyncTree_,i,o)||Zi.EMPTY_NODE}function wd(u,i=u.transactionQueueTree_){if(i||eg(u,i),rh(i)){const o=l_(u,i);(0,qe.hu)(o.length>0,"Sending zero length transaction queue"),o.every(g=>0===g.status)&&function Xf(u,i,o){const d=o.map(Te=>Te.currentWriteId),g=Cd(u,i,d);let T=g;const P=g.hash();for(let Te=0;Te<o.length;Te++){const _t=o[Te];(0,qe.hu)(0===_t.status,"tryToSendTransactionQueue_: items in queue should all be run."),_t.status=1,_t.retryCount++;const wt=xa(i,_t.path);T=T.updateChild(wt,_t.currentOutputSnapshotRaw)}const z=T.val(!0),le=i;u.server_.put(le.toString(),z,Te=>{Uu(u,"transaction put response",{path:le.toString(),status:Te});let _t=[];if("ok"===Te){const wt=[];for(let Ut=0;Ut<o.length;Ut++)o[Ut].status=2,_t=_t.concat(Lu(u.serverSyncTree_,o[Ut].currentWriteId)),o[Ut].onComplete&&wt.push(()=>o[Ut].onComplete(null,!0,o[Ut].currentOutputSnapshotResolved)),o[Ut].unwatcher();eg(u,ih(u.transactionQueueTree_,i)),wd(u,u.transactionQueueTree_),Ya(u.eventQueue_,i,_t);for(let Ut=0;Ut<wt.length;Ut++)wu(wt[Ut])}else{if("datastale"===Te)for(let wt=0;wt<o.length;wt++)o[wt].status=3===o[wt].status?4:0;else{Js("transaction at "+le.toString()+" failed: "+Te);for(let wt=0;wt<o.length;wt++)o[wt].status=4,o[wt].abortReason=Te}yc(u,i)}},P)}(u,Xp(i),o)}else Wf(i)&&ir(i,o=>{wd(u,o)})}function yc(u,i){const o=a_(u,i),d=Xp(o);return function Jf(u,i,o){if(0===i.length)return;const d=[];let g=[];const P=i.filter(z=>0===z.status).map(z=>z.currentWriteId);for(let z=0;z<i.length;z++){const le=i[z],Te=xa(o,le.path);let wt,_t=!1;if((0,qe.hu)(null!==Te,"rerunTransactionsUnderNode_: relativePath should not be null."),4===le.status)_t=!0,wt=le.abortReason,g=g.concat(Lu(u.serverSyncTree_,le.currentWriteId,!0));else if(0===le.status)if(le.retryCount>=25)_t=!0,wt="maxretry",g=g.concat(Lu(u.serverSyncTree_,le.currentWriteId,!0));else{const Ut=Cd(u,le.path,P);le.currentInputSnapshot=Ut;const mn=i[z].update(Ut.val());if(void 0!==mn){oh("transaction failed: Data returned ",mn,le.path);let wn=Xi(mn);"object"==typeof mn&&null!=mn&&(0,qe.r3)(mn,".priority")||(wn=wn.updatePriority(Ut.getPriority()));const e=le.currentWriteId,t=zh(u),a=Ym(wn,Ut,t);le.currentOutputSnapshotRaw=wn,le.currentOutputSnapshotResolved=a,le.currentWriteId=ah(u),P.splice(P.indexOf(e),1),g=g.concat(jm(u.serverSyncTree_,le.path,a,le.currentWriteId,le.applyLocally)),g=g.concat(Lu(u.serverSyncTree_,e,!0))}else _t=!0,wt="nodata",g=g.concat(Lu(u.serverSyncTree_,le.currentWriteId,!0))}Ya(u.eventQueue_,o,g),g=[],_t&&(i[z].status=2,setTimeout(i[z].unwatcher,Math.floor(0)),i[z].onComplete&&d.push("nodata"===wt?()=>i[z].onComplete(null,!1,i[z].currentInputSnapshot):()=>i[z].onComplete(new Error(wt),!1,null)))}eg(u,u.transactionQueueTree_);for(let z=0;z<d.length;z++)wu(d[z]);wd(u,u.transactionQueueTree_)}(u,l_(u,o),d),d}function a_(u,i){let o,d=u.transactionQueueTree_;for(o=ar(i);null!==o&&void 0===rh(d);)d=ih(d,o),o=ar(i=hs(i));return d}function l_(u,i){const o=[];return c_(u,i,o),o.sort((d,g)=>d.order-g.order),o}function c_(u,i,o){const d=rh(i);if(d)for(let g=0;g<d.length;g++)o.push(d[g]);ir(i,g=>{c_(u,g,o)})}function eg(u,i){const o=rh(i);if(o){let d=0;for(let g=0;g<o.length;g++)2!==o[g].status&&(o[d]=o[g],d++);o.length=d,Km(i,o.length>0?o:void 0)}ir(i,d=>{eg(u,d)})}function tg(u,i){const o=Xp(a_(u,i)),d=ih(u.transactionQueueTree_,i);return function Zm(u,i,o){let d=o?u:u.parent;for(;null!==d;){if(i(d))return!0;d=d.parent}}(d,g=>{ng(u,g)}),ng(u,d),ev(d,g=>{ng(u,g)}),o}function ng(u,i){const o=rh(i);if(o){const d=[];let g=[],T=-1;for(let P=0;P<o.length;P++)3===o[P].status||(1===o[P].status?((0,qe.hu)(T===P-1,"All SENT items should be at beginning of queue."),T=P,o[P].status=3,o[P].abortReason="set"):((0,qe.hu)(0===o[P].status,"Unexpected transaction status in abort"),o[P].unwatcher(),g=g.concat(Lu(u.serverSyncTree_,o[P].currentWriteId,!0)),o[P].onComplete&&d.push(o[P].onComplete.bind(null,new Error("set"),!1,null))));-1===T?Km(i,void 0):o.length=T+1,Ya(u.eventQueue_,Xp(i),g);for(let P=0;P<d.length;P++)wu(d[P])}}const bc=function(u,i){const o=py(u),d=o.namespace;return"firebase.com"===o.domain&&Xs(o.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!d||"undefined"===d)&&"localhost"!==o.domain&&Xs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),o.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Js("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Du(o.host,o.secure,d,"ws"===o.scheme||"wss"===o.scheme,i,"",d!==o.subdomain),path:new Sr(o.pathString)}},py=function(u){let i="",o="",d="",g="",T="",P=!0,z="https",le=443;if("string"==typeof u){let Te=u.indexOf("//");Te>=0&&(z=u.substring(0,Te-1),u=u.substring(Te+2));let _t=u.indexOf("/");-1===_t&&(_t=u.length);let wt=u.indexOf("?");-1===wt&&(wt=u.length),i=u.substring(0,Math.min(_t,wt)),_t<wt&&(g=function u_(u){let i="";const o=u.split("/");for(let d=0;d<o.length;d++)if(o[d].length>0){let g=o[d];try{g=decodeURIComponent(g.replace(/\+/g," "))}catch{}i+="/"+g}return i}(u.substring(_t,wt)));const Ut=function Qc(u){const i={};"?"===u.charAt(0)&&(u=u.substring(1));for(const o of u.split("&")){if(0===o.length)continue;const d=o.split("=");2===d.length?i[decodeURIComponent(d[0])]=decodeURIComponent(d[1]):Js(`Invalid query segment '${o}' in query '${u}'`)}return i}(u.substring(Math.min(u.length,wt)));Te=i.indexOf(":"),Te>=0?(P="https"===z||"wss"===z,le=parseInt(i.substring(Te+1),10)):Te=i.length;const mn=i.slice(0,Te);if("localhost"===mn.toLowerCase())o="localhost";else if(mn.split(".").length<=2)o=mn;else{const wn=i.indexOf(".");d=i.substring(0,wn).toLowerCase(),o=i.substring(wn+1),T=d}"ns"in Ut&&(T=Ut.ns)}return{host:i,port:le,domain:o,subdomain:d,secure:P,scheme:z,pathString:g,namespace:T}};class lh{constructor(i,o,d,g){this.eventType=i,this.eventRegistration=o,this.snapshot=d,this.prevName=g}getPath(){const i=this.snapshot.ref;return"value"===this.eventType?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,qe.Wl)(this.snapshot.exportVal())}}class ep{constructor(i,o,d){this.eventRegistration=i,this.error=o,this.path=d}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class d_{constructor(i,o){this.snapshotCallback=i,this.cancelCallback=o}onValue(i,o){this.snapshotCallback.call(null,i,o)}onCancel(i){return(0,qe.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}}class h_{constructor(i,o){this._repo=i,this._path=o}cancel(){const i=new qe.BH;return Vu(this._repo,this._path,i.wrapCallback(()=>{})),i.promise}remove(){_c("OnDisconnect.remove",this._path);const i=new qe.BH;return qf(this._repo,this._path,null,i.wrapCallback(()=>{})),i.promise}set(i){_c("OnDisconnect.set",this._path),gc("OnDisconnect.set",i,this._path,!1);const o=new qe.BH;return qf(this._repo,this._path,i,o.wrapCallback(()=>{})),o.promise}setWithPriority(i,o){_c("OnDisconnect.setWithPriority",this._path),gc("OnDisconnect.setWithPriority",i,this._path,!1),nv("OnDisconnect.setWithPriority",o,!1);const d=new qe.BH;return function Ka(u,i,o,d,g){const T=Xi(o,d);u.server_.onDisconnectPut(i.toString(),T.val(!0),(P,z)=>{"ok"===P&&Oi(u.onDisconnect_,i,T),vc(0,g,P,z)})}(this._repo,this._path,i,o,d.wrapCallback(()=>{})),d.promise}update(i){_c("OnDisconnect.update",this._path),tv("OnDisconnect.update",i,this._path,!1);const o=new qe.BH;return function Wh(u,i,o,d){if((0,qe.xb)(o))return gi("onDisconnect().update() called with empty data.  Don't do anything."),void vc(0,d,"ok",void 0);u.server_.onDisconnectMerge(i.toString(),o,(g,T)=>{"ok"===g&&eo(o,(P,z)=>{const le=Xi(z);Oi(u.onDisconnect_,Zr(i,P),le)}),vc(0,d,g,T)})}(this._repo,this._path,i,o.wrapCallback(()=>{})),o.promise}}class Pa{constructor(i,o,d,g){this._repo=i,this._path=o,this._queryParams=d,this._orderByCalled=g}get key(){return lr(this._path)?null:bf(this._path)}get ref(){return new Io(this._repo,this._path)}get _queryIdentifier(){const i=Zd(this._queryParams),o=bu(i);return"{}"===o?"default":o}get _queryObject(){return Zd(this._queryParams)}isEqual(i){if(!((i=(0,qe.m9)(i))instanceof Pa))return!1;const o=this._repo===i._repo,d=rd(this._path,i._path);return o&&d&&this._queryIdentifier===i._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Rg(u){let i="";for(let o=u.pieceNum_;o<u.pieces_.length;o++)""!==u.pieces_[o]&&(i+="/"+encodeURIComponent(String(u.pieces_[o])));return i||"/"}(this._path)}}function Yh(u,i){if(!0===u._orderByCalled)throw new Error(i+": You can't combine multiple orderBy calls.")}function Xc(u){let i=null,o=null;if(u.hasStart()&&(i=u.getIndexStartValue()),u.hasEnd()&&(o=u.getIndexEndValue()),u.getIndex()===vo){const d="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",g="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(u.hasStart()){if(u.getIndexStartName()!==Mo)throw new Error(d);if("string"!=typeof i)throw new Error(g)}if(u.hasEnd()){if(u.getIndexEndName()!==ea)throw new Error(d);if("string"!=typeof o)throw new Error(g)}}else if(u.getIndex()===$r){if(null!=i&&!Fu(i)||null!=o&&!Fu(o))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,qe.hu)(u.getIndex()instanceof Sp||u.getIndex()===Gd,"unknown index type."),null!=i&&"object"==typeof i||null!=o&&"object"==typeof o)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Kh(u){if(u.hasStart()&&u.hasEnd()&&u.hasLimit()&&!u.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Io extends Pa{constructor(i,o){super(i,o,new Yd,!1)}get parent(){const i=kh(this._path);return null===i?null:new Io(this._repo,i)}get root(){let i=this;for(;null!==i.parent;)i=i.parent;return i}}class Cc{constructor(i,o,d){this._node=i,this.ref=o,this._index=d}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){const o=new Sr(i),d=wc(this.ref,i);return new Cc(this._node.getChild(o),d,$r)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(d,g)=>i(new Cc(g,wc(this.ref,d),$r)))}hasChild(i){const o=new Sr(i);return!this._node.getChild(o).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function tp(u,i){return(u=(0,qe.m9)(u))._checkNotDeleted("ref"),void 0!==i?wc(u._root,i):u._root}function np(u,i){(u=(0,qe.m9)(u))._checkNotDeleted("refFromURL");const o=bc(i,u._repo.repoInfo_.nodeAdmin);Bv("refFromURL",o);const d=o.repoInfo;return!u._repo.repoInfo_.isCustomHost()&&d.host!==u._repo.repoInfo_.host&&Xs("refFromURL: Host name does not match the current database: (found "+d.host+" but expected "+u._repo.repoInfo_.host+")"),tp(u,o.path.toString())}function wc(u,i){return null===ar((u=(0,qe.m9)(u))._path)?(o=i,o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),tm("child","path",o,!1)):tm("child","path",i,!1),new Io(u._repo,Zr(u._path,i));var o}function ip(u,i){u=(0,qe.m9)(u),_c("set",u._path),gc("set",i,u._path,!1);const o=new qe.BH;return Xm(u._repo,u._path,i,null,o.wrapCallback(()=>{})),o.promise}function Ed(u,i){tv("update",i,u._path,!1);const o=new qe.BH;return function o_(u,i,o,d){Uu(u,"update",{path:i.toString(),value:o});let g=!0;const T=zh(u),P={};if(eo(o,(z,le)=>{g=!1,P[z]=Wm(Zr(i,z),Xi(le),u.serverSyncTree_,T)}),g)gi("update() called with empty data.  Don't do anything."),vc(0,d,"ok",void 0);else{const z=ah(u),le=function jp(u,i,o,d){!function Fg(u,i,o,d){(0,qe.hu)(d>u.lastWriteId,"Stacking an older merge on top of newer ones"),u.allWrites.push({path:i,children:o,writeId:d,visible:!0}),u.visibleWrites=Nu(u.visibleWrites,i,o),u.lastWriteId=d}(u.pendingWriteTree_,i,o,d);const g=es.fromObject(o);return Wp(u,new v({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,g))}(u.serverSyncTree_,i,P,z);Kf(u.eventQueue_,le),u.server_.merge(i.toString(),o,(Te,_t)=>{const wt="ok"===Te;wt||Js("update at "+i+" failed: "+Te);const Ut=Lu(u.serverSyncTree_,z,!wt),mn=Ut.length>0?yc(u,i):i;Ya(u.eventQueue_,mn,Ut),vc(0,d,Te,_t)}),eo(o,Te=>{const _t=tg(u,Zr(i,Te));yc(u,_t)}),Ya(u.eventQueue_,i,[])}}(u._repo,u._path,i,o.wrapCallback(()=>{})),o.promise}function cv(u){u=(0,qe.m9)(u);const i=new d_(()=>{}),o=new Zh(i);return function Vv(u,i,o){const d=function qg(u,i){const o=i._path;let d=null;u.syncPointTree_.foreachOnPath(o,(Te,_t)=>{const wt=xa(Te,o);d=d||Kl(_t,wt)});let g=u.syncPointTree_.get(o);g?d=d||Kl(g,Rr()):(g=new Bm,u.syncPointTree_=u.syncPointTree_.set(o,g));const T=null!=d,P=T?new O(d,!0,!1):null;return function z_(u){return Cs(u.viewCache_)}(Um(g,i,Am(u.pendingWriteTree_,i._path),T?P.getNode():Zi.EMPTY_NODE,T))}(u.serverSyncTree_,i);return null!=d?Promise.resolve(d):u.server_.get(i).then(g=>{const T=Xi(g).withIndex(i._queryParams.getIndex());let P;if(Ra(u.serverSyncTree_,i,o,!0),i._queryParams.loadsAllData())P=$f(u.serverSyncTree_,i._path,T);else{const z=Hh(u.serverSyncTree_,i);P=Gp(u.serverSyncTree_,i._path,T,z)}return Ya(u.eventQueue_,i._path,P),$p(u.serverSyncTree_,i,o,null,!0),T},g=>(Uu(u,"get for query "+(0,qe.Wl)(i)+" failed: "+g),Promise.reject(new Error(g))))}(u._repo,u,o).then(d=>new Cc(d,new Io(u._repo,u._path),u._queryParams.getIndex()))}class Zh{constructor(i){this.callbackContext=i}respondsTo(i){return"value"===i}createEvent(i,o){const d=o._queryParams.getIndex();return new lh("value",this,new Cc(i.snapshotNode,new Io(o._repo,o._path),d))}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,o){return this.callbackContext.hasCancelCallback?new ep(this,i,o):null}matches(i){return i instanceof Zh&&(!i.callbackContext||!this.callbackContext||i.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class qh{constructor(i,o){this.eventType=i,this.callbackContext=o}respondsTo(i){let o="children_added"===i?"child_added":i;return o="children_removed"===o?"child_removed":o,this.eventType===o}createCancelEvent(i,o){return this.callbackContext.hasCancelCallback?new ep(this,i,o):null}createEvent(i,o){(0,qe.hu)(null!=i.childName,"Child events should have a childName.");const d=wc(new Io(o._repo,o._path),i.childName),g=o._queryParams.getIndex();return new lh(i.type,this,new Cc(i.snapshotNode,d,g),i.prevName)}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,i.prevName)}matches(i){return i instanceof qh&&this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function ch(u,i,o,d,g){let T;if("object"==typeof d&&(T=void 0,g=d),"function"==typeof d&&(T=d),g&&g.onlyOnce){const le=o,Te=(_t,wt)=>{Pl(u._repo,u,z),le(_t,wt)};Te.userCallback=o.userCallback,Te.context=o.context,o=Te}const P=new d_(o,T||void 0),z="value"===i?new Zh(P):new qh(i,P);return function Qf(u,i,o){let d;d=".info"===ar(i._path)?Ra(u.infoSyncTree_,i,o):Ra(u.serverSyncTree_,i,o),n_(u.eventQueue_,i._path,d)}(u._repo,u,z),()=>Pl(u._repo,u,z)}function sg(u,i,o,d){return ch(u,"value",i,o,d)}function nm(u,i,o,d){return ch(u,"child_added",i,o,d)}function rp(u,i,o,d){return ch(u,"child_changed",i,o,d)}function og(u,i,o,d){return ch(u,"child_moved",i,o,d)}function Qh(u,i,o,d){return ch(u,"child_removed",i,o,d)}function ag(u,i,o){let d=null;const g=o?new d_(o):null;"value"===i?d=new Zh(g):i&&(d=new qh(i,g)),Pl(u._repo,u,d)}class hl{}class lg extends hl{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){gc("endAt",this._value,i._path,!0);const o=Mf(i._queryParams,this._value,this._key);if(Kh(o),Xc(o),i._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Pa(i._repo,i._path,o,i._orderByCalled)}}class Dd extends hl{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){gc("endBefore",this._value,i._path,!1);const o=function Kd(u,i,o){let d,g;return u.index_===vo?("string"==typeof i&&(i=Ou(i)),g=Mf(u,i,o)):(d=null==o?Mo:Ou(o),g=Mf(u,i,d)),g.endBeforeSet_=!0,g}(i._queryParams,this._value,this._key);if(Kh(o),Xc(o),i._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Pa(i._repo,i._path,o,i._orderByCalled)}}class p_ extends hl{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){gc("startAt",this._value,i._path,!0);const o=xp(i._queryParams,this._value,this._key);if(Kh(o),Xc(o),i._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Pa(i._repo,i._path,o,i._orderByCalled)}}class hv extends hl{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){gc("startAfter",this._value,i._path,!1);const o=function Sf(u,i,o){let d;if(u.index_===vo)"string"==typeof i&&(i=Tm(i)),d=xp(u,i,o);else{let g;g=null==o?ea:Tm(o),d=xp(u,i,g)}return d.startAfterSet_=!0,d}(i._queryParams,this._value,this._key);if(Kh(o),Xc(o),i._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Pa(i._repo,i._path,o,i._orderByCalled)}}class Hv extends hl{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Pa(i._repo,i._path,function Mm(u,i){const o=u.copy();return o.limitSet_=!0,o.limit_=i,o.viewFrom_="l",o}(i._queryParams,this._limit),i._orderByCalled)}}class m_ extends hl{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Pa(i._repo,i._path,function ul(u,i){const o=u.copy();return o.limitSet_=!0,o.limit_=i,o.viewFrom_="r",o}(i._queryParams,this._limit),i._orderByCalled)}}class ia extends hl{constructor(i){super(),this._path=i}_apply(i){Yh(i,"orderByChild");const o=new Sr(this._path);if(lr(o))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const d=new Sp(o),g=fc(i._queryParams,d);return Xc(g),new Pa(i._repo,i._path,g,!0)}}class Gv extends hl{_apply(i){Yh(i,"orderByKey");const o=fc(i._queryParams,vo);return Xc(o),new Pa(i._repo,i._path,o,!0)}}class __ extends hl{_apply(i){Yh(i,"orderByPriority");const o=fc(i._queryParams,$r);return Xc(o),new Pa(i._repo,i._path,o,!0)}}class v_ extends hl{_apply(i){Yh(i,"orderByValue");const o=fc(i._queryParams,Gd);return Xc(o),new Pa(i._repo,i._path,o,!0)}}class uh extends hl{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){if(gc("equalTo",this._value,i._path,!1),i._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(i._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new lg(this._value,this._key)._apply(new p_(this._value,this._key)._apply(i))}}function Jc(u,...i){let o=(0,qe.m9)(u);for(const d of i)o=d._apply(o);return o}(function Fv(u){(0,qe.hu)(!Up,"__referenceConstructor has already been defined"),Up=u})(Io),function Z_(u){(0,qe.hu)(!_d,"__referenceConstructor has already been defined"),_d=u}(Io);const eu={};function ug(u,i,o,d,g){let T=d||u.options.databaseURL;void 0===T&&(u.options.projectId||Xs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gi("Using default host for project ",u.options.projectId),T=`${u.options.projectId}-default-rtdb.firebaseio.com`);let le,Te,P=bc(T,g),z=P.repoInfo;typeof process<"u"&&process.env&&(Te=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Te?(le=!0,T=`http://${Te}?ns=${z.namespace}`,P=bc(T,g),z=P.repoInfo):le=!P.repoInfo.secure;const _t=g&&le?new Nd(Nd.OWNER):new pp(u.name,u.options,i);Bv("Invalid Firebase Database URL",P),lr(P.path)||Xs("Database URL must point to the root of a Firebase Database (not including a child path).");const wt=function Hu(u,i,o,d){let g=eu[i.name];g||(g={},eu[i.name]=g);let T=g[u.toURLString()];return T&&Xs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),T=new rv(u,false,o,d),g[u.toURLString()]=T,T}(z,u,_t,new Ia(u.name,o));return new pv(wt,u)}class pv{constructor(i,o){this._repoInternal=i,this.app=o,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function qm(u,i,o){if(u.stats_=id(u.repoInfo_),u.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)u.server_=new Fh(u.repoInfo_,(d,g,T,P)=>{s_(u,d,g,T,P)},u.authTokenProvider_,u.appCheckProvider_),setTimeout(()=>Bu(u,!0),0);else{if(typeof o<"u"&&null!==o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,qe.Wl)(o)}catch(d){throw new Error("Invalid authOverride provided: "+d)}}u.persistentConnection_=new cl(u.repoInfo_,i,(d,g,T,P)=>{s_(u,d,g,T,P)},d=>{Bu(u,d)},d=>{!function bd(u,i){eo(i,(o,d)=>{sv(u,o,d)})}(u,d)},u.authTokenProvider_,u.appCheckProvider_,o),u.server_=u.persistentConnection_}u.authTokenProvider_.addTokenChangeListener(d=>{u.server_.refreshAuthToken(d)}),u.appCheckProvider_.addTokenChangeListener(d=>{u.server_.refreshAppCheckToken(d.token)}),u.statsReporter_=function L_(u,i){const o=u.toString();return nd[o]||(nd[o]=i()),nd[o]}(u.repoInfo_,()=>new ud(u.stats_,u.server_)),u.infoData_=new Im,u.infoSyncTree_=new jf({startListening:(d,g,T,P)=>{let z=[];const le=u.infoData_.getNode(d._path);return le.isEmpty()||(z=$f(u.infoSyncTree_,d._path,le),setTimeout(()=>{P("ok")},0)),z},stopListening:()=>{}}),sv(u,"connected",!1),u.serverSyncTree_=new jf({startListening:(d,g,T,P)=>(u.server_.listen(d,T,g,(z,le)=>{const Te=P(z,le);Ya(u.eventQueue_,d._path,Te)}),[]),stopListening:(d,g)=>{u.server_.unlisten(d,g)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Io(this._repo,Rr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function dg(u,i){const o=eu[i];(!o||o[u.key]!==u)&&Xs(`Database ${i}(${u.repoInfo_}) has already been deleted.`),Jm(u),delete o[u.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){null===this._rootInternal&&Xs("Cannot call "+i+" on a deleted database.")}}function tu(){Ag.IS_TRANSPORT_INITIALIZED&&Js("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function nu(){tu(),Tu.forceDisallow()}function iu(){tu(),oc.forceDisallow(),Tu.forceAllow()}function Kv(u,i){Ei(u,i)}const b_={".sv":"timestamp"};class Zv{constructor(i,o){this.committed=i,this.snapshot=o}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}cl.prototype.simpleListen=function(u,i){this.sendRequest("q",{p:u},i)},cl.prototype.echo=function(u,i){this.sendRequest("echo",{d:u},i)},function gv(u){Bc(_r.SDK_VERSION),(0,_r._registerComponent)(new ur.wA("database",(i,{instanceIdentifier:o})=>ug(i.getProvider("app").getImmediate(),i.getProvider("auth-internal"),i.getProvider("app-check-internal"),o),"PUBLIC").setMultipleInstances(!0)),(0,_r.registerVersion)(ya,Ma,u),(0,_r.registerVersion)(ya,Ma,"esm2017")}();const vv=new ll.Yd("@firebase/database-compat"),w_=function(u){vv.warn("FIREBASE WARNING: "+u)};class D_{constructor(i){this._delegate=i}cancel(i){(0,qe.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,qe.Wj)("OnDisconnect.cancel","onComplete",i,!0);const o=this._delegate.cancel();return i&&o.then(()=>i(null),d=>i(d)),o}remove(i){(0,qe.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,qe.Wj)("OnDisconnect.remove","onComplete",i,!0);const o=this._delegate.remove();return i&&o.then(()=>i(null),d=>i(d)),o}set(i,o){(0,qe.Dv)("OnDisconnect.set",1,2,arguments.length),(0,qe.Wj)("OnDisconnect.set","onComplete",o,!0);const d=this._delegate.set(i);return o&&d.then(()=>o(null),g=>o(g)),d}setWithPriority(i,o,d){(0,qe.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,qe.Wj)("OnDisconnect.setWithPriority","onComplete",d,!0);const g=this._delegate.setWithPriority(i,o);return d&&g.then(()=>d(null),T=>d(T)),g}update(i,o){if((0,qe.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(i)){const g={};for(let T=0;T<i.length;++T)g[""+T]=i[T];i=g,w_("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,qe.Wj)("OnDisconnect.update","onComplete",o,!0);const d=this._delegate.update(i);return o&&d.then(()=>o(null),g=>o(g)),d}}class yv{constructor(i,o){this.committed=i,this.snapshot=o}toJSON(){return(0,qe.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class fh{constructor(i,o){this._database=i,this._delegate=o}val(){return(0,qe.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,qe.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,qe.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,qe.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(i){return(0,qe.Dv)("DataSnapshot.child",0,1,arguments.length),i=String(i),tm("DataSnapshot.child","path",i,!1),new fh(this._database,this._delegate.child(i))}hasChild(i){return(0,qe.Dv)("DataSnapshot.hasChild",1,1,arguments.length),tm("DataSnapshot.hasChild","path",i,!1),this._delegate.hasChild(i)}getPriority(){return(0,qe.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(i){return(0,qe.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,qe.Wj)("DataSnapshot.forEach","action",i,!1),this._delegate.forEach(o=>i(new fh(this._database,o)))}hasChildren(){return(0,qe.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,qe.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,qe.Dv)("DataSnapshot.ref",0,0,arguments.length),new fl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Na{constructor(i,o){this.database=i,this._delegate=o}on(i,o,d,g){var T;(0,qe.Dv)("Query.on",2,4,arguments.length),(0,qe.Wj)("Query.on","callback",o,!1);const P=Na.getCancelAndContextArgs_("Query.on",d,g),z=(Te,_t)=>{o.call(P.context,new fh(this.database,Te),_t)};z.userCallback=o,z.context=P.context;const le=null===(T=P.cancel)||void 0===T?void 0:T.bind(P.context);switch(i){case"value":return sg(this._delegate,z,le),o;case"child_added":return nm(this._delegate,z,le),o;case"child_removed":return Qh(this._delegate,z,le),o;case"child_changed":return rp(this._delegate,z,le),o;case"child_moved":return og(this._delegate,z,le),o;default:throw new Error((0,qe.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(i,o,d){if((0,qe.Dv)("Query.off",0,3,arguments.length),function(u,i,o){if(void 0!==i)switch(i){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,qe.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,i),(0,qe.Wj)("Query.off","callback",o,!0),(0,qe.lb)("Query.off","context",d,!0),o){const g=()=>{};g.userCallback=o,g.context=d,ag(this._delegate,i,g)}else ag(this._delegate,i)}get(){return cv(this._delegate).then(i=>new fh(this.database,i))}once(i,o,d,g){(0,qe.Dv)("Query.once",1,4,arguments.length),(0,qe.Wj)("Query.once","callback",o,!0);const T=Na.getCancelAndContextArgs_("Query.once",d,g),P=new qe.BH,z=(Te,_t)=>{const wt=new fh(this.database,Te);o&&o.call(T.context,wt,_t),P.resolve(wt)};z.userCallback=o,z.context=T.context;const le=Te=>{T.cancel&&T.cancel.call(T.context,Te),P.reject(Te)};switch(i){case"value":sg(this._delegate,z,le,{onlyOnce:!0});break;case"child_added":nm(this._delegate,z,le,{onlyOnce:!0});break;case"child_removed":Qh(this._delegate,z,le,{onlyOnce:!0});break;case"child_changed":rp(this._delegate,z,le,{onlyOnce:!0});break;case"child_moved":og(this._delegate,z,le,{onlyOnce:!0});break;default:throw new Error((0,qe.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return P.promise}limitToFirst(i){return(0,qe.Dv)("Query.limitToFirst",1,1,arguments.length),new Na(this.database,Jc(this._delegate,function jv(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Hv(u)}(i)))}limitToLast(i){return(0,qe.Dv)("Query.limitToLast",1,1,arguments.length),new Na(this.database,Jc(this._delegate,function $v(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new m_(u)}(i)))}orderByChild(i){return(0,qe.Dv)("Query.orderByChild",1,1,arguments.length),new Na(this.database,Jc(this._delegate,function g_(u){if("$key"===u)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===u)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===u)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return tm("orderByChild","path",u,!1),new ia(u)}(i)))}orderByKey(){return(0,qe.Dv)("Query.orderByKey",0,0,arguments.length),new Na(this.database,Jc(this._delegate,function zv(){return new Gv}()))}orderByPriority(){return(0,qe.Dv)("Query.orderByPriority",0,0,arguments.length),new Na(this.database,Jc(this._delegate,function fv(){return new __}()))}orderByValue(){return(0,qe.Dv)("Query.orderByValue",0,0,arguments.length),new Na(this.database,Jc(this._delegate,function y_(){return new v_}()))}startAt(i=null,o){return(0,qe.Dv)("Query.startAt",0,2,arguments.length),new Na(this.database,Jc(this._delegate,function dv(u=null,i){return yd("startAt","key",i,!0),new p_(u,i)}(i,o)))}startAfter(i=null,o){return(0,qe.Dv)("Query.startAfter",0,2,arguments.length),new Na(this.database,Jc(this._delegate,function Uv(u,i){return yd("startAfter","key",i,!0),new hv(u,i)}(i,o)))}endAt(i=null,o){return(0,qe.Dv)("Query.endAt",0,2,arguments.length),new Na(this.database,Jc(this._delegate,function sp(u,i){return yd("endAt","key",i,!0),new lg(u,i)}(i,o)))}endBefore(i=null,o){return(0,qe.Dv)("Query.endBefore",0,2,arguments.length),new Na(this.database,Jc(this._delegate,function uv(u,i){return yd("endBefore","key",i,!0),new Dd(u,i)}(i,o)))}equalTo(i,o){return(0,qe.Dv)("Query.equalTo",1,2,arguments.length),new Na(this.database,Jc(this._delegate,function cg(u,i){return yd("equalTo","key",i,!0),new uh(u,i)}(i,o)))}toString(){return(0,qe.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,qe.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(i){if((0,qe.Dv)("Query.isEqual",1,1,arguments.length),!(i instanceof Na))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(i._delegate)}static getCancelAndContextArgs_(i,o,d){const g={cancel:void 0,context:void 0};if(o&&d)g.cancel=o,(0,qe.Wj)(i,"cancel",g.cancel,!0),g.context=d,(0,qe.lb)(i,"context",g.context,!0);else if(o)if("object"==typeof o&&null!==o)g.context=o;else{if("function"!=typeof o)throw new Error((0,qe.gK)(i,"cancelOrContext")+" must either be a cancel callback or a context object.");g.cancel=o}return g}get ref(){return new fl(this.database,new Io(this._delegate._repo,this._delegate._path))}}class fl extends Na{constructor(i,o){super(i,new Pa(o._repo,o._path,new Yd,!1)),this.database=i,this._delegate=o}getKey(){return(0,qe.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(i){return(0,qe.Dv)("Reference.child",1,1,arguments.length),"number"==typeof i&&(i=String(i)),new fl(this.database,wc(this._delegate,i))}getParent(){(0,qe.Dv)("Reference.parent",0,0,arguments.length);const i=this._delegate.parent;return i?new fl(this.database,i):null}getRoot(){return(0,qe.Dv)("Reference.root",0,0,arguments.length),new fl(this.database,this._delegate.root)}set(i,o){(0,qe.Dv)("Reference.set",1,2,arguments.length),(0,qe.Wj)("Reference.set","onComplete",o,!0);const d=ip(this._delegate,i);return o&&d.then(()=>o(null),g=>o(g)),d}update(i,o){if((0,qe.Dv)("Reference.update",1,2,arguments.length),Array.isArray(i)){const g={};for(let T=0;T<i.length;++T)g[""+T]=i[T];i=g,w_("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}_c("Reference.update",this._delegate._path),(0,qe.Wj)("Reference.update","onComplete",o,!0);const d=Ed(this._delegate,i);return o&&d.then(()=>o(null),g=>o(g)),d}setWithPriority(i,o,d){(0,qe.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,qe.Wj)("Reference.setWithPriority","onComplete",d,!0);const g=function rg(u,i,o){if(_c("setWithPriority",u._path),gc("setWithPriority",i,u._path,!1),nv("setWithPriority",o,!1),".length"===u.key||".keys"===u.key)throw"setWithPriority failed: "+u.key+" is a read-only object.";const d=new qe.BH;return Xm(u._repo,u._path,i,o,d.wrapCallback(()=>{})),d.promise}(this._delegate,i,o);return d&&g.then(()=>d(null),T=>d(T)),g}remove(i){(0,qe.Dv)("Reference.remove",0,1,arguments.length),(0,qe.Wj)("Reference.remove","onComplete",i,!0);const o=function f_(u){return _c("remove",u._path),ip(u,null)}(this._delegate);return i&&o.then(()=>i(null),d=>i(d)),o}transaction(i,o,d){(0,qe.Dv)("Reference.transaction",1,3,arguments.length),(0,qe.Wj)("Reference.transaction","transactionUpdate",i,!1),(0,qe.Wj)("Reference.transaction","onComplete",o,!0),function(u,i,o,d){if(void 0!==o&&"boolean"!=typeof o)throw new Error((0,qe.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,d);const g=function my(u,i,o){var d;if(u=(0,qe.m9)(u),_c("Reference.transaction",u._path),".length"===u.key||".keys"===u.key)throw"Reference.transaction failed: "+u.key+" is a read-only object.";const g=null===(d=o?.applyLocally)||void 0===d||d,T=new qe.BH,z=sg(u,()=>{});return function Es(u,i,o,d,g,T){Uu(u,"transaction on "+i);const P={path:i,update:o,onComplete:d,status:null,order:Ee(),applyLocally:T,retryCount:0,unwatcher:g,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},z=Cd(u,i,void 0);P.currentInputSnapshot=z;const le=P.update(z.val());if(void 0===le)P.unwatcher(),P.currentOutputSnapshotRaw=null,P.currentOutputSnapshotResolved=null,P.onComplete&&P.onComplete(null,!1,P.currentInputSnapshot);else{oh("transaction failed: Data returned ",le,P.path),P.status=0;const Te=ih(u.transactionQueueTree_,i),_t=rh(Te)||[];let wt;_t.push(P),Km(Te,_t),"object"==typeof le&&null!==le&&(0,qe.r3)(le,".priority")?(wt=(0,qe.DV)(le,".priority"),(0,qe.hu)(Fu(wt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):wt=(zp(u.serverSyncTree_,i)||Zi.EMPTY_NODE).getPriority().val();const Ut=zh(u),mn=Xi(le,wt),wn=Ym(mn,z,Ut);P.currentOutputSnapshotRaw=mn,P.currentOutputSnapshotResolved=wn,P.currentWriteId=ah(u);const s=jm(u.serverSyncTree_,i,wn,P.currentWriteId,P.applyLocally);Ya(u.eventQueue_,i,s),wd(u,u.transactionQueueTree_)}}(u._repo,u._path,i,(le,Te,_t)=>{let wt=null;le?T.reject(le):(wt=new Cc(_t,new Io(u._repo,u._path),$r),T.resolve(new Zv(Te,wt)))},z,g),T.promise}(this._delegate,i,{applyLocally:d}).then(T=>new yv(T.committed,new fh(this.database,T.snapshot)));return o&&g.then(T=>o(null,T.committed,T.snapshot),T=>o(T,!1,null)),g}setPriority(i,o){(0,qe.Dv)("Reference.setPriority",1,2,arguments.length),(0,qe.Wj)("Reference.setPriority","onComplete",o,!0);const d=function ig(u,i){u=(0,qe.m9)(u),_c("setPriority",u._path),nv("setPriority",i,!1);const o=new qe.BH;return Xm(u._repo,Zr(u._path,".priority"),i,null,o.wrapCallback(()=>{})),o.promise}(this._delegate,i);return o&&d.then(()=>o(null),g=>o(g)),d}push(i,o){(0,qe.Dv)("Reference.push",0,2,arguments.length),(0,qe.Wj)("Reference.push","onComplete",o,!0);const d=function lv(u,i){u=(0,qe.m9)(u),_c("push",u._path),gc("push",i,u._path,!0);const o=Qm(u._repo),d=Df(o),g=wc(u,d),T=wc(u,d);let P;return P=null!=i?ip(T,i).then(()=>T):Promise.resolve(T),g.then=P.then.bind(P),g.catch=P.then.bind(P,void 0),g}(this._delegate,i),g=d.then(P=>new fl(this.database,P));o&&g.then(()=>o(null),P=>o(P));const T=new fl(this.database,d);return T.then=g.then.bind(g),T.catch=g.catch.bind(g,void 0),T}onDisconnect(){return _c("Reference.onDisconnect",this._delegate._path),new D_(new h_(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class op{constructor(i,o){this._delegate=i,this.app=o,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:nu,forceLongPolling:iu}}useEmulator(i,o,d={}){!function hg(u,i,o,d={}){(u=(0,qe.m9)(u))._checkNotDeleted("useEmulator"),u._instanceStarted&&Xs("Cannot call useEmulator() after instance has already been initialized.");const g=u._repoInternal;let T;if(g.repoInfo_.nodeAdmin)d.mockUserToken&&Xs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),T=new Nd(Nd.OWNER);else if(d.mockUserToken){const P="string"==typeof d.mockUserToken?d.mockUserToken:(0,qe.Sg)(d.mockUserToken,u.app.options.projectId);T=new Nd(P)}!function Jh(u,i,o,d){u.repoInfo_=new Du(`${i}:${o}`,!1,u.repoInfo_.namespace,u.repoInfo_.webSocketOnly,u.repoInfo_.nodeAdmin,u.repoInfo_.persistenceKey,u.repoInfo_.includeNamespaceInQueryParams),d&&(u.authTokenProvider_=d)}(g,i,o,T)}(this._delegate,i,o,d)}ref(i){if((0,qe.Dv)("database.ref",0,1,arguments.length),i instanceof fl){const o=np(this._delegate,i.toString());return new fl(this,o)}{const o=tp(this._delegate,i);return new fl(this,o)}}refFromURL(i){(0,qe.Dv)("database.refFromURL",1,1,arguments.length);const d=np(this._delegate,i);return new fl(this,d)}goOffline(){return(0,qe.Dv)("database.goOffline",0,0,arguments.length),function mv(u){(u=(0,qe.m9)(u))._checkNotDeleted("goOffline"),Jm(u._repo)}(this._delegate)}goOnline(){return(0,qe.Dv)("database.goOnline",0,0,arguments.length),function Yv(u){(u=(0,qe.m9)(u))._checkNotDeleted("goOnline"),function ts(u){u.persistentConnection_&&u.persistentConnection_.resume(Gh)}(u._repo)}(this._delegate)}}op.ServerValue={TIMESTAMP:function ju(){return b_}(),increment:u=>function C_(u){return{".sv":{increment:u}}}(u)};var pg=Object.freeze({__proto__:null,initStandalone:function bv({app:u,url:i,version:o,customAuthImpl:d,namespace:g,nodeAdmin:T=!1}){Bc(o);const P=new ur.zt("auth-internal",new ur.H0("database-standalone"));return P.setComponent(new ur.wA("auth-internal",()=>d,"PRIVATE")),{instance:new op(ug(u,P,void 0,i,T),u),namespace:g}}});const Cv=op.ServerValue;function Ev(u){return null==u}function Dv(u){return"function"==typeof u.set}function S_(u,i){return Dv(i)?i:u.ref(i)}function rm(u,i){if(function im(u){return"string"==typeof u}(u))return i.stringCase();if(Dv(u))return i.firebaseCase();if(function T_(u){return"function"==typeof u.exportVal}(u))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof u)}function sm(u,i,o="on",d=sc.P){return new Me.y(g=>{let T=null;return T=u[o](i,(P,z)=>{d.schedule(()=>{g.next({snapshot:P,prevKey:z})}),"once"===o&&d.schedule(()=>g.complete())},P=>{d.schedule(()=>g.error(P))}),"on"===o?{unsubscribe(){null!=T&&u.off(i,T)}}:{unsubscribe(){}}}).pipe((0,Qn.U)(g=>{const{snapshot:T,prevKey:P}=g;let z=null;return T.exists()&&(z=T.key),{type:i,payload:T,prevKey:P,key:z}}),(0,Eh.B)())}function M_(u,i){const o=u.length;for(let d=0;d<o;d++)if(u[d].payload.key===i)return d;return-1}function Ec(u,i){const{payload:o,prevKey:d,key:g}=i,T=M_(u,g),P=function ef(u,i){if(Ev(i))return 0;{const o=M_(u,i);return-1===o?u.length:o+1}}(u,d);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let z=null;i.payload.forEach(le=>{const Te={payload:le,type:"value",prevKey:z,key:le.key};return z=le.key,u=[...u,Te],!1})}return u;case"child_added":if(T>-1){const z=u[T-1];(z&&z.key||null)!==d&&(u=u.filter(le=>le.payload.key!==o.key)).splice(P,0,i)}else{if(null==d)return[i,...u];(u=u.slice()).splice(P,0,i)}return u;case"child_removed":return u.filter(z=>z.payload.key!==o.key);case"child_changed":return u.map(z=>z.payload.key===g?i:z);case"child_moved":if(T>-1){const z=u.splice(T,1)[0];return(u=u.slice()).splice(P,0,z),u}return u;default:return u}}function Za(u){return(Ev(u)||0===u.length)&&(u=["child_added","child_removed","child_changed","child_moved"]),u}function I_(u,i,o){return function Tv(u,i,o){return sm(u,"value","once",o).pipe((0,Ni.w)(d=>{const g=[(0,dt.of)(d)];return i.forEach(T=>g.push(sm(u,T,"on",o))),(0,Qu.T)(...g).pipe((0,jl.R)(Ec,[]))}),(0,Cg.x)())}(u,i=Za(i),o)}function x_(u,i,o){const d=(i=Za(i)).map(g=>sm(u,g,"on",o));return(0,Qu.T)(...d)}function A_(u,i){return function(d,g){return rm(d,{stringCase:()=>u.child(d)[i](g),firebaseCase:()=>d[i](g),snapshotCase:()=>d.ref[i](g)})}}function mg(u){return function(o){return o?rm(o,{stringCase:()=>u.child(o).remove(),firebaseCase:()=>o.remove(),snapshotCase:()=>o.ref.remove()}):u.remove()}}function Td(u,i){return function(){return sm(u,"value","on",i)}}!function wv(u){u.INTERNAL.registerComponent(new ur.wA("database-compat",(i,{instanceIdentifier:o})=>{const d=i.getProvider("app-compat").getImmediate(),g=i.getProvider("database").getImmediate({identifier:o});return new op(g,d)},"PUBLIC").setServiceProps({Reference:fl,Query:Na,Database:op,DataSnapshot:fh,enableLogging:Kv,INTERNAL:pg,ServerValue:Cv}).setMultipleInstances(!0)),u.registerVersion("@firebase/database-compat","0.2.10")}(Hi.Z);const ph=new N.OlP("angularfire2.realtimeDatabaseURL"),Sv=new N.OlP("angularfire2.database.use-emulator");let Mv=(()=>{class u{constructor(o,d,g,T,P,z,le,Te,_t,wt,Ut,mn,wn,s,e){this.schedulers=z;const t=le,a=(0,ve.on)(o,P,d);Te&&(0,q.nw)(a,P,_t,Ut,mn,wn,wt,s),this.database=(0,ve.cc)(`${a.name}.database.${g}`,"AngularFireDatabase",a.name,()=>{const f=P.runOutsideAngular(()=>a.database(g||void 0));return t&&f.useEmulator(...t),f},[t])}list(o,d){const g=this.schedulers.ngZone.runOutsideAngular(()=>S_(this.database,o));let T=g;return d&&(T=d(g)),function tf(u,i){const o=i.schedulers.outsideAngular,d=i.schedulers.ngZone.run(()=>u.ref);return{query:u,update:A_(d,"update"),set:A_(d,"set"),push:g=>d.push(g),remove:mg(d),snapshotChanges:g=>I_(u,g,o).pipe(bi.iC),stateChanges:g=>x_(u,g,o).pipe(bi.iC),auditTrail:g=>function om(u,i,o){return function qa(u,i,o){return function am(u,i){return sm(u,"value","on",i).pipe((0,Qn.U)(o=>{let d;return o.payload.forEach(g=>(d=g.key,!1)),{data:o,lastKeyToLoad:d}}))}(u,o).pipe(function Tl(...u){return i=>{let o;return"function"==typeof u[u.length-1]&&(o=u.pop()),i.lift(new Lc(u,o))}}(i),(0,Qn.U)(([g,T])=>{const P=g.lastKeyToLoad,z=T.map(le=>le.key);return{actions:T,lastKeyToLoad:P,loadedKeys:z}}),function Ju(u){return i=>i.lift(new hp(u))}(g=>-1===g.loadedKeys.indexOf(g.lastKeyToLoad)),(0,Qn.U)(g=>g.actions))}(u,x_(u,i).pipe((0,jl.R)((g,T)=>[...g,T],[])),o)}(u,g,o).pipe(bi.iC),valueChanges:(g,T)=>I_(u,g,o).pipe((0,Qn.U)(z=>z.map(le=>T&&T.idField?Object.assign(Object.assign({},le.payload.val()),{[T.idField]:le.key}):le.payload.val())),bi.iC)}}(T,this)}object(o){return function gg(u,i){return{query:u,snapshotChanges:()=>Td(u,i.schedulers.outsideAngular)().pipe(bi.iC),update:o=>u.ref.update(o),set:o=>u.ref.set(o),remove:()=>u.ref.remove(),valueChanges:()=>Td(u,i.schedulers.outsideAngular)().pipe(bi.iC,(0,Qn.U)(d=>d.payload.exists()?d.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>S_(this.database,o)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return u.\u0275fac=function(o){return new(o||u)(N.LFG(ve.Dh),N.LFG(ve.xv,8),N.LFG(ph,8),N.LFG(N.Lbi),N.LFG(N.R0b),N.LFG(bi.HU),N.LFG(Sv,8),N.LFG(q.zQ,8),N.LFG(q.Qv,8),N.LFG(q.L6,8),N.LFG(q._Q,8),N.LFG(q.rT,8),N.LFG(q.lh,8),N.LFG(q.f7,8),N.LFG(uf.nm,8))},u.\u0275prov=N.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),k_=(()=>{class u{constructor(){cp.Z.registerVersion("angularfire",bi.q4.full,"rtdb-compat")}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=N.oAB({type:u}),u.\u0275inj=N.cJS({providers:[Mv]}),u})();const su_firebase={apiKey:"AIzaSyAbfwdNhpa8YU4m8KocpAWLXnyrrso6OXQ",authDomain:"todo-list-sadad.firebaseapp.com",databaseURL:"https://todo-list-sadad.firebaseio.com",projectId:"todo-list-sadad",storageBucket:"todo-list-sadad.appspot.com",messagingSenderId:"1076791856514",appId:"1:1076791856514:web:d956369c1008674069d39b",measurementId:"G-KNGLJ9G5M9"};var mh=k(5938),Iv=k(4006),Xv=k(2666),nf=k(1251),Jv=k(7185),lm=k(8704);let R_=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=N.oAB({type:u,bootstrap:[W]}),u.\u0275inj=N.cJS({providers:[{provide:mh.WI,useValue:[]},{provide:mh.Bq,useValue:{hasBackdrop:!0}}],imports:[p.b2,Ja,Zo,Iv.u5,ve.hO.initializeApp(su_firebase),q.ww,Nc.yb,$o,k_,se.ez,Iv.UX,Xv.LayoutModule,lm.u,nf.m,Jv.Rh.forRoot(),Jv.Rh.forRoot({timeOut:1e4,positionClass:"toast-bottom-right",preventDuplicates:!0})]}),u})();(0,N.G48)(),p.q6().bootstrapModule(R_).catch(u=>console.error(u))},5867:(_n,vt,k)=>{"use strict";k.d(vt,{C6:()=>p.getApps,Mq:()=>p.getApp});var p=k(9681);(0,p.registerVersion)("firebase","9.13.0","app")},127:(_n,vt,k)=>{"use strict";k.d(vt,{Z:()=>p.Z});var p=k(3942);p.Z.registerVersion("firebase","9.13.0","app-compat")},5881:(_n,vt,k)=>{"use strict";k.r(vt);var p=k(5861),N=k(3942),_=k(732),ne=k(2090),we=(k(9681),k(1877),k(4859));function fe(){return window}function me(){return(me=(0,p.Z)(function*(X,K,he){var Xe;const{BuildInfo:Et}=fe();(0,_.ap)(K.sessionId,"AuthEvent did not contain a session ID");const dn=yield mt(K.sessionId),fn={};return(0,_.aq)()?fn.ibi=Et.packageName:(0,_.ar)()?fn.apn=Et.packageName:(0,_.as)(X,"operation-not-supported-in-this-environment"),Et.displayName&&(fn.appDisplayName=Et.displayName),fn.sessionId=dn,(0,_.at)(X,he,K.type,void 0,null!==(Xe=K.eventId)&&void 0!==Xe?Xe:void 0,fn)})).apply(this,arguments)}function Pe(){return(Pe=(0,p.Z)(function*(X){const{BuildInfo:K}=fe(),he={};(0,_.aq)()?he.iosBundleId=K.packageName:(0,_.ar)()?he.androidPackageName=K.packageName:(0,_.as)(X,"operation-not-supported-in-this-environment"),yield(0,_.au)(X,he)})).apply(this,arguments)}function je(){return(je=(0,p.Z)(function*(X,K,he){const{cordova:Xe}=fe();let Et=()=>{};try{yield new Promise((dn,fn)=>{let ze=null;function $e(){var De;dn();const Ce=null===(De=Xe.plugins.browsertab)||void 0===De?void 0:De.close;"function"==typeof Ce&&Ce(),"function"==typeof he?.close&&he.close()}function He(){ze||(ze=window.setTimeout(()=>{fn((0,_.aw)(X,"redirect-cancelled-by-user"))},2e3))}function Ye(){"visible"===document?.visibilityState&&He()}K.addPassiveListener($e),document.addEventListener("resume",He,!1),(0,_.ar)()&&document.addEventListener("visibilitychange",Ye,!1),Et=()=>{K.removePassiveListener($e),document.removeEventListener("resume",He,!1),document.removeEventListener("visibilitychange",Ye,!1),ze&&window.clearTimeout(ze)}})}finally{Et()}})).apply(this,arguments)}function mt(X){return jt.apply(this,arguments)}function jt(){return(jt=(0,p.Z)(function*(X){const K=ht(X),he=yield crypto.subtle.digest("SHA-256",K);return Array.from(new Uint8Array(he)).map(Et=>Et.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ht(X){if((0,_.ap)(/[0-9a-zA-Z]+/.test(X),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(X);const K=new ArrayBuffer(X.length),he=new Uint8Array(K);for(let Xe=0;Xe<X.length;Xe++)he[Xe]=X.charCodeAt(Xe);return he}class yt extends _.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(K=>{this.resolveInialized=K})}addPassiveListener(K){this.passiveListeners.add(K)}removePassiveListener(K){this.passiveListeners.delete(K)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(K){return this.resolveInialized(),this.passiveListeners.forEach(he=>he(K)),super.onEvent(K)}initialized(){var K=this;return(0,p.Z)(function*(){yield K.initPromise})()}}function pt(X){return tt.apply(this,arguments)}function tt(){return(tt=(0,p.Z)(function*(X){const K=yield We()._get(Ot(X));return K&&(yield We()._remove(Ot(X))),K})).apply(this,arguments)}function Lt(){const X=[],K="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let he=0;he<20;he++){const Xe=Math.floor(Math.random()*K.length);X.push(K.charAt(Xe))}return X.join("")}function We(){return(0,_.az)(_.b)}function Ot(X){return(0,_.aA)("authEvent",X.config.apiKey,X.name)}function qn(X){if(!X?.includes("?"))return{};const[K,...he]=X.split("?");return(0,ne.zd)(he.join("?"))}function rn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,_.aw)("no-auth-event")}}function Ze(){var X;return(null===(X=self?.location)||void 0===X?void 0:X.protocol)||null}function tn(X=(0,ne.z$)()){return!("file:"!==Ze()&&"ionic:"!==Ze()&&"capacitor:"!==Ze()||!X.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ht(){try{const X=self.localStorage,K=_.aI();if(X)return X.setItem(K,"1"),X.removeItem(K),!function Mt(X=(0,ne.z$)()){return function It(){return(0,ne.w1)()&&11===document?.documentMode}()||function qt(X=(0,ne.z$)()){return/Edge\/\d+/.test(X)}(X)}()||(0,ne.hl)()}catch{return En()&&(0,ne.hl)()}return!1}function En(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Gt(){return(function St(){return"http:"===Ze()||"https:"===Ze()}()||(0,ne.ru)()||tn())&&!function Ln(){return(0,ne.b$)()||(0,ne.UG)()}()&&Ht()&&!En()}function $n(){return tn()&&typeof document<"u"}function gt(){return(gt=(0,p.Z)(function*(){return!!$n()&&new Promise(X=>{const K=setTimeout(()=>{X(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(K),X(!0)})})})).apply(this,arguments)}const de={LOCAL:"local",NONE:"none",SESSION:"session"},Le=_.ax,Be="persistence";function Zt(X){return hn.apply(this,arguments)}function hn(){return(hn=(0,p.Z)(function*(X){yield X._initializationPromise;const K=Cn(),he=_.aA(Be,X.config.apiKey,X.name);K&&K.setItem(he,X._getPersistence())})).apply(this,arguments)}function Cn(){var X;try{return(null===(X=function ee(){return typeof window<"u"?window:null}())||void 0===X?void 0:X.sessionStorage)||null}catch{return null}}const pn=_.ax;class Fn{constructor(){this.browserResolver=_.az(_.k),this.cordovaResolver=_.az(class oi{constructor(){this._redirectPersistence=_.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_.aB,this._overrideRedirectResult=_.aC}_initialize(K){var he=this;return(0,p.Z)(function*(){const Xe=K._key();let Et=he.eventManagers.get(Xe);return Et||(Et=new yt(K),he.eventManagers.set(Xe,Et),he.attachCallbackListeners(K,Et)),Et})()}_openPopup(K){(0,_.as)(K,"operation-not-supported-in-this-environment")}_openRedirect(K,he,Xe,Et){var dn=this;return(0,p.Z)(function*(){!function ct(X){var K,he,Xe,Et,dn,fn,ze,$e,He,Ye;const De=fe();(0,_.ax)("function"==typeof(null===(K=De?.universalLinks)||void 0===K?void 0:K.subscribe),X,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,_.ax)(typeof(null===(he=De?.BuildInfo)||void 0===he?void 0:he.packageName)<"u",X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,_.ax)("function"==typeof(null===(dn=null===(Et=null===(Xe=De?.cordova)||void 0===Xe?void 0:Xe.plugins)||void 0===Et?void 0:Et.browsertab)||void 0===dn?void 0:dn.openUrl),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,_.ax)("function"==typeof(null===($e=null===(ze=null===(fn=De?.cordova)||void 0===fn?void 0:fn.plugins)||void 0===ze?void 0:ze.browsertab)||void 0===$e?void 0:$e.isAvailable),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,_.ax)("function"==typeof(null===(Ye=null===(He=De?.cordova)||void 0===He?void 0:He.InAppBrowser)||void 0===Ye?void 0:Ye.open),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(K);const fn=yield dn._initialize(K);yield fn.initialized(),fn.resetRedirect(),(0,_.aD)(),yield dn._originValidation(K);const ze=function et(X,K,he=null){return{type:K,eventId:he,urlResponse:null,sessionId:Lt(),postBody:null,tenantId:X.tenantId,error:(0,_.aw)(X,"no-auth-event")}}(K,Xe,Et);yield function Ve(X,K){return We()._set(Ot(X),K)}(K,ze);const $e=yield function ae(X,K,he){return me.apply(this,arguments)}(K,ze,he),He=yield function Ke(X){const{cordova:K}=fe();return new Promise(he=>{K.plugins.browsertab.isAvailable(Xe=>{let Et=null;Xe?K.plugins.browsertab.openUrl(X):Et=K.InAppBrowser.open(X,(0,_.av)()?"_blank":"_system","location=yes"),he(Et)})})}($e);return function ut(X,K,he){return je.apply(this,arguments)}(K,fn,He)})()}_isIframeWebStorageSupported(K,he){throw new Error("Method not implemented.")}_originValidation(K){const he=K._key();return this.originValidationPromises[he]||(this.originValidationPromises[he]=function ye(X){return Pe.apply(this,arguments)}(K)),this.originValidationPromises[he]}attachCallbackListeners(K,he){const{universalLinks:Xe,handleOpenURL:Et,BuildInfo:dn}=fe(),fn=setTimeout((0,p.Z)(function*(){yield pt(K),he.onEvent(rn())}),500),ze=function(){var Ye=(0,p.Z)(function*(De){clearTimeout(fn);const Ce=yield pt(K);let ot=null;Ce&&De?.url&&(ot=function Qe(X,K){var he,Xe;const Et=function bn(X){const K=qn(X),he=K.link?decodeURIComponent(K.link):void 0,Xe=qn(he).link,Et=K.deep_link_id?decodeURIComponent(K.deep_link_id):void 0;return qn(Et).link||Et||Xe||he||X}(K);if(Et.includes("/__/auth/callback")){const dn=qn(Et),fn=dn.firebaseError?function Vt(X){try{return JSON.parse(X)}catch{return null}}(decodeURIComponent(dn.firebaseError)):null,ze=null===(Xe=null===(he=fn?.code)||void 0===he?void 0:he.split("auth/"))||void 0===Xe?void 0:Xe[1],$e=ze?(0,_.aw)(ze):null;return $e?{type:X.type,eventId:X.eventId,tenantId:X.tenantId,error:$e,urlResponse:null,sessionId:null,postBody:null}:{type:X.type,eventId:X.eventId,tenantId:X.tenantId,sessionId:X.sessionId,urlResponse:Et,postBody:null}}return null}(Ce,De.url)),he.onEvent(ot||rn())});return function(Ce){return Ye.apply(this,arguments)}}();typeof Xe<"u"&&"function"==typeof Xe.subscribe&&Xe.subscribe(null,ze);const $e=Et,He=`${dn.packageName.toLowerCase()}://`;fe().handleOpenURL=function(){var Ye=(0,p.Z)(function*(De){if(De.toLowerCase().startsWith(He)&&ze({url:De}),"function"==typeof $e)try{$e(De)}catch(Ce){console.error(Ce)}});return function(De){return Ye.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=_.a,this._completeRedirectFn=_.aB,this._overrideRedirectResult=_.aC}_initialize(K){var he=this;return(0,p.Z)(function*(){return yield he.selectUnderlyingResolver(),he.assertedUnderlyingResolver._initialize(K)})()}_openPopup(K,he,Xe,Et){var dn=this;return(0,p.Z)(function*(){return yield dn.selectUnderlyingResolver(),dn.assertedUnderlyingResolver._openPopup(K,he,Xe,Et)})()}_openRedirect(K,he,Xe,Et){var dn=this;return(0,p.Z)(function*(){return yield dn.selectUnderlyingResolver(),dn.assertedUnderlyingResolver._openRedirect(K,he,Xe,Et)})()}_isIframeWebStorageSupported(K,he){this.assertedUnderlyingResolver._isIframeWebStorageSupported(K,he)}_originValidation(K){return this.assertedUnderlyingResolver._originValidation(K)}get _shouldInitProactively(){return $n()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return pn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var K=this;return(0,p.Z)(function*(){if(K.underlyingResolver)return;const he=yield function Dn(){return gt.apply(this,arguments)}();K.underlyingResolver=he?K.cordovaResolver:K.browserResolver})()}}function di(X){return X.unwrap()}function ni(X){return Jt(X)}function Jt(X){const{_tokenResponse:K}=X instanceof ne.ZR?X.customData:X;if(!K)return null;if(!(X instanceof ne.ZR)&&"temporaryProof"in K&&"phoneNumber"in K)return _.P.credentialFromResult(X);const he=K.providerId;if(!he||he===_.o.PASSWORD)return null;let Xe;switch(he){case _.o.GOOGLE:Xe=_.Q;break;case _.o.FACEBOOK:Xe=_.N;break;case _.o.GITHUB:Xe=_.T;break;case _.o.TWITTER:Xe=_.W;break;default:const{oauthIdToken:Et,oauthAccessToken:dn,oauthTokenSecret:fn,pendingToken:ze,nonce:$e}=K;return dn||fn||Et||ze?ze?he.startsWith("saml.")?_.aL._create(he,ze):_.J._fromParams({providerId:he,signInMethod:he,pendingToken:ze,idToken:Et,accessToken:dn}):new _.U(he).credential({idToken:Et,accessToken:dn,rawNonce:$e}):null}return X instanceof ne.ZR?Xe.credentialFromError(X):Xe.credentialFromResult(X)}function be(X,K){return K.catch(he=>{throw he instanceof ne.ZR&&function at(X,K){var he,Xe;const Et=null===(he=K.customData)||void 0===he?void 0:he._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Xe=K)||void 0===Xe?void 0:Xe.code))K.resolver=new ue(X,_.an(X,K));else if(Et){const dn=Jt(K),fn=K;dn&&(fn.credential=dn,fn.tenantId=Et.tenantId||void 0,fn.email=Et.email||void 0,fn.phoneNumber=Et.phoneNumber||void 0)}}(X,he),he}).then(he=>{const Et=he.user;return{operationType:he.operationType,credential:ni(he),additionalUserInfo:_.al(he),user:Nt.getOrCreate(Et)}})}function Ne(X,K){return ke.apply(this,arguments)}function ke(){return(ke=(0,p.Z)(function*(X,K){const he=yield K;return{verificationId:he.verificationId,confirm:Xe=>be(X,he.confirm(Xe))}})).apply(this,arguments)}class ue{constructor(K,he){this.resolver=he,this.auth=function hi(X){return X.wrapped()}(K)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(K){return be(di(this.auth),this.resolver.resolveSignIn(K))}}class Nt{constructor(K){this._delegate=K,this.multiFactor=_.ao(K)}static getOrCreate(K){return Nt.USER_MAP.has(K)||Nt.USER_MAP.set(K,new Nt(K)),Nt.USER_MAP.get(K)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(K){return this._delegate.getIdTokenResult(K)}getIdToken(K){return this._delegate.getIdToken(K)}linkAndRetrieveDataWithCredential(K){return this.linkWithCredential(K)}linkWithCredential(K){var he=this;return(0,p.Z)(function*(){return be(he.auth,_.Z(he._delegate,K))})()}linkWithPhoneNumber(K,he){var Xe=this;return(0,p.Z)(function*(){return Ne(Xe.auth,_.l(Xe._delegate,K,he))})()}linkWithPopup(K){var he=this;return(0,p.Z)(function*(){return be(he.auth,_.d(he._delegate,K,Fn))})()}linkWithRedirect(K){var he=this;return(0,p.Z)(function*(){return yield Zt(_.aE(he.auth)),_.g(he._delegate,K,Fn)})()}reauthenticateAndRetrieveDataWithCredential(K){return this.reauthenticateWithCredential(K)}reauthenticateWithCredential(K){var he=this;return(0,p.Z)(function*(){return be(he.auth,_._(he._delegate,K))})()}reauthenticateWithPhoneNumber(K,he){return Ne(this.auth,_.r(this._delegate,K,he))}reauthenticateWithPopup(K){return be(this.auth,_.e(this._delegate,K,Fn))}reauthenticateWithRedirect(K){var he=this;return(0,p.Z)(function*(){return yield Zt(_.aE(he.auth)),_.h(he._delegate,K,Fn)})()}sendEmailVerification(K){return _.ab(this._delegate,K)}unlink(K){var he=this;return(0,p.Z)(function*(){return yield _.ak(he._delegate,K),he})()}updateEmail(K){return _.ag(this._delegate,K)}updatePassword(K){return _.ah(this._delegate,K)}updatePhoneNumber(K){return _.u(this._delegate,K)}updateProfile(K){return _.af(this._delegate,K)}verifyBeforeUpdateEmail(K,he){return _.ac(this._delegate,K,he)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Nt.USER_MAP=new WeakMap;const zt=_.ax;let st=(()=>{class X{constructor(he,Xe){if(this.app=he,Xe.isInitialized())return this._delegate=Xe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Et}=he.options;zt(Et,"invalid-api-key",{appName:he.name}),zt(Et,"invalid-api-key",{appName:he.name});const dn=typeof window<"u"?Fn:void 0;this._delegate=Xe.initialize({options:{persistence:Je(Et,he.name),popupRedirectResolver:dn}}),this._delegate._updateErrorMap(_.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Nt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(he){this._delegate.languageCode=he}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(he){this._delegate.tenantId=he}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(he,Xe){_.G(this._delegate,he,Xe)}applyActionCode(he){return _.a2(this._delegate,he)}checkActionCode(he){return _.a3(this._delegate,he)}confirmPasswordReset(he,Xe){return _.a1(this._delegate,he,Xe)}createUserWithEmailAndPassword(he,Xe){var Et=this;return(0,p.Z)(function*(){return be(Et._delegate,_.a5(Et._delegate,he,Xe))})()}fetchProvidersForEmail(he){return this.fetchSignInMethodsForEmail(he)}fetchSignInMethodsForEmail(he){return _.aa(this._delegate,he)}isSignInWithEmailLink(he){return _.a8(this._delegate,he)}getRedirectResult(){var he=this;return(0,p.Z)(function*(){zt(Gt(),he._delegate,"operation-not-supported-in-this-environment");const Xe=yield _.j(he._delegate,Fn);return Xe?be(he._delegate,Promise.resolve(Xe)):{credential:null,user:null}})()}addFrameworkForLogging(he){!function gn(X,K){(0,_.aE)(X)._logFramework(K)}(this._delegate,he)}onAuthStateChanged(he,Xe,Et){const{next:dn,error:fn,complete:ze}=rt(he,Xe,Et);return this._delegate.onAuthStateChanged(dn,fn,ze)}onIdTokenChanged(he,Xe,Et){const{next:dn,error:fn,complete:ze}=rt(he,Xe,Et);return this._delegate.onIdTokenChanged(dn,fn,ze)}sendSignInLinkToEmail(he,Xe){return _.a7(this._delegate,he,Xe)}sendPasswordResetEmail(he,Xe){return _.a0(this._delegate,he,Xe||void 0)}setPersistence(he){var Xe=this;return(0,p.Z)(function*(){let Et;switch(function Ct(X,K){Le(Object.values(de).includes(K),X,"invalid-persistence-type"),(0,ne.b$)()?Le(K!==de.SESSION,X,"unsupported-persistence-type"):(0,ne.UG)()?Le(K===de.NONE,X,"unsupported-persistence-type"):En()?Le(K===de.NONE||K===de.LOCAL&&(0,ne.hl)(),X,"unsupported-persistence-type"):Le(K===de.NONE||Ht(),X,"unsupported-persistence-type")}(Xe._delegate,he),he){case de.SESSION:Et=_.a;break;case de.LOCAL:Et=(yield _.az(_.i)._isAvailable())?_.i:_.b;break;case de.NONE:Et=_.L;break;default:return _.as("argument-error",{appName:Xe._delegate.name})}return Xe._delegate.setPersistence(Et)})()}signInAndRetrieveDataWithCredential(he){return this.signInWithCredential(he)}signInAnonymously(){return be(this._delegate,_.X(this._delegate))}signInWithCredential(he){return be(this._delegate,_.Y(this._delegate,he))}signInWithCustomToken(he){return be(this._delegate,_.$(this._delegate,he))}signInWithEmailAndPassword(he,Xe){return be(this._delegate,_.a6(this._delegate,he,Xe))}signInWithEmailLink(he,Xe){return be(this._delegate,_.a9(this._delegate,he,Xe))}signInWithPhoneNumber(he,Xe){return Ne(this._delegate,_.s(this._delegate,he,Xe))}signInWithPopup(he){var Xe=this;return(0,p.Z)(function*(){return zt(Gt(),Xe._delegate,"operation-not-supported-in-this-environment"),be(Xe._delegate,_.c(Xe._delegate,he,Fn))})()}signInWithRedirect(he){var Xe=this;return(0,p.Z)(function*(){return zt(Gt(),Xe._delegate,"operation-not-supported-in-this-environment"),yield Zt(Xe._delegate),_.f(Xe._delegate,he,Fn)})()}updateCurrentUser(he){return this._delegate.updateCurrentUser(he)}verifyPasswordResetCode(he){return _.a4(this._delegate,he)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return X.Persistence=de,X})();function rt(X,K,he){let Xe=X;"function"!=typeof X&&({next:Xe,error:K,complete:he}=X);const Et=Xe;return{next:fn=>Et(fn&&Nt.getOrCreate(fn)),error:K,complete:he}}function Je(X,K){const he=function Un(X,K){const he=Cn();if(!he)return[];const Xe=_.aA(Be,X,K);switch(he.getItem(Xe)){case de.NONE:return[_.L];case de.LOCAL:return[_.i,_.a];case de.SESSION:return[_.a];default:return[]}}(X,K);if(typeof self<"u"&&!he.includes(_.i)&&he.push(_.i),typeof window<"u")for(const Xe of[_.b,_.a])he.includes(Xe)||he.push(Xe);return he.includes(_.L)||he.push(_.L),he}class Tt{constructor(){this.providerId="phone",this._delegate=new _.P(di(N.Z.auth()))}static credential(K,he){return _.P.credential(K,he)}verifyPhoneNumber(K,he){return this._delegate.verifyPhoneNumber(K,he)}unwrap(){return this._delegate}}Tt.PHONE_SIGN_IN_METHOD=_.P.PHONE_SIGN_IN_METHOD,Tt.PROVIDER_ID=_.P.PROVIDER_ID;const $t=_.ax;class ge{constructor(K,he,Xe=N.Z.app()){var Et;$t(null===(Et=Xe.options)||void 0===Et?void 0:Et.apiKey,"invalid-api-key",{appName:Xe.name}),this._delegate=new _.R(K,he,Xe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function G(X){X.INTERNAL.registerComponent(new we.wA("auth-compat",K=>{const he=K.getProvider("app-compat").getImmediate(),Xe=K.getProvider("auth");return new st(he,Xe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:_.A.EMAIL_SIGNIN,PASSWORD_RESET:_.A.PASSWORD_RESET,RECOVER_EMAIL:_.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:_.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:_.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:_.A.VERIFY_EMAIL}},EmailAuthProvider:_.M,FacebookAuthProvider:_.N,GithubAuthProvider:_.T,GoogleAuthProvider:_.Q,OAuthProvider:_.U,SAMLAuthProvider:_.V,PhoneAuthProvider:Tt,PhoneMultiFactorGenerator:_.m,RecaptchaVerifier:ge,TwitterAuthProvider:_.W,Auth:st,AuthCredential:_.H,Error:ne.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),X.registerVersion("@firebase/auth-compat","0.2.24")}(N.Z)},591:(_n,vt,k)=>{"use strict";k.d(vt,{X:()=>_});var p=k(8929),N=k(5279);class _ extends p.xQ{constructor(C){super(),this._value=C}get value(){return this.getValue()}_subscribe(C){const J=super._subscribe(C);return J&&!J.closed&&C.next(this._value),J}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new N.N;return this._value}next(C){super.next(this._value=C)}}},1869:(_n,vt,k)=>{"use strict";k.d(vt,{d:()=>N});var p=k(3489);class N extends p.L{constructor(ne,C,J){super(),this.parent=ne,this.outerValue=C,this.outerIndex=J,this.index=0}_next(ne){this.parent.notifyNext(this.outerValue,ne,this.outerIndex,this.index++,this)}_error(ne){this.parent.notifyError(ne,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},9312:(_n,vt,k)=>{"use strict";k.d(vt,{P:()=>C});var p=k(8896),N=k(1086),_=k(1737);class C{constructor(we,fe,Se){this.kind=we,this.value=fe,this.error=Se,this.hasValue="N"===we}observe(we){switch(this.kind){case"N":return we.next&&we.next(this.value);case"E":return we.error&&we.error(this.error);case"C":return we.complete&&we.complete()}}do(we,fe,Se){switch(this.kind){case"N":return we&&we(this.value);case"E":return fe&&fe(this.error);case"C":return Se&&Se()}}accept(we,fe,Se){return we&&"function"==typeof we.next?this.observe(we):this.do(we,fe,Se)}toObservable(){switch(this.kind){case"N":return(0,N.of)(this.value);case"E":return(0,_._)(this.error);case"C":return(0,p.c)()}throw new Error("unexpected notification kind value")}static createNext(we){return typeof we<"u"?new C("N",we):C.undefinedValueNotification}static createError(we){return new C("E",void 0,we)}static createComplete(){return C.completeNotification}}C.completeNotification=new C("C"),C.undefinedValueNotification=new C("N",void 0)},6498:(_n,vt,k)=>{"use strict";k.d(vt,{y:()=>Se});var p=k(3489),_=k(7668),ne=k(3292),J=k(3821),we=k(4843),fe=k(2830);let Se=(()=>{class me{constructor(Pe){this._isScalar=!1,Pe&&(this._subscribe=Pe)}lift(Pe){const Ke=new me;return Ke.source=this,Ke.operator=Pe,Ke}subscribe(Pe,Ke,ut){const{operator:je}=this,ct=function C(me,ye,Pe){if(me){if(me instanceof p.L)return me;if(me[_.b])return me[_.b]()}return me||ye||Pe?new p.L(me,ye,Pe):new p.L(ne.c)}(Pe,Ke,ut);if(ct.add(je?je.call(ct,this.source):this.source||fe.v.useDeprecatedSynchronousErrorHandling&&!ct.syncErrorThrowable?this._subscribe(ct):this._trySubscribe(ct)),fe.v.useDeprecatedSynchronousErrorHandling&&ct.syncErrorThrowable&&(ct.syncErrorThrowable=!1,ct.syncErrorThrown))throw ct.syncErrorValue;return ct}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(Ke){fe.v.useDeprecatedSynchronousErrorHandling&&(Pe.syncErrorThrown=!0,Pe.syncErrorValue=Ke),function N(me){for(;me;){const{closed:ye,destination:Pe,isStopped:Ke}=me;if(ye||Ke)return!1;me=Pe&&Pe instanceof p.L?Pe:null}return!0}(Pe)?Pe.error(Ke):console.warn(Ke)}}forEach(Pe,Ke){return new(Ke=ae(Ke))((ut,je)=>{let ct;ct=this.subscribe(mt=>{try{Pe(mt)}catch(jt){je(jt),ct&&ct.unsubscribe()}},je,ut)})}_subscribe(Pe){const{source:Ke}=this;return Ke&&Ke.subscribe(Pe)}[J.L](){return this}pipe(...Pe){return 0===Pe.length?this:(0,we.U)(Pe)(this)}toPromise(Pe){return new(Pe=ae(Pe))((Ke,ut)=>{let je;this.subscribe(ct=>je=ct,ct=>ut(ct),()=>Ke(je))})}}return me.create=ye=>new me(ye),me})();function ae(me){if(me||(me=fe.v.Promise||Promise),!me)throw new Error("no Promise impl found");return me}},3292:(_n,vt,k)=>{"use strict";k.d(vt,{c:()=>_});var p=k(2830),N=k(2782);const _={closed:!0,next(ne){},error(ne){if(p.v.useDeprecatedSynchronousErrorHandling)throw ne;(0,N.z)(ne)},complete(){}}},826:(_n,vt,k)=>{"use strict";k.d(vt,{L:()=>N});var p=k(3489);class N extends p.L{notifyNext(ne,C,J,we,fe){this.destination.next(C)}notifyError(ne,C){this.destination.error(ne)}notifyComplete(ne){this.destination.complete()}}},8929:(_n,vt,k)=>{"use strict";k.d(vt,{Yc:()=>we,xQ:()=>fe});var p=k(6498),N=k(3489),_=k(2654),ne=k(5279),C=k(5283),J=k(7668);class we extends N.L{constructor(me){super(me),this.destination=me}}let fe=(()=>{class ae extends p.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[J.b](){return new we(this)}lift(ye){const Pe=new Se(this,this);return Pe.operator=ye,Pe}next(ye){if(this.closed)throw new ne.N;if(!this.isStopped){const{observers:Pe}=this,Ke=Pe.length,ut=Pe.slice();for(let je=0;je<Ke;je++)ut[je].next(ye)}}error(ye){if(this.closed)throw new ne.N;this.hasError=!0,this.thrownError=ye,this.isStopped=!0;const{observers:Pe}=this,Ke=Pe.length,ut=Pe.slice();for(let je=0;je<Ke;je++)ut[je].error(ye);this.observers.length=0}complete(){if(this.closed)throw new ne.N;this.isStopped=!0;const{observers:ye}=this,Pe=ye.length,Ke=ye.slice();for(let ut=0;ut<Pe;ut++)Ke[ut].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ye){if(this.closed)throw new ne.N;return super._trySubscribe(ye)}_subscribe(ye){if(this.closed)throw new ne.N;return this.hasError?(ye.error(this.thrownError),_.w.EMPTY):this.isStopped?(ye.complete(),_.w.EMPTY):(this.observers.push(ye),new C.W(this,ye))}asObservable(){const ye=new p.y;return ye.source=this,ye}}return ae.create=(me,ye)=>new Se(me,ye),ae})();class Se extends fe{constructor(me,ye){super(),this.destination=me,this.source=ye}next(me){const{destination:ye}=this;ye&&ye.next&&ye.next(me)}error(me){const{destination:ye}=this;ye&&ye.error&&this.destination.error(me)}complete(){const{destination:me}=this;me&&me.complete&&this.destination.complete()}_subscribe(me){const{source:ye}=this;return ye?this.source.subscribe(me):_.w.EMPTY}}},5283:(_n,vt,k)=>{"use strict";k.d(vt,{W:()=>N});var p=k(2654);class N extends p.w{constructor(ne,C){super(),this.subject=ne,this.subscriber=C,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ne=this.subject,C=ne.observers;if(this.subject=null,!C||0===C.length||ne.isStopped||ne.closed)return;const J=C.indexOf(this.subscriber);-1!==J&&C.splice(J,1)}}},3489:(_n,vt,k)=>{"use strict";k.d(vt,{L:()=>we});var p=k(7043),N=k(3292),_=k(2654),ne=k(7668),C=k(2830),J=k(2782);class we extends _.w{constructor(ae,me,ye){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=N.c;break;case 1:if(!ae){this.destination=N.c;break}if("object"==typeof ae){ae instanceof we?(this.syncErrorThrowable=ae.syncErrorThrowable,this.destination=ae,ae.add(this)):(this.syncErrorThrowable=!0,this.destination=new fe(this,ae));break}default:this.syncErrorThrowable=!0,this.destination=new fe(this,ae,me,ye)}}[ne.b](){return this}static create(ae,me,ye){const Pe=new we(ae,me,ye);return Pe.syncErrorThrowable=!1,Pe}next(ae){this.isStopped||this._next(ae)}error(ae){this.isStopped||(this.isStopped=!0,this._error(ae))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(ae){this.destination.next(ae)}_error(ae){this.destination.error(ae),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:ae}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=ae,this}}class fe extends we{constructor(ae,me,ye,Pe){super(),this._parentSubscriber=ae;let Ke,ut=this;(0,p.m)(me)?Ke=me:me&&(Ke=me.next,ye=me.error,Pe=me.complete,me!==N.c&&(ut=Object.create(me),(0,p.m)(ut.unsubscribe)&&this.add(ut.unsubscribe.bind(ut)),ut.unsubscribe=this.unsubscribe.bind(this))),this._context=ut,this._next=Ke,this._error=ye,this._complete=Pe}next(ae){if(!this.isStopped&&this._next){const{_parentSubscriber:me}=this;C.v.useDeprecatedSynchronousErrorHandling&&me.syncErrorThrowable?this.__tryOrSetError(me,this._next,ae)&&this.unsubscribe():this.__tryOrUnsub(this._next,ae)}}error(ae){if(!this.isStopped){const{_parentSubscriber:me}=this,{useDeprecatedSynchronousErrorHandling:ye}=C.v;if(this._error)ye&&me.syncErrorThrowable?(this.__tryOrSetError(me,this._error,ae),this.unsubscribe()):(this.__tryOrUnsub(this._error,ae),this.unsubscribe());else if(me.syncErrorThrowable)ye?(me.syncErrorValue=ae,me.syncErrorThrown=!0):(0,J.z)(ae),this.unsubscribe();else{if(this.unsubscribe(),ye)throw ae;(0,J.z)(ae)}}}complete(){if(!this.isStopped){const{_parentSubscriber:ae}=this;if(this._complete){const me=()=>this._complete.call(this._context);C.v.useDeprecatedSynchronousErrorHandling&&ae.syncErrorThrowable?(this.__tryOrSetError(ae,me),this.unsubscribe()):(this.__tryOrUnsub(me),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(ae,me){try{ae.call(this._context,me)}catch(ye){if(this.unsubscribe(),C.v.useDeprecatedSynchronousErrorHandling)throw ye;(0,J.z)(ye)}}__tryOrSetError(ae,me,ye){if(!C.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{me.call(this._context,ye)}catch(Pe){return C.v.useDeprecatedSynchronousErrorHandling?(ae.syncErrorValue=Pe,ae.syncErrorThrown=!0,!0):((0,J.z)(Pe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:ae}=this;this._context=null,this._parentSubscriber=null,ae.unsubscribe()}}},2654:(_n,vt,k)=>{"use strict";k.d(vt,{w:()=>J});var p=k(6688),N=k(7830),_=k(7043);const C=(()=>{function fe(Se){return Error.call(this),this.message=Se?`${Se.length} errors occurred during unsubscription:\n${Se.map((ae,me)=>`${me+1}) ${ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Se,this}return fe.prototype=Object.create(Error.prototype),fe})();class J{constructor(Se){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Se&&(this._unsubscribe=Se)}unsubscribe(){let Se;if(this.closed)return;let{_parentOrParents:ae,_unsubscribe:me,_subscriptions:ye}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,ae instanceof J)ae.remove(this);else if(null!==ae)for(let Pe=0;Pe<ae.length;++Pe)ae[Pe].remove(this);if((0,_.m)(me))try{me.call(this)}catch(Pe){Se=Pe instanceof C?we(Pe.errors):[Pe]}if((0,p.k)(ye)){let Pe=-1,Ke=ye.length;for(;++Pe<Ke;){const ut=ye[Pe];if((0,N.K)(ut))try{ut.unsubscribe()}catch(je){Se=Se||[],je instanceof C?Se=Se.concat(we(je.errors)):Se.push(je)}}}if(Se)throw new C(Se)}add(Se){let ae=Se;if(!Se)return J.EMPTY;switch(typeof Se){case"function":ae=new J(Se);case"object":if(ae===this||ae.closed||"function"!=typeof ae.unsubscribe)return ae;if(this.closed)return ae.unsubscribe(),ae;if(!(ae instanceof J)){const Pe=ae;ae=new J,ae._subscriptions=[Pe]}break;default:throw new Error("unrecognized teardown "+Se+" added to Subscription.")}let{_parentOrParents:me}=ae;if(null===me)ae._parentOrParents=this;else if(me instanceof J){if(me===this)return ae;ae._parentOrParents=[me,this]}else{if(-1!==me.indexOf(this))return ae;me.push(this)}const ye=this._subscriptions;return null===ye?this._subscriptions=[ae]:ye.push(ae),ae}remove(Se){const ae=this._subscriptions;if(ae){const me=ae.indexOf(Se);-1!==me&&ae.splice(me,1)}}}var fe;function we(fe){return fe.reduce((Se,ae)=>Se.concat(ae instanceof C?ae.errors:ae),[])}J.EMPTY=((fe=new J).closed=!0,fe)},2830:(_n,vt,k)=>{"use strict";k.d(vt,{v:()=>N});let p=!1;const N={Promise:void 0,set useDeprecatedSynchronousErrorHandling(_){if(_){const ne=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ne.stack)}else p&&console.log("RxJS: Back to a better error behavior. Thank you. <3");p=_},get useDeprecatedSynchronousErrorHandling(){return p}}},1762:(_n,vt,k)=>{"use strict";k.d(vt,{N:()=>J,c:()=>C});var p=k(8929),N=k(6498),_=k(2654),ne=k(4327);class C extends N.y{constructor(me,ye){super(),this.source=me,this.subjectFactory=ye,this._refCount=0,this._isComplete=!1}_subscribe(me){return this.getSubject().subscribe(me)}getSubject(){const me=this._subject;return(!me||me.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let me=this._connection;return me||(this._isComplete=!1,me=this._connection=new _.w,me.add(this.source.subscribe(new we(this.getSubject(),this))),me.closed&&(this._connection=null,me=_.w.EMPTY)),me}refCount(){return(0,ne.x)()(this)}}const J=(()=>{const ae=C.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ae._subscribe},_isComplete:{value:ae._isComplete,writable:!0},getSubject:{value:ae.getSubject},connect:{value:ae.connect},refCount:{value:ae.refCount}}})();class we extends p.Yc{constructor(me,ye){super(me),this.connectable=ye}_error(me){this._unsubscribe(),super._error(me)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const me=this.connectable;if(me){this.connectable=null;const ye=me._connection;me._refCount=0,me._subject=null,me._connection=null,ye&&ye.unsubscribe()}}}},6053:(_n,vt,k)=>{"use strict";k.d(vt,{aj:()=>we});var p=k(2866),N=k(6688),_=k(826),ne=k(9054),C=k(3009);const J={};function we(...ae){let me=null,ye=null;return(0,p.K)(ae[ae.length-1])&&(ye=ae.pop()),"function"==typeof ae[ae.length-1]&&(me=ae.pop()),1===ae.length&&(0,N.k)(ae[0])&&(ae=ae[0]),(0,C.n)(ae,ye).lift(new fe(me))}class fe{constructor(me){this.resultSelector=me}call(me,ye){return ye.subscribe(new Se(me,this.resultSelector))}}class Se extends _.L{constructor(me,ye){super(me),this.resultSelector=ye,this.active=0,this.values=[],this.observables=[]}_next(me){this.values.push(J),this.observables.push(me)}_complete(){const me=this.observables,ye=me.length;if(0===ye)this.destination.complete();else{this.active=ye,this.toRespond=ye;for(let Pe=0;Pe<ye;Pe++){const Ke=me[Pe];this.add((0,ne.D)(this,Ke,Ke,Pe))}}}notifyComplete(me){0==(this.active-=1)&&this.destination.complete()}notifyNext(me,ye,Pe,Ke,ut){const je=this.values,mt=this.toRespond?je[Pe]===J?--this.toRespond:this.toRespond:0;je[Pe]=ye,0===mt&&(this.resultSelector?this._tryResultSelector(je):this.destination.next(je.slice()))}_tryResultSelector(me){let ye;try{ye=this.resultSelector.apply(this,me)}catch(Pe){return void this.destination.error(Pe)}this.destination.next(ye)}}},1221:(_n,vt,k)=>{"use strict";k.d(vt,{z:()=>ne});var p=k(1086),N=k(9146);function ne(...C){return function _(){return(0,N.J)(1)}()((0,p.of)(...C))}},8514:(_n,vt,k)=>{"use strict";k.d(vt,{P:()=>ne});var p=k(6498),N=k(5254),_=k(8896);function ne(C){return new p.y(J=>{let we;try{we=C()}catch(Se){return void J.error(Se)}return(we?(0,N.D)(we):(0,_.c)()).subscribe(J)})}},8896:(_n,vt,k)=>{"use strict";k.d(vt,{E:()=>N,c:()=>_});var p=k(6498);const N=new p.y(C=>C.complete());function _(C){return C?function ne(C){return new p.y(J=>C.schedule(()=>J.complete()))}(C):N}},567:(_n,vt,k)=>{"use strict";k.d(vt,{D:()=>J});var p=k(6498),N=k(6688),_=k(4850),ne=k(7830),C=k(5254);function J(...fe){if(1===fe.length){const Se=fe[0];if((0,N.k)(Se))return we(Se,null);if((0,ne.K)(Se)&&Object.getPrototypeOf(Se)===Object.prototype){const ae=Object.keys(Se);return we(ae.map(me=>Se[me]),ae)}}if("function"==typeof fe[fe.length-1]){const Se=fe.pop();return we(fe=1===fe.length&&(0,N.k)(fe[0])?fe[0]:fe,null).pipe((0,_.U)(ae=>Se(...ae)))}return we(fe,null)}function we(fe,Se){return new p.y(ae=>{const me=fe.length;if(0===me)return void ae.complete();const ye=new Array(me);let Pe=0,Ke=0;for(let ut=0;ut<me;ut++){const je=(0,C.D)(fe[ut]);let ct=!1;ae.add(je.subscribe({next:mt=>{ct||(ct=!0,Ke++),ye[ut]=mt},error:mt=>ae.error(mt),complete:()=>{Pe++,(Pe===me||!ct)&&(Ke===me&&ae.next(Se?Se.reduce((mt,jt,ht)=>(mt[jt]=ye[ht],mt),{}):ye),ae.complete())}}))}})}},5254:(_n,vt,k)=>{"use strict";k.d(vt,{D:()=>ut});var p=k(6498),N=k(9249),_=k(2654),ne=k(3821),we=k(6454),fe=k(5430),me=k(8955),ye=k(8515);function ut(je,ct){return ct?function Ke(je,ct){if(null!=je){if(function ae(je){return je&&"function"==typeof je[ne.L]}(je))return function C(je,ct){return new p.y(mt=>{const jt=new _.w;return jt.add(ct.schedule(()=>{const ht=je[ne.L]();jt.add(ht.subscribe({next(kt){jt.add(ct.schedule(()=>mt.next(kt)))},error(kt){jt.add(ct.schedule(()=>mt.error(kt)))},complete(){jt.add(ct.schedule(()=>mt.complete()))}}))})),jt})}(je,ct);if((0,me.t)(je))return function J(je,ct){return new p.y(mt=>{const jt=new _.w;return jt.add(ct.schedule(()=>je.then(ht=>{jt.add(ct.schedule(()=>{mt.next(ht),jt.add(ct.schedule(()=>mt.complete()))}))},ht=>{jt.add(ct.schedule(()=>mt.error(ht)))}))),jt})}(je,ct);if((0,ye.z)(je))return(0,we.r)(je,ct);if(function Pe(je){return je&&"function"==typeof je[fe.hZ]}(je)||"string"==typeof je)return function Se(je,ct){if(!je)throw new Error("Iterable cannot be null");return new p.y(mt=>{const jt=new _.w;let ht;return jt.add(()=>{ht&&"function"==typeof ht.return&&ht.return()}),jt.add(ct.schedule(()=>{ht=je[fe.hZ](),jt.add(ct.schedule(function(){if(mt.closed)return;let kt,yt;try{const et=ht.next();kt=et.value,yt=et.done}catch(et){return void mt.error(et)}yt?mt.complete():(mt.next(kt),this.schedule())}))})),jt})}(je,ct)}throw new TypeError((null!==je&&typeof je||je)+" is not observable")}(je,ct):je instanceof p.y?je:new p.y((0,N.s)(je))}},3009:(_n,vt,k)=>{"use strict";k.d(vt,{n:()=>ne});var p=k(6498),N=k(3650),_=k(6454);function ne(C,J){return J?(0,_.r)(C,J):new p.y((0,N.V)(C))}},3753:(_n,vt,k)=>{"use strict";k.d(vt,{R:()=>J});var p=k(6498),N=k(6688),_=k(7043),ne=k(4850);function J(me,ye,Pe,Ke){return(0,_.m)(Pe)&&(Ke=Pe,Pe=void 0),Ke?J(me,ye,Pe).pipe((0,ne.U)(ut=>(0,N.k)(ut)?Ke(...ut):Ke(ut))):new p.y(ut=>{we(me,ye,function je(ct){ut.next(arguments.length>1?Array.prototype.slice.call(arguments):ct)},ut,Pe)})}function we(me,ye,Pe,Ke,ut){let je;if(function ae(me){return me&&"function"==typeof me.addEventListener&&"function"==typeof me.removeEventListener}(me)){const ct=me;me.addEventListener(ye,Pe,ut),je=()=>ct.removeEventListener(ye,Pe,ut)}else if(function Se(me){return me&&"function"==typeof me.on&&"function"==typeof me.off}(me)){const ct=me;me.on(ye,Pe),je=()=>ct.off(ye,Pe)}else if(function fe(me){return me&&"function"==typeof me.addListener&&"function"==typeof me.removeListener}(me)){const ct=me;me.addListener(ye,Pe),je=()=>ct.removeListener(ye,Pe)}else{if(!me||!me.length)throw new TypeError("Invalid event target");for(let ct=0,mt=me.length;ct<mt;ct++)we(me[ct],ye,Pe,Ke,ut)}Ke.add(je)}},6787:(_n,vt,k)=>{"use strict";k.d(vt,{T:()=>C});var p=k(6498),N=k(2866),_=k(9146),ne=k(3009);function C(...J){let we=Number.POSITIVE_INFINITY,fe=null,Se=J[J.length-1];return(0,N.K)(Se)?(fe=J.pop(),J.length>1&&"number"==typeof J[J.length-1]&&(we=J.pop())):"number"==typeof Se&&(we=J.pop()),null===fe&&1===J.length&&J[0]instanceof p.y?J[0]:(0,_.J)(we)((0,ne.n)(J,fe))}},1086:(_n,vt,k)=>{"use strict";k.d(vt,{of:()=>ne});var p=k(2866),N=k(3009),_=k(6454);function ne(...C){let J=C[C.length-1];return(0,p.K)(J)?(C.pop(),(0,_.r)(C,J)):(0,N.n)(C)}},1737:(_n,vt,k)=>{"use strict";k.d(vt,{_:()=>N});var p=k(6498);function N(ne,C){return new p.y(C?J=>C.schedule(_,0,{error:ne,subscriber:J}):J=>J.error(ne))}function _({error:ne,subscriber:C}){C.error(ne)}},7221:(_n,vt,k)=>{"use strict";k.d(vt,{K:()=>ne});var p=k(826),N=k(1869),_=k(9054);function ne(we){return function(Se){const ae=new C(we),me=Se.lift(ae);return ae.caught=me}}class C{constructor(fe){this.selector=fe}call(fe,Se){return Se.subscribe(new J(fe,this.selector,this.caught))}}class J extends p.L{constructor(fe,Se,ae){super(fe),this.selector=Se,this.caught=ae}error(fe){if(!this.isStopped){let Se;try{Se=this.selector(fe,this.caught)}catch(ye){return void super.error(ye)}this._unsubscribeAndRecycle();const ae=new N.d(this,void 0,void 0);this.add(ae);const me=(0,_.D)(this,Se,void 0,void 0,ae);me!==ae&&this.add(me)}}}},1406:(_n,vt,k)=>{"use strict";k.d(vt,{b:()=>N});var p=k(1709);function N(_,ne){return(0,p.zg)(_,ne,1)}},13:(_n,vt,k)=>{"use strict";k.d(vt,{b:()=>_});var p=k(3489),N=k(353);function _(we,fe=N.P){return Se=>Se.lift(new ne(we,fe))}class ne{constructor(fe,Se){this.dueTime=fe,this.scheduler=Se}call(fe,Se){return Se.subscribe(new C(fe,this.dueTime,this.scheduler))}}class C extends p.L{constructor(fe,Se,ae){super(fe),this.dueTime=Se,this.scheduler=ae,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(fe){this.clearDebounce(),this.lastValue=fe,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(J,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:fe}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(fe)}}clearDebounce(){const fe=this.debouncedSubscription;null!==fe&&(this.remove(fe),fe.unsubscribe(),this.debouncedSubscription=null)}}function J(we){we.debouncedNext()}},7314:(_n,vt,k)=>{"use strict";k.d(vt,{d:()=>N});var p=k(3489);function N(C=null){return J=>J.lift(new _(C))}class _{constructor(J){this.defaultValue=J}call(J,we){return we.subscribe(new ne(J,this.defaultValue))}}class ne extends p.L{constructor(J,we){super(J),this.defaultValue=we,this.isEmpty=!0}_next(J){this.isEmpty=!1,this.destination.next(J)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},8583:(_n,vt,k)=>{"use strict";k.d(vt,{g:()=>C});var p=k(353),_=k(3489),ne=k(9312);function C(Se,ae=p.P){const ye=function N(Se){return Se instanceof Date&&!isNaN(+Se)}(Se)?+Se-ae.now():Math.abs(Se);return Pe=>Pe.lift(new J(ye,ae))}class J{constructor(ae,me){this.delay=ae,this.scheduler=me}call(ae,me){return me.subscribe(new we(ae,this.delay,this.scheduler))}}class we extends _.L{constructor(ae,me,ye){super(ae),this.delay=me,this.scheduler=ye,this.queue=[],this.active=!1,this.errored=!1}static dispatch(ae){const me=ae.source,ye=me.queue,Pe=ae.scheduler,Ke=ae.destination;for(;ye.length>0&&ye[0].time-Pe.now()<=0;)ye.shift().notification.observe(Ke);if(ye.length>0){const ut=Math.max(0,ye[0].time-Pe.now());this.schedule(ae,ut)}else this.unsubscribe(),me.active=!1}_schedule(ae){this.active=!0,this.destination.add(ae.schedule(we.dispatch,this.delay,{source:this,destination:this.destination,scheduler:ae}))}scheduleNotification(ae){if(!0===this.errored)return;const me=this.scheduler,ye=new fe(me.now()+this.delay,ae);this.queue.push(ye),!1===this.active&&this._schedule(me)}_next(ae){this.scheduleNotification(ne.P.createNext(ae))}_error(ae){this.errored=!0,this.queue=[],this.destination.error(ae),this.unsubscribe()}_complete(){this.scheduleNotification(ne.P.createComplete()),this.unsubscribe()}}class fe{constructor(ae,me){this.time=ae,this.notification=me}}},5778:(_n,vt,k)=>{"use strict";k.d(vt,{x:()=>N});var p=k(3489);function N(C,J){return we=>we.lift(new _(C,J))}class _{constructor(J,we){this.compare=J,this.keySelector=we}call(J,we){return we.subscribe(new ne(J,this.compare,this.keySelector))}}class ne extends p.L{constructor(J,we,fe){super(J),this.keySelector=fe,this.hasKey=!1,"function"==typeof we&&(this.compare=we)}compare(J,we){return J===we}_next(J){let we;try{const{keySelector:Se}=this;we=Se?Se(J):J}catch(Se){return this.destination.error(Se)}let fe=!1;if(this.hasKey)try{const{compare:Se}=this;fe=Se(this.key,we)}catch(Se){return this.destination.error(Se)}else this.hasKey=!0;fe||(this.key=we,this.destination.next(J))}}},2198:(_n,vt,k)=>{"use strict";k.d(vt,{h:()=>N});var p=k(3489);function N(C,J){return function(fe){return fe.lift(new _(C,J))}}class _{constructor(J,we){this.predicate=J,this.thisArg=we}call(J,we){return we.subscribe(new ne(J,this.predicate,this.thisArg))}}class ne extends p.L{constructor(J,we,fe){super(J),this.predicate=we,this.thisArg=fe,this.count=0}_next(J){let we;try{we=this.predicate.call(this.thisArg,J,this.count++)}catch(fe){return void this.destination.error(fe)}we&&this.destination.next(J)}}},537:(_n,vt,k)=>{"use strict";k.d(vt,{x:()=>_});var p=k(3489),N=k(2654);function _(J){return we=>we.lift(new ne(J))}class ne{constructor(we){this.callback=we}call(we,fe){return fe.subscribe(new C(we,this.callback))}}class C extends p.L{constructor(we,fe){super(we),this.add(new N.w(fe))}}},7224:(_n,vt,k)=>{"use strict";k.d(vt,{P:()=>we});var p=k(4450),N=k(2198),_=k(2986),ne=k(7314),C=k(4907),J=k(5379);function we(fe,Se){const ae=arguments.length>=2;return me=>me.pipe(fe?(0,N.h)((ye,Pe)=>fe(ye,Pe,me)):J.y,(0,_.q)(1),ae?(0,ne.d)(Se):(0,C.T)(()=>new p.K))}},4850:(_n,vt,k)=>{"use strict";k.d(vt,{U:()=>N});var p=k(3489);function N(C,J){return function(fe){if("function"!=typeof C)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return fe.lift(new _(C,J))}}class _{constructor(J,we){this.project=J,this.thisArg=we}call(J,we){return we.subscribe(new ne(J,this.project,this.thisArg))}}class ne extends p.L{constructor(J,we,fe){super(J),this.project=we,this.count=0,this.thisArg=fe||this}_next(J){let we;try{we=this.project.call(this.thisArg,J,this.count++)}catch(fe){return void this.destination.error(fe)}this.destination.next(we)}}},9146:(_n,vt,k)=>{"use strict";k.d(vt,{J:()=>_});var p=k(1709),N=k(5379);function _(ne=Number.POSITIVE_INFINITY){return(0,p.zg)(N.y,ne)}},1709:(_n,vt,k)=>{"use strict";k.d(vt,{zg:()=>J});var p=k(9054),N=k(826),_=k(1869),ne=k(4850),C=k(5254);function J(Se,ae,me=Number.POSITIVE_INFINITY){return"function"==typeof ae?ye=>ye.pipe(J((Pe,Ke)=>(0,C.D)(Se(Pe,Ke)).pipe((0,ne.U)((ut,je)=>ae(Pe,ut,Ke,je))),me)):("number"==typeof ae&&(me=ae),ye=>ye.lift(new we(Se,me)))}class we{constructor(ae,me=Number.POSITIVE_INFINITY){this.project=ae,this.concurrent=me}call(ae,me){return me.subscribe(new fe(ae,this.project,this.concurrent))}}class fe extends N.L{constructor(ae,me,ye=Number.POSITIVE_INFINITY){super(ae),this.project=me,this.concurrent=ye,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ae){this.active<this.concurrent?this._tryNext(ae):this.buffer.push(ae)}_tryNext(ae){let me;const ye=this.index++;try{me=this.project(ae,ye)}catch(Pe){return void this.destination.error(Pe)}this.active++,this._innerSub(me,ae,ye)}_innerSub(ae,me,ye){const Pe=new _.d(this,me,ye),Ke=this.destination;Ke.add(Pe);const ut=(0,p.D)(this,ae,void 0,void 0,Pe);ut!==Pe&&Ke.add(ut)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ae,me,ye,Pe,Ke){this.destination.next(me)}notifyComplete(ae){const me=this.buffer;this.remove(ae),this.active--,me.length>0?this._next(me.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},7770:(_n,vt,k)=>{"use strict";k.d(vt,{QV:()=>_,ht:()=>C});var p=k(3489),N=k(9312);function _(we,fe=0){return function(ae){return ae.lift(new ne(we,fe))}}class ne{constructor(fe,Se=0){this.scheduler=fe,this.delay=Se}call(fe,Se){return Se.subscribe(new C(fe,this.scheduler,this.delay))}}class C extends p.L{constructor(fe,Se,ae=0){super(fe),this.scheduler=Se,this.delay=ae}static dispatch(fe){const{notification:Se,destination:ae}=fe;Se.observe(ae),this.unsubscribe()}scheduleMessage(fe){this.destination.add(this.scheduler.schedule(C.dispatch,this.delay,new J(fe,this.destination)))}_next(fe){this.scheduleMessage(N.P.createNext(fe))}_error(fe){this.scheduleMessage(N.P.createError(fe)),this.unsubscribe()}_complete(){this.scheduleMessage(N.P.createComplete()),this.unsubscribe()}}class J{constructor(fe,Se){this.notification=fe,this.destination=Se}}},4327:(_n,vt,k)=>{"use strict";k.d(vt,{x:()=>N});var p=k(3489);function N(){return function(J){return J.lift(new _(J))}}class _{constructor(J){this.connectable=J}call(J,we){const{connectable:fe}=this;fe._refCount++;const Se=new ne(J,fe),ae=we.subscribe(Se);return Se.closed||(Se.connection=fe.connect()),ae}}class ne extends p.L{constructor(J,we){super(J),this.connectable=we}_unsubscribe(){const{connectable:J}=this;if(!J)return void(this.connection=null);this.connectable=null;const we=J._refCount;if(we<=0)return void(this.connection=null);if(J._refCount=we-1,we>1)return void(this.connection=null);const{connection:fe}=this,Se=J._connection;this.connection=null,Se&&(!fe||Se===fe)&&Se.unsubscribe()}}},2014:(_n,vt,k)=>{"use strict";k.d(vt,{R:()=>N});var p=k(3489);function N(C,J){let we=!1;return arguments.length>=2&&(we=!0),function(Se){return Se.lift(new _(C,J,we))}}class _{constructor(J,we,fe=!1){this.accumulator=J,this.seed=we,this.hasSeed=fe}call(J,we){return we.subscribe(new ne(J,this.accumulator,this.seed,this.hasSeed))}}class ne extends p.L{constructor(J,we,fe,Se){super(J),this.accumulator=we,this._seed=fe,this.hasSeed=Se,this.index=0}get seed(){return this._seed}set seed(J){this.hasSeed=!0,this._seed=J}_next(J){if(this.hasSeed)return this._tryNext(J);this.seed=J,this.destination.next(J)}_tryNext(J){const we=this.index++;let fe;try{fe=this.accumulator(this.seed,J,we)}catch(Se){this.destination.error(Se)}this.seed=fe,this.destination.next(fe)}}},2474:(_n,vt,k)=>{"use strict";k.d(vt,{B:()=>we});var p=k(1762);class _{constructor(Se,ae){this.subjectFactory=Se,this.selector=ae}call(Se,ae){const{selector:me}=this,ye=this.subjectFactory(),Pe=me(ye).subscribe(Se);return Pe.add(ae.subscribe(ye)),Pe}}var ne=k(4327),C=k(8929);function J(){return new C.xQ}function we(){return fe=>(0,ne.x)()(function N(fe,Se){return function(me){let ye;if(ye="function"==typeof fe?fe:function(){return fe},"function"==typeof Se)return me.lift(new _(ye,Se));const Pe=Object.create(me,p.N);return Pe.source=me,Pe.subjectFactory=ye,Pe}}(J)(fe))}},1307:(_n,vt,k)=>{"use strict";k.d(vt,{T:()=>N});var p=k(3489);function N(C){return J=>J.lift(new _(C))}class _{constructor(J){this.total=J}call(J,we){return we.subscribe(new ne(J,this.total))}}class ne extends p.L{constructor(J,we){super(J),this.total=we,this.count=0}_next(J){++this.count>this.total&&this.destination.next(J)}}},1059:(_n,vt,k)=>{"use strict";k.d(vt,{O:()=>_});var p=k(1221),N=k(2866);function _(...ne){const C=ne[ne.length-1];return(0,N.K)(C)?(ne.pop(),J=>(0,p.z)(ne,J,C)):J=>(0,p.z)(ne,J)}},3334:(_n,vt,k)=>{"use strict";k.d(vt,{R:()=>C});var p=k(6498),N=k(8139),_=k(4241);class ne extends p.y{constructor(fe,Se=0,ae=N.e){super(),this.source=fe,this.delayTime=Se,this.scheduler=ae,(!(0,_.k)(Se)||Se<0)&&(this.delayTime=0),(!ae||"function"!=typeof ae.schedule)&&(this.scheduler=N.e)}static create(fe,Se=0,ae=N.e){return new ne(fe,Se,ae)}static dispatch(fe){const{source:Se,subscriber:ae}=fe;return this.add(Se.subscribe(ae))}_subscribe(fe){return this.scheduler.schedule(ne.dispatch,this.delayTime,{source:this.source,subscriber:fe})}}function C(we,fe=0){return function(ae){return ae.lift(new J(we,fe))}}class J{constructor(fe,Se){this.scheduler=fe,this.delay=Se}call(fe,Se){return new ne(Se,this.delay,this.scheduler).subscribe(fe)}}},7545:(_n,vt,k)=>{"use strict";k.d(vt,{w:()=>J});var p=k(826),N=k(1869),_=k(9054),ne=k(4850),C=k(5254);function J(Se,ae){return"function"==typeof ae?me=>me.pipe(J((ye,Pe)=>(0,C.D)(Se(ye,Pe)).pipe((0,ne.U)((Ke,ut)=>ae(ye,Ke,Pe,ut))))):me=>me.lift(new we(Se))}class we{constructor(ae){this.project=ae}call(ae,me){return me.subscribe(new fe(ae,this.project))}}class fe extends p.L{constructor(ae,me){super(ae),this.project=me,this.index=0}_next(ae){let me;const ye=this.index++;try{me=this.project(ae,ye)}catch(Pe){return void this.destination.error(Pe)}this._innerSub(me,ae,ye)}_innerSub(ae,me,ye){const Pe=this.innerSubscription;Pe&&Pe.unsubscribe();const Ke=new N.d(this,me,ye),ut=this.destination;ut.add(Ke),this.innerSubscription=(0,_.D)(this,ae,void 0,void 0,Ke),this.innerSubscription!==Ke&&ut.add(this.innerSubscription)}_complete(){const{innerSubscription:ae}=this;(!ae||ae.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(ae){this.destination.remove(ae),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(ae,me,ye,Pe,Ke){this.destination.next(me)}}},2986:(_n,vt,k)=>{"use strict";k.d(vt,{q:()=>ne});var p=k(3489),N=k(4231),_=k(8896);function ne(we){return fe=>0===we?(0,_.c)():fe.lift(new C(we))}class C{constructor(fe){if(this.total=fe,this.total<0)throw new N.W}call(fe,Se){return Se.subscribe(new J(fe,this.total))}}class J extends p.L{constructor(fe,Se){super(fe),this.total=Se,this.count=0}_next(fe){const Se=this.total,ae=++this.count;ae<=Se&&(this.destination.next(fe),ae===Se&&(this.destination.complete(),this.unsubscribe()))}}},7625:(_n,vt,k)=>{"use strict";k.d(vt,{R:()=>_});var p=k(826),N=k(9054);function _(J){return we=>we.lift(new ne(J))}class ne{constructor(we){this.notifier=we}call(we,fe){const Se=new C(we),ae=(0,N.D)(Se,this.notifier);return ae&&!Se.seenValue?(Se.add(ae),fe.subscribe(Se)):Se}}class C extends p.L{constructor(we){super(we),this.seenValue=!1}notifyNext(we,fe,Se,ae,me){this.seenValue=!0,this.complete()}notifyComplete(){}}},2868:(_n,vt,k)=>{"use strict";k.d(vt,{b:()=>ne});var p=k(3489);function N(){}var _=k(7043);function ne(we,fe,Se){return function(me){return me.lift(new C(we,fe,Se))}}class C{constructor(fe,Se,ae){this.nextOrObserver=fe,this.error=Se,this.complete=ae}call(fe,Se){return Se.subscribe(new J(fe,this.nextOrObserver,this.error,this.complete))}}class J extends p.L{constructor(fe,Se,ae,me){super(fe),this._tapNext=N,this._tapError=N,this._tapComplete=N,this._tapError=ae||N,this._tapComplete=me||N,(0,_.m)(Se)?(this._context=this,this._tapNext=Se):Se&&(this._context=Se,this._tapNext=Se.next||N,this._tapError=Se.error||N,this._tapComplete=Se.complete||N)}_next(fe){try{this._tapNext.call(this._context,fe)}catch(Se){return void this.destination.error(Se)}this.destination.next(fe)}_error(fe){try{this._tapError.call(this._context,fe)}catch(Se){return void this.destination.error(Se)}this.destination.error(fe)}_complete(){try{this._tapComplete.call(this._context)}catch(fe){return void this.destination.error(fe)}return this.destination.complete()}}},4907:(_n,vt,k)=>{"use strict";k.d(vt,{T:()=>_});var p=k(4450),N=k(3489);function _(we=J){return fe=>fe.lift(new ne(we))}class ne{constructor(fe){this.errorFactory=fe}call(fe,Se){return Se.subscribe(new C(fe,this.errorFactory))}}class C extends N.L{constructor(fe,Se){super(fe),this.errorFactory=Se,this.hasValue=!1}_next(fe){this.hasValue=!0,this.destination.next(fe)}_complete(){if(this.hasValue)return this.destination.complete();{let fe;try{fe=this.errorFactory()}catch(Se){fe=Se}this.destination.error(fe)}}}function J(){return new p.K}},6454:(_n,vt,k)=>{"use strict";k.d(vt,{r:()=>_});var p=k(6498),N=k(2654);function _(ne,C){return new p.y(J=>{const we=new N.w;let fe=0;return we.add(C.schedule(function(){fe!==ne.length?(J.next(ne[fe++]),J.closed||we.add(this.schedule())):J.complete()})),we})}},6686:(_n,vt,k)=>{"use strict";k.d(vt,{o:()=>_});var p=k(2654);class N extends p.w{constructor(C,J){super()}schedule(C,J=0){return this}}class _ extends N{constructor(C,J){super(C,J),this.scheduler=C,this.work=J,this.pending=!1}schedule(C,J=0){if(this.closed)return this;this.state=C;const we=this.id,fe=this.scheduler;return null!=we&&(this.id=this.recycleAsyncId(fe,we,J)),this.pending=!0,this.delay=J,this.id=this.id||this.requestAsyncId(fe,this.id,J),this}requestAsyncId(C,J,we=0){return setInterval(C.flush.bind(C,this),we)}recycleAsyncId(C,J,we=0){if(null!==we&&this.delay===we&&!1===this.pending)return J;clearInterval(J)}execute(C,J){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(C,J);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(C,J){let fe,we=!1;try{this.work(C)}catch(Se){we=!0,fe=!!Se&&Se||new Error(Se)}if(we)return this.unsubscribe(),fe}_unsubscribe(){const C=this.id,J=this.scheduler,we=J.actions,fe=we.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==fe&&we.splice(fe,1),null!=C&&(this.id=this.recycleAsyncId(J,C,null)),this.delay=null}}},2268:(_n,vt,k)=>{"use strict";k.d(vt,{v:()=>N});let p=(()=>{class _{constructor(C,J=_.now){this.SchedulerAction=C,this.now=J}schedule(C,J=0,we){return new this.SchedulerAction(this,C).schedule(we,J)}}return _.now=()=>Date.now(),_})();class N extends p{constructor(ne,C=p.now){super(ne,()=>N.delegate&&N.delegate!==this?N.delegate.now():C()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ne,C=0,J){return N.delegate&&N.delegate!==this?N.delegate.schedule(ne,C,J):super.schedule(ne,C,J)}flush(ne){const{actions:C}=this;if(this.active)return void C.push(ne);let J;this.active=!0;do{if(J=ne.execute(ne.state,ne.delay))break}while(ne=C.shift());if(this.active=!1,J){for(;ne=C.shift();)ne.unsubscribe();throw J}}}},352:(_n,vt,k)=>{"use strict";k.d(vt,{r:()=>C});var p=k(6686),_=k(2268);const C=new class ne extends _.v{flush(we){this.active=!0,this.scheduled=void 0;const{actions:fe}=this;let Se,ae=-1,me=fe.length;we=we||fe.shift();do{if(Se=we.execute(we.state,we.delay))break}while(++ae<me&&(we=fe.shift()));if(this.active=!1,Se){for(;++ae<me&&(we=fe.shift());)we.unsubscribe();throw Se}}}(class N extends p.o{constructor(we,fe){super(we,fe),this.scheduler=we,this.work=fe}requestAsyncId(we,fe,Se=0){return null!==Se&&Se>0?super.requestAsyncId(we,fe,Se):(we.actions.push(this),we.scheduled||(we.scheduled=requestAnimationFrame(()=>we.flush(null))))}recycleAsyncId(we,fe,Se=0){if(null!==Se&&Se>0||null===Se&&this.delay>0)return super.recycleAsyncId(we,fe,Se);0===we.actions.length&&(cancelAnimationFrame(fe),we.scheduled=void 0)}})},8139:(_n,vt,k)=>{"use strict";k.d(vt,{e:()=>me});let p=1;const N=Promise.resolve(),_={};function ne(ye){return ye in _&&(delete _[ye],!0)}const C={setImmediate(ye){const Pe=p++;return _[Pe]=!0,N.then(()=>ne(Pe)&&ye()),Pe},clearImmediate(ye){ne(ye)}};var we=k(6686),Se=k(2268);const me=new class ae extends Se.v{flush(Pe){this.active=!0,this.scheduled=void 0;const{actions:Ke}=this;let ut,je=-1,ct=Ke.length;Pe=Pe||Ke.shift();do{if(ut=Pe.execute(Pe.state,Pe.delay))break}while(++je<ct&&(Pe=Ke.shift()));if(this.active=!1,ut){for(;++je<ct&&(Pe=Ke.shift());)Pe.unsubscribe();throw ut}}}(class fe extends we.o{constructor(Pe,Ke){super(Pe,Ke),this.scheduler=Pe,this.work=Ke}requestAsyncId(Pe,Ke,ut=0){return null!==ut&&ut>0?super.requestAsyncId(Pe,Ke,ut):(Pe.actions.push(this),Pe.scheduled||(Pe.scheduled=C.setImmediate(Pe.flush.bind(Pe,null))))}recycleAsyncId(Pe,Ke,ut=0){if(null!==ut&&ut>0||null===ut&&this.delay>0)return super.recycleAsyncId(Pe,Ke,ut);0===Pe.actions.length&&(C.clearImmediate(Ke),Pe.scheduled=void 0)}})},353:(_n,vt,k)=>{"use strict";k.d(vt,{P:()=>_});var p=k(6686);const _=new(k(2268).v)(p.o)},341:(_n,vt,k)=>{"use strict";k.d(vt,{c:()=>C});var p=k(6686),_=k(2268);const C=new class ne extends _.v{}(class N extends p.o{constructor(we,fe){super(we,fe),this.scheduler=we,this.work=fe}schedule(we,fe=0){return fe>0?super.schedule(we,fe):(this.delay=fe,this.state=we,this.scheduler.flush(this),this)}execute(we,fe){return fe>0||this.closed?super.execute(we,fe):this._execute(we,fe)}requestAsyncId(we,fe,Se=0){return null!==Se&&Se>0||null===Se&&this.delay>0?super.requestAsyncId(we,fe,Se):we.flush(this)}})},5430:(_n,vt,k)=>{"use strict";k.d(vt,{hZ:()=>N});const N=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(_n,vt,k)=>{"use strict";k.d(vt,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(_n,vt,k)=>{"use strict";k.d(vt,{b:()=>p});const p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(_n,vt,k)=>{"use strict";k.d(vt,{W:()=>N});const N=(()=>{function _(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return _.prototype=Object.create(Error.prototype),_})()},4450:(_n,vt,k)=>{"use strict";k.d(vt,{K:()=>N});const N=(()=>{function _(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return _.prototype=Object.create(Error.prototype),_})()},5279:(_n,vt,k)=>{"use strict";k.d(vt,{N:()=>N});const N=(()=>{function _(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return _.prototype=Object.create(Error.prototype),_})()},2782:(_n,vt,k)=>{"use strict";function p(N){setTimeout(()=>{throw N},0)}k.d(vt,{z:()=>p})},5379:(_n,vt,k)=>{"use strict";function p(N){return N}k.d(vt,{y:()=>p})},6688:(_n,vt,k)=>{"use strict";k.d(vt,{k:()=>p});const p=Array.isArray||(N=>N&&"number"==typeof N.length)},8515:(_n,vt,k)=>{"use strict";k.d(vt,{z:()=>p});const p=N=>N&&"number"==typeof N.length&&"function"!=typeof N},7043:(_n,vt,k)=>{"use strict";function p(N){return"function"==typeof N}k.d(vt,{m:()=>p})},4241:(_n,vt,k)=>{"use strict";k.d(vt,{k:()=>N});var p=k(6688);function N(_){return!(0,p.k)(_)&&_-parseFloat(_)+1>=0}},7830:(_n,vt,k)=>{"use strict";function p(N){return null!==N&&"object"==typeof N}k.d(vt,{K:()=>p})},8955:(_n,vt,k)=>{"use strict";function p(N){return!!N&&"function"!=typeof N.subscribe&&"function"==typeof N.then}k.d(vt,{t:()=>p})},2866:(_n,vt,k)=>{"use strict";function p(N){return N&&"function"==typeof N.schedule}k.d(vt,{K:()=>p})},4843:(_n,vt,k)=>{"use strict";k.d(vt,{U:()=>_,z:()=>N});var p=k(5379);function N(...ne){return _(ne)}function _(ne){return 0===ne.length?p.y:1===ne.length?ne[0]:function(J){return ne.reduce((we,fe)=>fe(we),J)}}},9249:(_n,vt,k)=>{"use strict";k.d(vt,{s:()=>me});var p=k(3650),N=k(2782),ne=k(5430),J=k(3821),fe=k(8515),Se=k(8955),ae=k(7830);const me=ye=>{if(ye&&"function"==typeof ye[J.L])return(ye=>Pe=>{const Ke=ye[J.L]();if("function"!=typeof Ke.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ke.subscribe(Pe)})(ye);if((0,fe.z)(ye))return(0,p.V)(ye);if((0,Se.t)(ye))return(ye=>Pe=>(ye.then(Ke=>{Pe.closed||(Pe.next(Ke),Pe.complete())},Ke=>Pe.error(Ke)).then(null,N.z),Pe))(ye);if(ye&&"function"==typeof ye[ne.hZ])return(ye=>Pe=>{const Ke=ye[ne.hZ]();for(;;){const ut=Ke.next();if(ut.done){Pe.complete();break}if(Pe.next(ut.value),Pe.closed)break}return"function"==typeof Ke.return&&Pe.add(()=>{Ke.return&&Ke.return()}),Pe})(ye);{const Ke=`You provided ${(0,ae.K)(ye)?"an invalid object":`'${ye}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ke)}}},3650:(_n,vt,k)=>{"use strict";k.d(vt,{V:()=>p});const p=N=>_=>{for(let ne=0,C=N.length;ne<C&&!_.closed;ne++)_.next(N[ne]);_.complete()}},9054:(_n,vt,k)=>{"use strict";k.d(vt,{D:()=>ne});var p=k(1869),N=k(9249),_=k(6498);function ne(C,J,we,fe,Se=new p.d(C,we,fe)){if(!Se.closed)return J instanceof _.y?J.subscribe(Se):(0,N.s)(J)(Se)}},9444:(_n,vt,k)=>{var p=k(4542),N=k(6926),_=N;_.v1=p,_.v4=N,_n.exports=_},7805:_n=>{for(var vt=[],k=0;k<256;++k)vt[k]=(k+256).toString(16).substr(1);_n.exports=function p(N,_){var ne=_||0;return[vt[N[ne++]],vt[N[ne++]],vt[N[ne++]],vt[N[ne++]],"-",vt[N[ne++]],vt[N[ne++]],"-",vt[N[ne++]],vt[N[ne++]],"-",vt[N[ne++]],vt[N[ne++]],"-",vt[N[ne++]],vt[N[ne++]],vt[N[ne++]],vt[N[ne++]],vt[N[ne++]],vt[N[ne++]]].join("")}},7142:_n=>{var vt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(vt){var k=new Uint8Array(16);_n.exports=function(){return vt(k),k}}else{var p=new Array(16);_n.exports=function(){for(var ne,_=0;_<16;_++)0==(3&_)&&(ne=4294967296*Math.random()),p[_]=ne>>>((3&_)<<3)&255;return p}}},4542:(_n,vt,k)=>{var _,ne,p=k(7142),N=k(7805),C=0,J=0;_n.exports=function we(fe,Se,ae){var me=Se&&ae||0,ye=Se||[],Pe=(fe=fe||{}).node||_,Ke=void 0!==fe.clockseq?fe.clockseq:ne;if(null==Pe||null==Ke){var ut=p();null==Pe&&(Pe=_=[1|ut[0],ut[1],ut[2],ut[3],ut[4],ut[5]]),null==Ke&&(Ke=ne=16383&(ut[6]<<8|ut[7]))}var je=void 0!==fe.msecs?fe.msecs:(new Date).getTime(),ct=void 0!==fe.nsecs?fe.nsecs:J+1,mt=je-C+(ct-J)/1e4;if(mt<0&&void 0===fe.clockseq&&(Ke=Ke+1&16383),(mt<0||je>C)&&void 0===fe.nsecs&&(ct=0),ct>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");C=je,J=ct,ne=Ke;var jt=(1e4*(268435455&(je+=122192928e5))+ct)%4294967296;ye[me++]=jt>>>24&255,ye[me++]=jt>>>16&255,ye[me++]=jt>>>8&255,ye[me++]=255&jt;var ht=je/4294967296*1e4&268435455;ye[me++]=ht>>>8&255,ye[me++]=255&ht,ye[me++]=ht>>>24&15|16,ye[me++]=ht>>>16&255,ye[me++]=Ke>>>8|128,ye[me++]=255&Ke;for(var kt=0;kt<6;++kt)ye[me+kt]=Pe[kt];return Se||N(ye)}},6926:(_n,vt,k)=>{var p=k(7142),N=k(7805);_n.exports=function _(ne,C,J){var we=C&&J||0;"string"==typeof ne&&(C="binary"===ne?new Array(16):null,ne=null);var fe=(ne=ne||{}).random||(ne.rng||p)();if(fe[6]=15&fe[6]|64,fe[8]=63&fe[8]|128,C)for(var Se=0;Se<16;++Se)C[we+Se]=fe[Se];return C||N(fe)}},7340:(_n,vt,k)=>{"use strict";k.d(vt,{F4:()=>ae,IO:()=>ut,LC:()=>N,SB:()=>Se,X$:()=>ne,ZE:()=>jt,ZN:()=>mt,_j:()=>p,eR:()=>me,jt:()=>C,k1:()=>ht,l3:()=>_,oB:()=>fe,pV:()=>Pe,ru:()=>J,vP:()=>we});class p{}class N{}const _="*";function ne(kt,yt){return{type:7,name:kt,definitions:yt,options:{}}}function C(kt,yt=null){return{type:4,styles:yt,timings:kt}}function J(kt,yt=null){return{type:3,steps:kt,options:yt}}function we(kt,yt=null){return{type:2,steps:kt,options:yt}}function fe(kt){return{type:6,styles:kt,offset:null}}function Se(kt,yt,et){return{type:0,name:kt,styles:yt,options:et}}function ae(kt){return{type:5,steps:kt}}function me(kt,yt,et=null){return{type:1,expr:kt,animation:yt,options:et}}function Pe(kt=null){return{type:9,options:kt}}function ut(kt,yt,et=null){return{type:11,selector:kt,animation:yt,options:et}}function ct(kt){Promise.resolve().then(kt)}class mt{constructor(yt=0,et=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=yt+et}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(yt=>yt()),this._onDoneFns=[])}onStart(yt){this._originalOnStartFns.push(yt),this._onStartFns.push(yt)}onDone(yt){this._originalOnDoneFns.push(yt),this._onDoneFns.push(yt)}onDestroy(yt){this._onDestroyFns.push(yt)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ct(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(yt=>yt()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(yt=>yt()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(yt){this._position=this.totalTime?yt*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(yt){const et="start"==yt?this._onStartFns:this._onDoneFns;et.forEach(Ve=>Ve()),et.length=0}}class jt{constructor(yt){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=yt;let et=0,Ve=0,pt=0;const tt=this.players.length;0==tt?ct(()=>this._onFinish()):this.players.forEach(Qe=>{Qe.onDone(()=>{++et==tt&&this._onFinish()}),Qe.onDestroy(()=>{++Ve==tt&&this._onDestroy()}),Qe.onStart(()=>{++pt==tt&&this._onStart()})}),this.totalTime=this.players.reduce((Qe,Lt)=>Math.max(Qe,Lt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(yt=>yt()),this._onDoneFns=[])}init(){this.players.forEach(yt=>yt.init())}onStart(yt){this._onStartFns.push(yt)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(yt=>yt()),this._onStartFns=[])}onDone(yt){this._onDoneFns.push(yt)}onDestroy(yt){this._onDestroyFns.push(yt)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(yt=>yt.play())}pause(){this.players.forEach(yt=>yt.pause())}restart(){this.players.forEach(yt=>yt.restart())}finish(){this._onFinish(),this.players.forEach(yt=>yt.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(yt=>yt.destroy()),this._onDestroyFns.forEach(yt=>yt()),this._onDestroyFns=[])}reset(){this.players.forEach(yt=>yt.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(yt){const et=yt*this.totalTime;this.players.forEach(Ve=>{const pt=Ve.totalTime?Math.min(1,et/Ve.totalTime):1;Ve.setPosition(pt)})}getPosition(){const yt=this.players.reduce((et,Ve)=>null===et||Ve.totalTime>et.totalTime?Ve:et,null);return null!=yt?yt.getPosition():0}beforeDestroy(){this.players.forEach(yt=>{yt.beforeDestroy&&yt.beforeDestroy()})}triggerCallback(yt){const et="start"==yt?this._onStartFns:this._onDoneFns;et.forEach(Ve=>Ve()),et.length=0}}const ht="!"},2687:(_n,vt,k)=>{"use strict";k.d(vt,{Em:()=>qn,X6:()=>de,ic:()=>oi,qV:()=>Ht,qm:()=>Nt,rt:()=>zt,tE:()=>Jt,yG:()=>Le});var p=k(6895),N=k(4650),_=k(3353),ne=k(8929),C=k(2654),J=k(591),we=k(1086),fe=k(9521),Se=k(2868),ae=k(13),me=k(2198),ye=k(4850),Pe=k(2986),Ke=k(1307),ut=k(5778),je=k(7625),ct=k(1281),mt=k(9643),jt=k(2289);class qn extends class Vt{constructor(rt){this._items=rt,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ne.xQ,this._typeaheadSubscription=C.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=Je=>Je.disabled,this._pressedLetters=[],this.tabOut=new ne.xQ,this.change=new ne.xQ,rt instanceof N.n_E&&rt.changes.subscribe(Je=>{if(this._activeItem){const $t=Je.toArray().indexOf(this._activeItem);$t>-1&&$t!==this._activeItemIndex&&(this._activeItemIndex=$t)}})}skipPredicate(rt){return this._skipPredicateFn=rt,this}withWrap(rt=!0){return this._wrap=rt,this}withVerticalOrientation(rt=!0){return this._vertical=rt,this}withHorizontalOrientation(rt){return this._horizontal=rt,this}withAllowedModifierKeys(rt){return this._allowedModifierKeys=rt,this}withTypeAhead(rt=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Se.b)(Je=>this._pressedLetters.push(Je)),(0,ae.b)(rt),(0,me.h)(()=>this._pressedLetters.length>0),(0,ye.U)(()=>this._pressedLetters.join(""))).subscribe(Je=>{const Tt=this._getItemsArray();for(let $t=1;$t<Tt.length+1;$t++){const ge=(this._activeItemIndex+$t)%Tt.length,j=Tt[ge];if(!this._skipPredicateFn(j)&&0===j.getLabel().toUpperCase().trim().indexOf(Je)){this.setActiveItem(ge);break}}this._pressedLetters=[]}),this}withHomeAndEnd(rt=!0){return this._homeAndEnd=rt,this}setActiveItem(rt){const Je=this._activeItem;this.updateActiveItem(rt),this._activeItem!==Je&&this.change.next(this._activeItemIndex)}onKeydown(rt){const Je=rt.keyCode,$t=["altKey","ctrlKey","metaKey","shiftKey"].every(ge=>!rt[ge]||this._allowedModifierKeys.indexOf(ge)>-1);switch(Je){case fe.Mf:return void this.tabOut.next();case fe.JH:if(this._vertical&&$t){this.setNextItemActive();break}return;case fe.LH:if(this._vertical&&$t){this.setPreviousItemActive();break}return;case fe.SV:if(this._horizontal&&$t){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case fe.oh:if(this._horizontal&&$t){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case fe.Sd:if(this._homeAndEnd&&$t){this.setFirstItemActive();break}return;case fe.uR:if(this._homeAndEnd&&$t){this.setLastItemActive();break}return;default:return void(($t||(0,fe.Vb)(rt,"shiftKey"))&&(rt.key&&1===rt.key.length?this._letterKeyStream.next(rt.key.toLocaleUpperCase()):(Je>=fe.A&&Je<=fe.Z||Je>=fe.xE&&Je<=fe.aO)&&this._letterKeyStream.next(String.fromCharCode(Je))))}this._pressedLetters=[],rt.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(rt){const Je=this._getItemsArray(),Tt="number"==typeof rt?rt:Je.indexOf(rt);this._activeItem=Je[Tt]??null,this._activeItemIndex=Tt}_setActiveItemByDelta(rt){this._wrap?this._setActiveInWrapMode(rt):this._setActiveInDefaultMode(rt)}_setActiveInWrapMode(rt){const Je=this._getItemsArray();for(let Tt=1;Tt<=Je.length;Tt++){const $t=(this._activeItemIndex+rt*Tt+Je.length)%Je.length;if(!this._skipPredicateFn(Je[$t]))return void this.setActiveItem($t)}}_setActiveInDefaultMode(rt){this._setActiveItemByIndex(this._activeItemIndex+rt,rt)}_setActiveItemByIndex(rt,Je){const Tt=this._getItemsArray();if(Tt[rt]){for(;this._skipPredicateFn(Tt[rt]);)if(!Tt[rt+=Je])return;this.setActiveItem(rt)}}_getItemsArray(){return this._items instanceof N.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(rt){return this._origin=rt,this}setActiveItem(rt){super.setActiveItem(rt),this.activeItem&&this.activeItem.focus(this._origin)}}let oi=(()=>{class st{constructor(Je){this._platform=Je}isDisabled(Je){return Je.hasAttribute("disabled")}isVisible(Je){return function rn(st){return!!(st.offsetWidth||st.offsetHeight||"function"==typeof st.getClientRects&&st.getClientRects().length)}(Je)&&"visible"===getComputedStyle(Je).visibility}isTabbable(Je){if(!this._platform.isBrowser)return!1;const Tt=function Nn(st){try{return st.frameElement}catch{return null}}(function qt(st){return st.ownerDocument&&st.ownerDocument.defaultView||window}(Je));if(Tt&&(-1===tn(Tt)||!this.isVisible(Tt)))return!1;let $t=Je.nodeName.toLowerCase(),ge=tn(Je);return Je.hasAttribute("contenteditable")?-1!==ge:!("iframe"===$t||"object"===$t||this._platform.WEBKIT&&this._platform.IOS&&!function Ln(st){let rt=st.nodeName.toLowerCase(),Je="input"===rt&&st.type;return"text"===Je||"password"===Je||"select"===rt||"textarea"===rt}(Je))&&("audio"===$t?!!Je.hasAttribute("controls")&&-1!==ge:"video"===$t?-1!==ge&&(null!==ge||this._platform.FIREFOX||Je.hasAttribute("controls")):Je.tabIndex>=0)}isFocusable(Je,Tt){return function It(st){return!function Re(st){return function Fe(st){return"input"==st.nodeName.toLowerCase()}(st)&&"hidden"==st.type}(st)&&(function gn(st){let rt=st.nodeName.toLowerCase();return"input"===rt||"select"===rt||"button"===rt||"textarea"===rt}(st)||function Ue(st){return function Ze(st){return"a"==st.nodeName.toLowerCase()}(st)&&st.hasAttribute("href")}(st)||st.hasAttribute("contenteditable")||St(st))}(Je)&&!this.isDisabled(Je)&&(Tt?.ignoreVisibility||this.isVisible(Je))}}return st.\u0275fac=function(Je){return new(Je||st)(N.LFG(_.t4))},st.\u0275prov=N.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"}),st})();function St(st){if(!st.hasAttribute("tabindex")||void 0===st.tabIndex)return!1;let rt=st.getAttribute("tabindex");return!(!rt||isNaN(parseInt(rt,10)))}function tn(st){if(!St(st))return null;const rt=parseInt(st.getAttribute("tabindex")||"",10);return isNaN(rt)?-1:rt}class Mt{constructor(rt,Je,Tt,$t,ge=!1){this._element=rt,this._checker=Je,this._ngZone=Tt,this._document=$t,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,ge||this.attachAnchors()}get enabled(){return this._enabled}set enabled(rt){this._enabled=rt,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(rt,this._startAnchor),this._toggleAnchorTabIndex(rt,this._endAnchor))}destroy(){const rt=this._startAnchor,Je=this._endAnchor;rt&&(rt.removeEventListener("focus",this.startAnchorListener),rt.remove()),Je&&(Je.removeEventListener("focus",this.endAnchorListener),Je.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(rt){return new Promise(Je=>{this._executeOnStable(()=>Je(this.focusInitialElement(rt)))})}focusFirstTabbableElementWhenReady(rt){return new Promise(Je=>{this._executeOnStable(()=>Je(this.focusFirstTabbableElement(rt)))})}focusLastTabbableElementWhenReady(rt){return new Promise(Je=>{this._executeOnStable(()=>Je(this.focusLastTabbableElement(rt)))})}_getRegionBoundary(rt){const Je=this._element.querySelectorAll(`[cdk-focus-region-${rt}], [cdkFocusRegion${rt}], [cdk-focus-${rt}]`);return"start"==rt?Je.length?Je[0]:this._getFirstTabbableElement(this._element):Je.length?Je[Je.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(rt){const Je=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Je){if(!this._checker.isFocusable(Je)){const Tt=this._getFirstTabbableElement(Je);return Tt?.focus(rt),!!Tt}return Je.focus(rt),!0}return this.focusFirstTabbableElement(rt)}focusFirstTabbableElement(rt){const Je=this._getRegionBoundary("start");return Je&&Je.focus(rt),!!Je}focusLastTabbableElement(rt){const Je=this._getRegionBoundary("end");return Je&&Je.focus(rt),!!Je}hasAttached(){return this._hasAttached}_getFirstTabbableElement(rt){if(this._checker.isFocusable(rt)&&this._checker.isTabbable(rt))return rt;const Je=rt.children;for(let Tt=0;Tt<Je.length;Tt++){const $t=Je[Tt].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Je[Tt]):null;if($t)return $t}return null}_getLastTabbableElement(rt){if(this._checker.isFocusable(rt)&&this._checker.isTabbable(rt))return rt;const Je=rt.children;for(let Tt=Je.length-1;Tt>=0;Tt--){const $t=Je[Tt].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Je[Tt]):null;if($t)return $t}return null}_createAnchor(){const rt=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,rt),rt.classList.add("cdk-visually-hidden"),rt.classList.add("cdk-focus-trap-anchor"),rt.setAttribute("aria-hidden","true"),rt}_toggleAnchorTabIndex(rt,Je){rt?Je.setAttribute("tabindex","0"):Je.removeAttribute("tabindex")}toggleAnchors(rt){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(rt,this._startAnchor),this._toggleAnchorTabIndex(rt,this._endAnchor))}_executeOnStable(rt){this._ngZone.isStable?rt():this._ngZone.onStable.pipe((0,Pe.q)(1)).subscribe(rt)}}let Ht=(()=>{class st{constructor(Je,Tt,$t){this._checker=Je,this._ngZone=Tt,this._document=$t}create(Je,Tt=!1){return new Mt(Je,this._checker,this._ngZone,this._document,Tt)}}return st.\u0275fac=function(Je){return new(Je||st)(N.LFG(oi),N.LFG(N.R0b),N.LFG(p.K0))},st.\u0275prov=N.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"}),st})();function de(st){return 0===st.buttons||0===st.offsetX&&0===st.offsetY}function Le(st){const rt=st.touches&&st.touches[0]||st.changedTouches&&st.changedTouches[0];return!(!rt||-1!==rt.identifier||null!=rt.radiusX&&1!==rt.radiusX||null!=rt.radiusY&&1!==rt.radiusY)}const Be=new N.OlP("cdk-input-modality-detector-options"),Ct={ignoreKeys:[fe.zL,fe.jx,fe.b2,fe.MW,fe.JU]},hn=(0,_.i$)({passive:!0,capture:!0});let Un=(()=>{class st{constructor(Je,Tt,$t,ge){this._platform=Je,this._mostRecentTarget=null,this._modality=new J.X(null),this._lastTouchMs=0,this._onKeydown=j=>{var G,X;null!==(G=this._options)&&void 0!==G&&null!==(X=G.ignoreKeys)&&void 0!==X&&X.some(K=>K===j.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,_.sA)(j))},this._onMousedown=j=>{Date.now()-this._lastTouchMs<650||(this._modality.next(de(j)?"keyboard":"mouse"),this._mostRecentTarget=(0,_.sA)(j))},this._onTouchstart=j=>{Le(j)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,_.sA)(j))},this._options={...Ct,...ge},this.modalityDetected=this._modality.pipe((0,Ke.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,ut.x)()),Je.isBrowser&&Tt.runOutsideAngular(()=>{$t.addEventListener("keydown",this._onKeydown,hn),$t.addEventListener("mousedown",this._onMousedown,hn),$t.addEventListener("touchstart",this._onTouchstart,hn)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,hn),document.removeEventListener("mousedown",this._onMousedown,hn),document.removeEventListener("touchstart",this._onTouchstart,hn))}}return st.\u0275fac=function(Je){return new(Je||st)(N.LFG(_.t4),N.LFG(N.R0b),N.LFG(p.K0),N.LFG(Be,8))},st.\u0275prov=N.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"}),st})();const ni=new N.OlP("cdk-focus-monitor-default-options"),at=(0,_.i$)({passive:!0,capture:!0});let Jt=(()=>{class st{constructor(Je,Tt,$t,ge,j){this._ngZone=Je,this._platform=Tt,this._inputModalityDetector=$t,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ne.xQ,this._rootNodeFocusAndBlurListener=G=>{for(let K=(0,_.sA)(G);K;K=K.parentElement)"focus"===G.type?this._onFocus(G,K):this._onBlur(G,K)},this._document=ge,this._detectionMode=j?.detectionMode||0}monitor(Je,Tt=!1){const $t=(0,ct.fI)(Je);if(!this._platform.isBrowser||1!==$t.nodeType)return(0,we.of)(null);const ge=(0,_.kV)($t)||this._getDocument(),j=this._elementInfo.get($t);if(j)return Tt&&(j.checkChildren=!0),j.subject;const G={checkChildren:Tt,subject:new ne.xQ,rootNode:ge};return this._elementInfo.set($t,G),this._registerGlobalListeners(G),G.subject}stopMonitoring(Je){const Tt=(0,ct.fI)(Je),$t=this._elementInfo.get(Tt);$t&&($t.subject.complete(),this._setClasses(Tt),this._elementInfo.delete(Tt),this._removeGlobalListeners($t))}focusVia(Je,Tt,$t){const ge=(0,ct.fI)(Je);ge===this._getDocument().activeElement?this._getClosestElementsInfo(ge).forEach(([G,X])=>this._originChanged(G,Tt,X)):(this._setOrigin(Tt),"function"==typeof ge.focus&&ge.focus($t))}ngOnDestroy(){this._elementInfo.forEach((Je,Tt)=>this.stopMonitoring(Tt))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Je){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Je)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Je&&this._isLastInteractionFromInputLabel(Je)?"mouse":"program"}_shouldBeAttributedToTouch(Je){return 1===this._detectionMode||!(null==Je||!Je.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(Je,Tt){Je.classList.toggle("cdk-focused",!!Tt),Je.classList.toggle("cdk-touch-focused","touch"===Tt),Je.classList.toggle("cdk-keyboard-focused","keyboard"===Tt),Je.classList.toggle("cdk-mouse-focused","mouse"===Tt),Je.classList.toggle("cdk-program-focused","program"===Tt)}_setOrigin(Je,Tt=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Je,this._originFromTouchInteraction="touch"===Je&&Tt,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Je,Tt){const $t=this._elementInfo.get(Tt),ge=(0,_.sA)(Je);!$t||!$t.checkChildren&&Tt!==ge||this._originChanged(Tt,this._getFocusOrigin(ge),$t)}_onBlur(Je,Tt){const $t=this._elementInfo.get(Tt);!$t||$t.checkChildren&&Je.relatedTarget instanceof Node&&Tt.contains(Je.relatedTarget)||(this._setClasses(Tt),this._emitOrigin($t,null))}_emitOrigin(Je,Tt){Je.subject.observers.length&&this._ngZone.run(()=>Je.subject.next(Tt))}_registerGlobalListeners(Je){if(!this._platform.isBrowser)return;const Tt=Je.rootNode,$t=this._rootNodeFocusListenerCount.get(Tt)||0;$t||this._ngZone.runOutsideAngular(()=>{Tt.addEventListener("focus",this._rootNodeFocusAndBlurListener,at),Tt.addEventListener("blur",this._rootNodeFocusAndBlurListener,at)}),this._rootNodeFocusListenerCount.set(Tt,$t+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,je.R)(this._stopInputModalityDetector)).subscribe(ge=>{this._setOrigin(ge,!0)}))}_removeGlobalListeners(Je){const Tt=Je.rootNode;if(this._rootNodeFocusListenerCount.has(Tt)){const $t=this._rootNodeFocusListenerCount.get(Tt);$t>1?this._rootNodeFocusListenerCount.set(Tt,$t-1):(Tt.removeEventListener("focus",this._rootNodeFocusAndBlurListener,at),Tt.removeEventListener("blur",this._rootNodeFocusAndBlurListener,at),this._rootNodeFocusListenerCount.delete(Tt))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Je,Tt,$t){this._setClasses(Je,Tt),this._emitOrigin($t,Tt),this._lastFocusOrigin=Tt}_getClosestElementsInfo(Je){const Tt=[];return this._elementInfo.forEach(($t,ge)=>{(ge===Je||$t.checkChildren&&ge.contains(Je))&&Tt.push([ge,$t])}),Tt}_isLastInteractionFromInputLabel(Je){const{_mostRecentTarget:Tt,mostRecentModality:$t}=this._inputModalityDetector;if("mouse"!==$t||!Tt||Tt===Je||"INPUT"!==Je.nodeName&&"TEXTAREA"!==Je.nodeName||Je.disabled)return!1;const ge=Je.labels;if(ge)for(let j=0;j<ge.length;j++)if(ge[j].contains(Tt))return!0;return!1}}return st.\u0275fac=function(Je){return new(Je||st)(N.LFG(N.R0b),N.LFG(_.t4),N.LFG(Un),N.LFG(p.K0,8),N.LFG(ni,8))},st.\u0275prov=N.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"}),st})();const Ne="cdk-high-contrast-black-on-white",ke="cdk-high-contrast-white-on-black",ue="cdk-high-contrast-active";let Nt=(()=>{class st{constructor(Je,Tt){this._platform=Je,this._document=Tt,this._breakpointSubscription=(0,N.f3M)(jt.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Je=this._document.createElement("div");Je.style.backgroundColor="rgb(1,2,3)",Je.style.position="absolute",this._document.body.appendChild(Je);const Tt=this._document.defaultView||window,$t=Tt&&Tt.getComputedStyle?Tt.getComputedStyle(Je):null,ge=($t&&$t.backgroundColor||"").replace(/ /g,"");switch(Je.remove(),ge){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Je=this._document.body.classList;Je.remove(ue,Ne,ke),this._hasCheckedHighContrastMode=!0;const Tt=this.getHighContrastMode();1===Tt?Je.add(ue,Ne):2===Tt&&Je.add(ue,ke)}}}return st.\u0275fac=function(Je){return new(Je||st)(N.LFG(_.t4),N.LFG(p.K0))},st.\u0275prov=N.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"}),st})(),zt=(()=>{class st{constructor(Je){Je._applyBodyHighContrastModeCssClasses()}}return st.\u0275fac=function(Je){return new(Je||st)(N.LFG(Nt))},st.\u0275mod=N.oAB({type:st}),st.\u0275inj=N.cJS({imports:[mt.Q8]}),st})()},445:(_n,vt,k)=>{"use strict";k.d(vt,{Is:()=>we,vT:()=>Se});var p=k(4650),N=k(6895);const _=new p.OlP("cdk-dir-doc",{providedIn:"root",factory:function ne(){return(0,p.f3M)(N.K0)}}),C=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let we=(()=>{class ae{constructor(ye){if(this.value="ltr",this.change=new p.vpe,ye){const Ke=ye.documentElement?ye.documentElement.dir:null;this.value=function J(ae){var me;const ye=ae?.toLowerCase()||"";return"auto"===ye&&typeof navigator<"u"&&null!==(me=navigator)&&void 0!==me&&me.language?C.test(navigator.language)?"rtl":"ltr":"rtl"===ye?"rtl":"ltr"}((ye.body?ye.body.dir:null)||Ke||"ltr")}}ngOnDestroy(){this.change.complete()}}return ae.\u0275fac=function(ye){return new(ye||ae)(p.LFG(_,8))},ae.\u0275prov=p.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})(),Se=(()=>{class ae{}return ae.\u0275fac=function(ye){return new(ye||ae)},ae.\u0275mod=p.oAB({type:ae}),ae.\u0275inj=p.cJS({}),ae})()},1281:(_n,vt,k)=>{"use strict";k.d(vt,{Eq:()=>C,HM:()=>J,Ig:()=>N,fI:()=>we,su:()=>_});var p=k(4650);function N(Se){return null!=Se&&"false"!=`${Se}`}function _(Se,ae=0){return function ne(Se){return!isNaN(parseFloat(Se))&&!isNaN(Number(Se))}(Se)?Number(Se):ae}function C(Se){return Array.isArray(Se)?Se:[Se]}function J(Se){return null==Se?"":"string"==typeof Se?Se:`${Se}px`}function we(Se){return Se instanceof p.SBq?Se.nativeElement:Se}},5017:(_n,vt,k)=>{"use strict";k.d(vt,{A8:()=>me,Ov:()=>Se,Z9:()=>C,eX:()=>fe,k:()=>ye,yy:()=>we});var p=k(1762),N=k(8929),_=k(4650);function C(Pe){return Pe&&"function"==typeof Pe.connect&&!(Pe instanceof p.c)}class we{applyChanges(Ke,ut,je,ct,mt){Ke.forEachOperation((jt,ht,kt)=>{let yt,et;if(null==jt.previousIndex){const pt=je(jt,ht,kt);yt=ut.createEmbeddedView(pt.templateRef,pt.context,pt.index),et=1}else null==kt?(ut.remove(ht),et=3):(yt=ut.get(ht),ut.move(yt,kt),et=2);var Ve;mt&&mt({context:null===(Ve=yt)||void 0===Ve?void 0:Ve.context,operation:et,record:jt})})}detach(){}}class fe{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(Ke,ut,je,ct,mt){Ke.forEachOperation((jt,ht,kt)=>{let yt,et;var Ve;null==jt.previousIndex?(yt=this._insertView(()=>je(jt,ht,kt),kt,ut,ct(jt)),et=yt?1:0):null==kt?(this._detachAndCacheView(ht,ut),et=3):(yt=this._moveView(ht,kt,ut,ct(jt)),et=2),mt&&mt({context:null===(Ve=yt)||void 0===Ve?void 0:Ve.context,operation:et,record:jt})})}detach(){for(const Ke of this._viewCache)Ke.destroy();this._viewCache=[]}_insertView(Ke,ut,je,ct){const mt=this._insertViewFromCache(ut,je);if(mt)return void(mt.context.$implicit=ct);const jt=Ke();return je.createEmbeddedView(jt.templateRef,jt.context,jt.index)}_detachAndCacheView(Ke,ut){const je=ut.detach(Ke);this._maybeCacheView(je,ut)}_moveView(Ke,ut,je,ct){const mt=je.get(Ke);return je.move(mt,ut),mt.context.$implicit=ct,mt}_maybeCacheView(Ke,ut){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(Ke);else{const je=ut.indexOf(Ke);-1===je?Ke.destroy():ut.remove(je)}}_insertViewFromCache(Ke,ut){const je=this._viewCache.pop();return je&&ut.insert(je,Ke),je||null}}class Se{constructor(Ke=!1,ut,je=!0,ct){this._multiple=Ke,this._emitChanges=je,this.compareWith=ct,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new N.xQ,ut&&ut.length&&(Ke?ut.forEach(mt=>this._markSelected(mt)):this._markSelected(ut[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...Ke){this._verifyValueAssignment(Ke),Ke.forEach(je=>this._markSelected(je));const ut=this._hasQueuedChanges();return this._emitChangeEvent(),ut}deselect(...Ke){this._verifyValueAssignment(Ke),Ke.forEach(je=>this._unmarkSelected(je));const ut=this._hasQueuedChanges();return this._emitChangeEvent(),ut}setSelection(...Ke){this._verifyValueAssignment(Ke);const ut=this.selected,je=new Set(Ke);Ke.forEach(mt=>this._markSelected(mt)),ut.filter(mt=>!je.has(mt)).forEach(mt=>this._unmarkSelected(mt));const ct=this._hasQueuedChanges();return this._emitChangeEvent(),ct}toggle(Ke){return this.isSelected(Ke)?this.deselect(Ke):this.select(Ke)}clear(Ke=!0){this._unmarkAll();const ut=this._hasQueuedChanges();return Ke&&this._emitChangeEvent(),ut}isSelected(Ke){if(this.compareWith){for(const ut of this._selection)if(this.compareWith(ut,Ke))return!0;return!1}return this._selection.has(Ke)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(Ke){this._multiple&&this.selected&&this._selected.sort(Ke)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(Ke){this.isSelected(Ke)||(this._multiple||this._unmarkAll(),this.isSelected(Ke)||this._selection.add(Ke),this._emitChanges&&this._selectedToEmit.push(Ke))}_unmarkSelected(Ke){this.isSelected(Ke)&&(this._selection.delete(Ke),this._emitChanges&&this._deselectedToEmit.push(Ke))}_unmarkAll(){this.isEmpty()||this._selection.forEach(Ke=>this._unmarkSelected(Ke))}_verifyValueAssignment(Ke){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let me=(()=>{class Pe{constructor(){this._listeners=[]}notify(ut,je){for(let ct of this._listeners)ct(ut,je)}listen(ut){return this._listeners.push(ut),()=>{this._listeners=this._listeners.filter(je=>ut!==je)}}ngOnDestroy(){this._listeners=[]}}return Pe.\u0275fac=function(ut){return new(ut||Pe)},Pe.\u0275prov=_.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})();const ye=new _.OlP("_ViewRepeater")},7855:(_n,vt,k)=>{"use strict";k.d(vt,{LL:()=>je,Su:()=>tt,Vq:()=>Ve,ib:()=>Ke});var p=k(2687),N=k(8184),_=k(3353),ne=k(4080),C=k(6895),J=k(4650),we=k(9521),fe=k(8929),Se=k(8514),ae=k(1086),me=k(445),ye=k(1059);function Pe(Qe,Lt){}class Ke{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let je=(()=>{class Qe extends ne.en{constructor(We,Ot,Vt,bn,qn,jn,oi,Nn){super(),this._elementRef=We,this._focusTrapFactory=Ot,this._config=bn,this._interactivityChecker=qn,this._ngZone=jn,this._overlayRef=oi,this._focusMonitor=Nn,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=rn=>{this._portalOutlet.hasAttached();const gn=this._portalOutlet.attachDomPortal(rn);return this._contentAttached(),gn},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=Vt}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(We){this._portalOutlet.hasAttached();const Ot=this._portalOutlet.attachComponentPortal(We);return this._contentAttached(),Ot}attachTemplatePortal(We){this._portalOutlet.hasAttached();const Ot=this._portalOutlet.attachTemplatePortal(We);return this._contentAttached(),Ot}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(We,Ot){this._interactivityChecker.isFocusable(We)||(We.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Vt=()=>{We.removeEventListener("blur",Vt),We.removeEventListener("mousedown",Vt),We.removeAttribute("tabindex")};We.addEventListener("blur",Vt),We.addEventListener("mousedown",Vt)})),We.focus(Ot)}_focusByCssSelector(We,Ot){let Vt=this._elementRef.nativeElement.querySelector(We);Vt&&this._forceFocus(Vt,Ot)}_trapFocus(){const We=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||We.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(Ot=>{Ot||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const We=this._config.restoreFocus;let Ot=null;if("string"==typeof We?Ot=this._document.querySelector(We):"boolean"==typeof We?Ot=We?this._elementFocusedBeforeDialogWasOpened:null:We&&(Ot=We),this._config.restoreFocus&&Ot&&"function"==typeof Ot.focus){const Vt=(0,_.ht)(),bn=this._elementRef.nativeElement;(!Vt||Vt===this._document.body||Vt===bn||bn.contains(Vt))&&(this._focusMonitor?(this._focusMonitor.focusVia(Ot,this._closeInteractionType),this._closeInteractionType=null):Ot.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const We=this._elementRef.nativeElement,Ot=(0,_.ht)();return We===Ot||We.contains(Ot)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,_.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return Qe.\u0275fac=function(We){return new(We||Qe)(J.Y36(J.SBq),J.Y36(p.qV),J.Y36(C.K0,8),J.Y36(Ke),J.Y36(p.ic),J.Y36(J.R0b),J.Y36(N.Iu),J.Y36(p.tE))},Qe.\u0275cmp=J.Xpm({type:Qe,selectors:[["cdk-dialog-container"]],viewQuery:function(We,Ot){if(1&We&&J.Gf(ne.Pl,7),2&We){let Vt;J.iGM(Vt=J.CRH())&&(Ot._portalOutlet=Vt.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(We,Ot){2&We&&J.uIk("id",Ot._config.id||null)("role",Ot._config.role)("aria-modal",Ot._config.ariaModal)("aria-labelledby",Ot._config.ariaLabel?null:Ot._ariaLabelledBy)("aria-label",Ot._config.ariaLabel)("aria-describedby",Ot._config.ariaDescribedBy||null)},features:[J.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(We,Ot){1&We&&J.YNc(0,Pe,0,0,"ng-template",0)},dependencies:[ne.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),Qe})();class ct{constructor(Lt,We){this.overlayRef=Lt,this.config=We,this.closed=new fe.xQ,this.disableClose=We.disableClose,this.backdropClick=Lt.backdropClick(),this.keydownEvents=Lt.keydownEvents(),this.outsidePointerEvents=Lt.outsidePointerEvents(),this.id=We.id,this.keydownEvents.subscribe(Ot=>{Ot.keyCode===we.hY&&!this.disableClose&&!(0,we.Vb)(Ot)&&(Ot.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(Lt,We){if(this.containerInstance){const Ot=this.closed;this.containerInstance._closeInteractionType=We?.focusOrigin||"program",this.overlayRef.dispose(),Ot.next(Lt),Ot.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(Lt="",We=""){return this.overlayRef.updateSize({width:Lt,height:We}),this}addPanelClass(Lt){return this.overlayRef.addPanelClass(Lt),this}removePanelClass(Lt){return this.overlayRef.removePanelClass(Lt),this}}const mt=new J.OlP("DialogScrollStrategy"),jt=new J.OlP("DialogData"),ht=new J.OlP("DefaultDialogConfig"),yt={provide:mt,deps:[N.aV],useFactory:function kt(Qe){return()=>Qe.scrollStrategies.block()}};let et=0,Ve=(()=>{class Qe{constructor(We,Ot,Vt,bn,qn,jn){this._overlay=We,this._injector=Ot,this._defaultOptions=Vt,this._parentDialog=bn,this._overlayContainer=qn,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new fe.xQ,this._afterOpenedAtThisLevel=new fe.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Se.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,ye.O)(void 0))),this._scrollStrategy=jn}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(We,Ot){(Ot={...this._defaultOptions||new Ke,...Ot}).id=Ot.id||"cdk-dialog-"+et++,Ot.id&&this.getDialogById(Ot.id);const bn=this._getOverlayConfig(Ot),qn=this._overlay.create(bn),jn=new ct(qn,Ot),oi=this._attachContainer(qn,jn,Ot);return jn.containerInstance=oi,this._attachDialogContent(We,jn,oi,Ot),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(jn),jn.closed.subscribe(()=>this._removeOpenDialog(jn,!0)),this.afterOpened.next(jn),jn}closeAll(){pt(this.openDialogs,We=>We.close())}getDialogById(We){return this.openDialogs.find(Ot=>Ot.id===We)}ngOnDestroy(){pt(this._openDialogsAtThisLevel,We=>{!1===We.config.closeOnDestroy&&this._removeOpenDialog(We,!1)}),pt(this._openDialogsAtThisLevel,We=>We.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(We){const Ot=new N.X_({positionStrategy:We.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:We.scrollStrategy||this._scrollStrategy(),panelClass:We.panelClass,hasBackdrop:We.hasBackdrop,direction:We.direction,minWidth:We.minWidth,minHeight:We.minHeight,maxWidth:We.maxWidth,maxHeight:We.maxHeight,width:We.width,height:We.height,disposeOnNavigation:We.closeOnNavigation});return We.backdropClass&&(Ot.backdropClass=We.backdropClass),Ot}_attachContainer(We,Ot,Vt){var bn;const qn=Vt.injector||(null===(bn=Vt.viewContainerRef)||void 0===bn?void 0:bn.injector),jn=[{provide:Ke,useValue:Vt},{provide:ct,useValue:Ot},{provide:N.Iu,useValue:We}];let oi;Vt.container?"function"==typeof Vt.container?oi=Vt.container:(oi=Vt.container.type,jn.push(...Vt.container.providers(Vt))):oi=je;const Nn=new ne.C5(oi,Vt.viewContainerRef,J.zs3.create({parent:qn||this._injector,providers:jn}),Vt.componentFactoryResolver);return We.attach(Nn).instance}_attachDialogContent(We,Ot,Vt,bn){if(We instanceof J.Rgc){const qn=this._createInjector(bn,Ot,Vt,void 0);let jn={$implicit:bn.data,dialogRef:Ot};bn.templateContext&&(jn={...jn,..."function"==typeof bn.templateContext?bn.templateContext():bn.templateContext}),Vt.attachTemplatePortal(new ne.UE(We,null,jn,qn))}else{const qn=this._createInjector(bn,Ot,Vt,this._injector),jn=Vt.attachComponentPortal(new ne.C5(We,bn.viewContainerRef,qn,bn.componentFactoryResolver));Ot.componentInstance=jn.instance}}_createInjector(We,Ot,Vt,bn){var qn;const jn=We.injector||(null===(qn=We.viewContainerRef)||void 0===qn?void 0:qn.injector),oi=[{provide:jt,useValue:We.data},{provide:ct,useValue:Ot}];return We.providers&&("function"==typeof We.providers?oi.push(...We.providers(Ot,We,Vt)):oi.push(...We.providers)),We.direction&&(!jn||!jn.get(me.Is,null,J.XFs.Optional))&&oi.push({provide:me.Is,useValue:{value:We.direction,change:(0,ae.of)()}}),J.zs3.create({parent:jn||bn,providers:oi})}_removeOpenDialog(We,Ot){const Vt=this.openDialogs.indexOf(We);Vt>-1&&(this.openDialogs.splice(Vt,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((bn,qn)=>{bn?qn.setAttribute("aria-hidden",bn):qn.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),Ot&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const We=this._overlayContainer.getContainerElement();if(We.parentElement){const Ot=We.parentElement.children;for(let Vt=Ot.length-1;Vt>-1;Vt--){const bn=Ot[Vt];bn!==We&&"SCRIPT"!==bn.nodeName&&"STYLE"!==bn.nodeName&&!bn.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(bn,bn.getAttribute("aria-hidden")),bn.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const We=this._parentDialog;return We?We._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return Qe.\u0275fac=function(We){return new(We||Qe)(J.LFG(N.aV),J.LFG(J.zs3),J.LFG(ht,8),J.LFG(Qe,12),J.LFG(N.Xj),J.LFG(mt))},Qe.\u0275prov=J.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();function pt(Qe,Lt){let We=Qe.length;for(;We--;)Lt(Qe[We])}let tt=(()=>{class Qe{}return Qe.\u0275fac=function(We){return new(We||Qe)},Qe.\u0275mod=J.oAB({type:Qe}),Qe.\u0275inj=J.cJS({providers:[Ve,yt],imports:[N.U8,ne.eL,p.rt,ne.eL]}),Qe})()},3977:(_n,vt,k)=>{"use strict";k.d(vt,{Zt:()=>Tt,Wj:()=>Ne,_t:()=>$t,bA:()=>En});var p=k(4650),N=k(6895),_=k(2556),ne=k(3353),C=k(1281),J=k(2687),we=k(8929),fe=k(2654),Se=k(6498),ae=k(353),me=k(4241);function Pe(ge){const{subscriber:j,counter:G,period:X}=ge;j.next(G),this.schedule({subscriber:j,counter:G+1,period:X},X)}var Ke=k(352),ut=k(6787),je=k(7625),ct=k(1059),mt=k(4850),jt=k(2986),ht=k(2868),kt=k(7545),yt=k(445);function et(ge,j,G){for(let X in j)if(j.hasOwnProperty(X)){const K=j[X];K?ge.setProperty(X,K,null!=G&&G.has(X)?"important":""):ge.removeProperty(X)}return ge}function Ve(ge,j){const G=j?"":"none";et(ge.style,{"touch-action":j?"":"none","-webkit-user-drag":j?"":"none","-webkit-tap-highlight-color":j?"":"transparent","user-select":G,"-ms-user-select":G,"-webkit-user-select":G,"-moz-user-select":G})}function pt(ge,j,G){et(ge.style,{position:j?"":"fixed",top:j?"":"0",opacity:j?"":"0",left:j?"":"-999em"},G)}function tt(ge,j){return j&&"none"!=j?ge+" "+j:ge}function Qe(ge){const j=ge.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(ge)*j}function We(ge,j){return ge.getPropertyValue(j).split(",").map(X=>X.trim())}function Ot(ge){const j=ge.getBoundingClientRect();return{top:j.top,right:j.right,bottom:j.bottom,left:j.left,width:j.width,height:j.height,x:j.x,y:j.y}}function Vt(ge,j,G){const{top:X,bottom:K,left:he,right:Xe}=ge;return G>=X&&G<=K&&j>=he&&j<=Xe}function bn(ge,j,G){ge.top+=j,ge.bottom=ge.top+ge.height,ge.left+=G,ge.right=ge.left+ge.width}function qn(ge,j,G,X){const{top:K,right:he,bottom:Xe,left:Et,width:dn,height:fn}=ge,ze=dn*j,$e=fn*j;return X>K-$e&&X<Xe+$e&&G>Et-ze&&G<he+ze}class jn{constructor(j){this._document=j,this.positions=new Map}clear(){this.positions.clear()}cache(j){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),j.forEach(G=>{this.positions.set(G,{scrollPosition:{top:G.scrollTop,left:G.scrollLeft},clientRect:Ot(G)})})}handleScroll(j){const G=(0,ne.sA)(j),X=this.positions.get(G);if(!X)return null;const K=X.scrollPosition;let he,Xe;if(G===this._document){const fn=this.getViewportScrollPosition();he=fn.top,Xe=fn.left}else he=G.scrollTop,Xe=G.scrollLeft;const Et=K.top-he,dn=K.left-Xe;return this.positions.forEach((fn,ze)=>{fn.clientRect&&G!==ze&&G.contains(ze)&&bn(fn.clientRect,Et,dn)}),K.top=he,K.left=Xe,{top:Et,left:dn}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function oi(ge){const j=ge.cloneNode(!0),G=j.querySelectorAll("[id]"),X=ge.nodeName.toLowerCase();j.removeAttribute("id");for(let K=0;K<G.length;K++)G[K].removeAttribute("id");return"canvas"===X?Re(ge,j):("input"===X||"select"===X||"textarea"===X)&&gn(ge,j),Nn("canvas",ge,j,Re),Nn("input, textarea, select",ge,j,gn),j}function Nn(ge,j,G,X){const K=j.querySelectorAll(ge);if(K.length){const he=G.querySelectorAll(ge);for(let Xe=0;Xe<K.length;Xe++)X(K[Xe],he[Xe])}}let rn=0;function gn(ge,j){"file"!==j.type&&(j.value=ge.value),"radio"===j.type&&j.name&&(j.name=`mat-clone-${j.name}-${rn++}`)}function Re(ge,j){const G=j.getContext("2d");if(G)try{G.drawImage(ge,0,0)}catch{}}const Ue=(0,ne.i$)({passive:!0}),Fe=(0,ne.i$)({passive:!1}),St=new Set(["position"]);class tn{constructor(j,G,X,K,he,Xe){this._config=G,this._document=X,this._ngZone=K,this._viewportRuler=he,this._dragDropRegistry=Xe,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new we.xQ,this._pointerMoveSubscription=fe.w.EMPTY,this._pointerUpSubscription=fe.w.EMPTY,this._scrollSubscription=fe.w.EMPTY,this._resizeSubscription=fe.w.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new we.xQ,this.started=new we.xQ,this.released=new we.xQ,this.ended=new we.xQ,this.entered=new we.xQ,this.exited=new we.xQ,this.dropped=new we.xQ,this.moved=this._moveEvents,this._pointerDown=Et=>{if(this.beforeStarted.next(),this._handles.length){const dn=this._getTargetHandle(Et);dn&&!this._disabledHandles.has(dn)&&!this.disabled&&this._initializeDragSequence(dn,Et)}else this.disabled||this._initializeDragSequence(this._rootElement,Et)},this._pointerMove=Et=>{const dn=this._getPointerPositionOnPage(Et);if(!this._hasStartedDragging){if(Math.abs(dn.x-this._pickupPositionOnPage.x)+Math.abs(dn.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const Ye=Date.now()>=this._dragStartTime+this._getDragStartDelay(Et),De=this._dropContainer;if(!Ye)return void this._endDragSequence(Et);(!De||!De.isDragging()&&!De.isReceiving())&&(Et.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(Et)))}return}Et.preventDefault();const fn=this._getConstrainedPointerPosition(dn);if(this._hasMoved=!0,this._lastKnownPointerPosition=dn,this._updatePointerDirectionDelta(fn),this._dropContainer)this._updateActiveDropContainer(fn,dn);else{const ze=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,$e=this._activeTransform;$e.x=fn.x-ze.x+this._passiveTransform.x,$e.y=fn.y-ze.y+this._passiveTransform.y,this._applyRootElementTransform($e.x,$e.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:fn,event:Et,distance:this._getDragDistance(fn),delta:this._pointerDirectionDelta})})},this._pointerUp=Et=>{this._endDragSequence(Et)},this._nativeDragStart=Et=>{if(this._handles.length){const dn=this._getTargetHandle(Et);dn&&!this._disabledHandles.has(dn)&&!this.disabled&&Et.preventDefault()}else this.disabled||Et.preventDefault()},this.withRootElement(j).withParent(G.parentDragRef||null),this._parentPositions=new jn(X),Xe.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(j){const G=(0,C.Ig)(j);G!==this._disabled&&(this._disabled=G,this._toggleNativeDragInteractions(),this._handles.forEach(X=>Ve(X,G)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(j){this._handles=j.map(X=>(0,C.fI)(X)),this._handles.forEach(X=>Ve(X,this.disabled)),this._toggleNativeDragInteractions();const G=new Set;return this._disabledHandles.forEach(X=>{this._handles.indexOf(X)>-1&&G.add(X)}),this._disabledHandles=G,this}withPreviewTemplate(j){return this._previewTemplate=j,this}withPlaceholderTemplate(j){return this._placeholderTemplate=j,this}withRootElement(j){const G=(0,C.fI)(j);return G!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{G.addEventListener("mousedown",this._pointerDown,Fe),G.addEventListener("touchstart",this._pointerDown,Ue),G.addEventListener("dragstart",this._nativeDragStart,Fe)}),this._initialTransform=void 0,this._rootElement=G),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(j){return this._boundaryElement=j?(0,C.fI)(j):null,this._resizeSubscription.unsubscribe(),j&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(j){return this._parentDragRef=j,this}dispose(){var j,G;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(G=this._rootElement)||void 0===G||G.remove()),null===(j=this._anchor)||void 0===j||j.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(j){!this._disabledHandles.has(j)&&this._handles.indexOf(j)>-1&&(this._disabledHandles.add(j),Ve(j,!0))}enableHandle(j){this._disabledHandles.has(j)&&(this._disabledHandles.delete(j),Ve(j,this.disabled))}withDirection(j){return this._direction=j,this}_withDropContainer(j){this._dropContainer=j}getFreeDragPosition(){const j=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:j.x,y:j.y}}setFreeDragPosition(j){return this._activeTransform={x:0,y:0},this._passiveTransform.x=j.x,this._passiveTransform.y=j.y,this._dropContainer||this._applyRootElementTransform(j.x,j.y),this}withPreviewContainer(j){return this._previewContainer=j,this}_sortFromLastPointerPosition(){const j=this._lastKnownPointerPosition;j&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(j),j)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var j,G;null===(j=this._preview)||void 0===j||j.remove(),null===(G=this._previewRef)||void 0===G||G.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var j,G;null===(j=this._placeholder)||void 0===j||j.remove(),null===(G=this._placeholderRef)||void 0===G||G.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(j){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:j}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(j),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const G=this._getPointerPositionOnPage(j);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(G),dropPoint:G,event:j})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(j){qt(j)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const G=this._dropContainer;if(G){const X=this._rootElement,K=X.parentNode,he=this._placeholder=this._createPlaceholderElement(),Xe=this._anchor=this._anchor||this._document.createComment(""),Et=this._getShadowRoot();K.insertBefore(Xe,X),this._initialTransform=X.style.transform||"",this._preview=this._createPreviewElement(),pt(X,!1,St),this._document.body.appendChild(K.replaceChild(he,X)),this._getPreviewInsertionPoint(K,Et).appendChild(this._preview),this.started.next({source:this,event:j}),G.start(),this._initialContainer=G,this._initialIndex=G.getItemIndex(this)}else this.started.next({source:this,event:j}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(G?G.getScrollableParents():[])}_initializeDragSequence(j,G){this._parentDragRef&&G.stopPropagation();const X=this.isDragging(),K=qt(G),he=!K&&0!==G.button,Xe=this._rootElement,Et=(0,ne.sA)(G),dn=!K&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),fn=K?(0,J.yG)(G):(0,J.X6)(G);if(Et&&Et.draggable&&"mousedown"===G.type&&G.preventDefault(),X||he||dn||fn)return;if(this._handles.length){const He=Xe.style;this._rootElementTapHighlight=He.webkitTapHighlightColor||"",He.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(He=>this._updateOnScroll(He)),this._boundaryElement&&(this._boundaryRect=Ot(this._boundaryElement));const ze=this._previewTemplate;this._pickupPositionInElement=ze&&ze.template&&!ze.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,j,G);const $e=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(G);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:$e.x,y:$e.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,G)}_cleanupDragArtifacts(j){pt(this._rootElement,!0,St),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const G=this._dropContainer,X=G.getItemIndex(this),K=this._getPointerPositionOnPage(j),he=this._getDragDistance(K),Xe=G._isOverContainer(K.x,K.y);this.ended.next({source:this,distance:he,dropPoint:K,event:j}),this.dropped.next({item:this,currentIndex:X,previousIndex:this._initialIndex,container:G,previousContainer:this._initialContainer,isPointerOverContainer:Xe,distance:he,dropPoint:K,event:j}),G.drop(this,X,this._initialIndex,this._initialContainer,Xe,he,K,j),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:j,y:G},{x:X,y:K}){let he=this._initialContainer._getSiblingContainerFromPosition(this,j,G);!he&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(j,G)&&(he=this._initialContainer),he&&he!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=he,this._dropContainer.enter(this,j,G,he===this._initialContainer&&he.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:he,currentIndex:he.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(X,K),this._dropContainer._sortItem(this,j,G,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(j,G):this._applyPreviewTransform(j-this._pickupPositionInElement.x,G-this._pickupPositionInElement.y))}_createPreviewElement(){const j=this._previewTemplate,G=this.previewClass,X=j?j.template:null;let K;if(X&&j){const he=j.matchSize?this._initialClientRect:null,Xe=j.viewContainer.createEmbeddedView(X,j.context);Xe.detectChanges(),K=Mt(Xe,this._document),this._previewRef=Xe,j.matchSize?Ht(K,he):K.style.transform=Ln(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else K=oi(this._rootElement),Ht(K,this._initialClientRect),this._initialTransform&&(K.style.transform=this._initialTransform);return et(K.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},St),Ve(K,!1),K.classList.add("cdk-drag-preview"),K.setAttribute("dir",this._direction),G&&(Array.isArray(G)?G.forEach(he=>K.classList.add(he)):K.classList.add(G)),K}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const j=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(j.left,j.top);const G=function Lt(ge){const j=getComputedStyle(ge),G=We(j,"transition-property"),X=G.find(Et=>"transform"===Et||"all"===Et);if(!X)return 0;const K=G.indexOf(X),he=We(j,"transition-duration"),Xe=We(j,"transition-delay");return Qe(he[K])+Qe(Xe[K])}(this._preview);return 0===G?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(X=>{const K=Xe=>{var Et;(!Xe||(0,ne.sA)(Xe)===this._preview&&"transform"===Xe.propertyName)&&(null===(Et=this._preview)||void 0===Et||Et.removeEventListener("transitionend",K),X(),clearTimeout(he))},he=setTimeout(K,1.5*G);this._preview.addEventListener("transitionend",K)}))}_createPlaceholderElement(){const j=this._placeholderTemplate,G=j?j.template:null;let X;return G?(this._placeholderRef=j.viewContainer.createEmbeddedView(G,j.context),this._placeholderRef.detectChanges(),X=Mt(this._placeholderRef,this._document)):X=oi(this._rootElement),X.style.pointerEvents="none",X.classList.add("cdk-drag-placeholder"),X}_getPointerPositionInElement(j,G,X){const K=G===this._rootElement?null:G,he=K?K.getBoundingClientRect():j,Xe=qt(X)?X.targetTouches[0]:X,Et=this._getViewportScrollPosition();return{x:he.left-j.left+(Xe.pageX-he.left-Et.left),y:he.top-j.top+(Xe.pageY-he.top-Et.top)}}_getPointerPositionOnPage(j){const G=this._getViewportScrollPosition(),X=qt(j)?j.touches[0]||j.changedTouches[0]||{pageX:0,pageY:0}:j,K=X.pageX-G.left,he=X.pageY-G.top;if(this._ownerSVGElement){const Xe=this._ownerSVGElement.getScreenCTM();if(Xe){const Et=this._ownerSVGElement.createSVGPoint();return Et.x=K,Et.y=he,Et.matrixTransform(Xe.inverse())}}return{x:K,y:he}}_getConstrainedPointerPosition(j){const G=this._dropContainer?this._dropContainer.lockAxis:null;let{x:X,y:K}=this.constrainPosition?this.constrainPosition(j,this,this._initialClientRect,this._pickupPositionInElement):j;if("x"===this.lockAxis||"x"===G?K=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===G)&&(X=this._pickupPositionOnPage.x),this._boundaryRect){const{x:he,y:Xe}=this._pickupPositionInElement,Et=this._boundaryRect,{width:dn,height:fn}=this._getPreviewRect(),ze=Et.top+Xe,$e=Et.bottom-(fn-Xe);X=It(X,Et.left+he,Et.right-(dn-he)),K=It(K,ze,$e)}return{x:X,y:K}}_updatePointerDirectionDelta(j){const{x:G,y:X}=j,K=this._pointerDirectionDelta,he=this._pointerPositionAtLastDirectionChange,Xe=Math.abs(G-he.x),Et=Math.abs(X-he.y);return Xe>this._config.pointerDirectionChangeThreshold&&(K.x=G>he.x?1:-1,he.x=G),Et>this._config.pointerDirectionChangeThreshold&&(K.y=X>he.y?1:-1,he.y=X),K}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const j=this._handles.length>0||!this.isDragging();j!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=j,Ve(this._rootElement,j))}_removeRootElementListeners(j){j.removeEventListener("mousedown",this._pointerDown,Fe),j.removeEventListener("touchstart",this._pointerDown,Ue),j.removeEventListener("dragstart",this._nativeDragStart,Fe)}_applyRootElementTransform(j,G){const X=Ln(j,G),K=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=K.transform&&"none"!=K.transform?K.transform:""),K.transform=tt(X,this._initialTransform)}_applyPreviewTransform(j,G){var X;const K=null!==(X=this._previewTemplate)&&void 0!==X&&X.template?void 0:this._initialTransform,he=Ln(j,G);this._preview.style.transform=tt(he,K)}_getDragDistance(j){const G=this._pickupPositionOnPage;return G?{x:j.x-G.x,y:j.y-G.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:j,y:G}=this._passiveTransform;if(0===j&&0===G||this.isDragging()||!this._boundaryElement)return;const X=this._rootElement.getBoundingClientRect(),K=this._boundaryElement.getBoundingClientRect();if(0===K.width&&0===K.height||0===X.width&&0===X.height)return;const he=K.left-X.left,Xe=X.right-K.right,Et=K.top-X.top,dn=X.bottom-K.bottom;K.width>X.width?(he>0&&(j+=he),Xe>0&&(j-=Xe)):j=0,K.height>X.height?(Et>0&&(G+=Et),dn>0&&(G-=dn)):G=0,(j!==this._passiveTransform.x||G!==this._passiveTransform.y)&&this.setFreeDragPosition({y:G,x:j})}_getDragStartDelay(j){const G=this.dragStartDelay;return"number"==typeof G?G:qt(j)?G.touch:G?G.mouse:0}_updateOnScroll(j){const G=this._parentPositions.handleScroll(j);if(G){const X=(0,ne.sA)(j);this._boundaryRect&&X!==this._boundaryElement&&X.contains(this._boundaryElement)&&bn(this._boundaryRect,G.top,G.left),this._pickupPositionOnPage.x+=G.left,this._pickupPositionOnPage.y+=G.top,this._dropContainer||(this._activeTransform.x-=G.left,this._activeTransform.y-=G.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var j;return(null===(j=this._parentPositions.positions.get(this._document))||void 0===j?void 0:j.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,ne.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(j,G){const X=this._previewContainer||"global";if("parent"===X)return j;if("global"===X){const K=this._document;return G||K.fullscreenElement||K.webkitFullscreenElement||K.mozFullScreenElement||K.msFullscreenElement||K.body}return(0,C.fI)(X)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(j){return this._handles.find(G=>j.target&&(j.target===G||G.contains(j.target)))}}function Ln(ge,j){return`translate3d(${Math.round(ge)}px, ${Math.round(j)}px, 0)`}function It(ge,j,G){return Math.max(j,Math.min(G,ge))}function qt(ge){return"t"===ge.type[0]}function Mt(ge,j){const G=ge.rootNodes;if(1===G.length&&G[0].nodeType===j.ELEMENT_NODE)return G[0];const X=j.createElement("div");return G.forEach(K=>X.appendChild(K)),X}function Ht(ge,j){ge.style.width=`${j.width}px`,ge.style.height=`${j.height}px`,ge.style.transform=Ln(j.left,j.top)}function En(ge,j,G){const X=Dn(j,ge.length-1),K=Dn(G,ge.length-1);if(X===K)return;const he=ge[X],Xe=K<X?-1:1;for(let Et=X;Et!==K;Et+=Xe)ge[Et]=ge[Et+Xe];ge[K]=he}function Dn(ge,j){return Math.max(0,Math.min(j,ge))}class gt{constructor(j,G){this._element=j,this._dragDropRegistry=G,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(j){this.withItems(j)}sort(j,G,X,K){const he=this._itemPositions,Xe=this._getItemIndexFromPointerPosition(j,G,X,K);if(-1===Xe&&he.length>0)return null;const Et="horizontal"===this.orientation,dn=he.findIndex(ot=>ot.drag===j),fn=he[Xe],$e=fn.clientRect,He=dn>Xe?1:-1,Ye=this._getItemOffsetPx(he[dn].clientRect,$e,He),De=this._getSiblingOffsetPx(dn,he,He),Ce=he.slice();return En(he,dn,Xe),he.forEach((ot,Bt)=>{if(Ce[Bt]===ot)return;const sn=ot.drag===j,Kn=sn?Ye:De,On=sn?j.getPlaceholderElement():ot.drag.getRootElement();ot.offset+=Kn,Et?(On.style.transform=tt(`translate3d(${Math.round(ot.offset)}px, 0, 0)`,ot.initialTransform),bn(ot.clientRect,0,Kn)):(On.style.transform=tt(`translate3d(0, ${Math.round(ot.offset)}px, 0)`,ot.initialTransform),bn(ot.clientRect,Kn,0))}),this._previousSwap.overlaps=Vt($e,G,X),this._previousSwap.drag=fn.drag,this._previousSwap.delta=Et?K.x:K.y,{previousIndex:dn,currentIndex:Xe}}enter(j,G,X,K){const he=null==K||K<0?this._getItemIndexFromPointerPosition(j,G,X):K,Xe=this._activeDraggables,Et=Xe.indexOf(j),dn=j.getPlaceholderElement();let fn=Xe[he];if(fn===j&&(fn=Xe[he+1]),!fn&&(null==he||-1===he||he<Xe.length-1)&&this._shouldEnterAsFirstChild(G,X)&&(fn=Xe[0]),Et>-1&&Xe.splice(Et,1),fn&&!this._dragDropRegistry.isDragging(fn)){const ze=fn.getRootElement();ze.parentElement.insertBefore(dn,ze),Xe.splice(he,0,j)}else(0,C.fI)(this._element).appendChild(dn),Xe.push(j);dn.style.transform="",this._cacheItemPositions()}withItems(j){this._activeDraggables=j.slice(),this._cacheItemPositions()}withSortPredicate(j){this._sortPredicate=j}reset(){this._activeDraggables.forEach(j=>{const G=j.getRootElement();if(G){var X;const K=null===(X=this._itemPositions.find(he=>he.drag===j))||void 0===X?void 0:X.initialTransform;G.style.transform=K||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(j){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(X=>X.drag===j)}updateOnScroll(j,G){this._itemPositions.forEach(({clientRect:X})=>{bn(X,j,G)}),this._itemPositions.forEach(({drag:X})=>{this._dragDropRegistry.isDragging(X)&&X._sortFromLastPointerPosition()})}_cacheItemPositions(){const j="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(G=>{const X=G.getVisibleElement();return{drag:G,offset:0,initialTransform:X.style.transform||"",clientRect:Ot(X)}}).sort((G,X)=>j?G.clientRect.left-X.clientRect.left:G.clientRect.top-X.clientRect.top)}_getItemOffsetPx(j,G,X){const K="horizontal"===this.orientation;let he=K?G.left-j.left:G.top-j.top;return-1===X&&(he+=K?G.width-j.width:G.height-j.height),he}_getSiblingOffsetPx(j,G,X){const K="horizontal"===this.orientation,he=G[j].clientRect,Xe=G[j+-1*X];let Et=he[K?"width":"height"]*X;if(Xe){const dn=K?"left":"top",fn=K?"right":"bottom";-1===X?Et-=Xe.clientRect[dn]-he[fn]:Et+=he[dn]-Xe.clientRect[fn]}return Et}_shouldEnterAsFirstChild(j,G){if(!this._activeDraggables.length)return!1;const X=this._itemPositions,K="horizontal"===this.orientation;if(X[0].drag!==this._activeDraggables[0]){const Xe=X[X.length-1].clientRect;return K?j>=Xe.right:G>=Xe.bottom}{const Xe=X[0].clientRect;return K?j<=Xe.left:G<=Xe.top}}_getItemIndexFromPointerPosition(j,G,X,K){const he="horizontal"===this.orientation,Xe=this._itemPositions.findIndex(({drag:Et,clientRect:dn})=>{if(Et===j)return!1;if(K){const fn=he?K.x:K.y;if(Et===this._previousSwap.drag&&this._previousSwap.overlaps&&fn===this._previousSwap.delta)return!1}return he?G>=Math.floor(dn.left)&&G<Math.floor(dn.right):X>=Math.floor(dn.top)&&X<Math.floor(dn.bottom)});return-1!==Xe&&this._sortPredicate(Xe,j)?Xe:-1}}class Le{constructor(j,G,X,K,he){this._dragDropRegistry=G,this._ngZone=K,this._viewportRuler=he,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new we.xQ,this.entered=new we.xQ,this.exited=new we.xQ,this.dropped=new we.xQ,this.sorted=new we.xQ,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=fe.w.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new we.xQ,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function ye(ge=0,j=ae.P){return(!(0,me.k)(ge)||ge<0)&&(ge=0),(!j||"function"!=typeof j.schedule)&&(j=ae.P),new Se.y(G=>(G.add(j.schedule(Pe,ge,{subscriber:G,counter:0,period:ge})),G))}(0,Ke.r).pipe((0,je.R)(this._stopScrollTimers)).subscribe(()=>{const Xe=this._scrollNode,Et=this.autoScrollStep;1===this._verticalScrollDirection?Xe.scrollBy(0,-Et):2===this._verticalScrollDirection&&Xe.scrollBy(0,Et),1===this._horizontalScrollDirection?Xe.scrollBy(-Et,0):2===this._horizontalScrollDirection&&Xe.scrollBy(Et,0)})},this.element=(0,C.fI)(j),this._document=X,this.withScrollableParents([this.element]),G.registerDropContainer(this),this._parentPositions=new jn(X),this._sortStrategy=new gt(this.element,G),this._sortStrategy.withSortPredicate((Xe,Et)=>this.sortPredicate(Xe,Et,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(j,G,X,K){this._draggingStarted(),null==K&&this.sortingDisabled&&(K=this._draggables.indexOf(j)),this._sortStrategy.enter(j,G,X,K),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:j,container:this,currentIndex:this.getItemIndex(j)})}exit(j){this._reset(),this.exited.next({item:j,container:this})}drop(j,G,X,K,he,Xe,Et,dn={}){this._reset(),this.dropped.next({item:j,currentIndex:G,previousIndex:X,container:this,previousContainer:K,isPointerOverContainer:he,distance:Xe,dropPoint:Et,event:dn})}withItems(j){const G=this._draggables;return this._draggables=j,j.forEach(X=>X._withDropContainer(this)),this.isDragging()&&(G.filter(K=>K.isDragging()).every(K=>-1===j.indexOf(K))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(j){return this._sortStrategy.direction=j,this}connectedTo(j){return this._siblings=j.slice(),this}withOrientation(j){return this._sortStrategy.orientation=j,this}withScrollableParents(j){const G=(0,C.fI)(this.element);return this._scrollableElements=-1===j.indexOf(G)?[G,...j]:j.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(j){return this._isDragging?this._sortStrategy.getItemIndex(j):this._draggables.indexOf(j)}isReceiving(){return this._activeSiblings.size>0}_sortItem(j,G,X,K){if(this.sortingDisabled||!this._clientRect||!qn(this._clientRect,.05,G,X))return;const he=this._sortStrategy.sort(j,G,X,K);he&&this.sorted.next({previousIndex:he.previousIndex,currentIndex:he.currentIndex,container:this,item:j})}_startScrollingIfNecessary(j,G){if(this.autoScrollDisabled)return;let X,K=0,he=0;if(this._parentPositions.positions.forEach((Xe,Et)=>{Et===this._document||!Xe.clientRect||X||qn(Xe.clientRect,.05,j,G)&&([K,he]=function Zt(ge,j,G,X){const K=Be(j,X),he=Ct(j,G);let Xe=0,Et=0;if(K){const dn=ge.scrollTop;1===K?dn>0&&(Xe=1):ge.scrollHeight-dn>ge.clientHeight&&(Xe=2)}if(he){const dn=ge.scrollLeft;1===he?dn>0&&(Et=1):ge.scrollWidth-dn>ge.clientWidth&&(Et=2)}return[Xe,Et]}(Et,Xe.clientRect,j,G),(K||he)&&(X=Et))}),!K&&!he){const{width:Xe,height:Et}=this._viewportRuler.getViewportSize(),dn={width:Xe,height:Et,top:0,right:Xe,bottom:Et,left:0};K=Be(dn,G),he=Ct(dn,j),X=window}X&&(K!==this._verticalScrollDirection||he!==this._horizontalScrollDirection||X!==this._scrollNode)&&(this._verticalScrollDirection=K,this._horizontalScrollDirection=he,this._scrollNode=X,(K||he)&&X?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const j=(0,C.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=j.msScrollSnapType||j.scrollSnapType||"",j.scrollSnapType=j.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const j=(0,C.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(j).clientRect}_reset(){this._isDragging=!1;const j=(0,C.fI)(this.element).style;j.scrollSnapType=j.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(G=>G._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(j,G){return null!=this._clientRect&&Vt(this._clientRect,j,G)}_getSiblingContainerFromPosition(j,G,X){return this._siblings.find(K=>K._canReceive(j,G,X))}_canReceive(j,G,X){if(!this._clientRect||!Vt(this._clientRect,G,X)||!this.enterPredicate(j,this))return!1;const K=this._getShadowRoot().elementFromPoint(G,X);if(!K)return!1;const he=(0,C.fI)(this.element);return K===he||he.contains(K)}_startReceiving(j,G){const X=this._activeSiblings;!X.has(j)&&G.every(K=>this.enterPredicate(K,this)||this._draggables.indexOf(K)>-1)&&(X.add(j),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(j){this._activeSiblings.delete(j),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(j=>{if(this.isDragging()){const G=this._parentPositions.handleScroll(j);G&&this._sortStrategy.updateOnScroll(G.top,G.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const j=(0,ne.kV)((0,C.fI)(this.element));this._cachedShadowRoot=j||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const j=this._sortStrategy.getActiveItemsSnapshot().filter(G=>G.isDragging());this._siblings.forEach(G=>G._startReceiving(this,j))}}function Be(ge,j){const{top:G,bottom:X,height:K}=ge,he=.05*K;return j>=G-he&&j<=G+he?1:j>=X-he&&j<=X+he?2:0}function Ct(ge,j){const{left:G,right:X,width:K}=ge,he=.05*K;return j>=G-he&&j<=G+he?1:j>=X-he&&j<=X+he?2:0}const hn=(0,ne.i$)({passive:!1,capture:!0});let Un=(()=>{class ge{constructor(G,X){this._ngZone=G,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=K=>K.isDragging(),this.pointerMove=new we.xQ,this.pointerUp=new we.xQ,this.scroll=new we.xQ,this._preventDefaultWhileDragging=K=>{this._activeDragInstances.length>0&&K.preventDefault()},this._persistentTouchmoveListener=K=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&K.preventDefault(),this.pointerMove.next(K))},this._document=X}registerDropContainer(G){this._dropInstances.has(G)||this._dropInstances.add(G)}registerDragItem(G){this._dragInstances.add(G),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,hn)})}removeDropContainer(G){this._dropInstances.delete(G)}removeDragItem(G){this._dragInstances.delete(G),this.stopDragging(G),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,hn)}startDragging(G,X){if(!(this._activeDragInstances.indexOf(G)>-1)&&(this._activeDragInstances.push(G),1===this._activeDragInstances.length)){const K=X.type.startsWith("touch");this._globalListeners.set(K?"touchend":"mouseup",{handler:he=>this.pointerUp.next(he),options:!0}).set("scroll",{handler:he=>this.scroll.next(he),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:hn}),K||this._globalListeners.set("mousemove",{handler:he=>this.pointerMove.next(he),options:hn}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((he,Xe)=>{this._document.addEventListener(Xe,he.handler,he.options)})})}}stopDragging(G){const X=this._activeDragInstances.indexOf(G);X>-1&&(this._activeDragInstances.splice(X,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(G){return this._activeDragInstances.indexOf(G)>-1}scrolled(G){const X=[this.scroll];return G&&G!==this._document&&X.push(new Se.y(K=>this._ngZone.runOutsideAngular(()=>{const Xe=Et=>{this._activeDragInstances.length&&K.next(Et)};return G.addEventListener("scroll",Xe,!0),()=>{G.removeEventListener("scroll",Xe,!0)}}))),(0,ut.T)(...X)}ngOnDestroy(){this._dragInstances.forEach(G=>this.removeDragItem(G)),this._dropInstances.forEach(G=>this.removeDropContainer(G)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((G,X)=>{this._document.removeEventListener(X,G.handler,G.options)}),this._globalListeners.clear()}}return ge.\u0275fac=function(G){return new(G||ge)(p.LFG(p.R0b),p.LFG(N.K0))},ge.\u0275prov=p.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})();const Cn={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let pn=(()=>{class ge{constructor(G,X,K,he){this._document=G,this._ngZone=X,this._viewportRuler=K,this._dragDropRegistry=he}createDrag(G,X=Cn){return new tn(G,X,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(G){return new Le(G,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return ge.\u0275fac=function(G){return new(G||ge)(p.LFG(N.K0),p.LFG(p.R0b),p.LFG(_.rL),p.LFG(Un))},ge.\u0275prov=p.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})();const Fn=new p.OlP("CDK_DRAG_PARENT"),di=new p.OlP("CdkDropListGroup"),ni=new p.OlP("CDK_DRAG_CONFIG");let Jt=0;const be=new p.OlP("CdkDropList");let Ne=(()=>{class ge{constructor(G,X,K,he,Xe,Et,dn){this.element=G,this._changeDetectorRef=K,this._scrollDispatcher=he,this._dir=Xe,this._group=Et,this._destroyed=new we.xQ,this.connectedTo=[],this.id="cdk-drop-list-"+Jt++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new p.vpe,this.entered=new p.vpe,this.exited=new p.vpe,this.sorted=new p.vpe,this._unsortedItems=new Set,this._dropListRef=X.createDropList(G),this._dropListRef.data=this,dn&&this._assignDefaults(dn),this._dropListRef.enterPredicate=(fn,ze)=>this.enterPredicate(fn.data,ze.data),this._dropListRef.sortPredicate=(fn,ze,$e)=>this.sortPredicate(fn,ze.data,$e.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),ge._dropLists.push(this),Et&&Et._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(G){this._dropListRef.disabled=this._disabled=(0,C.Ig)(G)}addItem(G){this._unsortedItems.add(G),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(G){this._unsortedItems.delete(G),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((G,X)=>G._dragRef.getVisibleElement().compareDocumentPosition(X._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const G=ge._dropLists.indexOf(this);G>-1&&ge._dropLists.splice(G,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(G){this._dir&&this._dir.change.pipe((0,ct.O)(this._dir.value),(0,je.R)(this._destroyed)).subscribe(X=>G.withDirection(X)),G.beforeStarted.subscribe(()=>{const X=(0,C.Eq)(this.connectedTo).map(K=>"string"==typeof K?ge._dropLists.find(Xe=>Xe.id===K):K);if(this._group&&this._group._items.forEach(K=>{-1===X.indexOf(K)&&X.push(K)}),!this._scrollableParentsResolved){const K=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(he=>he.getElementRef().nativeElement);this._dropListRef.withScrollableParents(K),this._scrollableParentsResolved=!0}G.disabled=this.disabled,G.lockAxis=this.lockAxis,G.sortingDisabled=(0,C.Ig)(this.sortingDisabled),G.autoScrollDisabled=(0,C.Ig)(this.autoScrollDisabled),G.autoScrollStep=(0,C.su)(this.autoScrollStep,2),G.connectedTo(X.filter(K=>K&&K!==this).map(K=>K._dropListRef)).withOrientation(this.orientation)})}_handleEvents(G){G.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),G.entered.subscribe(X=>{this.entered.emit({container:this,item:X.item.data,currentIndex:X.currentIndex})}),G.exited.subscribe(X=>{this.exited.emit({container:this,item:X.item.data}),this._changeDetectorRef.markForCheck()}),G.sorted.subscribe(X=>{this.sorted.emit({previousIndex:X.previousIndex,currentIndex:X.currentIndex,container:this,item:X.item.data})}),G.dropped.subscribe(X=>{this.dropped.emit({previousIndex:X.previousIndex,currentIndex:X.currentIndex,previousContainer:X.previousContainer.data,container:X.container.data,item:X.item.data,isPointerOverContainer:X.isPointerOverContainer,distance:X.distance,dropPoint:X.dropPoint,event:X.event}),this._changeDetectorRef.markForCheck()})}_assignDefaults(G){const{lockAxis:X,draggingDisabled:K,sortingDisabled:he,listAutoScrollDisabled:Xe,listOrientation:Et}=G;this.disabled=K??!1,this.sortingDisabled=he??!1,this.autoScrollDisabled=Xe??!1,this.orientation=Et||"vertical",X&&(this.lockAxis=X)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(G=>G._dragRef))}}return ge._dropLists=[],ge.\u0275fac=function(G){return new(G||ge)(p.Y36(p.SBq),p.Y36(pn),p.Y36(p.sBO),p.Y36(_.mF),p.Y36(yt.Is,8),p.Y36(di,12),p.Y36(ni,8))},ge.\u0275dir=p.lG2({type:ge,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(G,X){2&G&&(p.uIk("id",X.id),p.ekj("cdk-drop-list-disabled",X.disabled)("cdk-drop-list-dragging",X._dropListRef.isDragging())("cdk-drop-list-receiving",X._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[p._Bn([{provide:di,useValue:void 0},{provide:be,useExisting:ge}])]}),ge})();const ke=new p.OlP("CdkDragHandle"),Nt=new p.OlP("CdkDragPlaceholder"),st=new p.OlP("CdkDragPreview");let Tt=(()=>{class ge{constructor(G,X,K,he,Xe,Et,dn,fn,ze,$e,He){this.element=G,this.dropContainer=X,this._ngZone=he,this._viewContainerRef=Xe,this._dir=dn,this._changeDetectorRef=ze,this._selfHandle=$e,this._parentDrag=He,this._destroyed=new we.xQ,this.started=new p.vpe,this.released=new p.vpe,this.ended=new p.vpe,this.entered=new p.vpe,this.exited=new p.vpe,this.dropped=new p.vpe,this.moved=new Se.y(Ye=>{const De=this._dragRef.moved.pipe((0,mt.U)(Ce=>({source:this,pointerPosition:Ce.pointerPosition,event:Ce.event,delta:Ce.delta,distance:Ce.distance}))).subscribe(Ye);return()=>{De.unsubscribe()}}),this._dragRef=fn.createDrag(G,{dragStartThreshold:Et&&null!=Et.dragStartThreshold?Et.dragStartThreshold:5,pointerDirectionChangeThreshold:Et&&null!=Et.pointerDirectionChangeThreshold?Et.pointerDirectionChangeThreshold:5,zIndex:Et?.zIndex}),this._dragRef.data=this,ge._dragInstances.push(this),Et&&this._assignDefaults(Et),X&&(this._dragRef._withDropContainer(X._dropListRef),X.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(G){this._disabled=(0,C.Ig)(G),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(G){this._dragRef.setFreeDragPosition(G)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,jt.q)(1),(0,je.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(G){const X=G.rootElementSelector,K=G.freeDragPosition;X&&!X.firstChange&&this._updateRootElement(),K&&!K.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const G=ge._dragInstances.indexOf(this);G>-1&&ge._dragInstances.splice(G,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const G=this.element.nativeElement;let X=G;var K;this.rootElementSelector&&(X=void 0!==G.closest?G.closest(this.rootElementSelector):null===(K=G.parentElement)||void 0===K?void 0:K.closest(this.rootElementSelector)),this._dragRef.withRootElement(X||G)}_getBoundaryElement(){const G=this.boundaryElement;return G?"string"==typeof G?this.element.nativeElement.closest(G):(0,C.fI)(G):null}_syncInputs(G){G.beforeStarted.subscribe(()=>{if(!G.isDragging()){const X=this._dir,K=this.dragStartDelay,he=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,Xe=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;G.disabled=this.disabled,G.lockAxis=this.lockAxis,G.dragStartDelay="object"==typeof K&&K?K:(0,C.su)(K),G.constrainPosition=this.constrainPosition,G.previewClass=this.previewClass,G.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(he).withPreviewTemplate(Xe).withPreviewContainer(this.previewContainer||"global"),X&&G.withDirection(X.value)}}),G.beforeStarted.pipe((0,jt.q)(1)).subscribe(()=>{if(this._parentDrag)return void G.withParent(this._parentDrag._dragRef);let X=this.element.nativeElement.parentElement;for(;X;){if(X.classList.contains("cdk-drag")){var K;G.withParent((null===(K=ge._dragInstances.find(he=>he.element.nativeElement===X))||void 0===K?void 0:K._dragRef)||null);break}X=X.parentElement}})}_handleEvents(G){G.started.subscribe(X=>{this.started.emit({source:this,event:X.event}),this._changeDetectorRef.markForCheck()}),G.released.subscribe(X=>{this.released.emit({source:this,event:X.event})}),G.ended.subscribe(X=>{this.ended.emit({source:this,distance:X.distance,dropPoint:X.dropPoint,event:X.event}),this._changeDetectorRef.markForCheck()}),G.entered.subscribe(X=>{this.entered.emit({container:X.container.data,item:this,currentIndex:X.currentIndex})}),G.exited.subscribe(X=>{this.exited.emit({container:X.container.data,item:this})}),G.dropped.subscribe(X=>{this.dropped.emit({previousIndex:X.previousIndex,currentIndex:X.currentIndex,previousContainer:X.previousContainer.data,container:X.container.data,isPointerOverContainer:X.isPointerOverContainer,item:this,distance:X.distance,dropPoint:X.dropPoint,event:X.event})})}_assignDefaults(G){const{lockAxis:X,dragStartDelay:K,constrainPosition:he,previewClass:Xe,boundaryElement:Et,draggingDisabled:dn,rootElementSelector:fn,previewContainer:ze}=G;this.disabled=dn??!1,this.dragStartDelay=K||0,X&&(this.lockAxis=X),he&&(this.constrainPosition=he),Xe&&(this.previewClass=Xe),Et&&(this.boundaryElement=Et),fn&&(this.rootElementSelector=fn),ze&&(this.previewContainer=ze)}_setupHandlesListener(){this._handles.changes.pipe((0,ct.O)(this._handles),(0,ht.b)(G=>{const X=G.filter(K=>K._parentDrag===this).map(K=>K.element);this._selfHandle&&this.rootElementSelector&&X.push(this.element),this._dragRef.withHandles(X)}),(0,kt.w)(G=>(0,ut.T)(...G.map(X=>X._stateChanges.pipe((0,ct.O)(X))))),(0,je.R)(this._destroyed)).subscribe(G=>{const X=this._dragRef,K=G.element.nativeElement;G.disabled?X.disableHandle(K):X.enableHandle(K)})}}return ge._dragInstances=[],ge.\u0275fac=function(G){return new(G||ge)(p.Y36(p.SBq),p.Y36(be,12),p.Y36(N.K0),p.Y36(p.R0b),p.Y36(p.s_b),p.Y36(ni,8),p.Y36(yt.Is,8),p.Y36(pn),p.Y36(p.sBO),p.Y36(ke,10),p.Y36(Fn,12))},ge.\u0275dir=p.lG2({type:ge,selectors:[["","cdkDrag",""]],contentQueries:function(G,X,K){if(1&G&&(p.Suo(K,st,5),p.Suo(K,Nt,5),p.Suo(K,ke,5)),2&G){let he;p.iGM(he=p.CRH())&&(X._previewTemplate=he.first),p.iGM(he=p.CRH())&&(X._placeholderTemplate=he.first),p.iGM(he=p.CRH())&&(X._handles=he)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(G,X){2&G&&p.ekj("cdk-drag-disabled",X.disabled)("cdk-drag-dragging",X._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[p._Bn([{provide:Fn,useExisting:ge}]),p.TTD]}),ge})(),$t=(()=>{class ge{}return ge.\u0275fac=function(G){return new(G||ge)},ge.\u0275mod=p.oAB({type:ge}),ge.\u0275inj=p.cJS({providers:[pn],imports:[_.ZD]}),ge})()},9521:(_n,vt,k)=>{"use strict";k.d(vt,{A:()=>Re,JH:()=>ht,JU:()=>J,K5:()=>C,Ku:()=>Pe,LH:()=>mt,L_:()=>ye,MW:()=>Fn,Mf:()=>_,SV:()=>jt,Sd:()=>je,VM:()=>Ke,Vb:()=>Ts,Z:()=>pn,ZH:()=>N,aO:()=>jn,b2:()=>Vr,hY:()=>me,jx:()=>we,oh:()=>ct,uR:()=>ut,xE:()=>pt,yY:()=>Ve,zL:()=>fe});const N=8,_=9,C=13,J=16,we=17,fe=18,me=27,ye=32,Pe=33,Ke=34,ut=35,je=36,ct=37,mt=38,jt=39,ht=40,Ve=46,pt=48,jn=57,Re=65,pn=90,Fn=91,Vr=224;function Ts(or,...Ao){return Ao.length?Ao.some(Or=>or[Or]):or.altKey||or.shiftKey||or.ctrlKey||or.metaKey}},2289:(_n,vt,k)=>{"use strict";k.d(vt,{Yg:()=>ht,u3:()=>yt});var p=k(4650),N=k(1281),_=k(8929),ne=k(6053),C=k(1221),J=k(6498),we=k(2986),fe=k(1307),Se=k(13),ae=k(4850),me=k(1059),ye=k(7625),Pe=k(3353);const ut=new Set;let je,ct=(()=>{class et{constructor(pt){this._platform=pt,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):jt}matchMedia(pt){return(this._platform.WEBKIT||this._platform.BLINK)&&function mt(et){if(!ut.has(et))try{je||(je=document.createElement("style"),je.setAttribute("type","text/css"),document.head.appendChild(je)),je.sheet&&(je.sheet.insertRule(`@media ${et} {body{ }}`,0),ut.add(et))}catch(Ve){console.error(Ve)}}(pt),this._matchMedia(pt)}}return et.\u0275fac=function(pt){return new(pt||et)(p.LFG(Pe.t4))},et.\u0275prov=p.Yz7({token:et,factory:et.\u0275fac,providedIn:"root"}),et})();function jt(et){return{matches:"all"===et||""===et,media:et,addListener:()=>{},removeListener:()=>{}}}let ht=(()=>{class et{constructor(pt,tt){this._mediaMatcher=pt,this._zone=tt,this._queries=new Map,this._destroySubject=new _.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(pt){return kt((0,N.Eq)(pt)).some(Qe=>this._registerQuery(Qe).mql.matches)}observe(pt){const Qe=kt((0,N.Eq)(pt)).map(We=>this._registerQuery(We).observable);let Lt=(0,ne.aj)(Qe);return Lt=(0,C.z)(Lt.pipe((0,we.q)(1)),Lt.pipe((0,fe.T)(1),(0,Se.b)(0))),Lt.pipe((0,ae.U)(We=>{const Ot={matches:!1,breakpoints:{}};return We.forEach(({matches:Vt,query:bn})=>{Ot.matches=Ot.matches||Vt,Ot.breakpoints[bn]=Vt}),Ot}))}_registerQuery(pt){if(this._queries.has(pt))return this._queries.get(pt);const tt=this._mediaMatcher.matchMedia(pt),Lt={observable:new J.y(We=>{const Ot=Vt=>this._zone.run(()=>We.next(Vt));return tt.addListener(Ot),()=>{tt.removeListener(Ot)}}).pipe((0,me.O)(tt),(0,ae.U)(({matches:We})=>({query:pt,matches:We})),(0,ye.R)(this._destroySubject)),mql:tt};return this._queries.set(pt,Lt),Lt}}return et.\u0275fac=function(pt){return new(pt||et)(p.LFG(ct),p.LFG(p.R0b))},et.\u0275prov=p.Yz7({token:et,factory:et.\u0275fac,providedIn:"root"}),et})();function kt(et){return et.map(Ve=>Ve.split(",")).reduce((Ve,pt)=>Ve.concat(pt)).map(Ve=>Ve.trim())}const yt={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},9643:(_n,vt,k)=>{"use strict";k.d(vt,{Q8:()=>Se,wD:()=>fe});var p=k(1281),N=k(4650),_=k(6498),ne=k(8929),C=k(13);let J=(()=>{class ae{create(ye){return typeof MutationObserver>"u"?null:new MutationObserver(ye)}}return ae.\u0275fac=function(ye){return new(ye||ae)},ae.\u0275prov=N.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})(),we=(()=>{class ae{constructor(ye){this._mutationObserverFactory=ye,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((ye,Pe)=>this._cleanupObserver(Pe))}observe(ye){const Pe=(0,p.fI)(ye);return new _.y(Ke=>{const je=this._observeElement(Pe).subscribe(Ke);return()=>{je.unsubscribe(),this._unobserveElement(Pe)}})}_observeElement(ye){if(this._observedElements.has(ye))this._observedElements.get(ye).count++;else{const Pe=new ne.xQ,Ke=this._mutationObserverFactory.create(ut=>Pe.next(ut));Ke&&Ke.observe(ye,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(ye,{observer:Ke,stream:Pe,count:1})}return this._observedElements.get(ye).stream}_unobserveElement(ye){this._observedElements.has(ye)&&(this._observedElements.get(ye).count--,this._observedElements.get(ye).count||this._cleanupObserver(ye))}_cleanupObserver(ye){if(this._observedElements.has(ye)){const{observer:Pe,stream:Ke}=this._observedElements.get(ye);Pe&&Pe.disconnect(),Ke.complete(),this._observedElements.delete(ye)}}}return ae.\u0275fac=function(ye){return new(ye||ae)(N.LFG(J))},ae.\u0275prov=N.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})(),fe=(()=>{class ae{constructor(ye,Pe,Ke){this._contentObserver=ye,this._elementRef=Pe,this._ngZone=Ke,this.event=new N.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(ye){this._disabled=(0,p.Ig)(ye),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(ye){this._debounce=(0,p.su)(ye),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const ye=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?ye.pipe((0,C.b)(this.debounce)):ye).subscribe(this.event)})}_unsubscribe(){var ye;null===(ye=this._currentSubscription)||void 0===ye||ye.unsubscribe()}}return ae.\u0275fac=function(ye){return new(ye||ae)(N.Y36(we),N.Y36(N.SBq),N.Y36(N.R0b))},ae.\u0275dir=N.lG2({type:ae,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),ae})(),Se=(()=>{class ae{}return ae.\u0275fac=function(ye){return new(ye||ae)},ae.\u0275mod=N.oAB({type:ae}),ae.\u0275inj=N.cJS({providers:[J]}),ae})()},8184:(_n,vt,k)=>{"use strict";k.d(vt,{Iu:()=>bn,U8:()=>$n,X_:()=>yt,Xj:()=>Vt,aV:()=>Ln});var p=k(2556),N=k(6895),_=k(4650),ne=k(1281),C=k(3353),J=k(445),we=k(4080),fe=k(8929),Se=k(2654),ae=k(6787),me=k(2986),ye=k(7625);const Pe=(0,C.Mq)();class Ke{constructor(ee,de){this._viewportRuler=ee,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=de}attach(){}enable(){if(this._canBeEnabled()){const ee=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ee.style.left||"",this._previousHTMLStyles.top=ee.style.top||"",ee.style.left=(0,ne.HM)(-this._previousScrollPosition.left),ee.style.top=(0,ne.HM)(-this._previousScrollPosition.top),ee.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ee=this._document.documentElement,Le=ee.style,Be=this._document.body.style,Ct=Le.scrollBehavior||"",Zt=Be.scrollBehavior||"";this._isEnabled=!1,Le.left=this._previousHTMLStyles.left,Le.top=this._previousHTMLStyles.top,ee.classList.remove("cdk-global-scrollblock"),Pe&&(Le.scrollBehavior=Be.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Pe&&(Le.scrollBehavior=Ct,Be.scrollBehavior=Zt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const de=this._document.body,Le=this._viewportRuler.getViewportSize();return de.scrollHeight>Le.height||de.scrollWidth>Le.width}}class je{constructor(ee,de,Le,Be){this._scrollDispatcher=ee,this._ngZone=de,this._viewportRuler=Le,this._config=Be,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ee){this._overlayRef=ee}enable(){if(this._scrollSubscription)return;const ee=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ee.subscribe(()=>{const de=this._viewportRuler.getViewportScrollPosition().top;Math.abs(de-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ee.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ct{enable(){}disable(){}attach(){}}function mt(gt,ee){return ee.some(de=>gt.bottom<de.top||gt.top>de.bottom||gt.right<de.left||gt.left>de.right)}function jt(gt,ee){return ee.some(de=>gt.top<de.top||gt.bottom>de.bottom||gt.left<de.left||gt.right>de.right)}class ht{constructor(ee,de,Le,Be){this._scrollDispatcher=ee,this._viewportRuler=de,this._ngZone=Le,this._config=Be,this._scrollSubscription=null}attach(ee){this._overlayRef=ee}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const de=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Le,height:Be}=this._viewportRuler.getViewportSize();mt(de,[{width:Le,height:Be,bottom:Be,right:Le,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let kt=(()=>{class gt{constructor(de,Le,Be,Ct){this._scrollDispatcher=de,this._viewportRuler=Le,this._ngZone=Be,this.noop=()=>new ct,this.close=Zt=>new je(this._scrollDispatcher,this._ngZone,this._viewportRuler,Zt),this.block=()=>new Ke(this._viewportRuler,this._document),this.reposition=Zt=>new ht(this._scrollDispatcher,this._viewportRuler,this._ngZone,Zt),this._document=Ct}}return gt.\u0275fac=function(de){return new(de||gt)(_.LFG(p.mF),_.LFG(p.rL),_.LFG(_.R0b),_.LFG(N.K0))},gt.\u0275prov=_.Yz7({token:gt,factory:gt.\u0275fac,providedIn:"root"}),gt})();class yt{constructor(ee){if(this.scrollStrategy=new ct,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ee){const de=Object.keys(ee);for(const Le of de)void 0!==ee[Le]&&(this[Le]=ee[Le])}}}class pt{constructor(ee,de){this.connectionPair=ee,this.scrollableViewProperties=de}}let Lt=(()=>{class gt{constructor(de){this._attachedOverlays=[],this._document=de}ngOnDestroy(){this.detach()}add(de){this.remove(de),this._attachedOverlays.push(de)}remove(de){const Le=this._attachedOverlays.indexOf(de);Le>-1&&this._attachedOverlays.splice(Le,1),0===this._attachedOverlays.length&&this.detach()}}return gt.\u0275fac=function(de){return new(de||gt)(_.LFG(N.K0))},gt.\u0275prov=_.Yz7({token:gt,factory:gt.\u0275fac,providedIn:"root"}),gt})(),We=(()=>{class gt extends Lt{constructor(de,Le){super(de),this._ngZone=Le,this._keydownListener=Be=>{const Ct=this._attachedOverlays;for(let Zt=Ct.length-1;Zt>-1;Zt--)if(Ct[Zt]._keydownEvents.observers.length>0){const hn=Ct[Zt]._keydownEvents;this._ngZone?this._ngZone.run(()=>hn.next(Be)):hn.next(Be);break}}}add(de){super.add(de),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return gt.\u0275fac=function(de){return new(de||gt)(_.LFG(N.K0),_.LFG(_.R0b,8))},gt.\u0275prov=_.Yz7({token:gt,factory:gt.\u0275fac,providedIn:"root"}),gt})(),Ot=(()=>{class gt extends Lt{constructor(de,Le,Be){super(de),this._platform=Le,this._ngZone=Be,this._cursorStyleIsSet=!1,this._pointerDownListener=Ct=>{this._pointerDownEventTarget=(0,C.sA)(Ct)},this._clickListener=Ct=>{const Zt=(0,C.sA)(Ct),hn="click"===Ct.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Zt;this._pointerDownEventTarget=null;const Un=this._attachedOverlays.slice();for(let Cn=Un.length-1;Cn>-1;Cn--){const pn=Un[Cn];if(pn._outsidePointerEvents.observers.length<1||!pn.hasAttached())continue;if(pn.overlayElement.contains(Zt)||pn.overlayElement.contains(hn))break;const Fn=pn._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Fn.next(Ct)):Fn.next(Ct)}}}add(de){if(super.add(de),!this._isAttached){const Le=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Le)):this._addEventListeners(Le),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Le.style.cursor,Le.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const de=this._document.body;de.removeEventListener("pointerdown",this._pointerDownListener,!0),de.removeEventListener("click",this._clickListener,!0),de.removeEventListener("auxclick",this._clickListener,!0),de.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(de.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(de){de.addEventListener("pointerdown",this._pointerDownListener,!0),de.addEventListener("click",this._clickListener,!0),de.addEventListener("auxclick",this._clickListener,!0),de.addEventListener("contextmenu",this._clickListener,!0)}}return gt.\u0275fac=function(de){return new(de||gt)(_.LFG(N.K0),_.LFG(C.t4),_.LFG(_.R0b,8))},gt.\u0275prov=_.Yz7({token:gt,factory:gt.\u0275fac,providedIn:"root"}),gt})(),Vt=(()=>{class gt{constructor(de,Le){this._platform=Le,this._document=de}ngOnDestroy(){var de;null===(de=this._containerElement)||void 0===de||de.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const de="cdk-overlay-container";if(this._platform.isBrowser||(0,C.Oy)()){const Be=this._document.querySelectorAll(`.${de}[platform="server"], .${de}[platform="test"]`);for(let Ct=0;Ct<Be.length;Ct++)Be[Ct].remove()}const Le=this._document.createElement("div");Le.classList.add(de),(0,C.Oy)()?Le.setAttribute("platform","test"):this._platform.isBrowser||Le.setAttribute("platform","server"),this._document.body.appendChild(Le),this._containerElement=Le}}return gt.\u0275fac=function(de){return new(de||gt)(_.LFG(N.K0),_.LFG(C.t4))},gt.\u0275prov=_.Yz7({token:gt,factory:gt.\u0275fac,providedIn:"root"}),gt})();class bn{constructor(ee,de,Le,Be,Ct,Zt,hn,Un,Cn,pn=!1){this._portalOutlet=ee,this._host=de,this._pane=Le,this._config=Be,this._ngZone=Ct,this._keyboardDispatcher=Zt,this._document=hn,this._location=Un,this._outsideClickDispatcher=Cn,this._animationsDisabled=pn,this._backdropElement=null,this._backdropClick=new fe.xQ,this._attachments=new fe.xQ,this._detachments=new fe.xQ,this._locationChanges=Se.w.EMPTY,this._backdropClickHandler=Fn=>this._backdropClick.next(Fn),this._backdropTransitionendHandler=Fn=>{this._disposeBackdrop(Fn.target)},this._keydownEvents=new fe.xQ,this._outsidePointerEvents=new fe.xQ,Be.scrollStrategy&&(this._scrollStrategy=Be.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Be.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ee){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const de=this._portalOutlet.attach(ee);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,me.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof de?.onDestroy&&de.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),de}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ee=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ee}dispose(){var ee;const de=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(ee=this._host)||void 0===ee||ee.remove(),this._previousHostParent=this._pane=this._host=null,de&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ee){ee!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ee,this.hasAttached()&&(ee.attach(this),this.updatePosition()))}updateSize(ee){this._config={...this._config,...ee},this._updateElementSize()}setDirection(ee){this._config={...this._config,direction:ee},this._updateElementDirection()}addPanelClass(ee){this._pane&&this._toggleClasses(this._pane,ee,!0)}removePanelClass(ee){this._pane&&this._toggleClasses(this._pane,ee,!1)}getDirection(){const ee=this._config.direction;return ee?"string"==typeof ee?ee:ee.value:"ltr"}updateScrollStrategy(ee){ee!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ee,this.hasAttached()&&(ee.attach(this),ee.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ee=this._pane.style;ee.width=(0,ne.HM)(this._config.width),ee.height=(0,ne.HM)(this._config.height),ee.minWidth=(0,ne.HM)(this._config.minWidth),ee.minHeight=(0,ne.HM)(this._config.minHeight),ee.maxWidth=(0,ne.HM)(this._config.maxWidth),ee.maxHeight=(0,ne.HM)(this._config.maxHeight)}_togglePointerEvents(ee){this._pane.style.pointerEvents=ee?"":"none"}_attachBackdrop(){const ee="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ee)})}):this._backdropElement.classList.add(ee)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ee=this._backdropElement;if(ee){if(this._animationsDisabled)return void this._disposeBackdrop(ee);ee.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ee.addEventListener("transitionend",this._backdropTransitionendHandler)}),ee.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(ee)},500))}}_toggleClasses(ee,de,Le){const Be=(0,ne.Eq)(de||[]).filter(Ct=>!!Ct);Be.length&&(Le?ee.classList.add(...Be):ee.classList.remove(...Be))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const ee=this._ngZone.onStable.pipe((0,ye.R)((0,ae.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),ee.unsubscribe())})})}_disposeScrollStrategy(){const ee=this._scrollStrategy;ee&&(ee.disable(),ee.detach&&ee.detach())}_disposeBackdrop(ee){ee&&(ee.removeEventListener("click",this._backdropClickHandler),ee.removeEventListener("transitionend",this._backdropTransitionendHandler),ee.remove(),this._backdropElement===ee&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const qn="cdk-overlay-connected-position-bounding-box",jn=/([A-Za-z%]+)$/;class oi{constructor(ee,de,Le,Be,Ct){this._viewportRuler=de,this._document=Le,this._platform=Be,this._overlayContainer=Ct,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new fe.xQ,this._resizeSubscription=Se.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ee)}get positions(){return this._preferredPositions}attach(ee){this._validatePositions(),ee.hostElement.classList.add(qn),this._overlayRef=ee,this._boundingBox=ee.hostElement,this._pane=ee.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ee=this._originRect,de=this._overlayRect,Le=this._viewportRect,Be=this._containerRect,Ct=[];let Zt;for(let hn of this._preferredPositions){let Un=this._getOriginPoint(ee,Be,hn),Cn=this._getOverlayPoint(Un,de,hn),pn=this._getOverlayFit(Cn,de,Le,hn);if(pn.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(hn,Un);this._canFitWithFlexibleDimensions(pn,Cn,Le)?Ct.push({position:hn,origin:Un,overlayRect:de,boundingBoxRect:this._calculateBoundingBoxRect(Un,hn)}):(!Zt||Zt.overlayFit.visibleArea<pn.visibleArea)&&(Zt={overlayFit:pn,overlayPoint:Cn,originPoint:Un,position:hn,overlayRect:de})}if(Ct.length){let hn=null,Un=-1;for(const Cn of Ct){const pn=Cn.boundingBoxRect.width*Cn.boundingBoxRect.height*(Cn.position.weight||1);pn>Un&&(Un=pn,hn=Cn)}return this._isPushed=!1,void this._applyPosition(hn.position,hn.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Zt.position,Zt.originPoint);this._applyPosition(Zt.position,Zt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Nn(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(qn),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const ee=this._lastPosition;if(ee){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const de=this._getOriginPoint(this._originRect,this._containerRect,ee);this._applyPosition(ee,de)}else this.apply()}withScrollableContainers(ee){return this._scrollables=ee,this}withPositions(ee){return this._preferredPositions=ee,-1===ee.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ee){return this._viewportMargin=ee,this}withFlexibleDimensions(ee=!0){return this._hasFlexibleDimensions=ee,this}withGrowAfterOpen(ee=!0){return this._growAfterOpen=ee,this}withPush(ee=!0){return this._canPush=ee,this}withLockedPosition(ee=!0){return this._positionLocked=ee,this}setOrigin(ee){return this._origin=ee,this}withDefaultOffsetX(ee){return this._offsetX=ee,this}withDefaultOffsetY(ee){return this._offsetY=ee,this}withTransformOriginOn(ee){return this._transformOriginSelector=ee,this}_getOriginPoint(ee,de,Le){let Be,Ct;if("center"==Le.originX)Be=ee.left+ee.width/2;else{const Zt=this._isRtl()?ee.right:ee.left,hn=this._isRtl()?ee.left:ee.right;Be="start"==Le.originX?Zt:hn}return de.left<0&&(Be-=de.left),Ct="center"==Le.originY?ee.top+ee.height/2:"top"==Le.originY?ee.top:ee.bottom,de.top<0&&(Ct-=de.top),{x:Be,y:Ct}}_getOverlayPoint(ee,de,Le){let Be,Ct;return Be="center"==Le.overlayX?-de.width/2:"start"===Le.overlayX?this._isRtl()?-de.width:0:this._isRtl()?0:-de.width,Ct="center"==Le.overlayY?-de.height/2:"top"==Le.overlayY?0:-de.height,{x:ee.x+Be,y:ee.y+Ct}}_getOverlayFit(ee,de,Le,Be){const Ct=gn(de);let{x:Zt,y:hn}=ee,Un=this._getOffset(Be,"x"),Cn=this._getOffset(Be,"y");Un&&(Zt+=Un),Cn&&(hn+=Cn);let di=0-hn,hi=hn+Ct.height-Le.height,ni=this._subtractOverflows(Ct.width,0-Zt,Zt+Ct.width-Le.width),at=this._subtractOverflows(Ct.height,di,hi),Jt=ni*at;return{visibleArea:Jt,isCompletelyWithinViewport:Ct.width*Ct.height===Jt,fitsInViewportVertically:at===Ct.height,fitsInViewportHorizontally:ni==Ct.width}}_canFitWithFlexibleDimensions(ee,de,Le){if(this._hasFlexibleDimensions){const Be=Le.bottom-de.y,Ct=Le.right-de.x,Zt=rn(this._overlayRef.getConfig().minHeight),hn=rn(this._overlayRef.getConfig().minWidth),Cn=ee.fitsInViewportHorizontally||null!=hn&&hn<=Ct;return(ee.fitsInViewportVertically||null!=Zt&&Zt<=Be)&&Cn}return!1}_pushOverlayOnScreen(ee,de,Le){if(this._previousPushAmount&&this._positionLocked)return{x:ee.x+this._previousPushAmount.x,y:ee.y+this._previousPushAmount.y};const Be=gn(de),Ct=this._viewportRect,Zt=Math.max(ee.x+Be.width-Ct.width,0),hn=Math.max(ee.y+Be.height-Ct.height,0),Un=Math.max(Ct.top-Le.top-ee.y,0),Cn=Math.max(Ct.left-Le.left-ee.x,0);let pn=0,Fn=0;return pn=Be.width<=Ct.width?Cn||-Zt:ee.x<this._viewportMargin?Ct.left-Le.left-ee.x:0,Fn=Be.height<=Ct.height?Un||-hn:ee.y<this._viewportMargin?Ct.top-Le.top-ee.y:0,this._previousPushAmount={x:pn,y:Fn},{x:ee.x+pn,y:ee.y+Fn}}_applyPosition(ee,de){if(this._setTransformOrigin(ee),this._setOverlayElementStyles(de,ee),this._setBoundingBoxStyles(de,ee),ee.panelClass&&this._addPanelClasses(ee.panelClass),this._lastPosition=ee,this._positionChanges.observers.length){const Le=this._getScrollVisibility(),Be=new pt(ee,Le);this._positionChanges.next(Be)}this._isInitialRender=!1}_setTransformOrigin(ee){if(!this._transformOriginSelector)return;const de=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Le,Be=ee.overlayY;Le="center"===ee.overlayX?"center":this._isRtl()?"start"===ee.overlayX?"right":"left":"start"===ee.overlayX?"left":"right";for(let Ct=0;Ct<de.length;Ct++)de[Ct].style.transformOrigin=`${Le} ${Be}`}_calculateBoundingBoxRect(ee,de){const Le=this._viewportRect,Be=this._isRtl();let Ct,Zt,hn,pn,Fn,di;if("top"===de.overlayY)Zt=ee.y,Ct=Le.height-Zt+this._viewportMargin;else if("bottom"===de.overlayY)hn=Le.height-ee.y+2*this._viewportMargin,Ct=Le.height-hn+this._viewportMargin;else{const hi=Math.min(Le.bottom-ee.y+Le.top,ee.y),ni=this._lastBoundingBoxSize.height;Ct=2*hi,Zt=ee.y-hi,Ct>ni&&!this._isInitialRender&&!this._growAfterOpen&&(Zt=ee.y-ni/2)}if("end"===de.overlayX&&!Be||"start"===de.overlayX&&Be)di=Le.width-ee.x+this._viewportMargin,pn=ee.x-this._viewportMargin;else if("start"===de.overlayX&&!Be||"end"===de.overlayX&&Be)Fn=ee.x,pn=Le.right-ee.x;else{const hi=Math.min(Le.right-ee.x+Le.left,ee.x),ni=this._lastBoundingBoxSize.width;pn=2*hi,Fn=ee.x-hi,pn>ni&&!this._isInitialRender&&!this._growAfterOpen&&(Fn=ee.x-ni/2)}return{top:Zt,left:Fn,bottom:hn,right:di,width:pn,height:Ct}}_setBoundingBoxStyles(ee,de){const Le=this._calculateBoundingBoxRect(ee,de);!this._isInitialRender&&!this._growAfterOpen&&(Le.height=Math.min(Le.height,this._lastBoundingBoxSize.height),Le.width=Math.min(Le.width,this._lastBoundingBoxSize.width));const Be={};if(this._hasExactPosition())Be.top=Be.left="0",Be.bottom=Be.right=Be.maxHeight=Be.maxWidth="",Be.width=Be.height="100%";else{const Ct=this._overlayRef.getConfig().maxHeight,Zt=this._overlayRef.getConfig().maxWidth;Be.height=(0,ne.HM)(Le.height),Be.top=(0,ne.HM)(Le.top),Be.bottom=(0,ne.HM)(Le.bottom),Be.width=(0,ne.HM)(Le.width),Be.left=(0,ne.HM)(Le.left),Be.right=(0,ne.HM)(Le.right),Be.alignItems="center"===de.overlayX?"center":"end"===de.overlayX?"flex-end":"flex-start",Be.justifyContent="center"===de.overlayY?"center":"bottom"===de.overlayY?"flex-end":"flex-start",Ct&&(Be.maxHeight=(0,ne.HM)(Ct)),Zt&&(Be.maxWidth=(0,ne.HM)(Zt))}this._lastBoundingBoxSize=Le,Nn(this._boundingBox.style,Be)}_resetBoundingBoxStyles(){Nn(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Nn(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ee,de){const Le={},Be=this._hasExactPosition(),Ct=this._hasFlexibleDimensions,Zt=this._overlayRef.getConfig();if(Be){const pn=this._viewportRuler.getViewportScrollPosition();Nn(Le,this._getExactOverlayY(de,ee,pn)),Nn(Le,this._getExactOverlayX(de,ee,pn))}else Le.position="static";let hn="",Un=this._getOffset(de,"x"),Cn=this._getOffset(de,"y");Un&&(hn+=`translateX(${Un}px) `),Cn&&(hn+=`translateY(${Cn}px)`),Le.transform=hn.trim(),Zt.maxHeight&&(Be?Le.maxHeight=(0,ne.HM)(Zt.maxHeight):Ct&&(Le.maxHeight="")),Zt.maxWidth&&(Be?Le.maxWidth=(0,ne.HM)(Zt.maxWidth):Ct&&(Le.maxWidth="")),Nn(this._pane.style,Le)}_getExactOverlayY(ee,de,Le){let Be={top:"",bottom:""},Ct=this._getOverlayPoint(de,this._overlayRect,ee);return this._isPushed&&(Ct=this._pushOverlayOnScreen(Ct,this._overlayRect,Le)),"bottom"===ee.overlayY?Be.bottom=this._document.documentElement.clientHeight-(Ct.y+this._overlayRect.height)+"px":Be.top=(0,ne.HM)(Ct.y),Be}_getExactOverlayX(ee,de,Le){let Zt,Be={left:"",right:""},Ct=this._getOverlayPoint(de,this._overlayRect,ee);return this._isPushed&&(Ct=this._pushOverlayOnScreen(Ct,this._overlayRect,Le)),Zt=this._isRtl()?"end"===ee.overlayX?"left":"right":"end"===ee.overlayX?"right":"left","right"===Zt?Be.right=this._document.documentElement.clientWidth-(Ct.x+this._overlayRect.width)+"px":Be.left=(0,ne.HM)(Ct.x),Be}_getScrollVisibility(){const ee=this._getOriginRect(),de=this._pane.getBoundingClientRect(),Le=this._scrollables.map(Be=>Be.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:jt(ee,Le),isOriginOutsideView:mt(ee,Le),isOverlayClipped:jt(de,Le),isOverlayOutsideView:mt(de,Le)}}_subtractOverflows(ee,...de){return de.reduce((Le,Be)=>Le-Math.max(Be,0),ee)}_getNarrowedViewportRect(){const ee=this._document.documentElement.clientWidth,de=this._document.documentElement.clientHeight,Le=this._viewportRuler.getViewportScrollPosition();return{top:Le.top+this._viewportMargin,left:Le.left+this._viewportMargin,right:Le.left+ee-this._viewportMargin,bottom:Le.top+de-this._viewportMargin,width:ee-2*this._viewportMargin,height:de-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ee,de){return"x"===de?ee.offsetX??this._offsetX:ee.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(ee){this._pane&&(0,ne.Eq)(ee).forEach(de=>{""!==de&&-1===this._appliedPanelClasses.indexOf(de)&&(this._appliedPanelClasses.push(de),this._pane.classList.add(de))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ee=>{this._pane.classList.remove(ee)}),this._appliedPanelClasses=[])}_getOriginRect(){const ee=this._origin;if(ee instanceof _.SBq)return ee.nativeElement.getBoundingClientRect();if(ee instanceof Element)return ee.getBoundingClientRect();const de=ee.width||0,Le=ee.height||0;return{top:ee.y,bottom:ee.y+Le,left:ee.x,right:ee.x+de,height:Le,width:de}}}function Nn(gt,ee){for(let de in ee)ee.hasOwnProperty(de)&&(gt[de]=ee[de]);return gt}function rn(gt){if("number"!=typeof gt&&null!=gt){const[ee,de]=gt.split(jn);return de&&"px"!==de?null:parseFloat(ee)}return gt||null}function gn(gt){return{top:Math.floor(gt.top),right:Math.floor(gt.right),bottom:Math.floor(gt.bottom),left:Math.floor(gt.left),width:Math.floor(gt.width),height:Math.floor(gt.height)}}const Fe="cdk-global-overlay-wrapper";class Ze{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(ee){const de=ee.getConfig();this._overlayRef=ee,this._width&&!de.width&&ee.updateSize({width:this._width}),this._height&&!de.height&&ee.updateSize({height:this._height}),ee.hostElement.classList.add(Fe),this._isDisposed=!1}top(ee=""){return this._bottomOffset="",this._topOffset=ee,this._alignItems="flex-start",this}left(ee=""){return this._xOffset=ee,this._xPosition="left",this}bottom(ee=""){return this._topOffset="",this._bottomOffset=ee,this._alignItems="flex-end",this}right(ee=""){return this._xOffset=ee,this._xPosition="right",this}start(ee=""){return this._xOffset=ee,this._xPosition="start",this}end(ee=""){return this._xOffset=ee,this._xPosition="end",this}width(ee=""){return this._overlayRef?this._overlayRef.updateSize({width:ee}):this._width=ee,this}height(ee=""){return this._overlayRef?this._overlayRef.updateSize({height:ee}):this._height=ee,this}centerHorizontally(ee=""){return this.left(ee),this._xPosition="center",this}centerVertically(ee=""){return this.top(ee),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ee=this._overlayRef.overlayElement.style,de=this._overlayRef.hostElement.style,Le=this._overlayRef.getConfig(),{width:Be,height:Ct,maxWidth:Zt,maxHeight:hn}=Le,Un=!("100%"!==Be&&"100vw"!==Be||Zt&&"100%"!==Zt&&"100vw"!==Zt),Cn=!("100%"!==Ct&&"100vh"!==Ct||hn&&"100%"!==hn&&"100vh"!==hn),pn=this._xPosition,Fn=this._xOffset,di="rtl"===this._overlayRef.getConfig().direction;let hi="",ni="",at="";Un?at="flex-start":"center"===pn?(at="center",di?ni=Fn:hi=Fn):di?"left"===pn||"end"===pn?(at="flex-end",hi=Fn):("right"===pn||"start"===pn)&&(at="flex-start",ni=Fn):"left"===pn||"start"===pn?(at="flex-start",hi=Fn):("right"===pn||"end"===pn)&&(at="flex-end",ni=Fn),ee.position=this._cssPosition,ee.marginLeft=Un?"0":hi,ee.marginTop=Cn?"0":this._topOffset,ee.marginBottom=this._bottomOffset,ee.marginRight=Un?"0":ni,de.justifyContent=at,de.alignItems=Cn?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ee=this._overlayRef.overlayElement.style,de=this._overlayRef.hostElement,Le=de.style;de.classList.remove(Fe),Le.justifyContent=Le.alignItems=ee.marginTop=ee.marginBottom=ee.marginLeft=ee.marginRight=ee.position="",this._overlayRef=null,this._isDisposed=!0}}let St=(()=>{class gt{constructor(de,Le,Be,Ct){this._viewportRuler=de,this._document=Le,this._platform=Be,this._overlayContainer=Ct}global(){return new Ze}flexibleConnectedTo(de){return new oi(de,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return gt.\u0275fac=function(de){return new(de||gt)(_.LFG(p.rL),_.LFG(N.K0),_.LFG(C.t4),_.LFG(Vt))},gt.\u0275prov=_.Yz7({token:gt,factory:gt.\u0275fac,providedIn:"root"}),gt})(),tn=0,Ln=(()=>{class gt{constructor(de,Le,Be,Ct,Zt,hn,Un,Cn,pn,Fn,di,hi){this.scrollStrategies=de,this._overlayContainer=Le,this._componentFactoryResolver=Be,this._positionBuilder=Ct,this._keyboardDispatcher=Zt,this._injector=hn,this._ngZone=Un,this._document=Cn,this._directionality=pn,this._location=Fn,this._outsideClickDispatcher=di,this._animationsModuleType=hi}create(de){const Le=this._createHostElement(),Be=this._createPaneElement(Le),Ct=this._createPortalOutlet(Be),Zt=new yt(de);return Zt.direction=Zt.direction||this._directionality.value,new bn(Ct,Le,Be,Zt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(de){const Le=this._document.createElement("div");return Le.id="cdk-overlay-"+tn++,Le.classList.add("cdk-overlay-pane"),de.appendChild(Le),Le}_createHostElement(){const de=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(de),de}_createPortalOutlet(de){return this._appRef||(this._appRef=this._injector.get(_.z2F)),new we.u0(de,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return gt.\u0275fac=function(de){return new(de||gt)(_.LFG(kt),_.LFG(Vt),_.LFG(_._Vd),_.LFG(St),_.LFG(We),_.LFG(_.zs3),_.LFG(_.R0b),_.LFG(N.K0),_.LFG(J.Is),_.LFG(N.Ye),_.LFG(Ot),_.LFG(_.QbO,8))},gt.\u0275prov=_.Yz7({token:gt,factory:gt.\u0275fac}),gt})();const Gt={provide:new _.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Ln],useFactory:function En(gt){return()=>gt.scrollStrategies.reposition()}};let $n=(()=>{class gt{}return gt.\u0275fac=function(de){return new(de||gt)},gt.\u0275mod=_.oAB({type:gt}),gt.\u0275inj=_.cJS({providers:[Ln,Gt],imports:[J.vT,we.eL,p.Cl,p.Cl]}),gt})()},3353:(_n,vt,k)=>{"use strict";k.d(vt,{Mq:()=>Ke,Oy:()=>kt,ht:()=>jt,i$:()=>me,kV:()=>mt,qK:()=>fe,sA:()=>ht,t4:()=>ne});var p=k(4650),N=k(6895);let _;try{_=typeof Intl<"u"&&Intl.v8BreakIterator}catch{_=!1}let J,ne=(()=>{class yt{constructor(Ve){this._platformId=Ve,this.isBrowser=this._platformId?(0,N.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!_)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return yt.\u0275fac=function(Ve){return new(Ve||yt)(p.LFG(p.Lbi))},yt.\u0275prov=p.Yz7({token:yt,factory:yt.\u0275fac,providedIn:"root"}),yt})();const we=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function fe(){if(J)return J;if("object"!=typeof document||!document)return J=new Set(we),J;let yt=document.createElement("input");return J=new Set(we.filter(et=>(yt.setAttribute("type",et),yt.type===et))),J}let Se,Pe,je;function me(yt){return function ae(){if(null==Se&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Se=!0}))}finally{Se=Se||!1}return Se}()?yt:!!yt.capture}function Ke(){if(null==Pe){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Pe=!1,Pe;if("scrollBehavior"in document.documentElement.style)Pe=!0;else{const yt=Element.prototype.scrollTo;Pe=!!yt&&!/\{\s*\[native code\]\s*\}/.test(yt.toString())}}return Pe}function mt(yt){if(function ct(){if(null==je){const yt=typeof document<"u"?document.head:null;je=!(!yt||!yt.createShadowRoot&&!yt.attachShadow)}return je}()){const et=yt.getRootNode?yt.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&et instanceof ShadowRoot)return et}return null}function jt(){let yt=typeof document<"u"&&document?document.activeElement:null;for(;yt&&yt.shadowRoot;){const et=yt.shadowRoot.activeElement;if(et===yt)break;yt=et}return yt}function ht(yt){return yt.composedPath?yt.composedPath()[0]:yt.target}function kt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},4080:(_n,vt,k)=>{"use strict";k.d(vt,{C5:()=>ae,Pl:()=>jt,UE:()=>me,eL:()=>kt,en:()=>Pe,u0:()=>ut});var p=k(4650),N=k(6895);class Se{attach(Ve){return this._attachedHost=Ve,Ve.attach(this)}detach(){let Ve=this._attachedHost;null!=Ve&&(this._attachedHost=null,Ve.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Ve){this._attachedHost=Ve}}class ae extends Se{constructor(Ve,pt,tt,Qe){super(),this.component=Ve,this.viewContainerRef=pt,this.injector=tt,this.componentFactoryResolver=Qe}}class me extends Se{constructor(Ve,pt,tt,Qe){super(),this.templateRef=Ve,this.viewContainerRef=pt,this.context=tt,this.injector=Qe}get origin(){return this.templateRef.elementRef}attach(Ve,pt=this.context){return this.context=pt,super.attach(Ve)}detach(){return this.context=void 0,super.detach()}}class ye extends Se{constructor(Ve){super(),this.element=Ve instanceof p.SBq?Ve.nativeElement:Ve}}class Pe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Ve){return Ve instanceof ae?(this._attachedPortal=Ve,this.attachComponentPortal(Ve)):Ve instanceof me?(this._attachedPortal=Ve,this.attachTemplatePortal(Ve)):this.attachDomPortal&&Ve instanceof ye?(this._attachedPortal=Ve,this.attachDomPortal(Ve)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Ve){this._disposeFn=Ve}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ut extends Pe{constructor(Ve,pt,tt,Qe,Lt){super(),this.outletElement=Ve,this._componentFactoryResolver=pt,this._appRef=tt,this._defaultInjector=Qe,this.attachDomPortal=We=>{const Ot=We.element,Vt=this._document.createComment("dom-portal");Ot.parentNode.insertBefore(Vt,Ot),this.outletElement.appendChild(Ot),this._attachedPortal=We,super.setDisposeFn(()=>{Vt.parentNode&&Vt.parentNode.replaceChild(Ot,Vt)})},this._document=Lt}attachComponentPortal(Ve){const tt=(Ve.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Ve.component);let Qe;return Ve.viewContainerRef?(Qe=Ve.viewContainerRef.createComponent(tt,Ve.viewContainerRef.length,Ve.injector||Ve.viewContainerRef.injector),this.setDisposeFn(()=>Qe.destroy())):(Qe=tt.create(Ve.injector||this._defaultInjector||p.zs3.NULL),this._appRef.attachView(Qe.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Qe.hostView),Qe.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Qe)),this._attachedPortal=Ve,Qe}attachTemplatePortal(Ve){let pt=Ve.viewContainerRef,tt=pt.createEmbeddedView(Ve.templateRef,Ve.context,{injector:Ve.injector});return tt.rootNodes.forEach(Qe=>this.outletElement.appendChild(Qe)),tt.detectChanges(),this.setDisposeFn(()=>{let Qe=pt.indexOf(tt);-1!==Qe&&pt.remove(Qe)}),this._attachedPortal=Ve,tt}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Ve){return Ve.hostView.rootNodes[0]}}let jt=(()=>{class et extends Pe{constructor(pt,tt,Qe){super(),this._componentFactoryResolver=pt,this._viewContainerRef=tt,this._isInitialized=!1,this.attached=new p.vpe,this.attachDomPortal=Lt=>{const We=Lt.element,Ot=this._document.createComment("dom-portal");Lt.setAttachedHost(this),We.parentNode.insertBefore(Ot,We),this._getRootNode().appendChild(We),this._attachedPortal=Lt,super.setDisposeFn(()=>{Ot.parentNode&&Ot.parentNode.replaceChild(We,Ot)})},this._document=Qe}get portal(){return this._attachedPortal}set portal(pt){this.hasAttached()&&!pt&&!this._isInitialized||(this.hasAttached()&&super.detach(),pt&&super.attach(pt),this._attachedPortal=pt||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(pt){pt.setAttachedHost(this);const tt=null!=pt.viewContainerRef?pt.viewContainerRef:this._viewContainerRef,Lt=(pt.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(pt.component),We=tt.createComponent(Lt,tt.length,pt.injector||tt.injector);return tt!==this._viewContainerRef&&this._getRootNode().appendChild(We.hostView.rootNodes[0]),super.setDisposeFn(()=>We.destroy()),this._attachedPortal=pt,this._attachedRef=We,this.attached.emit(We),We}attachTemplatePortal(pt){pt.setAttachedHost(this);const tt=this._viewContainerRef.createEmbeddedView(pt.templateRef,pt.context,{injector:pt.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=pt,this._attachedRef=tt,this.attached.emit(tt),tt}_getRootNode(){const pt=this._viewContainerRef.element.nativeElement;return pt.nodeType===pt.ELEMENT_NODE?pt:pt.parentNode}}return et.\u0275fac=function(pt){return new(pt||et)(p.Y36(p._Vd),p.Y36(p.s_b),p.Y36(N.K0))},et.\u0275dir=p.lG2({type:et,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[p.qOj]}),et})(),kt=(()=>{class et{}return et.\u0275fac=function(pt){return new(pt||et)},et.\u0275mod=p.oAB({type:et}),et.\u0275inj=p.cJS({}),et})()},2556:(_n,vt,k)=>{"use strict";k.d(vt,{ZD:()=>tn,mF:()=>Vt,Cl:()=>Ln,rL:()=>jn});var p=k(1281),N=k(4650),_=k(8929),ne=k(1086),C=k(6498),J=k(3753),Se=(k(352),k(8139),k(353)),ae=k(826),me=k(9054);class Pe{constructor(qt){this.durationSelector=qt}call(qt,Mt){return Mt.subscribe(new Ke(qt,this.durationSelector))}}class Ke extends ae.L{constructor(qt,Mt){super(qt),this.durationSelector=Mt,this.hasValue=!1}_next(qt){if(this.value=qt,this.hasValue=!0,!this.throttled){let Mt;try{const{durationSelector:En}=this;Mt=En(qt)}catch(En){return this.destination.error(En)}const Ht=(0,me.D)(this,Mt);!Ht||Ht.closed?this.clearThrottle():this.add(this.throttled=Ht)}}clearThrottle(){const{value:qt,hasValue:Mt,throttled:Ht}=this;Ht&&(this.remove(Ht),this.throttled=null,Ht.unsubscribe()),Mt&&(this.value=null,this.hasValue=!1,this.destination.next(qt))}notifyNext(qt,Mt,Ht,En){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var ut=k(4241),je=k(2866);function mt(It){const{index:qt,period:Mt,subscriber:Ht}=It;if(Ht.next(qt),!Ht.closed){if(-1===Mt)return Ht.complete();It.index=qt+1,this.schedule(It,Mt)}}function jt(It,qt=Se.P){return function ye(It){return function(Mt){return Mt.lift(new Pe(It))}}(()=>function ct(It=0,qt,Mt){let Ht=-1;return(0,ut.k)(qt)?Ht=Number(qt)<1?1:Number(qt):(0,je.K)(qt)&&(Mt=qt),(0,je.K)(Mt)||(Mt=Se.P),new C.y(En=>{const Gt=(0,ut.k)(It)?It:+It-Mt.now();return Mt.schedule(mt,Gt,{index:0,period:Ht,subscriber:En})})}(It,qt))}var ht=k(2198),kt=k(3353),yt=k(6895),et=k(445);let Vt=(()=>{class It{constructor(Mt,Ht,En){this._ngZone=Mt,this._platform=Ht,this._scrolled=new _.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=En}register(Mt){this.scrollContainers.has(Mt)||this.scrollContainers.set(Mt,Mt.elementScrolled().subscribe(()=>this._scrolled.next(Mt)))}deregister(Mt){const Ht=this.scrollContainers.get(Mt);Ht&&(Ht.unsubscribe(),this.scrollContainers.delete(Mt))}scrolled(Mt=20){return this._platform.isBrowser?new C.y(Ht=>{this._globalSubscription||this._addGlobalListener();const En=Mt>0?this._scrolled.pipe(jt(Mt)).subscribe(Ht):this._scrolled.subscribe(Ht);return this._scrolledCount++,()=>{En.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,ne.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Mt,Ht)=>this.deregister(Ht)),this._scrolled.complete()}ancestorScrolled(Mt,Ht){const En=this.getAncestorScrollContainers(Mt);return this.scrolled(Ht).pipe((0,ht.h)(Gt=>!Gt||En.indexOf(Gt)>-1))}getAncestorScrollContainers(Mt){const Ht=[];return this.scrollContainers.forEach((En,Gt)=>{this._scrollableContainsElement(Gt,Mt)&&Ht.push(Gt)}),Ht}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Mt,Ht){let En=(0,p.fI)(Ht),Gt=Mt.getElementRef().nativeElement;do{if(En==Gt)return!0}while(En=En.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Mt=this._getWindow();return(0,J.R)(Mt.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return It.\u0275fac=function(Mt){return new(Mt||It)(N.LFG(N.R0b),N.LFG(kt.t4),N.LFG(yt.K0,8))},It.\u0275prov=N.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"}),It})(),jn=(()=>{class It{constructor(Mt,Ht,En){this._platform=Mt,this._change=new _.xQ,this._changeListener=Gt=>{this._change.next(Gt)},this._document=En,Ht.runOutsideAngular(()=>{if(Mt.isBrowser){const Gt=this._getWindow();Gt.addEventListener("resize",this._changeListener),Gt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Mt=this._getWindow();Mt.removeEventListener("resize",this._changeListener),Mt.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Mt={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Mt}getViewportRect(){const Mt=this.getViewportScrollPosition(),{width:Ht,height:En}=this.getViewportSize();return{top:Mt.top,left:Mt.left,bottom:Mt.top+En,right:Mt.left+Ht,height:En,width:Ht}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Mt=this._document,Ht=this._getWindow(),En=Mt.documentElement,Gt=En.getBoundingClientRect();return{top:-Gt.top||Mt.body.scrollTop||Ht.scrollY||En.scrollTop||0,left:-Gt.left||Mt.body.scrollLeft||Ht.scrollX||En.scrollLeft||0}}change(Mt=20){return Mt>0?this._change.pipe(jt(Mt)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Mt=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Mt.innerWidth,height:Mt.innerHeight}:{width:0,height:0}}}return It.\u0275fac=function(Mt){return new(Mt||It)(N.LFG(kt.t4),N.LFG(N.R0b),N.LFG(yt.K0,8))},It.\u0275prov=N.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"}),It})(),tn=(()=>{class It{}return It.\u0275fac=function(Mt){return new(Mt||It)},It.\u0275mod=N.oAB({type:It}),It.\u0275inj=N.cJS({}),It})(),Ln=(()=>{class It{}return It.\u0275fac=function(Mt){return new(Mt||It)},It.\u0275mod=N.oAB({type:It}),It.\u0275inj=N.cJS({imports:[et.vT,tn,et.vT,tn]}),It})()},6895:(_n,vt,k)=>{"use strict";k.d(vt,{Do:()=>ht,EM:()=>Qr,HT:()=>C,JF:()=>vs,K0:()=>we,Mx:()=>ns,NF:()=>wa,O5:()=>or,Ov:()=>Pn,PC:()=>no,PM:()=>bo,RF:()=>ko,S$:()=>ct,V_:()=>ae,Ye:()=>kt,b0:()=>jt,bD:()=>Hs,ez:()=>xs,mk:()=>Vi,n9:()=>as,q:()=>_,sg:()=>qr,w_:()=>J});var p=k(4650);let N=null;function _(){return N}function C(W){N||(N=W)}class J{}const we=new p.OlP("DocumentToken");let fe=(()=>{class W{historyGo(q){throw new Error("Not implemented")}}return W.\u0275fac=function(q){return new(q||W)},W.\u0275prov=p.Yz7({token:W,factory:function(){return function Se(){return(0,p.LFG)(me)}()},providedIn:"platform"}),W})();const ae=new p.OlP("Location Initialized");let me=(()=>{class W extends fe{constructor(q){super(),this._doc=q,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _().getBaseHref(this._doc)}onPopState(q){const Me=_().getGlobalEventTarget(this._doc,"window");return Me.addEventListener("popstate",q,!1),()=>Me.removeEventListener("popstate",q)}onHashChange(q){const Me=_().getGlobalEventTarget(this._doc,"window");return Me.addEventListener("hashchange",q,!1),()=>Me.removeEventListener("hashchange",q)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(q){this.location.pathname=q}pushState(q,Me,dt){ye()?this._history.pushState(q,Me,dt):this.location.hash=dt}replaceState(q,Me,dt){ye()?this._history.replaceState(q,Me,dt):this.location.hash=dt}forward(){this._history.forward()}back(){this._history.back()}historyGo(q=0){this._history.go(q)}getState(){return this._history.state}}return W.\u0275fac=function(q){return new(q||W)(p.LFG(we))},W.\u0275prov=p.Yz7({token:W,factory:function(){return function Pe(){return new me((0,p.LFG)(we))}()},providedIn:"platform"}),W})();function ye(){return!!window.history.pushState}function Ke(W,ve){if(0==W.length)return ve;if(0==ve.length)return W;let q=0;return W.endsWith("/")&&q++,ve.startsWith("/")&&q++,2==q?W+ve.substring(1):1==q?W+ve:W+"/"+ve}function ut(W){const ve=W.match(/#|\?|$/),q=ve&&ve.index||W.length;return W.slice(0,q-("/"===W[q-1]?1:0))+W.slice(q)}function je(W){return W&&"?"!==W[0]?"?"+W:W}let ct=(()=>{class W{historyGo(q){throw new Error("Not implemented")}}return W.\u0275fac=function(q){return new(q||W)},W.\u0275prov=p.Yz7({token:W,factory:function(){return(0,p.f3M)(jt)},providedIn:"root"}),W})();const mt=new p.OlP("appBaseHref");let jt=(()=>{class W extends ct{constructor(q,Me){var dt,Qt,un;super(),this._platformLocation=q,this._removeListenerFns=[],this._baseHref=null!==(dt=null!==(Qt=Me??this._platformLocation.getBaseHrefFromDOM())&&void 0!==Qt?Qt:null===(un=(0,p.f3M)(we).location)||void 0===un?void 0:un.origin)&&void 0!==dt?dt:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(q){this._removeListenerFns.push(this._platformLocation.onPopState(q),this._platformLocation.onHashChange(q))}getBaseHref(){return this._baseHref}prepareExternalUrl(q){return Ke(this._baseHref,q)}path(q=!1){const Me=this._platformLocation.pathname+je(this._platformLocation.search),dt=this._platformLocation.hash;return dt&&q?`${Me}${dt}`:Me}pushState(q,Me,dt,Qt){const un=this.prepareExternalUrl(dt+je(Qt));this._platformLocation.pushState(q,Me,un)}replaceState(q,Me,dt,Qt){const un=this.prepareExternalUrl(dt+je(Qt));this._platformLocation.replaceState(q,Me,un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(q=0){var Me,dt;null===(Me=(dt=this._platformLocation).historyGo)||void 0===Me||Me.call(dt,q)}}return W.\u0275fac=function(q){return new(q||W)(p.LFG(fe),p.LFG(mt,8))},W.\u0275prov=p.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})(),ht=(()=>{class W extends ct{constructor(q,Me){super(),this._platformLocation=q,this._baseHref="",this._removeListenerFns=[],null!=Me&&(this._baseHref=Me)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(q){this._removeListenerFns.push(this._platformLocation.onPopState(q),this._platformLocation.onHashChange(q))}getBaseHref(){return this._baseHref}path(q=!1){let Me=this._platformLocation.hash;return null==Me&&(Me="#"),Me.length>0?Me.substring(1):Me}prepareExternalUrl(q){const Me=Ke(this._baseHref,q);return Me.length>0?"#"+Me:Me}pushState(q,Me,dt,Qt){let un=this.prepareExternalUrl(dt+je(Qt));0==un.length&&(un=this._platformLocation.pathname),this._platformLocation.pushState(q,Me,un)}replaceState(q,Me,dt,Qt){let un=this.prepareExternalUrl(dt+je(Qt));0==un.length&&(un=this._platformLocation.pathname),this._platformLocation.replaceState(q,Me,un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(q=0){var Me,dt;null===(Me=(dt=this._platformLocation).historyGo)||void 0===Me||Me.call(dt,q)}}return W.\u0275fac=function(q){return new(q||W)(p.LFG(fe),p.LFG(mt,8))},W.\u0275prov=p.Yz7({token:W,factory:W.\u0275fac}),W})(),kt=(()=>{class W{constructor(q){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=q;const Me=this._locationStrategy.getBaseHref();this._baseHref=ut(Ve(Me)),this._locationStrategy.onPopState(dt=>{this._subject.emit({url:this.path(!0),pop:!0,state:dt.state,type:dt.type})})}ngOnDestroy(){var q;null===(q=this._urlChangeSubscription)||void 0===q||q.unsubscribe(),this._urlChangeListeners=[]}path(q=!1){return this.normalize(this._locationStrategy.path(q))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(q,Me=""){return this.path()==this.normalize(q+je(Me))}normalize(q){return W.stripTrailingSlash(function et(W,ve){return W&&ve.startsWith(W)?ve.substring(W.length):ve}(this._baseHref,Ve(q)))}prepareExternalUrl(q){return q&&"/"!==q[0]&&(q="/"+q),this._locationStrategy.prepareExternalUrl(q)}go(q,Me="",dt=null){this._locationStrategy.pushState(dt,"",q,Me),this._notifyUrlChangeListeners(this.prepareExternalUrl(q+je(Me)),dt)}replaceState(q,Me="",dt=null){this._locationStrategy.replaceState(dt,"",q,Me),this._notifyUrlChangeListeners(this.prepareExternalUrl(q+je(Me)),dt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(q=0){var Me,dt;null===(Me=(dt=this._locationStrategy).historyGo)||void 0===Me||Me.call(dt,q)}onUrlChange(q){return this._urlChangeListeners.push(q),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Me=>{this._notifyUrlChangeListeners(Me.url,Me.state)})),()=>{const Me=this._urlChangeListeners.indexOf(q);var dt;this._urlChangeListeners.splice(Me,1),0===this._urlChangeListeners.length&&(null===(dt=this._urlChangeSubscription)||void 0===dt||dt.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(q="",Me){this._urlChangeListeners.forEach(dt=>dt(q,Me))}subscribe(q,Me,dt){return this._subject.subscribe({next:q,error:Me,complete:dt})}}return W.normalizeQueryParams=je,W.joinWithSlash=Ke,W.stripTrailingSlash=ut,W.\u0275fac=function(q){return new(q||W)(p.LFG(ct))},W.\u0275prov=p.Yz7({token:W,factory:function(){return function yt(){return new kt((0,p.LFG)(ct))}()},providedIn:"root"}),W})();function Ve(W){return W.replace(/\/index.html$/,"")}function ns(W,ve){ve=encodeURIComponent(ve);for(const q of W.split(";")){const Me=q.indexOf("="),[dt,Qt]=-1==Me?[q,""]:[q.slice(0,Me),q.slice(Me+1)];if(dt.trim()===ve)return decodeURIComponent(Qt)}return null}let Vi=(()=>{class W{constructor(q,Me,dt,Qt){this._iterableDiffers=q,this._keyValueDiffers=Me,this._ngEl=dt,this._renderer=Qt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(q){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof q?q.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(q){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof q?q.split(/\s+/):q,this._rawClass&&((0,p.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const q=this._iterableDiffer.diff(this._rawClass);q&&this._applyIterableChanges(q)}else if(this._keyValueDiffer){const q=this._keyValueDiffer.diff(this._rawClass);q&&this._applyKeyValueChanges(q)}}_applyKeyValueChanges(q){q.forEachAddedItem(Me=>this._toggleClass(Me.key,Me.currentValue)),q.forEachChangedItem(Me=>this._toggleClass(Me.key,Me.currentValue)),q.forEachRemovedItem(Me=>{Me.previousValue&&this._toggleClass(Me.key,!1)})}_applyIterableChanges(q){q.forEachAddedItem(Me=>{if("string"!=typeof Me.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,p.AaK)(Me.item)}`);this._toggleClass(Me.item,!0)}),q.forEachRemovedItem(Me=>this._toggleClass(Me.item,!1))}_applyClasses(q){q&&(Array.isArray(q)||q instanceof Set?q.forEach(Me=>this._toggleClass(Me,!0)):Object.keys(q).forEach(Me=>this._toggleClass(Me,!!q[Me])))}_removeClasses(q){q&&(Array.isArray(q)||q instanceof Set?q.forEach(Me=>this._toggleClass(Me,!1)):Object.keys(q).forEach(Me=>this._toggleClass(Me,!1)))}_toggleClass(q,Me){(q=q.trim())&&q.split(/\s+/g).forEach(dt=>{Me?this._renderer.addClass(this._ngEl.nativeElement,dt):this._renderer.removeClass(this._ngEl.nativeElement,dt)})}}return W.\u0275fac=function(q){return new(q||W)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},W.\u0275dir=p.lG2({type:W,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),W})();class Br{constructor(ve,q,Me,dt){this.$implicit=ve,this.ngForOf=q,this.index=Me,this.count=dt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qr=(()=>{class W{constructor(q,Me,dt){this._viewContainer=q,this._template=Me,this._differs=dt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(q){this._ngForOf=q,this._ngForOfDirty=!0}set ngForTrackBy(q){this._trackByFn=q}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(q){q&&(this._template=q)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const q=this._ngForOf;!this._differ&&q&&(this._differ=this._differs.find(q).create(this.ngForTrackBy))}if(this._differ){const q=this._differ.diff(this._ngForOf);q&&this._applyChanges(q)}}_applyChanges(q){const Me=this._viewContainer;q.forEachOperation((dt,Qt,un)=>{if(null==dt.previousIndex)Me.createEmbeddedView(this._template,new Br(dt.item,this._ngForOf,-1,-1),null===un?void 0:un);else if(null==un)Me.remove(null===Qt?void 0:Qt);else if(null!==Qt){const Qn=Me.get(Qt);Me.move(Qn,un),Vr(Qn,dt)}});for(let dt=0,Qt=Me.length;dt<Qt;dt++){const Qn=Me.get(dt).context;Qn.index=dt,Qn.count=Qt,Qn.ngForOf=this._ngForOf}q.forEachIdentityChange(dt=>{Vr(Me.get(dt.currentIndex),dt)})}static ngTemplateContextGuard(q,Me){return!0}}return W.\u0275fac=function(q){return new(q||W)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},W.\u0275dir=p.lG2({type:W,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),W})();function Vr(W,ve){W.context.$implicit=ve.item}let or=(()=>{class W{constructor(q,Me){this._viewContainer=q,this._context=new Ao,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Me}set ngIf(q){this._context.$implicit=this._context.ngIf=q,this._updateView()}set ngIfThen(q){Or("ngIfThen",q),this._thenTemplateRef=q,this._thenViewRef=null,this._updateView()}set ngIfElse(q){Or("ngIfElse",q),this._elseTemplateRef=q,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(q,Me){return!0}}return W.\u0275fac=function(q){return new(q||W)(p.Y36(p.s_b),p.Y36(p.Rgc))},W.\u0275dir=p.lG2({type:W,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),W})();class Ao{constructor(){this.$implicit=null,this.ngIf=null}}function Or(W,ve){if(ve&&!ve.createEmbeddedView)throw new Error(`${W} must be a TemplateRef, but received '${(0,p.AaK)(ve)}'.`)}class Dr{constructor(ve,q){this._viewContainerRef=ve,this._templateRef=q,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ve){ve&&!this._created?this.create():!ve&&this._created&&this.destroy()}}let ko=(()=>{class W{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(q){this._ngSwitch=q,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(q){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(q)}_matchCase(q){const Me=q==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Me,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Me}_updateDefaultCases(q){if(this._defaultViews&&q!==this._defaultUsed){this._defaultUsed=q;for(let Me=0;Me<this._defaultViews.length;Me++)this._defaultViews[Me].enforceState(q)}}}return W.\u0275fac=function(q){return new(q||W)},W.\u0275dir=p.lG2({type:W,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),W})(),as=(()=>{class W{constructor(q,Me,dt){this.ngSwitch=dt,dt._addCase(),this._view=new Dr(q,Me)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return W.\u0275fac=function(q){return new(q||W)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(ko,9))},W.\u0275dir=p.lG2({type:W,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),W})(),no=(()=>{class W{constructor(q,Me,dt){this._ngEl=q,this._differs=Me,this._renderer=dt,this._ngStyle=null,this._differ=null}set ngStyle(q){this._ngStyle=q,!this._differ&&q&&(this._differ=this._differs.find(q).create())}ngDoCheck(){if(this._differ){const q=this._differ.diff(this._ngStyle);q&&this._applyChanges(q)}}_setStyle(q,Me){const[dt,Qt]=q.split("."),un=-1===dt.indexOf("-")?void 0:p.JOm.DashCase;null!=Me?this._renderer.setStyle(this._ngEl.nativeElement,dt,Qt?`${Me}${Qt}`:Me,un):this._renderer.removeStyle(this._ngEl.nativeElement,dt,un)}_applyChanges(q){q.forEachRemovedItem(Me=>this._setStyle(Me.key,null)),q.forEachAddedItem(Me=>this._setStyle(Me.key,Me.currentValue)),q.forEachChangedItem(Me=>this._setStyle(Me.key,Me.currentValue))}}return W.\u0275fac=function(q){return new(q||W)(p.Y36(p.SBq),p.Y36(p.aQg),p.Y36(p.Qsj))},W.\u0275dir=p.lG2({type:W,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),W})();class Pt{createSubscription(ve,q){return ve.subscribe({next:q,error:Me=>{throw Me}})}dispose(ve){ve.unsubscribe()}}class Rt{createSubscription(ve,q){return ve.then(q,Me=>{throw Me})}dispose(ve){}}const Wt=new Rt,vn=new Pt;let Pn=(()=>{class W{constructor(q){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=q}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(q){return this._obj?q!==this._obj?(this._dispose(),this.transform(q)):this._latestValue:(q&&this._subscribe(q),this._latestValue)}_subscribe(q){this._obj=q,this._strategy=this._selectStrategy(q),this._subscription=this._strategy.createSubscription(q,Me=>this._updateLatestValue(q,Me))}_selectStrategy(q){if((0,p.QGY)(q))return Wt;if((0,p.F4k)(q))return vn;throw function Vs(W,ve){return new p.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(q,Me){q===this._obj&&(this._latestValue=Me,this._ref.markForCheck())}}return W.\u0275fac=function(q){return new(q||W)(p.Y36(p.sBO,16))},W.\u0275pipe=p.Yjl({name:"async",type:W,pure:!1,standalone:!0}),W})(),xs=(()=>{class W{}return W.\u0275fac=function(q){return new(q||W)},W.\u0275mod=p.oAB({type:W}),W.\u0275inj=p.cJS({}),W})();const Hs="browser";function wa(W){return W===Hs}function bo(W){return"server"===W}let Qr=(()=>{class W{}return W.\u0275prov=(0,p.Yz7)({token:W,providedIn:"root",factory:()=>new No((0,p.LFG)(we),window)}),W})();class No{constructor(ve,q){this.document=ve,this.window=q,this.offset=()=>[0,0]}setOffset(ve){this.offset=Array.isArray(ve)?()=>ve:ve}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ve){this.supportsScrolling()&&this.window.scrollTo(ve[0],ve[1])}scrollToAnchor(ve){if(!this.supportsScrolling())return;const q=function Ur(W,ve){const q=W.getElementById(ve)||W.getElementsByName(ve)[0];if(q)return q;if("function"==typeof W.createTreeWalker&&W.body&&(W.body.createShadowRoot||W.body.attachShadow)){const Me=W.createTreeWalker(W.body,NodeFilter.SHOW_ELEMENT);let dt=Me.currentNode;for(;dt;){const Qt=dt.shadowRoot;if(Qt){const un=Qt.getElementById(ve)||Qt.querySelector(`[name="${ve}"]`);if(un)return un}dt=Me.nextNode()}}return null}(this.document,ve);q&&(this.scrollToElement(q),q.focus())}setHistoryScrollRestoration(ve){if(this.supportScrollRestoration()){const q=this.window.history;q&&q.scrollRestoration&&(q.scrollRestoration=ve)}}scrollToElement(ve){const q=ve.getBoundingClientRect(),Me=q.left+this.window.pageXOffset,dt=q.top+this.window.pageYOffset,Qt=this.offset();this.window.scrollTo(Me-Qt[0],dt-Qt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ve=Ai(this.window.history)||Ai(Object.getPrototypeOf(this.window.history));return!(!ve||!ve.writable&&!ve.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ai(W){return Object.getOwnPropertyDescriptor(W,"scrollRestoration")}class vs{}},4650:(_n,vt,k)=>{"use strict";k.d(vt,{$8M:()=>yi,$Z:()=>V_,AFp:()=>x0,ALo:()=>Zb,AaK:()=>fe,AsE:()=>D_,BQk:()=>wc,CHM:()=>wo,CRH:()=>o0,CZH:()=>Ey,CqO:()=>ig,D6c:()=>PE,EJc:()=>Zw,EiD:()=>Ma,EpF:()=>lv,F$t:()=>rp,F4k:()=>ip,FYo:()=>Ih,FiY:()=>ms,G48:()=>gE,Gf:()=>r0,GfV:()=>mm,GkF:()=>av,Gpc:()=>me,Hsn:()=>og,Ikx:()=>k_,JOm:()=>ba,JVY:()=>cp,Jf7:()=>lr,KtG:()=>Ea,L6k:()=>up,LAX:()=>Zu,LFG:()=>lt,LSH:()=>D,Lbi:()=>zw,Lck:()=>VC,MAs:()=>h_,MMx:()=>Uy,N_p:()=>Oy,NdJ:()=>rg,O4$:()=>Qn,OlP:()=>ji,Oqu:()=>E_,PXZ:()=>uE,Q6J:()=>Pa,QGY:()=>f_,QP$:()=>Et,QbO:()=>Ww,Qsj:()=>nd,QtT:()=>kb,R0b:()=>gh,RDi:()=>bh,Rgc:()=>oy,SBq:()=>pf,SDv:()=>Ab,Sil:()=>Qw,Suo:()=>s0,TTD:()=>Ca,TgZ:()=>Kh,Tol:()=>pv,Udp:()=>ug,VKq:()=>$b,WFA:()=>Ed,X6Q:()=>mE,XFs:()=>gt,Xpm:()=>st,Xts:()=>Er,Y36:()=>Jd,YKP:()=>Pb,YNc:()=>ep,Yjl:()=>X,Yz7:()=>Fe,Z0I:()=>Ln,ZZ4:()=>ub,_Bn:()=>Ob,_UZ:()=>Cc,_Vd:()=>Fd,_c5:()=>RE,_uU:()=>w_,aQg:()=>db,c2e:()=>Yw,cJS:()=>St,cg1:()=>lm,d8E:()=>su,dDg:()=>oE,dqk:()=>Fn,eBb:()=>df,eFA:()=>j0,ekj:()=>dg,eoX:()=>V0,f3M:()=>ln,g9A:()=>k0,h0i:()=>xv,hGG:()=>OE,hij:()=>fg,iGM:()=>n0,ifc:()=>pn,ip1:()=>I0,jDz:()=>Lb,kL8:()=>u,kcU:()=>bi,lG2:()=>G,lcZ:()=>qb,lqb:()=>Cu,lri:()=>F0,mCW:()=>qu,n5z:()=>rl,n_E:()=>vy,oAB:()=>$t,oJD:()=>R,oxw:()=>sg,pB0:()=>Od,pQV:()=>Py,q3G:()=>ds,q4F:()=>vp,qLn:()=>oc,qOj:()=>Zf,qZA:()=>Io,qzn:()=>mu,rWj:()=>B0,sBO:()=>_E,sIi:()=>ah,s_b:()=>by,soG:()=>Dy,tHW:()=>Ry,tb:()=>R0,tp0:()=>Xo,uIk:()=>Jm,vHH:()=>ut,vpe:()=>ap,wAp:()=>d,xp6:()=>qd,ynx:()=>np,z2F:()=>Ty,z3N:()=>Dl,zSh:()=>Th,zs3:()=>S});var p=k(8929),N=k(2654),_=k(6498),ne=k(6787),C=k(2474);function J(n){for(let r in n)if(n[r]===J)return r;throw Error("Could not find renamed property on target object.")}function we(n,r){for(const l in r)r.hasOwnProperty(l)&&!n.hasOwnProperty(l)&&(n[l]=r[l])}function fe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(fe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const l=r.indexOf("\n");return-1===l?r:r.substring(0,l)}function Se(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ae=J({__forward_ref__:J});function me(n){return n.__forward_ref__=me,n.toString=function(){return fe(this())},n}function ye(n){return Pe(n)?n():n}function Pe(n){return"function"==typeof n&&n.hasOwnProperty(ae)&&n.__forward_ref__===me}class ut extends Error{constructor(r,l){super(function je(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,l)),this.code=r}}function ct(n){return"string"==typeof n?n:null==n?"":String(n)}function yt(n,r){throw new ut(-201,!1)}function rn(n,r,l,h){throw new Error(`ASSERTION ERROR: ${n}`+(null==h?"":` [Expected=> ${l} ${h} ${r} <=Actual]`))}function Fe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function St(n){return{providers:n.providers||[],imports:n.imports||[]}}function tn(n){return It(n,En)||It(n,$n)}function Ln(n){return null!==tn(n)}function It(n,r){return n.hasOwnProperty(r)?n[r]:null}function Ht(n){return n&&(n.hasOwnProperty(Gt)||n.hasOwnProperty(Dn))?n[Gt]:null}const En=J({\u0275prov:J}),Gt=J({\u0275inj:J}),$n=J({ngInjectableDef:J}),Dn=J({ngInjectorDef:J});var gt=(()=>((gt=gt||{})[gt.Default=0]="Default",gt[gt.Host=1]="Host",gt[gt.Self=2]="Self",gt[gt.SkipSelf=4]="SkipSelf",gt[gt.Optional=8]="Optional",gt))();let ee;function Le(n){const r=ee;return ee=n,r}function Be(n,r,l){const h=tn(n);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:l&gt.Optional?null:void 0!==r?r:void yt(fe(n))}function Zt(n){return{toString:n}.toString()}var hn=(()=>((hn=hn||{})[hn.OnPush=0]="OnPush",hn[hn.Default=1]="Default",hn))(),pn=(()=>{return(n=pn||(pn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",pn;var n})();const Fn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ni={},at=[],Jt=J({\u0275cmp:J}),be=J({\u0275dir:J}),Ne=J({\u0275pipe:J}),ke=J({\u0275mod:J}),ue=J({\u0275fac:J}),Nt=J({__NG_ELEMENT_ID__:J});let zt=0;function st(n){return Zt(()=>{const l=!0===n.standalone,h={},m={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===hn.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||at,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||pn.Emulated,id:"c"+zt++,styles:n.styles||at,_:null,setInput:null,schemas:n.schemas||null,tView:null},E=n.dependencies,x=n.features;return m.inputs=j(n.inputs,h),m.outputs=j(n.outputs),x&&x.forEach(V=>V(m)),m.directiveDefs=E?()=>("function"==typeof E?E():E).map(Je).filter(Tt):null,m.pipeDefs=E?()=>("function"==typeof E?E():E).map(Xe).filter(Tt):null,m})}function Je(n){return K(n)||he(n)}function Tt(n){return null!==n}function $t(n){return Zt(()=>({type:n.type,bootstrap:n.bootstrap||at,declarations:n.declarations||at,imports:n.imports||at,exports:n.exports||at,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function j(n,r){if(null==n)return ni;const l={};for(const h in n)if(n.hasOwnProperty(h)){let m=n[h],E=m;Array.isArray(m)&&(E=m[1],m=m[0]),l[m]=h,r&&(r[m]=E)}return l}const G=st;function X(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function K(n){return n[Jt]||null}function he(n){return n[be]||null}function Xe(n){return n[Ne]||null}function Et(n){const r=K(n)||he(n)||Xe(n);return null!==r&&r.standalone}function dn(n,r){const l=n[ke]||null;if(!l&&!0===r)throw new Error(`Type ${fe(n)} does not have '\u0275mod' property.`);return l}function Or(n){return Array.isArray(n)&&"object"==typeof n[1]}function Dr(n){return Array.isArray(n)&&!0===n[1]}function ko(n){return 0!=(8&n.flags)}function as(n){return 2==(2&n.flags)}function gs(n){return 1==(1&n.flags)}function Yi(n){return null!==n.template}function yo(n){return 0!=(256&n[2])}function Oo(n,r){return n.hasOwnProperty(ue)?n[ue]:null}class Po{constructor(r,l,h){this.previousValue=r,this.currentValue=l,this.firstChange=h}isFirstChange(){return this.firstChange}}function Ca(){return sa}function sa(n){return n.type.prototype.ngOnChanges&&(n.setInput=fr),io}function io(){const n=Is(this),r=n?.current;if(r){const l=n.previous;if(l===ni)n.previous=r;else for(let h in r)l[h]=r[h];n.current=null,this.ngOnChanges(r)}}function fr(n,r,l,h){const m=Is(n)||function xs(n,r){return n[Ms]=r}(n,{previous:ni,current:null}),E=m.current||(m.current={}),x=m.previous,V=this.declaredInputs[l],Y=x[V];E[V]=new Po(Y&&Y.currentValue,r,x===ni),n[h]=r}Ca.ngInherit=!0;const Ms="__ngSimpleChanges__";function Is(n){return n[Ms]||null}function pr(n){for(;Array.isArray(n);)n=n[0];return n}function Ai(n,r){return pr(r[n])}function Ur(n,r){return pr(r[n.index])}function vs(n,r){return n.data[r]}function oa(n,r){return n[r]}function Ki(n,r){const l=r[n];return Or(l)?l:l[0]}function ks(n){return 64==(64&n[2])}function Zs(n,r){return null==r?null:n[r]}function aa(n){n[18]=0}function mr(n,r){n[5]+=r;let l=n,h=n[3];for(;null!==h&&(1===r&&1===l[5]||-1===r&&0===l[5]);)h[5]+=r,l=h,h=h[3]}const mi={lFrame:lo(null),bindingsEnabled:!0};function $s(){return mi.bindingsEnabled}function Sn(){return mi.lFrame.lView}function Ii(){return mi.lFrame.tView}function wo(n){return mi.lFrame.contextLView=n,n[8]}function Ea(n){return mi.lFrame.contextLView=null,n}function Hr(){let n=se();for(;null!==n&&64===n.type;)n=n.parent;return n}function se(){return mi.lFrame.currentTNode}function Q(){const n=mi.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}function $(n,r){const l=mi.lFrame;l.currentTNode=n,l.isParent=r}function xe(){return mi.lFrame.isParent}function nn(){mi.lFrame.isParent=!1}function gr(){const n=mi.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function rs(){return mi.lFrame.bindingIndex}function er(){return mi.lFrame.bindingIndex++}function ao(n){const r=mi.lFrame,l=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,l}function Ba(n){mi.lFrame.inI18n=n}function Ql(n,r){const l=mi.lFrame;l.bindingIndex=l.bindingRootIndex=n,Zo(r)}function Zo(n){mi.lFrame.currentDirectiveIndex=n}function Ua(n){const r=mi.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function Lo(){return mi.lFrame.currentQueryIndex}function Xa(n){mi.lFrame.currentQueryIndex=n}function Yr(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function ml(n,r,l){if(l&gt.SkipSelf){let m=r,E=n;for(;!(m=m.parent,null!==m||l&gt.Host||(m=Yr(E),null===m||(E=E[15],10&m.type))););if(null===m)return!1;r=m,n=E}const h=mi.lFrame=Ll();return h.currentTNode=r,h.lView=n,!0}function ua(n){const r=Ll(),l=n[1];mi.lFrame=r,r.currentTNode=l.firstChild,r.lView=n,r.tView=l,r.contextLView=n,r.bindingIndex=l.bindingStartIndex,r.inI18n=!1}function Ll(){const n=mi.lFrame,r=null===n?null:n.child;return null===r?lo(n):r}function lo(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Ja(){const n=mi.lFrame;return mi.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const W=Ja;function ve(){const n=Ja();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function dt(){return mi.lFrame.selectedIndex}function Qt(n){mi.lFrame.selectedIndex=n}function un(){const n=mi.lFrame;return vs(n.tView,n.selectedIndex)}function Qn(){mi.lFrame.currentNamespace="svg"}function bi(){!function Hi(){mi.lFrame.currentNamespace=null}()}function qe(n,r){for(let l=r.directiveStart,h=r.directiveEnd;l<h;l++){const E=n.data[l].type.prototype,{ngAfterContentInit:x,ngAfterContentChecked:V,ngAfterViewInit:Y,ngAfterViewChecked:ce,ngOnDestroy:Oe}=E;x&&(n.contentHooks||(n.contentHooks=[])).push(-l,x),V&&((n.contentHooks||(n.contentHooks=[])).push(l,V),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(l,V)),Y&&(n.viewHooks||(n.viewHooks=[])).push(-l,Y),ce&&((n.viewHooks||(n.viewHooks=[])).push(l,ce),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(l,ce)),null!=Oe&&(n.destroyHooks||(n.destroyHooks=[])).push(l,Oe)}}function ur(n,r,l){Gs(n,r,3,l)}function Rs(n,r,l,h){(3&n[2])===l&&Gs(n,r,l,h)}function ys(n,r){let l=n[2];(3&l)===r&&(l&=2047,l+=1,n[2]=l)}function Gs(n,r,l,h){const E=h??-1,x=r.length-1;let V=0;for(let Y=void 0!==h?65535&n[18]:0;Y<x;Y++)if("number"==typeof r[Y+1]){if(V=r[Y],null!=h&&V>=h)break}else r[Y]<0&&(n[18]+=65536),(V<E||-1==E)&&(Fo(n,l,r,Y),n[18]=(4294901760&n[18])+Y+2),Y++}function Fo(n,r,l,h){const m=l[h]<0,E=l[h+1],V=n[m?-l[h]:l[h]];if(m){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{E.call(V)}finally{}}}else try{E.call(V)}finally{}}class tr{constructor(r,l,h){this.factory=r,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=h}}function Bl(n,r,l){let h=0;for(;h<l.length;){const m=l[h];if("number"==typeof m){if(0!==m)break;h++;const E=l[h++],x=l[h++],V=l[h++];n.setAttribute(r,x,V,E)}else{const E=m,x=l[++h];Mc(E)?n.setProperty(r,E,x):n.setAttribute(r,E,x),h++}}return h}function ha(n){return 3===n||4===n||6===n}function Mc(n){return 64===n.charCodeAt(0)}function el(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let l=-1;for(let h=0;h<r.length;h++){const m=r[h];"number"==typeof m?l=m:0===l||au(n,l,m,null,-1===l||2===l?r[++h]:null)}}return n}function au(n,r,l,h,m){let E=0,x=n.length;if(-1===r)x=-1;else for(;E<n.length;){const V=n[E++];if("number"==typeof V){if(V===r){x=-1;break}if(V>r){x=E-1;break}}}for(;E<n.length;){const V=n[E];if("number"==typeof V)break;if(V===l){if(null===h)return void(null!==m&&(n[E+1]=m));if(h===n[E+1])return void(n[E+2]=m)}E++,null!==h&&E++,null!==m&&E++}-1!==x&&(n.splice(x,0,r),E=x+1),n.splice(E++,0,l),null!==h&&n.splice(E++,0,h),null!==m&&n.splice(E++,0,m)}function lu(n){return-1!==n}function nr(n){return 32767&n}function Bo(n,r){let l=function fa(n){return n>>16}(n),h=r;for(;l>0;)h=h[15],l--;return h}let _l=!0;function Vo(n){const r=_l;return _l=n,r}let Gu=0;const ii={};function Uo(n,r){const l=cn(n,r);if(-1!==l)return l;const h=r[1];h.firstCreatePass&&(n.injectorIndex=r.length,Xn(h.data,n),Xn(r,null),Xn(h.blueprint,null));const m=Mn(n,r),E=n.injectorIndex;if(lu(m)){const x=nr(m),V=Bo(m,r),Y=V[1].data;for(let ce=0;ce<8;ce++)r[E+ce]=V[x+ce]|Y[x+ce]}return r[E+8]=m,E}function Xn(n,r){n.push(0,0,0,0,0,0,0,0,r)}function cn(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Mn(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let l=0,h=null,m=r;for(;null!==m;){if(h=cs(m),null===h)return-1;if(l++,m=m[15],-1!==h.injectorIndex)return h.injectorIndex|l<<16}return-1}function Ar(n,r,l){!function Ti(n,r,l){let h;"string"==typeof l?h=l.charCodeAt(0)||0:l.hasOwnProperty(Nt)&&(h=l[Nt]),null==h&&(h=l[Nt]=Gu++);const m=255&h;r.data[n+(m>>5)]|=1<<m}(n,r,l)}function Do(n,r,l){if(l&gt.Optional||void 0!==n)return n;yt()}function tl(n,r,l,h){if(l&gt.Optional&&void 0===h&&(h=null),0==(l&(gt.Self|gt.Host))){const m=n[9],E=Le(void 0);try{return m?m.get(r,h,l&gt.Optional):Be(r,h,l&gt.Optional)}finally{Le(E)}}return Do(h,0,l)}function ma(n,r,l,h=gt.Default,m){if(null!==n){if(1024&r[2]){const x=function Ci(n,r,l,h,m){let E=n,x=r;for(;null!==E&&null!==x&&1024&x[2]&&!(256&x[2]);){const V=vl(E,x,l,h|gt.Self,ii);if(V!==ii)return V;let Y=E.parent;if(!Y){const ce=x[21];if(ce){const Oe=ce.get(l,ii,h);if(Oe!==ii)return Oe}Y=cs(x),x=x[15]}E=Y}return m}(n,r,l,h,ii);if(x!==ii)return x}const E=vl(n,r,l,h,ii);if(E!==ii)return E}return tl(r,l,h,m)}function vl(n,r,l,h,m){const E=function Id(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Nt)?n[Nt]:void 0;return"number"==typeof r?r>=0?255&r:ga:r}(l);if("function"==typeof E){if(!ml(r,n,h))return h&gt.Host?Do(m,0,h):tl(r,l,h,m);try{const x=E(h);if(null!=x||h&gt.Optional)return x;yt()}finally{W()}}else if("number"==typeof E){let x=null,V=cn(n,r),Y=-1,ce=h&gt.Host?r[16][6]:null;for((-1===V||h&gt.SkipSelf)&&(Y=-1===V?Mn(n,r):r[V+8],-1!==Y&&il(h,!1)?(x=r[1],V=nr(Y),r=Bo(Y,r)):V=-1);-1!==V;){const Oe=r[1];if(Pr(E,V,Oe.data)){const it=xc(V,r,l,x,h,ce);if(it!==ii)return it}Y=r[V+8],-1!==Y&&il(h,r[1].data[V+8]===ce)&&Pr(E,V,r)?(x=Oe,V=nr(Y),r=Bo(Y,r)):V=-1}}return m}function xc(n,r,l,h,m,E){const x=r[1],V=x.data[n+8],Oe=nl(V,x,l,null==h?as(V)&&_l:h!=x&&0!=(3&V.type),m&gt.Host&&E===V);return null!==Oe?yl(r,x,Oe,V):ii}function nl(n,r,l,h,m){const E=n.providerIndexes,x=r.data,V=1048575&E,Y=n.directiveStart,Oe=E>>20,xt=m?V+Oe:n.directiveEnd;for(let en=h?V:V+Oe;en<xt;en++){const xn=x[en];if(en<Y&&l===xn||en>=Y&&xn.type===l)return en}if(m){const en=x[Y];if(en&&Yi(en)&&en.type===l)return Y}return null}function yl(n,r,l,h){let m=n[l];const E=r.data;if(function Os(n){return n instanceof tr}(m)){const x=m;x.resolving&&function jt(n,r){const l=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new ut(-200,`Circular dependency in DI detected for ${n}${l}`)}(function mt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ct(n)}(E[l]));const V=Vo(x.canSeeViewProviders);x.resolving=!0;const Y=x.injectImpl?Le(x.injectImpl):null;ml(n,h,gt.Default);try{m=n[l]=x.factory(void 0,E,n,h),r.firstCreatePass&&l>=h.directiveStart&&function _r(n,r,l){const{ngOnChanges:h,ngOnInit:m,ngDoCheck:E}=r.type.prototype;if(h){const x=sa(r);(l.preOrderHooks||(l.preOrderHooks=[])).push(n,x),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(n,x)}m&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-n,m),E&&((l.preOrderHooks||(l.preOrderHooks=[])).push(n,E),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(n,E))}(l,E[l],r)}finally{null!==Y&&Le(Y),Vo(V),x.resolving=!1,W()}}return m}function Pr(n,r,l){return!!(l[r+(n>>5)]&1<<n)}function il(n,r){return!(n&gt.Self||n&gt.Host&&r)}class Si{constructor(r,l){this._tNode=r,this._lView=l}get(r,l,h){return ma(this._tNode,this._lView,r,h,l)}}function ga(){return new Si(Hr(),Sn())}function rl(n){return Zt(()=>{const r=n.prototype.constructor,l=r[ue]||kr(r),h=Object.prototype;let m=Object.getPrototypeOf(n.prototype).constructor;for(;m&&m!==h;){const E=m[ue]||kr(m);if(E&&E!==l)return E;m=Object.getPrototypeOf(m)}return E=>new E})}function kr(n){return Pe(n)?()=>{const r=kr(ye(n));return r&&r()}:Oo(n)}function cs(n){const r=n[1],l=r.type;return 2===l?r.declTNode:1===l?n[6]:null}function yi(n){return function Ic(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const l=n.attrs;if(l){const h=l.length;let m=0;for(;m<h;){const E=l[m];if(ha(E))break;if(0===E)m+=2;else if("number"==typeof E)for(m++;m<h&&"string"==typeof l[m];)m++;else{if(E===r)return l[m+1];m+=2}}}return null}(Hr(),n)}const wr="__parameters__";function Qo(n,r,l){return Zt(()=>{const h=function Da(n){return function(...l){if(n){const h=n(...l);for(const m in h)this[m]=h[m]}}}(r);function m(...E){if(this instanceof m)return h.apply(this,E),this;const x=new m(...E);return V.annotation=x,V;function V(Y,ce,Oe){const it=Y.hasOwnProperty(wr)?Y[wr]:Object.defineProperty(Y,wr,{value:[]})[wr];for(;it.length<=Oe;)it.push(null);return(it[Oe]=it[Oe]||[]).push(x),Y}}return l&&(m.prototype=Object.create(l.prototype)),m.prototype.ngMetadataName=n,m.annotationCls=m,m})}class ji{constructor(r,l){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Fe({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function To(n,r){void 0===r&&(r=n);for(let l=0;l<n.length;l++){let h=n[l];Array.isArray(h)?(r===n&&(r=n.slice(0,l)),To(h,r)):r!==n&&r.push(h)}return r}function ho(n,r){n.forEach(l=>Array.isArray(l)?ho(l,r):r(l))}function ec(n,r,l){r>=n.length?n.push(l):n.splice(r,0,l)}function fo(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function qs(n,r){const l=[];for(let h=0;h<n;h++)l.push(r);return l}function I(n,r,l){let h=te(n,r);return h>=0?n[1|h]=l:(h=~h,function Rc(n,r,l,h){let m=n.length;if(m==r)n.push(l,h);else if(1===m)n.push(h,n[0]),n[0]=l;else{for(m--,n.push(n[m-1],n[m]);m>r;)n[m]=n[m-2],m--;n[r]=l,n[r+1]=h}}(n,h,r,l)),h}function H(n,r){const l=te(n,r);if(l>=0)return n[1|l]}function te(n,r){return function nt(n,r,l){let h=0,m=n.length>>l;for(;m!==h;){const E=h+(m-h>>1),x=n[E<<l];if(r===x)return E<<l;x>r?m=E:h=E+1}return~(m<<l)}(n,r,1)}const jr={},Nr="__NG_DI_FLAG__",Ns="ngTempTokenPath",Jr=/\n/gm,Ul="__source";let Z;function re(n){const r=Z;return Z=n,r}function Ie(n,r=gt.Default){if(void 0===Z)throw new ut(-203,!1);return null===Z?Be(n,void 0,r):Z.get(n,r&gt.Optional?null:void 0,r)}function lt(n,r=gt.Default){return(function de(){return ee}()||Ie)(ye(n),r)}function ln(n,r=gt.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),lt(n,r)}function In(n){const r=[];for(let l=0;l<n.length;l++){const h=ye(n[l]);if(Array.isArray(h)){if(0===h.length)throw new ut(900,!1);let m,E=gt.Default;for(let x=0;x<h.length;x++){const V=h[x],Y=_i(V);"number"==typeof Y?-1===Y?m=V.token:E|=Y:m=V}r.push(lt(m,E))}else r.push(lt(h))}return r}function Gn(n,r){return n[Nr]=r,n.prototype[Nr]=r,n}function _i(n){return n[Nr]}const ms=Gn(Qo("Optional"),8),Xo=Gn(Qo("SkipSelf"),4);let Rd,al,Hl;function bh(n){Rd=n}function El(){return void 0!==Rd?Rd:typeof document<"u"?document:void 0}function hu(n){var r;return(null===(r=function lf(){if(void 0===al&&(al=null,Fn.trustedTypes))try{al=Fn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return al}())||void 0===r?void 0:r.createHTML(n))||n}function Qs(n){var r;return(null===(r=function Pc(){if(void 0===Hl&&(Hl=null,Fn.trustedTypes))try{Hl=Fn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Hl}())||void 0===r?void 0:r.createHTML(n))||n}class Fs{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Jo extends Fs{getTypeName(){return"HTML"}}class Ku extends Fs{getTypeName(){return"Style"}}class fu extends Fs{getTypeName(){return"Script"}}class cf extends Fs{getTypeName(){return"URL"}}class pu extends Fs{getTypeName(){return"ResourceURL"}}function Dl(n){return n instanceof Fs?n.changingThisBreaksApplicationSecurity:n}function mu(n,r){const l=function uf(n){return n instanceof Fs&&n.getTypeName()||null}(n);if(null!=l&&l!==r){if("ResourceURL"===l&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===r}function cp(n){return new Jo(n)}function up(n){return new Ku(n)}function df(n){return new fu(n)}function Zu(n){return new cf(n)}function Od(n){return new pu(n)}function wh(n){const r=new hf(n);return function gu(){try{return!!(new window.DOMParser).parseFromString(hu(""),"text/html")}catch{return!1}}()?new um(r):r}class um{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const l=(new window.DOMParser).parseFromString(hu(r),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(r):(l.removeChild(l.firstChild),l)}catch{return null}}}class hf{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const h=this.inertDocument.createElement("body");l.appendChild(h)}}getInertBodyElement(r){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=hu(r),l;const h=this.inertDocument.createElement("body");return h.innerHTML=hu(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(r){const l=r.attributes;for(let m=l.length-1;0<m;m--){const x=l.item(m).name;("xmlns:ns1"===x||0===x.indexOf("ns1:"))&&r.removeAttribute(x)}let h=r.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const _u=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function qu(n){return(n=String(n)).match(_u)?n:"unsafe:"+n}function $o(n){const r={};for(const l of n.split(","))r[l]=!0;return r}function Nc(...n){const r={};for(const l of n)for(const h in l)l.hasOwnProperty(h)&&(r[h]=!0);return r}const sc=$o("area,br,col,hr,img,wbr"),Qu=$o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Eh=$o("rp,rt"),os=Nc(sc,Nc(Qu,$o("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Nc(Eh,$o("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Nc(Eh,Qu)),Tl=$o("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xu=Nc(Tl,$o("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$o("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ju=$o("script,style,template");class hp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let l=r.firstChild,h=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?h=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,h&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let m=this.checkClobberedElement(l,l.nextSibling);if(m){l=m;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(r){const l=r.nodeName.toLowerCase();if(!os.hasOwnProperty(l))return this.sanitizedSomething=!0,!Ju.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const h=r.attributes;for(let m=0;m<h.length;m++){const E=h.item(m),x=E.name,V=x.toLowerCase();if(!Xu.hasOwnProperty(V)){this.sanitizedSomething=!0;continue}let Y=E.value;Tl[V]&&(Y=qu(Y)),this.buf.push(" ",x,'="',ll(Y),'"')}return this.buf.push(">"),!0}endElement(r){const l=r.nodeName.toLowerCase();os.hasOwnProperty(l)&&!sc.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(r){this.buf.push(ll(r))}checkClobberedElement(r,l){if(l&&(r.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return l}}const fp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Pd=/([^\#-~ |!])/g;function ll(n){return n.replace(/&/g,"&amp;").replace(fp,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Pd,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ya;function Ma(n,r){let l=null;try{ya=ya||wh(n);let h=r?String(r):"";l=ya.getInertBodyElement(h);let m=5,E=h;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,h=E,E=l.innerHTML,l=ya.getInertBodyElement(h)}while(h!==E);return hu((new hp).sanitizeChildren(Fc(l)||l))}finally{if(l){const h=Fc(l)||l;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Fc(n){return"content"in n&&function Bc(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ds=(()=>((ds=ds||{})[ds.NONE=0]="NONE",ds[ds.HTML=1]="HTML",ds[ds.STYLE=2]="STYLE",ds[ds.SCRIPT=3]="SCRIPT",ds[ds.URL=4]="URL",ds[ds.RESOURCE_URL=5]="RESOURCE_URL",ds))();function R(n){const r=gi();return r?Qs(r.sanitize(ds.HTML,n)||""):mu(n,"HTML")?Qs(Dl(n)):Ma(El(),ct(n))}function D(n){const r=gi();return r?r.sanitize(ds.URL,n)||"":mu(n,"URL")?Dl(n):qu(ct(n))}function gi(){const n=Sn();return n&&n[12]}const Er=new ji("ENVIRONMENT_INITIALIZER"),Bs=new ji("INJECTOR",-1),Xs=new ji("INJECTOR_DEF_TYPES");class Js{get(r,l=jr){if(l===jr){const h=new Error(`NullInjectorError: No provider for ${fe(r)}!`);throw h.name="NullInjectorError",h}return l}}function $i(...n){return{\u0275providers:ed(0,n)}}function ed(n,...r){const l=[],h=new Set;let m;return ho(r,E=>{const x=E;Mo(x,l,[],h)&&(m||(m=[]),m.push(x))}),void 0!==m&&vu(m,l),l}function vu(n,r){for(let l=0;l<n.length;l++){const{providers:m}=n[l];ho(m,E=>{r.push(E)})}}function Mo(n,r,l,h){if(!(n=ye(n)))return!1;let m=null,E=Ht(n);const x=!E&&K(n);if(E||x){if(x&&!x.standalone)return!1;m=n}else{const Y=n.ngModule;if(E=Ht(Y),!E)return!1;m=Y}const V=h.has(m);if(x){if(V)return!1;if(h.add(m),x.dependencies){const Y="function"==typeof x.dependencies?x.dependencies():x.dependencies;for(const ce of Y)Mo(ce,r,l,h)}}else{if(!E)return!1;{if(null!=E.imports&&!V){let ce;h.add(m);try{ho(E.imports,Oe=>{Mo(Oe,r,l,h)&&(ce||(ce=[]),ce.push(Oe))})}finally{}void 0!==ce&&vu(ce,r)}if(!V){const ce=Oo(m)||(()=>new m);r.push({provide:m,useFactory:ce,deps:at},{provide:Xs,useValue:m,multi:!0},{provide:Er,useValue:()=>lt(m),multi:!0})}const Y=E.providers;null==Y||V||ho(Y,Oe=>{r.push(Oe)})}}return m!==n&&void 0!==n.providers}const Ga=J({provide:String,useValue:J});function yu(n){return null!==n&&"object"==typeof n&&Ga in n}function Sl(n){return"function"==typeof n}const Th=new ji("Set Injector scope."),Sh={},N_={};let dm;function td(){return void 0===dm&&(dm=new Js),dm}class Cu{}class Mh extends Cu{constructor(r,l,h,m){super(),this.parent=l,this.source=h,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Il(r,x=>this.processProvider(x)),this.records.set(Bs,Ia(void 0,this)),m.has("environment")&&this.records.set(Cu,Ia(void 0,this));const E=this.records.get(Th);null!=E&&"string"==typeof E.value&&this.scopes.add(E.value),this.injectorDefTypes=new Set(this.get(Xs.multi,at,gt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const l=re(this),h=Le(void 0);try{return r()}finally{re(l),Le(h)}}get(r,l=jr,h=gt.Default){this.assertNotDestroyed();const m=re(this),E=Le(void 0);try{if(!(h&gt.SkipSelf)){let V=this.records.get(r);if(void 0===V){const Y=function Eu(n){return"function"==typeof n||"object"==typeof n&&n instanceof ji}(r)&&tn(r);V=Y&&this.injectableDefInScope(Y)?Ia(bs(r),Sh):null,this.records.set(r,V)}if(null!=V)return this.hydrate(r,V)}return(h&gt.Self?td():this.parent).get(r,l=h&gt.Optional&&l===jr?null:l)}catch(x){if("NullInjectorError"===x.name){if((x[Ns]=x[Ns]||[]).unshift(fe(r)),m)throw x;return function Fi(n,r,l,h){const m=n[Ns];throw r[Ul]&&m.unshift(r[Ul]),n.message=function Ri(n,r,l,h=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let m=fe(r);if(Array.isArray(r))m=r.map(fe).join(" -> ");else if("object"==typeof r){let E=[];for(let x in r)if(r.hasOwnProperty(x)){let V=r[x];E.push(x+":"+("string"==typeof V?JSON.stringify(V):fe(V)))}m=`{${E.join(", ")}}`}return`${l}${h?"("+h+")":""}[${m}]: ${n.replace(Jr,"\n  ")}`}("\n"+n.message,m,l,h),n.ngTokenPath=m,n[Ns]=null,n}(x,r,"R3InjectorError",this.source)}throw x}finally{Le(E),re(m)}}resolveInjectorInitializers(){const r=re(this),l=Le(void 0);try{const h=this.get(Er.multi,at,gt.Self);for(const m of h)m()}finally{re(r),Le(l)}}toString(){const r=[],l=this.records;for(const h of l.keys())r.push(fe(h));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ut(205,!1)}processProvider(r){let l=Sl(r=ye(r))?r:ye(r&&r.provide);const h=function hm(n){return yu(n)?Ia(void 0,n.useValue):Ia(Ml(n),Sh)}(r);if(Sl(r)||!0!==r.multi)this.records.get(l);else{let m=this.records.get(l);m||(m=Ia(void 0,Sh,!0),m.factory=()=>In(m.multi),this.records.set(l,m)),l=r,m.multi.push(r)}this.records.set(l,h)}hydrate(r,l){return l.value===Sh&&(l.value=N_,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Nd(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(r){if(!r.providedIn)return!1;const l=ye(r.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function bs(n){const r=tn(n),l=null!==r?r.factory:Oo(n);if(null!==l)return l;if(n instanceof ji)throw new ut(204,!1);if(n instanceof Function)return function wu(n){const r=n.length;if(r>0)throw qs(r,"?"),new ut(204,!1);const l=function qt(n){const r=n&&(n[En]||n[$n]);if(r){const l=function Mt(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),r}return null}(n);return null!==l?()=>l.factory(n):()=>new n}(n);throw new ut(204,!1)}function Ml(n,r,l){let h;if(Sl(n)){const m=ye(n);return Oo(m)||bs(m)}if(yu(n))h=()=>ye(n.useValue);else if(function bu(n){return!(!n||!n.useFactory)}(n))h=()=>n.useFactory(...In(n.deps||[]));else if(function $l(n){return!(!n||!n.useExisting)}(n))h=()=>lt(ye(n.useExisting));else{const m=ye(n&&(n.useClass||n.provide));if(!function pp(n){return!!n.deps}(n))return Oo(m)||bs(m);h=()=>new m(...In(n.deps))}return h}function Ia(n,r,l=!1){return{factory:n,value:r,multi:l?[]:void 0}}function mp(n){return!!n.\u0275providers}function Il(n,r){for(const l of n)Array.isArray(l)?Il(l,r):mp(l)?Il(l.\u0275providers,r):r(l)}class fm{}class gp{resolveComponentFactory(r){throw function wg(n){const r=Error(`No component factory found for ${fe(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Fd=(()=>{class n{}return n.NULL=new gp,n})();function _p(){return Du(Hr(),Sn())}function Du(n,r){return new pf(Ur(n,r))}let pf=(()=>{class n{constructor(l){this.nativeElement=l}}return n.__NG_ELEMENT_ID__=_p,n})();function mf(n){return n instanceof pf?n.nativeElement:n}class Ih{}let nd=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function id(){const n=Sn(),l=Ki(Hr().index,n);return(Or(l)?l:n)[11]}(),n})(),L_=(()=>{class n{}return n.\u0275prov=Fe({token:n,providedIn:"root",factory:()=>null}),n})();class mm{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const vp=new mm("14.2.8"),yp={};function Ah(n){return n.ngOriginalError}class oc{constructor(){this._console=console}handleError(r){const l=this._findOriginalError(r);this._console.error("ERROR",r),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(r){let l=r&&Ah(r);for(;l&&Ah(l);)l=Ah(l);return l||null}}const Ag=/^>|^->|<!--|-->|--!>|<!-$/g,kg=/(<|>)/;const Bd=new Map;let ym=0;const Gl="__ngContext__";function _o(n,r){Or(r)?(n[Gl]=r[20],function Su(n){Bd.set(n[20],n)}(r)):n[Gl]=r}function lr(n){return n.ownerDocument.defaultView}function zs(n){return n instanceof Function?n():n}var ba=(()=>((ba=ba||{})[ba.Important=1]="Important",ba[ba.DashCase=2]="DashCase",ba))();let Hd;function Cf(n,r){return Hd(n,r)}function ac(n){const r=n[3];return Dr(r)?r[3]:r}function Ws(n){return jd(n[13])}function od(n){return jd(n[4])}function jd(n){for(;null!==n&&!Dr(n);)n=n[4];return n}function xl(n,r,l,h,m){if(null!=h){let E,x=!1;Dr(h)?E=h:Or(h)&&(x=!0,h=h[0]);const V=pr(h);0===n&&null!==l?null==m?Wa(r,l,V):uc(r,l,V,m||null,!0):1===n&&null!==l?uc(r,l,V,m||null,!0):2===n?zd(r,V,x):3===n&&r.destroyNode(V),null!=E&&function cd(n,r,l,h,m){const E=l[7];E!==pr(l)&&xl(r,n,h,E,m);for(let V=10;V<l.length;V++){const Y=l[V];Df(Y[1],Y,n,r,h,E)}}(r,n,E,l,m)}}function Ys(n,r){return n.createText(r)}function ku(n,r,l){n.setValue(r,l)}function ta(n,r){return n.createComment(function _m(n){return n.replace(Ag,r=>r.replace(kg,"\u200b$1\u200b"))}(r))}function lc(n,r,l){return n.createElement(r,l)}function Wl(n,r){const l=n[9],h=l.indexOf(r),m=r[3];512&r[2]&&(r[2]&=-513,mr(m,-1)),l.splice(h,1)}function wf(n,r){if(n.length<=10)return;const l=10+r,h=n[l];if(h){const m=h[17];null!==m&&m!==n&&Wl(m,h),r>0&&(n[l-1][4]=h[4]);const E=fo(n,10+r);!function Ph(n,r){Df(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(h[1],h);const x=E[19];null!==x&&x.detachView(E[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function Dp(n,r){if(!(128&r[2])){const l=r[11];l.destroyNode&&Df(n,r,l,3,null,null),function zl(n){let r=n[13];if(!r)return cc(n[1],n);for(;r;){let l=null;if(Or(r))l=r[13];else{const h=r[10];h&&(l=h)}if(!l){for(;r&&!r[4]&&r!==n;)Or(r)&&cc(r[1],r),r=r[3];null===r&&(r=n),Or(r)&&cc(r[1],r),l=r&&r[4]}r=l}}(r)}}function cc(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function zc(n,r){let l;if(null!=n&&null!=(l=n.destroyHooks))for(let h=0;h<l.length;h+=2){const m=r[l[h]];if(!(m instanceof tr)){const E=l[h+1];if(Array.isArray(E))for(let x=0;x<E.length;x+=2){const V=m[E[x]],Y=E[x+1];try{Y.call(V)}finally{}}else try{E.call(m)}finally{}}}}(n,r),function Nh(n,r){const l=n.cleanup,h=r[7];let m=-1;if(null!==l)for(let E=0;E<l.length-1;E+=2)if("string"==typeof l[E]){const x=l[E+1],V="function"==typeof x?x(r):pr(r[x]),Y=h[m=l[E+2]],ce=l[E+3];"boolean"==typeof ce?V.removeEventListener(l[E],Y,ce):ce>=0?h[m=ce]():h[m=-ce].unsubscribe(),E+=2}else{const x=h[m=l[E+1]];l[E].call(x)}if(null!==h){for(let E=m+1;E<h.length;E++)(0,h[E])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const l=r[17];if(null!==l&&Dr(r[3])){l!==r[3]&&Wl(l,r);const h=r[19];null!==h&&h.detachView(n)}!function bm(n){Bd.delete(n[20])}(r)}}function $r(n,r,l){return Ef(n,r.parent,l)}function Ef(n,r,l){let h=r;for(;null!==h&&40&h.type;)h=(r=h).parent;if(null===h)return l[0];if(2&h.flags){const m=n.data[h.directiveStart].encapsulation;if(m===pn.None||m===pn.Emulated)return null}return Ur(h,l)}function uc(n,r,l,h,m){n.insertBefore(r,l,h,m)}function Wa(n,r,l){n.appendChild(r,l)}function Wc(n,r,l,h,m){null!==h?uc(n,r,l,h,m):Wa(n,r,l)}function ld(n,r){return n.parentNode(r)}function Ng(n,r,l){return Tp(n,r,l)}function Lh(n,r,l){return 40&n.type?Ur(n,l):null}let Xi,Tp=Lh;function Sp(n,r){Tp=n,Xi=r}function $d(n,r,l,h){const m=$r(n,h,r),E=r[11],V=Ng(h.parent||r[6],h,r);if(null!=m)if(Array.isArray(l))for(let Y=0;Y<l.length;Y++)Wc(E,m,l[Y],V,!1);else Wc(E,m,l,V,!1);void 0!==Xi&&Xi(E,h,r,l,m)}function Gd(n,r){if(null!==r){const l=r.type;if(3&l)return Ur(r,n);if(4&l)return Yc(-1,n[r.index]);if(8&l){const h=r.child;if(null!==h)return Gd(n,h);{const m=n[r.index];return Dr(m)?Yc(-1,m):pr(m)}}if(32&l)return Cf(r,n)()||pr(n[r.index]);{const h=dc(n,r);return null!==h?Array.isArray(h)?h[0]:Gd(ac(n[16]),h):Gd(n,r.next)}}return null}function dc(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Yc(n,r){const l=10+n+1;if(l<r.length){const h=r[l],m=h[1].firstChild;if(null!==m)return Gd(h,m)}return r[7]}function zd(n,r,l){const h=ld(n,r);h&&function ad(n,r,l,h){n.removeChild(r,l,h)}(n,h,r,l)}function hc(n,r,l,h,m,E,x){for(;null!=l;){const V=h[l.index],Y=l.type;if(x&&0===r&&(V&&_o(pr(V),h),l.flags|=4),64!=(64&l.flags))if(8&Y)hc(n,r,l.child,h,m,E,!1),xl(r,n,m,V,E);else if(32&Y){const ce=Cf(l,h);let Oe;for(;Oe=ce();)xl(r,n,m,Oe,E);xl(r,n,m,V,E)}else 16&Y?Ou(n,r,h,l,m,E):xl(r,n,m,V,E);l=x?l.projectionNext:l.next}}function Df(n,r,l,h,m,E){hc(l,h,n.firstChild,r,m,E,!1)}function Ou(n,r,l,h,m,E){const x=l[16],Y=x[6].projection[h.projection];if(Array.isArray(Y))for(let ce=0;ce<Y.length;ce++)xl(r,n,m,Y[ce],E);else hc(n,r,Y,x[3],m,E,!0)}function Pu(n,r,l){n.setAttribute(r,"style",l)}function Kc(n,r,l){""===l?n.removeAttribute(r,"class"):n.setAttribute(r,"class",l)}function Tf(n,r,l){let h=n.length;for(;;){const m=n.indexOf(r,l);if(-1===m)return m;if(0===m||n.charCodeAt(m-1)<=32){const E=r.length;if(m+E===h||n.charCodeAt(m+E)<=32)return m}l=m+1}}const Wd="ng-template";function Sm(n,r,l){let h=0;for(;h<n.length;){let m=n[h++];if(l&&"class"===m){if(m=n[h],-1!==Tf(m.toLowerCase(),r,0))return!0}else if(1===m){for(;h<n.length&&"string"==typeof(m=n[h++]);)if(m.toLowerCase()===r)return!0;return!1}}return!1}function Yd(n){return 4===n.type&&n.value!==Wd}function Ip(n,r,l){return r===(4!==n.type||l?n.value:Wd)}function Mm(n,r,l){let h=4;const m=n.attrs||[],E=function Kd(n){for(let r=0;r<n.length;r++)if(ha(n[r]))return r;return n.length}(m);let x=!1;for(let V=0;V<r.length;V++){const Y=r[V];if("number"!=typeof Y){if(!x)if(4&h){if(h=2|1&h,""!==Y&&!Ip(n,Y,l)||""===Y&&1===r.length){if(ul(h))return!1;x=!0}}else{const ce=8&h?Y:r[++V];if(8&h&&null!==n.attrs){if(!Sm(n.attrs,ce,l)){if(ul(h))return!1;x=!0}continue}const it=xp(8&h?"class":Y,m,Yd(n),l);if(-1===it){if(ul(h))return!1;x=!0;continue}if(""!==ce){let xt;xt=it>E?"":m[it+1].toLowerCase();const en=8&h?xt:null;if(en&&-1!==Tf(en,ce,0)||2&h&&ce!==xt){if(ul(h))return!1;x=!0}}}}else{if(!x&&!ul(h)&&!ul(Y))return!1;if(x&&ul(Y))continue;x=!1,h=Y|1&h}}return ul(h)||x}function ul(n){return 0==(1&n)}function xp(n,r,l,h){if(null===r)return-1;let m=0;if(h||!l){let E=!1;for(;m<r.length;){const x=r[m];if(x===n)return m;if(3===x||6===x)E=!0;else{if(1===x||2===x){let V=r[++m];for(;"string"==typeof V;)V=r[++m];continue}if(4===x)break;if(0===x){m+=4;continue}}m+=E?1:2}return-1}return function fc(n,r){let l=n.indexOf(4);if(l>-1)for(l++;l<n.length;){const h=n[l];if("number"==typeof h)return-1;if(h===r)return l;l++}return-1}(r,n)}function Sf(n,r,l=!1){for(let h=0;h<r.length;h++)if(Mm(n,r[h],l))return!0;return!1}function If(n,r){e:for(let l=0;l<r.length;l++){const h=r[l];if(n.length===h.length){for(let m=0;m<n.length;m++)if(n[m]!==h[m])continue e;return!0}}return!1}function Zd(n,r){return n?":not("+r.trim()+")":r}function Fh(n){let r=n[0],l=1,h=2,m="",E=!1;for(;l<n.length;){let x=n[l];if("string"==typeof x)if(2&h){const V=n[++l];m+="["+x+(V.length>0?'="'+V+'"':"")+"]"}else 8&h?m+="."+x:4&h&&(m+=" "+x);else""!==m&&!ul(x)&&(r+=Zd(E,m),m=""),h=x,E=E||!ul(h);l++}return""!==m&&(r+=Zd(E,m)),r}const Oi={};function qd(n){xf(Ii(),Sn(),dt()+n,!1)}function xf(n,r,l,h){if(!h)if(3==(3&r[2])){const E=n.preOrderCheckHooks;null!==E&&ur(r,E,l)}else{const E=n.preOrderHooks;null!==E&&Rs(r,E,0,l)}Qt(l)}function Xd(n,r=null,l=null,h){const m=w(n,r,l,h);return m.resolveInjectorInitializers(),m}function w(n,r=null,l=null,h,m=new Set){const E=[l||at,$i(n)];return h=h||("object"==typeof n?void 0:fe(n)),new Mh(E,r||td(),h||null,m)}let S=(()=>{class n{static create(l,h){if(Array.isArray(l))return Xd({name:""},h,l,"");{var m;const E=null!==(m=l.name)&&void 0!==m?m:"";return Xd({name:E},l.parent,l.providers,E)}}}return n.THROW_IF_NOT_FOUND=jr,n.NULL=new Js,n.\u0275prov=Fe({token:n,providedIn:"any",factory:()=>lt(Bs)}),n.__NG_ELEMENT_ID__=-1,n})();function Jd(n,r=gt.Default){const l=Sn();return null===l?lt(n,r):ma(Hr(),l,ye(n),r)}function V_(){throw new Error("invalid")}function Vh(n,r){return n<<17|r<<2}function kl(n){return n>>17&32767}function Lp(n){return 2|n}function fd(n){return(131068&n)>>2}function Bg(n,r){return-131069&n|r<<2}function Om(n){return 1|n}function Y_(n,r){const l=n.contentQueries;if(null!==l)for(let h=0;h<l.length;h+=2){const m=l[h],E=l[h+1];if(-1!==E){const x=n.data[E];Xa(m),x.contentQueries(2,r[E],E)}}}function Kl(n,r,l,h,m,E,x,V,Y,ce,Oe){const it=r.blueprint.slice();return it[0]=m,it[2]=76|h,(null!==Oe||n&&1024&n[2])&&(it[2]|=1024),aa(it),it[3]=it[15]=n,it[8]=l,it[10]=x||n&&n[10],it[11]=V||n&&n[11],it[12]=Y||n&&n[12]||null,it[9]=ce||n&&n[9]||null,it[6]=E,it[20]=function wp(){return ym++}(),it[21]=Oe,it[16]=2==r.type?n[16]:it,it}function nh(n,r,l,h,m){let E=n.data[r];if(null===E)E=Uf(n,r,l,h,m),function Tc(){return mi.lFrame.inI18n}()&&(E.flags|=64);else if(64&E.type){E.type=l,E.value=h,E.attrs=m;const x=Q();E.injectorIndex=null===x?-1:x.injectorIndex}return $(E,!0),E}function Uf(n,r,l,h,m){const E=se(),x=xe(),Y=n.data[r]=function Zg(n,r,l,h,m,E){return{type:l,index:h,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:E,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,x?E:E&&E.parent,l,r,h,m);return null===n.firstChild&&(n.firstChild=Y),null!==E&&(x?null==E.child&&null!==Y.parent&&(E.child=Y):null===E.next&&(E.next=Y)),Y}function Rl(n,r,l,h){if(0===l)return-1;const m=r.length;for(let E=0;E<l;E++)r.push(h),n.blueprint.push(h),n.data.push(null);return m}function Hf(n,r,l){ua(r);try{const h=n.viewQuery;null!==h&&Zm(1,h,l);const m=n.template;null!==m&&Z_(n,r,m,1,l),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Y_(n,r),n.staticViewQueries&&Zm(2,n.viewQuery,l);const E=n.components;null!==E&&function K_(n,r){for(let l=0;l<r.length;l++)rh(n,r[l])}(r,E)}catch(h){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),h}finally{r[2]&=-5,ve()}}function _d(n,r,l,h){const m=r[2];if(128!=(128&m)){ua(r);try{aa(r),function ca(n){return mi.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==l&&Z_(n,r,l,2,h);const x=3==(3&m);if(x){const ce=n.preOrderCheckHooks;null!==ce&&ur(r,ce,null)}else{const ce=n.preOrderHooks;null!==ce&&Rs(r,ce,0,null),ys(r,0)}if(function e_(n){for(let r=Ws(n);null!==r;r=od(r)){if(!r[2])continue;const l=r[9];for(let h=0;h<l.length;h++){const m=l[h],E=m[3];0==(512&m[2])&&mr(E,1),m[2]|=512}}}(r),function Ym(n){for(let r=Ws(n);null!==r;r=od(r))for(let l=10;l<r.length;l++){const h=r[l],m=h[1];ks(h)&&_d(m,h,m.template,h[8])}}(r),null!==n.contentQueries&&Y_(n,r),x){const ce=n.contentCheckHooks;null!==ce&&ur(r,ce)}else{const ce=n.contentHooks;null!==ce&&Rs(r,ce,1),ys(r,1)}!function Um(n,r){const l=n.hostBindingOpCodes;if(null!==l)try{for(let h=0;h<l.length;h++){const m=l[h];if(m<0)Qt(~m);else{const E=m,x=l[++h],V=l[++h];Ql(x,E),V(2,r[E])}}}finally{Qt(-1)}}(n,r);const V=n.components;null!==V&&function Wg(n,r){for(let l=0;l<r.length;l++)Qp(n,r[l])}(r,V);const Y=n.viewQuery;if(null!==Y&&Zm(2,Y,h),x){const ce=n.viewCheckHooks;null!==ce&&ur(r,ce)}else{const ce=n.viewHooks;null!==ce&&Rs(r,ce,2),ys(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,mr(r[3],-1))}finally{ve()}}}function Z_(n,r,l,h,m){const E=dt(),x=2&h;try{Qt(-1),x&&r.length>22&&xf(n,r,22,!1),l(h,m)}finally{Qt(E)}}function Hm(n,r,l){if(ko(r)){const m=r.directiveEnd;for(let E=r.directiveStart;E<m;E++){const x=n.data[E];x.contentQueries&&x.contentQueries(1,l[E],E)}}}function Yg(n,r,l){!$s()||(function $m(n,r,l,h){const m=l.directiveStart,E=l.directiveEnd;n.firstCreatePass||Uo(l,r),_o(h,r);const x=l.initialInputs;for(let V=m;V<E;V++){const Y=n.data[V],ce=Yi(Y);ce&&Zp(r,l,Y);const Oe=yl(r,n,V,l);_o(Oe,r),null!==x&&zm(0,V-m,Oe,Y,0,x),ce&&(Ki(l.index,r)[8]=Oe)}}(n,r,l,Ur(l,r)),128==(128&l.flags)&&function Yp(n,r,l){const h=l.directiveStart,m=l.directiveEnd,E=l.index,x=function Va(){return mi.lFrame.currentDirectiveIndex}();try{Qt(E);for(let V=h;V<m;V++){const Y=n.data[V],ce=r[V];Zo(V),(null!==Y.hostBindings||0!==Y.hostVars||null!==Y.hostAttrs)&&Gm(Y,ce)}}finally{Qt(-1),Zo(x)}}(n,r,l))}function jf(n,r,l=Ur){const h=r.localNames;if(null!==h){let m=r.index+1;for(let E=0;E<h.length;E+=2){const x=h[E+1],V=-1===x?l(r,n):n[x];n[m++]=V}}}function jm(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=jp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function jp(n,r,l,h,m,E,x,V,Y,ce){const Oe=22+h,it=Oe+m,xt=function Lu(n,r){const l=[];for(let h=0;h<r;h++)l.push(h<n?null:Oi);return l}(Oe,it),en="function"==typeof ce?ce():ce;return xt[1]={type:n,blueprint:xt,template:l,queries:null,viewQuery:V,declTNode:r,data:xt.slice().fill(null,Oe),bindingStartIndex:Oe,expandoStartIndex:it,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof E?E():E,pipeRegistry:"function"==typeof x?x():x,firstChild:null,schemas:Y,consts:en,incompleteFirstPass:!1}}function Kg(n,r,l,h){const m=sh(r);null===l?m.push(h):(m.push(l),n.firstCreatePass&&t_(n).push(h,m.length-1))}function $p(n,r,l){for(let h in n)if(n.hasOwnProperty(h)){const m=n[h];(l=null===l?{}:l).hasOwnProperty(h)?l[h].push(r,m):l[h]=[r,m]}return l}function Gp(n,r){const h=r.directiveEnd,m=n.data,E=r.attrs,x=[];let V=null,Y=null;for(let ce=r.directiveStart;ce<h;ce++){const Oe=m[ce],it=Oe.inputs,xt=null===E||Yd(r)?null:Jg(it,E);x.push(xt),V=$p(it,ce,V),Y=$p(Oe.outputs,ce,Y)}null!==V&&(V.hasOwnProperty("class")&&(r.flags|=16),V.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=x,r.inputs=V,r.outputs=Y}function Ra(n,r,l,h,m,E,x,V){const Y=Ur(r,l);let Oe,ce=r.inputs;!V&&null!=ce&&(Oe=ce[h])?(Ol(n,l,Oe,h,m),as(r)&&zp(l,r.index)):3&r.type&&(h=function vd(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(h),m=null!=x?x(m,r.value||"",h):m,E.setProperty(Y,h,m))}function zp(n,r){const l=Ki(r,n);16&l[2]||(l[2]|=32)}function zf(n,r,l,h){let m=!1;if($s()){const E=function Kp(n,r,l){const h=n.directiveRegistry;let m=null;if(h)for(let E=0;E<h.length;E++){const x=h[E];Sf(l,x.selectors,!1)&&(m||(m=[]),Ar(Uo(l,r),n,x.type),Yi(x)?(Xg(n,l),m.unshift(x)):m.push(x))}return m}(n,r,l),x=null===h?null:{"":-1};if(null!==E){m=!0,X_(l,n.data.length,E.length);for(let Oe=0;Oe<E.length;Oe++){const it=E[Oe];it.providersResolver&&it.providersResolver(it)}let V=!1,Y=!1,ce=Rl(n,r,E.length,null);for(let Oe=0;Oe<E.length;Oe++){const it=E[Oe];l.mergedAttrs=el(l.mergedAttrs,it.hostAttrs),J_(n,l,r,ce,it),Q_(ce,it,x),null!==it.contentQueries&&(l.flags|=8),(null!==it.hostBindings||null!==it.hostAttrs||0!==it.hostVars)&&(l.flags|=128);const xt=it.type.prototype;!V&&(xt.ngOnChanges||xt.ngOnInit||xt.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(l.index),V=!0),!Y&&(xt.ngOnChanges||xt.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(l.index),Y=!0),ce++}Gp(n,l)}x&&function jh(n,r,l){if(r){const h=n.localNames=[];for(let m=0;m<r.length;m+=2){const E=l[r[m+1]];if(null==E)throw new ut(-301,!1);h.push(r[m],E)}}}(l,h,x)}return l.mergedAttrs=el(l.mergedAttrs,l.attrs),m}function Qg(n,r,l,h,m,E){const x=E.hostBindings;if(x){let V=n.hostBindingOpCodes;null===V&&(V=n.hostBindingOpCodes=[]);const Y=~r.index;(function Hh(n){let r=n.length;for(;r>0;){const l=n[--r];if("number"==typeof l&&l<0)return l}return 0})(V)!=Y&&V.push(Y),V.push(h,m,x)}}function Gm(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Xg(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Q_(n,r,l){if(l){if(r.exportAs)for(let h=0;h<r.exportAs.length;h++)l[r.exportAs[h]]=n;Yi(r)&&(l[""]=n)}}function X_(n,r,l){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+l,n.providerIndexes=r}function J_(n,r,l,h,m){n.data[h]=m;const E=m.factory||(m.factory=Oo(m.type)),x=new tr(E,Yi(m),Jd);n.blueprint[h]=x,l[h]=x,Qg(n,r,0,h,Rl(n,l,m.hostVars,Oi),m)}function Zp(n,r,l){const h=Ur(r,n),m=jm(l),E=n[10],x=Wf(n,Kl(n,m,null,l.onPush?32:16,h,r,E,E.createRenderer(h,l),null,null,null));n[r.index]=x}function qp(n,r,l,h,m,E,x){if(null==E)n.removeAttribute(r,m,l);else{const V=null==x?ct(E):x(E,h||"",m);n.setAttribute(r,m,V,l)}}function zm(n,r,l,h,m,E){const x=E[r];if(null!==x){const V=h.setInput;for(let Y=0;Y<x.length;){const ce=x[Y++],Oe=x[Y++],it=x[Y++];null!==V?h.setInput(l,it,ce,Oe):l[Oe]=it}}}function Jg(n,r){let l=null,h=0;for(;h<r.length;){const m=r[h];if(0!==m)if(5!==m){if("number"==typeof m)break;n.hasOwnProperty(m)&&(null===l&&(l=[]),l.push(m,n[m],r[h+1])),h+=2}else h+=2;else h+=4}return l}function Wm(n,r,l,h){return new Array(n,!0,!1,r,null,0,h,l,null,null)}function Qp(n,r){const l=Ki(r,n);if(ks(l)){const h=l[1];48&l[2]?_d(h,l,h.template,l[8]):l[5]>0&&ih(l)}}function ih(n){for(let h=Ws(n);null!==h;h=od(h))for(let m=10;m<h.length;m++){const E=h[m];if(ks(E))if(512&E[2]){const x=E[1];_d(x,E,x.template,E[8])}else E[5]>0&&ih(E)}const l=n[1].components;if(null!==l)for(let h=0;h<l.length;h++){const m=Ki(l[h],n);ks(m)&&m[5]>0&&ih(m)}}function rh(n,r){const l=Ki(r,n),h=l[1];(function Km(n,r){for(let l=r.length;l<n.blueprint.length;l++)r.push(n.blueprint[l])})(h,l),Hf(h,l,l[8])}function Wf(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Yf(n){for(;n;){n[2]|=32;const r=ac(n);if(yo(n)&&!r)return n;n=r}return null}function ir(n,r,l,h=!0){const m=r[10];m.begin&&m.begin();try{_d(n,r,n.template,l)}catch(x){throw h&&Oa(r,x),x}finally{m.end&&m.end()}}function Zm(n,r,l){Xa(0),r(n,l)}function sh(n){return n[7]||(n[7]=[])}function t_(n){return n.cleanup||(n.cleanup=[])}function ws(n,r,l){return(null===n||Yi(n))&&(l=function Qr(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(l[r.index])),l[11]}function Oa(n,r){const l=n[9],h=l?l.get(oc,null):null;h&&h.handleError(r)}function Ol(n,r,l,h,m){for(let E=0;E<l.length;){const x=l[E++],V=l[E++],Y=r[x],ce=n.data[x];null!==ce.setInput?ce.setInput(Y,m,h,V):Y[V]=m}}function Zl(n,r,l){const h=Ai(r,n);ku(n[11],h,l)}function Jp(n,r,l){let h=l?n.styles:null,m=l?n.classes:null,E=0;if(null!==r)for(let x=0;x<r.length;x++){const V=r[x];"number"==typeof V?E=V:1==E?m=Se(m,V):2==E&&(h=Se(h,V+": "+r[++x]+";"))}l?n.styles=h:n.stylesWithoutHost=h,l?n.classes=m:n.classesWithoutHost=m}function $h(n,r,l,h,m=!1){for(;null!==l;){const E=r[l.index];if(null!==E&&h.push(pr(E)),Dr(E))for(let V=10;V<E.length;V++){const Y=E[V],ce=Y[1].firstChild;null!==ce&&$h(Y[1],Y,ce,h)}const x=l.type;if(8&x)$h(n,r,l.child,h);else if(32&x){const V=Cf(l,r);let Y;for(;Y=V();)h.push(Y)}else if(16&x){const V=dc(r,l);if(Array.isArray(V))h.push(...V);else{const Y=ac(r[16]);$h(Y[1],Y,V,h,!0)}}l=m?l.projectionNext:l.next}return h}class Fu{constructor(r,l){this._lView=r,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,l=r[1];return $h(l,r,l.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Dr(r)){const l=r[8],h=l?l.indexOf(this):-1;h>-1&&(wf(r,h),fo(l,h))}this._attachedToViewContainer=!1}Dp(this._lView[1],this._lView)}onDestroy(r){Kg(this._lView[1],this._lView,null,r)}markForCheck(){Yf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ir(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ut(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Pg(n,r){Df(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ut(902,!1);this._appRef=r}}class gc extends Fu{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;ir(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class oh extends Fd{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const l=K(r);return new yd(l,this.ngModule)}}function em(n){const r=[];for(let l in n)n.hasOwnProperty(l)&&r.push({propName:n[l],templateName:l});return r}class nv{constructor(r,l){this.injector=r,this.parentInjector=l}get(r,l,h){const m=this.injector.get(r,yp,h);return m!==yp||l===yp?m:this.parentInjector.get(r,l,h)}}class yd extends fm{constructor(r,l){super(),this.componentDef=r,this.ngModule=l,this.componentType=r.type,this.selector=function Im(n){return n.map(Fh).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return em(this.componentDef.inputs)}get outputs(){return em(this.componentDef.outputs)}create(r,l,h,m){var E;let x=(m=m||this.ngModule)instanceof Cu?m:null===(E=m)||void 0===E?void 0:E.injector;x&&null!==this.componentDef.getStandaloneInjector&&(x=this.componentDef.getStandaloneInjector(x)||x);const V=x?new nv(r,x):r,Y=V.get(Ih,null);if(null===Y)throw new ut(407,!1);const ce=V.get(L_,null),Oe=Y.createRenderer(null,this.componentDef),it=this.componentDef.selectors[0][0]||"div",xt=h?function Gf(n,r,l){return n.selectRootElement(r,l===pn.ShadowDom)}(Oe,h,this.componentDef.encapsulation):lc(Y.createRenderer(null,this.componentDef),it,function tv(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(it)),en=this.componentDef.onPush?288:272,xn=jp(0,null,null,1,0,null,null,null,null,null),Yn=Kl(null,xn,null,en,null,null,Y,Oe,ce,V,null);let li,vi;ua(Yn);try{const Gi=function iv(n,r,l,h,m,E){const x=l[1];l[22]=n;const Y=nh(x,22,2,"#host",null),ce=Y.mergedAttrs=r.hostAttrs;null!==ce&&(Jp(Y,ce,!0),null!==n&&(Bl(m,n,ce),null!==Y.classes&&Kc(m,n,Y.classes),null!==Y.styles&&Pu(m,n,Y.styles)));const Oe=h.createRenderer(n,r),it=Kl(l,jm(r),null,r.onPush?32:16,l[22],Y,h,Oe,E||null,null,null);return x.firstCreatePass&&(Ar(Uo(Y,l),x,r.type),Xg(x,Y),X_(Y,l.length,1)),Wf(l,it),l[22]=it}(xt,this.componentDef,Yn,Y,Oe);if(xt)if(h)Bl(Oe,xt,["ng-version",vp.full]);else{const{attrs:Bn,classes:Pi}=function Bh(n){const r=[],l=[];let h=1,m=2;for(;h<n.length;){let E=n[h];if("string"==typeof E)2===m?""!==E&&r.push(E,n[++h]):8===m&&l.push(E);else{if(!ul(m))break;m=E}h++}return{attrs:r,classes:l}}(this.componentDef.selectors[0]);Bn&&Bl(Oe,xt,Bn),Pi&&Pi.length>0&&Kc(Oe,xt,Pi.join(" "))}if(vi=vs(xn,22),void 0!==l){const Bn=vi.projection=[];for(let Pi=0;Pi<this.ngContentSelectors.length;Pi++){const Fr=l[Pi];Bn.push(null!=Fr?Array.from(Fr):null)}}li=function Kf(n,r,l,h){const m=l[1],E=function q_(n,r,l){const h=Hr();n.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),J_(n,h,r,Rl(n,r,1,null),l),Gp(n,h));const m=yl(r,n,h.directiveStart,h);_o(m,r);const E=Ur(h,r);return E&&_o(E,r),m}(m,l,r);if(n[8]=l[8]=E,null!==h)for(const V of h)V(E,r);if(r.contentQueries){const V=Hr();r.contentQueries(1,E,V.directiveStart)}const x=Hr();return!m.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Qt(x.index),Qg(l[1],x,0,x.directiveStart,x.directiveEnd,r),Gm(r,E)),E}(Gi,this.componentDef,Yn,[n_]),Hf(xn,Yn,null)}finally{ve()}return new _c(this.componentType,li,Du(vi,Yn),Yn,vi)}}class _c extends class ff{}{constructor(r,l,h,m,E){super(),this.location=h,this._rootLView=m,this._tNode=E,this.instance=l,this.hostView=this.changeDetectorRef=new gc(m),this.componentType=r}setInput(r,l){const h=this._tNode.inputs;let m;if(null!==h&&(m=h[r])){const E=this._rootLView;Ol(E[1],E,m,r,l),zp(E,this._tNode.index)}}get injector(){return new Si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function n_(){const n=Hr();qe(Sn()[1],n)}function Zf(n){let r=function Ya(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),l=!0;const h=[n];for(;r;){let m;if(Yi(n))m=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ut(903,!1);m=r.\u0275dir}if(m){if(l){h.push(m);const x=n;x.inputs=Gh(n.inputs),x.declaredInputs=Gh(n.declaredInputs),x.outputs=Gh(n.outputs);const V=m.hostBindings;V&&qm(n,V);const Y=m.viewQuery,ce=m.contentQueries;if(Y&&r_(n,Y),ce&&rv(n,ce),we(n.inputs,m.inputs),we(n.declaredInputs,m.declaredInputs),we(n.outputs,m.outputs),Yi(m)&&m.data.animation){const Oe=n.data;Oe.animation=(Oe.animation||[]).concat(m.data.animation)}}const E=m.features;if(E)for(let x=0;x<E.length;x++){const V=E[x];V&&V.ngInherit&&V(n),V===Zf&&(l=!1)}}r=Object.getPrototypeOf(r)}!function i_(n){let r=0,l=null;for(let h=n.length-1;h>=0;h--){const m=n[h];m.hostVars=r+=m.hostVars,m.hostAttrs=el(m.hostAttrs,l=el(l,m.hostAttrs))}}(h)}function Gh(n){return n===ni?{}:n===at?[]:n}function r_(n,r){const l=n.viewQuery;n.viewQuery=l?(h,m)=>{r(h,m),l(h,m)}:r}function rv(n,r){const l=n.contentQueries;n.contentQueries=l?(h,m,E)=>{r(h,m,E),l(h,m,E)}:r}function qm(n,r){const l=n.hostBindings;n.hostBindings=l?(h,m)=>{r(h,m),l(h,m)}:r}let Bu=null;function bd(){if(!Bu){const n=Fn.Symbol;if(n&&n.iterator)Bu=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<r.length;++l){const h=r[l];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Bu=h)}}}return Bu}function ah(n){return!!o_(n)&&(Array.isArray(n)||!(n instanceof Map)&&bd()in n)}function o_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ka(n,r,l){return!Object.is(n[r],l)&&(n[r]=l,!0)}function Jm(n,r,l,h){const m=Sn();return Ka(m,er(),r)&&(Ii(),function mc(n,r,l,h,m,E){const x=Ur(n,r);qp(r[11],x,E,n.value,l,h,m)}(un(),m,n,r,l,h)),Jm}function vc(n,r,l,h,m,E){const V=function Wh(n,r,l,h){const m=Ka(n,r,l);return Ka(n,r+1,h)||m}(n,rs(),l,m);return ao(2),V?r+ct(l)+h+ct(m)+E:Oi}function ep(n,r,l,h,m,E,x,V){const Y=Sn(),ce=Ii(),Oe=n+22,it=ce.firstCreatePass?function lh(n,r,l,h,m,E,x,V,Y){const ce=r.consts,Oe=nh(r,n,4,x||null,Zs(ce,V));zf(r,l,Oe,Zs(ce,Y)),qe(r,Oe);const it=Oe.tViews=jp(2,Oe,h,m,E,r.directiveRegistry,r.pipeRegistry,null,r.schemas,ce);return null!==r.queries&&(r.queries.template(r,Oe),it.queries=r.queries.embeddedTView(Oe)),Oe}(Oe,ce,Y,r,l,h,m,E,x):ce.data[Oe];$(it,!1);const xt=Y[11].createComment("");$d(ce,Y,xt,it),_o(xt,Y),Wf(Y,Y[Oe]=Wm(xt,Y,xt,it)),gs(it)&&Yg(ce,Y,it),null!=x&&jf(Y,it,V)}function h_(n){return oa(function Cr(){return mi.lFrame.contextLView}(),22+n)}function Pa(n,r,l){const h=Sn();return Ka(h,er(),r)&&Ra(Ii(),un(),h,n,r,h[11],l,!1),Pa}function Yh(n,r,l,h,m){const x=m?"class":"style";Ol(n,l,r.inputs[x],x,h)}function Kh(n,r,l,h){const m=Sn(),E=Ii(),x=22+n,V=m[11],Y=m[x]=lc(V,r,function Li(){return mi.lFrame.currentNamespace}()),ce=E.firstCreatePass?function Xc(n,r,l,h,m,E,x){const V=r.consts,ce=nh(r,n,2,m,Zs(V,E));return zf(r,l,ce,Zs(V,x)),null!==ce.attrs&&Jp(ce,ce.attrs,!1),null!==ce.mergedAttrs&&Jp(ce,ce.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,ce),ce}(x,E,m,0,r,l,h):E.data[x];$(ce,!0);const Oe=ce.mergedAttrs;null!==Oe&&Bl(V,Y,Oe);const it=ce.classes;null!==it&&Kc(V,Y,it);const xt=ce.styles;return null!==xt&&Pu(V,Y,xt),64!=(64&ce.flags)&&$d(E,m,Y,ce),0===function ps(){return mi.lFrame.elementDepthCount}()&&_o(Y,m),function pl(){mi.lFrame.elementDepthCount++}(),gs(ce)&&(Yg(E,m,ce),Hm(E,ce,m)),null!==h&&jf(m,ce),Kh}function Io(){let n=Hr();xe()?nn():(n=n.parent,$(n,!1));const r=n;!function la(){mi.lFrame.elementDepthCount--}();const l=Ii();return l.firstCreatePass&&(qe(l,n),ko(n)&&l.queries.elementEnd(n)),null!=r.classesWithoutHost&&function $u(n){return 0!=(16&n.flags)}(r)&&Yh(l,r,Sn(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Md(n){return 0!=(32&n.flags)}(r)&&Yh(l,r,Sn(),r.stylesWithoutHost,!1),Io}function Cc(n,r,l,h){return Kh(n,r,l,h),Io(),Cc}function np(n,r,l){const h=Sn(),m=Ii(),E=n+22,x=m.firstCreatePass?function tp(n,r,l,h,m){const E=r.consts,x=Zs(E,h),V=nh(r,n,8,"ng-container",x);return null!==x&&Jp(V,x,!0),zf(r,l,V,Zs(E,m)),null!==r.queries&&r.queries.elementStart(r,V),V}(E,m,h,r,l):m.data[E];$(x,!0);const V=h[E]=h[11].createComment("");return $d(m,h,V,x),_o(V,h),gs(x)&&(Yg(m,h,x),Hm(m,x,h)),null!=l&&jf(h,x),np}function wc(){let n=Hr();const r=Ii();return xe()?nn():(n=n.parent,$(n,!1)),r.firstCreatePass&&(qe(r,n),ko(n)&&r.queries.elementEnd(n)),wc}function av(n,r,l){return np(n,r,l),wc(),av}function lv(){return Sn()}function f_(n){return!!n&&"function"==typeof n.then}function ip(n){return!!n&&"function"==typeof n.subscribe}const ig=ip;function rg(n,r,l,h){const m=Sn(),E=Ii(),x=Hr();return Zh(E,m,m[11],x,n,r,0,h),rg}function Ed(n,r){const l=Hr(),h=Sn(),m=Ii();return Zh(m,h,ws(Ua(m.data),l,h),l,n,r),Ed}function Zh(n,r,l,h,m,E,x,V){const Y=gs(h),Oe=n.firstCreatePass&&t_(n),it=r[8],xt=sh(r);let en=!0;if(3&h.type||V){const li=Ur(h,r),vi=V?V(li):li,Gi=xt.length,Bn=V?Fr=>V(pr(Fr[h.index])):h.index;let Pi=null;if(!V&&Y&&(Pi=function cv(n,r,l,h){const m=n.cleanup;if(null!=m)for(let E=0;E<m.length-1;E+=2){const x=m[E];if(x===l&&m[E+1]===h){const V=r[7],Y=m[E+2];return V.length>Y?V[Y]:null}"string"==typeof x&&(E+=2)}return null}(n,r,m,h.index)),null!==Pi)(Pi.__ngLastListenerFn__||Pi).__ngNextListenerFn__=E,Pi.__ngLastListenerFn__=E,en=!1;else{E=ch(h,r,it,E,!1);const Fr=l.listen(vi,m,E);xt.push(E,Fr),Oe&&Oe.push(m,Bn,Gi,Gi+1)}}else E=ch(h,r,it,E,!1);const xn=h.outputs;let Yn;if(en&&null!==xn&&(Yn=xn[m])){const li=Yn.length;if(li)for(let vi=0;vi<li;vi+=2){const Wo=r[Yn[vi]][Yn[vi+1]].subscribe(E),P_=xt.length;xt.push(E,Wo),Oe&&Oe.push(m,h.index,P_,-(P_+1))}}}function qh(n,r,l,h){try{return!1!==l(h)}catch(m){return Oa(n,m),!1}}function ch(n,r,l,h,m){return function E(x){if(x===Function)return h;Yf(2&n.flags?Ki(n.index,r):r);let Y=qh(r,0,h,x),ce=E.__ngNextListenerFn__;for(;ce;)Y=qh(r,0,ce,x)&&Y,ce=ce.__ngNextListenerFn__;return m&&!1===Y&&(x.preventDefault(),x.returnValue=!1),Y}}function sg(n=1){return function q(n){return(mi.lFrame.contextLView=function Me(n,r){for(;n>0;)r=r[15],n--;return r}(n,mi.lFrame.contextLView))[8]}(n)}function nm(n,r){let l=null;const h=function Mf(n){const r=n.attrs;if(null!=r){const l=r.indexOf(5);if(0==(1&l))return r[l+1]}return null}(n);for(let m=0;m<r.length;m++){const E=r[m];if("*"!==E){if(null===h?Sf(n,E,!0):If(h,E))return m}else l=m}return l}function rp(n){const r=Sn()[16][6];if(!r.projection){const h=r.projection=qs(n?n.length:1,null),m=h.slice();let E=r.child;for(;null!==E;){const x=n?nm(E,n):0;null!==x&&(m[x]?m[x].projectionNext=E:h[x]=E,m[x]=E),E=E.next}}}function og(n,r=0,l){const h=Sn(),m=Ii(),E=nh(m,22+n,16,null,l||null);null===E.projection&&(E.projection=r),nn(),64!=(64&E.flags)&&function Tm(n,r,l){Ou(r[11],0,r,l,$r(n,l,r),Ng(l.parent||r[6],l,r))}(m,h,E)}function m_(n,r,l,h,m){const E=n[l+1],x=null===r;let V=h?kl(E):fd(E),Y=!1;for(;0!==V&&(!1===Y||x);){const Oe=n[V+1];$v(n[V],r)&&(Y=!0,n[V+1]=h?Om(Oe):Lp(Oe)),V=h?kl(Oe):fd(Oe)}Y&&(n[l+1]=h?Lp(E):Om(E))}function $v(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&te(n,r)>=0}const ia={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function g_(n){return n.substring(ia.key,ia.keyEnd)}function __(n,r){const l=ia.textEnd;return l===r?-1:(r=ia.keyEnd=function cg(n,r,l){for(;r<l&&n.charCodeAt(r)>32;)r++;return r}(n,ia.key=r,l),uh(n,r,l))}function uh(n,r,l){for(;r<l&&n.charCodeAt(r)<=32;)r++;return r}function ug(n,r,l){return nu(n,r,l,!1),ug}function dg(n,r){return nu(n,r,null,!0),dg}function pv(n){!function iu(n,r,l,h){const m=Ii(),E=ao(2);m.firstUpdatePass&&hg(m,null,E,h);const x=Sn();if(l!==Oi&&Ka(x,E,l)){const V=m.data[dt()];if(vv(V,h)&&!Wv(m,E)){let Y=h?V.classesWithoutHost:V.stylesWithoutHost;null!==Y&&(l=Se(Y,l||"")),Yh(m,V,x,l,h)}else!function my(n,r,l,h,m,E,x,V){m===Oi&&(m=at);let Y=0,ce=0,Oe=0<m.length?m[0]:null,it=0<E.length?E[0]:null;for(;null!==Oe||null!==it;){const xt=Y<m.length?m[Y+1]:void 0,en=ce<E.length?E[ce+1]:void 0;let Yn,xn=null;Oe===it?(Y+=2,ce+=2,xt!==en&&(xn=it,Yn=en)):null===it||null!==Oe&&Oe<it?(Y+=2,xn=Oe):(ce+=2,xn=it,Yn=en),null!==xn&&qv(n,r,l,h,xn,Yn,x,V),Oe=Y<m.length?m[Y]:null,it=ce<E.length?E[ce]:null}}(m,V,x,x[11],x[E+1],x[E+1]=function C_(n,r,l){if(null==l||""===l)return at;const h=[],m=Dl(l);if(Array.isArray(m))for(let E=0;E<m.length;E++)n(h,m[E],!0);else if("object"==typeof m)for(const E in m)m.hasOwnProperty(E)&&n(h,E,m[E]);else"string"==typeof m&&r(h,m);return h}(n,r,l),h,E)}}(I,tu,n,!0)}function tu(n,r){for(let l=function zv(n){return function y_(n){ia.key=0,ia.keyEnd=0,ia.value=0,ia.valueEnd=0,ia.textEnd=n.length}(n),__(n,uh(n,0,ia.textEnd))}(r);l>=0;l=__(r,l))I(n,g_(r),!0)}function nu(n,r,l,h){const m=Sn(),E=Ii(),x=ao(2);E.firstUpdatePass&&hg(E,n,x,h),r!==Oi&&Ka(m,x,r)&&qv(E,E.data[dt()],m,m[11],n,m[x+1]=function Qv(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=fe(Dl(n)))),n}(r,l),h,x)}function Wv(n,r){return r>=n.expandoStartIndex}function hg(n,r,l,h){const m=n.data;if(null===m[l+1]){const E=m[dt()],x=Wv(n,l);vv(E,h)&&null===r&&!x&&(r=!1),r=function mv(n,r,l,h){const m=Ua(n);let E=h?r.residualClasses:r.residualStyles;if(null===m)0===(h?r.classBindings:r.styleBindings)&&(l=ju(l=b_(null,n,r,l,h),r.attrs,h),E=null);else{const x=r.directiveStylingLast;if(-1===x||n[x]!==m)if(l=b_(m,n,r,l,h),null===E){let Y=function Yv(n,r,l){const h=l?r.classBindings:r.styleBindings;if(0!==fd(h))return n[kl(h)]}(n,r,h);void 0!==Y&&Array.isArray(Y)&&(Y=b_(null,n,r,Y[1],h),Y=ju(Y,r.attrs,h),function Kv(n,r,l,h){n[kl(l?r.classBindings:r.styleBindings)]=h}(n,r,h,Y))}else E=function gv(n,r,l){let h;const m=r.directiveEnd;for(let E=1+r.directiveStylingLast;E<m;E++)h=ju(h,n[E].hostAttrs,l);return ju(h,r.attrs,l)}(n,r,h)}return void 0!==E&&(h?r.residualClasses=E:r.residualStyles=E),l}(m,E,r,h),function Hv(n,r,l,h,m,E){let x=E?r.classBindings:r.styleBindings,V=kl(x),Y=fd(x);n[h]=l;let Oe,ce=!1;if(Array.isArray(l)){const it=l;Oe=it[1],(null===Oe||te(it,Oe)>0)&&(ce=!0)}else Oe=l;if(m)if(0!==Y){const xt=kl(n[V+1]);n[h+1]=Vh(xt,V),0!==xt&&(n[xt+1]=Bg(n[xt+1],h)),n[V+1]=function Of(n,r){return 131071&n|r<<17}(n[V+1],h)}else n[h+1]=Vh(V,0),0!==V&&(n[V+1]=Bg(n[V+1],h)),V=h;else n[h+1]=Vh(Y,0),0===V?V=h:n[Y+1]=Bg(n[Y+1],h),Y=h;ce&&(n[h+1]=Lp(n[h+1])),m_(n,Oe,h,!0),m_(n,Oe,h,!1),function jv(n,r,l,h,m){const E=m?n.residualClasses:n.residualStyles;null!=E&&"string"==typeof r&&te(E,r)>=0&&(l[h+1]=Om(l[h+1]))}(r,Oe,n,h,E),x=Vh(V,Y),E?r.classBindings=x:r.styleBindings=x}(m,E,r,l,x,h)}}function b_(n,r,l,h,m){let E=null;const x=l.directiveEnd;let V=l.directiveStylingLast;for(-1===V?V=l.directiveStart:V++;V<x&&(E=r[V],h=ju(h,E.hostAttrs,m),E!==n);)V++;return null!==n&&(l.directiveStylingLast=V),h}function ju(n,r,l){const h=l?1:2;let m=-1;if(null!==r)for(let E=0;E<r.length;E++){const x=r[E];"number"==typeof x?m=x:m===h&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),I(n,x,!!l||r[++E]))}return void 0===n?null:n}function qv(n,r,l,h,m,E,x,V){if(!(3&r.type))return;const Y=n.data,ce=Y[V+1];ru(function Vg(n){return 1==(1&n)}(ce)?_v(Y,r,l,m,fd(ce),x):void 0)||(ru(E)||function Rm(n){return 2==(2&n)}(ce)&&(E=_v(Y,null,l,m,V,x)),function Yl(n,r,l,h,m){if(r)m?n.addClass(l,h):n.removeClass(l,h);else{let E=-1===h.indexOf("-")?void 0:ba.DashCase;null==m?n.removeStyle(l,h,E):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),E|=ba.Important),n.setStyle(l,h,m,E))}}(h,x,Ai(dt(),l),m,E))}function _v(n,r,l,h,m,E){const x=null===r;let V;for(;m>0;){const Y=n[m],ce=Array.isArray(Y),Oe=ce?Y[1]:Y,it=null===Oe;let xt=l[m+1];xt===Oi&&(xt=it?at:void 0);let en=it?H(xt,h):Oe===h?xt:void 0;if(ce&&!ru(en)&&(en=H(Y,h)),ru(en)&&(V=en,x))return V;const xn=n[m+1];m=x?kl(xn):fd(xn)}if(null!==r){let Y=E?r.residualClasses:r.residualStyles;null!=Y&&(V=H(Y,h))}return V}function ru(n){return void 0!==n}function vv(n,r){return 0!=(n.flags&(r?16:32))}function w_(n,r=""){const l=Sn(),h=Ii(),m=n+22,E=h.firstCreatePass?nh(h,m,1,r,null):h.data[m],x=l[m]=Ys(l[11],r);$d(h,l,x,E),$(E,!1)}function E_(n){return fg("",n,""),E_}function fg(n,r,l){const h=Sn(),m=function Uu(n,r,l,h){return Ka(n,er(),l)?r+ct(l)+h:Oi}(h,n,r,l);return m!==Oi&&Zl(h,dt(),m),fg}function D_(n,r,l,h,m){const E=Sn(),x=vc(E,n,r,l,h,m);return x!==Oi&&Zl(E,dt(),x),D_}function k_(n,r,l){const h=Sn();return Ka(h,er(),r)&&Ra(Ii(),un(),h,n,r,h[11],l,!0),k_}function su(n,r,l){const h=Sn();if(Ka(h,er(),r)){const E=Ii(),x=un();Ra(E,x,h,n,r,ws(Ua(E.data),x,h),l,!0)}return su}const mh=void 0;var Xv=["en",[["a","p"],["AM","PM"],mh],[["AM","PM"],mh,mh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mh,"{1} 'at' {0}",mh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Iv(n){const l=Math.floor(Math.abs(n)),h=n.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===h?1:5}];let nf={};function lm(n){const r=function g(n){return n.toLowerCase().replace(/_/g,"-")}(n);let l=i(r);if(l)return l;const h=r.split("-")[0];if(l=i(h),l)return l;if("en"===h)return Xv;throw new ut(701,!1)}function u(n){return lm(n)[d.PluralCase]}function i(n){return n in nf||(nf[n]=Fn.ng&&Fn.ng.common&&Fn.ng.common.locales&&Fn.ng.common.locales[n]),nf[n]}var d=(()=>((d=d||{})[d.LocaleId=0]="LocaleId",d[d.DayPeriodsFormat=1]="DayPeriodsFormat",d[d.DayPeriodsStandalone=2]="DayPeriodsStandalone",d[d.DaysFormat=3]="DaysFormat",d[d.DaysStandalone=4]="DaysStandalone",d[d.MonthsFormat=5]="MonthsFormat",d[d.MonthsStandalone=6]="MonthsStandalone",d[d.Eras=7]="Eras",d[d.FirstDayOfWeek=8]="FirstDayOfWeek",d[d.WeekendRange=9]="WeekendRange",d[d.DateFormat=10]="DateFormat",d[d.TimeFormat=11]="TimeFormat",d[d.DateTimeFormat=12]="DateTimeFormat",d[d.NumberSymbols=13]="NumberSymbols",d[d.NumberFormats=14]="NumberFormats",d[d.CurrencyCode=15]="CurrencyCode",d[d.CurrencySymbol=16]="CurrencySymbol",d[d.CurrencyName=17]="CurrencyName",d[d.Currencies=18]="Currencies",d[d.Directionality=19]="Directionality",d[d.PluralCase=20]="PluralCase",d[d.ExtraData=21]="ExtraData",d))();const T=["zero","one","two","few","many"],z="en-US",Te={marker:"element"},_t={marker:"ICU"};var wt=(()=>((wt=wt||{})[wt.SHIFT=2]="SHIFT",wt[wt.APPEND_EAGERLY=1]="APPEND_EAGERLY",wt[wt.COMMENT=2]="COMMENT",wt))();let mn=z;function wn(n){(function Nn(n,r){null==n&&rn(r,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(mn=n.toLowerCase().replace(/_/g,"-"))}function e(n,r,l){const h=r.insertBeforeIndex,m=Array.isArray(h)?h[0]:h;return null===m?Lh(n,0,l):pr(l[m])}function t(n,r,l,h,m){const E=r.insertBeforeIndex;if(Array.isArray(E)){let x=h,V=null;if(3&r.type||(V=x,x=m),null!==x&&0==(2&r.flags))for(let Y=1;Y<E.length;Y++)uc(n,x,l[E[Y]],V,!1)}}function a(n,r){if(n.push(r),n.length>1)for(let l=n.length-2;l>=0;l--){const h=n[l];f(h)||y(h,r)&&null===M(h)&&U(h,r.index)}}function f(n){return!(64&n.type)}function y(n,r){return f(r)||n.index>r.index}function M(n){const r=n.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function U(n,r){const l=n.insertBeforeIndex;Array.isArray(l)?l[0]=r:(Sp(e,t),n.insertBeforeIndex=r)}function oe(n,r){const l=n.data[r];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function bt(n,r,l){const h=Uf(n,l,64,null,null);return a(r,h),h}function Kt(n,r){const l=r[n.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function yn(n){return n>>>17}function Tn(n){return(131070&n)>>>1}let Hn=0,ei=0;function rr(n,r,l,h){const m=l[11];let x,E=null;for(let V=0;V<r.length;V++){const Y=r[V];if("string"==typeof Y){const ce=r[++V];null===l[ce]&&(l[ce]=Ys(m,Y))}else if("number"==typeof Y)switch(1&Y){case 0:const ce=yn(Y);let Oe,it;if(null===E&&(E=ce,x=ld(m,h)),ce===E?(Oe=h,it=x):(Oe=null,it=pr(l[ce])),null!==it){const Yn=Tn(Y);uc(m,it,l[Yn],Oe,!1);const vi=oe(n,Yn);if(null!==vi&&"object"==typeof vi){const Gi=Kt(vi,l);null!==Gi&&rr(n,vi.create[Gi],l,l[vi.anchorIdx])}}break;case 1:const en=r[++V],xn=r[++V];qp(m,Ai(Y>>>1,l),null,null,en,xn,null)}else switch(Y){case _t:const ce=r[++V],Oe=r[++V];null===l[Oe]&&_o(l[Oe]=ta(m,ce),l);break;case Te:const it=r[++V],xt=r[++V];null===l[xt]&&_o(l[xt]=lc(m,it,null),l)}}}function Gr(n,r,l,h,m){for(let E=0;E<l.length;E++){const x=l[E],V=l[++E];if(x&m){let Y="";for(let ce=E+1;ce<=E+V;ce++){const Oe=l[ce];if("string"==typeof Oe)Y+=Oe;else if("number"==typeof Oe)if(Oe<0)Y+=ct(r[h-Oe]);else{const it=Oe>>>2;switch(3&Oe){case 1:const xt=l[++ce],en=l[++ce],xn=n.data[it];"string"==typeof xn?qp(r[11],r[it],null,xn,xt,Y,en):Ra(n,xn,r,xt,Y,r[11],en,!1);break;case 0:const Yn=r[it];null!==Yn&&ku(r[11],Yn,Y);break;case 2:xo(n,oe(n,it),r,Y);break;case 3:ql(n,oe(n,it),h,r)}}}}else{const Y=l[E+1];if(Y>0&&3==(3&Y)){const Oe=oe(n,Y>>>2);r[Oe.currentCaseLViewIndex]<0&&ql(n,Oe,h,r)}}E+=V}}function ql(n,r,l,h){let m=h[r.currentCaseLViewIndex];if(null!==m){let E=Hn;m<0&&(m=h[r.currentCaseLViewIndex]=~m,E=-1),Gr(n,h,r.update[m],l,E)}}function xo(n,r,l,h){const m=function xy(n,r){let l=n.cases.indexOf(r);if(-1===l)switch(n.type){case 1:{const h=function P(n,r){const l=u(r)(parseInt(n,10)),h=T[l];return void 0!==h?h:"other"}(r,function s(){return mn}());l=n.cases.indexOf(h),-1===l&&"other"!==h&&(l=n.cases.indexOf("other"));break}case 0:l=n.cases.indexOf("other")}return-1===l?null:l}(r,h);if(Kt(r,l)!==m&&(ey(n,r,l),l[r.currentCaseLViewIndex]=null===m?null:~m,null!==m)){const x=l[r.anchorIdx];x&&rr(n,r.create[m],l,x)}}function ey(n,r,l){let h=Kt(r,l);if(null!==h){const m=r.remove[h];for(let E=0;E<m.length;E++){const x=m[E];if(x>0){const V=Ai(x,l);null!==V&&zd(l[11],V)}else ey(n,oe(n,~x),l)}}}function Nl(){const n=[];let l,h,r=-1;function E(V,Y){r=0;const ce=Kt(V,Y);h=null!==ce?V.remove[ce]:at}function x(){if(r<h.length){const V=h[r++];return V>0?l[V]:(n.push(r,h),E(l[1].data[~V],l),x())}return 0===n.length?null:(h=n.pop(),r=n.pop(),x())}return function m(V,Y){for(l=Y;n.length;)n.pop();return E(V.value,Y),x}}const _y=/\ufffd(\d+):?\d*\ufffd/gi,lC=/\ufffd(\d+)\ufffd/,wb=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,cC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,uC=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,dC=/\uE500/g;function Eb(n,r,l,h,m,E,x){const V=Rl(n,h,1,null);let Y=V<<wt.SHIFT,ce=Q();r===ce&&(ce=null),null===ce&&(Y|=wt.APPEND_EAGERLY),x&&(Y|=wt.COMMENT,function Em(n){void 0===Hd&&(Hd=n())}(Nl)),m.push(Y,null===E?"":E);const Oe=Uf(n,V,x?32:1,null===E?"":E,null);a(l,Oe);const it=Oe.index;return $(Oe,!1),null!==ce&&r!==ce&&function Ge(n,r){let l=n.insertBeforeIndex;null===l?(Sp(e,t),l=n.insertBeforeIndex=[null,r]):(function Qe(n,r,l){n!=r&&rn(l,n,r,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(r))}(ce,it),Oe}function pC(n,r,l,h,m,E,x){const V=x.match(_y),Y=Eb(n,r,l,E,h,V?null:x,!1);V&&iy(m,x,Y.index,null,0,null)}function iy(n,r,l,h,m,E){const x=n.length,V=x+1;n.push(null,null);const Y=x+2,ce=r.split(_y);let Oe=0;for(let it=0;it<ce.length;it++){const xt=ce[it];if(1&it){const en=m+parseInt(xt,10);n.push(-1-en),Oe|=Db(en)}else""!==xt&&n.push(xt)}return n.push(l<<2|(h?1:0)),h&&n.push(h,E),n[x]=Oe,n[V]=n.length-Y,Oe}function Db(n){return 1<<Math.min(n,31)}function Tb(n){let r,E,l="",h=0,m=!1;for(;null!==(r=cC.exec(n));)m?r[0]===`\ufffd/*${E}\ufffd`&&(h=r.index,m=!1):(l+=n.substring(h,r.index+r[0].length),E=r[1],m=!0);return l+=n.slice(h),l}function Sb(n,r,l,h,m,E){let x=0;const V={type:m.type,currentCaseLViewIndex:Rl(n,r,1,null),anchorIdx:E,cases:[],create:[],remove:[],update:[]};(function wC(n,r,l){n.push(Db(r.mainBinding),2,-1-r.mainBinding,l<<2|2)})(l,m,E),function _e(n,r,l){const h=n.data[r];null===h?n.data[r]=l:h.value=l}(n,E,V);const Y=m.values;for(let ce=0;ce<Y.length;ce++){const Oe=Y[ce],it=[];for(let xt=0;xt<Oe.length;xt++){const en=Oe[xt];if("string"!=typeof en){const xn=it.push(en)-1;Oe[xt]=`\x3c!--\ufffd${xn}\ufffd--\x3e`}}x=bC(n,V,r,l,h,m.cases[ce],Oe.join(""),it)|x}x&&function EC(n,r,l){n.push(r,1,l<<2|3)}(l,x,E)}function yC(n){const r=[],l=[];let h=1,m=0;const E=Ay(n=n.replace(wb,function(x,V,Y){return h="select"===Y?0:1,m=parseInt(V.slice(1),10),""}));for(let x=0;x<E.length;){let V=E[x++].trim();1===h&&(V=V.replace(/\s*(?:=)?(\w+)\s*/,"$1")),V.length&&r.push(V);const Y=Ay(E[x++]);r.length>l.length&&l.push(Y)}return{type:h,mainBinding:m,cases:r,values:l}}function Ay(n){if(!n)return[];let r=0;const l=[],h=[],m=/[{}]/g;let E;for(m.lastIndex=0;E=m.exec(n);){const V=E.index;if("}"==E[0]){if(l.pop(),0==l.length){const Y=n.substring(r,V);wb.test(Y)?h.push(yC(Y)):h.push(Y),r=V+1}}else{if(0==l.length){const Y=n.substring(r,V);h.push(Y),r=V+1}l.push("{")}}const x=n.substring(r);return h.push(x),h}function bC(n,r,l,h,m,E,x,V){const Y=[],ce=[],Oe=[];r.cases.push(E),r.create.push(Y),r.remove.push(ce),r.update.push(Oe);const xt=wh(El()).getInertBodyElement(x),en=Fc(xt)||xt;return en?Mb(n,r,l,h,Y,ce,Oe,en,m,V,0):0}function Mb(n,r,l,h,m,E,x,V,Y,ce,Oe){let it=0,xt=V.firstChild;for(;xt;){const en=Rl(n,l,1,null);switch(xt.nodeType){case Node.ELEMENT_NODE:const xn=xt,Yn=xn.tagName.toLowerCase();if(os.hasOwnProperty(Yn)){ky(m,Te,Yn,Y,en),n.data[en]=Yn;const Bn=xn.attributes;for(let Pi=0;Pi<Bn.length;Pi++){const Fr=Bn.item(Pi),Wo=Fr.name.toLowerCase();Fr.value.match(_y)?Xu.hasOwnProperty(Wo)&&iy(x,Fr.value,en,Fr.name,0,Tl[Wo]?qu:null):DC(m,en,Fr)}it=Mb(n,r,l,h,m,E,x,xt,en,ce,Oe+1)|it,Ib(E,en,Oe)}break;case Node.TEXT_NODE:const li=xt.textContent||"",vi=li.match(_y);ky(m,null,vi?"":li,Y,en),Ib(E,en,Oe),vi&&(it=iy(x,li,en,null,0,null)|it);break;case Node.COMMENT_NODE:const Gi=lC.exec(xt.textContent||"");if(Gi){const Pi=ce[parseInt(Gi[1],10)];ky(m,_t,"",Y,en),Sb(n,l,h,Y,Pi,en),CC(E,en,Oe)}}xt=xt.nextSibling}return it}function Ib(n,r,l){0===l&&n.push(r)}function CC(n,r,l){0===l&&(n.push(~r),n.push(r))}function ky(n,r,l,h,m){null!==r&&n.push(r),n.push(l,m,function pi(n,r,l){return n|r<<17|l<<1}(0,h,m))}function DC(n,r,l){n.push(r<<1|1,l.name,l.value)}function Ry(n,r,l=-1){const h=Ii(),m=Sn(),E=22+n,x=Zs(h.consts,r),V=Q();h.firstCreatePass&&function fC(n,r,l,h,m,E){const x=Q(),V=[],Y=[],ce=[[]];m=function vC(n,r){if(function _C(n){return-1===n}(r))return Tb(n);{const l=n.indexOf(`:${r}\ufffd`)+2+r.toString().length,h=n.search(new RegExp(`\ufffd\\/\\*\\d+:${r}\ufffd`));return Tb(n.substring(l,h))}}(m,E);const Oe=function hC(n){return n.replace(dC," ")}(m).split(uC);for(let it=0;it<Oe.length;it++){let xt=Oe[it];if(0==(1&it)){const en=Ay(xt);for(let xn=0;xn<en.length;xn++){let Yn=en[xn];if(0==(1&xn)){const li=Yn;""!==li&&pC(n,x,ce[0],V,Y,l,li)}else{const li=Yn;if("object"!=typeof li)throw new Error(`Unable to parse ICU expression in "${m}" message.`);Sb(n,l,Y,r,li,Eb(n,x,ce[0],l,V,"",!0).index)}}}else{const en=47===xt.charCodeAt(0),Yn=(xt.charCodeAt(en?1:0),22+Number.parseInt(xt.substring(en?2:1)));if(en)ce.shift(),$(Q(),!1);else{const li=bt(n,ce[0],Yn);ce.unshift([]),$(li,!0)}}}n.data[h]={create:V,update:Y}}(h,null===V?0:V.index,m,E,x,l);const Y=h.data[E],Oe=Ef(h,V===m[6]?null:V,m);(function ki(n,r,l,h){const m=n[11];for(let E=0;E<r.length;E++){const x=r[E++],V=r[E],Y=(x&wt.COMMENT)===wt.COMMENT,ce=(x&wt.APPEND_EAGERLY)===wt.APPEND_EAGERLY,Oe=x>>>wt.SHIFT;let it=n[Oe];null===it&&(it=n[Oe]=Y?m.createComment(V):Ys(m,V)),ce&&null!==l&&uc(m,l,it,h,!1)}})(m,Y.create,Oe,V&&8&V.type?m[V.index]:null),Ba(!0)}function Oy(){Ba(!1)}function Ab(n,r,l){Ry(n,r,l),Oy()}function Py(n){return function ti(n){n&&(Hn|=1<<Math.min(ei,31)),ei++}(Ka(Sn(),er(),n)),Py}function kb(n){!function Mi(n,r,l){if(ei>0){const h=n.data[l];Gr(n,r,Array.isArray(h)?h:h.update,rs()-ei-1,Hn)}Hn=0,ei=0}(Ii(),Sn(),n+22)}function Ny(n,r,l,h,m){if(n=ye(n),Array.isArray(n))for(let E=0;E<n.length;E++)Ny(n[E],r,l,h,m);else{const E=Ii(),x=Sn();let V=Sl(n)?n:ye(n.provide),Y=Ml(n);const ce=Hr(),Oe=1048575&ce.providerIndexes,it=ce.directiveStart,xt=ce.providerIndexes>>20;if(Sl(n)||!n.multi){const en=new tr(Y,m,Jd),xn=Fy(V,r,m?Oe:Oe+xt,it);-1===xn?(Ar(Uo(ce,x),E,V),Ly(E,n,r.length),r.push(V),ce.directiveStart++,ce.directiveEnd++,m&&(ce.providerIndexes+=1048576),l.push(en),x.push(en)):(l[xn]=en,x[xn]=en)}else{const en=Fy(V,r,Oe+xt,it),xn=Fy(V,r,Oe,Oe+xt),Yn=en>=0&&l[en],li=xn>=0&&l[xn];if(m&&!li||!m&&!Yn){Ar(Uo(ce,x),E,V);const vi=function BC(n,r,l,h,m){const E=new tr(n,l,Jd);return E.multi=[],E.index=r,E.componentProviders=0,Rb(E,m,h&&!l),E}(m?FC:LC,l.length,m,h,Y);!m&&li&&(l[xn].providerFactory=vi),Ly(E,n,r.length,0),r.push(V),ce.directiveStart++,ce.directiveEnd++,m&&(ce.providerIndexes+=1048576),l.push(vi),x.push(vi)}else Ly(E,n,en>-1?en:xn,Rb(l[m?xn:en],Y,!m&&h));!m&&h&&li&&l[xn].componentProviders++}}}function Ly(n,r,l,h){const m=Sl(r),E=function eo(n){return!!n.useClass}(r);if(m||E){const Y=(E?ye(r.useClass):r).prototype.ngOnDestroy;if(Y){const ce=n.destroyHooks||(n.destroyHooks=[]);if(!m&&r.multi){const Oe=ce.indexOf(l);-1===Oe?ce.push(l,[h,Y]):ce[Oe+1].push(h,Y)}else ce.push(l,Y)}}}function Rb(n,r,l){return l&&n.componentProviders++,n.multi.push(r)-1}function Fy(n,r,l,h){for(let m=l;m<h;m++)if(r[m]===n)return m;return-1}function LC(n,r,l,h){return By(this.multi,[])}function FC(n,r,l,h){const m=this.multi;let E;if(this.providerFactory){const x=this.providerFactory.componentProviders,V=yl(l,l[1],this.providerFactory.index,h);E=V.slice(0,x),By(m,E);for(let Y=x;Y<V.length;Y++)E.push(V[Y])}else E=[],By(m,E);return E}function By(n,r){for(let l=0;l<n.length;l++)r.push((0,n[l])());return r}function Ob(n,r=[]){return l=>{l.providersResolver=(h,m)=>function NC(n,r,l){const h=Ii();if(h.firstCreatePass){const m=Yi(n);Ny(l,h.data,h.blueprint,m,!0),Ny(r,h.data,h.blueprint,m,!1)}}(h,m?m(n):n,r)}}class xv{}class Pb{}function VC(n,r){return new Nb(n,r??null)}class Nb extends xv{constructor(r,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new oh(this);const h=dn(r);this._bootstrapComponents=zs(h.bootstrap),this._r3Injector=w(r,l,[{provide:xv,useValue:this},{provide:Fd,useValue:this.componentFactoryResolver}],fe(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Vy extends Pb{constructor(r){super(),this.moduleType=r}create(r){return new Nb(this.moduleType,r)}}class UC extends xv{constructor(r,l,h){super(),this.componentFactoryResolver=new oh(this),this.instance=null;const m=new Mh([...r,{provide:xv,useValue:this},{provide:Fd,useValue:this.componentFactoryResolver}],l||td(),h,new Set(["environment"]));this.injector=m,m.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Uy(n,r,l=null){return new UC(n,r,l).injector}let HC=(()=>{class n{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const h=ed(0,l.type),m=h.length>0?Uy([h],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,m)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Fe({token:n,providedIn:"environment",factory:()=>new n(lt(Cu))}),n})();function Lb(n){n.getStandaloneInjector=r=>r.get(HC).getOrCreateStandaloneInjector(n)}function $b(n,r,l,h){return Gb(Sn(),gr(),n,r,l,h)}function Gb(n,r,l,h,m,E){const x=r+l;return Ka(n,x,m)?function Vu(n,r,l){return n[r]=l}(n,x+1,E?h.call(E,m):h(m)):function ry(n,r){const l=n[r];return l===Oi?void 0:l}(n,x+1)}function Zb(n,r){const l=Ii();let h;const m=n+22;l.firstCreatePass?(h=function sw(n,r){if(r)for(let l=r.length-1;l>=0;l--){const h=r[l];if(n===h.name)return h}}(r,l.pipeRegistry),l.data[m]=h,h.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(m,h.onDestroy)):h=l.data[m];const E=h.factory||(h.factory=Oo(h.type)),x=Le(Jd);try{const V=Vo(!1),Y=E();return Vo(V),function d_(n,r,l,h){l>=n.data.length&&(n.data[l]=null,n.blueprint[l]=null),r[l]=h}(l,Sn(),m,Y),Y}finally{Le(x)}}function qb(n,r,l){const h=n+22,m=Sn(),E=oa(m,h);return function sy(n,r){return n[1].data[r].pure}(m,h)?Gb(m,gr(),r,E.transform,l,E):E.transform(l)}function jy(n){return r=>{setTimeout(n,void 0,r)}}const ap=class uw extends p.xQ{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,l,h){let m=r,E=l||(()=>null),x=h;if(r&&"object"==typeof r){var V,Y,ce;const it=r;m=null===(V=it.next)||void 0===V?void 0:V.bind(it),E=null===(Y=it.error)||void 0===Y?void 0:Y.bind(it),x=null===(ce=it.complete)||void 0===ce?void 0:ce.bind(it)}this.__isAsync&&(E=jy(E),m&&(m=jy(m)),x&&(x=jy(x)));const Oe=super.subscribe({next:m,error:E,complete:x});return r instanceof N.w&&r.add(Oe),Oe}};function dw(){return this._results[bd()]()}class vy{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=bd(),h=vy.prototype;h[l]||(h[l]=dw)}get changes(){return this._changes||(this._changes=new ap)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,l){return this._results.reduce(r,l)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,l){const h=this;h.dirty=!1;const m=To(r);(this._changesDetected=!function Sa(n,r,l){if(n.length!==r.length)return!1;for(let h=0;h<n.length;h++){let m=n[h],E=r[h];if(l&&(m=l(m),E=l(E)),E!==m)return!1}return!0}(h._results,m,l))&&(h._results=m,h.length=m.length,h.last=m[this.length-1],h.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let oy=(()=>{class n{}return n.__NG_ELEMENT_ID__=pw,n})();const hw=oy,fw=class extends hw{constructor(r,l,h){super(),this._declarationLView=r,this._declarationTContainer=l,this.elementRef=h}createEmbeddedView(r,l){const h=this._declarationTContainer.tViews,m=Kl(this._declarationLView,h,r,16,null,h.declTNode,null,null,null,null,l||null);m[17]=this._declarationLView[this._declarationTContainer.index];const x=this._declarationLView[19];return null!==x&&(m[19]=x.createEmbeddedView(h)),Hf(h,m,r),new Fu(m)}};function pw(){return yy(Hr(),Sn())}function yy(n,r){return 4&n.type?new fw(r,n,Du(n,r)):null}let by=(()=>{class n{}return n.__NG_ELEMENT_ID__=mw,n})();function mw(){return Jb(Hr(),Sn())}const gw=by,Qb=class extends gw{constructor(r,l,h){super(),this._lContainer=r,this._hostTNode=l,this._hostLView=h}get element(){return Du(this._hostTNode,this._hostLView)}get injector(){return new Si(this._hostTNode,this._hostLView)}get parentInjector(){const r=Mn(this._hostTNode,this._hostLView);if(lu(r)){const l=Bo(r,this._hostLView),h=nr(r);return new Si(l[1].data[h+8],l)}return new Si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const l=Xb(this._lContainer);return null!==l&&l[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,l,h){let m,E;"number"==typeof h?m=h:null!=h&&(m=h.index,E=h.injector);const x=r.createEmbeddedView(l||{},E);return this.insert(x,m),x}createComponent(r,l,h,m,E){const x=r&&!function kc(n){return"function"==typeof n}(r);let V;if(x)V=l;else{const it=l||{};V=it.index,h=it.injector,m=it.projectableNodes,E=it.environmentInjector||it.ngModuleRef}const Y=x?r:new yd(K(r)),ce=h||this.parentInjector;if(!E&&null==Y.ngModule){const xt=(x?ce:this.parentInjector).get(Cu,null);xt&&(E=xt)}const Oe=Y.create(ce,m,void 0,E);return this.insert(Oe.hostView,V),Oe}insert(r,l){const h=r._lView,m=h[1];if(function Ko(n){return Dr(n[3])}(h)){const Oe=this.indexOf(r);if(-1!==Oe)this.detach(Oe);else{const it=h[3],xt=new Qb(it,it[6],it[3]);xt.detach(xt.indexOf(r))}}const E=this._adjustIndex(l),x=this._lContainer;!function Ep(n,r,l,h){const m=10+h,E=l.length;h>0&&(l[m-1][4]=r),h<E-10?(r[4]=l[m],ec(l,10+h,r)):(l.push(r),r[4]=null),r[3]=l;const x=r[17];null!==x&&l!==x&&function Dm(n,r){const l=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===l?n[9]=[r]:l.push(r)}(x,r);const V=r[19];null!==V&&V.insertView(n),r[2]|=64}(m,h,x,E);const V=Yc(E,x),Y=h[11],ce=ld(Y,x[7]);return null!==ce&&function Gc(n,r,l,h,m,E){h[0]=m,h[6]=r,Df(n,h,l,1,m,E)}(m,x[6],Y,h,ce,V),r.attachToViewContainerRef(),ec($y(x),E,r),r}move(r,l){return this.insert(r,l)}indexOf(r){const l=Xb(this._lContainer);return null!==l?l.indexOf(r):-1}remove(r){const l=this._adjustIndex(r,-1),h=wf(this._lContainer,l);h&&(fo($y(this._lContainer),l),Dp(h[1],h))}detach(r){const l=this._adjustIndex(r,-1),h=wf(this._lContainer,l);return h&&null!=fo($y(this._lContainer),l)?new Fu(h):null}_adjustIndex(r,l=0){return r??this.length+l}};function Xb(n){return n[8]}function $y(n){return n[8]||(n[8]=[])}function Jb(n,r){let l;const h=r[n.index];if(Dr(h))l=h;else{let m;if(8&n.type)m=pr(h);else{const E=r[11];m=E.createComment("");const x=Ur(n,r);uc(E,ld(E,x),m,function Zi(n,r){return n.nextSibling(r)}(E,x),!1)}r[n.index]=l=Wm(h,r,m,n),Wf(r,l)}return new Qb(l,n,r)}class Gy{constructor(r){this.queryList=r,this.matches=null}clone(){return new Gy(this.queryList)}setDirty(){this.queryList.setDirty()}}class zy{constructor(r=[]){this.queries=r}createEmbeddedView(r){const l=r.queries;if(null!==l){const h=null!==r.contentQueries?r.contentQueries[0]:l.length,m=[];for(let E=0;E<h;E++){const x=l.getByIndex(E);m.push(this.queries[x.indexInDeclarationView].clone())}return new zy(m)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let l=0;l<this.queries.length;l++)null!==c0(r,l).matches&&this.queries[l].setDirty()}}class e0{constructor(r,l,h=null){this.predicate=r,this.flags=l,this.read=h}}class Wy{constructor(r=[]){this.queries=r}elementStart(r,l){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(r,l)}elementEnd(r){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(r)}embeddedTView(r){let l=null;for(let h=0;h<this.length;h++){const m=null!==l?l.length:0,E=this.getByIndex(h).embeddedTView(r,m);E&&(E.indexInDeclarationView=h,null!==l?l.push(E):l=[E])}return null!==l?new Wy(l):null}template(r,l){for(let h=0;h<this.queries.length;h++)this.queries[h].template(r,l)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Yy{constructor(r,l=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(r,l){this.isApplyingToNode(l)&&this.matchTNode(r,l)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,l){this.elementStart(r,l)}embeddedTView(r,l){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,l),new Yy(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let h=r.parent;for(;null!==h&&8&h.type&&h.index!==l;)h=h.parent;return l===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(r,l){const h=this.metadata.predicate;if(Array.isArray(h))for(let m=0;m<h.length;m++){const E=h[m];this.matchTNodeWithReadOption(r,l,yw(l,E)),this.matchTNodeWithReadOption(r,l,nl(l,r,E,!1,!1))}else h===oy?4&l.type&&this.matchTNodeWithReadOption(r,l,-1):this.matchTNodeWithReadOption(r,l,nl(l,r,h,!1,!1))}matchTNodeWithReadOption(r,l,h){if(null!==h){const m=this.metadata.read;if(null!==m)if(m===pf||m===by||m===oy&&4&l.type)this.addMatch(l.index,-2);else{const E=nl(l,r,m,!1,!1);null!==E&&this.addMatch(l.index,E)}else this.addMatch(l.index,h)}}addMatch(r,l){null===this.matches?this.matches=[r,l]:this.matches.push(r,l)}}function yw(n,r){const l=n.localNames;if(null!==l)for(let h=0;h<l.length;h+=2)if(l[h]===r)return l[h+1];return null}function Cw(n,r,l,h){return-1===l?function bw(n,r){return 11&n.type?Du(n,r):4&n.type?yy(n,r):null}(r,n):-2===l?function ww(n,r,l){return l===pf?Du(r,n):l===oy?yy(r,n):l===by?Jb(r,n):void 0}(n,r,h):yl(n,n[1],l,r)}function t0(n,r,l,h){const m=r[19].queries[h];if(null===m.matches){const E=n.data,x=l.matches,V=[];for(let Y=0;Y<x.length;Y+=2){const ce=x[Y];V.push(ce<0?null:Cw(r,E[ce],x[Y+1],l.metadata.read))}m.matches=V}return m.matches}function Ky(n,r,l,h){const m=n.queries.getByIndex(l),E=m.matches;if(null!==E){const x=t0(n,r,m,l);for(let V=0;V<E.length;V+=2){const Y=E[V];if(Y>0)h.push(x[V/2]);else{const ce=E[V+1],Oe=r[-Y];for(let it=10;it<Oe.length;it++){const xt=Oe[it];xt[17]===xt[3]&&Ky(xt[1],xt,ce,h)}if(null!==Oe[9]){const it=Oe[9];for(let xt=0;xt<it.length;xt++){const en=it[xt];Ky(en[1],en,ce,h)}}}}}return h}function n0(n){const r=Sn(),l=Ii(),h=Lo();Xa(h+1);const m=c0(l,h);if(n.dirty&&function Co(n){return 4==(4&n[2])}(r)===(2==(2&m.metadata.flags))){if(null===m.matches)n.reset([]);else{const E=m.crossesNgTemplate?Ky(l,r,h,[]):t0(l,r,m,h);n.reset(E,mf),n.notifyOnChanges()}return!0}return!1}function r0(n,r,l){const h=Ii();h.firstCreatePass&&(l0(h,new e0(n,r,l),-1),2==(2&r)&&(h.staticViewQueries=!0)),a0(h,Sn(),r)}function s0(n,r,l,h){const m=Ii();if(m.firstCreatePass){const E=Hr();l0(m,new e0(r,l,h),E.index),function Dw(n,r){const l=n.contentQueries||(n.contentQueries=[]);r!==(l.length?l[l.length-1]:-1)&&l.push(n.queries.length-1,r)}(m,n),2==(2&l)&&(m.staticContentQueries=!0)}a0(m,Sn(),l)}function o0(){return function Ew(n,r){return n[19].queries[r].queryList}(Sn(),Lo())}function a0(n,r,l){const h=new vy(4==(4&l));Kg(n,r,h,h.destroy),null===r[19]&&(r[19]=new zy),r[19].queries.push(new Gy(h))}function l0(n,r,l){null===n.queries&&(n.queries=new Wy),n.queries.track(new Yy(r,l))}function c0(n,r){return n.queries.getByIndex(r)}function wy(...n){}const I0=new ji("Application Initializer");let Ey=(()=>{class n{constructor(l){this.appInits=l,this.resolve=wy,this.reject=wy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,m)=>{this.resolve=h,this.reject=m})}runInitializers(){if(this.initialized)return;const l=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const E=this.appInits[m]();if(f_(E))l.push(E);else if(ig(E)){const x=new Promise((V,Y)=>{E.subscribe({complete:V,error:Y})});l.push(x)}}Promise.all(l).then(()=>{h()}).catch(m=>{this.reject(m)}),0===l.length&&h(),this.initialized=!0}}return n.\u0275fac=function(l){return new(l||n)(lt(I0,8))},n.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const x0=new ji("AppId",{providedIn:"root",factory:function A0(){return`${Jy()}${Jy()}${Jy()}`}});function Jy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const k0=new ji("Platform Initializer"),zw=new ji("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),R0=new ji("appBootstrapListener"),Ww=new ji("AnimationModuleType");let Yw=(()=>{class n{log(l){console.log(l)}warn(l){console.warn(l)}}return n.\u0275fac=function(l){return new(l||n)},n.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Dy=new ji("LocaleId",{providedIn:"root",factory:()=>ln(Dy,gt.Optional|gt.SkipSelf)||function Kw(){return typeof $localize<"u"&&$localize.locale||z}()}),Zw=new ji("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class qw{constructor(r,l){this.ngModuleFactory=r,this.componentFactories=l}}let Qw=(()=>{class n{compileModuleSync(l){return new Vy(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const h=this.compileModuleSync(l),E=zs(dn(l).declarations).reduce((x,V)=>{const Y=K(V);return Y&&x.push(new yd(Y)),x},[]);return new qw(h,E)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return n.\u0275fac=function(l){return new(l||n)},n.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eE=(()=>Promise.resolve(0))();function eb(n){typeof Zone>"u"?eE.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class gh{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ap(!1),this.onMicrotaskEmpty=new ap(!1),this.onStable=new ap(!1),this.onError=new ap(!1),typeof Zone>"u")throw new ut(908,!1);Zone.assertZonePatched();const m=this;if(m._nesting=0,m._outer=m._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const E=Zone.AsyncStackTaggingZoneSpec;m._inner=m._inner.fork(new E("Angular"))}Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!h&&l,m.shouldCoalesceRunChangeDetection=h,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function tE(){let n=Fn.requestAnimationFrame,r=Fn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const l=n[Zone.__symbol__("OriginalDelegate")];l&&(n=l);const h=r[Zone.__symbol__("OriginalDelegate")];h&&(r=h)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function rE(n){const r=()=>{!function iE(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Fn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,nb(n),n.isCheckStableRunning=!0,tb(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),nb(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,h,m,E,x,V)=>{try{return N0(n),l.invokeTask(m,E,x,V)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===E.type||n.shouldCoalesceRunChangeDetection)&&r(),L0(n)}},onInvoke:(l,h,m,E,x,V,Y)=>{try{return N0(n),l.invoke(m,E,x,V,Y)}finally{n.shouldCoalesceRunChangeDetection&&r(),L0(n)}},onHasTask:(l,h,m,E)=>{l.hasTask(m,E),h===m&&("microTask"==E.change?(n._hasPendingMicrotasks=E.microTask,nb(n),tb(n)):"macroTask"==E.change&&(n.hasPendingMacrotasks=E.macroTask))},onHandleError:(l,h,m,E)=>(l.handleError(m,E),n.runOutsideAngular(()=>n.onError.emit(E)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gh.isInAngularZone())throw new ut(909,!1)}static assertNotInAngularZone(){if(gh.isInAngularZone())throw new ut(909,!1)}run(r,l,h){return this._inner.run(r,l,h)}runTask(r,l,h,m){const E=this._inner,x=E.scheduleEventTask("NgZoneEvent: "+m,r,nE,wy,wy);try{return E.runTask(x,l,h)}finally{E.cancelTask(x)}}runGuarded(r,l,h){return this._inner.runGuarded(r,l,h)}runOutsideAngular(r){return this._outer.run(r)}}const nE={};function tb(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function nb(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function N0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function L0(n){n._nesting--,tb(n)}class sE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ap,this.onMicrotaskEmpty=new ap,this.onStable=new ap,this.onError=new ap}run(r,l,h){return r.apply(l,h)}runGuarded(r,l,h){return r.apply(l,h)}runOutsideAngular(r){return r()}runTask(r,l,h,m){return r.apply(l,h)}}const F0=new ji(""),B0=new ji("");let ib,oE=(()=>{class n{constructor(l,h,m){this._ngZone=l,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ib||(function aE(n){ib=n}(m),m.addToWindow(h)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gh.assertNotInAngularZone(),eb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())eb(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(l)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,h,m){let E=-1;h&&h>0&&(E=setTimeout(()=>{this._callbacks=this._callbacks.filter(x=>x.timeoutId!==E),l(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:l,timeoutId:E,updateCb:m})}whenStable(l,h,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,h,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,h,m){return[]}}return n.\u0275fac=function(l){return new(l||n)(lt(gh),lt(V0),lt(B0))},n.\u0275prov=Fe({token:n,factory:n.\u0275fac}),n})(),V0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(l,h){this._applications.set(l,h)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,h=!0){var m,E;return null!==(m=null===(E=ib)||void 0===E?void 0:E.findTestabilityInTree(this,l,h))&&void 0!==m?m:null}}return n.\u0275fac=function(l){return new(l||n)},n.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),vg=null;const U0=new ji("AllowMultipleToken"),rb=new ji("PlatformDestroyListeners");class uE{constructor(r,l){this.name=r,this.token=l}}function j0(n,r,l=[]){const h=`Platform: ${r}`,m=new ji(h);return(E=[])=>{let x=sb();if(!x||x.injector.get(U0,!1)){const V=[...l,...E,{provide:m,useValue:!0}];n?n(V):function dE(n){if(vg&&!vg.get(U0,!1))throw new ut(400,!1);vg=n;const r=n.get(G0);(function H0(n){const r=n.get(k0,null);r&&r.forEach(l=>l())})(n)}(function $0(n=[],r){return S.create({name:r,providers:[{provide:Th,useValue:"platform"},{provide:rb,useValue:new Set([()=>vg=null])},...n]})}(V,h))}return function fE(n){const r=sb();if(!r)throw new ut(401,!1);return r}()}}function sb(){var n,r;return null!==(n=null===(r=vg)||void 0===r?void 0:r.get(G0))&&void 0!==n?n:null}let G0=(()=>{class n{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,h){const m=function W0(n,r){let l;return l="noop"===n?new sE:("zone.js"===n?void 0:n)||new gh(r),l}(h?.ngZone,function z0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(h)),E=[{provide:gh,useValue:m}];return m.run(()=>{const x=S.create({providers:E,parent:this.injector,name:l.moduleType.name}),V=l.create(x),Y=V.injector.get(oc,null);if(!Y)throw new ut(402,!1);return m.runOutsideAngular(()=>{const ce=m.onError.subscribe({next:Oe=>{Y.handleError(Oe)}});V.onDestroy(()=>{Sy(this._modules,V),ce.unsubscribe()})}),function Y0(n,r,l){try{const h=l();return f_(h)?h.catch(m=>{throw r.runOutsideAngular(()=>n.handleError(m)),m}):h}catch(h){throw r.runOutsideAngular(()=>n.handleError(h)),h}}(Y,m,()=>{const ce=V.injector.get(Ey);return ce.runInitializers(),ce.donePromise.then(()=>(wn(V.injector.get(Dy,z)||z),this._moduleDoBootstrap(V),V))})})}bootstrapModule(l,h=[]){const m=K0({},h);return function lE(n,r,l){const h=new Vy(l);return Promise.resolve(h)}(0,0,l).then(E=>this.bootstrapModuleFactory(E,m))}_moduleDoBootstrap(l){const h=l.injector.get(Ty);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(m=>h.bootstrap(m));else{if(!l.instance.ngDoBootstrap)throw new ut(403,!1);l.instance.ngDoBootstrap(h)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ut(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const l=this._injector.get(rb,null);l&&(l.forEach(h=>h()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(l){return new(l||n)(lt(S))},n.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function K0(n,r){return Array.isArray(r)?r.reduce(K0,n):{...n,...r}}let Ty=(()=>{class n{constructor(l,h,m){this._zone=l,this._injector=h,this._exceptionHandler=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new _.y(V=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{V.next(this._stable),V.complete()})}),x=new _.y(V=>{let Y;this._zone.runOutsideAngular(()=>{Y=this._zone.onStable.subscribe(()=>{gh.assertNotInAngularZone(),eb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,V.next(!0))})})});const ce=this._zone.onUnstable.subscribe(()=>{gh.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{V.next(!1)}))});return()=>{Y.unsubscribe(),ce.unsubscribe()}});this.isStable=(0,ne.T)(E,x.pipe((0,C.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,h){const m=l instanceof fm;if(!this._injector.get(Ey).done)throw!m&&Et(l),new ut(405,false);let x;x=m?l:this._injector.get(Fd).resolveComponentFactory(l),this.componentTypes.push(x.componentType);const V=function cE(n){return n.isBoundToModule}(x)?void 0:this._injector.get(xv),ce=x.create(S.NULL,[],h||x.selector,V),Oe=ce.location.nativeElement,it=ce.injector.get(F0,null);return it?.registerApplication(Oe),ce.onDestroy(()=>{this.detachView(ce.hostView),Sy(this.components,ce),it?.unregisterApplication(Oe)}),this._loadComponent(ce),ce}tick(){if(this._runningTick)throw new ut(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const h=l;this._views.push(h),h.attachToAppRef(this)}detachView(l){const h=l;Sy(this._views,h),h.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(R0,[]).concat(this._bootstrapListeners).forEach(m=>m(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Sy(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new ut(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(l){return new(l||n)(lt(gh),lt(Cu),lt(oc))},n.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Sy(n,r){const l=n.indexOf(r);l>-1&&n.splice(l,1)}let q0=!0,Q0=!1;function mE(){return Q0=!0,q0}function gE(){if(Q0)throw new Error("Cannot enable prod mode after platform setup.");q0=!1}let _E=(()=>{class n{}return n.__NG_ELEMENT_ID__=vE,n})();function vE(n){return function yE(n,r,l){if(as(n)&&!l){const h=Ki(n.index,r);return new Fu(h,h)}return 47&n.type?new Fu(r[16],r):null}(Hr(),Sn(),16==(16&n))}class tC{constructor(){}supports(r){return ah(r)}create(r){return new TE(r)}}const DE=(n,r)=>r;class TE{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||DE}forEachItem(r){let l;for(l=this._itHead;null!==l;l=l._next)r(l)}forEachOperation(r){let l=this._itHead,h=this._removalsHead,m=0,E=null;for(;l||h;){const x=!h||l&&l.currentIndex<iC(h,m,E)?l:h,V=iC(x,m,E),Y=x.currentIndex;if(x===h)m--,h=h._nextRemoved;else if(l=l._next,null==x.previousIndex)m++;else{E||(E=[]);const ce=V-m,Oe=Y-m;if(ce!=Oe){for(let xt=0;xt<ce;xt++){const en=xt<E.length?E[xt]:E[xt]=0,xn=en+xt;Oe<=xn&&xn<ce&&(E[xt]=en+1)}E[x.previousIndex]=Oe-ce}}V!==Y&&r(x,V,Y)}}forEachPreviousItem(r){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)r(l)}forEachAddedItem(r){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)r(l)}forEachMovedItem(r){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)r(l)}forEachRemovedItem(r){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)r(l)}forEachIdentityChange(r){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)r(l)}diff(r){if(null==r&&(r=[]),!ah(r))throw new ut(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let m,E,x,l=this._itHead,h=!1;if(Array.isArray(r)){this.length=r.length;for(let V=0;V<this.length;V++)E=r[V],x=this._trackByFn(V,E),null!==l&&Object.is(l.trackById,x)?(h&&(l=this._verifyReinsertion(l,E,x,V)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,x,V),h=!0),l=l._next}else m=0,function Xm(n,r){if(Array.isArray(n))for(let l=0;l<n.length;l++)r(n[l]);else{const l=n[bd()]();let h;for(;!(h=l.next()).done;)r(h.value)}}(r,V=>{x=this._trackByFn(m,V),null!==l&&Object.is(l.trackById,x)?(h&&(l=this._verifyReinsertion(l,V,x,m)),Object.is(l.item,V)||this._addIdentityChange(l,V)):(l=this._mismatch(l,V,x,m),h=!0),l=l._next,m++}),this.length=m;return this._truncate(l),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,l,h,m){let E;return null===r?E=this._itTail:(E=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(r.item,l)||this._addIdentityChange(r,l),this._reinsertAfter(r,E,m)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(h,m))?(Object.is(r.item,l)||this._addIdentityChange(r,l),this._moveAfter(r,E,m)):r=this._addAfter(new SE(l,h),E,m),r}_verifyReinsertion(r,l,h,m){let E=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==E?r=this._reinsertAfter(E,r._prev,m):r.currentIndex!=m&&(r.currentIndex=m,this._addToMoves(r,m)),r}_truncate(r){for(;null!==r;){const l=r._next;this._addToRemovals(this._unlink(r)),r=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,l,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const m=r._prevRemoved,E=r._nextRemoved;return null===m?this._removalsHead=E:m._nextRemoved=E,null===E?this._removalsTail=m:E._prevRemoved=m,this._insertAfter(r,l,h),this._addToMoves(r,h),r}_moveAfter(r,l,h){return this._unlink(r),this._insertAfter(r,l,h),this._addToMoves(r,h),r}_addAfter(r,l,h){return this._insertAfter(r,l,h),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,l,h){const m=null===l?this._itHead:l._next;return r._next=m,r._prev=l,null===m?this._itTail=r:m._prev=r,null===l?this._itHead=r:l._next=r,null===this._linkedRecords&&(this._linkedRecords=new nC),this._linkedRecords.put(r),r.currentIndex=h,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const l=r._prev,h=r._next;return null===l?this._itHead=h:l._next=h,null===h?this._itTail=l:h._prev=l,r}_addToMoves(r,l){return r.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nC),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,l){return r.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class SE{constructor(r,l){this.item=r,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ME{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,l){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===l||l<=h.currentIndex)&&Object.is(h.trackById,r))return h;return null}remove(r){const l=r._prevDup,h=r._nextDup;return null===l?this._head=h:l._nextDup=h,null===h?this._tail=l:h._prevDup=l,null===this._head}}class nC{constructor(){this.map=new Map}put(r){const l=r.trackById;let h=this.map.get(l);h||(h=new ME,this.map.set(l,h)),h.add(r)}get(r,l){const m=this.map.get(r);return m?m.get(r,l):null}remove(r){const l=r.trackById;return this.map.get(l).remove(r)&&this.map.delete(l),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iC(n,r,l){const h=n.previousIndex;if(null===h)return h;let m=0;return l&&h<l.length&&(m=l[h]),h+r+m}class rC{constructor(){}supports(r){return r instanceof Map||o_(r)}create(){return new IE}}class IE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let l;for(l=this._mapHead;null!==l;l=l._next)r(l)}forEachPreviousItem(r){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)r(l)}forEachChangedItem(r){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)r(l)}forEachAddedItem(r){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)r(l)}forEachRemovedItem(r){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)r(l)}diff(r){if(r){if(!(r instanceof Map||o_(r)))throw new ut(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(r,(h,m)=>{if(l&&l.key===m)this._maybeAddToChanges(l,h),this._appendAfter=l,l=l._next;else{const E=this._getOrCreateRecordForKey(m,h);l=this._insertBeforeOrAppend(l,E)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let h=l;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,l){if(r){const h=r._prev;return l._next=r,l._prev=h,r._prev=l,h&&(h._next=l),r===this._mapHead&&(this._mapHead=l),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(r,l){if(this._records.has(r)){const m=this._records.get(r);this._maybeAddToChanges(m,l);const E=m._prev,x=m._next;return E&&(E._next=x),x&&(x._prev=E),m._next=null,m._prev=null,m}const h=new xE(r);return this._records.set(r,h),h.currentValue=l,this._addToAdditions(h),h}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,l){Object.is(l,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=l,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,l){r instanceof Map?r.forEach(l):Object.keys(r).forEach(h=>l(r[h],h))}}class xE{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sC(){return new ub([new tC])}let ub=(()=>{class n{constructor(l){this.factories=l}static create(l,h){if(null!=h){const m=h.factories.slice();l=l.concat(m)}return new n(l)}static extend(l){return{provide:n,useFactory:h=>n.create(l,h||sC()),deps:[[n,new Xo,new ms]]}}find(l){const h=this.factories.find(m=>m.supports(l));if(null!=h)return h;throw new ut(901,!1)}}return n.\u0275prov=Fe({token:n,providedIn:"root",factory:sC}),n})();function oC(){return new db([new rC])}let db=(()=>{class n{constructor(l){this.factories=l}static create(l,h){if(h){const m=h.factories.slice();l=l.concat(m)}return new n(l)}static extend(l){return{provide:n,useFactory:h=>n.create(l,h||oC()),deps:[[n,new Xo,new ms]]}}find(l){const h=this.factories.find(m=>m.supports(l));if(h)return h;throw new ut(901,!1)}}return n.\u0275prov=Fe({token:n,providedIn:"root",factory:oC}),n})();const RE=j0(null,"core",[]);let OE=(()=>{class n{constructor(l){}}return n.\u0275fac=function(l){return new(l||n)(lt(Ty))},n.\u0275mod=$t({type:n}),n.\u0275inj=St({}),n})();function PE(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},4006:(_n,vt,k)=>{"use strict";k.d(vt,{Cf:()=>mt,EJ:()=>fr,F:()=>Ds,Fj:()=>Ke,JJ:()=>gt,JL:()=>ee,JU:()=>fe,Kr:()=>ro,NI:()=>Vr,On:()=>no,Q7:()=>so,UX:()=>la,YN:()=>Ms,Zs:()=>vs,_Y:()=>Fa,a5:()=>En,cw:()=>K,kI:()=>kt,oH:()=>zr,qu:()=>Ii,sg:()=>Ss,u:()=>Po,u5:()=>pl});var p=k(4650),N=k(6895),_=k(5254),ne=k(567),C=k(4850);let J=(()=>{class se{constructor($,xe){this._renderer=$,this._elementRef=xe,this.onChange=nn=>{},this.onTouched=()=>{}}setProperty($,xe){this._renderer.setProperty(this._elementRef.nativeElement,$,xe)}registerOnTouched($){this.onTouched=$}registerOnChange($){this.onChange=$}setDisabledState($){this.setProperty("disabled",$)}}return se.\u0275fac=function($){return new($||se)(p.Y36(p.Qsj),p.Y36(p.SBq))},se.\u0275dir=p.lG2({type:se}),se})(),we=(()=>{class se extends J{}return se.\u0275fac=function(){let Q;return function(xe){return(Q||(Q=p.n5z(se)))(xe||se)}}(),se.\u0275dir=p.lG2({type:se,features:[p.qOj]}),se})();const fe=new p.OlP("NgValueAccessor"),me={provide:fe,useExisting:(0,p.Gpc)(()=>Ke),multi:!0},Pe=new p.OlP("CompositionEventMode");let Ke=(()=>{class se extends J{constructor($,xe,nn){super($,xe),this._compositionMode=nn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ye(){const se=(0,N.q)()?(0,N.q)().getUserAgent():"";return/android (\d+)/.test(se.toLowerCase())}())}writeValue($){this.setProperty("value",$??"")}_handleInput($){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange($)}_compositionStart(){this._composing=!0}_compositionEnd($){this._composing=!1,this._compositionMode&&this.onChange($)}}return se.\u0275fac=function($){return new($||se)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Pe,8))},se.\u0275dir=p.lG2({type:se,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function($,xe){1&$&&p.NdJ("input",function(Jn){return xe._handleInput(Jn.target.value)})("blur",function(){return xe.onTouched()})("compositionstart",function(){return xe._compositionStart()})("compositionend",function(Jn){return xe._compositionEnd(Jn.target.value)})},features:[p._Bn([me]),p.qOj]}),se})();function je(se){return null==se||("string"==typeof se||Array.isArray(se))&&0===se.length}function ct(se){return null!=se&&"number"==typeof se.length}const mt=new p.OlP("NgValidators"),jt=new p.OlP("NgAsyncValidators"),ht=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class kt{static min(Q){return function yt(se){return Q=>{if(je(Q.value)||je(se))return null;const $=parseFloat(Q.value);return!isNaN($)&&$<se?{min:{min:se,actual:Q.value}}:null}}(Q)}static max(Q){return function et(se){return Q=>{if(je(Q.value)||je(se))return null;const $=parseFloat(Q.value);return!isNaN($)&&$>se?{max:{max:se,actual:Q.value}}:null}}(Q)}static required(Q){return Ve(Q)}static requiredTrue(Q){return pt(Q)}static email(Q){return function tt(se){return je(se.value)||ht.test(se.value)?null:{email:!0}}(Q)}static minLength(Q){return function Qe(se){return Q=>je(Q.value)||!ct(Q.value)?null:Q.value.length<se?{minlength:{requiredLength:se,actualLength:Q.value.length}}:null}(Q)}static maxLength(Q){return function Lt(se){return Q=>ct(Q.value)&&Q.value.length>se?{maxlength:{requiredLength:se,actualLength:Q.value.length}}:null}(Q)}static pattern(Q){return function We(se){if(!se)return Ot;let Q,$;return"string"==typeof se?($="","^"!==se.charAt(0)&&($+="^"),$+=se,"$"!==se.charAt(se.length-1)&&($+="$"),Q=new RegExp($)):($=se.toString(),Q=se),xe=>{if(je(xe.value))return null;const nn=xe.value;return Q.test(nn)?null:{pattern:{requiredPattern:$,actualValue:nn}}}}(Q)}static nullValidator(Q){return null}static compose(Q){return rn(Q)}static composeAsync(Q){return Re(Q)}}function Ve(se){return je(se.value)?{required:!0}:null}function pt(se){return!0===se.value?null:{required:!0}}function Ot(se){return null}function Vt(se){return null!=se}function bn(se){return(0,p.QGY)(se)?(0,_.D)(se):se}function qn(se){let Q={};return se.forEach($=>{Q=null!=$?{...Q,...$}:Q}),0===Object.keys(Q).length?null:Q}function jn(se,Q){return Q.map($=>$(se))}function Nn(se){return se.map(Q=>function oi(se){return!se.validate}(Q)?Q:$=>Q.validate($))}function rn(se){if(!se)return null;const Q=se.filter(Vt);return 0==Q.length?null:function($){return qn(jn($,Q))}}function gn(se){return null!=se?rn(Nn(se)):null}function Re(se){if(!se)return null;const Q=se.filter(Vt);return 0==Q.length?null:function($){const xe=jn($,Q).map(bn);return(0,ne.D)(xe).pipe((0,C.U)(qn))}}function Ue(se){return null!=se?Re(Nn(se)):null}function Fe(se,Q){return null===se?[Q]:Array.isArray(se)?[...se,Q]:[se,Q]}function Ze(se){return se._rawValidators}function St(se){return se._rawAsyncValidators}function tn(se){return se?Array.isArray(se)?se:[se]:[]}function Ln(se,Q){return Array.isArray(se)?se.includes(Q):se===Q}function It(se,Q){const $=tn(Q);return tn(se).forEach(nn=>{Ln($,nn)||$.push(nn)}),$}function qt(se,Q){return tn(Q).filter($=>!Ln(se,$))}class Mt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Q){this._rawValidators=Q||[],this._composedValidatorFn=gn(this._rawValidators)}_setAsyncValidators(Q){this._rawAsyncValidators=Q||[],this._composedAsyncValidatorFn=Ue(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Q){this._onDestroyCallbacks.push(Q)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Q=>Q()),this._onDestroyCallbacks=[]}reset(Q){this.control&&this.control.reset(Q)}hasError(Q,$){return!!this.control&&this.control.hasError(Q,$)}getError(Q,$){return this.control?this.control.getError(Q,$):null}}class Ht extends Mt{get formDirective(){return null}get path(){return null}}class En extends Mt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Gt{constructor(Q){this._cd=Q}get isTouched(){var Q,$;return!(null===(Q=this._cd)||void 0===Q||null===($=Q.control)||void 0===$||!$.touched)}get isUntouched(){var Q,$;return!(null===(Q=this._cd)||void 0===Q||null===($=Q.control)||void 0===$||!$.untouched)}get isPristine(){var Q,$;return!(null===(Q=this._cd)||void 0===Q||null===($=Q.control)||void 0===$||!$.pristine)}get isDirty(){var Q,$;return!(null===(Q=this._cd)||void 0===Q||null===($=Q.control)||void 0===$||!$.dirty)}get isValid(){var Q,$;return!(null===(Q=this._cd)||void 0===Q||null===($=Q.control)||void 0===$||!$.valid)}get isInvalid(){var Q,$;return!(null===(Q=this._cd)||void 0===Q||null===($=Q.control)||void 0===$||!$.invalid)}get isPending(){var Q,$;return!(null===(Q=this._cd)||void 0===Q||null===($=Q.control)||void 0===$||!$.pending)}get isSubmitted(){var Q;return!(null===(Q=this._cd)||void 0===Q||!Q.submitted)}}let gt=(()=>{class se extends Gt{constructor($){super($)}}return se.\u0275fac=function($){return new($||se)(p.Y36(En,2))},se.\u0275dir=p.lG2({type:se,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function($,xe){2&$&&p.ekj("ng-untouched",xe.isUntouched)("ng-touched",xe.isTouched)("ng-pristine",xe.isPristine)("ng-dirty",xe.isDirty)("ng-valid",xe.isValid)("ng-invalid",xe.isInvalid)("ng-pending",xe.isPending)},features:[p.qOj]}),se})(),ee=(()=>{class se extends Gt{constructor($){super($)}}return se.\u0275fac=function($){return new($||se)(p.Y36(Ht,10))},se.\u0275dir=p.lG2({type:se,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function($,xe){2&$&&p.ekj("ng-untouched",xe.isUntouched)("ng-touched",xe.isTouched)("ng-pristine",xe.isPristine)("ng-dirty",xe.isDirty)("ng-valid",xe.isValid)("ng-invalid",xe.isInvalid)("ng-pending",xe.isPending)("ng-submitted",xe.isSubmitted)},features:[p.qOj]}),se})();const ue="VALID",Nt="INVALID",zt="PENDING",st="DISABLED";function rt(se){return(ge(se)?se.validators:se)||null}function Je(se){return Array.isArray(se)?gn(se):se||null}function Tt(se,Q){return(ge(Q)?Q.asyncValidators:se)||null}function $t(se){return Array.isArray(se)?Ue(se):se||null}function ge(se){return null!=se&&!Array.isArray(se)&&"object"==typeof se}function j(se,Q,$){const xe=se.controls;if(!(Q?Object.keys(xe):xe).length)throw new p.vHH(1e3,"");if(!xe[$])throw new p.vHH(1001,"")}function G(se,Q,$){se._forEachChild((xe,nn)=>{if(void 0===$[nn])throw new p.vHH(1002,"")})}class X{constructor(Q,$){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=Q,this._rawAsyncValidators=$,this._composedValidatorFn=Je(this._rawValidators),this._composedAsyncValidatorFn=$t(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(Q){this._rawValidators=this._composedValidatorFn=Q}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Q){this._rawAsyncValidators=this._composedAsyncValidatorFn=Q}get parent(){return this._parent}get valid(){return this.status===ue}get invalid(){return this.status===Nt}get pending(){return this.status==zt}get disabled(){return this.status===st}get enabled(){return this.status!==st}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Q){this._rawValidators=Q,this._composedValidatorFn=Je(Q)}setAsyncValidators(Q){this._rawAsyncValidators=Q,this._composedAsyncValidatorFn=$t(Q)}addValidators(Q){this.setValidators(It(Q,this._rawValidators))}addAsyncValidators(Q){this.setAsyncValidators(It(Q,this._rawAsyncValidators))}removeValidators(Q){this.setValidators(qt(Q,this._rawValidators))}removeAsyncValidators(Q){this.setAsyncValidators(qt(Q,this._rawAsyncValidators))}hasValidator(Q){return Ln(this._rawValidators,Q)}hasAsyncValidator(Q){return Ln(this._rawAsyncValidators,Q)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Q={}){this.touched=!0,this._parent&&!Q.onlySelf&&this._parent.markAsTouched(Q)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Q=>Q.markAllAsTouched())}markAsUntouched(Q={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild($=>{$.markAsUntouched({onlySelf:!0})}),this._parent&&!Q.onlySelf&&this._parent._updateTouched(Q)}markAsDirty(Q={}){this.pristine=!1,this._parent&&!Q.onlySelf&&this._parent.markAsDirty(Q)}markAsPristine(Q={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild($=>{$.markAsPristine({onlySelf:!0})}),this._parent&&!Q.onlySelf&&this._parent._updatePristine(Q)}markAsPending(Q={}){this.status=zt,!1!==Q.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Q.onlySelf&&this._parent.markAsPending(Q)}disable(Q={}){const $=this._parentMarkedDirty(Q.onlySelf);this.status=st,this.errors=null,this._forEachChild(xe=>{xe.disable({...Q,onlySelf:!0})}),this._updateValue(),!1!==Q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Q,skipPristineCheck:$}),this._onDisabledChange.forEach(xe=>xe(!0))}enable(Q={}){const $=this._parentMarkedDirty(Q.onlySelf);this.status=ue,this._forEachChild(xe=>{xe.enable({...Q,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Q.emitEvent}),this._updateAncestors({...Q,skipPristineCheck:$}),this._onDisabledChange.forEach(xe=>xe(!1))}_updateAncestors(Q){this._parent&&!Q.onlySelf&&(this._parent.updateValueAndValidity(Q),Q.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Q){this._parent=Q}getRawValue(){return this.value}updateValueAndValidity(Q={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ue||this.status===zt)&&this._runAsyncValidator(Q.emitEvent)),!1!==Q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Q.onlySelf&&this._parent.updateValueAndValidity(Q)}_updateTreeValidity(Q={emitEvent:!0}){this._forEachChild($=>$._updateTreeValidity(Q)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Q.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?st:ue}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Q){if(this.asyncValidator){this.status=zt,this._hasOwnPendingAsyncValidator=!0;const $=bn(this.asyncValidator(this));this._asyncValidationSubscription=$.subscribe(xe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(xe,{emitEvent:Q})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Q,$={}){this.errors=Q,this._updateControlsErrors(!1!==$.emitEvent)}get(Q){let $=Q;return null==$||(Array.isArray($)||($=$.split(".")),0===$.length)?null:$.reduce((xe,nn)=>xe&&xe._find(nn),this)}getError(Q,$){const xe=$?this.get($):this;return xe&&xe.errors?xe.errors[Q]:null}hasError(Q,$){return!!this.getError(Q,$)}get root(){let Q=this;for(;Q._parent;)Q=Q._parent;return Q}_updateControlsErrors(Q){this.status=this._calculateStatus(),Q&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Q)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?st:this.errors?Nt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zt)?zt:this._anyControlsHaveStatus(Nt)?Nt:ue}_anyControlsHaveStatus(Q){return this._anyControls($=>$.status===Q)}_anyControlsDirty(){return this._anyControls(Q=>Q.dirty)}_anyControlsTouched(){return this._anyControls(Q=>Q.touched)}_updatePristine(Q={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Q.onlySelf&&this._parent._updatePristine(Q)}_updateTouched(Q={}){this.touched=this._anyControlsTouched(),this._parent&&!Q.onlySelf&&this._parent._updateTouched(Q)}_registerOnCollectionChange(Q){this._onCollectionChange=Q}_setUpdateStrategy(Q){ge(Q)&&null!=Q.updateOn&&(this._updateOn=Q.updateOn)}_parentMarkedDirty(Q){return!Q&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Q){return null}}class K extends X{constructor(Q,$,xe){super(rt($),Tt(xe,$)),this.controls=Q,this._initObservables(),this._setUpdateStrategy($),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Q,$){return this.controls[Q]?this.controls[Q]:(this.controls[Q]=$,$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange),$)}addControl(Q,$,xe={}){this.registerControl(Q,$),this.updateValueAndValidity({emitEvent:xe.emitEvent}),this._onCollectionChange()}removeControl(Q,$={}){this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),delete this.controls[Q],this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}setControl(Q,$,xe={}){this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),delete this.controls[Q],$&&this.registerControl(Q,$),this.updateValueAndValidity({emitEvent:xe.emitEvent}),this._onCollectionChange()}contains(Q){return this.controls.hasOwnProperty(Q)&&this.controls[Q].enabled}setValue(Q,$={}){G(this,0,Q),Object.keys(Q).forEach(xe=>{j(this,!0,xe),this.controls[xe].setValue(Q[xe],{onlySelf:!0,emitEvent:$.emitEvent})}),this.updateValueAndValidity($)}patchValue(Q,$={}){null!=Q&&(Object.keys(Q).forEach(xe=>{const nn=this.controls[xe];nn&&nn.patchValue(Q[xe],{onlySelf:!0,emitEvent:$.emitEvent})}),this.updateValueAndValidity($))}reset(Q={},$={}){this._forEachChild((xe,nn)=>{xe.reset(Q[nn],{onlySelf:!0,emitEvent:$.emitEvent})}),this._updatePristine($),this._updateTouched($),this.updateValueAndValidity($)}getRawValue(){return this._reduceChildren({},(Q,$,xe)=>(Q[xe]=$.getRawValue(),Q))}_syncPendingControls(){let Q=this._reduceChildren(!1,($,xe)=>!!xe._syncPendingControls()||$);return Q&&this.updateValueAndValidity({onlySelf:!0}),Q}_forEachChild(Q){Object.keys(this.controls).forEach($=>{const xe=this.controls[$];xe&&Q(xe,$)})}_setUpControls(){this._forEachChild(Q=>{Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Q){for(const[$,xe]of Object.entries(this.controls))if(this.contains($)&&Q(xe))return!0;return!1}_reduceValue(){return this._reduceChildren({},($,xe,nn)=>((xe.enabled||this.disabled)&&($[nn]=xe.value),$))}_reduceChildren(Q,$){let xe=Q;return this._forEachChild((nn,Jn)=>{xe=$(xe,nn,Jn)}),xe}_allControlsDisabled(){for(const Q of Object.keys(this.controls))if(this.controls[Q].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Q){return this.controls.hasOwnProperty(Q)?this.controls[Q]:null}}class Et extends K{}function fn(se,Q){return[...Q.path,se]}function ze(se,Q){var $,xe;De(se,Q),Q.valueAccessor.writeValue(se.value),se.disabled&&(null===($=(xe=Q.valueAccessor).setDisabledState)||void 0===$||$.call(xe,!0)),function ot(se,Q){Q.valueAccessor.registerOnChange($=>{se._pendingValue=$,se._pendingChange=!0,se._pendingDirty=!0,"change"===se.updateOn&&sn(se,Q)})}(se,Q),function Kn(se,Q){const $=(xe,nn)=>{Q.valueAccessor.writeValue(xe),nn&&Q.viewToModelUpdate(xe)};se.registerOnChange($),Q._registerOnDestroy(()=>{se._unregisterOnChange($)})}(se,Q),function Bt(se,Q){Q.valueAccessor.registerOnTouched(()=>{se._pendingTouched=!0,"blur"===se.updateOn&&se._pendingChange&&sn(se,Q),"submit"!==se.updateOn&&se.markAsTouched()})}(se,Q),function Ye(se,Q){if(Q.valueAccessor.setDisabledState){const $=xe=>{Q.valueAccessor.setDisabledState(xe)};se.registerOnDisabledChange($),Q._registerOnDestroy(()=>{se._unregisterOnDisabledChange($)})}}(se,Q)}function $e(se,Q,$=!0){const xe=()=>{};Q.valueAccessor&&(Q.valueAccessor.registerOnChange(xe),Q.valueAccessor.registerOnTouched(xe)),Ce(se,Q),se&&(Q._invokeOnDestroyCallbacks(),se._registerOnCollectionChange(()=>{}))}function He(se,Q){se.forEach($=>{$.registerOnValidatorChange&&$.registerOnValidatorChange(Q)})}function De(se,Q){const $=Ze(se);null!==Q.validator?se.setValidators(Fe($,Q.validator)):"function"==typeof $&&se.setValidators([$]);const xe=St(se);null!==Q.asyncValidator?se.setAsyncValidators(Fe(xe,Q.asyncValidator)):"function"==typeof xe&&se.setAsyncValidators([xe]);const nn=()=>se.updateValueAndValidity();He(Q._rawValidators,nn),He(Q._rawAsyncValidators,nn)}function Ce(se,Q){let $=!1;if(null!==se){if(null!==Q.validator){const nn=Ze(se);if(Array.isArray(nn)&&nn.length>0){const Jn=nn.filter(Cr=>Cr!==Q.validator);Jn.length!==nn.length&&($=!0,se.setValidators(Jn))}}if(null!==Q.asyncValidator){const nn=St(se);if(Array.isArray(nn)&&nn.length>0){const Jn=nn.filter(Cr=>Cr!==Q.asyncValidator);Jn.length!==nn.length&&($=!0,se.setAsyncValidators(Jn))}}}const xe=()=>{};return He(Q._rawValidators,xe),He(Q._rawAsyncValidators,xe),$}function sn(se,Q){se._pendingDirty&&se.markAsDirty(),se.setValue(se._pendingValue,{emitModelToViewChange:!1}),Q.viewToModelUpdate(se._pendingValue),se._pendingChange=!1}function On(se,Q){De(se,Q)}function Ji(se,Q){if(!se.hasOwnProperty("model"))return!1;const $=se.model;return!!$.isFirstChange()||!Object.is(Q,$.currentValue)}function Mr(se,Q){se._syncPendingControls(),Q.forEach($=>{const xe=$.control;"submit"===xe.updateOn&&xe._pendingChange&&($.viewToModelUpdate(xe._pendingValue),xe._pendingChange=!1)})}function br(se,Q){if(!Q)return null;let $,xe,nn;return Array.isArray(Q),Q.forEach(Jn=>{Jn.constructor===Ke?$=Jn:function hr(se){return Object.getPrototypeOf(se.constructor)===we}(Jn)?xe=Jn:nn=Jn}),nn||xe||$||null}const to={provide:Ht,useExisting:(0,p.Gpc)(()=>Ds)},fs=(()=>Promise.resolve())();let Ds=(()=>{class se extends Ht{constructor($,xe){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new p.vpe,this.form=new K({},gn($),Ue(xe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl($){fs.then(()=>{const xe=this._findContainer($.path);$.control=xe.registerControl($.name,$.control),ze($.control,$),$.control.updateValueAndValidity({emitEvent:!1}),this._directives.add($)})}getControl($){return this.form.get($.path)}removeControl($){fs.then(()=>{const xe=this._findContainer($.path);xe&&xe.removeControl($.name),this._directives.delete($)})}addFormGroup($){fs.then(()=>{const xe=this._findContainer($.path),nn=new K({});On(nn,$),xe.registerControl($.name,nn),nn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup($){fs.then(()=>{const xe=this._findContainer($.path);xe&&xe.removeControl($.name)})}getFormGroup($){return this.form.get($.path)}updateModel($,xe){fs.then(()=>{this.form.get($.path).setValue(xe)})}setValue($){this.control.setValue($)}onSubmit($){var xe;return this.submitted=!0,Mr(this.form,this._directives),this.ngSubmit.emit($),"dialog"===(null==$||null===(xe=$.target)||void 0===xe?void 0:xe.method)}onReset(){this.resetForm()}resetForm($){this.form.reset($),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer($){return $.pop(),$.length?this.form.get($):this.form}}return se.\u0275fac=function($){return new($||se)(p.Y36(mt,10),p.Y36(jt,10))},se.\u0275dir=p.lG2({type:se,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function($,xe){1&$&&p.NdJ("submit",function(Jn){return xe.onSubmit(Jn)})("reset",function(){return xe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([to]),p.qOj]}),se})();function Br(se,Q){const $=se.indexOf(Q);$>-1&&se.splice($,1)}function qr(se){return"object"==typeof se&&null!==se&&2===Object.keys(se).length&&"value"in se&&"disabled"in se}const Vr=class extends X{constructor(Q=null,$,xe){super(rt($),Tt(xe,$)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Q),this._setUpdateStrategy($),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ge($)&&($.nonNullable||$.initialValueIsDefault)&&(this.defaultValue=qr(Q)?Q.value:Q)}setValue(Q,$={}){this.value=this._pendingValue=Q,this._onChange.length&&!1!==$.emitModelToViewChange&&this._onChange.forEach(xe=>xe(this.value,!1!==$.emitViewToModelChange)),this.updateValueAndValidity($)}patchValue(Q,$={}){this.setValue(Q,$)}reset(Q=this.defaultValue,$={}){this._applyFormState(Q),this.markAsPristine($),this.markAsUntouched($),this.setValue(this.value,$),this._pendingChange=!1}_updateValue(){}_anyControls(Q){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Q){this._onChange.push(Q)}_unregisterOnChange(Q){Br(this._onChange,Q)}registerOnDisabledChange(Q){this._onDisabledChange.push(Q)}_unregisterOnDisabledChange(Q){Br(this._onDisabledChange,Q)}_forEachChild(Q){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Q){qr(Q)?(this.value=this._pendingValue=Q.value,Q.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Q}},yo={provide:En,useExisting:(0,p.Gpc)(()=>no)},La=(()=>Promise.resolve())();let no=(()=>{class se extends En{constructor($,xe,nn,Jn,Cr){super(),this._changeDetectorRef=Cr,this.control=new Vr,this._registered=!1,this.update=new p.vpe,this._parent=$,this._setValidators(xe),this._setAsyncValidators(nn),this.valueAccessor=br(0,Jn)}ngOnChanges($){if(this._checkForErrors(),!this._registered||"name"in $){if(this._registered&&(this._checkName(),this.formDirective)){const xe=$.name.previousValue;this.formDirective.removeControl({name:xe,path:this._getPath(xe)})}this._setUpControl()}"isDisabled"in $&&this._updateDisabled($),Ji($,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ze(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue($){La.then(()=>{var xe;this.control.setValue($,{emitViewToModelChange:!1}),null===(xe=this._changeDetectorRef)||void 0===xe||xe.markForCheck()})}_updateDisabled($){const xe=$.isDisabled.currentValue,nn=0!==xe&&(0,p.D6c)(xe);La.then(()=>{var Jn;nn&&!this.control.disabled?this.control.disable():!nn&&this.control.disabled&&this.control.enable(),null===(Jn=this._changeDetectorRef)||void 0===Jn||Jn.markForCheck()})}_getPath($){return this._parent?fn($,this._parent):[$]}}return se.\u0275fac=function($){return new($||se)(p.Y36(Ht,9),p.Y36(mt,10),p.Y36(jt,10),p.Y36(fe,10),p.Y36(p.sBO,8))},se.\u0275dir=p.lG2({type:se,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([yo]),p.qOj,p.TTD]}),se})(),Fa=(()=>{class se{}return se.\u0275fac=function($){return new($||se)},se.\u0275dir=p.lG2({type:se,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),se})(),Wt=(()=>{class se{}return se.\u0275fac=function($){return new($||se)},se.\u0275mod=p.oAB({type:se}),se.\u0275inj=p.cJS({}),se})();const Ir=new p.OlP("NgModelWithFormControlWarning"),qi={provide:En,useExisting:(0,p.Gpc)(()=>zr)};let zr=(()=>{class se extends En{constructor($,xe,nn,Jn){super(),this._ngModelWarningConfig=Jn,this.update=new p.vpe,this._ngModelWarningSent=!1,this._setValidators($),this._setAsyncValidators(xe),this.valueAccessor=br(0,nn)}set isDisabled($){}ngOnChanges($){if(this._isControlChanged($)){const xe=$.form.previousValue;xe&&$e(xe,this,!1),ze(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}Ji($,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&$e(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}_isControlChanged($){return $.hasOwnProperty("form")}}return se._ngModelWarningSentOnce=!1,se.\u0275fac=function($){return new($||se)(p.Y36(mt,10),p.Y36(jt,10),p.Y36(fe,10),p.Y36(Ir,8))},se.\u0275dir=p.lG2({type:se,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[p._Bn([qi]),p.qOj,p.TTD]}),se})();const ls={provide:Ht,useExisting:(0,p.Gpc)(()=>Ss)};let Ss=(()=>{class se extends Ht{constructor($,xe){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators($),this._setAsyncValidators(xe)}ngOnChanges($){this._checkFormPresent(),$.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ce(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl($){const xe=this.form.get($.path);return ze(xe,$),xe.updateValueAndValidity({emitEvent:!1}),this.directives.push($),xe}getControl($){return this.form.get($.path)}removeControl($){$e($.control||null,$,!1),function ns(se,Q){const $=se.indexOf(Q);$>-1&&se.splice($,1)}(this.directives,$)}addFormGroup($){this._setUpFormContainer($)}removeFormGroup($){this._cleanUpFormContainer($)}getFormGroup($){return this.form.get($.path)}addFormArray($){this._setUpFormContainer($)}removeFormArray($){this._cleanUpFormContainer($)}getFormArray($){return this.form.get($.path)}updateModel($,xe){this.form.get($.path).setValue(xe)}onSubmit($){var xe;return this.submitted=!0,Mr(this.form,this.directives),this.ngSubmit.emit($),"dialog"===(null==$||null===(xe=$.target)||void 0===xe?void 0:xe.method)}onReset(){this.resetForm()}resetForm($){this.form.reset($),this.submitted=!1}_updateDomValue(){this.directives.forEach($=>{const xe=$.control,nn=this.form.get($.path);xe!==nn&&($e(xe||null,$),(se=>se instanceof Vr)(nn)&&(ze(nn,$),$.control=nn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer($){const xe=this.form.get($.path);On(xe,$),xe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer($){if(this.form){const xe=this.form.get($.path);xe&&function fi(se,Q){return Ce(se,Q)}(xe,$)&&xe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){De(this.form,this),this._oldForm&&Ce(this._oldForm,this)}_checkFormPresent(){}}return se.\u0275fac=function($){return new($||se)(p.Y36(mt,10),p.Y36(jt,10))},se.\u0275dir=p.lG2({type:se,selectors:[["","formGroup",""]],hostBindings:function($,xe){1&$&&p.NdJ("submit",function(Jn){return xe.onSubmit(Jn)})("reset",function(){return xe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([ls]),p.qOj,p.TTD]}),se})();const Oo={provide:En,useExisting:(0,p.Gpc)(()=>Po)};let Po=(()=>{class se extends En{constructor($,xe,nn,Jn,Cr){super(),this._ngModelWarningConfig=Cr,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=$,this._setValidators(xe),this._setAsyncValidators(nn),this.valueAccessor=br(0,Jn)}set isDisabled($){}ngOnChanges($){this._added||this._setUpControl(),Ji($,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}get path(){return fn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return se._ngModelWarningSentOnce=!1,se.\u0275fac=function($){return new($||se)(p.Y36(Ht,13),p.Y36(mt,10),p.Y36(jt,10),p.Y36(fe,10),p.Y36(Ir,8))},se.\u0275dir=p.lG2({type:se,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([Oo]),p.qOj,p.TTD]}),se})();const Ca={provide:fe,useExisting:(0,p.Gpc)(()=>fr),multi:!0};function sa(se,Q){return null==se?`${Q}`:(Q&&"object"==typeof Q&&(Q="Object"),`${se}: ${Q}`.slice(0,50))}let fr=(()=>{class se extends we{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith($){this._compareWith=$}writeValue($){this.value=$;const nn=sa(this._getOptionId($),$);this.setProperty("value",nn)}registerOnChange($){this.onChange=xe=>{this.value=this._getOptionValue(xe),$(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId($){for(const xe of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(xe),$))return xe;return null}_getOptionValue($){const xe=function io(se){return se.split(":")[0]}($);return this._optionMap.has(xe)?this._optionMap.get(xe):$}}return se.\u0275fac=function(){let Q;return function(xe){return(Q||(Q=p.n5z(se)))(xe||se)}}(),se.\u0275dir=p.lG2({type:se,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function($,xe){1&$&&p.NdJ("change",function(Jn){return xe.onChange(Jn.target.value)})("blur",function(){return xe.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([Ca]),p.qOj]}),se})(),Ms=(()=>{class se{constructor($,xe,nn){this._element=$,this._renderer=xe,this._select=nn,this._select&&(this.id=this._select._registerOption())}set ngValue($){null!=this._select&&(this._select._optionMap.set(this.id,$),this._setElementValue(sa(this.id,$)),this._select.writeValue(this._select.value))}set value($){this._setElementValue($),this._select&&this._select.writeValue(this._select.value)}_setElementValue($){this._renderer.setProperty(this._element.nativeElement,"value",$)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return se.\u0275fac=function($){return new($||se)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(fr,9))},se.\u0275dir=p.lG2({type:se,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),se})();const Is={provide:fe,useExisting:(0,p.Gpc)(()=>Wr),multi:!0};function xs(se,Q){return null==se?`${Q}`:("string"==typeof Q&&(Q=`'${Q}'`),Q&&"object"==typeof Q&&(Q="Object"),`${se}: ${Q}`.slice(0,50))}let Wr=(()=>{class se extends we{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith($){this._compareWith=$}writeValue($){let xe;if(this.value=$,Array.isArray($)){const nn=$.map(Jn=>this._getOptionId(Jn));xe=(Jn,Cr)=>{Jn._setSelected(nn.indexOf(Cr.toString())>-1)}}else xe=(nn,Jn)=>{nn._setSelected(!1)};this._optionMap.forEach(xe)}registerOnChange($){this.onChange=xe=>{const nn=[],Jn=xe.selectedOptions;if(void 0!==Jn){const Cr=Jn;for(let oo=0;oo<Cr.length;oo++){const gr=this._getOptionValue(Cr[oo].value);nn.push(gr)}}else{const Cr=xe.options;for(let oo=0;oo<Cr.length;oo++){const Lr=Cr[oo];if(Lr.selected){const gr=this._getOptionValue(Lr.value);nn.push(gr)}}}this.value=nn,$(nn)}}_registerOption($){const xe=(this._idCounter++).toString();return this._optionMap.set(xe,$),xe}_getOptionId($){for(const xe of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(xe)._value,$))return xe;return null}_getOptionValue($){const xe=function Hs(se){return se.split(":")[0]}($);return this._optionMap.has(xe)?this._optionMap.get(xe)._value:$}}return se.\u0275fac=function(){let Q;return function(xe){return(Q||(Q=p.n5z(se)))(xe||se)}}(),se.\u0275dir=p.lG2({type:se,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function($,xe){1&$&&p.NdJ("change",function(Jn){return xe.onChange(Jn.target)})("blur",function(){return xe.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([Is]),p.qOj]}),se})(),ro=(()=>{class se{constructor($,xe,nn){this._element=$,this._renderer=xe,this._select=nn,this._select&&(this.id=this._select._registerOption(this))}set ngValue($){null!=this._select&&(this._value=$,this._setElementValue(xs(this.id,$)),this._select.writeValue(this._select.value))}set value($){this._select?(this._value=$,this._setElementValue(xs(this.id,$)),this._select.writeValue(this._select.value)):this._setElementValue($)}_setElementValue($){this._renderer.setProperty(this._element.nativeElement,"value",$)}_setSelected($){this._renderer.setProperty(this._element.nativeElement,"selected",$)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return se.\u0275fac=function($){return new($||se)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(Wr,9))},se.\u0275dir=p.lG2({type:se,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),se})(),As=(()=>{class se{constructor(){this._validator=Ot}ngOnChanges($){if(this.inputName in $){const xe=this.normalizeInput($[this.inputName].currentValue);this._enabled=this.enabled(xe),this._validator=this._enabled?this.createValidator(xe):Ot,this._onChange&&this._onChange()}}validate($){return this._validator($)}registerOnValidatorChange($){this._onChange=$}enabled($){return null!=$}}return se.\u0275fac=function($){return new($||se)},se.\u0275dir=p.lG2({type:se,features:[p.TTD]}),se})();const Ai={provide:mt,useExisting:(0,p.Gpc)(()=>so),multi:!0},Ur={provide:mt,useExisting:(0,p.Gpc)(()=>vs),multi:!0};let so=(()=>{class se extends As{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=p.D6c,this.createValidator=$=>Ve}enabled($){return $}}return se.\u0275fac=function(){let Q;return function(xe){return(Q||(Q=p.n5z(se)))(xe||se)}}(),se.\u0275dir=p.lG2({type:se,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function($,xe){2&$&&p.uIk("required",xe._enabled?"":null)},inputs:{required:"required"},features:[p._Bn([Ai]),p.qOj]}),se})(),vs=(()=>{class se extends so{constructor(){super(...arguments),this.createValidator=$=>pt}}return se.\u0275fac=function(){let Q;return function(xe){return(Q||(Q=p.n5z(se)))(xe||se)}}(),se.\u0275dir=p.lG2({type:se,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function($,xe){2&$&&p.uIk("required",xe._enabled?"":null)},features:[p._Bn([Ur]),p.qOj]}),se})(),ps=(()=>{class se{}return se.\u0275fac=function($){return new($||se)},se.\u0275mod=p.oAB({type:se}),se.\u0275inj=p.cJS({imports:[Wt]}),se})(),pl=(()=>{class se{}return se.\u0275fac=function($){return new($||se)},se.\u0275mod=p.oAB({type:se}),se.\u0275inj=p.cJS({imports:[ps]}),se})(),la=(()=>{class se{static withConfig($){return{ngModule:se,providers:[{provide:Ir,useValue:$.warnOnNgModelWithFormControl}]}}}return se.\u0275fac=function($){return new($||se)},se.\u0275mod=p.oAB({type:se}),se.\u0275inj=p.cJS({imports:[ps]}),se})();class $s extends X{constructor(Q,$,xe){super(rt($),Tt(xe,$)),this.controls=Q,this._initObservables(),this._setUpdateStrategy($),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Q){return this.controls[this._adjustIndex(Q)]}push(Q,$={}){this.controls.push(Q),this._registerControl(Q),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}insert(Q,$,xe={}){this.controls.splice(Q,0,$),this._registerControl($),this.updateValueAndValidity({emitEvent:xe.emitEvent})}removeAt(Q,$={}){let xe=this._adjustIndex(Q);xe<0&&(xe=0),this.controls[xe]&&this.controls[xe]._registerOnCollectionChange(()=>{}),this.controls.splice(xe,1),this.updateValueAndValidity({emitEvent:$.emitEvent})}setControl(Q,$,xe={}){let nn=this._adjustIndex(Q);nn<0&&(nn=0),this.controls[nn]&&this.controls[nn]._registerOnCollectionChange(()=>{}),this.controls.splice(nn,1),$&&(this.controls.splice(nn,0,$),this._registerControl($)),this.updateValueAndValidity({emitEvent:xe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Q,$={}){G(this,0,Q),Q.forEach((xe,nn)=>{j(this,!1,nn),this.at(nn).setValue(xe,{onlySelf:!0,emitEvent:$.emitEvent})}),this.updateValueAndValidity($)}patchValue(Q,$={}){null!=Q&&(Q.forEach((xe,nn)=>{this.at(nn)&&this.at(nn).patchValue(xe,{onlySelf:!0,emitEvent:$.emitEvent})}),this.updateValueAndValidity($))}reset(Q=[],$={}){this._forEachChild((xe,nn)=>{xe.reset(Q[nn],{onlySelf:!0,emitEvent:$.emitEvent})}),this._updatePristine($),this._updateTouched($),this.updateValueAndValidity($)}getRawValue(){return this.controls.map(Q=>Q.getRawValue())}clear(Q={}){this.controls.length<1||(this._forEachChild($=>$._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Q.emitEvent}))}_adjustIndex(Q){return Q<0?Q+this.length:Q}_syncPendingControls(){let Q=this.controls.reduce(($,xe)=>!!xe._syncPendingControls()||$,!1);return Q&&this.updateValueAndValidity({onlySelf:!0}),Q}_forEachChild(Q){this.controls.forEach(($,xe)=>{Q($,xe)})}_updateValue(){this.value=this.controls.filter(Q=>Q.enabled||this.disabled).map(Q=>Q.value)}_anyControls(Q){return this.controls.some($=>$.enabled&&Q($))}_setUpControls(){this._forEachChild(Q=>this._registerControl(Q))}_allControlsDisabled(){for(const Q of this.controls)if(Q.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Q){Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange)}_find(Q){var $;return null!==($=this.at(Q))&&void 0!==$?$:null}}function Sn(se){return!!se&&(void 0!==se.asyncValidators||void 0!==se.validators||void 0!==se.updateOn)}let Ii=(()=>{class se{constructor(){this.useNonNullable=!1}get nonNullable(){const $=new se;return $.useNonNullable=!0,$}group($,xe=null){const nn=this._reduceControls($);let Jn={};return Sn(xe)?Jn=xe:null!==xe&&(Jn.validators=xe.validator,Jn.asyncValidators=xe.asyncValidator),new K(nn,Jn)}record($,xe=null){const nn=this._reduceControls($);return new Et(nn,xe)}control($,xe,nn){let Jn={};return this.useNonNullable?(Sn(xe)?Jn=xe:(Jn.validators=xe,Jn.asyncValidators=nn),new Vr($,{...Jn,nonNullable:!0})):new Vr($,xe,nn)}array($,xe,nn){const Jn=$.map(Cr=>this._createControl(Cr));return new $s(Jn,xe,nn)}_reduceControls($){const xe={};return Object.keys($).forEach(nn=>{xe[nn]=this._createControl($[nn])}),xe}_createControl($){return $ instanceof Vr||$ instanceof X?$:Array.isArray($)?this.control($[0],$.length>1?$[1]:null,$.length>2?$[2]:null):this.control($)}}return se.\u0275fac=function($){return new($||se)},se.\u0275prov=p.Yz7({token:se,factory:se.\u0275fac,providedIn:la}),se})()},8242:(_n,vt,k)=>{"use strict";k.d(vt,{OG:()=>jt,_r:()=>mt,ch:()=>et,oL:()=>kt});var p=k(7855),N=k(4080),_=k(4650),ne=k(3238),C=k(2687),J=k(2289),we=k(8184),fe=k(6895),Se=k(7340),ae=k(9521),me=k(8929),ye=k(6787),Pe=k(2198),Ke=k(2986);function ut(Ve,pt){}const je={bottomSheetState:(0,Se.X$)("state",[(0,Se.SB)("void, hidden",(0,Se.oB)({transform:"translateY(100%)"})),(0,Se.SB)("visible",(0,Se.oB)({transform:"translateY(0%)"})),(0,Se.eR)("visible => void, visible => hidden",(0,Se.ru)([(0,Se.jt)(`${ne.mZ.COMPLEX} ${ne.yN.ACCELERATION_CURVE}`),(0,Se.IO)("@*",(0,Se.pV)(),{optional:!0})])),(0,Se.eR)("void => visible",(0,Se.ru)([(0,Se.jt)(`${ne.mZ.EXITING} ${ne.yN.DECELERATION_CURVE}`),(0,Se.IO)("@*",(0,Se.pV)(),{optional:!0})]))])};let ct=(()=>{class Ve extends p.LL{constructor(tt,Qe,Lt,We,Ot,Vt,bn,qn,jn,oi){super(tt,Qe,Lt,We,Ot,Vt,bn,oi),this._changeDetectorRef=jn,this._animationState="void",this._animationStateChanged=new _.vpe,this._breakpointSubscription=qn.observe([J.u3.Medium,J.u3.Large,J.u3.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",qn.isMatched(J.u3.Medium)),this._toggleClass("mat-bottom-sheet-container-large",qn.isMatched(J.u3.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",qn.isMatched(J.u3.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(tt){"visible"===tt.toState&&this._trapFocus(),this._animationStateChanged.emit(tt)}_onAnimationStart(tt){this._animationStateChanged.emit(tt)}_captureInitialFocus(){}_toggleClass(tt,Qe){this._elementRef.nativeElement.classList.toggle(tt,Qe)}}return Ve.\u0275fac=function(tt){return new(tt||Ve)(_.Y36(_.SBq),_.Y36(C.qV),_.Y36(fe.K0,8),_.Y36(p.ib),_.Y36(C.ic),_.Y36(_.R0b),_.Y36(we.Iu),_.Y36(J.Yg),_.Y36(_.sBO),_.Y36(C.tE))},Ve.\u0275cmp=_.Xpm({type:Ve,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(tt,Qe){1&tt&&_.WFA("@state.start",function(We){return Qe._onAnimationStart(We)})("@state.done",function(We){return Qe._onAnimationDone(We)}),2&tt&&(_.uIk("role",Qe._config.role)("aria-modal",Qe._config.ariaModal)("aria-label",Qe._config.ariaLabel),_.d8E("@state",Qe._animationState))},features:[_.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(tt,Qe){1&tt&&_.YNc(0,ut,0,0,"ng-template",0)},dependencies:[N.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[je.bottomSheetState]}}),Ve})(),mt=(()=>{class Ve{}return Ve.\u0275fac=function(tt){return new(tt||Ve)},Ve.\u0275mod=_.oAB({type:Ve}),Ve.\u0275inj=_.cJS({imports:[p.Su,ne.BQ,N.eL,ne.BQ]}),Ve})();const jt=new _.OlP("MatBottomSheetData");class ht{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class kt{constructor(pt,tt,Qe){this._ref=pt,this._afterOpened=new me.xQ,this.containerInstance=Qe,this.disableClose=tt.disableClose,Qe._animationStateChanged.pipe((0,Pe.h)(Lt=>"done"===Lt.phaseName&&"visible"===Lt.toState),(0,Ke.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Qe._animationStateChanged.pipe((0,Pe.h)(Lt=>"done"===Lt.phaseName&&"hidden"===Lt.toState),(0,Ke.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),pt.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),(0,ye.T)(this.backdropClick(),this.keydownEvents().pipe((0,Pe.h)(Lt=>Lt.keyCode===ae.hY))).subscribe(Lt=>{!this.disableClose&&("keydown"!==Lt.type||!(0,ae.Vb)(Lt))&&(Lt.preventDefault(),this.dismiss())})}get instance(){return this._ref.componentInstance}dismiss(pt){!this.containerInstance||(this.containerInstance._animationStateChanged.pipe((0,Pe.h)(tt=>"start"===tt.phaseName),(0,Ke.q)(1)).subscribe(tt=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},tt.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=pt,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const yt=new _.OlP("mat-bottom-sheet-default-options");let et=(()=>{class Ve{constructor(tt,Qe,Lt,We){this._overlay=tt,this._parentBottomSheet=Lt,this._defaultOptions=We,this._bottomSheetRefAtThisLevel=null,this._dialog=Qe.get(p.Vq)}get _openedBottomSheetRef(){const tt=this._parentBottomSheet;return tt?tt._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(tt){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=tt:this._bottomSheetRefAtThisLevel=tt}open(tt,Qe){const Lt={...this._defaultOptions||new ht,...Qe};let We;return this._dialog.open(tt,{...Lt,disableClose:!0,maxWidth:"100%",container:ct,scrollStrategy:Lt.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:We}),providers:(Ot,Vt,bn)=>(We=new kt(Ot,Lt,bn),[{provide:kt,useValue:We},{provide:jt,useValue:Lt.data}])}),We.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===We&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>{var Ot;return null===(Ot=We.containerInstance)||void 0===Ot?void 0:Ot.enter()}),this._openedBottomSheetRef.dismiss()):We.containerInstance.enter(),this._openedBottomSheetRef=We,We}dismiss(tt){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(tt)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}}return Ve.\u0275fac=function(tt){return new(tt||Ve)(_.LFG(we.aV),_.LFG(_.zs3),_.LFG(Ve,12),_.LFG(yt,8))},Ve.\u0275prov=_.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:mt}),Ve})()},3546:(_n,vt,k)=>{"use strict";k.d(vt,{QW:()=>et,a8:()=>ht});var p=k(4650),N=k(3238);const _=["*",[["mat-card-footer"]]],ne=["*","mat-card-footer"];let ht=(()=>{class Ve{constructor(tt){this._animationMode=tt}}return Ve.\u0275fac=function(tt){return new(tt||Ve)(p.Y36(p.QbO,8))},Ve.\u0275cmp=p.Xpm({type:Ve,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(tt,Qe){2&tt&&p.ekj("_mat-animation-noopable","NoopAnimations"===Qe._animationMode)},exportAs:["matCard"],ngContentSelectors:ne,decls:2,vars:0,template:function(tt,Qe){1&tt&&(p.F$t(_),p.Hsn(0),p.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),Ve})(),et=(()=>{class Ve{}return Ve.\u0275fac=function(tt){return new(tt||Ve)},Ve.\u0275mod=p.oAB({type:Ve}),Ve.\u0275inj=p.cJS({imports:[N.BQ,N.BQ]}),Ve})()},7331:(_n,vt,k)=>{"use strict";k.d(vt,{EC:()=>Ve,HS:()=>tt,Hi:()=>Nn,qn:()=>bn});var p=k(9521),N=k(4650),_=k(3238),ne=k(1281),C=k(3353),J=k(6895),we=k(8929),fe=k(6787),Se=k(2986),ae=k(7625),me=k(1059),ye=k(2687),Pe=k(445),Ke=k(5017),ut=k(4006),je=k(9549);const ct=["*"],jt=new N.OlP("MatChipRemove"),ht=new N.OlP("MatChipAvatar"),kt=new N.OlP("MatChipTrailingIcon");class yt{constructor(gn){this._elementRef=gn}}const et=(0,_.sb)((0,_.pj)((0,_.Kr)(yt),"primary"),-1);let Ve=(()=>{class rn{}return rn.\u0275fac=function(Re){return new(Re||rn)},rn.\u0275dir=N.lG2({type:rn,selectors:[["mat-chip-avatar"],["","matChipAvatar",""]],hostAttrs:[1,"mat-chip-avatar"],features:[N._Bn([{provide:ht,useExisting:rn}])]}),rn})(),tt=(()=>{class rn extends et{constructor(Re,Ue,Fe,Ze,St,tn,Ln,It){super(Re),this._ngZone=Ue,this._changeDetectorRef=St,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this.role="option",this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new we.xQ,this._onBlur=new we.xQ,this.selectionChange=new N.vpe,this.destroyed=new N.vpe,this.removed=new N.vpe,this._addHostClassName(),this._chipRippleTarget=tn.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new _.IR(this,Ue,this._chipRippleTarget,Fe),this._chipRipple.setupTriggerEvents(Re),this.rippleConfig=Ze||{},this._animationsDisabled="NoopAnimations"===Ln,this.tabIndex=null!=It&&parseInt(It)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(Re){const Ue=(0,ne.Ig)(Re);Ue!==this._selected&&(this._selected=Ue,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(Re){this._value=Re}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(Re){this._selectable=(0,ne.Ig)(Re)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(Re){this._disabled=(0,ne.Ig)(Re)}get removable(){return this._removable}set removable(Re){this._removable=(0,ne.Ig)(Re)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const Re="mat-basic-chip",Ue=this._elementRef.nativeElement;Ue.hasAttribute(Re)||Ue.tagName.toLowerCase()===Re?Ue.classList.add(Re):Ue.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(Re=!1){return this._selected=!this.selected,this._dispatchSelectionChange(Re),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(Re){this.disabled&&Re.preventDefault()}_handleKeydown(Re){if(!this.disabled)switch(Re.keyCode){case p.yY:case p.ZH:this.remove(),Re.preventDefault();break;case p.L_:this.selectable&&this.toggleSelected(!0),Re.preventDefault()}}_blur(){this._ngZone.onStable.pipe((0,Se.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(Re=!1){this.selectionChange.emit({source:this,isUserInput:Re,selected:this._selected})}}return rn.\u0275fac=function(Re){return new(Re||rn)(N.Y36(N.SBq),N.Y36(N.R0b),N.Y36(C.t4),N.Y36(_.Y2,8),N.Y36(N.sBO),N.Y36(J.K0),N.Y36(N.QbO,8),N.$8M("tabindex"))},rn.\u0275dir=N.lG2({type:rn,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(Re,Ue,Fe){if(1&Re&&(N.Suo(Fe,ht,5),N.Suo(Fe,kt,5),N.Suo(Fe,jt,5)),2&Re){let Ze;N.iGM(Ze=N.CRH())&&(Ue.avatar=Ze.first),N.iGM(Ze=N.CRH())&&(Ue.trailingIcon=Ze.first),N.iGM(Ze=N.CRH())&&(Ue.removeIcon=Ze.first)}},hostAttrs:[1,"mat-chip","mat-focus-indicator"],hostVars:15,hostBindings:function(Re,Ue){1&Re&&N.NdJ("click",function(Ze){return Ue._handleClick(Ze)})("keydown",function(Ze){return Ue._handleKeydown(Ze)})("focus",function(){return Ue.focus()})("blur",function(){return Ue._blur()}),2&Re&&(N.uIk("tabindex",Ue.disabled?null:Ue.tabIndex)("role",Ue.role)("disabled",Ue.disabled||null)("aria-disabled",Ue.disabled.toString())("aria-selected",Ue.ariaSelected),N.ekj("mat-chip-selected",Ue.selected)("mat-chip-with-avatar",Ue.avatar)("mat-chip-with-trailing-icon",Ue.trailingIcon||Ue.removeIcon)("mat-chip-disabled",Ue.disabled)("_mat-animation-noopable",Ue._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[N.qOj]}),rn})();const Lt=new N.OlP("mat-chips-default-options"),We=(0,_.FD)(class{constructor(rn,gn,Re,Ue){this._defaultErrorStateMatcher=rn,this._parentForm=gn,this._parentFormGroup=Re,this.ngControl=Ue,this.stateChanges=new we.xQ}});let Ot=0;class Vt{constructor(gn,Re){this.source=gn,this.value=Re}}let bn=(()=>{class rn extends We{constructor(Re,Ue,Fe,Ze,St,tn,Ln){super(tn,Ze,St,Ln),this._elementRef=Re,this._changeDetectorRef=Ue,this._dir=Fe,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new we.xQ,this._uid="mat-chip-list-"+Ot++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(It,qt)=>It===qt,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new N.vpe,this.valueChange=new N.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){var Re,Ue;return this.multiple?(null===(Re=this._selectionModel)||void 0===Re?void 0:Re.selected)||[]:null===(Ue=this._selectionModel)||void 0===Ue?void 0:Ue.selected[0]}get role(){return this._explicitRole?this._explicitRole:this.empty?null:"listbox"}set role(Re){this._explicitRole=Re}get multiple(){return this._multiple}set multiple(Re){this._multiple=(0,ne.Ig)(Re),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(Re){this._compareWith=Re,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(Re){this.writeValue(Re),this._value=Re}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){var Re,Ue,Fe,Ze;return null!==(Re=null!==(Ue=this._required)&&void 0!==Ue?Ue:null===(Fe=this.ngControl)||void 0===Fe||null===(Ze=Fe.control)||void 0===Ze?void 0:Ze.hasValidator(ut.kI.required))&&void 0!==Re&&Re}set required(Re){this._required=(0,ne.Ig)(Re),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(Re){this._placeholder=Re,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(Re){this._disabled=(0,ne.Ig)(Re),this._syncChipsState()}get selectable(){return this._selectable}set selectable(Re){this._selectable=(0,ne.Ig)(Re),this._syncChipsState()}set tabIndex(Re){this._userTabIndex=Re,this._tabIndex=Re}get chipSelectionChanges(){return(0,fe.T)(...this.chips.map(Re=>Re.selectionChange))}get chipFocusChanges(){return(0,fe.T)(...this.chips.map(Re=>Re._onFocus))}get chipBlurChanges(){return(0,fe.T)(...this.chips.map(Re=>Re._onBlur))}get chipRemoveChanges(){return(0,fe.T)(...this.chips.map(Re=>Re.destroyed))}ngAfterContentInit(){this._keyManager=new ye.Em(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe((0,ae.R)(this._destroyed)).subscribe(Re=>this._keyManager.withHorizontalOrientation(Re)),this._keyManager.tabOut.pipe((0,ae.R)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe((0,me.O)(null),(0,ae.R)(this._destroyed)).subscribe(()=>{(this.disabled||!this.selectable)&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new Ke.Ov(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(Re){this._chipInput=Re,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",Re.id)}setDescribedByIds(Re){Re.length?this._elementRef.nativeElement.setAttribute("aria-describedby",Re.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}writeValue(Re){this.chips&&this._setSelectionByValue(Re,!1)}registerOnChange(Re){this._onChange=Re}registerOnTouched(Re){this._onTouched=Re}setDisabledState(Re){this.disabled=Re,this.stateChanges.next()}onContainerClick(Re){this._originatesFromChip(Re)||this.focus()}focus(Re){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(Re),this.stateChanges.next()))}_focusInput(Re){this._chipInput&&this._chipInput.focus(Re)}_keydown(Re){const Ue=Re.target;Ue&&Ue.classList.contains("mat-chip")&&(this._keyManager.onKeydown(Re),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const Re=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(Re)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(Re){return Re>=0&&Re<this.chips.length}_setSelectionByValue(Re,Ue=!0){if(this._clearSelection(),this.chips.forEach(Fe=>Fe.deselect()),Array.isArray(Re))Re.forEach(Fe=>this._selectValue(Fe,Ue)),this._sortValues();else{const Fe=this._selectValue(Re,Ue);Fe&&Ue&&this._keyManager.setActiveItem(Fe)}}_selectValue(Re,Ue=!0){const Fe=this.chips.find(Ze=>null!=Ze.value&&this._compareWith(Ze.value,Re));return Fe&&(Ue?Fe.selectViaInteraction():Fe.select(),this._selectionModel.select(Fe)),Fe}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(Re){this._selectionModel.clear(),this.chips.forEach(Ue=>{Ue!==Re&&Ue.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(Re=>{Re.selected&&this._selectionModel.select(Re)}),this.stateChanges.next())}_propagateChanges(Re){let Ue=null;Ue=Array.isArray(this.selected)?this.selected.map(Fe=>Fe.value):this.selected?this.selected.value:Re,this._value=Ue,this.change.emit(new Vt(this,Ue)),this.valueChange.emit(Ue),this._onChange(Ue),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(Re=>{Re.source.selected?this._selectionModel.select(Re.source):this._selectionModel.deselect(Re.source),this.multiple||this.chips.forEach(Ue=>{!this._selectionModel.isSelected(Ue)&&Ue.selected&&Ue.deselect()}),Re.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(Re=>{let Ue=this.chips.toArray().indexOf(Re.chip);this._isValidIndex(Ue)&&this._keyManager.updateActiveItem(Ue),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(Re=>{const Ue=Re.chip,Fe=this.chips.toArray().indexOf(Re.chip);this._isValidIndex(Fe)&&Ue._hasFocus&&(this._lastDestroyedChipIndex=Fe)})}_originatesFromChip(Re){let Ue=Re.target;for(;Ue&&Ue!==this._elementRef.nativeElement;){if(Ue.classList.contains("mat-chip"))return!0;Ue=Ue.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(Re=>Re._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(Re=>{Re._chipListDisabled=this._disabled,Re._chipListMultiple=this.multiple,Re.chipListSelectable=this._selectable})}}return rn.\u0275fac=function(Re){return new(Re||rn)(N.Y36(N.SBq),N.Y36(N.sBO),N.Y36(Pe.Is,8),N.Y36(ut.F,8),N.Y36(ut.sg,8),N.Y36(_.rD),N.Y36(ut.a5,10))},rn.\u0275cmp=N.Xpm({type:rn,selectors:[["mat-chip-list"]],contentQueries:function(Re,Ue,Fe){if(1&Re&&N.Suo(Fe,tt,5),2&Re){let Ze;N.iGM(Ze=N.CRH())&&(Ue.chips=Ze)}},hostAttrs:[1,"mat-chip-list"],hostVars:14,hostBindings:function(Re,Ue){1&Re&&N.NdJ("focus",function(){return Ue.focus()})("blur",function(){return Ue._blur()})("keydown",function(Ze){return Ue._keydown(Ze)}),2&Re&&(N.Ikx("id",Ue._uid),N.uIk("tabindex",Ue.disabled?null:Ue._tabIndex)("aria-required",Ue.role?Ue.required:null)("aria-disabled",Ue.disabled.toString())("aria-invalid",Ue.errorState)("aria-multiselectable",Ue.multiple)("role",Ue.role)("aria-orientation",Ue.ariaOrientation),N.ekj("mat-chip-list-disabled",Ue.disabled)("mat-chip-list-invalid",Ue.errorState)("mat-chip-list-required",Ue.required))},inputs:{role:"role",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[N._Bn([{provide:je.Eo,useExisting:rn}]),N.qOj],ngContentSelectors:ct,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(Re,Ue){1&Re&&(N.F$t(),N.TgZ(0,"div",0),N.Hsn(1),N.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-chip::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}.mat-standard-chip._mat-animation-noopable{transition:none !important;animation:none !important}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}'],encapsulation:2,changeDetection:0}),rn})(),Nn=(()=>{class rn{}return rn.\u0275fac=function(Re){return new(Re||rn)},rn.\u0275mod=N.oAB({type:rn}),rn.\u0275inj=N.cJS({providers:[_.rD,{provide:Lt,useValue:{separatorKeyCodes:[p.K5]}}],imports:[_.BQ]}),rn})()},3238:(_n,vt,k)=>{"use strict";k.d(vt,{yN:()=>je,mZ:()=>ct,_A:()=>bn,rD:()=>Fe,sG:()=>qn,Y2:()=>gt,BQ:()=>ht,X2:()=>Ze,uc:()=>Ln,Ng:()=>be,rN:()=>di,nP:()=>Le,us:()=>Be,wG:()=>ee,si:()=>de,IR:()=>$n,CB:()=>at,jH:()=>Jt,pj:()=>pt,Kr:()=>tt,Id:()=>Ve,FD:()=>Lt,sb:()=>Qe,E0:()=>St});var p=k(4650),N=k(2687),_=k(445),C=k(6895),J=k(3353),we=k(1281),fe=k(8929),Se=k(1059);let je=(()=>{class Ne{}return Ne.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",Ne.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",Ne.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",Ne.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",Ne})(),ct=(()=>{class Ne{}return Ne.COMPLEX="375ms",Ne.ENTERING="225ms",Ne.EXITING="195ms",Ne})();const jt=new p.OlP("mat-sanity-checks",{providedIn:"root",factory:function mt(){return!0}});let ht=(()=>{class Ne{constructor(ue,Nt,zt){this._sanityChecks=Nt,this._document=zt,this._hasDoneGlobalChecks=!1,ue._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(ue){return!(0,J.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[ue])}}return Ne.\u0275fac=function(ue){return new(ue||Ne)(p.LFG(N.qm),p.LFG(jt,8),p.LFG(C.K0))},Ne.\u0275mod=p.oAB({type:Ne}),Ne.\u0275inj=p.cJS({imports:[_.vT,_.vT]}),Ne})();function Ve(Ne){return class extends Ne{constructor(...ke){super(...ke),this._disabled=!1}get disabled(){return this._disabled}set disabled(ke){this._disabled=(0,we.Ig)(ke)}}}function pt(Ne,ke){return class extends Ne{constructor(...ue){super(...ue),this.defaultColor=ke,this.color=ke}get color(){return this._color}set color(ue){const Nt=ue||this.defaultColor;Nt!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),Nt&&this._elementRef.nativeElement.classList.add(`mat-${Nt}`),this._color=Nt)}}}function tt(Ne){return class extends Ne{constructor(...ke){super(...ke),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(ke){this._disableRipple=(0,we.Ig)(ke)}}}function Qe(Ne,ke=0){return class extends Ne{constructor(...ue){super(...ue),this._tabIndex=ke,this.defaultTabIndex=ke}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(ue){this._tabIndex=null!=ue?(0,we.su)(ue):this.defaultTabIndex}}}function Lt(Ne){return class extends Ne{constructor(...ke){super(...ke),this.errorState=!1}updateErrorState(){const ke=this.errorState,st=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);st!==ke&&(this.errorState=st,this.stateChanges.next())}}}class bn{constructor(){this._localeChanges=new fe.xQ,this.localeChanges=this._localeChanges}getValidDateOrNull(ke){return this.isDateInstance(ke)&&this.isValid(ke)?ke:null}deserialize(ke){return null==ke||this.isDateInstance(ke)&&this.isValid(ke)?ke:this.invalid()}setLocale(ke){this.locale=ke,this._localeChanges.next()}compareDate(ke,ue){return this.getYear(ke)-this.getYear(ue)||this.getMonth(ke)-this.getMonth(ue)||this.getDate(ke)-this.getDate(ue)}sameDate(ke,ue){if(ke&&ue){let Nt=this.isValid(ke),zt=this.isValid(ue);return Nt&&zt?!this.compareDate(ke,ue):Nt==zt}return ke==ue}clampDate(ke,ue,Nt){return ue&&this.compareDate(ke,ue)<0?ue:Nt&&this.compareDate(ke,Nt)>0?Nt:ke}}const qn=new p.OlP("mat-date-formats");let Fe=(()=>{class Ne{isErrorState(ue,Nt){return!!(ue&&ue.invalid&&(ue.touched||Nt&&Nt.submitted))}}return Ne.\u0275fac=function(ue){return new(ue||Ne)},Ne.\u0275prov=p.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),Ne})(),Ze=(()=>{class Ne{}return Ne.\u0275fac=function(ue){return new(ue||Ne)},Ne.\u0275dir=p.lG2({type:Ne,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),Ne})();function St(Ne,ke,ue="mat"){Ne.changes.pipe((0,Se.O)(Ne)).subscribe(({length:Nt})=>{tn(ke,`${ue}-2-line`,!1),tn(ke,`${ue}-3-line`,!1),tn(ke,`${ue}-multi-line`,!1),2===Nt||3===Nt?tn(ke,`${ue}-${Nt}-line`,!0):Nt>3&&tn(ke,`${ue}-multi-line`,!0)})}function tn(Ne,ke,ue){Ne.nativeElement.classList.toggle(ke,ue)}let Ln=(()=>{class Ne{}return Ne.\u0275fac=function(ue){return new(ue||Ne)},Ne.\u0275mod=p.oAB({type:Ne}),Ne.\u0275inj=p.cJS({imports:[ht,ht]}),Ne})();class It{constructor(ke,ue,Nt,zt=!1){this._renderer=ke,this.element=ue,this.config=Nt,this._animationForciblyDisabledThroughCss=zt,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const qt={enterDuration:225,exitDuration:150},Ht=(0,J.i$)({passive:!0}),En=["mousedown","touchstart"],Gt=["mouseup","mouseleave","touchend","touchcancel"];class $n{constructor(ke,ue,Nt,zt){this._target=ke,this._ngZone=ue,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,zt.isBrowser&&(this._containerElement=(0,we.fI)(Nt))}fadeInRipple(ke,ue,Nt={}){const zt=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),st={...qt,...Nt.animation};Nt.centered&&(ke=zt.left+zt.width/2,ue=zt.top+zt.height/2);const rt=Nt.radius||function Dn(Ne,ke,ue){const Nt=Math.max(Math.abs(Ne-ue.left),Math.abs(Ne-ue.right)),zt=Math.max(Math.abs(ke-ue.top),Math.abs(ke-ue.bottom));return Math.sqrt(Nt*Nt+zt*zt)}(ke,ue,zt),Je=ke-zt.left,Tt=ue-zt.top,$t=st.enterDuration,ge=document.createElement("div");ge.classList.add("mat-ripple-element"),ge.style.left=Je-rt+"px",ge.style.top=Tt-rt+"px",ge.style.height=2*rt+"px",ge.style.width=2*rt+"px",null!=Nt.color&&(ge.style.backgroundColor=Nt.color),ge.style.transitionDuration=`${$t}ms`,this._containerElement.appendChild(ge);const j=window.getComputedStyle(ge),X=j.transitionDuration,K="none"===j.transitionProperty||"0s"===X||"0s, 0s"===X,he=new It(this,ge,Nt,K);ge.style.transform="scale3d(1, 1, 1)",he.state=0,Nt.persistent||(this._mostRecentTransientRipple=he);let Xe=null;return!K&&($t||st.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Et=()=>this._finishRippleTransition(he),dn=()=>this._destroyRipple(he);ge.addEventListener("transitionend",Et),ge.addEventListener("transitioncancel",dn),Xe={onTransitionEnd:Et,onTransitionCancel:dn}}),this._activeRipples.set(he,Xe),(K||!$t)&&this._finishRippleTransition(he),he}fadeOutRipple(ke){if(2===ke.state||3===ke.state)return;const ue=ke.element,Nt={...qt,...ke.config.animation};ue.style.transitionDuration=`${Nt.exitDuration}ms`,ue.style.opacity="0",ke.state=2,(ke._animationForciblyDisabledThroughCss||!Nt.exitDuration)&&this._finishRippleTransition(ke)}fadeOutAll(){this._getActiveRipples().forEach(ke=>ke.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(ke=>{ke.config.persistent||ke.fadeOut()})}setupTriggerEvents(ke){const ue=(0,we.fI)(ke);!ue||ue===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=ue,this._registerEvents(En))}handleEvent(ke){"mousedown"===ke.type?this._onMousedown(ke):"touchstart"===ke.type?this._onTouchStart(ke):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Gt),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(ke){0===ke.state?this._startFadeOutTransition(ke):2===ke.state&&this._destroyRipple(ke)}_startFadeOutTransition(ke){const ue=ke===this._mostRecentTransientRipple,{persistent:Nt}=ke.config;ke.state=1,!Nt&&(!ue||!this._isPointerDown)&&ke.fadeOut()}_destroyRipple(ke){var ue;const Nt=null!==(ue=this._activeRipples.get(ke))&&void 0!==ue?ue:null;this._activeRipples.delete(ke),this._activeRipples.size||(this._containerRect=null),ke===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),ke.state=3,null!==Nt&&(ke.element.removeEventListener("transitionend",Nt.onTransitionEnd),ke.element.removeEventListener("transitioncancel",Nt.onTransitionCancel)),ke.element.remove()}_onMousedown(ke){const ue=(0,N.X6)(ke),Nt=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!ue&&!Nt&&(this._isPointerDown=!0,this.fadeInRipple(ke.clientX,ke.clientY,this._target.rippleConfig))}_onTouchStart(ke){if(!this._target.rippleDisabled&&!(0,N.yG)(ke)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const ue=ke.changedTouches;for(let Nt=0;Nt<ue.length;Nt++)this.fadeInRipple(ue[Nt].clientX,ue[Nt].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(ke=>{!ke.config.persistent&&(1===ke.state||ke.config.terminateOnPointerUp&&0===ke.state)&&ke.fadeOut()}))}_registerEvents(ke){this._ngZone.runOutsideAngular(()=>{ke.forEach(ue=>{this._triggerElement.addEventListener(ue,this,Ht)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(En.forEach(ke=>{this._triggerElement.removeEventListener(ke,this,Ht)}),this._pointerUpEventsRegistered&&Gt.forEach(ke=>{this._triggerElement.removeEventListener(ke,this,Ht)}))}}const gt=new p.OlP("mat-ripple-global-options");let ee=(()=>{class Ne{constructor(ue,Nt,zt,st,rt){this._elementRef=ue,this._animationMode=rt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=st||{},this._rippleRenderer=new $n(this,Nt,ue,zt)}get disabled(){return this._disabled}set disabled(ue){ue&&this.fadeOutAllNonPersistent(),this._disabled=ue,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(ue){this._trigger=ue,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(ue,Nt=0,zt){return"number"==typeof ue?this._rippleRenderer.fadeInRipple(ue,Nt,{...this.rippleConfig,...zt}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...ue})}}return Ne.\u0275fac=function(ue){return new(ue||Ne)(p.Y36(p.SBq),p.Y36(p.R0b),p.Y36(J.t4),p.Y36(gt,8),p.Y36(p.QbO,8))},Ne.\u0275dir=p.lG2({type:Ne,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(ue,Nt){2&ue&&p.ekj("mat-ripple-unbounded",Nt.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),Ne})(),de=(()=>{class Ne{}return Ne.\u0275fac=function(ue){return new(ue||Ne)},Ne.\u0275mod=p.oAB({type:Ne}),Ne.\u0275inj=p.cJS({imports:[ht,ht]}),Ne})(),Le=(()=>{class Ne{constructor(ue){this._animationMode=ue,this.state="unchecked",this.disabled=!1}}return Ne.\u0275fac=function(ue){return new(ue||Ne)(p.Y36(p.QbO,8))},Ne.\u0275cmp=p.Xpm({type:Ne,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(ue,Nt){2&ue&&p.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===Nt.state)("mat-pseudo-checkbox-checked","checked"===Nt.state)("mat-pseudo-checkbox-disabled",Nt.disabled)("_mat-animation-noopable","NoopAnimations"===Nt._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(ue,Nt){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),Ne})(),Be=(()=>{class Ne{}return Ne.\u0275fac=function(ue){return new(ue||Ne)},Ne.\u0275mod=p.oAB({type:Ne}),Ne.\u0275inj=p.cJS({imports:[ht]}),Ne})();class di{constructor(ke,ue=!1){this.source=ke,this.isUserInput=ue}}function at(Ne,ke,ue){if(ue.length){let Nt=ke.toArray(),zt=ue.toArray(),st=0;for(let rt=0;rt<Ne+1;rt++)Nt[rt].group&&Nt[rt].group===zt[st]&&st++;return st}return 0}function Jt(Ne,ke,ue,Nt){return Ne<ue?Ne:Ne+ke>ue+Nt?Math.max(0,Ne-Nt+ke):ue}let be=(()=>{class Ne{}return Ne.\u0275fac=function(ue){return new(ue||Ne)},Ne.\u0275mod=p.oAB({type:Ne}),Ne.\u0275inj=p.cJS({imports:[de,C.ez,ht,Be]}),Ne})()},5938:(_n,vt,k)=>{"use strict";k.d(vt,{Bq:()=>pt,Is:()=>Re,WI:()=>Ve,ZT:()=>jn,so:()=>yt,uw:()=>bn,xY:()=>Nn});var p=k(7855),N=k(8184),_=k(4080),ne=k(4650),C=k(3238),J=k(6895),we=k(8929),fe=k(6787),Se=k(8514),ae=k(2198),me=k(2986),ye=k(1059),Pe=k(7340),Ke=k(2687),ut=k(9521);function je(Ue,Fe){}const ct={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},mt={dialogContainer:(0,Pe.X$)("dialogContainer",[(0,Pe.SB)("void, exit",(0,Pe.oB)({opacity:0,transform:"scale(0.7)"})),(0,Pe.SB)("enter",(0,Pe.oB)({transform:"none"})),(0,Pe.eR)("* => enter",(0,Pe.ru)([(0,Pe.jt)("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",(0,Pe.oB)({transform:"none",opacity:1})),(0,Pe.IO)("@*",(0,Pe.pV)(),{optional:!0})]),ct),(0,Pe.eR)("* => void, * => exit",(0,Pe.ru)([(0,Pe.jt)("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",(0,Pe.oB)({opacity:0})),(0,Pe.IO)("@*",(0,Pe.pV)(),{optional:!0})]),ct)])};class jt{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=ct.params.enterAnimationDuration,this.exitAnimationDuration=ct.params.exitAnimationDuration}}let ht=(()=>{class Ue extends p.LL{constructor(Ze,St,tn,Ln,It,qt,Mt,Ht){super(Ze,St,tn,Ln,It,qt,Mt,Ht),this._animationStateChanged=new ne.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(Ze){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:Ze})}}return Ue.\u0275fac=function(Ze){return new(Ze||Ue)(ne.Y36(ne.SBq),ne.Y36(Ke.qV),ne.Y36(J.K0,8),ne.Y36(jt),ne.Y36(Ke.ic),ne.Y36(ne.R0b),ne.Y36(N.Iu),ne.Y36(Ke.tE))},Ue.\u0275cmp=ne.Xpm({type:Ue,selectors:[["ng-component"]],features:[ne.qOj],decls:0,vars:0,template:function(Ze,St){},encapsulation:2}),Ue})(),kt=(()=>{class Ue extends ht{constructor(Ze,St,tn,Ln,It,qt,Mt,Ht,En){super(Ze,St,tn,Ln,It,qt,Mt,En),this._changeDetectorRef=Ht,this._state="enter"}_onAnimationDone({toState:Ze,totalTime:St}){"enter"===Ze?this._openAnimationDone(St):"exit"===Ze&&this._animationStateChanged.next({state:"closed",totalTime:St})}_onAnimationStart({toState:Ze,totalTime:St}){"enter"===Ze?this._animationStateChanged.next({state:"opening",totalTime:St}):("exit"===Ze||"void"===Ze)&&this._animationStateChanged.next({state:"closing",totalTime:St})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||ct.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||ct.params.exitAnimationDuration}}}}return Ue.\u0275fac=function(Ze){return new(Ze||Ue)(ne.Y36(ne.SBq),ne.Y36(Ke.qV),ne.Y36(J.K0,8),ne.Y36(jt),ne.Y36(Ke.ic),ne.Y36(ne.R0b),ne.Y36(N.Iu),ne.Y36(ne.sBO),ne.Y36(Ke.tE))},Ue.\u0275cmp=ne.Xpm({type:Ue,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(Ze,St){1&Ze&&ne.WFA("@dialogContainer.start",function(Ln){return St._onAnimationStart(Ln)})("@dialogContainer.done",function(Ln){return St._onAnimationDone(Ln)}),2&Ze&&(ne.Ikx("id",St._config.id),ne.uIk("aria-modal",St._config.ariaModal)("role",St._config.role)("aria-labelledby",St._config.ariaLabel?null:St._ariaLabelledBy)("aria-label",St._config.ariaLabel)("aria-describedby",St._config.ariaDescribedBy||null),ne.d8E("@dialogContainer",St._getAnimationState()))},features:[ne.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Ze,St){1&Ze&&ne.YNc(0,je,0,0,"ng-template",0)},dependencies:[_.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[mt.dialogContainer]}}),Ue})();class yt{constructor(Fe,Ze,St){this._ref=Fe,this._containerInstance=St,this._afterOpened=new we.xQ,this._beforeClosed=new we.xQ,this._state=0,this.disableClose=Ze.disableClose,this.id=Fe.id,St._animationStateChanged.pipe((0,ae.h)(tn=>"opened"===tn.state),(0,me.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),St._animationStateChanged.pipe((0,ae.h)(tn=>"closed"===tn.state),(0,me.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),Fe.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,fe.T)(this.backdropClick(),this.keydownEvents().pipe((0,ae.h)(tn=>tn.keyCode===ut.hY&&!this.disableClose&&!(0,ut.Vb)(tn)))).subscribe(tn=>{this.disableClose||(tn.preventDefault(),et(this,"keydown"===tn.type?"keyboard":"mouse"))})}close(Fe){this._result=Fe,this._containerInstance._animationStateChanged.pipe((0,ae.h)(Ze=>"closing"===Ze.state),(0,me.q)(1)).subscribe(Ze=>{this._beforeClosed.next(Fe),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),Ze.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(Fe){let Ze=this._ref.config.positionStrategy;return Fe&&(Fe.left||Fe.right)?Fe.left?Ze.left(Fe.left):Ze.right(Fe.right):Ze.centerHorizontally(),Fe&&(Fe.top||Fe.bottom)?Fe.top?Ze.top(Fe.top):Ze.bottom(Fe.bottom):Ze.centerVertically(),this._ref.updatePosition(),this}updateSize(Fe="",Ze=""){return this._ref.updateSize(Fe,Ze),this}addPanelClass(Fe){return this._ref.addPanelClass(Fe),this}removePanelClass(Fe){return this._ref.removePanelClass(Fe),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function et(Ue,Fe,Ze){return Ue._closeInteractionType=Fe,Ue.close(Ze)}const Ve=new ne.OlP("MatDialogData"),pt=new ne.OlP("mat-dialog-default-options"),tt=new ne.OlP("mat-dialog-scroll-strategy"),We={provide:tt,deps:[N.aV],useFactory:function Lt(Ue){return()=>Ue.scrollStrategies.block()}};let Ot=0,Vt=(()=>{class Ue{constructor(Ze,St,tn,Ln,It,qt,Mt,Ht,En,Gt){this._overlay=Ze,this._defaultOptions=tn,this._parentDialog=Ln,this._dialogRefConstructor=Mt,this._dialogContainerType=Ht,this._dialogDataToken=En,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new we.xQ,this._afterOpenedAtThisLevel=new we.xQ,this._idPrefix="mat-dialog-",this.afterAllClosed=(0,Se.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,ye.O)(void 0))),this._scrollStrategy=qt,this._dialog=St.get(p.Vq)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const Ze=this._parentDialog;return Ze?Ze._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(Ze,St){let tn;(St={...this._defaultOptions||new jt,...St}).id=St.id||`${this._idPrefix}${Ot++}`,St.scrollStrategy=St.scrollStrategy||this._scrollStrategy();const Ln=this._dialog.open(Ze,{...St,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:jt,useValue:St},{provide:p.ib,useValue:St}]},templateContext:()=>({dialogRef:tn}),providers:(It,qt,Mt)=>{var Ht;return tn=new this._dialogRefConstructor(It,St,Mt),tn.updatePosition(null===(Ht=St)||void 0===Ht?void 0:Ht.position),[{provide:this._dialogContainerType,useValue:Mt},{provide:this._dialogDataToken,useValue:qt.data},{provide:this._dialogRefConstructor,useValue:tn}]}});return tn.componentInstance=Ln.componentInstance,this.openDialogs.push(tn),this.afterOpened.next(tn),tn.afterClosed().subscribe(()=>{const It=this.openDialogs.indexOf(tn);It>-1&&(this.openDialogs.splice(It,1),this.openDialogs.length||this._getAfterAllClosed().next())}),tn}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(Ze){return this.openDialogs.find(St=>St.id===Ze)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(Ze){let St=Ze.length;for(;St--;)Ze[St].close()}}return Ue.\u0275fac=function(Ze){ne.$Z()},Ue.\u0275prov=ne.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})(),bn=(()=>{class Ue extends Vt{constructor(Ze,St,tn,Ln,It,qt,Mt,Ht){super(Ze,St,Ln,qt,Mt,It,yt,kt,Ve,Ht)}}return Ue.\u0275fac=function(Ze){return new(Ze||Ue)(ne.LFG(N.aV),ne.LFG(ne.zs3),ne.LFG(J.Ye,8),ne.LFG(pt,8),ne.LFG(tt),ne.LFG(Ue,12),ne.LFG(N.Xj),ne.LFG(ne.QbO,8))},Ue.\u0275prov=ne.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})(),jn=(()=>{class Ue{constructor(Ze,St,tn){this.dialogRef=Ze,this._elementRef=St,this._dialog=tn,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function gn(Ue,Fe){let Ze=Ue.nativeElement.parentElement;for(;Ze&&!Ze.classList.contains("mat-dialog-container");)Ze=Ze.parentElement;return Ze?Fe.find(St=>St.id===Ze.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(Ze){const St=Ze._matDialogClose||Ze._matDialogCloseResult;St&&(this.dialogResult=St.currentValue)}_onButtonClick(Ze){et(this.dialogRef,0===Ze.screenX&&0===Ze.screenY?"keyboard":"mouse",this.dialogResult)}}return Ue.\u0275fac=function(Ze){return new(Ze||Ue)(ne.Y36(yt,8),ne.Y36(ne.SBq),ne.Y36(bn))},Ue.\u0275dir=ne.lG2({type:Ue,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(Ze,St){1&Ze&&ne.NdJ("click",function(Ln){return St._onButtonClick(Ln)}),2&Ze&&ne.uIk("aria-label",St.ariaLabel||null)("type",St.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[ne.TTD]}),Ue})(),Nn=(()=>{class Ue{}return Ue.\u0275fac=function(Ze){return new(Ze||Ue)},Ue.\u0275dir=ne.lG2({type:Ue,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),Ue})(),Re=(()=>{class Ue{}return Ue.\u0275fac=function(Ze){return new(Ze||Ue)},Ue.\u0275mod=ne.oAB({type:Ue}),Ue.\u0275inj=ne.cJS({providers:[bn,We],imports:[p.Su,N.U8,_.eL,C.BQ,C.BQ]}),Ue})()},9549:(_n,vt,k)=>{"use strict";k.d(vt,{Eo:()=>oi,G_:()=>Dn,KE:()=>gt,TO:()=>qn,hX:()=>Ze,lN:()=>ee});var p=k(9643),N=k(6895),_=k(4650),ne=k(3238),C=k(445),J=k(1281),we=k(8929),fe=k(6787),Se=k(3753),ae=k(1059),me=k(7625),ye=k(2986),Pe=k(7340),Ke=k(3353);const ut=["connectionContainer"],je=["inputContainer"],ct=["label"];function mt(de,Le){1&de&&(_.ynx(0),_.TgZ(1,"div",14),_._UZ(2,"div",15)(3,"div",16)(4,"div",17),_.qZA(),_.TgZ(5,"div",18),_._UZ(6,"div",15)(7,"div",16)(8,"div",17),_.qZA(),_.BQk())}function jt(de,Le){if(1&de){const Be=_.EpF();_.TgZ(0,"div",19),_.NdJ("cdkObserveContent",function(){_.CHM(Be);const Zt=_.oxw();return _.KtG(Zt.updateOutlineGap())}),_.Hsn(1,1),_.qZA()}if(2&de){const Be=_.oxw();_.Q6J("cdkObserveContentDisabled","outline"!=Be.appearance)}}function ht(de,Le){if(1&de&&(_.ynx(0),_.Hsn(1,2),_.TgZ(2,"span"),_._uU(3),_.qZA(),_.BQk()),2&de){const Be=_.oxw(2);_.xp6(3),_.Oqu(Be._control.placeholder)}}function kt(de,Le){1&de&&_.Hsn(0,3,["*ngSwitchCase","true"])}function yt(de,Le){1&de&&(_.TgZ(0,"span",23),_._uU(1," *"),_.qZA())}function et(de,Le){if(1&de){const Be=_.EpF();_.TgZ(0,"label",20,21),_.NdJ("cdkObserveContent",function(){_.CHM(Be);const Zt=_.oxw();return _.KtG(Zt.updateOutlineGap())}),_.YNc(2,ht,4,1,"ng-container",12),_.YNc(3,kt,1,0,"ng-content",12),_.YNc(4,yt,2,0,"span",22),_.qZA()}if(2&de){const Be=_.oxw();_.ekj("mat-empty",Be._control.empty&&!Be._shouldAlwaysFloat())("mat-form-field-empty",Be._control.empty&&!Be._shouldAlwaysFloat())("mat-accent","accent"==Be.color)("mat-warn","warn"==Be.color),_.Q6J("cdkObserveContentDisabled","outline"!=Be.appearance)("id",Be._labelId)("ngSwitch",Be._hasLabel()),_.uIk("for",Be._control.id)("aria-owns",Be._control.id),_.xp6(2),_.Q6J("ngSwitchCase",!1),_.xp6(1),_.Q6J("ngSwitchCase",!0),_.xp6(1),_.Q6J("ngIf",!Be.hideRequiredMarker&&Be._control.required&&!Be._control.disabled)}}function Ve(de,Le){1&de&&(_.TgZ(0,"div",24),_.Hsn(1,4),_.qZA())}function pt(de,Le){if(1&de&&(_.TgZ(0,"div",25),_._UZ(1,"span",26),_.qZA()),2&de){const Be=_.oxw();_.xp6(1),_.ekj("mat-accent","accent"==Be.color)("mat-warn","warn"==Be.color)}}function tt(de,Le){if(1&de&&(_.TgZ(0,"div"),_.Hsn(1,5),_.qZA()),2&de){const Be=_.oxw();_.Q6J("@transitionMessages",Be._subscriptAnimationState)}}function Qe(de,Le){if(1&de&&(_.TgZ(0,"div",30),_._uU(1),_.qZA()),2&de){const Be=_.oxw(2);_.Q6J("id",Be._hintLabelId),_.xp6(1),_.Oqu(Be.hintLabel)}}function Lt(de,Le){if(1&de&&(_.TgZ(0,"div",27),_.YNc(1,Qe,2,2,"div",28),_.Hsn(2,6),_._UZ(3,"div",29),_.Hsn(4,7),_.qZA()),2&de){const Be=_.oxw();_.Q6J("@transitionMessages",Be._subscriptAnimationState),_.xp6(1),_.Q6J("ngIf",Be.hintLabel)}}const We=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Ot=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let Vt=0;const bn=new _.OlP("MatError");let qn=(()=>{class de{constructor(Be,Ct){this.id="mat-error-"+Vt++,Be||Ct.nativeElement.setAttribute("aria-live","polite")}}return de.\u0275fac=function(Be){return new(Be||de)(_.$8M("aria-live"),_.Y36(_.SBq))},de.\u0275dir=_.lG2({type:de,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(Be,Ct){2&Be&&_.uIk("id",Ct.id)},inputs:{id:"id"},features:[_._Bn([{provide:bn,useExisting:de}])]}),de})();const jn={transitionMessages:(0,Pe.X$)("transitionMessages",[(0,Pe.SB)("enter",(0,Pe.oB)({opacity:1,transform:"translateY(0%)"})),(0,Pe.eR)("void => enter",[(0,Pe.oB)({opacity:0,transform:"translateY(-5px)"}),(0,Pe.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let oi=(()=>{class de{}return de.\u0275fac=function(Be){return new(Be||de)},de.\u0275dir=_.lG2({type:de}),de})();const Ue=new _.OlP("MatHint");let Ze=(()=>{class de{}return de.\u0275fac=function(Be){return new(Be||de)},de.\u0275dir=_.lG2({type:de,selectors:[["mat-label"]]}),de})(),St=(()=>{class de{}return de.\u0275fac=function(Be){return new(Be||de)},de.\u0275dir=_.lG2({type:de,selectors:[["mat-placeholder"]]}),de})();const tn=new _.OlP("MatPrefix"),It=new _.OlP("MatSuffix");let Mt=0;const Gt=(0,ne.pj)(class{constructor(de){this._elementRef=de}},"primary"),$n=new _.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Dn=new _.OlP("MatFormField");let gt=(()=>{class de extends Gt{constructor(Be,Ct,Zt,hn,Un,Cn,pn){super(Be),this._changeDetectorRef=Ct,this._dir=Zt,this._defaults=hn,this._platform=Un,this._ngZone=Cn,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new we.xQ,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Mt++,this._labelId="mat-form-field-label-"+Mt++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==pn,this.appearance=hn?.appearance||"legacy",hn&&(this._hideRequiredMarker=Boolean(hn.hideRequiredMarker),hn.color&&(this.color=this.defaultColor=hn.color))}get appearance(){return this._appearance}set appearance(Be){var Ct;const Zt=this._appearance;this._appearance=Be||(null===(Ct=this._defaults)||void 0===Ct?void 0:Ct.appearance)||"legacy","outline"===this._appearance&&Zt!==Be&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(Be){this._hideRequiredMarker=(0,J.Ig)(Be)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(Be){this._hintLabel=Be,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(Be){Be!==this._floatLabel&&(this._floatLabel=Be||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(Be){this._explicitFormFieldControl=Be}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const Be=this._control;Be.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${Be.controlType}`),Be.stateChanges.pipe((0,ae.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),Be.ngControl&&Be.ngControl.valueChanges&&Be.ngControl.valueChanges.pipe((0,me.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,me.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,fe.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,ae.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,ae.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,me.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(Be){const Ct=this._control?this._control.ngControl:null;return Ct&&Ct[Be]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,Se.R)(this._label.nativeElement,"transitionend").pipe((0,ye.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let Be=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&Be.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Ct=this._hintChildren?this._hintChildren.find(hn=>"start"===hn.align):null,Zt=this._hintChildren?this._hintChildren.find(hn=>"end"===hn.align):null;Ct?Be.push(Ct.id):this._hintLabel&&Be.push(this._hintLabelId),Zt&&Be.push(Zt.id)}else this._errorChildren&&Be.push(...this._errorChildren.map(Ct=>Ct.id));this._control.setDescribedByIds(Be)}}_validateControlChild(){}updateOutlineGap(){const Be=this._label?this._label.nativeElement:null,Ct=this._connectionContainerRef.nativeElement,Zt=".mat-form-field-outline-start",hn=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!Be||!Be.children.length||!Be.textContent.trim()){const di=Ct.querySelectorAll(`${Zt}, ${hn}`);for(let hi=0;hi<di.length;hi++)di[hi].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let Un=0,Cn=0;const pn=Ct.querySelectorAll(Zt),Fn=Ct.querySelectorAll(hn);if(this._label&&this._label.nativeElement.children.length){const di=Ct.getBoundingClientRect();if(0===di.width&&0===di.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const hi=this._getStartEnd(di),ni=Be.children,at=this._getStartEnd(ni[0].getBoundingClientRect());let Jt=0;for(let be=0;be<ni.length;be++)Jt+=ni[be].offsetWidth;Un=Math.abs(at-hi)-5,Cn=Jt>0?.75*Jt+10:0}for(let di=0;di<pn.length;di++)pn[di].style.width=`${Un}px`;for(let di=0;di<Fn.length;di++)Fn[di].style.width=`${Cn}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(Be){return this._dir&&"rtl"===this._dir.value?Be.right:Be.left}_isAttachedToDOM(){const Be=this._elementRef.nativeElement;if(Be.getRootNode){const Ct=Be.getRootNode();return Ct&&Ct!==Be}return document.documentElement.contains(Be)}}return de.\u0275fac=function(Be){return new(Be||de)(_.Y36(_.SBq),_.Y36(_.sBO),_.Y36(C.Is,8),_.Y36($n,8),_.Y36(Ke.t4),_.Y36(_.R0b),_.Y36(_.QbO,8))},de.\u0275cmp=_.Xpm({type:de,selectors:[["mat-form-field"]],contentQueries:function(Be,Ct,Zt){if(1&Be&&(_.Suo(Zt,oi,5),_.Suo(Zt,oi,7),_.Suo(Zt,Ze,5),_.Suo(Zt,Ze,7),_.Suo(Zt,St,5),_.Suo(Zt,bn,5),_.Suo(Zt,Ue,5),_.Suo(Zt,tn,5),_.Suo(Zt,It,5)),2&Be){let hn;_.iGM(hn=_.CRH())&&(Ct._controlNonStatic=hn.first),_.iGM(hn=_.CRH())&&(Ct._controlStatic=hn.first),_.iGM(hn=_.CRH())&&(Ct._labelChildNonStatic=hn.first),_.iGM(hn=_.CRH())&&(Ct._labelChildStatic=hn.first),_.iGM(hn=_.CRH())&&(Ct._placeholderChild=hn.first),_.iGM(hn=_.CRH())&&(Ct._errorChildren=hn),_.iGM(hn=_.CRH())&&(Ct._hintChildren=hn),_.iGM(hn=_.CRH())&&(Ct._prefixChildren=hn),_.iGM(hn=_.CRH())&&(Ct._suffixChildren=hn)}},viewQuery:function(Be,Ct){if(1&Be&&(_.Gf(ut,7),_.Gf(je,5),_.Gf(ct,5)),2&Be){let Zt;_.iGM(Zt=_.CRH())&&(Ct._connectionContainerRef=Zt.first),_.iGM(Zt=_.CRH())&&(Ct._inputContainerRef=Zt.first),_.iGM(Zt=_.CRH())&&(Ct._label=Zt.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(Be,Ct){2&Be&&_.ekj("mat-form-field-appearance-standard","standard"==Ct.appearance)("mat-form-field-appearance-fill","fill"==Ct.appearance)("mat-form-field-appearance-outline","outline"==Ct.appearance)("mat-form-field-appearance-legacy","legacy"==Ct.appearance)("mat-form-field-invalid",Ct._control.errorState)("mat-form-field-can-float",Ct._canLabelFloat())("mat-form-field-should-float",Ct._shouldLabelFloat())("mat-form-field-has-label",Ct._hasFloatingLabel())("mat-form-field-hide-placeholder",Ct._hideControlPlaceholder())("mat-form-field-disabled",Ct._control.disabled)("mat-form-field-autofilled",Ct._control.autofilled)("mat-focused",Ct._control.focused)("ng-untouched",Ct._shouldForward("untouched"))("ng-touched",Ct._shouldForward("touched"))("ng-pristine",Ct._shouldForward("pristine"))("ng-dirty",Ct._shouldForward("dirty"))("ng-valid",Ct._shouldForward("valid"))("ng-invalid",Ct._shouldForward("invalid"))("ng-pending",Ct._shouldForward("pending"))("_mat-animation-noopable",!Ct._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[_._Bn([{provide:Dn,useExisting:de}]),_.qOj],ngContentSelectors:Ot,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(Be,Ct){1&Be&&(_.F$t(We),_.TgZ(0,"div",0)(1,"div",1,2),_.NdJ("click",function(hn){return Ct._control.onContainerClick&&Ct._control.onContainerClick(hn)}),_.YNc(3,mt,9,0,"ng-container",3),_.YNc(4,jt,2,1,"div",4),_.TgZ(5,"div",5,6),_.Hsn(7),_.TgZ(8,"span",7),_.YNc(9,et,5,16,"label",8),_.qZA()(),_.YNc(10,Ve,2,0,"div",9),_.qZA(),_.YNc(11,pt,2,4,"div",10),_.TgZ(12,"div",11),_.YNc(13,tt,2,1,"div",12),_.YNc(14,Lt,5,2,"div",13),_.qZA()()),2&Be&&(_.xp6(3),_.Q6J("ngIf","outline"==Ct.appearance),_.xp6(1),_.Q6J("ngIf",Ct._prefixChildren.length),_.xp6(5),_.Q6J("ngIf",Ct._hasFloatingLabel()),_.xp6(1),_.Q6J("ngIf",Ct._suffixChildren.length),_.xp6(1),_.Q6J("ngIf","outline"!=Ct.appearance),_.xp6(1),_.Q6J("ngSwitch",Ct._getDisplayedMessages()),_.xp6(1),_.Q6J("ngSwitchCase","error"),_.xp6(1),_.Q6J("ngSwitchCase","hint"))},dependencies:[N.O5,N.RF,N.n9,p.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[jn.transitionMessages]},changeDetection:0}),de})(),ee=(()=>{class de{}return de.\u0275fac=function(Be){return new(Be||de)},de.\u0275mod=_.oAB({type:de}),de.\u0275inj=_.cJS({imports:[N.ez,ne.BQ,p.Q8,ne.BQ]}),de})()},3336:(_n,vt,k)=>{"use strict";k.d(vt,{Hw:()=>$e,Ps:()=>He});var p=k(4650),N=k(3238),_=k(1281),ne=k(6895),C=k(1086),J=k(1737),we=k(567),fe=k(2654),Se=k(2868),ae=k(4850),me=k(7221),ye=k(537),Pe=k(2474),Ke=k(2986),ut=k(1406),je=k(2198);class ct{}class jt{constructor(De){this.normalizedNames=new Map,this.lazyUpdate=null,De?this.lazyInit="string"==typeof De?()=>{this.headers=new Map,De.split("\n").forEach(Ce=>{const ot=Ce.indexOf(":");if(ot>0){const Bt=Ce.slice(0,ot),sn=Bt.toLowerCase(),Kn=Ce.slice(ot+1).trim();this.maybeSetNormalizedName(Bt,sn),this.headers.has(sn)?this.headers.get(sn).push(Kn):this.headers.set(sn,[Kn])}})}:()=>{this.headers=new Map,Object.keys(De).forEach(Ce=>{let ot=De[Ce];const Bt=Ce.toLowerCase();"string"==typeof ot&&(ot=[ot]),ot.length>0&&(this.headers.set(Bt,ot),this.maybeSetNormalizedName(Ce,Bt))})}:this.headers=new Map}has(De){return this.init(),this.headers.has(De.toLowerCase())}get(De){this.init();const Ce=this.headers.get(De.toLowerCase());return Ce&&Ce.length>0?Ce[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(De){return this.init(),this.headers.get(De.toLowerCase())||null}append(De,Ce){return this.clone({name:De,value:Ce,op:"a"})}set(De,Ce){return this.clone({name:De,value:Ce,op:"s"})}delete(De,Ce){return this.clone({name:De,value:Ce,op:"d"})}maybeSetNormalizedName(De,Ce){this.normalizedNames.has(Ce)||this.normalizedNames.set(Ce,De)}init(){this.lazyInit&&(this.lazyInit instanceof jt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(De=>this.applyUpdate(De)),this.lazyUpdate=null))}copyFrom(De){De.init(),Array.from(De.headers.keys()).forEach(Ce=>{this.headers.set(Ce,De.headers.get(Ce)),this.normalizedNames.set(Ce,De.normalizedNames.get(Ce))})}clone(De){const Ce=new jt;return Ce.lazyInit=this.lazyInit&&this.lazyInit instanceof jt?this.lazyInit:this,Ce.lazyUpdate=(this.lazyUpdate||[]).concat([De]),Ce}applyUpdate(De){const Ce=De.name.toLowerCase();switch(De.op){case"a":case"s":let ot=De.value;if("string"==typeof ot&&(ot=[ot]),0===ot.length)return;this.maybeSetNormalizedName(De.name,Ce);const Bt=("a"===De.op?this.headers.get(Ce):void 0)||[];Bt.push(...ot),this.headers.set(Ce,Bt);break;case"d":const sn=De.value;if(sn){let Kn=this.headers.get(Ce);if(!Kn)return;Kn=Kn.filter(On=>-1===sn.indexOf(On)),0===Kn.length?(this.headers.delete(Ce),this.normalizedNames.delete(Ce)):this.headers.set(Ce,Kn)}else this.headers.delete(Ce),this.normalizedNames.delete(Ce)}}forEach(De){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ce=>De(this.normalizedNames.get(Ce),this.headers.get(Ce)))}}class kt{encodeKey(De){return pt(De)}encodeValue(De){return pt(De)}decodeKey(De){return decodeURIComponent(De)}decodeValue(De){return decodeURIComponent(De)}}const et=/%(\d[a-f0-9])/gi,Ve={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pt(Ye){return encodeURIComponent(Ye).replace(et,(De,Ce)=>{var ot;return null!==(ot=Ve[Ce])&&void 0!==ot?ot:De})}function tt(Ye){return`${Ye}`}class Qe{constructor(De={}){if(this.updates=null,this.cloneFrom=null,this.encoder=De.encoder||new kt,De.fromString){if(De.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function yt(Ye,De){const Ce=new Map;return Ye.length>0&&Ye.replace(/^\?/,"").split("&").forEach(Bt=>{const sn=Bt.indexOf("="),[Kn,On]=-1==sn?[De.decodeKey(Bt),""]:[De.decodeKey(Bt.slice(0,sn)),De.decodeValue(Bt.slice(sn+1))],fi=Ce.get(Kn)||[];fi.push(On),Ce.set(Kn,fi)}),Ce}(De.fromString,this.encoder)}else De.fromObject?(this.map=new Map,Object.keys(De.fromObject).forEach(Ce=>{const ot=De.fromObject[Ce],Bt=Array.isArray(ot)?ot.map(tt):[tt(ot)];this.map.set(Ce,Bt)})):this.map=null}has(De){return this.init(),this.map.has(De)}get(De){this.init();const Ce=this.map.get(De);return Ce?Ce[0]:null}getAll(De){return this.init(),this.map.get(De)||null}keys(){return this.init(),Array.from(this.map.keys())}append(De,Ce){return this.clone({param:De,value:Ce,op:"a"})}appendAll(De){const Ce=[];return Object.keys(De).forEach(ot=>{const Bt=De[ot];Array.isArray(Bt)?Bt.forEach(sn=>{Ce.push({param:ot,value:sn,op:"a"})}):Ce.push({param:ot,value:Bt,op:"a"})}),this.clone(Ce)}set(De,Ce){return this.clone({param:De,value:Ce,op:"s"})}delete(De,Ce){return this.clone({param:De,value:Ce,op:"d"})}toString(){return this.init(),this.keys().map(De=>{const Ce=this.encoder.encodeKey(De);return this.map.get(De).map(ot=>Ce+"="+this.encoder.encodeValue(ot)).join("&")}).filter(De=>""!==De).join("&")}clone(De){const Ce=new Qe({encoder:this.encoder});return Ce.cloneFrom=this.cloneFrom||this,Ce.updates=(this.updates||[]).concat(De),Ce}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(De=>this.map.set(De,this.cloneFrom.map.get(De))),this.updates.forEach(De=>{switch(De.op){case"a":case"s":const Ce=("a"===De.op?this.map.get(De.param):void 0)||[];Ce.push(tt(De.value)),this.map.set(De.param,Ce);break;case"d":if(void 0===De.value){this.map.delete(De.param);break}{let ot=this.map.get(De.param)||[];const Bt=ot.indexOf(tt(De.value));-1!==Bt&&ot.splice(Bt,1),ot.length>0?this.map.set(De.param,ot):this.map.delete(De.param)}}}),this.cloneFrom=this.updates=null)}}class We{constructor(){this.map=new Map}set(De,Ce){return this.map.set(De,Ce),this}get(De){return this.map.has(De)||this.map.set(De,De.defaultValue()),this.map.get(De)}delete(De){return this.map.delete(De),this}has(De){return this.map.has(De)}keys(){return this.map.keys()}}function Vt(Ye){return typeof ArrayBuffer<"u"&&Ye instanceof ArrayBuffer}function bn(Ye){return typeof Blob<"u"&&Ye instanceof Blob}function qn(Ye){return typeof FormData<"u"&&Ye instanceof FormData}class oi{constructor(De,Ce,ot,Bt){let sn;if(this.url=Ce,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=De.toUpperCase(),function Ot(Ye){switch(Ye){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Bt?(this.body=void 0!==ot?ot:null,sn=Bt):sn=ot,sn&&(this.reportProgress=!!sn.reportProgress,this.withCredentials=!!sn.withCredentials,sn.responseType&&(this.responseType=sn.responseType),sn.headers&&(this.headers=sn.headers),sn.context&&(this.context=sn.context),sn.params&&(this.params=sn.params)),this.headers||(this.headers=new jt),this.context||(this.context=new We),this.params){const Kn=this.params.toString();if(0===Kn.length)this.urlWithParams=Ce;else{const On=Ce.indexOf("?");this.urlWithParams=Ce+(-1===On?"?":On<Ce.length-1?"&":"")+Kn}}else this.params=new Qe,this.urlWithParams=Ce}serializeBody(){return null===this.body?null:Vt(this.body)||bn(this.body)||qn(this.body)||function jn(Ye){return typeof URLSearchParams<"u"&&Ye instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||qn(this.body)?null:bn(this.body)?this.body.type||null:Vt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(De={}){var Ce;const ot=De.method||this.method,Bt=De.url||this.url,sn=De.responseType||this.responseType,Kn=void 0!==De.body?De.body:this.body,On=void 0!==De.withCredentials?De.withCredentials:this.withCredentials,fi=void 0!==De.reportProgress?De.reportProgress:this.reportProgress;let Bi=De.headers||this.headers,dr=De.params||this.params;const sr=null!==(Ce=De.context)&&void 0!==Ce?Ce:this.context;return void 0!==De.setHeaders&&(Bi=Object.keys(De.setHeaders).reduce((zi,Ji)=>zi.set(Ji,De.setHeaders[Ji]),Bi)),De.setParams&&(dr=Object.keys(De.setParams).reduce((zi,Ji)=>zi.set(Ji,De.setParams[Ji]),dr)),new oi(ot,Bt,Kn,{params:dr,headers:Bi,context:sr,reportProgress:fi,responseType:sn,withCredentials:On})}}var Nn=(()=>((Nn=Nn||{})[Nn.Sent=0]="Sent",Nn[Nn.UploadProgress=1]="UploadProgress",Nn[Nn.ResponseHeader=2]="ResponseHeader",Nn[Nn.DownloadProgress=3]="DownloadProgress",Nn[Nn.Response=4]="Response",Nn[Nn.User=5]="User",Nn))();class Re extends class rn{constructor(De,Ce=200,ot="OK"){this.headers=De.headers||new jt,this.status=void 0!==De.status?De.status:Ce,this.statusText=De.statusText||ot,this.url=De.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(De={}){super(De),this.type=Nn.Response,this.body=void 0!==De.body?De.body:null}clone(De={}){return new Re({body:void 0!==De.body?De.body:this.body,headers:De.headers||this.headers,status:void 0!==De.status?De.status:this.status,statusText:De.statusText||this.statusText,url:De.url||this.url||void 0})}}function Fe(Ye,De){return{body:De,headers:Ye.headers,context:Ye.context,observe:Ye.observe,params:Ye.params,reportProgress:Ye.reportProgress,responseType:Ye.responseType,withCredentials:Ye.withCredentials}}let Ze=(()=>{class Ye{constructor(Ce){this.handler=Ce}request(Ce,ot,Bt={}){let sn;if(Ce instanceof oi)sn=Ce;else{let fi,Bi;fi=Bt.headers instanceof jt?Bt.headers:new jt(Bt.headers),Bt.params&&(Bi=Bt.params instanceof Qe?Bt.params:new Qe({fromObject:Bt.params})),sn=new oi(Ce,ot,void 0!==Bt.body?Bt.body:null,{headers:fi,context:Bt.context,params:Bi,reportProgress:Bt.reportProgress,responseType:Bt.responseType||"json",withCredentials:Bt.withCredentials})}const Kn=(0,C.of)(sn).pipe((0,ut.b)(fi=>this.handler.handle(fi)));if(Ce instanceof oi||"events"===Bt.observe)return Kn;const On=Kn.pipe((0,je.h)(fi=>fi instanceof Re));switch(Bt.observe||"body"){case"body":switch(sn.responseType){case"arraybuffer":return On.pipe((0,ae.U)(fi=>{if(null!==fi.body&&!(fi.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return fi.body}));case"blob":return On.pipe((0,ae.U)(fi=>{if(null!==fi.body&&!(fi.body instanceof Blob))throw new Error("Response is not a Blob.");return fi.body}));case"text":return On.pipe((0,ae.U)(fi=>{if(null!==fi.body&&"string"!=typeof fi.body)throw new Error("Response is not a string.");return fi.body}));default:return On.pipe((0,ae.U)(fi=>fi.body))}case"response":return On;default:throw new Error(`Unreachable: unhandled observe type ${Bt.observe}}`)}}delete(Ce,ot={}){return this.request("DELETE",Ce,ot)}get(Ce,ot={}){return this.request("GET",Ce,ot)}head(Ce,ot={}){return this.request("HEAD",Ce,ot)}jsonp(Ce,ot){return this.request("JSONP",Ce,{params:(new Qe).append(ot,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ce,ot={}){return this.request("OPTIONS",Ce,ot)}patch(Ce,ot,Bt={}){return this.request("PATCH",Ce,Fe(Bt,ot))}post(Ce,ot,Bt={}){return this.request("POST",Ce,Fe(Bt,ot))}put(Ce,ot,Bt={}){return this.request("PUT",Ce,Fe(Bt,ot))}}return Ye.\u0275fac=function(Ce){return new(Ce||Ye)(p.LFG(ct))},Ye.\u0275prov=p.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();var Jt=k(1481);const be=["*"];let Ne;function ue(Ye){var De;return(null===(De=function ke(){if(void 0===Ne&&(Ne=null,typeof window<"u")){const Ye=window;void 0!==Ye.trustedTypes&&(Ne=Ye.trustedTypes.createPolicy("angular#components",{createHTML:De=>De}))}return Ne}())||void 0===De?void 0:De.createHTML(Ye))||Ye}function Nt(Ye){return Error(`Unable to find icon with the name "${Ye}"`)}function st(Ye){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Ye}".`)}function rt(Ye){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Ye}".`)}class Je{constructor(De,Ce,ot){this.url=De,this.svgText=Ce,this.options=ot}}let Tt=(()=>{class Ye{constructor(Ce,ot,Bt,sn){this._httpClient=Ce,this._sanitizer=ot,this._errorHandler=sn,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Bt}addSvgIcon(Ce,ot,Bt){return this.addSvgIconInNamespace("",Ce,ot,Bt)}addSvgIconLiteral(Ce,ot,Bt){return this.addSvgIconLiteralInNamespace("",Ce,ot,Bt)}addSvgIconInNamespace(Ce,ot,Bt,sn){return this._addSvgIconConfig(Ce,ot,new Je(Bt,null,sn))}addSvgIconResolver(Ce){return this._resolvers.push(Ce),this}addSvgIconLiteralInNamespace(Ce,ot,Bt,sn){const Kn=this._sanitizer.sanitize(p.q3G.HTML,Bt);if(!Kn)throw rt(Bt);const On=ue(Kn);return this._addSvgIconConfig(Ce,ot,new Je("",On,sn))}addSvgIconSet(Ce,ot){return this.addSvgIconSetInNamespace("",Ce,ot)}addSvgIconSetLiteral(Ce,ot){return this.addSvgIconSetLiteralInNamespace("",Ce,ot)}addSvgIconSetInNamespace(Ce,ot,Bt){return this._addSvgIconSetConfig(Ce,new Je(ot,null,Bt))}addSvgIconSetLiteralInNamespace(Ce,ot,Bt){const sn=this._sanitizer.sanitize(p.q3G.HTML,ot);if(!sn)throw rt(ot);const Kn=ue(sn);return this._addSvgIconSetConfig(Ce,new Je("",Kn,Bt))}registerFontClassAlias(Ce,ot=Ce){return this._fontCssClassesByAlias.set(Ce,ot),this}classNameForFontAlias(Ce){return this._fontCssClassesByAlias.get(Ce)||Ce}setDefaultFontSetClass(...Ce){return this._defaultFontSetClass=Ce,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(Ce){const ot=this._sanitizer.sanitize(p.q3G.RESOURCE_URL,Ce);if(!ot)throw st(Ce);const Bt=this._cachedIconsByUrl.get(ot);return Bt?(0,C.of)(j(Bt)):this._loadSvgIconFromConfig(new Je(Ce,null)).pipe((0,Se.b)(sn=>this._cachedIconsByUrl.set(ot,sn)),(0,ae.U)(sn=>j(sn)))}getNamedSvgIcon(Ce,ot=""){const Bt=G(ot,Ce);let sn=this._svgIconConfigs.get(Bt);if(sn)return this._getSvgFromConfig(sn);if(sn=this._getIconConfigFromResolvers(ot,Ce),sn)return this._svgIconConfigs.set(Bt,sn),this._getSvgFromConfig(sn);const Kn=this._iconSetConfigs.get(ot);return Kn?this._getSvgFromIconSetConfigs(Ce,Kn):(0,J._)(Nt(Bt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(Ce){return Ce.svgText?(0,C.of)(j(this._svgElementFromConfig(Ce))):this._loadSvgIconFromConfig(Ce).pipe((0,ae.U)(ot=>j(ot)))}_getSvgFromIconSetConfigs(Ce,ot){const Bt=this._extractIconWithNameFromAnySet(Ce,ot);if(Bt)return(0,C.of)(Bt);const sn=ot.filter(Kn=>!Kn.svgText).map(Kn=>this._loadSvgIconSetFromConfig(Kn).pipe((0,me.K)(On=>{const Bi=`Loading icon set URL: ${this._sanitizer.sanitize(p.q3G.RESOURCE_URL,Kn.url)} failed: ${On.message}`;return this._errorHandler.handleError(new Error(Bi)),(0,C.of)(null)})));return(0,we.D)(sn).pipe((0,ae.U)(()=>{const Kn=this._extractIconWithNameFromAnySet(Ce,ot);if(!Kn)throw Nt(Ce);return Kn}))}_extractIconWithNameFromAnySet(Ce,ot){for(let Bt=ot.length-1;Bt>=0;Bt--){const sn=ot[Bt];if(sn.svgText&&sn.svgText.toString().indexOf(Ce)>-1){const Kn=this._svgElementFromConfig(sn),On=this._extractSvgIconFromSet(Kn,Ce,sn.options);if(On)return On}}return null}_loadSvgIconFromConfig(Ce){return this._fetchIcon(Ce).pipe((0,Se.b)(ot=>Ce.svgText=ot),(0,ae.U)(()=>this._svgElementFromConfig(Ce)))}_loadSvgIconSetFromConfig(Ce){return Ce.svgText?(0,C.of)(null):this._fetchIcon(Ce).pipe((0,Se.b)(ot=>Ce.svgText=ot))}_extractSvgIconFromSet(Ce,ot,Bt){const sn=Ce.querySelector(`[id="${ot}"]`);if(!sn)return null;const Kn=sn.cloneNode(!0);if(Kn.removeAttribute("id"),"svg"===Kn.nodeName.toLowerCase())return this._setSvgAttributes(Kn,Bt);if("symbol"===Kn.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Kn),Bt);const On=this._svgElementFromString(ue("<svg></svg>"));return On.appendChild(Kn),this._setSvgAttributes(On,Bt)}_svgElementFromString(Ce){const ot=this._document.createElement("DIV");ot.innerHTML=Ce;const Bt=ot.querySelector("svg");if(!Bt)throw Error("<svg> tag not found");return Bt}_toSvgElement(Ce){const ot=this._svgElementFromString(ue("<svg></svg>")),Bt=Ce.attributes;for(let sn=0;sn<Bt.length;sn++){const{name:Kn,value:On}=Bt[sn];"id"!==Kn&&ot.setAttribute(Kn,On)}for(let sn=0;sn<Ce.childNodes.length;sn++)Ce.childNodes[sn].nodeType===this._document.ELEMENT_NODE&&ot.appendChild(Ce.childNodes[sn].cloneNode(!0));return ot}_setSvgAttributes(Ce,ot){return Ce.setAttribute("fit",""),Ce.setAttribute("height","100%"),Ce.setAttribute("width","100%"),Ce.setAttribute("preserveAspectRatio","xMidYMid meet"),Ce.setAttribute("focusable","false"),ot&&ot.viewBox&&Ce.setAttribute("viewBox",ot.viewBox),Ce}_fetchIcon(Ce){var ot;const{url:Bt,options:sn}=Ce,Kn=null!==(ot=sn?.withCredentials)&&void 0!==ot&&ot;if(!this._httpClient)throw function zt(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==Bt)throw Error(`Cannot fetch icon from URL "${Bt}".`);const On=this._sanitizer.sanitize(p.q3G.RESOURCE_URL,Bt);if(!On)throw st(Bt);const fi=this._inProgressUrlFetches.get(On);if(fi)return fi;const Bi=this._httpClient.get(On,{responseType:"text",withCredentials:Kn}).pipe((0,ae.U)(dr=>ue(dr)),(0,ye.x)(()=>this._inProgressUrlFetches.delete(On)),(0,Pe.B)());return this._inProgressUrlFetches.set(On,Bi),Bi}_addSvgIconConfig(Ce,ot,Bt){return this._svgIconConfigs.set(G(Ce,ot),Bt),this}_addSvgIconSetConfig(Ce,ot){const Bt=this._iconSetConfigs.get(Ce);return Bt?Bt.push(ot):this._iconSetConfigs.set(Ce,[ot]),this}_svgElementFromConfig(Ce){if(!Ce.svgElement){const ot=this._svgElementFromString(Ce.svgText);this._setSvgAttributes(ot,Ce.options),Ce.svgElement=ot}return Ce.svgElement}_getIconConfigFromResolvers(Ce,ot){for(let Bt=0;Bt<this._resolvers.length;Bt++){const sn=this._resolvers[Bt](ot,Ce);if(sn)return X(sn)?new Je(sn.url,null,sn.options):new Je(sn,null)}}}return Ye.\u0275fac=function(Ce){return new(Ce||Ye)(p.LFG(Ze,8),p.LFG(Jt.H7),p.LFG(ne.K0,8),p.LFG(p.qLn))},Ye.\u0275prov=p.Yz7({token:Ye,factory:Ye.\u0275fac,providedIn:"root"}),Ye})();function j(Ye){return Ye.cloneNode(!0)}function G(Ye,De){return Ye+":"+De}function X(Ye){return!(!Ye.url||!Ye.options)}const K=(0,N.pj)(class{constructor(Ye){this._elementRef=Ye}}),he=new p.OlP("MAT_ICON_DEFAULT_OPTIONS"),Xe=new p.OlP("mat-icon-location",{providedIn:"root",factory:function Et(){const Ye=(0,p.f3M)(ne.K0),De=Ye?Ye.location:null;return{getPathname:()=>De?De.pathname+De.search:""}}}),dn=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],fn=dn.map(Ye=>`[${Ye}]`).join(", "),ze=/^url\(['"]?#(.*?)['"]?\)$/;let $e=(()=>{class Ye extends K{constructor(Ce,ot,Bt,sn,Kn,On){super(Ce),this._iconRegistry=ot,this._location=sn,this._errorHandler=Kn,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=fe.w.EMPTY,On&&(On.color&&(this.color=this.defaultColor=On.color),On.fontSet&&(this.fontSet=On.fontSet)),Bt||Ce.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(Ce){this._inline=(0,_.Ig)(Ce)}get svgIcon(){return this._svgIcon}set svgIcon(Ce){Ce!==this._svgIcon&&(Ce?this._updateSvgIcon(Ce):this._svgIcon&&this._clearSvgElement(),this._svgIcon=Ce)}get fontSet(){return this._fontSet}set fontSet(Ce){const ot=this._cleanupFontValue(Ce);ot!==this._fontSet&&(this._fontSet=ot,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(Ce){const ot=this._cleanupFontValue(Ce);ot!==this._fontIcon&&(this._fontIcon=ot,this._updateFontIconClasses())}_splitIconName(Ce){if(!Ce)return["",""];const ot=Ce.split(":");switch(ot.length){case 1:return["",ot[0]];case 2:return ot;default:throw Error(`Invalid icon name: "${Ce}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const Ce=this._elementsWithExternalReferences;if(Ce&&Ce.size){const ot=this._location.getPathname();ot!==this._previousPath&&(this._previousPath=ot,this._prependPathToReferences(ot))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(Ce){this._clearSvgElement();const ot=this._location.getPathname();this._previousPath=ot,this._cacheChildrenWithExternalReferences(Ce),this._prependPathToReferences(ot),this._elementRef.nativeElement.appendChild(Ce)}_clearSvgElement(){const Ce=this._elementRef.nativeElement;let ot=Ce.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();ot--;){const Bt=Ce.childNodes[ot];(1!==Bt.nodeType||"svg"===Bt.nodeName.toLowerCase())&&Bt.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const Ce=this._elementRef.nativeElement,ot=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Bt=>Bt.length>0);this._previousFontSetClass.forEach(Bt=>Ce.classList.remove(Bt)),ot.forEach(Bt=>Ce.classList.add(Bt)),this._previousFontSetClass=ot,this.fontIcon!==this._previousFontIconClass&&!ot.includes("mat-ligature-font")&&(this._previousFontIconClass&&Ce.classList.remove(this._previousFontIconClass),this.fontIcon&&Ce.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(Ce){return"string"==typeof Ce?Ce.trim().split(" ")[0]:Ce}_prependPathToReferences(Ce){const ot=this._elementsWithExternalReferences;ot&&ot.forEach((Bt,sn)=>{Bt.forEach(Kn=>{sn.setAttribute(Kn.name,`url('${Ce}#${Kn.value}')`)})})}_cacheChildrenWithExternalReferences(Ce){const ot=Ce.querySelectorAll(fn),Bt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let sn=0;sn<ot.length;sn++)dn.forEach(Kn=>{const On=ot[sn],fi=On.getAttribute(Kn),Bi=fi?fi.match(ze):null;if(Bi){let dr=Bt.get(On);dr||(dr=[],Bt.set(On,dr)),dr.push({name:Kn,value:Bi[1]})}})}_updateSvgIcon(Ce){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),Ce){const[ot,Bt]=this._splitIconName(Ce);ot&&(this._svgNamespace=ot),Bt&&(this._svgName=Bt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Bt,ot).pipe((0,Ke.q)(1)).subscribe(sn=>this._setSvgElement(sn),sn=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${ot}:${Bt}! ${sn.message}`))})}}}return Ye.\u0275fac=function(Ce){return new(Ce||Ye)(p.Y36(p.SBq),p.Y36(Tt),p.$8M("aria-hidden"),p.Y36(Xe),p.Y36(p.qLn),p.Y36(he,8))},Ye.\u0275cmp=p.Xpm({type:Ye,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(Ce,ot){2&Ce&&(p.uIk("data-mat-icon-type",ot._usingFontIcon()?"font":"svg")("data-mat-icon-name",ot._svgName||ot.fontIcon)("data-mat-icon-namespace",ot._svgNamespace||ot.fontSet)("fontIcon",ot._usingFontIcon()?ot.fontIcon:null),p.ekj("mat-icon-inline",ot.inline)("mat-icon-no-color","primary"!==ot.color&&"accent"!==ot.color&&"warn"!==ot.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[p.qOj],ngContentSelectors:be,decls:1,vars:0,template:function(Ce,ot){1&Ce&&(p.F$t(),p.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),Ye})(),He=(()=>{class Ye{}return Ye.\u0275fac=function(Ce){return new(Ce||Ye)},Ye.\u0275mod=p.oAB({type:Ye}),Ye.\u0275inj=p.cJS({imports:[N.BQ,N.BQ]}),Ye})()},4144:(_n,vt,k)=>{"use strict";k.d(vt,{Jk:()=>ut,Nt:()=>jt,c:()=>ht});var p=k(1281),N=k(3353),_=k(4650),ne=k(8896),C=k(8929);const J=(0,N.i$)({passive:!0});let we=(()=>{class kt{constructor(et,Ve){this._platform=et,this._ngZone=Ve,this._monitoredElements=new Map}monitor(et){if(!this._platform.isBrowser)return ne.E;const Ve=(0,p.fI)(et),pt=this._monitoredElements.get(Ve);if(pt)return pt.subject;const tt=new C.xQ,Qe="cdk-text-field-autofilled",Lt=We=>{"cdk-text-field-autofill-start"!==We.animationName||Ve.classList.contains(Qe)?"cdk-text-field-autofill-end"===We.animationName&&Ve.classList.contains(Qe)&&(Ve.classList.remove(Qe),this._ngZone.run(()=>tt.next({target:We.target,isAutofilled:!1}))):(Ve.classList.add(Qe),this._ngZone.run(()=>tt.next({target:We.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{Ve.addEventListener("animationstart",Lt,J),Ve.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(Ve,{subject:tt,unlisten:()=>{Ve.removeEventListener("animationstart",Lt,J)}}),tt}stopMonitoring(et){const Ve=(0,p.fI)(et),pt=this._monitoredElements.get(Ve);pt&&(pt.unlisten(),pt.subject.complete(),Ve.classList.remove("cdk-text-field-autofill-monitored"),Ve.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(Ve))}ngOnDestroy(){this._monitoredElements.forEach((et,Ve)=>this.stopMonitoring(Ve))}}return kt.\u0275fac=function(et){return new(et||kt)(_.LFG(N.t4),_.LFG(_.R0b))},kt.\u0275prov=_.Yz7({token:kt,factory:kt.\u0275fac,providedIn:"root"}),kt})(),ae=(()=>{class kt{}return kt.\u0275fac=function(et){return new(et||kt)},kt.\u0275mod=_.oAB({type:kt}),kt.\u0275inj=_.cJS({}),kt})();var me=k(4006),ye=k(3238),Pe=k(9549);const ut=new _.OlP("MAT_INPUT_VALUE_ACCESSOR"),je=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let ct=0;const mt=(0,ye.FD)(class{constructor(kt,yt,et,Ve){this._defaultErrorStateMatcher=kt,this._parentForm=yt,this._parentFormGroup=et,this.ngControl=Ve,this.stateChanges=new C.xQ}});let jt=(()=>{class kt extends mt{constructor(et,Ve,pt,tt,Qe,Lt,We,Ot,Vt,bn){super(Lt,tt,Qe,pt),this._elementRef=et,this._platform=Ve,this._autofillMonitor=Ot,this._formField=bn,this._uid="mat-input-"+ct++,this.focused=!1,this.stateChanges=new C.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(oi=>(0,N.qK)().has(oi)),this._iOSKeyupListener=oi=>{const Nn=oi.target;!Nn.value&&0===Nn.selectionStart&&0===Nn.selectionEnd&&(Nn.setSelectionRange(1,1),Nn.setSelectionRange(0,0))};const qn=this._elementRef.nativeElement,jn=qn.nodeName.toLowerCase();this._inputValueAccessor=We||qn,this._previousNativeValue=this.value,this.id=this.id,Ve.IOS&&Vt.runOutsideAngular(()=>{et.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===jn,this._isTextarea="textarea"===jn,this._isInFormField=!!bn,this._isNativeSelect&&(this.controlType=qn.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(et){this._disabled=(0,p.Ig)(et),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(et){this._id=et||this._uid}get required(){var et,Ve,pt,tt;return null!==(et=null!==(Ve=this._required)&&void 0!==Ve?Ve:null===(pt=this.ngControl)||void 0===pt||null===(tt=pt.control)||void 0===tt?void 0:tt.hasValidator(me.kI.required))&&void 0!==et&&et}set required(et){this._required=(0,p.Ig)(et)}get type(){return this._type}set type(et){this._type=et||"text",this._validateType(),!this._isTextarea&&(0,N.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(et){et!==this.value&&(this._inputValueAccessor.value=et,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(et){this._readonly=(0,p.Ig)(et)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(et=>{this.autofilled=et.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(et){this._elementRef.nativeElement.focus(et)}_focusChanged(et){et!==this.focused&&(this.focused=et,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var et;const Ve=this._formField,pt=!Ve||"legacy"!==Ve.appearance||null!==(et=Ve._hasLabel)&&void 0!==et&&et.call(Ve)?this.placeholder:null;if(pt!==this._previousPlaceholder){const tt=this._elementRef.nativeElement;this._previousPlaceholder=pt,pt?tt.setAttribute("placeholder",pt):tt.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const et=this._elementRef.nativeElement.value;this._previousNativeValue!==et&&(this._previousNativeValue=et,this.stateChanges.next())}_validateType(){je.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let et=this._elementRef.nativeElement.validity;return et&&et.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const et=this._elementRef.nativeElement,Ve=et.options[0];return this.focused||et.multiple||!this.empty||!!(et.selectedIndex>-1&&Ve&&Ve.label)}return this.focused||!this.empty}setDescribedByIds(et){et.length?this._elementRef.nativeElement.setAttribute("aria-describedby",et.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const et=this._elementRef.nativeElement;return this._isNativeSelect&&(et.multiple||et.size>1)}}return kt.\u0275fac=function(et){return new(et||kt)(_.Y36(_.SBq),_.Y36(N.t4),_.Y36(me.a5,10),_.Y36(me.F,8),_.Y36(me.sg,8),_.Y36(ye.rD),_.Y36(ut,10),_.Y36(we),_.Y36(_.R0b),_.Y36(Pe.G_,8))},kt.\u0275dir=_.lG2({type:kt,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(et,Ve){1&et&&_.NdJ("focus",function(){return Ve._focusChanged(!0)})("blur",function(){return Ve._focusChanged(!1)})("input",function(){return Ve._onInput()}),2&et&&(_.Ikx("disabled",Ve.disabled)("required",Ve.required),_.uIk("id",Ve.id)("data-placeholder",Ve.placeholder)("name",Ve.name||null)("readonly",Ve.readonly&&!Ve._isNativeSelect||null)("aria-invalid",Ve.empty&&Ve.required?null:Ve.errorState)("aria-required",Ve.required),_.ekj("mat-input-server",Ve._isServer)("mat-native-select-inline",Ve._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[_._Bn([{provide:Pe.Eo,useExisting:kt}]),_.qOj,_.TTD]}),kt})(),ht=(()=>{class kt{}return kt.\u0275fac=function(et){return new(et||kt)},kt.\u0275mod=_.oAB({type:kt}),kt.\u0275inj=_.cJS({providers:[ye.rD],imports:[ae,Pe.lN,ye.BQ,ae,Pe.lN]}),kt})()},8255:(_n,vt,k)=>{"use strict";k.d(vt,{Tx:()=>$n,VK:()=>tn,p6:()=>Gt});var p=k(2687),N=k(1281),_=k(9521),ne=k(4650),C=k(8929),J=k(2654),we=k(6787),fe=k(1086),Se=k(8139),ae=k(1059),me=k(7545),ye=k(2986),Pe=k(7625),Ke=k(2198),ut=k(8583),je=k(7340),ct=k(4080),mt=k(6895),jt=k(3238),ht=k(445),kt=k(8184),yt=k(3353),et=k(2556);const Ve=["mat-menu-item",""];function pt(Dn,gt){1&Dn&&(ne.O4$(),ne.TgZ(0,"svg",2),ne._UZ(1,"polygon",3),ne.qZA())}const tt=["*"];function Qe(Dn,gt){if(1&Dn){const ee=ne.EpF();ne.TgZ(0,"div",0),ne.NdJ("keydown",function(Le){ne.CHM(ee);const Be=ne.oxw();return ne.KtG(Be._handleKeydown(Le))})("click",function(){ne.CHM(ee);const Le=ne.oxw();return ne.KtG(Le.closed.emit("click"))})("@transformMenu.start",function(Le){ne.CHM(ee);const Be=ne.oxw();return ne.KtG(Be._onAnimationStart(Le))})("@transformMenu.done",function(Le){ne.CHM(ee);const Be=ne.oxw();return ne.KtG(Be._onAnimationDone(Le))}),ne.TgZ(1,"div",1),ne.Hsn(2),ne.qZA()()}if(2&Dn){const ee=ne.oxw();ne.Q6J("id",ee.panelId)("ngClass",ee._classList)("@transformMenu",ee._panelAnimationState),ne.uIk("aria-label",ee.ariaLabel||null)("aria-labelledby",ee.ariaLabelledby||null)("aria-describedby",ee.ariaDescribedby||null)}}const Lt={transformMenu:(0,je.X$)("transformMenu",[(0,je.SB)("void",(0,je.oB)({opacity:0,transform:"scale(0.8)"})),(0,je.eR)("void => enter",(0,je.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,je.oB)({opacity:1,transform:"scale(1)"}))),(0,je.eR)("* => void",(0,je.jt)("100ms 25ms linear",(0,je.oB)({opacity:0})))]),fadeInItems:(0,je.X$)("fadeInItems",[(0,je.SB)("showing",(0,je.oB)({opacity:1})),(0,je.eR)("void => *",[(0,je.oB)({opacity:0}),(0,je.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Vt=new ne.OlP("MatMenuContent"),rn=new ne.OlP("MAT_MENU_PANEL"),gn=(0,jt.Kr)((0,jt.Id)(class{}));let Re=(()=>{class Dn extends gn{constructor(ee,de,Le,Be,Ct){var Zt;super(),this._elementRef=ee,this._document=de,this._focusMonitor=Le,this._parentMenu=Be,this._changeDetectorRef=Ct,this.role="menuitem",this._hovered=new C.xQ,this._focused=new C.xQ,this._highlighted=!1,this._triggersSubmenu=!1,null==Be||null===(Zt=Be.addItem)||void 0===Zt||Zt.call(Be,this)}focus(ee,de){this._focusMonitor&&ee?this._focusMonitor.focusVia(this._getHostElement(),ee,de):this._getHostElement().focus(de),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(ee){this.disabled&&(ee.preventDefault(),ee.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var ee;const de=this._elementRef.nativeElement.cloneNode(!0),Le=de.querySelectorAll("mat-icon, .material-icons");for(let Be=0;Be<Le.length;Be++)Le[Be].remove();return(null===(ee=de.textContent)||void 0===ee?void 0:ee.trim())||""}_setHighlighted(ee){var de;this._highlighted=ee,null===(de=this._changeDetectorRef)||void 0===de||de.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return Dn.\u0275fac=function(ee){return new(ee||Dn)(ne.Y36(ne.SBq),ne.Y36(mt.K0),ne.Y36(p.tE),ne.Y36(rn,8),ne.Y36(ne.sBO))},Dn.\u0275cmp=ne.Xpm({type:Dn,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(ee,de){1&ee&&ne.NdJ("click",function(Be){return de._checkDisabled(Be)})("mouseenter",function(){return de._handleMouseEnter()}),2&ee&&(ne.uIk("role",de.role)("tabindex",de._getTabIndex())("aria-disabled",de.disabled.toString())("disabled",de.disabled||null),ne.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",de._highlighted)("mat-menu-item-submenu-trigger",de._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[ne.qOj],attrs:Ve,ngContentSelectors:tt,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(ee,de){1&ee&&(ne.F$t(),ne.Hsn(0),ne._UZ(1,"div",0),ne.YNc(2,pt,2,0,"svg",1)),2&ee&&(ne.xp6(1),ne.Q6J("matRippleDisabled",de.disableRipple||de.disabled)("matRippleTrigger",de._getHostElement()),ne.xp6(1),ne.Q6J("ngIf",de._triggersSubmenu))},dependencies:[mt.O5,jt.wG],encapsulation:2,changeDetection:0}),Dn})();const Ue=new ne.OlP("mat-menu-default-options",{providedIn:"root",factory:function Fe(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Ze=0,St=(()=>{class Dn{constructor(ee,de,Le,Be){this._elementRef=ee,this._ngZone=de,this._defaultOptions=Le,this._changeDetectorRef=Be,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new ne.n_E,this._tabSubscription=J.w.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new C.xQ,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new ne.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+Ze++}get xPosition(){return this._xPosition}set xPosition(ee){this._xPosition=ee,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(ee){this._yPosition=ee,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(ee){this._overlapTrigger=(0,N.Ig)(ee)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(ee){this._hasBackdrop=(0,N.Ig)(ee)}set panelClass(ee){const de=this._previousPanelClass;de&&de.length&&de.split(" ").forEach(Le=>{this._classList[Le]=!1}),this._previousPanelClass=ee,ee&&ee.length&&(ee.split(" ").forEach(Le=>{this._classList[Le]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(ee){this.panelClass=ee}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new p.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,ae.O)(this._directDescendantItems),(0,me.w)(ee=>(0,we.T)(...ee.map(de=>de._focused)))).subscribe(ee=>this._keyManager.updateActiveItem(ee)),this._directDescendantItems.changes.subscribe(ee=>{var de;const Le=this._keyManager;if("enter"===this._panelAnimationState&&null!==(de=Le.activeItem)&&void 0!==de&&de._hasFocus()){const Be=ee.toArray(),Ct=Math.max(0,Math.min(Be.length-1,Le.activeItemIndex||0));Be[Ct]&&!Be[Ct].disabled?Le.setActiveItem(Ct):Le.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe((0,ae.O)(this._directDescendantItems),(0,me.w)(de=>(0,we.T)(...de.map(Le=>Le._hovered))))}addItem(ee){}removeItem(ee){}_handleKeydown(ee){const de=ee.keyCode,Le=this._keyManager;switch(de){case _.hY:(0,_.Vb)(ee)||(ee.preventDefault(),this.closed.emit("keydown"));break;case _.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case _.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(de===_.LH||de===_.JH)&&Le.setFocusOrigin("keyboard"),void Le.onKeydown(ee)}ee.stopPropagation()}focusFirstItem(ee="program"){this._ngZone.onStable.pipe((0,ye.q)(1)).subscribe(()=>{let de=null;if(this._directDescendantItems.length&&(de=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!de||!de.contains(document.activeElement)){const Le=this._keyManager;Le.setFocusOrigin(ee).setFirstItemActive(),!Le.activeItem&&de&&de.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(ee){const de=Math.min(this._baseElevation+ee,24),Le=`${this._elevationPrefix}${de}`,Be=Object.keys(this._classList).find(Ct=>Ct.startsWith(this._elevationPrefix));(!Be||Be===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[Le]=!0,this._previousElevation=Le)}setPositionClasses(ee=this.xPosition,de=this.yPosition){var Le;const Be=this._classList;Be["mat-menu-before"]="before"===ee,Be["mat-menu-after"]="after"===ee,Be["mat-menu-above"]="above"===de,Be["mat-menu-below"]="below"===de,null===(Le=this._changeDetectorRef)||void 0===Le||Le.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(ee){this._animationDone.next(ee),this._isAnimating=!1}_onAnimationStart(ee){this._isAnimating=!0,"enter"===ee.toState&&0===this._keyManager.activeItemIndex&&(ee.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,ae.O)(this._allItems)).subscribe(ee=>{this._directDescendantItems.reset(ee.filter(de=>de._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return Dn.\u0275fac=function(ee){return new(ee||Dn)(ne.Y36(ne.SBq),ne.Y36(ne.R0b),ne.Y36(Ue),ne.Y36(ne.sBO))},Dn.\u0275dir=ne.lG2({type:Dn,contentQueries:function(ee,de,Le){if(1&ee&&(ne.Suo(Le,Vt,5),ne.Suo(Le,Re,5),ne.Suo(Le,Re,4)),2&ee){let Be;ne.iGM(Be=ne.CRH())&&(de.lazyContent=Be.first),ne.iGM(Be=ne.CRH())&&(de._allItems=Be),ne.iGM(Be=ne.CRH())&&(de.items=Be)}},viewQuery:function(ee,de){if(1&ee&&ne.Gf(ne.Rgc,5),2&ee){let Le;ne.iGM(Le=ne.CRH())&&(de.templateRef=Le.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),Dn})(),tn=(()=>{class Dn extends St{constructor(ee,de,Le,Be){super(ee,de,Le,Be),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return Dn.\u0275fac=function(ee){return new(ee||Dn)(ne.Y36(ne.SBq),ne.Y36(ne.R0b),ne.Y36(Ue),ne.Y36(ne.sBO))},Dn.\u0275cmp=ne.Xpm({type:Dn,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(ee,de){2&ee&&ne.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[ne._Bn([{provide:rn,useExisting:Dn}]),ne.qOj],ngContentSelectors:tt,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(ee,de){1&ee&&(ne.F$t(),ne.YNc(0,Qe,3,6,"ng-template"))},dependencies:[mt.mk],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Lt.transformMenu,Lt.fadeInItems]},changeDetection:0}),Dn})();const Ln=new ne.OlP("mat-menu-scroll-strategy"),qt={provide:Ln,deps:[kt.aV],useFactory:function It(Dn){return()=>Dn.scrollStrategies.reposition()}},Ht=(0,yt.i$)({passive:!0});let En=(()=>{class Dn{constructor(ee,de,Le,Be,Ct,Zt,hn,Un,Cn){this._overlay=ee,this._element=de,this._viewContainerRef=Le,this._menuItemInstance=Zt,this._dir=hn,this._focusMonitor=Un,this._ngZone=Cn,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=J.w.EMPTY,this._hoverSubscription=J.w.EMPTY,this._menuCloseSubscription=J.w.EMPTY,this._handleTouchStart=pn=>{(0,p.yG)(pn)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new ne.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new ne.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=Be,this._parentMaterialMenu=Ct instanceof St?Ct:void 0,de.nativeElement.addEventListener("touchstart",this._handleTouchStart,Ht),Zt&&(Zt._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(ee){this.menu=ee}get menu(){return this._menu}set menu(ee){ee!==this._menu&&(this._menu=ee,this._menuCloseSubscription.unsubscribe(),ee&&(this._menuCloseSubscription=ee.close.subscribe(de=>{this._destroyMenu(de),("click"===de||"tab"===de)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(de)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Ht),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const ee=this.menu;if(this._menuOpen||!ee)return;const de=this._createOverlay(ee),Le=de.getConfig(),Be=Le.positionStrategy;this._setPosition(ee,Be),Le.hasBackdrop=ee.hasBackdrop??!this.triggersSubmenu(),de.attach(this._getPortal(ee)),ee.lazyContent&&ee.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(ee),ee instanceof St&&(ee._startAnimation(),ee._directDescendantItems.changes.pipe((0,Pe.R)(ee.close)).subscribe(()=>{Be.withLockedPosition(!1).reapplyLastPosition(),Be.withLockedPosition(!0)}))}closeMenu(){var ee;null===(ee=this.menu)||void 0===ee||ee.close.emit()}focus(ee,de){this._focusMonitor&&ee?this._focusMonitor.focusVia(this._element,ee,de):this._element.nativeElement.focus(de)}updatePosition(){var ee;null===(ee=this._overlayRef)||void 0===ee||ee.updatePosition()}_destroyMenu(ee){if(!this._overlayRef||!this.menuOpen)return;const de=this.menu;var Le;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===ee||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,de instanceof St?(de._resetAnimation(),de.lazyContent?de._animationDone.pipe((0,Ke.h)(Be=>"void"===Be.toState),(0,ye.q)(1),(0,Pe.R)(de.lazyContent._attached)).subscribe({next:()=>de.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),null==de||null===(Le=de.lazyContent)||void 0===Le||Le.detach())}_initMenu(ee){ee.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,ee.direction=this.dir,this._setMenuElevation(ee),ee.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(ee){if(ee.setElevation){let de=0,Le=ee.parentMenu;for(;Le;)de++,Le=Le.parentMenu;ee.setElevation(de)}}_setIsMenuOpen(ee){this._menuOpen=ee,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(ee)}_createOverlay(ee){if(!this._overlayRef){const de=this._getOverlayConfig(ee);this._subscribeToPositions(ee,de.positionStrategy),this._overlayRef=this._overlay.create(de),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(ee){return new kt.X_({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:ee.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:ee.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(ee,de){ee.setPositionClasses&&de.positionChanges.subscribe(Le=>{const Be="start"===Le.connectionPair.overlayX?"after":"before",Ct="top"===Le.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>ee.setPositionClasses(Be,Ct)):ee.setPositionClasses(Be,Ct)})}_setPosition(ee,de){let[Le,Be]="before"===ee.xPosition?["end","start"]:["start","end"],[Ct,Zt]="above"===ee.yPosition?["bottom","top"]:["top","bottom"],[hn,Un]=[Ct,Zt],[Cn,pn]=[Le,Be],Fn=0;if(this.triggersSubmenu()){if(pn=Le="before"===ee.xPosition?"start":"end",Be=Cn="end"===Le?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const di=this._parentMaterialMenu.items.first;this._parentInnerPadding=di?di._getHostElement().offsetTop:0}Fn="bottom"===Ct?this._parentInnerPadding:-this._parentInnerPadding}}else ee.overlapTrigger||(hn="top"===Ct?"bottom":"top",Un="top"===Zt?"bottom":"top");de.withPositions([{originX:Le,originY:hn,overlayX:Cn,overlayY:Ct,offsetY:Fn},{originX:Be,originY:hn,overlayX:pn,overlayY:Ct,offsetY:Fn},{originX:Le,originY:Un,overlayX:Cn,overlayY:Zt,offsetY:-Fn},{originX:Be,originY:Un,overlayX:pn,overlayY:Zt,offsetY:-Fn}])}_menuClosingActions(){const ee=this._overlayRef.backdropClick(),de=this._overlayRef.detachments(),Le=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,fe.of)(),Be=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,Ke.h)(Ct=>Ct!==this._menuItemInstance),(0,Ke.h)(()=>this._menuOpen)):(0,fe.of)();return(0,we.T)(ee,Le,Be,de)}_handleMousedown(ee){(0,p.X6)(ee)||(this._openedBy=0===ee.button?"mouse":void 0,this.triggersSubmenu()&&ee.preventDefault())}_handleKeydown(ee){const de=ee.keyCode;(de===_.K5||de===_.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(de===_.SV&&"ltr"===this.dir||de===_.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(ee){this.triggersSubmenu()?(ee.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,Ke.h)(ee=>ee===this._menuItemInstance&&!ee.disabled),(0,ut.g)(0,Se.e)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof St&&this.menu._isAnimating?this.menu._animationDone.pipe((0,ye.q)(1),(0,ut.g)(0,Se.e),(0,Pe.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(ee){return(!this._portal||this._portal.templateRef!==ee.templateRef)&&(this._portal=new ct.UE(ee.templateRef,this._viewContainerRef)),this._portal}}return Dn.\u0275fac=function(ee){return new(ee||Dn)(ne.Y36(kt.aV),ne.Y36(ne.SBq),ne.Y36(ne.s_b),ne.Y36(Ln),ne.Y36(rn,8),ne.Y36(Re,10),ne.Y36(ht.Is,8),ne.Y36(p.tE),ne.Y36(ne.R0b))},Dn.\u0275dir=ne.lG2({type:Dn,hostVars:3,hostBindings:function(ee,de){1&ee&&ne.NdJ("click",function(Be){return de._handleClick(Be)})("mousedown",function(Be){return de._handleMousedown(Be)})("keydown",function(Be){return de._handleKeydown(Be)}),2&ee&&ne.uIk("aria-haspopup",de.menu?"menu":null)("aria-expanded",de.menuOpen||null)("aria-controls",de.menuOpen?de.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),Dn})(),Gt=(()=>{class Dn extends En{}return Dn.\u0275fac=function(){let gt;return function(de){return(gt||(gt=ne.n5z(Dn)))(de||Dn)}}(),Dn.\u0275dir=ne.lG2({type:Dn,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[ne.qOj]}),Dn})(),$n=(()=>{class Dn{}return Dn.\u0275fac=function(ee){return new(ee||Dn)},Dn.\u0275mod=ne.oAB({type:Dn}),Dn.\u0275inj=ne.cJS({providers:[qt],imports:[mt.ez,jt.BQ,jt.si,kt.U8,et.ZD,jt.BQ]}),Dn})()},1481:(_n,vt,k)=>{"use strict";k.d(vt,{Dx:()=>hn,H7:()=>Xe,b2:()=>de,q6:()=>$n,se:()=>Vt});var p=k(6895),N=k(4650);class _ extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ne extends _{static makeCurrent(){(0,p.HT)(new ne)}onAndCancel($e,He,Ye){return $e.addEventListener(He,Ye,!1),()=>{$e.removeEventListener(He,Ye,!1)}}dispatchEvent($e,He){$e.dispatchEvent(He)}remove($e){$e.parentNode&&$e.parentNode.removeChild($e)}createElement($e,He){return(He=He||this.getDefaultDocument()).createElement($e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($e){return $e.nodeType===Node.ELEMENT_NODE}isShadowRoot($e){return $e instanceof DocumentFragment}getGlobalEventTarget($e,He){return"window"===He?window:"document"===He?$e:"body"===He?$e.body:null}getBaseHref($e){const He=function J(){return C=C||document.querySelector("base"),C?C.getAttribute("href"):null}();return null==He?null:function fe(ze){we=we||document.createElement("a"),we.setAttribute("href",ze);const $e=we.pathname;return"/"===$e.charAt(0)?$e:`/${$e}`}(He)}resetBaseElement(){C=null}getUserAgent(){return window.navigator.userAgent}getCookie($e){return(0,p.Mx)(document.cookie,$e)}}let we,C=null;const Se=new N.OlP("TRANSITION_ID"),me=[{provide:N.ip1,useFactory:function ae(ze,$e,He){return()=>{He.get(N.CZH).donePromise.then(()=>{const Ye=(0,p.q)(),De=$e.querySelectorAll(`style[ng-transition="${ze}"]`);for(let Ce=0;Ce<De.length;Ce++)Ye.remove(De[Ce])})}},deps:[Se,p.K0,N.zs3],multi:!0}];let Pe=(()=>{class ze{build(){return new XMLHttpRequest}}return ze.\u0275fac=function(He){return new(He||ze)},ze.\u0275prov=N.Yz7({token:ze,factory:ze.\u0275fac}),ze})();const Ke=new N.OlP("EventManagerPlugins");let ut=(()=>{class ze{constructor(He,Ye){this._zone=Ye,this._eventNameToPlugin=new Map,He.forEach(De=>De.manager=this),this._plugins=He.slice().reverse()}addEventListener(He,Ye,De){return this._findPluginFor(Ye).addEventListener(He,Ye,De)}addGlobalEventListener(He,Ye,De){return this._findPluginFor(Ye).addGlobalEventListener(He,Ye,De)}getZone(){return this._zone}_findPluginFor(He){const Ye=this._eventNameToPlugin.get(He);if(Ye)return Ye;const De=this._plugins;for(let Ce=0;Ce<De.length;Ce++){const ot=De[Ce];if(ot.supports(He))return this._eventNameToPlugin.set(He,ot),ot}throw new Error(`No event manager plugin found for event ${He}`)}}return ze.\u0275fac=function(He){return new(He||ze)(N.LFG(Ke),N.LFG(N.R0b))},ze.\u0275prov=N.Yz7({token:ze,factory:ze.\u0275fac}),ze})();class je{constructor($e){this._doc=$e}addGlobalEventListener($e,He,Ye){const De=(0,p.q)().getGlobalEventTarget(this._doc,$e);if(!De)throw new Error(`Unsupported event target ${De} for event ${He}`);return this.addEventListener(De,He,Ye)}}let ct=(()=>{class ze{constructor(){this._stylesSet=new Set}addStyles(He){const Ye=new Set;He.forEach(De=>{this._stylesSet.has(De)||(this._stylesSet.add(De),Ye.add(De))}),this.onStylesAdded(Ye)}onStylesAdded(He){}getAllStyles(){return Array.from(this._stylesSet)}}return ze.\u0275fac=function(He){return new(He||ze)},ze.\u0275prov=N.Yz7({token:ze,factory:ze.\u0275fac}),ze})(),mt=(()=>{class ze extends ct{constructor(He){super(),this._doc=He,this._hostNodes=new Map,this._hostNodes.set(He.head,[])}_addStylesToHost(He,Ye,De){He.forEach(Ce=>{const ot=this._doc.createElement("style");ot.textContent=Ce,De.push(Ye.appendChild(ot))})}addHost(He){const Ye=[];this._addStylesToHost(this._stylesSet,He,Ye),this._hostNodes.set(He,Ye)}removeHost(He){const Ye=this._hostNodes.get(He);Ye&&Ye.forEach(jt),this._hostNodes.delete(He)}onStylesAdded(He){this._hostNodes.forEach((Ye,De)=>{this._addStylesToHost(He,De,Ye)})}ngOnDestroy(){this._hostNodes.forEach(He=>He.forEach(jt))}}return ze.\u0275fac=function(He){return new(He||ze)(N.LFG(p.K0))},ze.\u0275prov=N.Yz7({token:ze,factory:ze.\u0275fac}),ze})();function jt(ze){(0,p.q)().remove(ze)}const ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kt=/%COMP%/g;function Lt(ze,$e,He){for(let Ye=0;Ye<$e.length;Ye++){let De=$e[Ye];Array.isArray(De)?Lt(ze,De,He):(De=De.replace(kt,ze),He.push(De))}return He}function We(ze){return $e=>{if("__ngUnwrap__"===$e)return ze;!1===ze($e)&&($e.preventDefault(),$e.returnValue=!1)}}let Vt=(()=>{class ze{constructor(He,Ye,De){this.eventManager=He,this.sharedStylesHost=Ye,this.appId=De,this.rendererByCompId=new Map,this.defaultRenderer=new bn(He)}createRenderer(He,Ye){if(!He||!Ye)return this.defaultRenderer;switch(Ye.encapsulation){case N.ifc.Emulated:{let De=this.rendererByCompId.get(Ye.id);return De||(De=new Nn(this.eventManager,this.sharedStylesHost,Ye,this.appId),this.rendererByCompId.set(Ye.id,De)),De.applyToHost(He),De}case 1:case N.ifc.ShadowDom:return new rn(this.eventManager,this.sharedStylesHost,He,Ye);default:if(!this.rendererByCompId.has(Ye.id)){const De=Lt(Ye.id,Ye.styles,[]);this.sharedStylesHost.addStyles(De),this.rendererByCompId.set(Ye.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ze.\u0275fac=function(He){return new(He||ze)(N.LFG(ut),N.LFG(mt),N.LFG(N.AFp))},ze.\u0275prov=N.Yz7({token:ze,factory:ze.\u0275fac}),ze})();class bn{constructor($e){this.eventManager=$e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($e,He){return He?document.createElementNS(ht[He]||He,$e):document.createElement($e)}createComment($e){return document.createComment($e)}createText($e){return document.createTextNode($e)}appendChild($e,He){(oi($e)?$e.content:$e).appendChild(He)}insertBefore($e,He,Ye){$e&&(oi($e)?$e.content:$e).insertBefore(He,Ye)}removeChild($e,He){$e&&$e.removeChild(He)}selectRootElement($e,He){let Ye="string"==typeof $e?document.querySelector($e):$e;if(!Ye)throw new Error(`The selector "${$e}" did not match any elements`);return He||(Ye.textContent=""),Ye}parentNode($e){return $e.parentNode}nextSibling($e){return $e.nextSibling}setAttribute($e,He,Ye,De){if(De){He=De+":"+He;const Ce=ht[De];Ce?$e.setAttributeNS(Ce,He,Ye):$e.setAttribute(He,Ye)}else $e.setAttribute(He,Ye)}removeAttribute($e,He,Ye){if(Ye){const De=ht[Ye];De?$e.removeAttributeNS(De,He):$e.removeAttribute(`${Ye}:${He}`)}else $e.removeAttribute(He)}addClass($e,He){$e.classList.add(He)}removeClass($e,He){$e.classList.remove(He)}setStyle($e,He,Ye,De){De&(N.JOm.DashCase|N.JOm.Important)?$e.style.setProperty(He,Ye,De&N.JOm.Important?"important":""):$e.style[He]=Ye}removeStyle($e,He,Ye){Ye&N.JOm.DashCase?$e.style.removeProperty(He):$e.style[He]=""}setProperty($e,He,Ye){$e[He]=Ye}setValue($e,He){$e.nodeValue=He}listen($e,He,Ye){return"string"==typeof $e?this.eventManager.addGlobalEventListener($e,He,We(Ye)):this.eventManager.addEventListener($e,He,We(Ye))}}function oi(ze){return"TEMPLATE"===ze.tagName&&void 0!==ze.content}class Nn extends bn{constructor($e,He,Ye,De){super($e),this.component=Ye;const Ce=Lt(De+"-"+Ye.id,Ye.styles,[]);He.addStyles(Ce),this.contentAttr=function tt(ze){return"_ngcontent-%COMP%".replace(kt,ze)}(De+"-"+Ye.id),this.hostAttr=function Qe(ze){return"_nghost-%COMP%".replace(kt,ze)}(De+"-"+Ye.id)}applyToHost($e){super.setAttribute($e,this.hostAttr,"")}createElement($e,He){const Ye=super.createElement($e,He);return super.setAttribute(Ye,this.contentAttr,""),Ye}}class rn extends bn{constructor($e,He,Ye,De){super($e),this.sharedStylesHost=He,this.hostEl=Ye,this.shadowRoot=Ye.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ce=Lt(De.id,De.styles,[]);for(let ot=0;ot<Ce.length;ot++){const Bt=document.createElement("style");Bt.textContent=Ce[ot],this.shadowRoot.appendChild(Bt)}}nodeOrShadowRoot($e){return $e===this.hostEl?this.shadowRoot:$e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild($e,He){return super.appendChild(this.nodeOrShadowRoot($e),He)}insertBefore($e,He,Ye){return super.insertBefore(this.nodeOrShadowRoot($e),He,Ye)}removeChild($e,He){return super.removeChild(this.nodeOrShadowRoot($e),He)}parentNode($e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($e)))}}let gn=(()=>{class ze extends je{constructor(He){super(He)}supports(He){return!0}addEventListener(He,Ye,De){return He.addEventListener(Ye,De,!1),()=>this.removeEventListener(He,Ye,De)}removeEventListener(He,Ye,De){return He.removeEventListener(Ye,De)}}return ze.\u0275fac=function(He){return new(He||ze)(N.LFG(p.K0))},ze.\u0275prov=N.Yz7({token:ze,factory:ze.\u0275fac}),ze})();const Re=["alt","control","meta","shift"],Ue={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fe={alt:ze=>ze.altKey,control:ze=>ze.ctrlKey,meta:ze=>ze.metaKey,shift:ze=>ze.shiftKey};let Ze=(()=>{class ze extends je{constructor(He){super(He)}supports(He){return null!=ze.parseEventName(He)}addEventListener(He,Ye,De){const Ce=ze.parseEventName(Ye),ot=ze.eventCallback(Ce.fullKey,De,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(He,Ce.domEventName,ot))}static parseEventName(He){const Ye=He.toLowerCase().split("."),De=Ye.shift();if(0===Ye.length||"keydown"!==De&&"keyup"!==De)return null;const Ce=ze._normalizeKey(Ye.pop());let ot="",Bt=Ye.indexOf("code");if(Bt>-1&&(Ye.splice(Bt,1),ot="code."),Re.forEach(Kn=>{const On=Ye.indexOf(Kn);On>-1&&(Ye.splice(On,1),ot+=Kn+".")}),ot+=Ce,0!=Ye.length||0===Ce.length)return null;const sn={};return sn.domEventName=De,sn.fullKey=ot,sn}static matchEventFullKeyCode(He,Ye){let De=Ue[He.key]||He.key,Ce="";return Ye.indexOf("code.")>-1&&(De=He.code,Ce="code."),!(null==De||!De)&&(De=De.toLowerCase()," "===De?De="space":"."===De&&(De="dot"),Re.forEach(ot=>{ot!==De&&(0,Fe[ot])(He)&&(Ce+=ot+".")}),Ce+=De,Ce===Ye)}static eventCallback(He,Ye,De){return Ce=>{ze.matchEventFullKeyCode(Ce,He)&&De.runGuarded(()=>Ye(Ce))}}static _normalizeKey(He){return"esc"===He?"escape":He}}return ze.\u0275fac=function(He){return new(He||ze)(N.LFG(p.K0))},ze.\u0275prov=N.Yz7({token:ze,factory:ze.\u0275fac}),ze})();const $n=(0,N.eFA)(N._c5,"browser",[{provide:N.Lbi,useValue:p.bD},{provide:N.g9A,useValue:function Mt(){ne.makeCurrent()},multi:!0},{provide:p.K0,useFactory:function En(){return(0,N.RDi)(document),document},deps:[]}]),Dn=new N.OlP(""),gt=[{provide:N.rWj,useClass:class ye{addToWindow($e){N.dqk.getAngularTestability=(Ye,De=!0)=>{const Ce=$e.findTestabilityInTree(Ye,De);if(null==Ce)throw new Error("Could not find testability for element.");return Ce},N.dqk.getAllAngularTestabilities=()=>$e.getAllTestabilities(),N.dqk.getAllAngularRootElements=()=>$e.getAllRootElements(),N.dqk.frameworkStabilizers||(N.dqk.frameworkStabilizers=[]),N.dqk.frameworkStabilizers.push(Ye=>{const De=N.dqk.getAllAngularTestabilities();let Ce=De.length,ot=!1;const Bt=function(sn){ot=ot||sn,Ce--,0==Ce&&Ye(ot)};De.forEach(function(sn){sn.whenStable(Bt)})})}findTestabilityInTree($e,He,Ye){return null==He?null:$e.getTestability(He)??(Ye?(0,p.q)().isShadowRoot(He)?this.findTestabilityInTree($e,He.host,!0):this.findTestabilityInTree($e,He.parentElement,!0):null)}},deps:[]},{provide:N.lri,useClass:N.dDg,deps:[N.R0b,N.eoX,N.rWj]},{provide:N.dDg,useClass:N.dDg,deps:[N.R0b,N.eoX,N.rWj]}],ee=[{provide:N.zSh,useValue:"root"},{provide:N.qLn,useFactory:function Ht(){return new N.qLn},deps:[]},{provide:Ke,useClass:gn,multi:!0,deps:[p.K0,N.R0b,N.Lbi]},{provide:Ke,useClass:Ze,multi:!0,deps:[p.K0]},{provide:Vt,useClass:Vt,deps:[ut,mt,N.AFp]},{provide:N.FYo,useExisting:Vt},{provide:ct,useExisting:mt},{provide:mt,useClass:mt,deps:[p.K0]},{provide:ut,useClass:ut,deps:[Ke,N.R0b]},{provide:p.JF,useClass:Pe,deps:[]},[]];let de=(()=>{class ze{constructor(He){}static withServerTransition(He){return{ngModule:ze,providers:[{provide:N.AFp,useValue:He.appId},{provide:Se,useExisting:N.AFp},me]}}}return ze.\u0275fac=function(He){return new(He||ze)(N.LFG(Dn,12))},ze.\u0275mod=N.oAB({type:ze}),ze.\u0275inj=N.cJS({providers:[...ee,...gt],imports:[p.ez,N.hGG]}),ze})(),hn=(()=>{class ze{constructor(He){this._doc=He}getTitle(){return this._doc.title}setTitle(He){this._doc.title=He||""}}return ze.\u0275fac=function(He){return new(He||ze)(N.LFG(p.K0))},ze.\u0275prov=N.Yz7({token:ze,factory:function(He){let Ye=null;return Ye=He?new He:function Zt(){return new hn((0,N.LFG)(p.K0))}(),Ye},providedIn:"root"}),ze})();typeof window<"u"&&window;let Xe=(()=>{class ze{}return ze.\u0275fac=function(He){return new(He||ze)},ze.\u0275prov=N.Yz7({token:ze,factory:function(He){let Ye=null;return Ye=He?new(He||ze):N.LFG(dn),Ye},providedIn:"root"}),ze})(),dn=(()=>{class ze extends Xe{constructor(He){super(),this._doc=He}sanitize(He,Ye){if(null==Ye)return null;switch(He){case N.q3G.NONE:return Ye;case N.q3G.HTML:return(0,N.qzn)(Ye,"HTML")?(0,N.z3N)(Ye):(0,N.EiD)(this._doc,String(Ye)).toString();case N.q3G.STYLE:return(0,N.qzn)(Ye,"Style")?(0,N.z3N)(Ye):Ye;case N.q3G.SCRIPT:if((0,N.qzn)(Ye,"Script"))return(0,N.z3N)(Ye);throw new Error("unsafe value used in a script context");case N.q3G.URL:return(0,N.qzn)(Ye,"URL")?(0,N.z3N)(Ye):(0,N.mCW)(String(Ye));case N.q3G.RESOURCE_URL:if((0,N.qzn)(Ye,"ResourceURL"))return(0,N.z3N)(Ye);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${He} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(He){return(0,N.JVY)(He)}bypassSecurityTrustStyle(He){return(0,N.L6k)(He)}bypassSecurityTrustScript(He){return(0,N.eBb)(He)}bypassSecurityTrustUrl(He){return(0,N.LAX)(He)}bypassSecurityTrustResourceUrl(He){return(0,N.pB0)(He)}}return ze.\u0275fac=function(He){return new(He||ze)(N.LFG(p.K0))},ze.\u0275prov=N.Yz7({token:ze,factory:function(He){let Ye=null;return Ye=He?new He:function Et(ze){return new dn(ze.get(p.K0))}(N.LFG(N.zs3)),Ye},providedIn:"root"}),ze})()},7868:(_n,vt,k)=>{"use strict";k.d(vt,{F0:()=>Pr,yS:()=>rl,Bz:()=>To,lC:()=>No});var p=k(4650),N=k(5254),_=k(1086),ne=k(591),C=k(4450),J=k(6053),we=k(1221),fe=k(8514),Se=k(4843),ae=k(1737),me=k(6498),ye=k(8896),Pe=k(1762),Ke=k(8929),ut=k(6895),je=k(4850),ct=k(7545),mt=k(2986),jt=k(1059),ht=k(2198),kt=k(1709),yt=k(7224),et=k(1406),Ve=k(2868),pt=k(7221),tt=k(2014),Qe=k(3489),Lt=k(4231);function We(L){return function(I){return 0===L?(0,ye.c)():I.lift(new Ot(L))}}class Ot{constructor(F){if(this.total=F,this.total<0)throw new Lt.W}call(F,I){return I.subscribe(new Vt(F,this.total))}}class Vt extends Qe.L{constructor(F,I){super(F),this.total=I,this.ring=new Array,this.count=0}_next(F){const I=this.ring,H=this.total,te=this.count++;I.length<H?I.push(F):I[te%H]=F}_complete(){const F=this.destination;let I=this.count;if(I>0){const H=this.count>=this.total?this.total:this.count,te=this.ring;for(let Ae=0;Ae<H;Ae++){const nt=I++%H;F.next(te[nt])}}F.complete()}}var bn=k(4907),qn=k(7314),jn=k(5379);function oi(L,F){const I=arguments.length>=2;return H=>H.pipe(L?(0,ht.h)((te,Ae)=>L(te,Ae,H)):jn.y,We(1),I?(0,qn.d)(F):(0,bn.T)(()=>new C.K))}class rn{constructor(F,I){this.predicate=F,this.inclusive=I}call(F,I){return I.subscribe(new gn(F,this.predicate,this.inclusive))}}class gn extends Qe.L{constructor(F,I,H){super(F),this.predicate=I,this.inclusive=H,this.index=0}_next(F){const I=this.destination;let H;try{H=this.predicate(F,this.index++)}catch(te){return void I.error(te)}this.nextOrComplete(F,H)}nextOrComplete(F,I){const H=this.destination;Boolean(I)?H.next(F):(this.inclusive&&H.next(F),H.complete())}}class Ue{constructor(F){this.value=F}call(F,I){return I.subscribe(new Fe(F,this.value))}}class Fe extends Qe.L{constructor(F,I){super(F),this.value=I}_next(F){this.destination.next(this.value)}}var Ze=k(537),St=k(4327),tn=k(9146),Ln=k(1481);const It="primary",qt=Symbol("RouteTitle");class Mt{constructor(F){this.params=F||{}}has(F){return Object.prototype.hasOwnProperty.call(this.params,F)}get(F){if(this.has(F)){const I=this.params[F];return Array.isArray(I)?I[0]:I}return null}getAll(F){if(this.has(F)){const I=this.params[F];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function Ht(L){return new Mt(L)}function En(L,F,I){const H=I.path.split("/");if(H.length>L.length||"full"===I.pathMatch&&(F.hasChildren()||H.length<L.length))return null;const te={};for(let Ae=0;Ae<H.length;Ae++){const nt=H[Ae],ft=L[Ae];if(nt.startsWith(":"))te[nt.substring(1)]=ft;else if(nt!==ft.path)return null}return{consumed:L.slice(0,H.length),posParams:te}}function $n(L,F){const I=L?Object.keys(L):void 0,H=F?Object.keys(F):void 0;if(!I||!H||I.length!=H.length)return!1;let te;for(let Ae=0;Ae<I.length;Ae++)if(te=I[Ae],!Dn(L[te],F[te]))return!1;return!0}function Dn(L,F){if(Array.isArray(L)&&Array.isArray(F)){if(L.length!==F.length)return!1;const I=[...L].sort(),H=[...F].sort();return I.every((te,Ae)=>H[Ae]===te)}return L===F}function gt(L){return Array.prototype.concat.apply([],L)}function ee(L){return L.length>0?L[L.length-1]:null}function Le(L,F){for(const I in L)L.hasOwnProperty(I)&&F(L[I],I)}function Be(L){return(0,p.CqO)(L)?L:(0,p.QGY)(L)?(0,N.D)(Promise.resolve(L)):(0,_.of)(L)}const hn={exact:function Fn(L,F,I){if(!ue(L.segments,F.segments)||!at(L.segments,F.segments,I)||L.numberOfChildren!==F.numberOfChildren)return!1;for(const H in F.children)if(!L.children[H]||!Fn(L.children[H],F.children[H],I))return!1;return!0},subset:hi},Un={exact:function pn(L,F){return $n(L,F)},subset:function di(L,F){return Object.keys(F).length<=Object.keys(L).length&&Object.keys(F).every(I=>Dn(L[I],F[I]))},ignored:()=>!0};function Cn(L,F,I){return hn[I.paths](L.root,F.root,I.matrixParams)&&Un[I.queryParams](L.queryParams,F.queryParams)&&!("exact"===I.fragment&&L.fragment!==F.fragment)}function hi(L,F,I){return ni(L,F,F.segments,I)}function ni(L,F,I,H){if(L.segments.length>I.length){const te=L.segments.slice(0,I.length);return!(!ue(te,I)||F.hasChildren()||!at(te,I,H))}if(L.segments.length===I.length){if(!ue(L.segments,I)||!at(L.segments,I,H))return!1;for(const te in F.children)if(!L.children[te]||!hi(L.children[te],F.children[te],H))return!1;return!0}{const te=I.slice(0,L.segments.length),Ae=I.slice(L.segments.length);return!!(ue(L.segments,te)&&at(L.segments,te,H)&&L.children[It])&&ni(L.children[It],F,Ae,H)}}function at(L,F,I){return F.every((H,te)=>Un[I](L[te].parameters,H.parameters))}class Jt{constructor(F,I,H){this.root=F,this.queryParams=I,this.fragment=H}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ht(this.queryParams)),this._queryParamMap}toString(){return rt.serialize(this)}}class be{constructor(F,I){this.segments=F,this.children=I,this.parent=null,Le(I,(H,te)=>H.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Je(this)}}class Ne{constructor(F,I){this.path=F,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=Ht(this.parameters)),this._parameterMap}toString(){return he(this)}}function ue(L,F){return L.length===F.length&&L.every((I,H)=>I.path===F[H].path)}let zt=(()=>{class L{}return L.\u0275fac=function(I){return new(I||L)},L.\u0275prov=p.Yz7({token:L,factory:function(){return new st},providedIn:"root"}),L})();class st{parse(F){const I=new De(F);return new Jt(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(F){const I=`/${Tt(F.root,!0)}`,H=function Et(L){const F=Object.keys(L).map(I=>{const H=L[I];return Array.isArray(H)?H.map(te=>`${ge(I)}=${ge(te)}`).join("&"):`${ge(I)}=${ge(H)}`}).filter(I=>!!I);return F.length?`?${F.join("&")}`:""}(F.queryParams);return`${I}${H}${"string"==typeof F.fragment?`#${function j(L){return encodeURI(L)}(F.fragment)}`:""}`}}const rt=new st;function Je(L){return L.segments.map(F=>he(F)).join("/")}function Tt(L,F){if(!L.hasChildren())return Je(L);if(F){const I=L.children[It]?Tt(L.children[It],!1):"",H=[];return Le(L.children,(te,Ae)=>{Ae!==It&&H.push(`${Ae}:${Tt(te,!1)}`)}),H.length>0?`${I}(${H.join("//")})`:I}{const I=function Nt(L,F){let I=[];return Le(L.children,(H,te)=>{te===It&&(I=I.concat(F(H,te)))}),Le(L.children,(H,te)=>{te!==It&&(I=I.concat(F(H,te)))}),I}(L,(H,te)=>te===It?[Tt(L.children[It],!1)]:[`${te}:${Tt(H,!1)}`]);return 1===Object.keys(L.children).length&&null!=L.children[It]?`${Je(L)}/${I[0]}`:`${Je(L)}/(${I.join("//")})`}}function $t(L){return encodeURIComponent(L).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ge(L){return $t(L).replace(/%3B/gi,";")}function G(L){return $t(L).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function X(L){return decodeURIComponent(L)}function K(L){return X(L.replace(/\+/g,"%20"))}function he(L){return`${G(L.path)}${function Xe(L){return Object.keys(L).map(F=>`;${G(F)}=${G(L[F])}`).join("")}(L.parameters)}`}const dn=/^[^\/()?;=#]+/;function fn(L){const F=L.match(dn);return F?F[0]:""}const ze=/^[^=?&#]+/,He=/^[^&#]+/;class De{constructor(F){this.url=F,this.remaining=F}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){const F={};if(this.consumeOptional("?"))do{this.parseQueryParam(F)}while(this.consumeOptional("&"));return F}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const F=[];for(this.peekStartsWith("(")||F.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),F.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let H={};return this.peekStartsWith("(")&&(H=this.parseParens(!1)),(F.length>0||Object.keys(I).length>0)&&(H[It]=new be(F,I)),H}parseSegment(){const F=fn(this.remaining);if(""===F&&this.peekStartsWith(";"))throw new p.vHH(4009,!1);return this.capture(F),new Ne(X(F),this.parseMatrixParams())}parseMatrixParams(){const F={};for(;this.consumeOptional(";");)this.parseParam(F);return F}parseParam(F){const I=fn(this.remaining);if(!I)return;this.capture(I);let H="";if(this.consumeOptional("=")){const te=fn(this.remaining);te&&(H=te,this.capture(H))}F[X(I)]=X(H)}parseQueryParam(F){const I=function $e(L){const F=L.match(ze);return F?F[0]:""}(this.remaining);if(!I)return;this.capture(I);let H="";if(this.consumeOptional("=")){const nt=function Ye(L){const F=L.match(He);return F?F[0]:""}(this.remaining);nt&&(H=nt,this.capture(H))}const te=K(I),Ae=K(H);if(F.hasOwnProperty(te)){let nt=F[te];Array.isArray(nt)||(nt=[nt],F[te]=nt),nt.push(Ae)}else F[te]=Ae}parseParens(F){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const H=fn(this.remaining),te=this.remaining[H.length];if("/"!==te&&")"!==te&&";"!==te)throw new p.vHH(4010,!1);let Ae;H.indexOf(":")>-1?(Ae=H.slice(0,H.indexOf(":")),this.capture(Ae),this.capture(":")):F&&(Ae=It);const nt=this.parseChildren();I[Ae]=1===Object.keys(nt).length?nt[It]:new be([],nt),this.consumeOptional("//")}return I}peekStartsWith(F){return this.remaining.startsWith(F)}consumeOptional(F){return!!this.peekStartsWith(F)&&(this.remaining=this.remaining.substring(F.length),!0)}capture(F){if(!this.consumeOptional(F))throw new p.vHH(4011,!1)}}function Ce(L){return L.segments.length>0?new be([],{[It]:L}):L}function ot(L){const F={};for(const H of Object.keys(L.children)){const Ae=ot(L.children[H]);(Ae.segments.length>0||Ae.hasChildren())&&(F[H]=Ae)}return function Bt(L){if(1===L.numberOfChildren&&L.children[It]){const F=L.children[It];return new be(L.segments.concat(F.segments),F.children)}return L}(new be(L.segments,F))}function sn(L){return L instanceof Jt}function dr(L,F,I,H,te){var Ae;if(0===I.length)return Ji(F.root,F.root,F.root,H,te);const nt=function br(L){if("string"==typeof L[0]&&1===L.length&&"/"===L[0])return new Mr(!0,0,L);let F=0,I=!1;const H=L.reduce((te,Ae,nt)=>{if("object"==typeof Ae&&null!=Ae){if(Ae.outlets){const ft={};return Le(Ae.outlets,(Yt,An)=>{ft[An]="string"==typeof Yt?Yt.split("/"):Yt}),[...te,{outlets:ft}]}if(Ae.segmentPath)return[...te,Ae.segmentPath]}return"string"!=typeof Ae?[...te,Ae]:0===nt?(Ae.split("/").forEach((ft,Yt)=>{0==Yt&&"."===ft||(0==Yt&&""===ft?I=!0:".."===ft?F++:""!=ft&&te.push(ft))}),te):[...te,Ae]},[]);return new Mr(I,F,H)}(I);if(nt.toRoot())return Ji(F.root,F.root,new be([],{}),H,te);const Yt=function ft(ai){var Wn;const ci=function to(L,F,I,H){if(L.isAbsolute)return new ns(F.root,!0,0);if(-1===H)return new ns(I,I===F.root,0);return function fs(L,F,I){let H=L,te=F,Ae=I;for(;Ae>te;){if(Ae-=te,H=H.parent,!H)throw new p.vHH(4005,!1);te=H.segments.length}return new ns(H,!1,te-Ae)}(I,H+(sr(L.commands[0])?0:1),L.numberOfDoubleDots)}(nt,F,null===(Wn=L.snapshot)||void 0===Wn?void 0:Wn._urlSegment,ai),Ui=ci.processChildren?qr(ci.segmentGroup,ci.index,nt.commands):Br(ci.segmentGroup,ci.index,nt.commands);return Ji(F.root,ci.segmentGroup,Ui,H,te)}(null===(Ae=L.snapshot)||void 0===Ae?void 0:Ae._lastPathIndex);return Yt}function sr(L){return"object"==typeof L&&null!=L&&!L.outlets&&!L.segmentPath}function zi(L){return"object"==typeof L&&null!=L&&L.outlets}function Ji(L,F,I,H,te){let nt,Ae={};H&&Le(H,(Yt,An)=>{Ae[An]=Array.isArray(Yt)?Yt.map(ai=>`${ai}`):`${Yt}`}),nt=L===F?I:hr(L,F,I);const ft=Ce(ot(nt));return new Jt(ft,Ae,te)}function hr(L,F,I){const H={};return Le(L.children,(te,Ae)=>{H[Ae]=te===F?I:hr(te,F,I)}),new be(L.segments,H)}class Mr{constructor(F,I,H){if(this.isAbsolute=F,this.numberOfDoubleDots=I,this.commands=H,F&&H.length>0&&sr(H[0]))throw new p.vHH(4003,!1);const te=H.find(zi);if(te&&te!==ee(H))throw new p.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ns{constructor(F,I,H){this.segmentGroup=F,this.processChildren=I,this.index=H}}function Br(L,F,I){if(L||(L=new be([],{})),0===L.segments.length&&L.hasChildren())return qr(L,F,I);const H=function Vr(L,F,I){let H=0,te=F;const Ae={match:!1,pathIndex:0,commandIndex:0};for(;te<L.segments.length;){if(H>=I.length)return Ae;const nt=L.segments[te],ft=I[H];if(zi(ft))break;const Yt=`${ft}`,An=H<I.length-1?I[H+1]:null;if(te>0&&void 0===Yt)break;if(Yt&&An&&"object"==typeof An&&void 0===An.outlets){if(!Or(Yt,An,nt))return Ae;H+=2}else{if(!Or(Yt,{},nt))return Ae;H++}te++}return{match:!0,pathIndex:te,commandIndex:H}}(L,F,I),te=I.slice(H.commandIndex);if(H.match&&H.pathIndex<L.segments.length){const Ae=new be(L.segments.slice(0,H.pathIndex),{});return Ae.children[It]=new be(L.segments.slice(H.pathIndex),L.children),qr(Ae,0,te)}return H.match&&0===te.length?new be(L.segments,{}):H.match&&!L.hasChildren()?Ts(L,F,I):H.match?qr(L,0,te):Ts(L,F,I)}function qr(L,F,I){if(0===I.length)return new be(L.segments,{});{const H=function Ds(L){return zi(L[0])?L[0].outlets:{[It]:L}}(I),te={};return Le(H,(Ae,nt)=>{"string"==typeof Ae&&(Ae=[Ae]),null!==Ae&&(te[nt]=Br(L.children[nt],F,Ae))}),Le(L.children,(Ae,nt)=>{void 0===H[nt]&&(te[nt]=Ae)}),new be(L.segments,te)}}function Ts(L,F,I){const H=L.segments.slice(0,F);let te=0;for(;te<I.length;){const Ae=I[te];if(zi(Ae)){const Yt=or(Ae.outlets);return new be(H,Yt)}if(0===te&&sr(I[0])){H.push(new Ne(L.segments[F].path,Ao(I[0]))),te++;continue}const nt=zi(Ae)?Ae.outlets[It]:`${Ae}`,ft=te<I.length-1?I[te+1]:null;nt&&ft&&sr(ft)?(H.push(new Ne(nt,Ao(ft))),te+=2):(H.push(new Ne(nt,{})),te++)}return new be(H,{})}function or(L){const F={};return Le(L,(I,H)=>{"string"==typeof I&&(I=[I]),null!==I&&(F[H]=Ts(new be([],{}),0,I))}),F}function Ao(L){const F={};return Le(L,(I,H)=>F[H]=`${I}`),F}function Or(L,F,I){return L==I.path&&$n(F,I.parameters)}class Dr{constructor(F,I){this.id=F,this.url=I}}class ko extends Dr{constructor(F,I,H="imperative",te=null){super(F,I),this.type=0,this.navigationTrigger=H,this.restoredState=te}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class as extends Dr{constructor(F,I,H){super(F,I),this.urlAfterRedirects=H,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gs extends Dr{constructor(F,I,H,te){super(F,I),this.reason=H,this.code=te,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Yi extends Dr{constructor(F,I,H,te){super(F,I),this.error=H,this.target=te,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yo extends Dr{constructor(F,I,H,te){super(F,I),this.urlAfterRedirects=H,this.state=te,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class La extends Dr{constructor(F,I,H,te){super(F,I),this.urlAfterRedirects=H,this.state=te,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class no extends Dr{constructor(F,I,H,te,Ae){super(F,I),this.urlAfterRedirects=H,this.state=te,this.shouldActivate=Ae,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fa extends Dr{constructor(F,I,H,te){super(F,I),this.urlAfterRedirects=H,this.state=te,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _s extends Dr{constructor(F,I,H,te){super(F,I),this.urlAfterRedirects=H,this.state=te,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vs{constructor(F){this.route=F,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pt{constructor(F){this.route=F,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Rt{constructor(F){this.snapshot=F,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wt{constructor(F){this.snapshot=F,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vn{constructor(F){this.snapshot=F,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pn{constructor(F){this.snapshot=F,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class si{constructor(F,I,H){this.routerEvent=F,this.position=I,this.anchor=H,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ir{constructor(F){this._root=F}get root(){return this._root.value}parent(F){const I=this.pathFromRoot(F);return I.length>1?I[I.length-2]:null}children(F){const I=qi(F,this._root);return I?I.children.map(H=>H.value):[]}firstChild(F){const I=qi(F,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(F){const I=zr(F,this._root);return I.length<2?[]:I[I.length-2].children.map(te=>te.value).filter(te=>te!==F)}pathFromRoot(F){return zr(F,this._root).map(I=>I.value)}}function qi(L,F){if(L===F.value)return F;for(const I of F.children){const H=qi(L,I);if(H)return H}return null}function zr(L,F){if(L===F.value)return[F];for(const I of F.children){const H=zr(L,I);if(H.length)return H.unshift(F),H}return[]}class ls{constructor(F,I){this.value=F,this.children=I}toString(){return`TreeNode(${this.value})`}}function Ss(L){const F={};return L&&L.children.forEach(I=>F[I.value.outlet]=I),F}class Ro extends Ir{constructor(F,I){super(F),this.snapshot=I,sa(this,F)}toString(){return this.snapshot.toString()}}function Us(L,F){const I=function Yo(L,F){const nt=new Po([],{},{},"",{},It,F,null,L.root,-1,{});return new Ca("",new ls(nt,[]))}(L,F),H=new ne.X([new Ne("",{})]),te=new ne.X({}),Ae=new ne.X({}),nt=new ne.X({}),ft=new ne.X(""),Yt=new Ks(H,te,nt,ft,Ae,It,F,I.root);return Yt.snapshot=I.root,new Ro(new ls(Yt,[]),I)}class Ks{constructor(F,I,H,te,Ae,nt,ft,Yt){var An,ai;this.url=F,this.params=I,this.queryParams=H,this.fragment=te,this.data=Ae,this.outlet=nt,this.component=ft,this.title=null!==(An=null===(ai=this.data)||void 0===ai?void 0:ai.pipe((0,je.U)(Wn=>Wn[qt])))&&void 0!==An?An:(0,_.of)(void 0),this._futureSnapshot=Yt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,je.U)(F=>Ht(F)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,je.U)(F=>Ht(F)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ra(L,F="emptyOnly"){const I=L.pathFromRoot;let H=0;if("always"!==F)for(H=I.length-1;H>=1;){const te=I[H],Ae=I[H-1];if(te.routeConfig&&""===te.routeConfig.path)H--;else{if(Ae.component)break;H--}}return function Oo(L){return L.reduce((F,I)=>{var H;return{params:{...F.params,...I.params},data:{...F.data,...I.data},resolve:{...I.data,...F.resolve,...null===(H=I.routeConfig)||void 0===H?void 0:H.data,...I._resolvedData}}},{params:{},data:{},resolve:{}})}(I.slice(H))}class Po{constructor(F,I,H,te,Ae,nt,ft,Yt,An,ai,Wn,ci){var Ui;this.url=F,this.params=I,this.queryParams=H,this.fragment=te,this.data=Ae,this.outlet=nt,this.component=ft,this.title=null===(Ui=this.data)||void 0===Ui?void 0:Ui[qt],this.routeConfig=Yt,this._urlSegment=An,this._lastPathIndex=ai,this._correctedLastPathIndex=ci??ai,this._resolve=Wn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ht(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ht(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(H=>H.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ca extends Ir{constructor(F,I){super(I),this.url=F,sa(this,I)}toString(){return io(this._root)}}function sa(L,F){F.value._routerState=L,F.children.forEach(I=>sa(L,I))}function io(L){const F=L.children.length>0?` { ${L.children.map(io).join(", ")} } `:"";return`${L.value}${F}`}function fr(L){if(L.snapshot){const F=L.snapshot,I=L._futureSnapshot;L.snapshot=I,$n(F.queryParams,I.queryParams)||L.queryParams.next(I.queryParams),F.fragment!==I.fragment&&L.fragment.next(I.fragment),$n(F.params,I.params)||L.params.next(I.params),function Gt(L,F){if(L.length!==F.length)return!1;for(let I=0;I<L.length;++I)if(!$n(L[I],F[I]))return!1;return!0}(F.url,I.url)||L.url.next(I.url),$n(F.data,I.data)||L.data.next(I.data)}else L.snapshot=L._futureSnapshot,L.data.next(L._futureSnapshot.data)}function Ms(L,F){const I=$n(L.params,F.params)&&function ke(L,F){return ue(L,F)&&L.every((I,H)=>$n(I.parameters,F[H].parameters))}(L.url,F.url);return I&&!(!L.parent!=!F.parent)&&(!L.parent||Ms(L.parent,F.parent))}function xs(L,F,I){if(I&&L.shouldReuseRoute(F.value,I.value.snapshot)){const H=I.value;H._futureSnapshot=F.value;const te=function Hs(L,F,I){return F.children.map(H=>{for(const te of I.children)if(L.shouldReuseRoute(H.value,te.value.snapshot))return xs(L,H,te);return xs(L,H)})}(L,F,I);return new ls(H,te)}{if(L.shouldAttach(F.value)){const Ae=L.retrieve(F.value);if(null!==Ae){const nt=Ae.route;return nt.value._futureSnapshot=F.value,nt.children=F.children.map(ft=>xs(L,ft)),nt}}const H=function is(L){return new Ks(new ne.X(L.url),new ne.X(L.params),new ne.X(L.queryParams),new ne.X(L.fragment),new ne.X(L.data),L.outlet,L.component,L)}(F.value),te=F.children.map(Ae=>xs(L,Ae));return new ls(H,te)}}const Wr="ngNavigationCancelingError";function ro(L,F){const{redirectTo:I,navigationBehaviorOptions:H}=sn(F)?{redirectTo:F,navigationBehaviorOptions:void 0}:F,te=wa(!1,0,F);return te.url=I,te.navigationBehaviorOptions=H,te}function wa(L,F,I){const H=new Error("NavigationCancelingError: "+(L||""));return H[Wr]=!0,H.cancellationCode=F,I&&(H.url=I),H}function bo(L){return As(L)&&sn(L.url)}function As(L){return L&&L[Wr]}class js{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new pr,this.attachRef=null}}let pr=(()=>{class L{constructor(){this.contexts=new Map}onChildOutletCreated(I,H){const te=this.getOrCreateContext(I);te.outlet=H,this.contexts.set(I,te)}onChildOutletDestroyed(I){const H=this.getContext(I);H&&(H.outlet=null,H.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let H=this.getContext(I);return H||(H=new js,this.contexts.set(I,H)),H}getContext(I){return this.contexts.get(I)||null}}return L.\u0275fac=function(I){return new(I||L)},L.\u0275prov=p.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();const Qr=!1;let No=(()=>{class L{constructor(I,H,te,Ae,nt){this.parentContexts=I,this.location=H,this.changeDetector=Ae,this.environmentInjector=nt,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=te||It,I.onChildOutletCreated(this.name,this)}ngOnDestroy(){var I;(null===(I=this.parentContexts.getContext(this.name))||void 0===I?void 0:I.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const I=this.parentContexts.getContext(this.name);I&&I.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,Qr);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,Qr);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,Qr);this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,H){this.activated=I,this._activatedRoute=H,this.location.insert(I.hostView),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,H){if(this.isActivated)throw new p.vHH(4013,Qr);this._activatedRoute=I;const te=this.location,nt=I._futureSnapshot.component,ft=this.parentContexts.getOrCreateContext(this.name).children,Yt=new Ai(I,ft,te.injector);if(H&&function Ur(L){return!!L.resolveComponentFactory}(H)){const An=H.resolveComponentFactory(nt);this.activated=te.createComponent(An,te.length,Yt)}else this.activated=te.createComponent(nt,{index:te.length,injector:Yt,environmentInjector:H??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return L.\u0275fac=function(I){return new(I||L)(p.Y36(pr),p.Y36(p.s_b),p.$8M("name"),p.Y36(p.sBO),p.Y36(p.lqb))},L.\u0275dir=p.lG2({type:L,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),L})();class Ai{constructor(F,I,H){this.route=F,this.childContexts=I,this.parent=H}get(F,I){return F===Ks?this.route:F===pr?this.childContexts:this.parent.get(F,I)}}let so=(()=>{class L{}return L.\u0275fac=function(I){return new(I||L)},L.\u0275cmp=p.Xpm({type:L,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(I,H){1&I&&p._UZ(0,"router-outlet")},dependencies:[No],encapsulation:2}),L})();function vs(L,F){var I;return L.providers&&!L._injector&&(L._injector=(0,p.MMx)(L.providers,F,`Route: ${L.path}`)),null!==(I=L._injector)&&void 0!==I?I:F}function mi(L){const F=L.children&&L.children.map(mi),I=F?{...L,children:F}:{...L};return!I.component&&!I.loadComponent&&(F||I.loadChildren)&&I.outlet&&I.outlet!==It&&(I.component=so),I}function xr(L){return L.outlet||It}function Dc(L,F){const I=L.filter(H=>xr(H)===F);return I.push(...L.filter(H=>xr(H)!==F)),I}function ps(L){var F;if(!L)return null;if(null!==(F=L.routeConfig)&&void 0!==F&&F._injector)return L.routeConfig._injector;for(let I=L.parent;I;I=I.parent){const H=I.routeConfig;if(null!=H&&H._loadedInjector)return H._loadedInjector;if(null!=H&&H._injector)return H._injector}return null}class la{constructor(F,I,H,te){this.routeReuseStrategy=F,this.futureState=I,this.currState=H,this.forwardEvent=te}activate(F){const I=this.futureState._root,H=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,H,F),fr(this.futureState.root),this.activateChildRoutes(I,H,F)}deactivateChildRoutes(F,I,H){const te=Ss(I);F.children.forEach(Ae=>{const nt=Ae.value.outlet;this.deactivateRoutes(Ae,te[nt],H),delete te[nt]}),Le(te,(Ae,nt)=>{this.deactivateRouteAndItsChildren(Ae,H)})}deactivateRoutes(F,I,H){const te=F.value,Ae=I?I.value:null;if(te===Ae)if(te.component){const nt=H.getContext(te.outlet);nt&&this.deactivateChildRoutes(F,I,nt.children)}else this.deactivateChildRoutes(F,I,H);else Ae&&this.deactivateRouteAndItsChildren(I,H)}deactivateRouteAndItsChildren(F,I){F.value.component&&this.routeReuseStrategy.shouldDetach(F.value.snapshot)?this.detachAndStoreRouteSubtree(F,I):this.deactivateRouteAndOutlet(F,I)}detachAndStoreRouteSubtree(F,I){const H=I.getContext(F.value.outlet),te=H&&F.value.component?H.children:I,Ae=Ss(F);for(const nt of Object.keys(Ae))this.deactivateRouteAndItsChildren(Ae[nt],te);if(H&&H.outlet){const nt=H.outlet.detach(),ft=H.children.onOutletDeactivated();this.routeReuseStrategy.store(F.value.snapshot,{componentRef:nt,route:F,contexts:ft})}}deactivateRouteAndOutlet(F,I){const H=I.getContext(F.value.outlet),te=H&&F.value.component?H.children:I,Ae=Ss(F);for(const nt of Object.keys(Ae))this.deactivateRouteAndItsChildren(Ae[nt],te);H&&H.outlet&&(H.outlet.deactivate(),H.children.onOutletDeactivated(),H.attachRef=null,H.resolver=null,H.route=null)}activateChildRoutes(F,I,H){const te=Ss(I);F.children.forEach(Ae=>{this.activateRoutes(Ae,te[Ae.value.outlet],H),this.forwardEvent(new Pn(Ae.value.snapshot))}),F.children.length&&this.forwardEvent(new Wt(F.value.snapshot))}activateRoutes(F,I,H){const te=F.value,Ae=I?I.value:null;if(fr(te),te===Ae)if(te.component){const ft=H.getOrCreateContext(te.outlet);this.activateChildRoutes(F,I,ft.children)}else this.activateChildRoutes(F,I,H);else if(te.component){const ft=H.getOrCreateContext(te.outlet);if(this.routeReuseStrategy.shouldAttach(te.snapshot)){const Yt=this.routeReuseStrategy.retrieve(te.snapshot);this.routeReuseStrategy.store(te.snapshot,null),ft.children.onOutletReAttached(Yt.contexts),ft.attachRef=Yt.componentRef,ft.route=Yt.route.value,ft.outlet&&ft.outlet.attach(Yt.componentRef,Yt.route.value),fr(Yt.route.value),this.activateChildRoutes(F,null,ft.children)}else{var nt;const Yt=ps(te.snapshot),An=null!==(nt=Yt?.get(p._Vd))&&void 0!==nt?nt:null;ft.attachRef=null,ft.route=te,ft.resolver=An,ft.injector=Yt,ft.outlet&&ft.outlet.activateWith(te,ft.injector),this.activateChildRoutes(F,null,ft.children)}}else this.activateChildRoutes(F,null,H)}}class $s{constructor(F){this.path=F,this.route=this.path[this.path.length-1]}}class Xr{constructor(F,I){this.component=F,this.route=I}}function Qa(L,F,I){const H=L._root;return wo(H,F?F._root:null,I,[H.value])}function Ii(L,F){const I=Symbol(),H=F.get(L,I);return H===I?"function"!=typeof L||(0,p.Z0I)(L)?F.get(L):L:H}function wo(L,F,I,H,te={canDeactivateChecks:[],canActivateChecks:[]}){const Ae=Ss(F);return L.children.forEach(nt=>{(function Ea(L,F,I,H,te={canDeactivateChecks:[],canActivateChecks:[]}){const Ae=L.value,nt=F?F.value:null,ft=I?I.getContext(L.value.outlet):null;if(nt&&Ae.routeConfig===nt.routeConfig){const Yt=function Hr(L,F,I){if("function"==typeof I)return I(L,F);switch(I){case"pathParamsChange":return!ue(L.url,F.url);case"pathParamsOrQueryParamsChange":return!ue(L.url,F.url)||!$n(L.queryParams,F.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ms(L,F)||!$n(L.queryParams,F.queryParams);default:return!Ms(L,F)}}(nt,Ae,Ae.routeConfig.runGuardsAndResolvers);Yt?te.canActivateChecks.push(new $s(H)):(Ae.data=nt.data,Ae._resolvedData=nt._resolvedData),wo(L,F,Ae.component?ft?ft.children:null:I,H,te),Yt&&ft&&ft.outlet&&ft.outlet.isActivated&&te.canDeactivateChecks.push(new Xr(ft.outlet.component,nt))}else nt&&se(F,ft,te),te.canActivateChecks.push(new $s(H)),wo(L,null,Ae.component?ft?ft.children:null:I,H,te)})(nt,Ae[nt.value.outlet],I,H.concat([nt.value]),te),delete Ae[nt.value.outlet]}),Le(Ae,(nt,ft)=>se(nt,I.getContext(ft),te)),te}function se(L,F,I){const H=Ss(L),te=L.value;Le(H,(Ae,nt)=>{se(Ae,te.component?F?F.children.getContext(nt):null:F,I)}),I.canDeactivateChecks.push(new Xr(te.component&&F&&F.outlet&&F.outlet.isActivated?F.outlet.component:null,te))}function Q(L){return"function"==typeof L}function rs(L){return L instanceof C.K||"EmptyError"===L?.name}const ca=Symbol("INITIAL_VALUE");function er(){return(0,ct.w)(L=>(0,J.aj)(L.map(F=>F.pipe((0,mt.q)(1),(0,jt.O)(ca)))).pipe((0,je.U)(F=>{for(const I of F)if(!0!==I){if(I===ca)return ca;if(!1===I||I instanceof Jt)return I}return!0}),(0,ht.h)(F=>F!==ca),(0,mt.q)(1)))}function Yr(L){return(0,Se.z)((0,Ve.b)(F=>{if(sn(F))throw ro(0,F)}),(0,je.U)(F=>!0===F))}const ua={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ll(L,F,I,H,te){const Ae=lo(L,F,I);return Ae.matched?function ml(L,F,I,H){const te=F.canMatch;if(!te||0===te.length)return(0,_.of)(!0);const Ae=te.map(nt=>{const ft=Ii(nt,L);return Be(function oo(L){return L&&Q(L.canMatch)}(ft)?ft.canMatch(F,I):L.runInContext(()=>ft(F,I)))});return(0,_.of)(Ae).pipe(er(),Yr())}(H=vs(F,H),F,I).pipe((0,je.U)(nt=>!0===nt?Ae:{...ua})):(0,_.of)(Ae)}function lo(L,F,I){var H;if(""===F.path)return"full"===F.pathMatch&&(L.hasChildren()||I.length>0)?{...ua}:{matched:!0,consumedSegments:[],remainingSegments:I,parameters:{},positionalParamSegments:{}};const Ae=(F.matcher||En)(I,L,F);if(!Ae)return{...ua};const nt={};Le(Ae.posParams,(Yt,An)=>{nt[An]=Yt.path});const ft=Ae.consumed.length>0?{...nt,...Ae.consumed[Ae.consumed.length-1].parameters}:nt;return{matched:!0,consumedSegments:Ae.consumed,remainingSegments:I.slice(Ae.consumed.length),parameters:ft,positionalParamSegments:null!==(H=Ae.posParams)&&void 0!==H?H:{}}}function Ja(L,F,I,H,te="corrected"){if(I.length>0&&function q(L,F,I){return I.some(H=>dt(L,F,H)&&xr(H)!==It)}(L,I,H)){const nt=new be(F,function ve(L,F,I,H){const te={};te[It]=H,H._sourceSegment=L,H._segmentIndexShift=F.length;for(const Ae of I)if(""===Ae.path&&xr(Ae)!==It){const nt=new be([],{});nt._sourceSegment=L,nt._segmentIndexShift=F.length,te[xr(Ae)]=nt}return te}(L,F,H,new be(I,L.children)));return nt._sourceSegment=L,nt._segmentIndexShift=F.length,{segmentGroup:nt,slicedSegments:[]}}if(0===I.length&&function Me(L,F,I){return I.some(H=>dt(L,F,H))}(L,I,H)){const nt=new be(L.segments,function W(L,F,I,H,te,Ae){const nt={};for(const ft of H)if(dt(L,I,ft)&&!te[xr(ft)]){const Yt=new be([],{});Yt._sourceSegment=L,Yt._segmentIndexShift="legacy"===Ae?L.segments.length:F.length,nt[xr(ft)]=Yt}return{...te,...nt}}(L,F,I,H,L.children,te));return nt._sourceSegment=L,nt._segmentIndexShift=F.length,{segmentGroup:nt,slicedSegments:I}}const Ae=new be(L.segments,L.children);return Ae._sourceSegment=L,Ae._segmentIndexShift=F.length,{segmentGroup:Ae,slicedSegments:I}}function dt(L,F,I){return(!(L.hasChildren()||F.length>0)||"full"!==I.pathMatch)&&""===I.path}function Qt(L,F,I,H){return!!(xr(L)===H||H!==It&&dt(F,I,L))&&("**"===L.path||lo(F,L,I).matched)}function un(L,F,I){return 0===F.length&&!L.children[I]}const Qn=!1;class Ni{constructor(F){this.segmentGroup=F||null}}class bi{constructor(F){this.urlTree=F}}function Hi(L){return(0,ae._)(new Ni(L))}function Li(L){return(0,ae._)(new bi(L))}class Rs{constructor(F,I,H,te,Ae){this.injector=F,this.configLoader=I,this.urlSerializer=H,this.urlTree=te,this.config=Ae,this.allowRedirects=!0}apply(){const F=Ja(this.urlTree.root,[],[],this.config).segmentGroup,I=new be(F.segments,F.children);return this.expandSegmentGroup(this.injector,this.config,I,It).pipe((0,je.U)(Ae=>this.createUrlTree(ot(Ae),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,pt.K)(Ae=>{if(Ae instanceof bi)return this.allowRedirects=!1,this.match(Ae.urlTree);throw Ae instanceof Ni?this.noMatchError(Ae):Ae}))}match(F){return this.expandSegmentGroup(this.injector,this.config,F.root,It).pipe((0,je.U)(te=>this.createUrlTree(ot(te),F.queryParams,F.fragment))).pipe((0,pt.K)(te=>{throw te instanceof Ni?this.noMatchError(te):te}))}noMatchError(F){return new p.vHH(4002,Qn)}createUrlTree(F,I,H){const te=Ce(F);return new Jt(te,I,H)}expandSegmentGroup(F,I,H,te){return 0===H.segments.length&&H.hasChildren()?this.expandChildren(F,I,H).pipe((0,je.U)(Ae=>new be([],Ae))):this.expandSegment(F,H,I,H.segments,te,!0)}expandChildren(F,I,H){const te=[];for(const Ae of Object.keys(H.children))"primary"===Ae?te.unshift(Ae):te.push(Ae);return(0,N.D)(te).pipe((0,et.b)(Ae=>{const nt=H.children[Ae],ft=Dc(I,Ae);return this.expandSegmentGroup(F,ft,nt,Ae).pipe((0,je.U)(Yt=>({segment:Yt,outlet:Ae})))}),(0,tt.R)((Ae,nt)=>(Ae[nt.outlet]=nt.segment,Ae),{}),oi())}expandSegment(F,I,H,te,Ae,nt){return(0,N.D)(H).pipe((0,et.b)(ft=>this.expandSegmentAgainstRoute(F,I,H,ft,te,Ae,nt).pipe((0,pt.K)(An=>{if(An instanceof Ni)return(0,_.of)(null);throw An}))),(0,yt.P)(ft=>!!ft),(0,pt.K)((ft,Yt)=>{if(rs(ft))return un(I,te,Ae)?(0,_.of)(new be([],{})):Hi(I);throw ft}))}expandSegmentAgainstRoute(F,I,H,te,Ae,nt,ft){return Qt(te,I,Ae,nt)?void 0===te.redirectTo?this.matchSegmentAgainstRoute(F,I,te,Ae,nt):ft&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(F,I,H,te,Ae,nt):Hi(I):Hi(I)}expandSegmentAgainstRouteUsingRedirect(F,I,H,te,Ae,nt){return"**"===te.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(F,H,te,nt):this.expandRegularSegmentAgainstRouteUsingRedirect(F,I,H,te,Ae,nt)}expandWildCardWithParamsAgainstRouteUsingRedirect(F,I,H,te){const Ae=this.applyRedirectCommands([],H.redirectTo,{});return H.redirectTo.startsWith("/")?Li(Ae):this.lineralizeSegments(H,Ae).pipe((0,kt.zg)(nt=>{const ft=new be(nt,{});return this.expandSegment(F,ft,I,nt,te,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(F,I,H,te,Ae,nt){const{matched:ft,consumedSegments:Yt,remainingSegments:An,positionalParamSegments:ai}=lo(I,te,Ae);if(!ft)return Hi(I);const Wn=this.applyRedirectCommands(Yt,te.redirectTo,ai);return te.redirectTo.startsWith("/")?Li(Wn):this.lineralizeSegments(te,Wn).pipe((0,kt.zg)(ci=>this.expandSegment(F,I,H,ci.concat(An),nt,!1)))}matchSegmentAgainstRoute(F,I,H,te,Ae){return"**"===H.path?(F=vs(H,F),H.loadChildren?(H._loadedRoutes?(0,_.of)({routes:H._loadedRoutes,injector:H._loadedInjector}):this.configLoader.loadChildren(F,H)).pipe((0,je.U)(ft=>(H._loadedRoutes=ft.routes,H._loadedInjector=ft.injector,new be(te,{})))):(0,_.of)(new be(te,{}))):Ll(I,H,te,F).pipe((0,ct.w)(({matched:nt,consumedSegments:ft,remainingSegments:Yt})=>{var An;return nt?(F=null!==(An=H._injector)&&void 0!==An?An:F,this.getChildConfig(F,H,te).pipe((0,kt.zg)(Wn=>{var ci;const Ui=null!==(ci=Wn.injector)&&void 0!==ci?ci:F,Tr=Wn.routes,{segmentGroup:So,slicedSegments:jr}=Ja(I,ft,Yt,Tr),Nr=new be(So.segments,So.children);if(0===jr.length&&Nr.hasChildren())return this.expandChildren(Ui,Tr,Nr).pipe((0,je.U)(tc=>new be(ft,tc)));if(0===Tr.length&&0===jr.length)return(0,_.of)(new be(ft,{}));const Ns=xr(H)===Ae;return this.expandSegment(Ui,Nr,Tr,jr,Ns?It:Ae,!0).pipe((0,je.U)(Jr=>new be(ft.concat(Jr.segments),Jr.children)))}))):Hi(I)}))}getChildConfig(F,I,H){return I.children?(0,_.of)({routes:I.children,injector:F}):I.loadChildren?void 0!==I._loadedRoutes?(0,_.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):function Xa(L,F,I,H){const te=F.canLoad;if(void 0===te||0===te.length)return(0,_.of)(!0);const Ae=te.map(nt=>{const ft=Ii(nt,L);return Be(function xe(L){return L&&Q(L.canLoad)}(ft)?ft.canLoad(F,I):L.runInContext(()=>ft(F,I)))});return(0,_.of)(Ae).pipe(er(),Yr())}(F,I,H).pipe((0,kt.zg)(te=>te?this.configLoader.loadChildren(F,I).pipe((0,Ve.b)(Ae=>{I._loadedRoutes=Ae.routes,I._loadedInjector=Ae.injector})):function qe(L){return(0,ae._)(wa(Qn,3))}())):(0,_.of)({routes:[],injector:F})}lineralizeSegments(F,I){let H=[],te=I.root;for(;;){if(H=H.concat(te.segments),0===te.numberOfChildren)return(0,_.of)(H);if(te.numberOfChildren>1||!te.children[It])return(0,ae._)(new p.vHH(4e3,Qn));te=te.children[It]}}applyRedirectCommands(F,I,H){return this.applyRedirectCreateUrlTree(I,this.urlSerializer.parse(I),F,H)}applyRedirectCreateUrlTree(F,I,H,te){const Ae=this.createSegmentGroup(F,I.root,H,te);return new Jt(Ae,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(F,I){const H={};return Le(F,(te,Ae)=>{if("string"==typeof te&&te.startsWith(":")){const ft=te.substring(1);H[Ae]=I[ft]}else H[Ae]=te}),H}createSegmentGroup(F,I,H,te){const Ae=this.createSegments(F,I.segments,H,te);let nt={};return Le(I.children,(ft,Yt)=>{nt[Yt]=this.createSegmentGroup(F,ft,H,te)}),new be(Ae,nt)}createSegments(F,I,H,te){return I.map(Ae=>Ae.path.startsWith(":")?this.findPosParam(F,Ae,te):this.findOrReturn(Ae,H))}findPosParam(F,I,H){const te=H[I.path.substring(1)];if(!te)throw new p.vHH(4001,Qn);return te}findOrReturn(F,I){let H=0;for(const te of I){if(te.path===F.path)return I.splice(H),te;H++}return F}}class Fo{}class Os{constructor(F,I,H,te,Ae,nt,ft,Yt){this.injector=F,this.rootComponentType=I,this.config=H,this.urlTree=te,this.url=Ae,this.paramsInheritanceStrategy=nt,this.relativeLinkResolution=ft,this.urlSerializer=Yt}recognize(){const F=Ja(this.urlTree.root,[],[],this.config.filter(I=>void 0===I.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,F,It).pipe((0,je.U)(I=>{if(null===I)return null;const H=new Po([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},It,this.rootComponentType,null,this.urlTree.root,-1,{}),te=new ls(H,I),Ae=new Ca(this.url,te);return this.inheritParamsAndData(Ae._root),Ae}))}inheritParamsAndData(F){const I=F.value,H=ra(I,this.paramsInheritanceStrategy);I.params=Object.freeze(H.params),I.data=Object.freeze(H.data),F.children.forEach(te=>this.inheritParamsAndData(te))}processSegmentGroup(F,I,H,te){return 0===H.segments.length&&H.hasChildren()?this.processChildren(F,I,H):this.processSegment(F,I,H,H.segments,te)}processChildren(F,I,H){return(0,N.D)(Object.keys(H.children)).pipe((0,et.b)(te=>{const Ae=H.children[te],nt=Dc(I,te);return this.processSegmentGroup(F,nt,Ae,te)}),(0,tt.R)((te,Ae)=>te&&Ae?(te.push(...Ae),te):null),function Nn(L,F=!1){return I=>I.lift(new rn(L,F))}(te=>null!==te),(0,qn.d)(null),oi(),(0,je.U)(te=>{if(null===te)return null;const Ae=$u(te);return function gl(L){L.sort((F,I)=>F.value.outlet===It?-1:I.value.outlet===It?1:F.value.outlet.localeCompare(I.value.outlet))}(Ae),Ae}))}processSegment(F,I,H,te,Ae){return(0,N.D)(I).pipe((0,et.b)(nt=>{var ft;return this.processSegmentAgainstRoute(null!==(ft=nt._injector)&&void 0!==ft?ft:F,nt,H,te,Ae)}),(0,yt.P)(nt=>!!nt),(0,pt.K)(nt=>{if(rs(nt))return un(H,te,Ae)?(0,_.of)([]):(0,_.of)(null);throw nt}))}processSegmentAgainstRoute(F,I,H,te,Ae){if(I.redirectTo||!Qt(I,H,te,Ae))return(0,_.of)(null);let nt;if("**"===I.path){var ft,Yt;const An=te.length>0?ee(te).parameters:{},ai=Fl(H)+te.length,Wn=new Po(te,An,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ha(I),xr(I),null!==(ft=null!==(Yt=I.component)&&void 0!==Yt?Yt:I._loadedComponent)&&void 0!==ft?ft:null,I,Sc(H),ai,Mc(I),ai);nt=(0,_.of)({snapshot:Wn,consumedSegments:[],remainingSegments:[]})}else nt=Ll(H,I,te,F).pipe((0,je.U)(({matched:An,consumedSegments:ai,remainingSegments:Wn,parameters:ci})=>{var Ui,Tr;if(!An)return null;const So=Fl(H)+ai.length;return{snapshot:new Po(ai,ci,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ha(I),xr(I),null!==(Ui=null!==(Tr=I.component)&&void 0!==Tr?Tr:I._loadedComponent)&&void 0!==Ui?Ui:null,I,Sc(H),So,Mc(I),So),consumedSegments:ai,remainingSegments:Wn}}));return nt.pipe((0,ct.w)(An=>{var ai,Wn;if(null===An)return(0,_.of)(null);const{snapshot:ci,consumedSegments:Ui,remainingSegments:Tr}=An;F=null!==(ai=I._injector)&&void 0!==ai?ai:F;const So=null!==(Wn=I._loadedInjector)&&void 0!==Wn?Wn:F,jr=function ss(L){return L.children?L.children:L.loadChildren?L._loadedRoutes:[]}(I),{segmentGroup:Nr,slicedSegments:Ns}=Ja(H,Ui,Tr,jr.filter(Jr=>void 0===Jr.redirectTo),this.relativeLinkResolution);if(0===Ns.length&&Nr.hasChildren())return this.processChildren(So,jr,Nr).pipe((0,je.U)(Jr=>null===Jr?null:[new ls(ci,Jr)]));if(0===jr.length&&0===Ns.length)return(0,_.of)([new ls(ci,[])]);const va=xr(I)===Ae;return this.processSegment(So,jr,Nr,Ns,va?It:Ae).pipe((0,je.U)(Jr=>null===Jr?null:[new ls(ci,Jr)]))}))}}function da(L){const F=L.value.routeConfig;return F&&""===F.path&&void 0===F.redirectTo}function $u(L){const F=[],I=new Set;for(const H of L){if(!da(H)){F.push(H);continue}const te=F.find(Ae=>H.value.routeConfig===Ae.value.routeConfig);void 0!==te?(te.children.push(...H.children),I.add(te)):F.push(H)}for(const H of I){const te=$u(H.children);F.push(new ls(H.value,te))}return F.filter(H=>!I.has(H))}function Sc(L){let F=L;for(;F._sourceSegment;)F=F._sourceSegment;return F}function Fl(L){var F;let I=L,H=null!==(F=I._segmentIndexShift)&&void 0!==F?F:0;for(;I._sourceSegment;){var te;I=I._sourceSegment,H+=null!==(te=I._segmentIndexShift)&&void 0!==te?te:0}return H-1}function ha(L){return L.data||{}}function Mc(L){return L.resolve||{}}function _l(L){return"string"==typeof L.title||null===L.title}function Vo(L){return(0,ct.w)(F=>{const I=L(F);return I?(0,N.D)(I).pipe((0,je.U)(()=>F)):(0,_.of)(F)})}let Rn=(()=>{class L{buildTitle(I){let H,te=I.root;for(;void 0!==te;){var Ae;H=null!==(Ae=this.getResolvedTitleForRoute(te))&&void 0!==Ae?Ae:H,te=te.children.find(nt=>nt.outlet===It)}return H}getResolvedTitleForRoute(I){return I.data[qt]}}return L.\u0275fac=function(I){return new(I||L)},L.\u0275prov=p.Yz7({token:L,factory:function(){return(0,p.f3M)(Qi)},providedIn:"root"}),L})(),Qi=(()=>{class L extends Rn{constructor(I){super(),this.title=I}updateTitle(I){const H=this.buildTitle(I);void 0!==H&&this.title.setTitle(H)}}return L.\u0275fac=function(I){return new(I||L)(p.LFG(Ln.Dx))},L.\u0275prov=p.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();class Gu{}class Ti extends class ii{shouldDetach(F){return!1}store(F,I){}shouldAttach(F){return!1}retrieve(F){return null}shouldReuseRoute(F,I){return F.routeConfig===I.routeConfig}}{}const Xn=new p.OlP("",{providedIn:"root",factory:()=>({})}),Mn=new p.OlP("ROUTES");let Ar=(()=>{class L{constructor(I,H){this.injector=I,this.compiler=H,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(I){if(this.componentLoaders.get(I))return this.componentLoaders.get(I);if(I._loadedComponent)return(0,_.of)(I._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(I);const H=Be(I.loadComponent()).pipe((0,Ve.b)(Ae=>{this.onLoadEndListener&&this.onLoadEndListener(I),I._loadedComponent=Ae}),(0,Ze.x)(()=>{this.componentLoaders.delete(I)})),te=new Pe.c(H,()=>new Ke.xQ).pipe((0,St.x)());return this.componentLoaders.set(I,te),te}loadChildren(I,H){if(this.childrenLoaders.get(H))return this.childrenLoaders.get(H);if(H._loadedRoutes)return(0,_.of)({routes:H._loadedRoutes,injector:H._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(H);const Ae=this.loadModuleFactoryOrRoutes(H.loadChildren).pipe((0,je.U)(ft=>{this.onLoadEndListener&&this.onLoadEndListener(H);let Yt,An,ai=!1;Array.isArray(ft)?An=ft:(Yt=ft.create(I).injector,An=gt(Yt.get(Mn,[],p.XFs.Self|p.XFs.Optional)));return{routes:An.map(mi),injector:Yt}}),(0,Ze.x)(()=>{this.childrenLoaders.delete(H)})),nt=new Pe.c(Ae,()=>new Ke.xQ).pipe((0,St.x)());return this.childrenLoaders.set(H,nt),nt}loadModuleFactoryOrRoutes(I){return Be(I()).pipe((0,kt.zg)(H=>H instanceof p.YKP||Array.isArray(H)?(0,_.of)(H):(0,N.D)(this.compiler.compileModuleAsync(H))))}}return L.\u0275fac=function(I){return new(I||L)(p.LFG(p.zs3),p.LFG(p.Sil))},L.\u0275prov=p.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();class Ic{}class Do{shouldProcessUrl(F){return!0}extract(F){return F}merge(F,I){return F}}function ma(L){throw L}function vl(L,F,I){return F.parse("/")}const xc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Id(){var L,F;const I=(0,p.f3M)(zt),H=(0,p.f3M)(pr),te=(0,p.f3M)(ut.Ye),Ae=(0,p.f3M)(p.zs3),nt=(0,p.f3M)(p.Sil),ft=null!==(L=(0,p.f3M)(Mn,{optional:!0}))&&void 0!==L?L:[],Yt=null!==(F=(0,p.f3M)(Xn,{optional:!0}))&&void 0!==F?F:{},An=(0,p.f3M)(Qi),ai=(0,p.f3M)(Rn,{optional:!0}),Wn=(0,p.f3M)(Ic,{optional:!0}),ci=(0,p.f3M)(Gu,{optional:!0}),Ui=new Pr(null,I,H,te,Ae,nt,gt(ft));return Wn&&(Ui.urlHandlingStrategy=Wn),ci&&(Ui.routeReuseStrategy=ci),Ui.titleStrategy=ai??An,function yl(L,F){L.errorHandler&&(F.errorHandler=L.errorHandler),L.malformedUriErrorHandler&&(F.malformedUriErrorHandler=L.malformedUriErrorHandler),L.onSameUrlNavigation&&(F.onSameUrlNavigation=L.onSameUrlNavigation),L.paramsInheritanceStrategy&&(F.paramsInheritanceStrategy=L.paramsInheritanceStrategy),L.relativeLinkResolution&&(F.relativeLinkResolution=L.relativeLinkResolution),L.urlUpdateStrategy&&(F.urlUpdateStrategy=L.urlUpdateStrategy),L.canceledNavigationResolution&&(F.canceledNavigationResolution=L.canceledNavigationResolution)}(Yt,Ui),Ui}let Pr=(()=>{class L{constructor(I,H,te,Ae,nt,ft,Yt){this.rootComponentType=I,this.urlSerializer=H,this.rootContexts=te,this.location=Ae,this.config=Yt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ke.xQ,this.errorHandler=ma,this.malformedUriErrorHandler=vl,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,_.of)(void 0),this.urlHandlingStrategy=new Do,this.routeReuseStrategy=new Ti,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=nt.get(Ar),this.configLoader.onLoadEndListener=ci=>this.triggerEvent(new Pt(ci)),this.configLoader.onLoadStartListener=ci=>this.triggerEvent(new Vs(ci)),this.ngModule=nt.get(p.h0i),this.console=nt.get(p.c2e);const Wn=nt.get(p.R0b);this.isNgZoneEnabled=Wn instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(Yt),this.currentUrlTree=function Zt(){return new Jt(new be([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Us(this.currentUrlTree,this.rootComponentType),this.transitions=new ne.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var I;return null===(I=this.location.getState())||void 0===I?void 0:I.\u0275routerPageId}setupNavigations(I){const H=this.events;return I.pipe((0,ht.h)(te=>0!==te.id),(0,je.U)(te=>({...te,extractedUrl:this.urlHandlingStrategy.extract(te.rawUrl)})),(0,ct.w)(te=>{let Ae=!1,nt=!1;return(0,_.of)(te).pipe((0,Ve.b)(ft=>{this.currentNavigation={id:ft.id,initialUrl:ft.rawUrl,extractedUrl:ft.extractedUrl,trigger:ft.source,extras:ft.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ct.w)(ft=>{const Yt=this.browserUrlTree.toString(),An=!this.navigated||ft.extractedUrl.toString()!==Yt||Yt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||An)&&this.urlHandlingStrategy.shouldProcessUrl(ft.rawUrl))return Si(ft.source)&&(this.browserUrlTree=ft.extractedUrl),(0,_.of)(ft).pipe((0,ct.w)(Wn=>{const ci=this.transitions.getValue();return H.next(new ko(Wn.id,this.serializeUrl(Wn.extractedUrl),Wn.source,Wn.restoredState)),ci!==this.transitions.getValue()?ye.E:Promise.resolve(Wn)}),function ys(L,F,I,H){return(0,ct.w)(te=>function ur(L,F,I,H,te){return new Rs(L,F,I,H,te).apply()}(L,F,I,te.extractedUrl,H).pipe((0,je.U)(Ae=>({...te,urlAfterRedirects:Ae}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ve.b)(Wn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Wn.urlAfterRedirects},te.urlAfterRedirects=Wn.urlAfterRedirects}),function el(L,F,I,H,te,Ae){return(0,kt.zg)(nt=>function tr(L,F,I,H,te,Ae,nt="emptyOnly",ft="legacy"){return new Os(L,F,I,H,te,nt,ft,Ae).recognize().pipe((0,ct.w)(Yt=>null===Yt?function Eo(L){return new me.y(F=>F.error(L))}(new Fo):(0,_.of)(Yt)))}(L,F,I,nt.urlAfterRedirects,H.serialize(nt.urlAfterRedirects),H,te,Ae).pipe((0,je.U)(ft=>({...nt,targetSnapshot:ft}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ve.b)(Wn=>{if(te.targetSnapshot=Wn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Wn.extras.skipLocationChange){const Ui=this.urlHandlingStrategy.merge(Wn.urlAfterRedirects,Wn.rawUrl);this.setBrowserUrl(Ui,Wn)}this.browserUrlTree=Wn.urlAfterRedirects}const ci=new yo(Wn.id,this.serializeUrl(Wn.extractedUrl),this.serializeUrl(Wn.urlAfterRedirects),Wn.targetSnapshot);H.next(ci)}));if(An&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ci,extractedUrl:Ui,source:Tr,restoredState:So,extras:jr}=ft,Nr=new ko(ci,this.serializeUrl(Ui),Tr,So);H.next(Nr);const Ns=Us(Ui,this.rootComponentType).snapshot;return te={...ft,targetSnapshot:Ns,urlAfterRedirects:Ui,extras:{...jr,skipLocationChange:!1,replaceUrl:!1}},(0,_.of)(te)}return this.rawUrlTree=ft.rawUrl,ft.resolve(null),ye.E}),(0,Ve.b)(ft=>{const Yt=new La(ft.id,this.serializeUrl(ft.extractedUrl),this.serializeUrl(ft.urlAfterRedirects),ft.targetSnapshot);this.triggerEvent(Yt)}),(0,je.U)(ft=>te={...ft,guards:Qa(ft.targetSnapshot,ft.currentSnapshot,this.rootContexts)}),function ao(L,F){return(0,kt.zg)(I=>{const{targetSnapshot:H,currentSnapshot:te,guards:{canActivateChecks:Ae,canDeactivateChecks:nt}}=I;return 0===nt.length&&0===Ae.length?(0,_.of)({...I,guardsResult:!0}):function Tc(L,F,I,H){return(0,N.D)(L).pipe((0,kt.zg)(te=>function Lo(L,F,I,H,te){const Ae=F&&F.routeConfig?F.routeConfig.canDeactivate:null;if(!Ae||0===Ae.length)return(0,_.of)(!0);const nt=Ae.map(ft=>{var Yt;const An=null!==(Yt=ps(F))&&void 0!==Yt?Yt:te,ai=Ii(ft,An);return Be(function Cr(L){return L&&Q(L.canDeactivate)}(ai)?ai.canDeactivate(L,F,I,H):An.runInContext(()=>ai(L,F,I,H))).pipe((0,yt.P)())});return(0,_.of)(nt).pipe(er())}(te.component,te.route,I,F,H)),(0,yt.P)(te=>!0!==te,!0))}(nt,H,te,L).pipe((0,kt.zg)(ft=>ft&&function $(L){return"boolean"==typeof L}(ft)?function Ba(L,F,I,H){return(0,N.D)(F).pipe((0,et.b)(te=>(0,we.z)(function Va(L,F){return null!==L&&F&&F(new Rt(L)),(0,_.of)(!0)}(te.route.parent,H),function Ql(L,F){return null!==L&&F&&F(new vn(L)),(0,_.of)(!0)}(te.route,H),function Ua(L,F,I){const H=F[F.length-1],Ae=F.slice(0,F.length-1).reverse().map(nt=>function Sn(L){const F=L.routeConfig?L.routeConfig.canActivateChild:null;return F&&0!==F.length?{node:L,guards:F}:null}(nt)).filter(nt=>null!==nt).map(nt=>(0,fe.P)(()=>{const ft=nt.guards.map(Yt=>{var An;const ai=null!==(An=ps(nt.node))&&void 0!==An?An:I,Wn=Ii(Yt,ai);return Be(function Jn(L){return L&&Q(L.canActivateChild)}(Wn)?Wn.canActivateChild(H,L):ai.runInContext(()=>Wn(H,L))).pipe((0,yt.P)())});return(0,_.of)(ft).pipe(er())}));return(0,_.of)(Ae).pipe(er())}(L,te.path,I),function Zo(L,F,I){const H=F.routeConfig?F.routeConfig.canActivate:null;if(!H||0===H.length)return(0,_.of)(!0);const te=H.map(Ae=>(0,fe.P)(()=>{var nt;const ft=null!==(nt=ps(F))&&void 0!==nt?nt:I,Yt=Ii(Ae,ft);return Be(function nn(L){return L&&Q(L.canActivate)}(Yt)?Yt.canActivate(F,L):ft.runInContext(()=>Yt(F,L))).pipe((0,yt.P)())}));return(0,_.of)(te).pipe(er())}(L,te.route,I))),(0,yt.P)(te=>!0!==te,!0))}(H,Ae,L,F):(0,_.of)(ft)),(0,je.U)(ft=>({...I,guardsResult:ft})))})}(this.ngModule.injector,ft=>this.triggerEvent(ft)),(0,Ve.b)(ft=>{if(te.guardsResult=ft.guardsResult,sn(ft.guardsResult))throw ro(0,ft.guardsResult);const Yt=new no(ft.id,this.serializeUrl(ft.extractedUrl),this.serializeUrl(ft.urlAfterRedirects),ft.targetSnapshot,!!ft.guardsResult);this.triggerEvent(Yt)}),(0,ht.h)(ft=>!!ft.guardsResult||(this.restoreHistory(ft),this.cancelNavigationTransition(ft,"",3),!1)),Vo(ft=>{if(ft.guards.canActivateChecks.length)return(0,_.of)(ft).pipe((0,Ve.b)(Yt=>{const An=new Fa(Yt.id,this.serializeUrl(Yt.extractedUrl),this.serializeUrl(Yt.urlAfterRedirects),Yt.targetSnapshot);this.triggerEvent(An)}),(0,ct.w)(Yt=>{let An=!1;return(0,_.of)(Yt).pipe(function au(L,F){return(0,kt.zg)(I=>{const{targetSnapshot:H,guards:{canActivateChecks:te}}=I;if(!te.length)return(0,_.of)(I);let Ae=0;return(0,N.D)(te).pipe((0,et.b)(nt=>function lu(L,F,I,H){const te=L.routeConfig,Ae=L._resolve;return void 0!==te?.title&&!_l(te)&&(Ae[qt]=te.title),function nr(L,F,I,H){const te=function fa(L){return[...Object.keys(L),...Object.getOwnPropertySymbols(L)]}(L);if(0===te.length)return(0,_.of)({});const Ae={};return(0,N.D)(te).pipe((0,kt.zg)(nt=>function Bo(L,F,I,H){var te;const Ae=null!==(te=ps(F))&&void 0!==te?te:H,nt=Ii(L,Ae);return Be(nt.resolve?nt.resolve(F,I):Ae.runInContext(()=>nt(F,I)))}(L[nt],F,I,H).pipe((0,yt.P)(),(0,Ve.b)(ft=>{Ae[nt]=ft}))),We(1),function Re(L){return F=>F.lift(new Ue(L))}(Ae),(0,pt.K)(nt=>rs(nt)?ye.E:(0,ae._)(nt)))}(Ae,L,F,H).pipe((0,je.U)(nt=>(L._resolvedData=nt,L.data=ra(L,I).resolve,te&&_l(te)&&(L.data[qt]=te.title),null)))}(nt.route,H,L,F)),(0,Ve.b)(()=>Ae++),We(1),(0,kt.zg)(nt=>Ae===te.length?(0,_.of)(I):ye.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ve.b)({next:()=>An=!0,complete:()=>{An||(this.restoreHistory(Yt),this.cancelNavigationTransition(Yt,"",2))}}))}),(0,Ve.b)(Yt=>{const An=new _s(Yt.id,this.serializeUrl(Yt.extractedUrl),this.serializeUrl(Yt.urlAfterRedirects),Yt.targetSnapshot);this.triggerEvent(An)}))}),Vo(ft=>{const Yt=An=>{var ai;const Wn=[];null!==(ai=An.routeConfig)&&void 0!==ai&&ai.loadComponent&&!An.routeConfig._loadedComponent&&Wn.push(this.configLoader.loadComponent(An.routeConfig).pipe((0,Ve.b)(ci=>{An.component=ci}),(0,je.U)(()=>{})));for(const ci of An.children)Wn.push(...Yt(ci));return Wn};return(0,J.aj)(Yt(ft.targetSnapshot.root)).pipe((0,qn.d)(),(0,mt.q)(1))}),Vo(()=>this.afterPreactivation()),(0,je.U)(ft=>{const Yt=function Is(L,F,I){const H=xs(L,F._root,I?I._root:void 0);return new Ro(H,F)}(this.routeReuseStrategy,ft.targetSnapshot,ft.currentRouterState);return te={...ft,targetRouterState:Yt}}),(0,Ve.b)(ft=>{this.currentUrlTree=ft.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ft.urlAfterRedirects,ft.rawUrl),this.routerState=ft.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ft.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ft),this.browserUrlTree=ft.urlAfterRedirects)}),((L,F,I)=>(0,je.U)(H=>(new la(F,H.targetRouterState,H.currentRouterState,I).activate(L),H)))(this.rootContexts,this.routeReuseStrategy,ft=>this.triggerEvent(ft)),(0,Ve.b)({next(){Ae=!0},complete(){Ae=!0}}),(0,Ze.x)(()=>{var ft;Ae||nt||this.cancelNavigationTransition(te,"",1),(null===(ft=this.currentNavigation)||void 0===ft?void 0:ft.id)===te.id&&(this.currentNavigation=null)}),(0,pt.K)(ft=>{if(nt=!0,As(ft)){bo(ft)||(this.navigated=!0,this.restoreHistory(te,!0));const An=new gs(te.id,this.serializeUrl(te.extractedUrl),ft.message,ft.cancellationCode);if(H.next(An),bo(ft)){const ai=this.urlHandlingStrategy.merge(ft.url,this.rawUrlTree),Wn={skipLocationChange:te.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Si(te.source)};this.scheduleNavigation(ai,"imperative",null,Wn,{resolve:te.resolve,reject:te.reject,promise:te.promise})}else te.resolve(!1)}else{var Yt;this.restoreHistory(te,!0);const An=new Yi(te.id,this.serializeUrl(te.extractedUrl),ft,null!==(Yt=te.targetSnapshot)&&void 0!==Yt?Yt:void 0);H.next(An);try{te.resolve(this.errorHandler(ft))}catch(ai){te.reject(ai)}}return ye.E}))}))}resetRootComponentType(I){this.rootComponentType=I,this.routerState.root.component=this.rootComponentType}setTransition(I){this.transitions.next({...this.transitions.value,...I})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const H="popstate"===I.type?"popstate":"hashchange";"popstate"===H&&setTimeout(()=>{var te;const Ae={replaceUrl:!0},nt=null!==(te=I.state)&&void 0!==te&&te.navigationId?I.state:null;if(nt){const Yt={...nt};delete Yt.navigationId,delete Yt.\u0275routerPageId,0!==Object.keys(Yt).length&&(Ae.state=Yt)}const ft=this.parseUrl(I.url);this.scheduleNavigation(ft,H,nt,Ae)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(I){this.events.next(I)}resetConfig(I){this.config=I.map(mi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(I,H={}){const{relativeTo:te,queryParams:Ae,fragment:nt,queryParamsHandling:ft,preserveFragment:Yt}=H,An=te||this.routerState.root,ai=Yt?this.currentUrlTree.fragment:nt;let Wn=null;switch(ft){case"merge":Wn={...this.currentUrlTree.queryParams,...Ae};break;case"preserve":Wn=this.currentUrlTree.queryParams;break;default:Wn=Ae||null}return null!==Wn&&(Wn=this.removeEmptyProps(Wn)),dr(An,this.currentUrlTree,I,Wn,ai??null)}navigateByUrl(I,H={skipLocationChange:!1}){const te=sn(I)?I:this.parseUrl(I),Ae=this.urlHandlingStrategy.merge(te,this.rawUrlTree);return this.scheduleNavigation(Ae,"imperative",null,H)}navigate(I,H={skipLocationChange:!1}){return function il(L){for(let F=0;F<L.length;F++){if(null==L[F])throw new p.vHH(4008,false)}}(I),this.navigateByUrl(this.createUrlTree(I,H),H)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let H;try{H=this.urlSerializer.parse(I)}catch(te){H=this.malformedUriErrorHandler(te,this.urlSerializer,I)}return H}isActive(I,H){let te;if(te=!0===H?{...xc}:!1===H?{...nl}:H,sn(I))return Cn(this.currentUrlTree,I,te);const Ae=this.parseUrl(I);return Cn(this.currentUrlTree,Ae,te)}removeEmptyProps(I){return Object.keys(I).reduce((H,te)=>{const Ae=I[te];return null!=Ae&&(H[te]=Ae),H},{})}processNavigations(){this.navigations.subscribe(I=>{var H;this.navigated=!0,this.lastSuccessfulId=I.id,this.currentPageId=I.targetPageId,this.events.next(new as(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(H=this.titleStrategy)||void 0===H||H.updateTitle(this.routerState.snapshot),I.resolve(!0)},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)})}scheduleNavigation(I,H,te,Ae,nt){if(this.disposed)return Promise.resolve(!1);let ft,Yt,An;nt?(ft=nt.resolve,Yt=nt.reject,An=nt.promise):An=new Promise((Tr,So)=>{ft=Tr,Yt=So});const ai=++this.navigationId;let Wn;if("computed"===this.canceledNavigationResolution)if(0===this.currentPageId&&(te=this.location.getState()),te&&te.\u0275routerPageId)Wn=te.\u0275routerPageId;else if(Ae.replaceUrl||Ae.skipLocationChange){var ci;Wn=null!==(ci=this.browserPageId)&&void 0!==ci?ci:0}else{var Ui;Wn=(null!==(Ui=this.browserPageId)&&void 0!==Ui?Ui:0)+1}else Wn=0;return this.setTransition({id:ai,targetPageId:Wn,source:H,restoredState:te,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:I,extras:Ae,resolve:ft,reject:Yt,promise:An,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),An.catch(Tr=>Promise.reject(Tr))}setBrowserUrl(I,H){const te=this.urlSerializer.serialize(I),Ae={...H.extras.state,...this.generateNgRouterState(H.id,H.targetPageId)};this.location.isCurrentPathEqualTo(te)||H.extras.replaceUrl?this.location.replaceState(te,"",Ae):this.location.go(te,"",Ae)}restoreHistory(I,H=!1){if("computed"===this.canceledNavigationResolution){var te,Ae;const nt=this.currentPageId-I.targetPageId;"popstate"!==I.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(te=this.currentNavigation)||void 0===te?void 0:te.finalUrl)||0===nt?this.currentUrlTree===(null===(Ae=this.currentNavigation)||void 0===Ae?void 0:Ae.finalUrl)&&0===nt&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(nt)}else"replace"===this.canceledNavigationResolution&&(H&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(I,H,te){const Ae=new gs(I.id,this.serializeUrl(I.extractedUrl),H,te);this.triggerEvent(Ae),I.resolve(!1)}generateNgRouterState(I,H){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:H}:{navigationId:I}}}return L.\u0275fac=function(I){p.$Z()},L.\u0275prov=p.Yz7({token:L,factory:function(){return Id()},providedIn:"root"}),L})();function Si(L){return"imperative"!==L}let rl=(()=>{class L{constructor(I,H,te){this.router=I,this.route=H,this.locationStrategy=te,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Ke.xQ,this.subscription=I.events.subscribe(Ae=>{Ae instanceof as&&this.updateTargetUrlAndHref()})}set preserveFragment(I){this._preserveFragment=(0,p.D6c)(I)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(I){this._skipLocationChange=(0,p.D6c)(I)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(I){this._replaceUrl=(0,p.D6c)(I)}get replaceUrl(){return this._replaceUrl}set routerLink(I){this.commands=null!=I?Array.isArray(I)?I:[I]:null}ngOnChanges(I){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(I,H,te,Ae,nt){return!!(0!==I||H||te||Ae||nt||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return L.\u0275fac=function(I){return new(I||L)(p.Y36(Pr),p.Y36(Ks),p.Y36(ut.S$))},L.\u0275dir=p.lG2({type:L,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(I,H){1&I&&p.NdJ("click",function(Ae){return H.onClick(Ae.button,Ae.ctrlKey,Ae.shiftKey,Ae.altKey,Ae.metaKey)}),2&I&&p.uIk("target",H.target)("href",H.href,p.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),L})();class cs{}let wr=(()=>{class L{constructor(I,H,te,Ae,nt){this.router=I,this.injector=te,this.preloadingStrategy=Ae,this.loader=nt}setUpPreloading(){this.subscription=this.router.events.pipe((0,ht.h)(I=>I instanceof as),(0,et.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,H){const te=[];for(const Yt of H){var Ae,nt;Yt.providers&&!Yt._injector&&(Yt._injector=(0,p.MMx)(Yt.providers,I,`Route: ${Yt.path}`));const An=null!==(Ae=Yt._injector)&&void 0!==Ae?Ae:I,ai=null!==(nt=Yt._loadedInjector)&&void 0!==nt?nt:An;if(Yt.loadChildren&&!Yt._loadedRoutes&&void 0===Yt.canLoad||Yt.loadComponent&&!Yt._loadedComponent)te.push(this.preloadConfig(An,Yt));else if(Yt.children||Yt._loadedRoutes){var ft;te.push(this.processRoutes(ai,null!==(ft=Yt.children)&&void 0!==ft?ft:Yt._loadedRoutes))}}return(0,N.D)(te).pipe((0,tn.J)())}preloadConfig(I,H){return this.preloadingStrategy.preload(H,()=>{let te;te=H.loadChildren&&void 0===H.canLoad?this.loader.loadChildren(I,H):(0,_.of)(null);const Ae=te.pipe((0,kt.zg)(nt=>{var ft;return null===nt?(0,_.of)(void 0):(H._loadedRoutes=nt.routes,H._loadedInjector=nt.injector,this.processRoutes(null!==(ft=nt.injector)&&void 0!==ft?ft:I,nt.routes))}));if(H.loadComponent&&!H._loadedComponent){const nt=this.loader.loadComponent(H);return(0,N.D)([Ae,nt]).pipe((0,tn.J)())}return Ae})}}return L.\u0275fac=function(I){return new(I||L)(p.LFG(Pr),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(cs),p.LFG(Ar))},L.\u0275prov=p.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();const zn=new p.OlP("");let qo=(()=>{class L{constructor(I,H,te={}){this.router=I,this.viewportScroller=H,this.options=te,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},te.scrollPositionRestoration=te.scrollPositionRestoration||"disabled",te.anchorScrolling=te.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(I=>{I instanceof ko?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof as&&(this.lastId=I.id,this.scheduleScrollEvent(I,this.router.parseUrl(I.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(I=>{I instanceof si&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,H){this.router.triggerEvent(new si(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,H))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return L.\u0275fac=function(I){p.$Z()},L.\u0275prov=p.Yz7({token:L,factory:L.\u0275fac}),L})();function _a(L,F){return{\u0275kind:L,\u0275providers:F}}function ji(L){return[{provide:Mn,multi:!0,useValue:L}]}function Cl(){const L=(0,p.f3M)(p.zs3);return F=>{var I,H;const te=L.get(p.z2F);if(F!==te.components[0])return;const Ae=L.get(Pr),nt=L.get(Xl);1===L.get(uo)&&Ae.initialNavigation(),null===(I=L.get(Ho,null,p.XFs.Optional))||void 0===I||I.setUpPreloading(),null===(H=L.get(zn,null,p.XFs.Optional))||void 0===H||H.init(),Ae.resetRootComponentType(te.componentTypes[0]),nt.next(),nt.complete()}}const Xl=new p.OlP("",{factory:()=>new Ke.xQ}),uo=new p.OlP("",{providedIn:"root",factory:()=>1});const Ho=new p.OlP("");function wl(L){return _a(0,[{provide:Ho,useExisting:wr},{provide:cs,useExisting:L}])}const kc=new p.OlP("ROUTER_FORROOT_GUARD"),sl=[ut.Ye,{provide:zt,useClass:st},{provide:Pr,useFactory:Id},pr,{provide:Ks,useFactory:function Ta(L){return L.routerState.root},deps:[Pr]},Ar];function Sa(){return new p.PXZ("Router",Pr)}let To=(()=>{class L{constructor(I){}static forRoot(I,H){return{ngModule:L,providers:[sl,[],ji(I),{provide:kc,useFactory:qs,deps:[[Pr,new p.FiY,new p.tp0]]},{provide:Xn,useValue:H||{}},null!=H&&H.useHash?{provide:ut.S$,useClass:ut.Do}:{provide:ut.S$,useClass:ut.b0},{provide:zn,useFactory:()=>{const L=(0,p.f3M)(Pr),F=(0,p.f3M)(ut.EM),I=(0,p.f3M)(Xn);return I.scrollOffset&&F.setOffset(I.scrollOffset),new qo(L,F,I)}},null!=H&&H.preloadingStrategy?wl(H.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:Sa},null!=H&&H.initialNavigation?Vl(H):[],[{provide:po,useFactory:Cl},{provide:p.tb,multi:!0,useExisting:po}]]}}static forChild(I){return{ngModule:L,providers:[ji(I)]}}}return L.\u0275fac=function(I){return new(I||L)(p.LFG(kc,8))},L.\u0275mod=p.oAB({type:L}),L.\u0275inj=p.cJS({imports:[so]}),L})();function qs(L){return"guarded"}function Vl(L){return["disabled"===L.initialNavigation?_a(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const F=(0,p.f3M)(Pr);return()=>{F.setUpLocationChangeListener()}}},{provide:uo,useValue:2}]).\u0275providers:[],"enabledBlocking"===L.initialNavigation?_a(2,[{provide:uo,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:F=>{const I=F.get(ut.V_,Promise.resolve());let H=!1;return()=>I.then(()=>new Promise(Ae=>{const nt=F.get(Pr),ft=F.get(Xl);(function te(Ae){F.get(Pr).events.pipe((0,ht.h)(ft=>ft instanceof as||ft instanceof gs||ft instanceof Yi),(0,je.U)(ft=>ft instanceof as||ft instanceof gs&&(0===ft.code||1===ft.code)&&null),(0,ht.h)(ft=>null!==ft),(0,mt.q)(1)).subscribe(()=>{Ae()})})(()=>{Ae(!0),H=!0}),nt.afterPreactivation=()=>(Ae(!0),H||ft.closed?(0,_.of)(void 0):ft),nt.initialNavigation()}))}}]).\u0275providers:[]]}const po=new p.OlP("")},3942:(_n,vt,k)=>{"use strict";k.d(vt,{Z:()=>ut});var p=k(2090),N=k(4859),_=k(9681),ne=k(1877);class C{constructor(ct,mt){this._delegate=ct,this.firebase=mt,(0,_._addComponent)(ct,new N.wA("app-compat",()=>this,"PUBLIC")),this.container=ct.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ct){this._delegate.automaticDataCollectionEnabled=ct}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ct=>{this._delegate.checkDestroyed(),ct()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,_.deleteApp)(this._delegate)))}_getService(ct,mt=_._DEFAULT_ENTRY_NAME){var jt;this._delegate.checkDestroyed();const ht=this._delegate.container.getProvider(ct);return!ht.isInitialized()&&"EXPLICIT"===(null===(jt=ht.getComponent())||void 0===jt?void 0:jt.instantiationMode)&&ht.initialize(),ht.getImmediate({identifier:mt})}_removeServiceInstance(ct,mt=_._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ct).clearInstance(mt)}_addComponent(ct){(0,_._addComponent)(this._delegate,ct)}_addOrOverwriteComponent(ct){(0,_._addOrOverwriteComponent)(this._delegate,ct)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const we=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ae=function Se(){const je=function fe(je){const ct={},mt={__esModule:!0,initializeApp:function kt(pt,tt={}){const Qe=_.initializeApp(pt,tt);if((0,p.r3)(ct,Qe.name))return ct[Qe.name];const Lt=new je(Qe,mt);return ct[Qe.name]=Lt,Lt},app:ht,registerVersion:_.registerVersion,setLogLevel:_.setLogLevel,onLog:_.onLog,apps:null,SDK_VERSION:_.SDK_VERSION,INTERNAL:{registerComponent:function et(pt){const tt=pt.name,Qe=tt.replace("-compat","");if(_._registerComponent(pt)&&"PUBLIC"===pt.type){const Lt=(We=ht())=>{if("function"!=typeof We[Qe])throw we.create("invalid-app-argument",{appName:tt});return We[Qe]()};void 0!==pt.serviceProps&&(0,p.ZB)(Lt,pt.serviceProps),mt[Qe]=Lt,je.prototype[Qe]=function(...We){return this._getService.bind(this,tt).apply(this,pt.multipleInstances?We:[])}}return"PUBLIC"===pt.type?mt[Qe]:null},removeApp:function jt(pt){delete ct[pt]},useAsService:function Ve(pt,tt){return"serverAuth"===tt?null:tt},modularAPIs:_}};function ht(pt){if(!(0,p.r3)(ct,pt=pt||_._DEFAULT_ENTRY_NAME))throw we.create("no-app",{appName:pt});return ct[pt]}return mt.default=mt,Object.defineProperty(mt,"apps",{get:function yt(){return Object.keys(ct).map(pt=>ct[pt])}}),ht.App=je,mt}(C);return je.INTERNAL=Object.assign(Object.assign({},je.INTERNAL),{createFirebaseNamespace:Se,extendNamespace:function ct(mt){(0,p.ZB)(je,mt)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),je}(),me=new ne.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){me.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const je=self.firebase.SDK_VERSION;je&&je.indexOf("LITE")>=0&&me.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ut=ae;!function Ke(je){(0,_.registerVersion)("@firebase/app-compat","0.1.38",je)}()},9681:(_n,vt,k)=>{"use strict";k.r(vt),k.d(vt,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>Ht,_DEFAULT_ENTRY_NAME:()=>Nn,_addComponent:()=>Ue,_addOrOverwriteComponent:()=>Fe,_apps:()=>gn,_clearComponents:()=>Ln,_components:()=>Re,_getProvider:()=>St,_registerComponent:()=>Ze,_removeServiceInstance:()=>tn,deleteApp:()=>Dn,getApp:()=>Gt,getApps:()=>$n,initializeApp:()=>En,onLog:()=>de,registerVersion:()=>ee,setLogLevel:()=>Le});var p=k(5861),N=k(4859),_=k(1877),ne=k(2090),C=k(8766);class J{constructor(st){this.container=st}getPlatformInfoString(){return this.container.getProviders().map(rt=>{if(function we(zt){return"VERSION"===zt.getComponent()?.type}(rt)){const Je=rt.getImmediate();return`${Je.library}/${Je.version}`}return null}).filter(rt=>rt).join(" ")}}const fe="@firebase/app",ae=new _.Yd("@firebase/app"),Nn="[DEFAULT]",rn={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gn=new Map,Re=new Map;function Ue(zt,st){try{zt.container.addComponent(st)}catch(rt){ae.debug(`Component ${st.name} failed to register with FirebaseApp ${zt.name}`,rt)}}function Fe(zt,st){zt.container.addOrOverwriteComponent(st)}function Ze(zt){const st=zt.name;if(Re.has(st))return ae.debug(`There were multiple attempts to register component ${st}.`),!1;Re.set(st,zt);for(const rt of gn.values())Ue(rt,zt);return!0}function St(zt,st){const rt=zt.container.getProvider("heartbeat").getImmediate({optional:!0});return rt&&rt.triggerHeartbeat(),zt.container.getProvider(st)}function tn(zt,st,rt=Nn){St(zt,st).clearInstance(rt)}function Ln(){Re.clear()}const qt=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Mt{constructor(st,rt,Je){this._isDeleted=!1,this._options=Object.assign({},st),this._config=Object.assign({},rt),this._name=rt.name,this._automaticDataCollectionEnabled=rt.automaticDataCollectionEnabled,this._container=Je,this.container.addComponent(new N.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(st){this.checkDestroyed(),this._automaticDataCollectionEnabled=st}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(st){this._isDeleted=st}checkDestroyed(){if(this.isDeleted)throw qt.create("app-deleted",{appName:this._name})}}const Ht="9.13.0";function En(zt,st={}){let rt=zt;"object"!=typeof st&&(st={name:st});const Je=Object.assign({name:Nn,automaticDataCollectionEnabled:!1},st),Tt=Je.name;if("string"!=typeof Tt||!Tt)throw qt.create("bad-app-name",{appName:String(Tt)});if(rt||(rt=(0,ne.aH)()),!rt)throw qt.create("no-options");const $t=gn.get(Tt);if($t){if((0,ne.vZ)(rt,$t.options)&&(0,ne.vZ)(Je,$t.config))return $t;throw qt.create("duplicate-app",{appName:Tt})}const ge=new N.H0(Tt);for(const G of Re.values())ge.addComponent(G);const j=new Mt(rt,Je,ge);return gn.set(Tt,j),j}function Gt(zt=Nn){const st=gn.get(zt);if(!st&&zt===Nn)return En();if(!st)throw qt.create("no-app",{appName:zt});return st}function $n(){return Array.from(gn.values())}function Dn(zt){return gt.apply(this,arguments)}function gt(){return(gt=(0,p.Z)(function*(zt){const st=zt.name;gn.has(st)&&(gn.delete(st),yield Promise.all(zt.container.getProviders().map(rt=>rt.delete())),zt.isDeleted=!0)})).apply(this,arguments)}function ee(zt,st,rt){var Je;let Tt=null!==(Je=rn[zt])&&void 0!==Je?Je:zt;rt&&(Tt+=`-${rt}`);const $t=Tt.match(/\s|\//),ge=st.match(/\s|\//);if($t||ge){const j=[`Unable to register library "${Tt}" with version "${st}":`];return $t&&j.push(`library name "${Tt}" contains illegal characters (whitespace or "/")`),$t&&ge&&j.push("and"),ge&&j.push(`version name "${st}" contains illegal characters (whitespace or "/")`),void ae.warn(j.join(" "))}Ze(new N.wA(`${Tt}-version`,()=>({library:Tt,version:st}),"VERSION"))}function de(zt,st){if(null!==zt&&"function"!=typeof zt)throw qt.create("invalid-log-argument");(0,_.Am)(zt,st)}function Le(zt){(0,_.Ub)(zt)}const Zt="firebase-heartbeat-store";let hn=null;function Un(){return hn||(hn=(0,C.X3)("firebase-heartbeat-database",1,{upgrade:(zt,st)=>{0===st&&zt.createObjectStore(Zt)}}).catch(zt=>{throw qt.create("idb-open",{originalErrorMessage:zt.message})})),hn}function pn(){return(pn=(0,p.Z)(function*(zt){var st;try{return(yield Un()).transaction(Zt).objectStore(Zt).get(hi(zt))}catch(rt){if(rt instanceof ne.ZR)ae.warn(rt.message);else{const Je=qt.create("idb-get",{originalErrorMessage:null===(st=rt)||void 0===st?void 0:st.message});ae.warn(Je.message)}}})).apply(this,arguments)}function Fn(zt,st){return di.apply(this,arguments)}function di(){return(di=(0,p.Z)(function*(zt,st){var rt;try{const Tt=(yield Un()).transaction(Zt,"readwrite");return yield Tt.objectStore(Zt).put(st,hi(zt)),Tt.done}catch(Je){if(Je instanceof ne.ZR)ae.warn(Je.message);else{const Tt=qt.create("idb-set",{originalErrorMessage:null===(rt=Je)||void 0===rt?void 0:rt.message});ae.warn(Tt.message)}}})).apply(this,arguments)}function hi(zt){return`${zt.name}!${zt.options.appId}`}class Jt{constructor(st){this.container=st,this._heartbeatsCache=null;const rt=this.container.getProvider("app").getImmediate();this._storage=new ke(rt),this._heartbeatsCachePromise=this._storage.read().then(Je=>(this._heartbeatsCache=Je,Je))}triggerHeartbeat(){var st=this;return(0,p.Z)(function*(){const Je=st.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Tt=be();if(null===st._heartbeatsCache&&(st._heartbeatsCache=yield st._heartbeatsCachePromise),st._heartbeatsCache.lastSentHeartbeatDate!==Tt&&!st._heartbeatsCache.heartbeats.some($t=>$t.date===Tt))return st._heartbeatsCache.heartbeats.push({date:Tt,agent:Je}),st._heartbeatsCache.heartbeats=st._heartbeatsCache.heartbeats.filter($t=>{const ge=new Date($t.date).valueOf();return Date.now()-ge<=2592e6}),st._storage.overwrite(st._heartbeatsCache)})()}getHeartbeatsHeader(){var st=this;return(0,p.Z)(function*(){if(null===st._heartbeatsCache&&(yield st._heartbeatsCachePromise),null===st._heartbeatsCache||0===st._heartbeatsCache.heartbeats.length)return"";const rt=be(),{heartbeatsToSend:Je,unsentEntries:Tt}=function Ne(zt,st=1024){const rt=[];let Je=zt.slice();for(const Tt of zt){const $t=rt.find(ge=>ge.agent===Tt.agent);if($t){if($t.dates.push(Tt.date),ue(rt)>st){$t.dates.pop();break}}else if(rt.push({agent:Tt.agent,dates:[Tt.date]}),ue(rt)>st){rt.pop();break}Je=Je.slice(1)}return{heartbeatsToSend:rt,unsentEntries:Je}}(st._heartbeatsCache.heartbeats),$t=(0,ne.L)(JSON.stringify({version:2,heartbeats:Je}));return st._heartbeatsCache.lastSentHeartbeatDate=rt,Tt.length>0?(st._heartbeatsCache.heartbeats=Tt,yield st._storage.overwrite(st._heartbeatsCache)):(st._heartbeatsCache.heartbeats=[],st._storage.overwrite(st._heartbeatsCache)),$t})()}}function be(){return(new Date).toISOString().substring(0,10)}class ke{constructor(st){this.app=st,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var st=this;return(0,p.Z)(function*(){return(yield st._canUseIndexedDBPromise)&&(yield function Cn(zt){return pn.apply(this,arguments)}(st.app))||{heartbeats:[]}})()}overwrite(st){var rt=this;return(0,p.Z)(function*(){var Je;if(yield rt._canUseIndexedDBPromise){const $t=yield rt.read();return Fn(rt.app,{lastSentHeartbeatDate:null!==(Je=st.lastSentHeartbeatDate)&&void 0!==Je?Je:$t.lastSentHeartbeatDate,heartbeats:st.heartbeats})}})()}add(st){var rt=this;return(0,p.Z)(function*(){var Je;if(yield rt._canUseIndexedDBPromise){const $t=yield rt.read();return Fn(rt.app,{lastSentHeartbeatDate:null!==(Je=st.lastSentHeartbeatDate)&&void 0!==Je?Je:$t.lastSentHeartbeatDate,heartbeats:[...$t.heartbeats,...st.heartbeats]})}})()}}function ue(zt){return(0,ne.L)(JSON.stringify({version:2,heartbeats:zt})).length}!function Nt(zt){Ze(new N.wA("platform-logger",st=>new J(st),"PRIVATE")),Ze(new N.wA("heartbeat",st=>new Jt(st),"PRIVATE")),ee(fe,"0.8.3",zt),ee(fe,"0.8.3","esm2017"),ee("fire-js","")}("")},4859:(_n,vt,k)=>{"use strict";k.d(vt,{H0:()=>fe,wA:()=>_,zt:()=>C});var p=k(5861),N=k(2090);class _{constructor(ae,me,ye){this.name=ae,this.instanceFactory=me,this.type=ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const ne="[DEFAULT]";class C{constructor(ae,me){this.name=ae,this.container=me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const me=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(me)){const ye=new N.BH;if(this.instancesDeferred.set(me,ye),this.isInitialized(me)||this.shouldAutoInitialize())try{const Pe=this.getOrInitializeService({instanceIdentifier:me});Pe&&ye.resolve(Pe)}catch{}}return this.instancesDeferred.get(me).promise}getImmediate(ae){var me;const ye=this.normalizeInstanceIdentifier(ae?.identifier),Pe=null!==(me=ae?.optional)&&void 0!==me&&me;if(!this.isInitialized(ye)&&!this.shouldAutoInitialize()){if(Pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ye})}catch(Ke){if(Pe)return null;throw Ke}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function we(Se){return"EAGER"===Se.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[me,ye]of this.instancesDeferred.entries()){const Pe=this.normalizeInstanceIdentifier(me);try{const Ke=this.getOrInitializeService({instanceIdentifier:Pe});ye.resolve(Ke)}catch{}}}}clearInstance(ae=ne){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,p.Z)(function*(){const me=Array.from(ae.instances.values());yield Promise.all([...me.filter(ye=>"INTERNAL"in ye).map(ye=>ye.INTERNAL.delete()),...me.filter(ye=>"_delete"in ye).map(ye=>ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=ne){return this.instances.has(ae)}getOptions(ae=ne){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:me={}}=ae,ye=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(ye))throw Error(`${this.name}(${ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pe=this.getOrInitializeService({instanceIdentifier:ye,options:me});for(const[Ke,ut]of this.instancesDeferred.entries())ye===this.normalizeInstanceIdentifier(Ke)&&ut.resolve(Pe);return Pe}onInit(ae,me){var ye;const Pe=this.normalizeInstanceIdentifier(me),Ke=null!==(ye=this.onInitCallbacks.get(Pe))&&void 0!==ye?ye:new Set;Ke.add(ae),this.onInitCallbacks.set(Pe,Ke);const ut=this.instances.get(Pe);return ut&&ae(ut,Pe),()=>{Ke.delete(ae)}}invokeOnInitCallbacks(ae,me){const ye=this.onInitCallbacks.get(me);if(ye)for(const Pe of ye)try{Pe(ae,me)}catch{}}getOrInitializeService({instanceIdentifier:ae,options:me={}}){let ye=this.instances.get(ae);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:(Se=ae,Se===ne?void 0:Se),options:me}),this.instances.set(ae,ye),this.instancesOptions.set(ae,me),this.invokeOnInitCallbacks(ye,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,ye)}catch{}var Se;return ye||null}normalizeInstanceIdentifier(ae=ne){return this.component?this.component.multipleInstances?ae:ne:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const me=this.getProvider(ae.name);if(me.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);me.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const me=new C(ae,this);return this.providers.set(ae,me),me}getProviders(){return Array.from(this.providers.values())}}},1877:(_n,vt,k)=>{"use strict";k.d(vt,{Am:()=>Se,Ub:()=>fe,Yd:()=>we,in:()=>N});const p=[];var N=(()=>{return(ae=N||(N={}))[ae.DEBUG=0]="DEBUG",ae[ae.VERBOSE=1]="VERBOSE",ae[ae.INFO=2]="INFO",ae[ae.WARN=3]="WARN",ae[ae.ERROR=4]="ERROR",ae[ae.SILENT=5]="SILENT",N;var ae})();const _={debug:N.DEBUG,verbose:N.VERBOSE,info:N.INFO,warn:N.WARN,error:N.ERROR,silent:N.SILENT},ne=N.INFO,C={[N.DEBUG]:"log",[N.VERBOSE]:"log",[N.INFO]:"info",[N.WARN]:"warn",[N.ERROR]:"error"},J=(ae,me,...ye)=>{if(me<ae.logLevel)return;const Pe=(new Date).toISOString(),Ke=C[me];if(!Ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${me})`);console[Ke](`[${Pe}]  ${ae.name}:`,...ye)};class we{constructor(me){this.name=me,this._logLevel=ne,this._logHandler=J,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(me){if(!(me in N))throw new TypeError(`Invalid value "${me}" assigned to \`logLevel\``);this._logLevel=me}setLogLevel(me){this._logLevel="string"==typeof me?_[me]:me}get logHandler(){return this._logHandler}set logHandler(me){if("function"!=typeof me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=me}get userLogHandler(){return this._userLogHandler}set userLogHandler(me){this._userLogHandler=me}debug(...me){this._userLogHandler&&this._userLogHandler(this,N.DEBUG,...me),this._logHandler(this,N.DEBUG,...me)}log(...me){this._userLogHandler&&this._userLogHandler(this,N.VERBOSE,...me),this._logHandler(this,N.VERBOSE,...me)}info(...me){this._userLogHandler&&this._userLogHandler(this,N.INFO,...me),this._logHandler(this,N.INFO,...me)}warn(...me){this._userLogHandler&&this._userLogHandler(this,N.WARN,...me),this._logHandler(this,N.WARN,...me)}error(...me){this._userLogHandler&&this._userLogHandler(this,N.ERROR,...me),this._logHandler(this,N.ERROR,...me)}}function fe(ae){p.forEach(me=>{me.setLogLevel(ae)})}function Se(ae,me){for(const ye of p){let Pe=null;me&&me.level&&(Pe=_[me.level]),ye.userLogHandler=null===ae?null:(Ke,ut,...je)=>{const ct=je.map(mt=>{if(null==mt)return null;if("string"==typeof mt)return mt;if("number"==typeof mt||"boolean"==typeof mt)return mt.toString();if(mt instanceof Error)return mt.message;try{return JSON.stringify(mt)}catch{return null}}).filter(mt=>mt).join(" ");ut>=(Pe??Ke.logLevel)&&ae({level:N[ut].toLowerCase(),message:ct,args:je,type:Ke.name})}}}},8766:(_n,vt,k)=>{"use strict";k.d(vt,{Lj:()=>kt,X3:()=>ht});var p=k(5861);let _,ne;const we=new WeakMap,fe=new WeakMap,Se=new WeakMap,ae=new WeakMap,me=new WeakMap;let Ke={get(tt,Qe,Lt){if(tt instanceof IDBTransaction){if("done"===Qe)return fe.get(tt);if("objectStoreNames"===Qe)return tt.objectStoreNames||Se.get(tt);if("store"===Qe)return Lt.objectStoreNames[1]?void 0:Lt.objectStore(Lt.objectStoreNames[0])}return mt(tt[Qe])},set:(tt,Qe,Lt)=>(tt[Qe]=Lt,!0),has:(tt,Qe)=>tt instanceof IDBTransaction&&("done"===Qe||"store"===Qe)||Qe in tt};function ct(tt){return"function"==typeof tt?function je(tt){return tt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function J(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(tt)?function(...Qe){return tt.apply(jt(this),Qe),mt(we.get(this))}:function(...Qe){return mt(tt.apply(jt(this),Qe))}:function(Qe,...Lt){const We=tt.call(jt(this),Qe,...Lt);return Se.set(We,Qe.sort?Qe.sort():[Qe]),mt(We)}}(tt):(tt instanceof IDBTransaction&&function Pe(tt){if(fe.has(tt))return;const Qe=new Promise((Lt,We)=>{const Ot=()=>{tt.removeEventListener("complete",Vt),tt.removeEventListener("error",bn),tt.removeEventListener("abort",bn)},Vt=()=>{Lt(),Ot()},bn=()=>{We(tt.error||new DOMException("AbortError","AbortError")),Ot()};tt.addEventListener("complete",Vt),tt.addEventListener("error",bn),tt.addEventListener("abort",bn)});fe.set(tt,Qe)}(tt),((tt,Qe)=>Qe.some(Lt=>tt instanceof Lt))(tt,function C(){return _||(_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(tt,Ke):tt)}function mt(tt){if(tt instanceof IDBRequest)return function ye(tt){const Qe=new Promise((Lt,We)=>{const Ot=()=>{tt.removeEventListener("success",Vt),tt.removeEventListener("error",bn)},Vt=()=>{Lt(mt(tt.result)),Ot()},bn=()=>{We(tt.error),Ot()};tt.addEventListener("success",Vt),tt.addEventListener("error",bn)});return Qe.then(Lt=>{Lt instanceof IDBCursor&&we.set(Lt,tt)}).catch(()=>{}),me.set(Qe,tt),Qe}(tt);if(ae.has(tt))return ae.get(tt);const Qe=ct(tt);return Qe!==tt&&(ae.set(tt,Qe),me.set(Qe,tt)),Qe}const jt=tt=>me.get(tt);function ht(tt,Qe,{blocked:Lt,upgrade:We,blocking:Ot,terminated:Vt}={}){const bn=indexedDB.open(tt,Qe),qn=mt(bn);return We&&bn.addEventListener("upgradeneeded",jn=>{We(mt(bn.result),jn.oldVersion,jn.newVersion,mt(bn.transaction))}),Lt&&bn.addEventListener("blocked",()=>Lt()),qn.then(jn=>{Vt&&jn.addEventListener("close",()=>Vt()),Ot&&jn.addEventListener("versionchange",()=>Ot())}).catch(()=>{}),qn}function kt(tt,{blocked:Qe}={}){const Lt=indexedDB.deleteDatabase(tt);return Qe&&Lt.addEventListener("blocked",()=>Qe()),mt(Lt).then(()=>{})}const yt=["get","getKey","getAll","getAllKeys","count"],et=["put","add","delete","clear"],Ve=new Map;function pt(tt,Qe){if(!(tt instanceof IDBDatabase)||Qe in tt||"string"!=typeof Qe)return;if(Ve.get(Qe))return Ve.get(Qe);const Lt=Qe.replace(/FromIndex$/,""),We=Qe!==Lt,Ot=et.includes(Lt);if(!(Lt in(We?IDBIndex:IDBObjectStore).prototype)||!Ot&&!yt.includes(Lt))return;const Vt=function(){var bn=(0,p.Z)(function*(qn,...jn){const oi=this.transaction(qn,Ot?"readwrite":"readonly");let Nn=oi.store;return We&&(Nn=Nn.index(jn.shift())),(yield Promise.all([Nn[Lt](...jn),Ot&&oi.done]))[0]});return function(jn){return bn.apply(this,arguments)}}();return Ve.set(Qe,Vt),Vt}!function ut(tt){Ke=tt(Ke)}(tt=>({...tt,get:(Qe,Lt,We)=>pt(Qe,Lt)||tt.get(Qe,Lt,We),has:(Qe,Lt)=>!!pt(Qe,Lt)||tt.has(Qe,Lt)}))},7185:(_n,vt,k)=>{"use strict";k.d(vt,{Rh:()=>jn,_W:()=>Vt});var p=k(4650),N=k(7340),_=k(8929),ne=k(6895),C=k(1481);const J=["toast-component",""];function we(Re,Ue){if(1&Re){const Fe=p.EpF();p.TgZ(0,"button",5),p.NdJ("click",function(){p.CHM(Fe);const St=p.oxw();return p.KtG(St.remove())}),p.TgZ(1,"span",6),p._uU(2,"\xd7"),p.qZA()()}}function fe(Re,Ue){if(1&Re&&(p.ynx(0),p._uU(1),p.BQk()),2&Re){const Fe=p.oxw(2);p.xp6(1),p.hij("[",Fe.duplicatesCount+1,"]")}}function Se(Re,Ue){if(1&Re&&(p.TgZ(0,"div"),p._uU(1),p.YNc(2,fe,2,1,"ng-container",4),p.qZA()),2&Re){const Fe=p.oxw();p.Tol(Fe.options.titleClass),p.uIk("aria-label",Fe.title),p.xp6(1),p.hij(" ",Fe.title," "),p.xp6(1),p.Q6J("ngIf",Fe.duplicatesCount)}}function ae(Re,Ue){if(1&Re&&p._UZ(0,"div",7),2&Re){const Fe=p.oxw();p.Tol(Fe.options.messageClass),p.Q6J("innerHTML",Fe.message,p.oJD)}}function me(Re,Ue){if(1&Re&&(p.TgZ(0,"div",8),p._uU(1),p.qZA()),2&Re){const Fe=p.oxw();p.Tol(Fe.options.messageClass),p.uIk("aria-label",Fe.message),p.xp6(1),p.hij(" ",Fe.message," ")}}function ye(Re,Ue){if(1&Re&&(p.TgZ(0,"div"),p._UZ(1,"div",9),p.qZA()),2&Re){const Fe=p.oxw();p.xp6(1),p.Udp("width",Fe.width+"%")}}class kt{constructor(Ue,Fe){this.component=Ue,this.injector=Fe}attach(Ue,Fe){return this._attachedHost=Ue,Ue.attach(this,Fe)}detach(){const Ue=this._attachedHost;if(Ue)return this._attachedHost=void 0,Ue.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(Ue){this._attachedHost=Ue}}class et{constructor(Ue){this._overlayRef=Ue,this.duplicatesCount=0,this._afterClosed=new _.xQ,this._activate=new _.xQ,this._manualClose=new _.xQ,this._resetTimeout=new _.xQ,this._countDuplicate=new _.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(Ue,Fe){Ue&&this._resetTimeout.next(),Fe&&this._countDuplicate.next(++this.duplicatesCount)}}class Ve{constructor(Ue,Fe,Ze,St,tn,Ln){this.toastId=Ue,this.config=Fe,this.message=Ze,this.title=St,this.toastType=tn,this.toastRef=Ln,this._onTap=new _.xQ,this._onAction=new _.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(Ue){this._onAction.next(Ue)}onAction(){return this._onAction.asObservable()}}const tt=new p.OlP("ToastConfig");class Qe extends class yt{attach(Ue,Fe){return this._attachedPortal=Ue,this.attachComponentPortal(Ue,Fe)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(Ue){this._disposeFn=Ue}}{constructor(Ue,Fe,Ze){super(),this._hostDomElement=Ue,this._componentFactoryResolver=Fe,this._appRef=Ze}attachComponentPortal(Ue,Fe){const Ze=this._componentFactoryResolver.resolveComponentFactory(Ue.component);let St;return St=Ze.create(Ue.injector),this._appRef.attachView(St.hostView),this.setDisposeFn(()=>{this._appRef.detachView(St.hostView),St.destroy()}),Fe?this._hostDomElement.insertBefore(this._getComponentRootNode(St),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(St)),St}_getComponentRootNode(Ue){return Ue.hostView.rootNodes[0]}}class Lt{constructor(Ue){this._portalHost=Ue}attach(Ue,Fe=!0){return this._portalHost.attach(Ue,Fe)}detach(){return this._portalHost.detach()}}let We=(()=>{class Re{constructor(Fe){this._document=Fe}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Fe=this._document.createElement("div");Fe.classList.add("overlay-container"),Fe.setAttribute("aria-live","polite"),this._document.body.appendChild(Fe),this._containerElement=Fe}}return Re.\u0275fac=function(Fe){return new(Fe||Re)(p.LFG(ne.K0))},Re.\u0275prov=p.Yz7({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})(),Ot=(()=>{class Re{constructor(Fe,Ze,St,tn){this._overlayContainer=Fe,this._componentFactoryResolver=Ze,this._appRef=St,this._document=tn,this._paneElements=new Map}create(Fe,Ze){return this._createOverlayRef(this.getPaneElement(Fe,Ze))}getPaneElement(Fe="",Ze){return this._paneElements.get(Ze)||this._paneElements.set(Ze,{}),this._paneElements.get(Ze)[Fe]||(this._paneElements.get(Ze)[Fe]=this._createPaneElement(Fe,Ze)),this._paneElements.get(Ze)[Fe]}_createPaneElement(Fe,Ze){const St=this._document.createElement("div");return St.id="toast-container",St.classList.add(Fe),St.classList.add("toast-container"),Ze?Ze.getContainerElement().appendChild(St):this._overlayContainer.getContainerElement().appendChild(St),St}_createPortalHost(Fe){return new Qe(Fe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Fe){return new Lt(this._createPortalHost(Fe))}}return Re.\u0275fac=function(Fe){return new(Fe||Re)(p.LFG(We),p.LFG(p._Vd),p.LFG(p.z2F),p.LFG(ne.K0))},Re.\u0275prov=p.Yz7({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})(),Vt=(()=>{class Re{constructor(Fe,Ze,St,tn,Ln){this.overlay=Ze,this._injector=St,this.sanitizer=tn,this.ngZone=Ln,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...Fe.default,...Fe.config},Fe.config.iconClasses&&(this.toastrConfig.iconClasses={...Fe.default.iconClasses,...Fe.config.iconClasses})}show(Fe,Ze,St={},tn=""){return this._preBuildNotification(tn,Fe,Ze,this.applyConfig(St))}success(Fe,Ze,St={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Fe,Ze,this.applyConfig(St))}error(Fe,Ze,St={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Fe,Ze,this.applyConfig(St))}info(Fe,Ze,St={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Fe,Ze,this.applyConfig(St))}warning(Fe,Ze,St={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Fe,Ze,this.applyConfig(St))}clear(Fe){for(const Ze of this.toasts)if(void 0!==Fe){if(Ze.toastId===Fe)return void Ze.toastRef.manualClose()}else Ze.toastRef.manualClose()}remove(Fe){const Ze=this._findToast(Fe);if(!Ze||(Ze.activeToast.toastRef.close(),this.toasts.splice(Ze.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const St=this.toasts[this.currentlyActive].toastRef;St.isInactive()||(this.currentlyActive=this.currentlyActive+1,St.activate())}return!0}findDuplicate(Fe="",Ze="",St,tn){const{includeTitleDuplicates:Ln}=this.toastrConfig;for(const It of this.toasts){const qt=Ln&&It.title===Fe;if((!Ln||qt)&&It.message===Ze)return It.toastRef.onDuplicate(St,tn),It}return null}applyConfig(Fe={}){return{...this.toastrConfig,...Fe}}_findToast(Fe){for(let Ze=0;Ze<this.toasts.length;Ze++)if(this.toasts[Ze].toastId===Fe)return{index:Ze,activeToast:this.toasts[Ze]};return null}_preBuildNotification(Fe,Ze,St,tn){return tn.onActivateTick?this.ngZone.run(()=>this._buildNotification(Fe,Ze,St,tn)):this._buildNotification(Fe,Ze,St,tn)}_buildNotification(Fe,Ze,St,tn){if(!tn.toastComponent)throw new Error("toastComponent required");const Ln=this.findDuplicate(St,Ze,this.toastrConfig.resetTimeoutOnDuplicate&&tn.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&St||Ze)&&this.toastrConfig.preventDuplicates&&null!==Ln)return Ln;this.previousToastMessage=Ze;let It=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(It=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const qt=this.overlay.create(tn.positionClass,this.overlayContainer);this.index=this.index+1;let Mt=Ze;Ze&&tn.enableHtml&&(Mt=this.sanitizer.sanitize(p.q3G.HTML,Ze));const Ht=new et(qt),En=new Ve(this.index,tn,Mt,St,Fe,Ht),$n=p.zs3.create({providers:[{provide:Ve,useValue:En}],parent:this._injector}),Dn=new kt(tn.toastComponent,$n),gt=qt.attach(Dn,tn.newestOnTop);Ht.componentInstance=gt.instance;const ee={toastId:this.index,title:St||"",message:Ze||"",toastRef:Ht,onShown:Ht.afterActivate(),onHidden:Ht.afterClosed(),onTap:En.onTap(),onAction:En.onAction(),portal:gt};return It||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ee.toastRef.activate()})),this.toasts.push(ee),ee}}return Re.\u0275fac=function(Fe){return new(Fe||Re)(p.LFG(tt),p.LFG(Ot),p.LFG(p.zs3),p.LFG(C.H7),p.LFG(p.R0b))},Re.\u0275prov=p.Yz7({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})();const qn={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class Re{constructor(Fe,Ze,St){this.toastrService=Fe,this.toastPackage=Ze,this.ngZone=St,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Ze.message,this.title=Ze.title,this.options=Ze.config,this.originalTimeout=Ze.config.timeOut,this.toastClasses=`${Ze.toastType} ${Ze.config.toastClass}`,this.sub=Ze.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ze.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ze.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ze.toastRef.countDuplicate().subscribe(tn=>{this.duplicatesCount=tn})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Fe=(new Date).getTime();this.width=(this.hideTime-Fe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Fe,Ze){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Fe),Ze)):this.timeout=setTimeout(()=>Fe(),Ze)}outsideInterval(Fe,Ze){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Fe),Ze)):this.intervalId=setInterval(()=>Fe(),Ze)}runInsideAngular(Fe){this.ngZone?this.ngZone.run(()=>Fe()):Fe()}}return Re.\u0275fac=function(Fe){return new(Fe||Re)(p.Y36(Vt),p.Y36(Ve),p.Y36(p.R0b))},Re.\u0275cmp=p.Xpm({type:Re,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Fe,Ze){1&Fe&&p.NdJ("click",function(){return Ze.tapToast()})("mouseenter",function(){return Ze.stickAround()})("mouseleave",function(){return Ze.delayedHideToast()}),2&Fe&&(p.d8E("@flyInOut",Ze.state),p.Tol(Ze.toastClasses),p.Udp("display",Ze.displayStyle))},attrs:J,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Fe,Ze){1&Fe&&(p.YNc(0,we,3,0,"button",0),p.YNc(1,Se,3,5,"div",1),p.YNc(2,ae,1,3,"div",2),p.YNc(3,me,2,4,"div",3),p.YNc(4,ye,2,2,"div",4)),2&Fe&&(p.Q6J("ngIf",Ze.options.closeButton),p.xp6(1),p.Q6J("ngIf",Ze.title),p.xp6(1),p.Q6J("ngIf",Ze.message&&Ze.options.enableHtml),p.xp6(1),p.Q6J("ngIf",Ze.message&&!Ze.options.enableHtml),p.xp6(1),p.Q6J("ngIf",Ze.options.progressBar))},dependencies:[ne.O5],encapsulation:2,data:{animation:[(0,N.X$)("flyInOut",[(0,N.SB)("inactive",(0,N.oB)({opacity:0})),(0,N.SB)("active",(0,N.oB)({opacity:1})),(0,N.SB)("removed",(0,N.oB)({opacity:0})),(0,N.eR)("inactive => active",(0,N.jt)("{{ easeTime }}ms {{ easing }}")),(0,N.eR)("active => removed",(0,N.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),Re})()};let jn=(()=>{class Re{static forRoot(Fe={}){return{ngModule:Re,providers:[{provide:tt,useValue:{default:qn,config:Fe}}]}}}return Re.\u0275fac=function(Fe){return new(Fe||Re)},Re.\u0275mod=p.oAB({type:Re}),Re.\u0275inj=p.cJS({imports:[ne.ez]}),Re})()},5861:(_n,vt,k)=>{"use strict";function p(_,ne,C,J,we,fe,Se){try{var ae=_[fe](Se),me=ae.value}catch(ye){return void C(ye)}ae.done?ne(me):Promise.resolve(me).then(J,we)}function N(_){return function(){var ne=this,C=arguments;return new Promise(function(J,we){var fe=_.apply(ne,C);function Se(me){p(fe,J,we,Se,ae,"next",me)}function ae(me){p(fe,J,we,Se,ae,"throw",me)}Se(void 0)})}}k.d(vt,{Z:()=>N})}},_n=>{_n(_n.s=8100)}]);