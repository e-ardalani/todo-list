var $localize=Object.assign(void 0===$localize?{}:$localize,{locale:"fa"});
"use strict";(function(global){global.ng=global.ng||{};global.ng.common=global.ng.common||{};global.ng.common.locales=global.ng.common.locales||{};const u=undefined;function plural(val){const n=val,i=Math.floor(Math.abs(val));if(i===0||n===1)return 1;return 5}global.ng.common.locales["fa"]=["fa",[["\u0642","\u0628"],["\u0642.\u0638.","\u0628.\u0638."],["\u0642\u0628\u0644\u200C\u0627\u0632\u0638\u0647\u0631","\u0628\u0639\u062F\u0627\u0632\u0638\u0647\u0631"]],u,[["\u06CC","\u062F","\u0633","\u0686","\u067E","\u062C","\u0634"],["\u06CC\u06A9\u0634\u0646\u0628\u0647","\u062F\u0648\u0634\u0646\u0628\u0647","\u0633\u0647\u200C\u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067E\u0646\u062C\u0634\u0646\u0628\u0647","\u062C\u0645\u0639\u0647","\u0634\u0646\u0628\u0647"],u,["\u06F1\u0634","\u06F2\u0634","\u06F3\u0634","\u06F4\u0634","\u06F5\u0634","\u062C","\u0634"]],u,[["\u0698","\u0641","\u0645","\u0622","\u0645","\u0698","\u0698","\u0627","\u0633","\u0627","\u0646","\u062F"],["\u0698\u0627\u0646\u0648\u06CC\u0647","\u0641\u0648\u0631\u06CC\u0647","\u0645\u0627\u0631\u0633","\u0622\u0648\u0631\u06CC\u0644","\u0645\u0647","\u0698\u0648\u0626\u0646","\u0698\u0648\u0626\u06CC\u0647","\u0627\u0648\u062A","\u0633\u067E\u062A\u0627\u0645\u0628\u0631","\u0627\u06A9\u062A\u0628\u0631","\u0646\u0648\u0627\u0645\u0628\u0631","\u062F\u0633\u0627\u0645\u0628\u0631"],["\u0698\u0627\u0646\u0648\u06CC\u0647\u0654","\u0641\u0648\u0631\u06CC\u0647\u0654","\u0645\u0627\u0631\u0633","\u0622\u0648\u0631\u06CC\u0644","\u0645\u0647\u0654","\u0698\u0648\u0626\u0646","\u0698\u0648\u0626\u06CC\u0647\u0654","\u0627\u0648\u062A","\u0633\u067E\u062A\u0627\u0645\u0628\u0631","\u0627\u06A9\u062A\u0628\u0631","\u0646\u0648\u0627\u0645\u0628\u0631","\u062F\u0633\u0627\u0645\u0628\u0631"]],[["\u0698","\u0641","\u0645","\u0622","\u0645","\u0698","\u0698","\u0627","\u0633","\u0627","\u0646","\u062F"],["\u0698\u0627\u0646\u0648\u06CC\u0647","\u0641\u0648\u0631\u06CC\u0647","\u0645\u0627\u0631\u0633","\u0622\u0648\u0631\u06CC\u0644","\u0645\u0647","\u0698\u0648\u0626\u0646","\u0698\u0648\u0626\u06CC\u0647","\u0627\u0648\u062A","\u0633\u067E\u062A\u0627\u0645\u0628\u0631","\u0627\u06A9\u062A\u0628\u0631","\u0646\u0648\u0627\u0645\u0628\u0631","\u062F\u0633\u0627\u0645\u0628\u0631"],u],[["\u0642","\u0645"],["\u0642.\u0645.","\u0645."],["\u0642\u0628\u0644 \u0627\u0632 \u0645\u06CC\u0644\u0627\u062F","\u0645\u06CC\u0644\u0627\u062F\u06CC"]],6,[5,5],["y/M/d","d MMM y","d MMMM y","EEEE d MMMM y"],["H:mm","H:mm:ss","H:mm:ss (z)","H:mm:ss (zzzz)"],["{1}\u060C\u200F {0}",u,"{1}\u060C \u0633\u0627\u0639\u062A {0}",u],[".",",",";","%","\u200E+","\u200E\u2212","E","\xD7","\u2030","\u221E","\u0646\u0627\u0639\u062F\u062F",":"],["#,##0.###","#,##0%","\u200E\xA4\xA0#,##0.00","#E0"],"IRR","\u0631\u06CC\u0627\u0644","\u0631\u06CC\u0627\u0644 \u0627\u06CC\u0631\u0627\u0646",{"AFN":["\u060B"],"BYN":[u,"\u0440."],"CAD":["$CA","$"],"CNY":["\xA5CN","\xA5"],"HKD":["$HK","$"],"IRR":["\u0631\u06CC\u0627\u0644"],"MXN":["$MX","$"],"NZD":["$NZ","$"],"PHP":[u,"\u20B1"],"THB":["\u0E3F"],"XCD":["$EC","$"],"XOF":["\u0641\u0631\u0627\u0646\u06A9\u202FCFA"]},"rtl",plural,[[["\u0628","\u0635","\u0638","\u0639","\u0634","\u0646"],["\u0628\u0627\u0645\u062F\u0627\u062F","\u0635\u0628\u062D","\u0638\u0647\u0631","\u0639\u0635\u0631","\u0634\u0628","\u0646\u06CC\u0645\u0647\u200C\u0634\u0628"],["\u0628\u0627\u0645\u062F\u0627\u062F","\u0635\u0628\u062D","\u0628\u0639\u062F\u0627\u0632\u0638\u0647\u0631","\u0639\u0635\u0631","\u0634\u0628","\u0646\u06CC\u0645\u0647\u200C\u0634\u0628"]],[["\u0628","\u0635","\u0638","\u0639","\u0634","\u0646"],["\u0628\u0627\u0645\u062F\u0627\u062F","\u0635\u0628\u062D","\u0638\u0647\u0631","\u0639\u0635\u0631","\u0634\u0628","\u0646\u06CC\u0645\u0647\u200C\u0634\u0628"],u],[["01:00","04:00"],["04:00","12:00"],["12:00","13:00"],["13:00","19:00"],["19:00","24:00"],["00:00","01:00"]]]]})(typeof globalThis!=="undefined"&&globalThis||typeof global!=="undefined"&&global||typeof window!=="undefined"&&window);;
(self.webpackChunksadad=self.webpackChunksadad||[]).push([[179],{440:(gn,_t,k)=>{"use strict";k.d(_t,{nm:()=>Vr});var m=k(6351);k(4650),k(5867);var kt=k(5861),vt=k(9681),Je=k(4859),Be=k(2090),ht=k(1877);const et=new Map,qe={activated:!1,tokenObservers:[]},Pt={initialized:!1,enabled:!1};function ze(Ot){return et.get(Ot)||qe}function At(Ot,Rt){et.set(Ot,Rt)}function Ft(){return Pt}class mn{constructor(Rt,zt,_n,Nn,ii){if(this.operation=Rt,this.retryPolicy=zt,this.getWaitDuration=_n,this.lowerBound=Nn,this.upperBound=ii,this.pending=null,this.nextErrorWaitInterval=Nn,Nn>ii)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Rt){var zt=this;return(0,kt.Z)(function*(){zt.stop();try{zt.pending=new Be.BH,yield function Oe(Ot){return new Promise(Rt=>{setTimeout(Rt,Ot)})}(zt.getNextRun(Rt)),zt.pending.resolve(),yield zt.pending.promise,zt.pending=new Be.BH,yield zt.operation(),zt.pending.resolve(),yield zt.pending.promise,zt.process(!0).catch(()=>{})}catch(_n){zt.retryPolicy(_n)?zt.process(!1).catch(()=>{}):zt.stop()}})()}getNextRun(Rt){if(Rt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const zt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),zt}}}const Fe=new Be.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function St(Ot){if(!ze(Ot).activated)throw Fe.create("use-before-activation",{appName:Ot.name})}function Mt(Ot,Rt){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,kt.Z)(function*({url:Ot,body:Rt},zt){var _n,Nn;const ii={"Content-Type":"application/json"},Di=zt.getImmediate({optional:!0});if(Di){const Us=yield Di.getHeartbeatsHeader();Us&&(ii["X-Firebase-Client"]=Us)}const Ir={method:"POST",body:JSON.stringify(Rt),headers:ii};let qi,zr;try{qi=yield fetch(Ot,Ir)}catch(Us){throw Fe.create("fetch-network-error",{originalErrorMessage:null===(_n=Us)||void 0===_n?void 0:_n.message})}if(200!==qi.status)throw Fe.create("fetch-status-error",{httpStatus:qi.status});try{zr=yield qi.json()}catch(Us){throw Fe.create("fetch-parse-error",{originalErrorMessage:null===(Nn=Us)||void 0===Nn?void 0:Nn.message})}const ls=zr.ttl.match(/^([\d.]+)(s)$/);if(!ls||!ls[2]||isNaN(Number(ls[1])))throw Fe.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${zr.ttl}`});const Ts=1e3*Number(ls[1]),Ro=Date.now();return{token:zr.token,expireTimeMillis:Ro+Ts,issuedAtTimeMillis:Ro}})).apply(this,arguments)}function Cn(Ot,Rt){const{projectId:zt,appId:_n,apiKey:Nn}=Ot.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${zt}/apps/${_n}:exchangeDebugToken?key=${Nn}`,body:{debug_token:Rt}}}const wn="firebase-app-check-store";let ee=null;function he(){return ee||(ee=new Promise((Ot,Rt)=>{var zt;try{const _n=indexedDB.open("firebase-app-check-database",1);_n.onsuccess=Nn=>{Ot(Nn.target.result)},_n.onerror=Nn=>{var ii;Rt(Fe.create("storage-open",{originalErrorMessage:null===(ii=Nn.target.error)||void 0===ii?void 0:ii.message}))},_n.onupgradeneeded=Nn=>{0===Nn.oldVersion&&Nn.target.result.createObjectStore(wn,{keyPath:"compositeKey"})}}catch(_n){Rt(Fe.create("storage-open",{originalErrorMessage:null===(zt=_n)||void 0===zt?void 0:zt.message}))}}),ee)}function Gt(){return(Gt=(0,kt.Z)(function*(Ot,Rt){const _n=(yield he()).transaction(wn,"readwrite"),ii=_n.objectStore(wn).put({compositeKey:Ot,value:Rt});return new Promise((Di,Ir)=>{ii.onsuccess=qi=>{Di()},_n.onerror=qi=>{var zr;Ir(Fe.create("storage-set",{originalErrorMessage:null===(zr=qi.target.error)||void 0===zr?void 0:zr.message}))}})})).apply(this,arguments)}const ai=new ht.Yd("@firebase/app-check");function kn(Ot,Rt){return(0,Be.hl)()?function Ce(Ot,Rt){return function Dt(Ot,Rt){return Gt.apply(this,arguments)}(function Rn(Ot){return`${Ot.options.appId}-${Ot.name}`}(Ot),Rt)}(Ot,Rt).catch(zt=>{ai.warn(`Failed to write token to IndexedDB. Error: ${zt}`)}):Promise.resolve()}function $t(){return Ft().enabled}function ft(){return Se.apply(this,arguments)}function Se(){return(Se=(0,kt.Z)(function*(){const Ot=Ft();if(Ot.enabled&&Ot.token)return Ot.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const hn={error:"UNKNOWN_ERROR"};function at(Ot){return Be.US.encodeString(JSON.stringify(Ot),!1)}function it(Ot){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,kt.Z)(function*(Ot,Rt=!1){const zt=Ot.app;St(zt);const _n=ze(zt);let ii,Nn=_n.token;if(Nn&&!X(Nn)&&(At(zt,Object.assign(Object.assign({},_n),{token:void 0})),Nn=void 0),!Nn){const qi=yield _n.cachedTokenPromise;qi&&(X(qi)?Nn=qi:yield kn(zt,void 0))}if(!Rt&&Nn&&X(Nn))return{token:Nn.token};let Ir,Di=!1;if($t()){_n.exchangeTokenPromise||(_n.exchangeTokenPromise=Mt(Cn(zt,yield ft()),Ot.heartbeatServiceProvider).finally(()=>{_n.exchangeTokenPromise=void 0}),Di=!0);const qi=yield _n.exchangeTokenPromise;return yield kn(zt,qi),At(zt,Object.assign(Object.assign({},_n),{token:qi})),{token:qi.token}}try{_n.exchangeTokenPromise||(_n.exchangeTokenPromise=_n.provider.getToken().finally(()=>{_n.exchangeTokenPromise=void 0}),Di=!0),Nn=yield _n.exchangeTokenPromise}catch(qi){"appCheck/throttled"===qi.code?ai.warn(qi.message):ai.error(qi),ii=qi}return Nn?ii?Ir=X(Nn)?{token:Nn.token,internalError:ii}:K(ii):(Ir={token:Nn.token},At(zt,Object.assign(Object.assign({},_n),{token:Nn})),yield kn(zt,Nn)):Ir=K(ii),Di&&G(zt,Ir),Ir})).apply(this,arguments)}function Ht(Ot,Rt){const zt=ze(Ot),_n=zt.tokenObservers.filter(Nn=>Nn.next!==Rt);0===_n.length&&zt.tokenRefresher&&zt.tokenRefresher.isRunning()&&zt.tokenRefresher.stop(),At(Ot,Object.assign(Object.assign({},zt),{tokenObservers:_n}))}function _e(Ot){const{app:Rt}=Ot,zt=ze(Rt);let _n=zt.tokenRefresher;_n||(_n=function j(Ot){const{app:Rt}=Ot;return new mn((0,kt.Z)(function*(){let _n;if(_n=ze(Rt).token?yield it(Ot,!0):yield it(Ot),_n.error)throw _n.error;if(_n.internalError)throw _n.internalError}),()=>!0,()=>{const zt=ze(Rt);if(zt.token){let _n=zt.token.issuedAtTimeMillis+.5*(zt.token.expireTimeMillis-zt.token.issuedAtTimeMillis)+3e5;return _n=Math.min(_n,zt.token.expireTimeMillis-3e5),Math.max(0,_n-Date.now())}return 0},3e4,96e4)}(Ot),At(Rt,Object.assign(Object.assign({},zt),{tokenRefresher:_n}))),!_n.isRunning()&&zt.isTokenAutoRefreshEnabled&&_n.start()}function G(Ot,Rt){const zt=ze(Ot).tokenObservers;for(const _n of zt)try{"EXTERNAL"===_n.type&&null!=Rt.error?_n.error(Rt.error):_n.next(Rt)}catch{}}function X(Ot){return Ot.expireTimeMillis-Date.now()>0}function K(Ot){return{token:at(hn),error:Ot}}class pe{constructor(Rt,zt){this.app=Rt,this.heartbeatServiceProvider=zt}_delete(){const{tokenObservers:Rt}=ze(this.app);for(const zt of Rt)Ht(this.app,zt.next);return Promise.resolve()}}const fs="app-check-internal";!function Es(){(0,vt._registerComponent)(new Je.wA("app-check",Ot=>function Qe(Ot,Rt){return new pe(Ot,Rt)}(Ot.getProvider("app").getImmediate(),Ot.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ot,Rt,zt)=>{Ot.getProvider(fs).initialize()})),(0,vt._registerComponent)(new Je.wA(fs,Ot=>function Ct(Ot){return{getToken:Rt=>it(Ot,Rt),addTokenListener:Rt=>function Et(Ot,Rt,zt,_n){const{app:Nn}=Ot,ii=ze(Nn),Di={next:zt,error:_n,type:Rt};if(At(Nn,Object.assign(Object.assign({},ii),{tokenObservers:[...ii.tokenObservers,Di]})),ii.token&&X(ii.token)){const Ir=ii.token;Promise.resolve().then(()=>{zt({token:Ir.token}),_e(Ot)}).catch(()=>{})}ii.cachedTokenPromise.then(()=>_e(Ot))}(Ot,"INTERNAL",Rt),removeTokenListener:Rt=>Ht(Ot.app,Rt)}}(Ot.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,vt.registerVersion)("@firebase/app-check","0.5.16")}();class Vr{constructor(){return(0,m.vb)("app-check")}}typeof window<"u"&&window},4941:(gn,_t,k)=>{"use strict";k.d(_t,{zQ:()=>si,ww:()=>Ln,rT:()=>Ft,f7:()=>$n,L6:()=>ze,_Q:()=>At,lh:()=>yn,Qv:()=>Pt,nw:()=>Gn});var m=k(4650),N=k(8929),v=k(1086),ne=k(6498),C=k(5254),J=k(6787),De=k(7770),fe=k(7545),Ie=k(4850),ce=k(341),ge=k(2654),be=k(5279),Ne=k(5283);class Ke extends N.xQ{constructor(mn=Number.POSITIVE_INFINITY,Oe=Number.POSITIVE_INFINITY,Ve){super(),this.scheduler=Ve,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=mn<1?1:mn,this._windowTime=Oe<1?1:Oe,Oe===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(mn){const Oe=this._events;Oe.push(mn),Oe.length>this._bufferSize&&Oe.shift(),super.next(mn)}nextTimeWindow(mn){this._events.push(new lt(this._getNow(),mn)),this._trimBufferThenGetEvents(),super.next(mn)}_subscribe(mn){const Oe=this._infiniteTimeWindow,Ve=Oe?this._events:this._trimBufferThenGetEvents(),Fe=this.scheduler,Ye=Ve.length;let St;if(this.closed)throw new be.N;if(this.isStopped||this.hasError?St=ge.w.EMPTY:(this.observers.push(mn),St=new Ne.W(this,mn)),Fe&&mn.add(mn=new De.ht(mn,Fe)),Oe)for(let Xt=0;Xt<Ye&&!mn.closed;Xt++)mn.next(Ve[Xt]);else for(let Xt=0;Xt<Ye&&!mn.closed;Xt++)mn.next(Ve[Xt].value);return this.hasError?mn.error(this.thrownError):this.isStopped&&mn.complete(),St}_getNow(){return(this.scheduler||ce.c).now()}_trimBufferThenGetEvents(){const mn=this._getNow(),Oe=this._bufferSize,Ve=this._windowTime,Fe=this._events,Ye=Fe.length;let St=0;for(;St<Ye&&!(mn-Fe[St].time<Ve);)St++;return Ye>Oe&&(St=Math.max(St,Ye-Oe)),St>0&&Fe.splice(0,St),Fe}}class lt{constructor(mn,Oe){this.time=mn,this.value=Oe}}function He(tn,mn,Oe){let Ve;return Ve=tn&&"object"==typeof tn?tn:{bufferSize:tn,windowTime:mn,refCount:!1,scheduler:Oe},Fe=>Fe.lift(function ot({bufferSize:tn=Number.POSITIVE_INFINITY,windowTime:mn=Number.POSITIVE_INFINITY,refCount:Oe,scheduler:Ve}){let Fe,St,Ye=0,Xt=!1,Fn=!1;return function(Kt){Ye++,(!Fe||Xt)&&(Xt=!1,Fe=new Ke(tn,mn,Ve),St=Kt.subscribe({next(Vt){Fe.next(Vt)},error(Vt){Xt=!0,Fe.error(Vt)},complete(){Fn=!0,St=void 0,Fe.complete()}}));const Tt=Fe.subscribe(this);this.add(()=>{Ye--,Tt.unsubscribe(),St&&!Fn&&Oe&&0===Ye&&(St.unsubscribe(),St=void 0,Fe=void 0)})}}(Ve))}var pt=k(7224);function Ut(tn,mn){return mn?(0,fe.w)(()=>tn,mn):(0,fe.w)(()=>tn)}var ut=k(3334),kt=k(2198),vt=k(6351),Je=k(2011),Be=k(6895),ht=k(440),et=k(127);const Pt=new m.OlP("angularfire2.auth.use-emulator"),ze=new m.OlP("angularfire2.auth.settings"),At=new m.OlP("angularfire2.auth.tenant-id"),Ft=new m.OlP("angularfire2.auth.langugage-code"),yn=new m.OlP("angularfire2.auth.use-device-language"),$n=new m.OlP("angularfire.auth.persistence"),Gn=(tn,mn,Oe,Ve,Fe,Ye,St,Xt)=>(0,Je.cc)(`${tn.name}.auth`,"AngularFireAuth",tn.name,()=>{const Fn=mn.runOutsideAngular(()=>tn.auth());if(Oe&&Fn.useEmulator(...Oe),Ve&&(Fn.tenantId=Ve),Fn.languageCode=Fe,Ye&&Fn.useDeviceLanguage(),St)for(const[Mt,Kt]of Object.entries(St))Fn.settings[Mt]=Kt;return Xt&&Fn.setPersistence(Xt),Fn},[Oe,Ve,Fe,Ye,St,Xt]);let si=(()=>{class tn{constructor(Oe,Ve,Fe,Ye,St,Xt,Fn,Mt,Kt,Tt,Vt,Cn){const jt=new N.xQ,Hn=(0,v.of)(void 0).pipe((0,De.QV)(St.outsideAngular),(0,fe.w)(()=>Ye.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,5881)))),(0,Ie.U)(()=>(0,Je.on)(Oe,Ye,Ve)),(0,Ie.U)(wn=>Gn(wn,Ye,Xt,Mt,Kt,Tt,Fn,Vt)),He({bufferSize:1,refCount:!1}));if((0,Be.PM)(Fe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,v.of)(null);else{Hn.pipe((0,pt.P)()).subscribe();const mt=Hn.pipe((0,fe.w)(le=>le.getRedirectResult().then(Ce=>Ce,()=>null)),vt.iC,He({bufferSize:1,refCount:!1})),ee=Hn.pipe((0,fe.w)(le=>new ne.y(Ce=>({unsubscribe:Ye.runOutsideAngular(()=>le.onAuthStateChanged(ae=>Ce.next(ae),ae=>Ce.error(ae),()=>Ce.complete()))})))),he=Hn.pipe((0,fe.w)(le=>new ne.y(Ce=>({unsubscribe:Ye.runOutsideAngular(()=>le.onIdTokenChanged(ae=>Ce.next(ae),ae=>Ce.error(ae),()=>Ce.complete()))}))));this.authState=mt.pipe(Ut(ee),(0,ut.R)(St.outsideAngular),(0,De.QV)(St.insideAngular)),this.user=mt.pipe(Ut(he),(0,ut.R)(St.outsideAngular),(0,De.QV)(St.insideAngular)),this.idToken=this.user.pipe((0,fe.w)(le=>le?(0,C.D)(le.getIdToken()):(0,v.of)(null))),this.idTokenResult=this.user.pipe((0,fe.w)(le=>le?(0,C.D)(le.getIdTokenResult()):(0,v.of)(null))),this.credential=(0,J.T)(mt,jt,this.authState.pipe((0,kt.h)(le=>!le))).pipe((0,Ie.U)(le=>le?.user?le:null),(0,ut.R)(St.outsideAngular),(0,De.QV)(St.insideAngular))}return(0,Je.pX)(this,Hn,Ye,{spy:{apply:(wn,mt,ee)=>{(wn.startsWith("signIn")||wn.startsWith("createUser"))&&ee.then(he=>jt.next(he))}}})}}return tn.\u0275fac=function(Oe){return new(Oe||tn)(m.LFG(Je.Dh),m.LFG(Je.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(vt.HU),m.LFG(Pt,8),m.LFG(ze,8),m.LFG(At,8),m.LFG(Ft,8),m.LFG(yn,8),m.LFG($n,8),m.LFG(ht.nm,8))},tn.\u0275prov=m.Yz7({token:tn,factory:tn.\u0275fac,providedIn:"any"}),tn})(),Ln=(()=>{class tn{constructor(){et.Z.registerVersion("angularfire",vt.q4.full,"auth-compat")}}return tn.\u0275fac=function(Oe){return new(Oe||tn)},tn.\u0275mod=m.oAB({type:tn}),tn.\u0275inj=m.cJS({providers:[si]}),tn})()},2796:(gn,_t,k)=>{"use strict";k.d(_t,{ST:()=>pn,yb:()=>bn});var m=k(4650),N=k(353),v=k(6498),ne=k(5254),C=k(1086),J=k(6351),De=k(1059),fe=k(3489);function Ie(){return s=>s.lift(new ce)}class ce{call(e,t){return t.subscribe(new ge(e))}}class ge extends fe.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var qe,be=k(4850),Ne=k(2014),Ke=k(5778),lt=k(2198),He=k(2011),ot=k(6895),Ut=(k(5881),k(3942)),ut=k(5861),kt=k(9681),vt=k(4859),Je=k(1877),Be=k(2090),ht=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},et={},Pt=Pt||{},ze=ht||self;function At(){}function Ft(s){var e=typeof s;return"array"==(e="object"!=e?e:s?Array.isArray(s)?"array":e:"null")||"object"==e&&"number"==typeof s.length}function yn(s){var e=typeof s;return"object"==e&&null!=s||"function"==e}var Gn="closure_uid_"+(1e9*Math.random()>>>0),si=0;function Ln(s,e,t){return s.call.apply(s.bind,arguments)}function tn(s,e,t){if(!s)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(f,a),s.apply(e,f)}}return function(){return s.apply(e,arguments)}}function mn(s,e,t){return(mn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ln:tn).apply(null,arguments)}function Oe(s,e){var t=Array.prototype.slice.call(arguments,1);return function(){var a=t.slice();return a.push.apply(a,arguments),s.apply(this,a)}}function Ve(s,e){function t(){}t.prototype=e.prototype,s.X=e.prototype,s.prototype=new t,s.prototype.constructor=s,s.Wb=function(a,f,y){for(var M=Array(arguments.length-2),U=2;U<arguments.length;U++)M[U-2]=arguments[U];return e.prototype[f].apply(a,M)}}function Fe(){this.s=this.s,this.o=this.o}Fe.prototype.s=!1,Fe.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function $n(s){Object.prototype.hasOwnProperty.call(s,Gn)&&s[Gn]||(s[Gn]=++si)}(this)},Fe.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const St=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if("string"==typeof s)return"string"!=typeof e||1!=e.length?-1:s.indexOf(e,0);for(let t=0;t<s.length;t++)if(t in s&&s[t]===e)return t;return-1};function Xt(s){const e=s.length;if(0<e){const t=Array(e);for(let a=0;a<e;a++)t[a]=s[a];return t}return[]}function Fn(s,e){for(let t=1;t<arguments.length;t++){const a=arguments[t];if(Ft(a)){const f=s.length||0,y=a.length||0;s.length=f+y;for(let M=0;M<y;M++)s[f+M]=a[M]}else s.push(a)}}function Mt(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}Mt.prototype.h=function(){this.defaultPrevented=!0};var Kt=function(){if(!ze.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{ze.addEventListener("test",At,e),ze.removeEventListener("test",At,e)}catch{}return s}();function Tt(s){return/^[\s\xa0]*$/.test(s)}var Vt=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function Cn(s,e){return s<e?-1:s>e?1:0}function jt(){var s=ze.navigator;return s&&(s=s.userAgent)?s:""}function Hn(s){return-1!=jt().indexOf(s)}function wn(s){return wn[" "](s),s}wn[" "]=At;var Gt,s,ee=Hn("Opera"),he=Hn("Trident")||Hn("MSIE"),le=Hn("Edge"),Ce=le||he,ae=Hn("Gecko")&&!(-1!=jt().toLowerCase().indexOf("webkit")&&!Hn("Edge"))&&!(Hn("Trident")||Hn("MSIE"))&&!Hn("Edge"),Le=-1!=jt().toLowerCase().indexOf("webkit")&&!Hn("Edge");function Dt(){var s=ze.document;return s?s.documentMode:void 0}e:{var nn="",ln=(s=jt(),ae?/rv:([^\);]+)(\)|;)/.exec(s):le?/Edge\/([\d\.]+)/.exec(s):he?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):Le?/WebKit\/(\S+)/.exec(s):ee?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(ln&&(nn=ln?ln[1]:""),he){var Rn=Dt();if(null!=Rn&&Rn>parseFloat(nn)){Gt=String(Rn);break e}}Gt=nn}var ai={};var Ai=ze.document&&he&&(Dt()||parseInt(Gt,10))||void 0;function Tn(s,e){if(Mt.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var t=this.type=s.type,a=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(ae){e:{try{wn(e.nodeName);var f=!0;break e}catch{}f=!1}f||(e=null)}}else"mouseover"==t?e=s.fromElement:"mouseout"==t&&(e=s.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:$t[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Tn.X.h.call(this)}}Ve(Tn,Mt);var $t={2:"touch",3:"pen",4:"mouse"};Tn.prototype.h=function(){Tn.X.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var ft="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Jt(s,e,t,a,f){this.listener=s,this.proxy=null,this.src=e,this.type=t,this.capture=!!a,this.ha=f,this.key=++Se,this.ba=this.ea=!1}function hn(s){s.ba=!0,s.listener=null,s.proxy=null,s.src=null,s.ha=null}function at(s,e,t){for(const a in s)e.call(t,s[a],a,s)}function it(s){const e={};for(const t in s)e[t]=s[t];return e}const Xe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Et(s,e){let t,a;for(let f=1;f<arguments.length;f++){for(t in a=arguments[f],a)s[t]=a[t];for(let y=0;y<Xe.length;y++)t=Xe[y],Object.prototype.hasOwnProperty.call(a,t)&&(s[t]=a[t])}}function Ht(s){this.src=s,this.g={},this.h=0}function _e(s,e){var t=e.type;if(t in s.g){var y,a=s.g[t],f=St(a,e);(y=0<=f)&&Array.prototype.splice.call(a,f,1),y&&(hn(e),0==s.g[t].length&&(delete s.g[t],s.h--))}}function j(s,e,t,a){for(var f=0;f<s.length;++f){var y=s[f];if(!y.ba&&y.listener==e&&y.capture==!!t&&y.ha==a)return f}return-1}Ht.prototype.add=function(s,e,t,a,f){var y=s.toString();(s=this.g[y])||(s=this.g[y]=[],this.h++);var M=j(s,e,a,f);return-1<M?(e=s[M],t||(e.ea=!1)):((e=new Jt(e,this.src,y,!!a,f)).ea=t,s.push(e)),e};var G="closure_lm_"+(1e6*Math.random()|0),X={};function K(s,e,t,a,f){if(a&&a.once)return Ct(s,e,t,a,f);if(Array.isArray(e)){for(var y=0;y<e.length;y++)K(s,e[y],t,a,f);return null}return t=Te(t),s&&s[ft]?s.N(e,t,yn(a)?!!a.capture:!!a,f):pe(s,e,t,!1,a,f)}function pe(s,e,t,a,f,y){if(!e)throw Error("Invalid event type");var M=yn(f)?!!f.capture:!!f,U=Ue(s);if(U||(s[G]=U=new Ht(s)),(t=U.add(e,t,a,M,y)).proxy)return t;if(a=function Qe(){const e=je;return function s(t){return e.call(s.src,s.listener,t)}}(),t.proxy=a,a.src=s,a.listener=t,s.addEventListener)Kt||(f=M),void 0===f&&(f=!1),s.addEventListener(e.toString(),a,f);else if(s.attachEvent)s.attachEvent(Ge(e.toString()),a);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(a)}return t}function Ct(s,e,t,a,f){if(Array.isArray(e)){for(var y=0;y<e.length;y++)Ct(s,e[y],t,a,f);return null}return t=Te(t),s&&s[ft]?s.O(e,t,yn(a)?!!a.capture:!!a,f):pe(s,e,t,!0,a,f)}function dn(s,e,t,a,f){if(Array.isArray(e))for(var y=0;y<e.length;y++)dn(s,e[y],t,a,f);else a=yn(a)?!!a.capture:!!a,t=Te(t),s&&s[ft]?(s=s.i,(e=String(e).toString())in s.g&&-1<(t=j(y=s.g[e],t,a,f))&&(hn(y[t]),Array.prototype.splice.call(y,t,1),0==y.length&&(delete s.g[e],s.h--))):s&&(s=Ue(s))&&(e=s.g[e.toString()],s=-1,e&&(s=j(e,t,a,f)),(t=-1<s?e[s]:null)&&fn(t))}function fn(s){if("number"!=typeof s&&s&&!s.ba){var e=s.src;if(e&&e[ft])_e(e.i,s);else{var t=s.type,a=s.proxy;e.removeEventListener?e.removeEventListener(t,a,s.capture):e.detachEvent?e.detachEvent(Ge(t),a):e.addListener&&e.removeListener&&e.removeListener(a),(t=Ue(e))?(_e(t,s),0==t.h&&(t.src=null,e[G]=null)):hn(s)}}}function Ge(s){return s in X?X[s]:X[s]="on"+s}function je(s,e){if(s.ba)s=!0;else{e=new Tn(e,this);var t=s.listener,a=s.ha||s.src;s.ea&&fn(s),s=t.call(a,e)}return s}function Ue(s){return(s=s[G])instanceof Ht?s:null}var We="__closure_events_fn_"+(1e9*Math.random()>>>0);function Te(s){return"function"==typeof s?s:(s[We]||(s[We]=function(e){return s.handleEvent(e)}),s[We])}function we(){Fe.call(this),this.i=new Ht(this),this.P=this,this.I=null}function rt(s,e){var t,a=s.I;if(a)for(t=[];a;a=a.I)t.push(a);if(s=s.P,a=e.type||e,"string"==typeof e)e=new Mt(e,s);else if(e instanceof Mt)e.target=e.target||s;else{var f=e;Et(e=new Mt(a,s),f)}if(f=!0,t)for(var y=t.length-1;0<=y;y--){var M=e.g=t[y];f=Lt(M,a,!0,e)&&f}if(f=Lt(M=e.g=s,a,!0,e)&&f,f=Lt(M,a,!1,e)&&f,t)for(y=0;y<t.length;y++)f=Lt(M=e.g=t[y],a,!1,e)&&f}function Lt(s,e,t,a){if(!(e=s.i.g[String(e)]))return!0;e=e.concat();for(var f=!0,y=0;y<e.length;++y){var M=e[y];if(M&&!M.ba&&M.capture==t){var U=M.listener,oe=M.ha||M.src;M.ea&&_e(s.i,M),f=!1!==U.call(oe,a)&&f}}return f&&!a.defaultPrevented}Ve(we,Fe),we.prototype[ft]=!0,we.prototype.removeEventListener=function(s,e,t,a){dn(this,s,e,t,a)},we.prototype.M=function(){if(we.X.M.call(this),this.i){var e,s=this.i;for(e in s.g){for(var t=s.g[e],a=0;a<t.length;a++)hn(t[a]);delete s.g[e],s.h--}}this.I=null},we.prototype.N=function(s,e,t,a){return this.i.add(String(s),e,!1,t,a)},we.prototype.O=function(s,e,t,a){return this.i.add(String(s),e,!0,t,a)};var rn=ze.JSON.stringify;function Kn(){var s=Mr;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}var zi,hi=new class{constructor(s,e){this.i=s,this.j=e,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}(()=>new Bi,s=>s.reset());class Bi{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function dr(s){ze.setTimeout(()=>{throw s},0)}function sr(s,e){zi||function Ji(){var s=ze.Promise.resolve(void 0);zi=function(){s.then(br)}}(),hr||(zi(),hr=!0),Mr.add(s,e)}var hr=!1,Mr=new class Pn{constructor(){this.h=this.g=null}add(e,t){const a=hi.get();a.set(e,t),this.h?this.h.next=a:this.g=a,this.h=a}};function br(){for(var s;s=Kn();){try{s.h.call(s.g)}catch(t){dr(t)}var e=hi;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}hr=!1}function ns(s,e){we.call(this),this.h=s||1,this.g=e||ze,this.j=mn(this.lb,this),this.l=Date.now()}function Vi(s){s.ca=!1,s.R&&(s.g.clearTimeout(s.R),s.R=null)}function to(s,e,t){if("function"==typeof s)t&&(s=mn(s,t));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=mn(s.handleEvent,s)}return 2147483647<Number(e)?-1:ze.setTimeout(s,e||0)}function fs(s){s.g=to(()=>{s.g=null,s.i&&(s.i=!1,fs(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}Ve(ns,we),(qe=ns.prototype).ca=!1,qe.R=null,qe.lb=function(){if(this.ca){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-s):(this.R&&(this.g.clearTimeout(this.R),this.R=null),rt(this,"tick"),this.ca&&(Vi(this),this.start()))}},qe.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qe.M=function(){ns.X.M.call(this),Vi(this),delete this.g};class Es extends Fe{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:fs(this)}M(){super.M(),this.g&&(ze.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Br(s){Fe.call(this),this.h=s,this.g={}}Ve(Br,Fe);var qr=[];function Vr(s,e,t,a){Array.isArray(t)||(t&&(qr[0]=t.toString()),t=qr);for(var f=0;f<t.length;f++){var y=K(e,t[f],a||s.handleEvent,!1,s.h||s);if(!y)break;s.g[y.key]=y}}function Ss(s){at(s.g,function(e,t){this.g.hasOwnProperty(t)&&fn(e)},s),s.g={}}function or(){this.g=!0}function Er(s,e,t,a){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+function as(s,e){if(!s.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(s=0;s<t.length;s++)if(Array.isArray(t[s])){var a=t[s];if(!(2>a.length)){var f=a[1];if(Array.isArray(f)&&!(1>f.length)){var y=f[0];if("noop"!=y&&"stop"!=y&&"close"!=y)for(var M=1;M<f.length;M++)f[M]=""}}}return rn(t)}catch{return e}}(s,t)+(a?" "+a:"")})}Br.prototype.M=function(){Br.X.M.call(this),Ss(this)},Br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},or.prototype.Aa=function(){this.g=!1},or.prototype.info=function(){};var gs={},Yi=null;function yo(){return Yi=Yi||new we}function Fa(s){Mt.call(this,gs.Pa,s)}function no(s){const e=yo();rt(e,new Fa(e))}function La(s,e){Mt.call(this,gs.STAT_EVENT,s),this.stat=e}function _s(s){const e=yo();rt(e,new La(e,s))}function Vs(s,e){Mt.call(this,gs.Qa,s),this.size=e}function Ot(s,e){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return ze.setTimeout(function(){s()},e)}gs.Pa="serverreachability",Ve(Fa,Mt),gs.STAT_EVENT="statevent",Ve(La,Mt),gs.Qa="timingevent",Ve(Vs,Mt);var Rt={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},zt={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function _n(){}function ii(){}_n.prototype.h=null;var zr,Di={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ir(){Mt.call(this,"d")}function qi(){Mt.call(this,"c")}function ls(){}function Ts(s,e,t,a){this.l=s,this.j=e,this.m=t,this.U=a||1,this.S=new Br(this),this.O=Us,this.T=new ns(s=Ce?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Ro}function Ro(){this.i=null,this.g="",this.h=!1}Ve(Ir,Mt),Ve(qi,Mt),Ve(ls,_n),ls.prototype.g=function(){return new XMLHttpRequest},ls.prototype.i=function(){return{}},zr=new ls;var Us=45e3,Yo={},Ks={};function sa(s,e,t){s.K=1,s.v=Ur(js(e)),s.s=t,s.P=!0,Oo(s,null)}function Oo(s,e){s.F=Date.now(),io(s),s.A=js(s.v);var t=s.A,a=s.U;Array.isArray(a)||(a=[String(a)]),Ec(t.i,"t",a),s.C=0,t=s.l.H,s.h=new Ro,s.g=Lo(s.l,t?e:null,!s.s),0<s.N&&(s.L=new Es(mn(s.La,s,s.g),s.N)),Vr(s.S,s.g,"readystatechange",s.ib),e=s.H?it(s.H):{},s.s?(s.u||(s.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.da(s.A,s.u,s.s,e)):(s.u="GET",s.g.da(s.A,s.u,null,e)),no(),function Ao(s,e,t,a,f,y){s.info(function(){if(s.g)if(y)for(var M="",U=y.split("&"),oe=0;oe<U.length;oe++){var ve=U[oe].split("=");if(1<ve.length){var $e=ve[0];ve=ve[1];var yt=$e.split("_");M=2<=yt.length&&"type"==yt[1]?M+($e+"=")+ve+"&":M+($e+"=redacted&")}}else M=null;else M=y;return"XMLHTTP REQ ("+a+") [attempt "+f+"]: "+e+"\n"+t+"\n"+M})}(s.j,s.u,s.A,s.m,s.U,s.s)}function Po(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Da}function Ca(s,e,t){let f,a=!0;for(;!s.I&&s.C<t.length;){if(f=oa(s,t),f==Ks){4==e&&(s.o=4,_s(14),a=!1),Er(s.j,s.m,null,"[Incomplete Response]");break}if(f==Yo){s.o=4,_s(15),Er(s.j,s.m,t,"[Invalid Chunk]"),a=!1;break}Er(s.j,s.m,f,null),Hs(s,f)}Po(s)&&f!=Ks&&f!=Yo&&(s.h.g="",s.C=0),4!=e||0!=t.length||s.h.h||(s.o=1,_s(16),a=!1),s.i=s.i&&a,a?0<t.length&&!s.$&&(s.$=!0,(e=s.l).g==s&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Hi(e),e.K=!0,_s(11))):(Er(s.j,s.m,t,"[Invalid Chunked Response]"),xs(s),Is(s))}function oa(s,e){var t=s.C,a=e.indexOf("\n",t);return-1==a?Ks:(t=Number(e.substring(t,a)),isNaN(t)?Yo:(a+=1)+t>e.length?Ks:(e=e.substr(a,t),s.C=a+t,e))}function io(s){s.V=Date.now()+s.O,fr(s,s.O)}function fr(s,e){if(null!=s.B)throw Error("WatchDog timer not null");s.B=Ot(mn(s.gb,s),e)}function Ms(s){s.B&&(ze.clearTimeout(s.B),s.B=null)}function Is(s){0==s.l.G||s.I||Ze(s.l,s)}function xs(s){Ms(s);var e=s.L;e&&"function"==typeof e.na&&e.na(),s.L=null,Vi(s.T),Ss(s.S),s.g&&(e=s.g,s.g=null,e.abort(),e.na())}function Hs(s,e){try{var t=s.l;if(0!=t.G&&(t.g==s||Mi(t.h,s)))if(!s.J&&Mi(t.h,s)&&3==t.G){try{var a=t.Fa.g.parse(e)}catch{a=null}if(Array.isArray(a)&&3==a.length){var f=a;if(0==f[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<s.F))break e;_r(t),ye(t)}yi(t),_s(18)}}else t.Ba=f[1],0<t.Ba-t.T&&37500>f[2]&&t.L&&0==t.A&&!t.v&&(t.v=Ot(mn(t.cb,t),6e3));if(1>=En(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Rs(t,11)}else if((s.J||t.g==s)&&_r(t),!Tt(e))for(f=t.Fa.g.parse(e),e=0;e<f.length;e++){let ve=f[e];if(t.T=ve[0],ve=ve[1],2==t.G)if("c"==ve[0]){t.I=ve[1],t.ka=ve[2];const $e=ve[3];null!=$e&&(t.ma=$e,t.j.info("VER="+t.ma));const yt=ve[4];null!=yt&&(t.Ca=yt,t.j.info("SVER="+t.Ca));const Yt=ve[5];null!=Yt&&"number"==typeof Yt&&0<Yt&&(t.J=a=1.5*Yt,t.j.info("backChannelRequestTimeoutMs_="+a)),a=t;const vn=s.g;if(vn){const Dn=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dn){var y=a.h;y.g||-1==Dn.indexOf("spdy")&&-1==Dn.indexOf("quic")&&-1==Dn.indexOf("h2")||(y.j=y.l,y.g=new Set,y.h&&(wo(y,y.h),y.h=null))}if(a.D){const ni=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;ni&&(a.za=ni,xi(a.F,a.D,ni))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-s.F,t.j.info("Handshake RTT: "+t.P+"ms"));var M=s;if((a=t).sa=Gs(a,a.H?a.ka:null,a.V),M.J){Da(a.h,M);var U=M,oe=a.J;oe&&U.setTimeout(oe),U.B&&(Ms(U),io(U)),a.g=M}else Ni(a);0<t.i.length&&xe(t)}else"stop"!=ve[0]&&"close"!=ve[0]||Rs(t,7);else 3==t.G&&("stop"==ve[0]||"close"==ve[0]?"stop"==ve[0]?Rs(t,7):W(t):"noop"!=ve[0]&&t.l&&t.l.wa(ve),t.A=0)}no()}catch{}}function ro(s,e){if(s.forEach&&"function"==typeof s.forEach)s.forEach(e,void 0);else if(Ft(s)||"string"==typeof s)Array.prototype.forEach.call(s,e,void 0);else for(var t=function Wr(s){if(s.oa&&"function"==typeof s.oa)return s.oa();if(!s.W||"function"!=typeof s.W){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(Ft(s)||"string"==typeof s){var e=[];s=s.length;for(var t=0;t<s;t++)e.push(t);return e}e=[],t=0;for(const a in s)e[t++]=a;return e}}}(s),a=function is(s){if(s.W&&"function"==typeof s.W)return s.W();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if("string"==typeof s)return s.split("");if(Ft(s)){for(var e=[],t=s.length,a=0;a<t;a++)e.push(s[a]);return e}for(a in e=[],t=0,s)e[t++]=s[a];return e}(s),f=a.length,y=0;y<f;y++)e.call(void 0,a[y],t&&t[y],s)}(qe=Ts.prototype).setTimeout=function(s){this.O=s},qe.ib=function(s){s=s.target;const e=this.L;e&&3==Yr(s)?e.l():this.La(s)},qe.La=function(s){try{if(s==this.g)e:{const $e=Yr(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>$e)&&(3!=$e||Ce||this.g&&(this.h.h||this.g.fa()||ml(this.g)))){this.I||4!=$e||7==e||no(),Ms(this);var t=this.g.aa();this.Y=t;t:if(Po(this)){var a=ml(this.g);s="";var f=a.length,y=4==Yr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){xs(this),Is(this);var M="";break t}this.h.i=new ze.TextDecoder}for(e=0;e<f;e++)this.h.h=!0,s+=this.h.i.decode(a[e],{stream:y&&e==f-1});a.splice(0,f),this.h.g+=s,this.C=0,M=this.h.g}else M=this.g.fa();if(this.i=200==t,function Or(s,e,t,a,f,y,M){s.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+f+"]: "+e+"\n"+t+"\n"+y+" "+M})}(this.j,this.u,this.A,this.m,this.U,$e,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var U,oe=this.g;if((U=oe.g?oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tt(U)){var ve=U;break t}}ve=null}if(!(t=ve)){this.i=!1,this.o=3,_s(12),xs(this),Is(this);break e}Er(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Hs(this,t)}this.P?(Ca(this,$e,M),Ce&&this.i&&3==$e&&(Vr(this.S,this.T,"tick",this.hb),this.T.start())):(Er(this.j,this.m,M,null),Hs(this,M)),4==$e&&xs(this),this.i&&!this.I&&(4==$e?Ze(this.l,this):(this.i=!1,io(this)))}else 400==t&&0<M.indexOf("Unknown SID")?(this.o=3,_s(12)):(this.o=0,_s(13)),xs(this),Is(this)}}}catch{}},qe.hb=function(){if(this.g){var s=Yr(this.g),e=this.g.fa();this.C<e.length&&(Ms(this),Ca(this,s,e),this.i&&4!=s&&io(this))}},qe.cancel=function(){this.I=!0,xs(this)},qe.gb=function(){this.B=null;const s=Date.now();0<=s-this.V?(function ko(s,e){s.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(no(),_s(17)),xs(this),this.o=2,Is(this)):fr(this,this.V-s)};var wa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function As(s,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,s instanceof As){this.h=void 0!==e?e:s.h,pr(this,s.j),this.s=s.s,this.g=s.g,Qr(this,s.m),this.l=s.l,e=s.i;var t=new la;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),No(this,t),this.o=s.o}else s&&(t=String(s).match(wa))?(this.h=!!e,pr(this,t[1]||"",!0),this.s=so(t[2]||""),this.g=so(t[3]||"",!0),Qr(this,t[4]),this.l=so(t[5]||"",!0),No(this,t[6]||"",!0),this.o=so(t[7]||"")):(this.h=!!e,this.i=new la(null,this.h))}function js(s){return new As(s)}function pr(s,e,t){s.j=t?so(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function Qr(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function No(s,e,t){e instanceof la?(s.i=e,function pl(s,e){e&&!s.j&&(mr(s),s.i=null,s.g.forEach(function(t,a){var f=a.toLowerCase();a!=f&&(pi(this,a),Ec(this,f,t))},s)),s.j=e}(s.i,s.h)):(t||(e=vs(e,Ko)),s.i=new la(e,s.h))}function xi(s,e,t){s.i.set(e,t)}function Ur(s){return xi(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function so(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function vs(s,e,t){return"string"==typeof s?(s=encodeURI(s).replace(e,aa),t&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function aa(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}As.prototype.toString=function(){var s=[],e=this.j;e&&s.push(vs(e,Ki,!0),":");var t=this.g;return(t||"file"==e)&&(s.push("//"),(e=this.s)&&s.push(vs(e,Ki,!0),"@"),s.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&s.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&s.push("/"),s.push(vs(t,"/"==t.charAt(0)?ks:Co,!0))),(t=this.i.toString())&&s.push("?",t),(t=this.o)&&s.push("#",vs(t,Zs)),s.join("")};var Ki=/[#\/\?@]/g,Co=/[#\?:]/g,ks=/[#\?]/g,Ko=/[#\?@]/g,Zs=/#/g;function la(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function mr(s){s.g||(s.g=new Map,s.h=0,s.i&&function bo(s,e){if(s){s=s.split("&");for(var t=0;t<s.length;t++){var a=s[t].indexOf("="),f=null;if(0<=a){var y=s[t].substring(0,a);f=s[t].substring(a+1)}else y=s[t];e(y,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}}(s.i,function(e,t){s.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function pi(s,e){mr(s),e=ps(s,e),s.g.has(e)&&(s.i=null,s.h-=s.g.get(e).length,s.g.delete(e))}function xr(s,e){return mr(s),e=ps(s,e),s.g.has(e)}function Ec(s,e,t){pi(s,e),0<t.length&&(s.i=null,s.g.set(ps(s,e),Xt(t)),s.h+=t.length)}function ps(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}function $s(s){this.l=s||Xr,s=ze.PerformanceNavigationTiming?0<(s=ze.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(ze.g&&ze.g.Ga&&ze.g.Ga()&&ze.g.Ga().$b),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(qe=la.prototype).add=function(s,e){mr(this),this.i=null,s=ps(this,s);var t=this.g.get(s);return t||this.g.set(s,t=[]),t.push(e),this.h+=1,this},qe.forEach=function(s,e){mr(this),this.g.forEach(function(t,a){t.forEach(function(f){s.call(e,f,a,this)},this)},this)},qe.oa=function(){mr(this);const s=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let a=0;a<e.length;a++){const f=s[a];for(let y=0;y<f.length;y++)t.push(e[a])}return t},qe.W=function(s){mr(this);let e=[];if("string"==typeof s)xr(this,s)&&(e=e.concat(this.g.get(ps(this,s))));else{s=Array.from(this.g.values());for(let t=0;t<s.length;t++)e=e.concat(s[t])}return e},qe.set=function(s,e){return mr(this),this.i=null,xr(this,s=ps(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this},qe.get=function(s,e){return s&&0<(s=this.W(s)).length?String(s[0]):e},qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const s=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var a=e[t];const y=encodeURIComponent(String(a)),M=this.W(a);for(a=0;a<M.length;a++){var f=y;""!==M[a]&&(f+="="+encodeURIComponent(String(M[a]))),s.push(f)}}return this.i=s.join("&")};var Xr=10;function Qa(s){return!!s.h||!!s.g&&s.g.size>=s.j}function En(s){return s.h?1:s.g?s.g.size:0}function Mi(s,e){return s.h?s.h==e:!!s.g&&s.g.has(e)}function wo(s,e){s.g?s.g.add(e):s.h=e}function Da(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}function Hr(s){if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){let e=s.i;for(const t of s.g.values())e=e.concat(t.D);return e}return Xt(s.i)}function se(){}function Q(){this.g=new se}function $(s,e,t){const a=t||"";try{ro(s,function(f,y){let M=f;yn(f)&&(M=rn(f)),e.push(a+y+"="+encodeURIComponent(M))})}catch(f){throw e.push(a+"type="+encodeURIComponent("_badmap")),f}}function en(s,e,t,a,f){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,f(a)}catch{}}function Xn(s){this.l=s.ac||null,this.j=s.jb||!1}function Cr(s,e){we.call(this),this.D=s,this.u=e,this.m=void 0,this.readyState=oo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$s.prototype.cancel=function(){if(this.i=Hr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}},se.prototype.stringify=function(s){return ze.JSON.stringify(s,void 0)},se.prototype.parse=function(s){return ze.JSON.parse(s,void 0)},Ve(Xn,_n),Xn.prototype.g=function(){return new Cr(this.l,this.j)},Xn.prototype.i=function(s){return function(){return s}}({}),Ve(Cr,we);var oo=0;function Fr(s){s.j.read().then(s.Ta.bind(s)).catch(s.ga.bind(s))}function gr(s){s.readyState=4,s.l=null,s.j=null,s.A=null,rs(s)}function rs(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(qe=Cr.prototype).open=function(s,e){if(this.readyState!=oo)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,rs(this)},qe.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.D||ze).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gr(this)),this.readyState=oo},qe.Wa=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,rs(this)),this.g&&(this.readyState=3,rs(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ze.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fr(this)}else s.text().then(this.Va.bind(this),this.ga.bind(this))},qe.Ta=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?gr(this):rs(this),3==this.readyState&&Fr(this)}},qe.Va=function(s){this.g&&(this.response=this.responseText=s,gr(this))},qe.Ua=function(s){this.g&&(this.response=s,gr(this))},qe.ga=function(){this.g&&gr(this)},qe.setRequestHeader=function(s,e){this.v.append(s,e)},qe.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},qe.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var t=e.next();!t.done;)s.push((t=t.value)[0]+": "+t[1]),t=e.next();return s.join("\r\n")},Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var ua=ze.JSON.parse;function er(s){we.call(this),this.headers=new Map,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ao,this.K=this.L=!1}Ve(er,we);var ao="",Sc=/^https?$/i,Ba=["POST","PUT"];function Va(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,Zo(s),Fo(s)}function Zo(s){s.D||(s.D=!0,rt(s,"complete"),rt(s,"error"))}function Ua(s){if(s.h&&typeof Pt<"u"&&(!s.C[1]||4!=Yr(s)||2!=s.aa()))if(s.v&&4==Yr(s))to(s.Ha,0,s);else if(rt(s,"readystatechange"),4==Yr(s)){s.h=!1;try{const U=s.aa();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var a;if(a=0===U){var f=String(s.H).match(wa)[1]||null;if(!f&&ze.self&&ze.self.location){var y=ze.self.location.protocol;f=y.substr(0,y.length-1)}a=!Sc.test(f?f.toLowerCase():"")}t=a}if(t)rt(s,"complete"),rt(s,"success");else{s.m=6;try{var M=2<Yr(s)?s.g.statusText:""}catch{M=""}s.j=M+" ["+s.aa()+"]",Zo(s)}}finally{Fo(s)}}}function Fo(s,e){if(s.g){Xa(s);const t=s.g,a=s.C[0]?At:null;s.g=null,s.C=null,e||rt(s,"ready");try{t.onreadystatechange=a}catch{}}}function Xa(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(ze.clearTimeout(s.A),s.A=null)}function Yr(s){return s.g?s.g.readyState:0}function ml(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case ao:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function da(s){let e="";return at(s,function(t,a){e+=a,e+=":",e+=t,e+="\r\n"}),e}function Fl(s,e,t){e:{for(a in t){var a=!1;break e}a=!0}a||(t=da(t),"string"==typeof s?null!=t&&encodeURIComponent(String(t)):xi(s,e,t))}function lo(s,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[s]||e}function Ja(s){this.Ca=0,this.i=[],this.j=new or,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=lo("failFast",!1,s),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=lo("baseRetryDelayMs",5e3,s),this.bb=lo("retryDelaySeedMs",1e4,s),this.$a=lo("forwardChannelMaxRetries",2,s),this.ta=lo("forwardChannelRequestTimeoutMs",2e4,s),this.ra=s&&s.xmlHttpFactory||void 0,this.Da=s&&s.Zb||!1,this.J=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.I="",this.h=new $s(s&&s.concurrentRequestLimit),this.Fa=new Q,this.O=s&&s.fastHandshake||!1,this.N=s&&s.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=s&&s.Xb||!1,s&&s.Aa&&this.j.Aa(),s&&s.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&s&&s.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function W(s){if(q(s),3==s.G){var e=s.U++,t=js(s.F);xi(t,"SID",s.I),xi(t,"RID",e),xi(t,"TYPE","terminate"),un(s,t),(e=new Ts(s,s.j,e,void 0)).K=2,e.v=Ur(js(t)),t=!1,ze.navigator&&ze.navigator.sendBeacon&&(t=ze.navigator.sendBeacon(e.v.toString(),"")),!t&&ze.Image&&((new Image).src=e.v,t=!0),t||(e.g=Lo(e.l,null),e.g.da(e.v)),e.F=Date.now(),io(e)}ys(s)}function ye(s){s.g&&(Hi(s),s.g.cancel(),s.g=null)}function q(s){ye(s),s.u&&(ze.clearTimeout(s.u),s.u=null),_r(s),s.h.cancel(),s.m&&("number"==typeof s.m&&ze.clearTimeout(s.m),s.m=null)}function xe(s){Qa(s.h)||s.m||(s.m=!0,sr(s.Ja,s),s.C=0)}function Zt(s,e){var t;t=e?e.m:s.U++;const a=js(s.F);xi(a,"SID",s.I),xi(a,"RID",t),xi(a,"AID",s.T),un(s,a),s.o&&s.s&&Fl(a,s.o,s.s),t=new Ts(s,s.j,t,s.C+1),null===s.o&&(t.H=s.s),e&&(s.i=e.D.concat(s.i)),e=qn(s,t,1e3),t.setTimeout(Math.round(.5*s.ta)+Math.round(.5*s.ta*Math.random())),wo(s.h,t),sa(t,a,e)}function un(s,e){s.ia&&at(s.ia,function(t,a){xi(e,a,t)}),s.l&&ro({},function(t,a){xi(e,a,t)})}function qn(s,e,t){t=Math.min(s.i.length,t);var a=s.l?mn(s.l.Ra,s.l,s):null;e:{var f=s.i;let y=-1;for(;;){const M=["count="+t];-1==y?0<t?(y=f[0].h,M.push("ofs="+y)):y=0:M.push("ofs="+y);let U=!0;for(let oe=0;oe<t;oe++){let ve=f[oe].h;const $e=f[oe].g;if(ve-=y,0>ve)y=Math.max(0,f[oe].h-100),U=!1;else try{$($e,M,"req"+ve+"_")}catch{a&&a($e)}}if(U){a=M.join("&");break e}}}return s=s.i.splice(0,t),e.D=s,a}function Ni(s){s.g||s.u||(s.Z=1,sr(s.Ia,s),s.A=0)}function yi(s){return!(s.g||s.u||3<=s.A||(s.Z++,s.u=Ot(mn(s.Ia,s),ur(s,s.A)),s.A++,0))}function Hi(s){null!=s.B&&(ze.clearTimeout(s.B),s.B=null)}function Fi(s){s.g=new Ts(s,s.j,"rpc",s.Z),null===s.o&&(s.g.H=s.s),s.g.N=0;var e=js(s.sa);xi(e,"RID","rpc"),xi(e,"SID",s.I),xi(e,"CI",s.L?"0":"1"),xi(e,"AID",s.T),xi(e,"TYPE","xmlhttp"),un(s,e),s.o&&s.s&&Fl(e,s.o,s.s),s.J&&s.g.setTimeout(s.J);var t=s.g;s=s.ka,t.K=1,t.v=Ur(js(e)),t.s=null,t.P=!0,Oo(t,s)}function _r(s){null!=s.v&&(ze.clearTimeout(s.v),s.v=null)}function Ze(s,e){var t=null;if(s.g==e){_r(s),Hi(s),s.g=null;var a=2}else{if(!Mi(s.h,e))return;t=e.D,Da(s.h,e),a=1}if(0!=s.G)if(s.pa=e.Y,e.i)if(1==a){t=e.s?e.s.length:0,e=Date.now()-e.F;var f=s.C;rt(a=yo(),new Vs(a,t)),xe(s)}else Ni(s);else if(3==(f=e.o)||0==f&&0<s.pa||!(1==a&&function ct(s,e){return!(En(s.h)>=s.h.j-(s.m?1:0)||(s.m?(s.i=e.D.concat(s.i),0):1==s.G||2==s.G||s.C>=(s.Za?0:s.$a)||(s.m=Ot(mn(s.Ja,s,e),ur(s,s.C)),s.C++,0)))}(s,e)||2==a&&yi(s)))switch(t&&0<t.length&&(e=s.h,e.i=e.i.concat(t)),f){case 1:Rs(s,5);break;case 4:Rs(s,10);break;case 3:Rs(s,6);break;default:Rs(s,2)}}function ur(s,e){let t=s.Xa+Math.floor(Math.random()*s.bb);return s.l||(t*=2),t*e}function Rs(s,e){if(s.j.info("Error code "+e),2==e){var t=null;s.l&&(t=null);var a=mn(s.kb,s);t||(t=new As("//www.google.com/images/cleardot.gif"),ze.location&&"http"==ze.location.protocol||pr(t,"https"),Ur(t)),function ke(s,e){const t=new or;if(ze.Image){const a=new Image;a.onload=Oe(en,t,a,"TestLoadImage: loaded",!0,e),a.onerror=Oe(en,t,a,"TestLoadImage: error",!1,e),a.onabort=Oe(en,t,a,"TestLoadImage: abort",!1,e),a.ontimeout=Oe(en,t,a,"TestLoadImage: timeout",!1,e),ze.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=s}else e(!1)}(t.toString(),a)}else _s(2);s.G=0,s.l&&s.l.va(e),ys(s),q(s)}function ys(s){if(s.G=0,s.la=[],s.l){const e=Hr(s.h);(0!=e.length||0!=s.i.length)&&(Fn(s.la,e),Fn(s.la,s.i),s.h.i.length=0,Xt(s.i),s.i.length=0),s.l.ua()}}function Gs(s,e,t){var a=t instanceof As?js(t):new As(t,void 0);if(""!=a.g)e&&(a.g=e+"."+a.g),Qr(a,a.m);else{var f=ze.location;a=f.protocol,e=e?e+"."+f.hostname:f.hostname,f=+f.port;var y=new As(null,void 0);a&&pr(y,a),e&&(y.g=e),f&&Qr(y,f),t&&(y.l=t),a=y}return e=s.za,(t=s.D)&&e&&xi(a,t,e),xi(a,"VER",s.ma),un(s,a),a}function Lo(s,e,t){if(e&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new er(t&&s.Da&&!s.ra?new Xn({jb:!0}):s.ra)).Ka(s.H),e}function Do(){}function tr(){if(he&&!(10<=Number(Ai)))throw Error("Environmental error: no available transport.")}function Os(s,e){we.call(this),this.g=new Ja(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(s?s["X-WebChannel-Client-Profile"]=e.ya:s={"X-WebChannel-Client-Profile":e.ya}),this.g.S=s,(s=e&&e.Yb)&&!Tt(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tt(e)&&(this.g.D=e,null!==(s=this.h)&&e in s&&e in(s=this.h)&&delete s[e]),this.j=new ha(this)}function gl(s){Ir.call(this);var e=s.__sm__;if(e){e:{for(const t in e){s=t;break e}s=void 0}(this.i=s)&&(s=this.i,e=null!==e&&s in e?e[s]:void 0),this.data=e}else this.data=s}function ss(){qi.call(this),this.status=1}function ha(s){this.g=s}(qe=er.prototype).Ka=function(s){this.L=s},qe.da=function(s,e,t,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);e=e?e.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():zr.g(),this.C=function Nn(s){return s.h||(s.h=s.i())}(this.u?this.u:zr),this.g.onreadystatechange=mn(this.Ha,this);try{this.F=!0,this.g.open(e,String(s),!0),this.F=!1}catch(y){return void Va(this,y)}if(s=t||"",t=new Map(this.headers),a)if(Object.getPrototypeOf(a)===Object.prototype)for(var f in a)t.set(f,a[f]);else{if("function"!=typeof a.keys||"function"!=typeof a.get)throw Error("Unknown input type for opt_headers: "+String(a));for(const y of a.keys())t.set(y,a.get(y))}a=Array.from(t.keys()).find(y=>"content-type"==y.toLowerCase()),f=ze.FormData&&s instanceof ze.FormData,!(0<=St(Ba,e))||a||f||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[y,M]of t)this.g.setRequestHeader(y,M);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Xa(this),0<this.B&&((this.K=function Ql(s){return he&&function di(){return function mt(s){var e=ai;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=s(9)}(function(){let s=0;const e=Vt(String(Gt)).split("."),t=Vt("9").split("."),a=Math.max(e.length,t.length);for(let M=0;0==s&&M<a;M++){var f=e[M]||"",y=t[M]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],y=/(\d*)(\D*)(.*)/.exec(y)||["","","",""],0==f[0].length&&0==y[0].length)break;s=Cn(0==f[1].length?0:parseInt(f[1],10),0==y[1].length?0:parseInt(y[1],10))||Cn(0==f[2].length,0==y[2].length)||Cn(f[2],y[2]),f=f[3],y=y[3]}while(0==s)}return 0<=s})}()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=mn(this.qa,this)):this.A=to(this.qa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(y){Va(this,y)}},qe.qa=function(){typeof Pt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rt(this,"timeout"),this.abort(8))},qe.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,rt(this,"complete"),rt(this,"abort"),Fo(this))},qe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fo(this,!0)),er.X.M.call(this)},qe.Ha=function(){this.s||(this.F||this.v||this.l?Ua(this):this.fb())},qe.fb=function(){Ua(this)},qe.aa=function(){try{return 2<Yr(this)?this.g.status:-1}catch{return-1}},qe.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},qe.Sa=function(s){if(this.g){var e=this.g.responseText;return s&&0==e.indexOf(s)&&(e=e.substring(s.length)),ua(e)}},qe.Ea=function(){return this.m},qe.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(qe=Ja.prototype).ma=8,qe.G=1,qe.Ja=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.U=Math.floor(1e5*Math.random()),s=this.U++;const f=new Ts(this,this.j,s,void 0);let y=this.s;if(this.S&&(y?(y=it(y),Et(y,this.S)):y=this.S),null!==this.o||this.N||(f.H=y,y=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var a=this.i[t];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(e+=a)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=qn(this,f,e),xi(t=js(this.F),"RID",s),xi(t,"CVER",22),this.D&&xi(t,"X-HTTP-Session-Id",this.D),un(this,t),y&&(this.N?e="headers="+encodeURIComponent(String(da(y)))+"&"+e:this.o&&Fl(t,this.o,y)),wo(this.h,f),this.Ya&&xi(t,"TYPE","init"),this.O?(xi(t,"$req",e),xi(t,"SID","null"),f.Z=!0,sa(f,t,null)):sa(f,t,e),this.G=2}}else 3==this.G&&(s?Zt(this,s):0==this.i.length||Qa(this.h)||Zt(this))},qe.Ia=function(){if(this.u=null,Fi(this),this.$&&!(this.K||null==this.g||0>=this.P)){var s=2*this.P;this.j.info("BP detection timer enabled: "+s),this.B=Ot(mn(this.eb,this),s)}},qe.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,_s(10),ye(this),Fi(this))},qe.cb=function(){null!=this.v&&(this.v=null,ye(this),yi(this),_s(19))},qe.kb=function(s){s?(this.j.info("Successfully pinged google.com"),_s(2)):(this.j.info("Failed to ping google.com"),_s(1))},(qe=Do.prototype).xa=function(){},qe.wa=function(){},qe.va=function(){},qe.ua=function(){},qe.Ra=function(){},tr.prototype.g=function(s,e){return new Os(s,e)},Ve(Os,we),Os.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var s=this.g,e=this.l,t=this.h||void 0;_s(0),s.V=e,s.ia=t||{},s.L=s.Y,s.F=Gs(s,null,s.V),xe(s)},Os.prototype.close=function(){W(this.g)},Os.prototype.u=function(s){var e=this.g;if("string"==typeof s){var t={};t.__data__=s,s=t}else this.v&&((t={}).__data__=rn(s),s=t);e.i.push(new class{constructor(s,e){this.h=s,this.g=e}}(e.ab++,s)),3==e.G&&xe(e)},Os.prototype.M=function(){this.g.l=null,delete this.j,W(this.g),delete this.g,Os.X.M.call(this)},Ve(gl,Ir),Ve(ss,qi),Ve(ha,Do),ha.prototype.xa=function(){rt(this.g,"a")},ha.prototype.wa=function(s){rt(this.g,new gl(s))},ha.prototype.va=function(s){rt(this.g,new ss)},ha.prototype.ua=function(){rt(this.g,"b")},tr.prototype.createWebChannel=tr.prototype.g,Os.prototype.send=Os.prototype.u,Os.prototype.open=Os.prototype.m,Os.prototype.close=Os.prototype.close,Rt.NO_ERROR=0,Rt.TIMEOUT=8,Rt.HTTP_ERROR=6,zt.COMPLETE="complete",ii.EventType=Di,Di.OPEN="a",Di.CLOSE="b",Di.ERROR="c",Di.MESSAGE="d",we.prototype.listen=we.prototype.N,er.prototype.listenOnce=er.prototype.O,er.prototype.getLastError=er.prototype.Oa,er.prototype.getLastErrorCode=er.prototype.Ea,er.prototype.getStatus=er.prototype.aa,er.prototype.getResponseJson=er.prototype.Sa,er.prototype.getResponseText=er.prototype.fa,er.prototype.send=er.prototype.da,er.prototype.setWithCredentials=er.prototype.Ka;var $u=et.createWebChannelTransport=function(){return new tr},Md=et.getStatEventTarget=function(){return yo()},Tc=et.ErrorCode=Rt,Ll=et.EventType=zt,Bl=et.Event=gs,fa=et.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Mc=et.FetchXmlHttpFactory=Xn,el=et.WebChannel=ii,au=et.XhrIo=er;const lu="@firebase/firestore";class nr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");let pa="9.13.0";const Bo=new Je.Yd("@firebase/firestore");function _l(){return Bo.logLevel}function On(s,...e){if(Bo.logLevel<=Je.in.DEBUG){const t=e.map(Gu);Bo.debug(`Firestore (${pa}): ${s}`,...t)}}function Qi(s,...e){if(Bo.logLevel<=Je.in.ERROR){const t=e.map(Gu);Bo.error(`Firestore (${pa}): ${s}`,...t)}}function ma(s,...e){if(Bo.logLevel<=Je.in.WARN){const t=e.map(Gu);Bo.warn(`Firestore (${pa}): ${s}`,...t)}}function Gu(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch{return s}}function ti(s="Unexpected state"){const e=`FIRESTORE (${pa}) INTERNAL ASSERTION FAILED: `+s;throw Qi(e),new Error(e)}function Ei(s,e){s||ti()}function Qn(s,e){return s}const cn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Sn extends Be.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ar{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ic{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Eo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nr.UNAUTHENTICATED))}shutdown(){}}class tl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ga{constructor(e){this.t=e,this.currentUser=nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var a=this;let f=this.i;const y=ve=>this.i!==f?(f=this.i,t(ve)):Promise.resolve();let M=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),M.resolve(),M=new Ar,e.enqueueRetryable(()=>y(this.currentUser))};const U=()=>{const ve=M;e.enqueueRetryable((0,ut.Z)(function*(){yield ve.promise,yield y(a.currentUser)}))},oe=ve=>{On("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ve,this.auth.addAuthTokenListener(this.o),U()};this.t.onInit(ve=>oe(ve)),setTimeout(()=>{if(!this.auth){const ve=this.t.getImmediate({optional:!0});ve?oe(ve):(On("FirebaseAuthCredentialsProvider","Auth not yet detected"),M.resolve(),M=new Ar)}},0),U()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(On("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ei("string"==typeof a.accessToken),new Ic(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ei(null===e||"string"==typeof e),new nr(e)}}class vl{constructor(e,t,a,f){this.h=e,this.l=t,this.m=a,this.g=f,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ei(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class xc{constructor(e,t,a,f){this.h=e,this.l=t,this.m=a,this.g=f}getToken(){return Promise.resolve(new vl(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yl{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const a=y=>{null!=y.error&&On("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const M=y.token!==this.A;return this.A=y.token,On("FirebaseAppCheckTokenProvider",`Received ${M?"new":"existing"} token.`),M?t(y.token):Promise.resolve()};this.o=y=>{e.enqueueRetryable(()=>a(y))};const f=y=>{On("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.appCheck.addTokenListener(this.o)};this.T.onInit(y=>f(y)),setTimeout(()=>{if(!this.appCheck){const y=this.T.getImmediate({optional:!0});y?f(y):On("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ei("string"==typeof t.token),this.A=t.token,new nl(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Pr(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let a=0;a<s;a++)t[a]=Math.floor(256*Math.random());return t}class il{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const f=Pr(40);for(let y=0;y<f.length;++y)a.length<20&&f[y]<t&&(a+=e.charAt(f[y]%e.length))}return a}}function Si(s,e){return s<e?-1:s>e?1:0}function qo(s,e,t){return s.length===e.length&&s.every((a,f)=>t(a,e[f]))}function rl(s){return s+"\0"}class kr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Sn(cn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Sn(cn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Sn(cn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Sn(cn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kr.fromMillis(Date.now())}static fromDate(e){return kr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*t));return new kr(t,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Si(this.nanoseconds,e.nanoseconds):Si(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bi{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bi(e)}static min(){return new bi(new kr(0,0))}static max(){return new bi(new kr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class cs{constructor(e,t,a){void 0===t?t=0:t>e.length&&ti(),void 0===a?a=e.length-t:a>e.length-t&&ti(),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return 0===cs.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof cs?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let f=0;f<a;f++){const y=e.get(f),M=t.get(f);if(y<M)return-1;if(y>M)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vi extends cs{construct(e,t,a){return new vi(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new Sn(cn.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(f=>f.length>0))}return new vi(t)}static emptyPath(){return new vi([])}}const co=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends cs{construct(e,t,a){return new wr(e,t,a)}static isValidIdentifier(e){return co.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wr(["__name__"])}static fromServerFormat(e){const t=[];let a="",f=0;const y=()=>{if(0===a.length)throw new Sn(cn.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let M=!1;for(;f<e.length;){const U=e[f];if("\\"===U){if(f+1===e.length)throw new Sn(cn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const oe=e[f+1];if("\\"!==oe&&"."!==oe&&"`"!==oe)throw new Sn(cn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=oe,f+=2}else"`"===U?(M=!M,f++):"."!==U||M?(a+=U,f++):(y(),f++)}if(y(),M)throw new Sn(cn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wr(t)}static emptyPath(){return new wr([])}}class zn{constructor(e){this.path=e}static fromPath(e){return new zn(vi.fromString(e))}static fromName(e){return new zn(vi.fromString(e).popFirst(5))}static empty(){return new zn(vi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return vi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zn(new vi(e.slice()))}}class Qo{constructor(e,t,a,f){this.indexId=e,this.collectionGroup=t,this.fields=a,this.indexState=f}}function Ea(s){return s.fields.find(e=>2===e.kind)}function Xo(s){return s.fields.filter(e=>2!==e.kind)}Qo.UNKNOWN_ID=-1;class _a{constructor(e,t){this.fieldPath=e,this.kind=t}}class bl{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new bl(0,uo.min())}}function Cl(s,e){const t=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,f=bi.fromTimestamp(1e9===a?new kr(t+1,0):new kr(t,a));return new uo(f,zn.empty(),e)}function Xl(s){return new uo(s.readTime,s.key,-1)}class uo{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new uo(bi.min(),zn.empty(),-1)}static max(){return new uo(bi.max(),zn.empty(),-1)}}function Ac(s,e){let t=s.readTime.compareTo(e.readTime);return 0!==t?t:(t=zn.comparator(s.documentKey,e.documentKey),0!==t?t:Si(s.largestBatchId,e.largestBatchId))}const Ps="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ho(s){return wl.apply(this,arguments)}function wl(){return wl=(0,ut.Z)(function*(s){if(s.code!==cn.FAILED_PRECONDITION||s.message!==Ps)throw s;On("LocalStore","Unexpectedly lost primary lease")}),wl.apply(this,arguments)}class on{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ti(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new on((a,f)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(a,f)},this.catchCallback=y=>{this.wrapFailure(t,y).next(a,f)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof on?t:on.resolve(t)}catch(t){return on.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):on.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):on.reject(t)}static resolve(e){return new on((t,a)=>{t(e)})}static reject(e){return new on((t,a)=>{a(e)})}static waitFor(e){return new on((t,a)=>{let f=0,y=0,M=!1;e.forEach(U=>{++f,U.next(()=>{++y,M&&y===f&&t()},oe=>a(oe))}),M=!0,y===f&&t()})}static or(e){let t=on.resolve(!1);for(const a of e)t=t.next(f=>f?on.resolve(f):a());return t}static forEach(e,t){const a=[];return e.forEach((f,y)=>{a.push(t.call(this,f,y))}),this.waitFor(a)}static mapArray(e,t){return new on((a,f)=>{const y=e.length,M=new Array(y);let U=0;for(let oe=0;oe<y;oe++){const ve=oe;t(e[ve]).next($e=>{M[ve]=$e,++U,U===y&&a(M)},$e=>f($e))}})}static doWhile(e,t){return new on((a,f)=>{const y=()=>{!0===e()?t().next(()=>{y()},f):a()};y()})}}class Kr{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Ar,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new sl(e,t.error)):this.P.resolve()},this.transaction.onerror=a=>{const f=fo(a.target.error);this.P.reject(new sl(e,f))}}static open(e,t,a,f){try{return new Kr(t,e.transaction(f,a))}catch(y){throw new sl(t,y)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(On("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new So(t)}}class jo{constructor(e,t,a){this.name=e,this.version=t,this.S=a,12.2===jo.D((0,Be.z$)())&&Qi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return On("SimpleDb","Removing database:",e),ho(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Be.hl)())return!1;if(jo.N())return!0;const e=(0,Be.z$)(),t=jo.D(e),a=0<t&&t<10,f=jo.k(e),y=0<f&&f<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||y)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static k(e){const t=e.match(/Android ([\d.]+)/i),a=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(a)}F(e){var t=this;return(0,ut.Z)(function*(){return t.db||(On("SimpleDb","Opening database:",t.name),t.db=yield new Promise((a,f)=>{const y=indexedDB.open(t.name,t.version);y.onsuccess=M=>{a(M.target.result)},y.onblocked=()=>{f(new sl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=M=>{const U=M.target.error;f("VersionError"===U.name?new Sn(cn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===U.name?new Sn(cn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+U):new sl(e,U))},y.onupgradeneeded=M=>{On("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',M.oldVersion),t.S.$(M.target.result,y.transaction,M.oldVersion,t.version).next(()=>{On("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=a=>t.B(a)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,a,f){var y=this;return(0,ut.Z)(function*(){const M="readonly"===t;let U=0;for(;;){++U;try{y.db=yield y.F(e);const oe=Kr.open(y.db,e,M?"readonly":"readwrite",a),ve=f(oe).next($e=>(oe.V(),$e)).catch($e=>(oe.abort($e),on.reject($e))).toPromise();return ve.catch(()=>{}),yield oe.v,ve}catch(oe){const ve=oe,$e="FirebaseError"!==ve.name&&U<3;if(On("SimpleDb","Transaction failed with error:",ve.message,"Retrying:",$e),y.close(),!$e)return Promise.reject(ve)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class kc{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return ho(this.U.delete())}}class sl extends Sn{constructor(e,t){super(cn.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ta(s){return"IndexedDbTransactionError"===s.name}class So{constructor(e){this.store=e}put(e,t){let a;return void 0!==t?(On("SimpleDb","PUT",this.store.name,e,t),a=this.store.put(t,e)):(On("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),ho(a)}add(e){return On("SimpleDb","ADD",this.store.name,e,e),ho(this.store.add(e))}get(e){return ho(this.store.get(e)).next(t=>(void 0===t&&(t=null),On("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return On("SimpleDb","DELETE",this.store.name,e),ho(this.store.delete(e))}count(){return On("SimpleDb","COUNT",this.store.name),ho(this.store.count())}W(e,t){const a=this.options(e,t);if(a.index||"function"!=typeof this.store.getAll){const f=this.cursor(a),y=[];return this.H(f,(M,U)=>{y.push(U)}).next(()=>y)}{const f=this.store.getAll(a.range);return new on((y,M)=>{f.onerror=U=>{M(U.target.error)},f.onsuccess=U=>{y(U.target.result)}})}}J(e,t){const a=this.store.getAll(e,null===t?void 0:t);return new on((f,y)=>{a.onerror=M=>{y(M.target.error)},a.onsuccess=M=>{f(M.target.result)}})}Y(e,t){On("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,t);a.X=!1;const f=this.cursor(a);return this.H(f,(y,M,U)=>U.delete())}Z(e,t){let a;t?a=e:(a={},t=e);const f=this.cursor(a);return this.H(f,t)}tt(e){const t=this.cursor({});return new on((a,f)=>{t.onerror=y=>{const M=fo(y.target.error);f(M)},t.onsuccess=y=>{const M=y.target.result;M?e(M.primaryKey,M.value).next(U=>{U?M.continue():a()}):a()}})}H(e,t){const a=[];return new on((f,y)=>{e.onerror=M=>{y(M.target.error)},e.onsuccess=M=>{const U=M.target.result;if(!U)return void f();const oe=new kc(U),ve=t(U.primaryKey,U.value,oe);if(ve instanceof on){const $e=ve.catch(yt=>(oe.done(),on.reject(yt)));a.push($e)}oe.isDone?f():null===oe.G?U.continue():U.continue(oe.G)}}).next(()=>on.waitFor(a))}options(e,t){let a;return void 0!==e&&("string"==typeof e?a=e:t=e),{index:a,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const a=this.store.index(e.index);return e.X?a.openKeyCursor(e.range,t):a.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ho(s){return new on((e,t)=>{s.onsuccess=a=>{e(a.target.result)},s.onerror=a=>{const f=fo(a.target.error);t(f)}})}let ec=!1;function fo(s){const e=jo.D((0,Be.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(t)>=0){const a=new Sn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ec||(ec=!0,setTimeout(()=>{throw a},0)),a}}return s}class qs{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;On("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ut.Z)(function*(){t.task=null;try{On("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(a){Ta(a)?On("IndexBackiller","Ignoring IndexedDB error during index backfill: ",a):yield Ho(a)}yield t.nt(6e4)}))}}class Vl{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ut.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>t.it(a,e))})()}it(e,t){const a=new Set;let f=t,y=!0;return on.doWhile(()=>!0===y&&f>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(M=>{if(null!==M&&!a.has(M))return On("IndexBackiller",`Processing collection: ${M}`),this.rt(e,M,f).next(U=>{f-=U,a.add(M)});y=!1})).next(()=>t-f)}rt(e,t,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(f=>this.localStore.localDocuments.getNextDocuments(e,t,f,a).next(y=>{const M=y.changes;return this.localStore.indexManager.updateIndexEntries(e,M).next(()=>this.ot(f,y)).next(U=>(On("IndexBackiller",`Updating offset: ${U}`),this.localStore.indexManager.updateCollectionGroup(e,t,U))).next(()=>M.size)}))}ot(e,t){let a=e;return t.changes.forEach((f,y)=>{const M=Xl(y);Ac(M,a)>0&&(a=M)}),new uo(a.readTime,a.documentKey,Math.max(t.batchId,e.largestBatchId))}}class po{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.ut(a),this.ct=a=>t.writeSequenceNumber(a))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Rc(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function mo(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function F(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}po.at=-1;class L{constructor(e,t){this.comparator=e,this.root=t||H.EMPTY}insert(e,t){return new L(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,H.BLACK,null,null))}remove(e){return new L(this.comparator,this.root.remove(e,this.comparator).copy(null,null,H.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(0===a)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const f=this.comparator(e,a.key);if(0===f)return t+a.left.size;f<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new I(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new I(this.root,e,this.comparator,!1)}getReverseIterator(){return new I(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new I(this.root,e,this.comparator,!0)}}class I{constructor(e,t,a,f){this.isReverse=f,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=t?a(e.key,t):1,t&&f&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class H{constructor(e,t,a,f,y){this.key=e,this.value=t,this.color=a??H.RED,this.left=f??H.EMPTY,this.right=y??H.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,f,y){return new H(e??this.key,t??this.value,a??this.color,f??this.left,y??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let f=this;const y=a(e,f.key);return f=y<0?f.copy(null,null,null,f.left.insert(e,t,a),null):0===y?f.copy(null,t,null,null,null):f.copy(null,null,null,null,f.right.insert(e,t,a)),f.fixUp()}removeMin(){if(this.left.isEmpty())return H.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,f=this;if(t(e,f.key)<0)f.left.isEmpty()||f.left.isRed()||f.left.left.isRed()||(f=f.moveRedLeft()),f=f.copy(null,null,null,f.left.remove(e,t),null);else{if(f.left.isRed()&&(f=f.rotateRight()),f.right.isEmpty()||f.right.isRed()||f.right.left.isRed()||(f=f.moveRedRight()),0===t(e,f.key)){if(f.right.isEmpty())return H.EMPTY;a=f.right.min(),f=f.copy(a.key,a.value,null,null,f.right.removeMin())}f=f.copy(null,null,null,null,f.right.remove(e,t))}return f.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,H.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,H.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ti();const e=this.left.check();if(e!==this.right.check())throw ti();return e+(this.isRed()?0:1)}}H.EMPTY=null,H.RED=!0,H.BLACK=!1,H.EMPTY=new class{constructor(){this.size=0}get key(){throw ti()}get value(){throw ti()}get color(){throw ti()}get left(){throw ti()}get right(){throw ti()}copy(s,e,t,a,f){return this}insert(s,e,t){return new H(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class te{constructor(e){this.comparator=e,this.data=new L(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const f=a.getNext();if(this.comparator(f.key,e[1])>=0)return;t(f.key)}}forEachWhile(e,t){let a;for(a=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Re(this.data.getIterator())}getIteratorFrom(e){return new Re(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof te)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const f=t.getNext().key,y=a.getNext().key;if(0!==this.comparator(f,y))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new te(this.comparator);return t.data=e,t}}class Re{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function tt(s){return s.hasNext()?s.getNext():void 0}class dt{constructor(e){this.fields=e,e.sort(wr.comparator)}static empty(){return new dt([])}unionWith(e){let t=new te(wr.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new dt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qo(this.fields,e.fields,(t,a)=>t.isEqual(a))}}class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new xn(t)}static fromUint8Array(e){const t=function(a){let f="";for(let y=0;y<a.length;++y)f+=String.fromCharCode(a[y]);return f}(e);return new xn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let a=0;a<e.length;a++)t[a]=e.charCodeAt(a);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Si(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const oi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wn(s){if(Ei(!!s),"string"==typeof s){let e=0;const t=oi.exec(s);if(Ei(!!t),t[1]){let f=t[1];f=(f+"000000000").substr(0,9),e=Number(f)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ci(s.seconds),nanos:ci(s.nanos)}}function ci(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function Ui(s){return"string"==typeof s?xn.fromBase64String(s):xn.fromUint8Array(s)}function Sr(s){var e,t;return"server_timestamp"===(null===(t=((null===(e=s?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function To(s){const e=s.mapValue.fields.__previous_value__;return Sr(e)?To(e):e}function jr(s){const e=Wn(s.mapValue.fields.__local_write_time__.timestampValue);return new kr(e.seconds,e.nanos)}class Nr{constructor(e,t,a,f,y,M,U,oe){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=f,this.ssl=y,this.forceLongPolling=M,this.autoDetectLongPolling=U,this.useFetchStreams=oe}}class Ns{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ns("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ns&&e.projectId===this.projectId&&e.database===this.database}}function va(s){return null==s}function Jr(s){return 0===s&&1/s==-1/0}function tc(s){return"number"==typeof s&&Number.isInteger(s)&&!Jr(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Ul={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Z={nullValue:"NULL_VALUE"};function re(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Sr(s)?4:Ha(s)?9007199254740991:10:ti()}function Ae(s,e){if(s===e)return!0;const t=re(s);if(t!==re(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return jr(s).isEqual(jr(e));case 3:return function(a,f){if("string"==typeof a.timestampValue&&"string"==typeof f.timestampValue&&a.timestampValue.length===f.timestampValue.length)return a.timestampValue===f.timestampValue;const y=Wn(a.timestampValue),M=Wn(f.timestampValue);return y.seconds===M.seconds&&y.nanos===M.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return f=e,Ui(s.bytesValue).isEqual(Ui(f.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(a,f){return ci(a.geoPointValue.latitude)===ci(f.geoPointValue.latitude)&&ci(a.geoPointValue.longitude)===ci(f.geoPointValue.longitude)}(s,e);case 2:return function(a,f){if("integerValue"in a&&"integerValue"in f)return ci(a.integerValue)===ci(f.integerValue);if("doubleValue"in a&&"doubleValue"in f){const y=ci(a.doubleValue),M=ci(f.doubleValue);return y===M?Jr(y)===Jr(M):isNaN(y)&&isNaN(M)}return!1}(s,e);case 9:return qo(s.arrayValue.values||[],e.arrayValue.values||[],Ae);case 10:return function(a,f){const y=a.mapValue.fields||{},M=f.mapValue.fields||{};if(Rc(y)!==Rc(M))return!1;for(const U in y)if(y.hasOwnProperty(U)&&(void 0===M[U]||!Ae(y[U],M[U])))return!1;return!0}(s,e);default:return ti()}var f}function st(s,e){return void 0!==(s.values||[]).find(t=>Ae(t,e))}function Nt(s,e){if(s===e)return 0;const t=re(s),a=re(e);if(t!==a)return Si(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return Si(s.booleanValue,e.booleanValue);case 2:return function(f,y){const M=ci(f.integerValue||f.doubleValue),U=ci(y.integerValue||y.doubleValue);return M<U?-1:M>U?1:M===U?0:isNaN(M)?isNaN(U)?0:-1:1}(s,e);case 3:return an(s.timestampValue,e.timestampValue);case 4:return an(jr(s),jr(e));case 5:return Si(s.stringValue,e.stringValue);case 6:return function(f,y){const M=Ui(f),U=Ui(y);return M.compareTo(U)}(s.bytesValue,e.bytesValue);case 7:return function(f,y){const M=f.split("/"),U=y.split("/");for(let oe=0;oe<M.length&&oe<U.length;oe++){const ve=Si(M[oe],U[oe]);if(0!==ve)return ve}return Si(M.length,U.length)}(s.referenceValue,e.referenceValue);case 8:return function(f,y){const M=Si(ci(f.latitude),ci(y.latitude));return 0!==M?M:Si(ci(f.longitude),ci(y.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(f,y){const M=f.values||[],U=y.values||[];for(let oe=0;oe<M.length&&oe<U.length;++oe){const ve=Nt(M[oe],U[oe]);if(ve)return ve}return Si(M.length,U.length)}(s.arrayValue,e.arrayValue);case 10:return function(f,y){if(f===Ul.mapValue&&y===Ul.mapValue)return 0;if(f===Ul.mapValue)return 1;if(y===Ul.mapValue)return-1;const M=f.fields||{},U=Object.keys(M),oe=y.fields||{},ve=Object.keys(oe);U.sort(),ve.sort();for(let $e=0;$e<U.length&&$e<ve.length;++$e){const yt=Si(U[$e],ve[$e]);if(0!==yt)return yt;const Yt=Nt(M[U[$e]],oe[ve[$e]]);if(0!==Yt)return Yt}return Si(U.length,ve.length)}(s.mapValue,e.mapValue);default:throw ti()}}function an(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return Si(s,e);const t=Wn(s),a=Wn(e),f=Si(t.seconds,a.seconds);return 0!==f?f:Si(t.nanos,a.nanos)}function Mn(s){return jn(s)}function jn(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(a){const f=Wn(a);return`time(${f.seconds},${f.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?Ui(s.bytesValue).toBase64():"referenceValue"in s?zn.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(e=s.geoPointValue).latitude},${e.longitude})`:"arrayValue"in s?function(a){let f="[",y=!0;for(const M of a.values||[])y?y=!1:f+=",",f+=jn(M);return f+"]"}(s.arrayValue):"mapValue"in s?function(a){const f=Object.keys(a.fields||{}).sort();let y="{",M=!0;for(const U of f)M?M=!1:y+=",",y+=`${U}:${jn(a.fields[U])}`;return y+"}"}(s.mapValue):ti();var e}function gi(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Li(s){return!!s&&"integerValue"in s}function Ri(s){return!!s&&"arrayValue"in s}function Ci(s){return!!s&&"nullValue"in s}function ms(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Fs(s){return!!s&&"mapValue"in s}function Jo(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return mo(s.mapValue.fields,(t,a)=>e.mapValue.fields[t]=Jo(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jo(s.arrayValue.values[t]);return e}return Object.assign({},s)}function Ha(s){return"__max__"===(((s.mapValue||{}).fields||{}).__type__||{}).stringValue}function ol(s){return"nullValue"in s?Z:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?gi(Ns.empty(),zn.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?{mapValue:{}}:ti()}function cu(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?gi(Ns.empty(),zn.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?{mapValue:{}}:"mapValue"in s?Ul:ti()}function ja(s,e){const t=Nt(s.value,e.value);return 0!==t?t:s.inclusive&&!e.inclusive?-1:!s.inclusive&&e.inclusive?1:0}function nc(s,e){const t=Nt(s.value,e.value);return 0!==t?t:s.inclusive&&!e.inclusive?1:!s.inclusive&&e.inclusive?-1:0}class us{constructor(e){this.value=e}static empty(){return new us({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!Fs(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jo(t)}setAll(e){let t=wr.emptyPath(),a={},f=[];e.forEach((M,U)=>{if(!t.isImmediateParentOf(U)){const oe=this.getFieldsMap(t);this.applyChanges(oe,a,f),a={},f=[],t=U.popLast()}M?a[U.lastSegment()]=Jo(M):f.push(U.lastSegment())});const y=this.getFieldsMap(t);this.applyChanges(y,a,f)}delete(e){const t=this.field(e.popLast());Fs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ae(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let f=t.mapValue.fields[e.get(a)];Fs(f)&&f.mapValue.fields||(f={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=f),t=f}return t.mapValue.fields}applyChanges(e,t,a){mo(t,(f,y)=>e[f]=y);for(const f of a)delete e[f]}clone(){return new us(Jo(this.value))}}function $a(s){const e=[];return mo(s.fields,(t,a)=>{const f=new wr([t]);if(Fs(a)){const y=$a(a.mapValue).fields;if(0===y.length)e.push(f);else for(const M of y)e.push(f.child(M))}else e.push(f)}),new dt(e)}class vr{constructor(e,t,a,f,y,M){this.key=e,this.documentType=t,this.version=a,this.readTime=f,this.data=y,this.documentState=M}static newInvalidDocument(e){return new vr(e,0,bi.min(),bi.min(),us.empty(),0)}static newFoundDocument(e,t,a){return new vr(e,1,t,bi.min(),a,0)}static newNoDocument(e,t){return new vr(e,2,t,bi.min(),us.empty(),0)}static newUnknownDocument(e,t){return new vr(e,3,t,bi.min(),us.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=us.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bi.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uu{constructor(e,t=null,a=[],f=[],y=null,M=null,U=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=f,this.limit=y,this.startAt=M,this.endAt=U,this.ht=null}}function _h(s,e=null,t=[],a=[],f=null,y=null,M=null){return new uu(s,e,t,a,f,y,M)}function ic(s){const e=Qn(s);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>{return(f=a).field.canonicalString()+f.op.toString()+Mn(f.value);var f}).join(","),t+="|ob:",t+=e.orderBy.map(a=>{return(f=a).field.canonicalString()+f.dir;var f}).join(","),va(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Mn(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Mn(a)).join(",")),e.ht=t}return e.ht}function Oc(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let f=0;f<s.orderBy.length;f++)if(!lf(s.orderBy[f],e.orderBy[f]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let f=0;f<s.filters.length;f++)if((t=s.filters[f]).op!==(a=e.filters[f]).op||!t.field.isEqual(a.field)||!Ae(t.value,a.value))return!1;var t,a;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Ch(s.startAt,e.startAt)&&Ch(s.endAt,e.endAt)}function du(s){return zn.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}function zu(s,e){return s.filters.filter(t=>t instanceof go&&t.field.isEqual(e))}function Ad(s,e,t){let a=Z,f=!0;for(const y of zu(s,e)){let M=Z,U=!0;switch(y.op){case"<":case"<=":M=ol(y.value);break;case"==":case"in":case">=":M=y.value;break;case">":M=y.value,U=!1;break;case"!=":case"not-in":M=Z}ja({value:a,inclusive:f},{value:M,inclusive:U})<0&&(a=M,f=U)}if(null!==t)for(let y=0;y<s.orderBy.length;++y)if(s.orderBy[y].field.isEqual(e)){const M=t.position[y];ja({value:a,inclusive:f},{value:M,inclusive:t.inclusive})<0&&(a=M,f=t.inclusive);break}return{value:a,inclusive:f}}function vh(s,e,t){let a=Ul,f=!0;for(const y of zu(s,e)){let M=Ul,U=!0;switch(y.op){case">=":case">":M=cu(y.value),U=!1;break;case"==":case"in":case"<=":M=y.value;break;case"<":M=y.value,U=!1;break;case"!=":case"not-in":M=Ul}nc({value:a,inclusive:f},{value:M,inclusive:U})>0&&(a=M,f=U)}if(null!==t)for(let y=0;y<s.orderBy.length;++y)if(s.orderBy[y].field.isEqual(e)){const M=t.position[y];nc({value:a,inclusive:f},{value:M,inclusive:t.inclusive})>0&&(a=M,f=t.inclusive);break}return{value:a,inclusive:f}}class go extends class{}{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,a):new sf(e,t,a):"array-contains"===t?new af(e,a):"in"===t?new lp(e,a):"not-in"===t?new Rd(e,a):"array-contains-any"===t?new bh(e,a):new go(e,t,a)}static lt(e,t,a){return"in"===t?new yg(e,a):new kd(e,a)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Nt(t,this.value)):null!==t&&re(this.value)===re(t)&&this.ft(Nt(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ti()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class sf extends go{constructor(e,t,a){super(e,t,a),this.key=zn.fromName(a.referenceValue)}matches(e){const t=zn.comparator(e.key,this.key);return this.ft(t)}}class yg extends go{constructor(e,t){super(e,"in",t),this.keys=yh(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class kd extends go{constructor(e,t){super(e,"not-in",t),this.keys=yh(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function yh(s,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(a=>zn.fromName(a.referenceValue))}class af extends go{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ri(t)&&st(t.arrayValue,this.value)}}class lp extends go{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&st(this.value.arrayValue,t)}}class Rd extends go{constructor(e,t){super(e,"not-in",t)}matches(e){if(st(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!st(this.value.arrayValue,t)}}class bh extends go{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ri(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>st(this.value.arrayValue,a))}}class Dl{constructor(e,t){this.position=e,this.inclusive=t}}class al{constructor(e,t="asc"){this.field=e,this.dir=t}}function lf(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}function hu(s,e,t){let a=0;for(let f=0;f<s.position.length;f++){const y=e[f],M=s.position[f];if(a=y.field.isKeyField()?zn.comparator(zn.fromName(M.referenceValue),t.key):Nt(M,t.data.field(y.field)),"desc"===y.dir&&(a*=-1),0!==a)break}return a}function Ch(s,e){if(null===s)return null===e;if(null===e||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!Ae(s.position[t],e.position[t]))return!1;return!0}class rc{constructor(e,t=null,a=[],f=[],y=null,M="F",U=null,oe=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=f,this.limit=y,this.limitType=M,this.startAt=U,this.endAt=oe,this._t=null,this.wt=null}}function bg(s,e,t,a,f,y,M,U){return new rc(s,e,t,a,f,y,M,U)}function Hl(s){return new rc(s)}function Pc(s){return 0===s.filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())}function Qs(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function Wu(s){for(const e of s.filters)if(e.dt())return e.field;return null}function Yu(s){return null!==s.collectionGroup}function Ls(s){const e=Qn(s);if(null===e._t){e._t=[];const t=Wu(e),a=Qs(e);if(null!==t&&null===a)t.isKeyField()||e._t.push(new al(t)),e._t.push(new al(wr.keyField(),"asc"));else{let f=!1;for(const y of e.explicitOrderBy)e._t.push(y),y.field.isKeyField()&&(f=!0);if(!f){const y=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new al(wr.keyField(),y))}}}return e._t}function ea(s){const e=Qn(s);if(!e.wt)if("F"===e.limitType)e.wt=_h(e.path,e.collectionGroup,Ls(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const y of Ls(e))t.push(new al(y.field,"desc"===y.dir?"asc":"desc"));const a=e.endAt?new Dl(e.endAt.position,e.endAt.inclusive):null,f=e.startAt?new Dl(e.startAt.position,e.startAt.inclusive):null;e.wt=_h(e.path,e.collectionGroup,t,e.filters,e.limit,a,f)}return e.wt}function Ku(s,e,t){return new rc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function fu(s,e){return Oc(ea(s),ea(e))&&s.limitType===e.limitType}function cf(s){return`${ic(ea(s))}|lt:${s.limitType}`}function pu(s){return`Query(target=${function xd(s){let e=s.path.canonicalString();return null!==s.collectionGroup&&(e+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(e+=`, filters: [${s.filters.map(t=>{return`${(a=t).field.canonicalString()} ${a.op} ${Mn(a.value)}`;var a}).join(", ")}]`),va(s.limit)||(e+=", limit: "+s.limit),s.orderBy.length>0&&(e+=`, orderBy: [${s.orderBy.map(t=>{return`${(a=t).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),s.startAt&&(e+=", startAt: ",e+=s.startAt.inclusive?"b:":"a:",e+=s.startAt.position.map(t=>Mn(t)).join(",")),s.endAt&&(e+=", endAt: ",e+=s.endAt.inclusive?"a:":"b:",e+=s.endAt.position.map(t=>Mn(t)).join(",")),`Target(${e})`}(ea(s))}; limitType=${s.limitType})`}function El(s,e){return e.isFoundDocument()&&function(t,a){const f=a.key.path;return null!==t.collectionGroup?a.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(f):zn.isDocumentKey(t.path)?t.path.isEqual(f):t.path.isImmediateParentOf(f)}(s,e)&&function(t,a){for(const f of t.explicitOrderBy)if(!f.field.isKeyField()&&null===a.data.field(f.field))return!1;return!0}(s,e)&&function(t,a){for(const f of t.filters)if(!f.matches(a))return!1;return!0}(s,e)&&(a=e,!((t=s).startAt&&!function(f,y,M){const U=hu(f,y,M);return f.inclusive?U<=0:U<0}(t.startAt,Ls(t),a)||t.endAt&&!function(f,y,M){const U=hu(f,y,M);return f.inclusive?U>=0:U>0}(t.endAt,Ls(t),a)));var t,a}function mu(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function uf(s){return(e,t)=>{let a=!1;for(const f of Ls(s)){const y=cp(f,e,t);if(0!==y)return y;a=a||f.field.isKeyField()}return 0}}function cp(s,e,t){const a=s.field.isKeyField()?zn.comparator(e.key,t.key):function(f,y,M){const U=y.data.field(f),oe=M.data.field(f);return null!==U&&null!==oe?Nt(U,oe):ti()}(s.field,e,t);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ti()}}function up(s,e){if(s.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jr(e)?"-0":e}}function df(s){return{integerValue:""+s}}function Zu(s,e){return tc(e)?df(e):up(s,e)}class Od{constructor(){this._=void 0}}function wh(s,e,t){return s instanceof gu?function(a,f){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return f&&(y.fields.__previous_value__=f),{mapValue:y}}(t,e):s instanceof _u?qu(s,e):s instanceof $o?Nc(s,e):function(a,f){const y=hf(a,f),M=Qu(y)+Qu(a.yt);return Li(y)&&Li(a.yt)?df(M):up(a.It,M)}(s,e)}function um(s,e,t){return s instanceof _u?qu(s,e):s instanceof $o?Nc(s,e):t}function hf(s,e){return s instanceof sc?Li(t=e)||(a=t)&&"doubleValue"in a?e:{integerValue:0}:null;var a,t}class gu extends Od{}class _u extends Od{constructor(e){super(),this.elements=e}}function qu(s,e){const t=Dh(e);for(const a of s.elements)t.some(f=>Ae(f,a))||t.push(a);return{arrayValue:{values:t}}}class $o extends Od{constructor(e){super(),this.elements=e}}function Nc(s,e){let t=Dh(e);for(const a of s.elements)t=t.filter(f=>!Ae(f,a));return{arrayValue:{values:t}}}class sc extends Od{constructor(e,t){super(),this.It=e,this.yt=t}}function Qu(s){return ci(s.integerValue||s.doubleValue)}function Dh(s){return Ri(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class jl{constructor(e,t){this.field=e,this.transform=t}}class dp{constructor(e,t){this.version=e,this.transformResults=t}}class os{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new os}static exists(e){return new os(void 0,e)}static updateTime(e){return new os(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sl(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class Fc{}function Eh(s,e){if(!s.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return s.isNoDocument()?new Bc(s.key,os.none()):new Pd(s.key,s.data,os.none());{const t=s.data,a=us.empty();let f=new te(wr.comparator);for(let y of e.fields)if(!f.has(y)){let M=t.field(y);null===M&&y.length>1&&(y=y.popLast(),M=t.field(y)),null===M?a.delete(y):a.set(y,M),f=f.add(y)}return new ll(s.key,a,new dt(f.toArray()),os.none())}}function Xu(s,e,t){s instanceof Pd?function(a,f,y){const M=a.value.clone(),U=Ma(a.fieldTransforms,f,y.transformResults);M.setAll(U),f.convertToFoundDocument(y.version,M).setHasCommittedMutations()}(s,e,t):s instanceof ll?function(a,f,y){if(!Sl(a.precondition,f))return void f.convertToUnknownDocument(y.version);const M=Ma(a.fieldTransforms,f,y.transformResults),U=f.data;U.setAll(ya(a)),U.setAll(M),f.convertToFoundDocument(y.version,U).setHasCommittedMutations()}(s,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ju(s,e,t,a){return s instanceof Pd?function(f,y,M,U){if(!Sl(f.precondition,y))return M;const oe=f.value.clone(),ve=Lc(f.fieldTransforms,U,y);return oe.setAll(ve),y.convertToFoundDocument(y.version,oe).setHasLocalMutations(),null}(s,e,t,a):s instanceof ll?function(f,y,M,U){if(!Sl(f.precondition,y))return M;const oe=Lc(f.fieldTransforms,U,y),ve=y.data;return ve.setAll(ya(f)),ve.setAll(oe),y.convertToFoundDocument(y.version,ve).setHasLocalMutations(),null===M?null:M.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map($e=>$e.field))}(s,e,t,a):(M=t,Sl(s.precondition,y=e)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):M);var y,M}function hp(s,e){let t=null;for(const a of s.fieldTransforms){const f=e.data.field(a.field),y=hf(a.transform,f||null);null!=y&&(null===t&&(t=us.empty()),t.set(a.field,y))}return t||null}function fp(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(t=s.fieldTransforms)&&void 0===a||t&&a&&qo(t,a,(f,y)=>function Cg(s,e){return s.field.isEqual(e.field)&&(a=e.transform,(t=s.transform)instanceof _u&&a instanceof _u||t instanceof $o&&a instanceof $o?qo(t.elements,a.elements,Ae):t instanceof sc&&a instanceof sc?Ae(t.yt,a.yt):t instanceof gu&&a instanceof gu);var t,a}(f,y))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var t,a}class Pd extends Fc{constructor(e,t,a,f=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=f,this.type=0}getFieldMask(){return null}}class ll extends Fc{constructor(e,t,a,f,y=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=f,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function ya(s){const e=new Map;return s.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=s.data.field(t);e.set(t,a)}}),e}function Ma(s,e,t){const a=new Map;Ei(s.length===t.length);for(let f=0;f<t.length;f++){const y=s[f],M=y.transform,U=e.data.field(y.field);a.set(y.field,um(M,U,t[f]))}return a}function Lc(s,e,t){const a=new Map;for(const f of s){const y=f.transform,M=t.data.field(f.field);a.set(f.field,wh(y,M,e))}return a}class Bc extends Fc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ds extends Fc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class R{constructor(e){this.count=e}}var b,E;function B(s){switch(s){default:return ti();case cn.CANCELLED:case cn.UNKNOWN:case cn.DEADLINE_EXCEEDED:case cn.RESOURCE_EXHAUSTED:case cn.INTERNAL:case cn.UNAVAILABLE:case cn.UNAUTHENTICATED:return!1;case cn.INVALID_ARGUMENT:case cn.NOT_FOUND:case cn.ALREADY_EXISTS:case cn.PERMISSION_DENIED:case cn.FAILED_PRECONDITION:case cn.ABORTED:case cn.OUT_OF_RANGE:case cn.UNIMPLEMENTED:case cn.DATA_LOSS:return!0}}function me(s){if(void 0===s)return Qi("GRPC error has no .code"),cn.UNKNOWN;switch(s){case b.OK:return cn.OK;case b.CANCELLED:return cn.CANCELLED;case b.UNKNOWN:return cn.UNKNOWN;case b.DEADLINE_EXCEEDED:return cn.DEADLINE_EXCEEDED;case b.RESOURCE_EXHAUSTED:return cn.RESOURCE_EXHAUSTED;case b.INTERNAL:return cn.INTERNAL;case b.UNAVAILABLE:return cn.UNAVAILABLE;case b.UNAUTHENTICATED:return cn.UNAUTHENTICATED;case b.INVALID_ARGUMENT:return cn.INVALID_ARGUMENT;case b.NOT_FOUND:return cn.NOT_FOUND;case b.ALREADY_EXISTS:return cn.ALREADY_EXISTS;case b.PERMISSION_DENIED:return cn.PERMISSION_DENIED;case b.FAILED_PRECONDITION:return cn.FAILED_PRECONDITION;case b.ABORTED:return cn.ABORTED;case b.OUT_OF_RANGE:return cn.OUT_OF_RANGE;case b.UNIMPLEMENTED:return cn.UNIMPLEMENTED;case b.DATA_LOSS:return cn.DATA_LOSS;default:return ti()}}(E=b||(b={}))[E.OK=0]="OK",E[E.CANCELLED=1]="CANCELLED",E[E.UNKNOWN=2]="UNKNOWN",E[E.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",E[E.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",E[E.NOT_FOUND=5]="NOT_FOUND",E[E.ALREADY_EXISTS=6]="ALREADY_EXISTS",E[E.PERMISSION_DENIED=7]="PERMISSION_DENIED",E[E.UNAUTHENTICATED=16]="UNAUTHENTICATED",E[E.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",E[E.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",E[E.ABORTED=10]="ABORTED",E[E.OUT_OF_RANGE=11]="OUT_OF_RANGE",E[E.UNIMPLEMENTED=12]="UNIMPLEMENTED",E[E.INTERNAL=13]="INTERNAL",E[E.UNAVAILABLE=14]="UNAVAILABLE",E[E.DATA_LOSS=15]="DATA_LOSS";class Ee{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0!==a)for(const[f,y]of a)if(this.equalsFn(f,e))return y}has(e){return void 0!==this.get(e)}set(e,t){const a=this.mapKeyFn(e),f=this.inner[a];if(void 0===f)return this.inner[a]=[[e,t]],void this.innerSize++;for(let y=0;y<f.length;y++)if(this.equalsFn(f[y][0],e))return void(f[y]=[e,t]);f.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0===a)return!1;for(let f=0;f<a.length;f++)if(this.equalsFn(a[f][0],e))return 1===a.length?delete this.inner[t]:a.splice(f,1),this.innerSize--,!0;return!1}forEach(e){mo(this.inner,(t,a)=>{for(const[f,y]of a)e(f,y)})}isEmpty(){return F(this.inner)}size(){return this.innerSize}}const xt=new L(zn.comparator);function sn(){return xt}const Zn=new L(zn.comparator);function Vn(...s){let e=Zn;for(const t of s)e=e.insert(t.key,t);return e}function wi(s){let e=Zn;return s.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function mi(){return Bs()}function Dr(){return Bs()}function Bs(){return new Ee(s=>s.toString(),(s,e)=>s.isEqual(e))}const Xs=new L(zn.comparator),Js=new te(zn.comparator);function $i(...s){let e=Js;for(const t of s)e=e.add(t);return e}const ed=new te(Si);function vu(){return ed}class Mo{constructor(e,t,a,f,y){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=f,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const f=new Map;return f.set(e,ta.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new Mo(bi.min(),f,vu(),sn(),$i())}}class ta{constructor(e,t,a,f,y){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=f,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new ta(a,t,$i(),$i(),$i())}}class Ga{constructor(e,t,a,f){this.Tt=e,this.removedTargetIds=t,this.key=a,this.Et=f}}class yu{constructor(e,t){this.targetId=e,this.At=t}}class $l{constructor(e,t,a=xn.EMPTY_BYTE_STRING,f=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=f}}class bu{constructor(){this.Rt=0,this.bt=Sh(),this.Pt=xn.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=$i(),t=$i(),a=$i();return this.bt.forEach((f,y)=>{switch(y){case 0:e=e.add(f);break;case 2:t=t.add(f);break;case 1:a=a.add(f);break;default:ti()}}),new ta(this.Pt,this.vt,e,t,a)}Nt(){this.Vt=!1,this.bt=Sh()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Tl{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=sn(),this.qt=eo(),this.Kt=new te(Si)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const a=this.zt(t);switch(e.state){case 0:this.Ht(t)&&a.Ct(e.resumeToken);break;case 1:a.Ft(),a.St||a.Nt(),a.Ct(e.resumeToken);break;case 2:a.Ft(),a.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(a.$t(),a.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),a.Ct(e.resumeToken));break;default:ti()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((a,f)=>{this.Ht(f)&&t(f)})}Yt(e){const t=e.targetId,a=e.At.count,f=this.Xt(t);if(f){const y=f.target;if(du(y))if(0===a){const M=new zn(y.path);this.jt(t,M,vr.newNoDocument(M,bi.min()))}else Ei(1===a);else this.Zt(t)!==a&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((y,M)=>{const U=this.Xt(M);if(U){if(y.current&&du(U.target)){const oe=new zn(U.target.path);null!==this.Ut.get(oe)||this.ee(M,oe)||this.jt(M,oe,vr.newNoDocument(oe,e))}y.Dt&&(t.set(M,y.xt()),y.Nt())}});let a=$i();this.qt.forEach((y,M)=>{let U=!0;M.forEachWhile(oe=>{const ve=this.Xt(oe);return!ve||2===ve.purpose||(U=!1,!1)}),U&&(a=a.add(y))}),this.Ut.forEach((y,M)=>M.setReadTime(e));const f=new Mo(e,t,this.Kt,this.Ut,a);return this.Ut=sn(),this.qt=eo(),this.Kt=new te(Si),f}Qt(e,t){if(!this.Ht(e))return;const a=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,a),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,a){if(!this.Ht(e))return;const f=this.zt(e);this.ee(e,t)?f.kt(t,1):f.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),a&&(this.Ut=this.Ut.insert(t,a))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new bu,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new te(Si),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||On("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new bu),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function eo(){return new L(zn.comparator)}function Sh(){return new L(zn.comparator)}const Th={asc:"ASCENDING",desc:"DESCENDING"},N_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class dm{constructor(e,t){this.databaseId=e,this.gt=t}}function td(s,e){return s.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cu(s,e){return s.gt?e.toBase64():e.toUint8Array()}function Mh(s,e){return td(s,e.toTimestamp())}function bs(s){return Ei(!!s),bi.fromTimestamp(function(e){const t=Wn(e);return new kr(t.seconds,t.nanos)}(s))}function wu(s,e){return(t=s,new vi(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function hm(s){const e=vi.fromString(s);return Ei(yp(e)),e}function Ml(s,e){return wu(s.databaseId,e.path)}function Ia(s,e){const t=hm(e);if(t.get(1)!==s.databaseId.projectId)throw new Sn(cn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new Sn(cn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new zn(mp(t))}function pp(s,e){return wu(s.databaseId,e)}function Nd(s){const e=hm(s);return 4===e.length?vi.emptyPath():mp(e)}function Du(s){return new vi(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function mp(s){return Ei(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function Il(s,e,t){return{name:Ml(s,e),fields:t.value.mapValue.fields}}function ff(s,e,t){const a=Ia(s,e.name),f=bs(e.updateTime),y=new us({mapValue:{fields:e.fields}}),M=vr.newFoundDocument(a,f,y);return t&&M.setHasCommittedMutations(),t?M.setHasCommittedMutations():M}function Fd(s,e){let t;if(e instanceof Pd)t={update:Il(s,e.key,e.value)};else if(e instanceof Bc)t={delete:Ml(s,e.key)};else if(e instanceof ll)t={update:Il(s,e.key,e.data),updateMask:vp(e.fieldMask)};else{if(!(e instanceof ds))return ti();t={verify:Ml(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(f,y){const M=y.transform;if(M instanceof gu)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(M instanceof _u)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:M.elements}};if(M instanceof $o)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:M.elements}};if(M instanceof sc)return{fieldPath:y.field.canonicalString(),increment:M.yt};throw ti()}(0,a))),e.precondition.isNone||(t.currentDocument=void 0!==(f=e.precondition).updateTime?{updateTime:Mh(s,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:ti()),t;var f}function pm(s,e){const t=e.currentDocument?void 0!==(f=e.currentDocument).updateTime?os.updateTime(bs(f.updateTime)):void 0!==f.exists?os.exists(f.exists):os.none():os.none(),a=e.updateTransforms?e.updateTransforms.map(f=>function(y,M){let U=null;"setToServerValue"in M?(Ei("REQUEST_TIME"===M.setToServerValue),U=new gu):"appendMissingElements"in M?U=new _u(M.appendMissingElements.values||[]):"removeAllFromArray"in M?U=new $o(M.removeAllFromArray.values||[]):"increment"in M?U=new sc(y,M.increment):ti();const oe=wr.fromServerFormat(M.fieldPath);return new jl(oe,U)}(s,f)):[];var f;if(e.update){const f=Ia(s,e.update.name),y=new us({mapValue:{fields:e.update.fields}});if(e.updateMask){const M=new dt((e.updateMask.fieldPaths||[]).map(ve=>wr.fromServerFormat(ve)));return new ll(f,y,M,t,a)}return new Pd(f,y,t,a)}if(e.delete){const f=Ia(s,e.delete);return new Bc(f,t)}if(e.verify){const f=Ia(s,e.verify);return new ds(f,t)}return ti()}function Ld(s,e){return{documents:[pp(s,e.path)]}}function _p(s,e){const t={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(t.parent=pp(s,a),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=pp(s,a.popLast()),t.structuredQuery.from=[{collectionId:a.lastSegment()}]);const f=function(oe){if(0===oe.length)return;const ve=oe.map($e=>function(yt){if("=="===yt.op){if(ms(yt.value))return{unaryFilter:{field:nd(yt.field),op:"IS_NAN"}};if(Ci(yt.value))return{unaryFilter:{field:nd(yt.field),op:"IS_NULL"}}}else if("!="===yt.op){if(ms(yt.value))return{unaryFilter:{field:nd(yt.field),op:"IS_NOT_NAN"}};if(Ci(yt.value))return{unaryFilter:{field:nd(yt.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nd(yt.field),op:Ih(yt.op),value:yt.value}}}($e));return 1===ve.length?ve[0]:{compositeFilter:{op:"AND",filters:ve}}}(e.filters);f&&(t.structuredQuery.where=f);const y=function(oe){if(0!==oe.length)return oe.map(ve=>{return{field:nd(($e=ve).field),direction:Dg($e.dir)};var $e})}(e.orderBy);y&&(t.structuredQuery.orderBy=y);const M=(ve=e.limit,s.gt||va(ve)?ve:{value:ve});var ve,U,oe;return null!==M&&(t.structuredQuery.limit=M),e.startAt&&(t.structuredQuery.startAt={before:(U=e.startAt).inclusive,values:U.position}),e.endAt&&(t.structuredQuery.endAt={before:!(oe=e.endAt).inclusive,values:oe.position}),t}function Eu(s){let e=Nd(s.parent);const t=s.structuredQuery,a=t.from?t.from.length:0;let f=null;if(a>0){Ei(1===a);const $e=t.from[0];$e.allDescendants?f=$e.collectionId:e=e.child($e.collectionId)}let y=[];t.where&&(y=mf(t.where));let M=[];t.orderBy&&(M=t.orderBy.map($e=>{return new al(id((yt=$e).field),function(Yt){switch(Yt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(yt.direction));var yt}));let U=null;t.limit&&(U=function($e){let yt;return yt="object"==typeof $e?$e.value:$e,va(yt)?null:yt}(t.limit));let oe=null;var $e;t.startAt&&(oe=new Dl(($e=t.startAt).values||[],!!$e.before));let ve=null;return t.endAt&&(ve=function($e){return new Dl($e.values||[],!$e.before)}(t.endAt)),bg(e,f,M,y,U,"F",oe,ve)}function mf(s){return s?void 0!==s.unaryFilter?[mm(s)]:void 0!==s.fieldFilter?[F_(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(e=>mf(e)).reduce((e,t)=>e.concat(t)):ti():[]}function Dg(s){return Th[s]}function Ih(s){return N_[s]}function nd(s){return{fieldPath:s.canonicalString()}}function id(s){return wr.fromServerFormat(s.fieldPath)}function F_(s){return go.create(id(s.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ti()}}(s.fieldFilter.op),s.fieldFilter.value)}function mm(s){switch(s.unaryFilter.op){case"IS_NAN":const e=id(s.unaryFilter.field);return go.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=id(s.unaryFilter.field);return go.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=id(s.unaryFilter.field);return go.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=id(s.unaryFilter.field);return go.create(f,"!=",{nullValue:"NULL_VALUE"});default:return ti()}}function vp(s){const e=[];return s.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function yp(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function za(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=gf(e)),e=L_(s.get(t),e);return gf(e)}function L_(s,e){let t=e;const a=s.length;for(let f=0;f<a;f++){const y=s.charAt(f);switch(y){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=y}}return t}function gf(s){return s+"\x01\x01"}function Vc(s){const e=s.length;if(Ei(e>=2),2===e)return Ei("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),vi.emptyPath();const t=e-2,a=[];let f="";for(let y=0;y<e;){const M=s.indexOf("\x01",y);switch((M<0||M>t)&&ti(),s.charAt(M+1)){case"\x01":const U=s.substring(y,M);let oe;0===f.length?oe=U:(f+=U,oe=f,f=""),a.push(oe);break;case"\x10":f+=s.substring(y,M),f+="\0";break;case"\x11":f+=s.substring(y,M+1);break;default:ti()}y=M+2}return new vi(a)}const bp=["userId","batchId"];function xh(s,e){return[s,za(e)]}function Eg(s,e,t){return[s,za(e),t]}const Rv={},Ov=["prefixPath","collectionGroup","readTime","documentId"],Pv=["prefixPath","collectionGroup","documentId"],Sg=["collectionGroup","readTime","prefixPath","documentId"],Tg=["canonicalId","targetId"],Mg=["targetId","path"],gm=["path","targetId"],Ig=["collectionId","parent"],Su=["indexId","uid"],_f=["uid","sequenceNumber"],Cp=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],xg=["indexId","uid","orderedDocumentKey"],Ah=["userId","collectionPath","documentId"],oc=["userId","collectionPath","largestBatchId"],Ag=["userId","collectionGroup","largestBatchId"],kg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],B_=[...kg,"documentOverlays"],_m=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vf=_m,vm=[...vf,"indexConfiguration","indexState","indexEntries"];class yf extends Jl{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Go(s,e){const t=Qn(s);return jo.M(t.ie,e)}class Bd{constructor(e,t,a,f){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=f}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let f=0;f<this.mutations.length;f++){const y=this.mutations[f];y.key.isEqual(e.key)&&Xu(y,e,a[f])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=Ju(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=Ju(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=Dr();return this.mutations.forEach(f=>{const y=e.get(f.key),M=y.overlayedDocument;let U=this.applyToLocalView(M,y.mutatedFields);U=t.has(f.key)?null:U;const oe=Eh(M,U);null!==oe&&a.set(f.key,oe),M.isValidDocument()||M.convertToNoDocument(bi.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$i())}isEqual(e){return this.batchId===e.batchId&&qo(this.mutations,e.mutations,(t,a)=>fp(t,a))&&qo(this.baseMutations,e.baseMutations,(t,a)=>fp(t,a))}}class ym{constructor(e,t,a,f){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=f}static from(e,t,a){Ei(e.mutations.length===a.length);let f=Xs;const y=e.mutations;for(let M=0;M<y.length;M++)f=f.insert(y[M].key,a[M].version);return new ym(e,t,a,f)}}class wp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Tu{constructor(e,t,a,f,y=bi.min(),M=bi.min(),U=xn.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=f,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=M,this.resumeToken=U}withSequenceNumber(e){return new Tu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Tu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Tu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Vd{constructor(e){this.re=e}}function Cm(s,e){const t=e.key,a={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:zo(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:Ml(f=s.re,(y=e).key),fields:y.data.value.mapValue.fields,updateTime:td(f,y.version.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:t.path.toArray(),readTime:Uc(e.version)};else{if(!e.isUnknownDocument())return ti();a.unknownDocument={path:t.path.toArray(),version:Uc(e.version)}}var f,y;return a}function zo(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function Uc(s){const e=s.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Mu(s){const e=new kr(s.seconds,s.nanoseconds);return bi.fromTimestamp(e)}function Gl(s,e){const t=(e.baseMutations||[]).map(y=>pm(s.re,y));for(let y=0;y<e.mutations.length-1;++y){const M=e.mutations[y];y+1<e.mutations.length&&void 0!==e.mutations[y+1].transform&&(M.updateTransforms=e.mutations[y+1].transform.fieldTransforms,e.mutations.splice(y+1,1),++y)}const a=e.mutations.map(y=>pm(s.re,y)),f=kr.fromMillis(e.localWriteTimeMs);return new Bd(e.batchId,f,t,a)}function _o(s){const e=Mu(s.readTime),t=void 0!==s.lastLimboFreeSnapshotVersion?Mu(s.lastLimboFreeSnapshotVersion):bi.min();let a;var f;return void 0!==s.query.documents?(Ei(1===(f=s.query).documents.length),a=ea(Hl(Nd(f.documents[0])))):a=ea(Eu(s.query)),new Tu(a,s.targetId,0,s.lastListenSequenceNumber,e,t,xn.fromBase64String(s.resumeToken))}function Ud(s,e){const t=Uc(e.snapshotVersion),a=Uc(e.lastLimboFreeSnapshotVersion);let f;f=du(e.target)?Ld(s.re,e.target):_p(s.re,e.target);const y=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ic(e.target),readTime:t,resumeToken:y,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:f}}function Tr(s){const e=Eu({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?Ku(e,e.limit,"L"):e}function Rr(s,e){return new wp(e.largestBatchId,pm(s.re,e.overlayMutation))}function ar(s,e){const t=e.path.lastSegment();return[s,za(e.path.popLast()),t]}function Hc(s,e,t,a){return{indexId:s,uid:e.uid||"",sequenceNumber:t,readTime:Uc(a.readTime),documentKey:za(a.documentKey.path),largestBatchId:a.largestBatchId}}class hs{getBundleMetadata(e,t){return bf(e).get(t).next(a=>{if(a)return{id:(f=a).bundleId,createTime:Mu(f.createTime),version:f.version};var f})}saveBundleMetadata(e,t){return bf(e).put({bundleId:(a=t).id,createTime:Uc(bs(a.createTime)),version:a.version});var a}getNamedQuery(e,t){return Rg(e).get(t).next(a=>{if(a)return{name:(f=a).name,query:Tr(f.bundledQuery),readTime:Mu(f.readTime)};var f})}saveNamedQuery(e,t){return Rg(e).put({name:(a=t).name,readTime:Uc(bs(a.readTime)),bundledQuery:a.bundledQuery});var a}}function bf(s){return Go(s,"bundles")}function Rg(s){return Go(s,"namedQueries")}class Iu{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Iu(e,t.uid||"")}getOverlay(e,t){return kh(e).get(ar(this.userId,t)).next(a=>a?Rr(this.It,a):null)}getOverlays(e,t){const a=mi();return on.forEach(t,f=>this.getOverlay(e,f).next(y=>{null!==y&&a.set(f,y)})).next(()=>a)}saveOverlays(e,t,a){const f=[];return a.forEach((y,M)=>{const U=new wp(t,M);f.push(this.ue(e,U))}),on.waitFor(f)}removeOverlaysForBatchId(e,t,a){const f=new Set;t.forEach(M=>f.add(za(M.getCollectionPath())));const y=[];return f.forEach(M=>{const U=IDBKeyRange.bound([this.userId,M,a],[this.userId,M,a+1],!1,!0);y.push(kh(e).Y("collectionPathOverlayIndex",U))}),on.waitFor(y)}getOverlaysForCollection(e,t,a){const f=mi(),y=za(t),M=IDBKeyRange.bound([this.userId,y,a],[this.userId,y,Number.POSITIVE_INFINITY],!0);return kh(e).W("collectionPathOverlayIndex",M).next(U=>{for(const oe of U){const ve=Rr(this.It,oe);f.set(ve.getKey(),ve)}return f})}getOverlaysForCollectionGroup(e,t,a,f){const y=mi();let M;const U=IDBKeyRange.bound([this.userId,t,a],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kh(e).Z({index:"collectionGroupOverlayIndex",range:U},(oe,ve,$e)=>{const yt=Rr(this.It,ve);y.size()<f||yt.largestBatchId===M?(y.set(yt.getKey(),yt),M=yt.largestBatchId):$e.done()}).next(()=>y)}ue(e,t){return kh(e).put(function(a,f,y){const[M,U,oe]=ar(f,y.mutation.key);return{userId:f,collectionPath:U,documentId:oe,collectionGroup:y.mutation.key.getCollectionGroup(),largestBatchId:y.largestBatchId,overlayMutation:Fd(a.re,y.mutation)}}(this.It,this.userId,t))}}function kh(s){return Go(s,"documentOverlays")}class Zr{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(ci(e.integerValue));else if("doubleValue"in e){const a=ci(e.doubleValue);isNaN(a)?this.le(t,13):(this.le(t,15),Jr(a)?t.fe(0):t.fe(a))}else if("timestampValue"in e){const a=e.timestampValue;this.le(t,20),"string"==typeof a?t.de(a):(t.de(`${a.seconds||""}`),t.fe(a.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Ui(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const a=e.geoPointValue;this.le(t,45),t.fe(a.latitude||0),t.fe(a.longitude||0)}else"mapValue"in e?Ha(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):ti()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const a=e.fields||{};this.le(t,55);for(const f of Object.keys(a))this._e(f,t),this.ae(a[f],t)}pe(e,t){const a=e.values||[];this.le(t,50);for(const f of a)this.ae(f,t)}ge(e,t){this.le(t,37),zn.fromName(e).path.forEach(a=>{this.le(t,60),this.Ie(a,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function lr(s){if(0===s)return 8;let e=0;return s>>4==0&&(e+=4,s<<=4),s>>6==0&&(e+=2,s<<=2),s>>7==0&&(e+=1),e}function xa(s){const e=64-function(t){let a=0;for(let f=0;f<8;++f){const y=lr(255&t[f]);if(a+=y,8!==y)break}return a}(s);return Math.ceil(e/8)}Zr.Te=new Zr;class xu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this.Ae(a.value),a=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this.Pe(a.value),a=t.next();this.ve()}Ve(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this.Ae(a);else if(a<2048)this.Ae(960|a>>>6),this.Ae(128|63&a);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a);else{const f=t.codePointAt(0);this.Ae(240|f>>>18),this.Ae(128|63&f>>>12),this.Ae(128|63&f>>>6),this.Ae(128|63&f)}}this.Re()}Se(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this.Pe(a);else if(a<2048)this.Pe(960|a>>>6),this.Pe(128|63&a);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a);else{const f=t.codePointAt(0);this.Pe(240|f>>>18),this.Pe(128|63&f>>>12),this.Pe(128|63&f>>>6),this.Pe(128|63&f)}}this.ve()}De(e){const t=this.Ce(e),a=xa(t);this.xe(1+a),this.buffer[this.position++]=255&a;for(let f=t.length-a;f<t.length;++f)this.buffer[this.position++]=255&t[f]}Ne(e){const t=this.Ce(e),a=xa(t);this.xe(1+a),this.buffer[this.position++]=~(255&a);for(let f=t.length-a;f<t.length;++f)this.buffer[this.position++]=~(255&t[f])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(f){const y=new DataView(new ArrayBuffer(8));return y.setFloat64(0,f,!1),new Uint8Array(y.buffer)}(e),a=0!=(128&t[0]);t[0]^=a?255:128;for(let f=1;f<t.length;++f)t[f]^=a?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let a=2*this.buffer.length;a<t&&(a=t);const f=new Uint8Array(a);f.set(this.buffer),this.buffer=f}}class rd{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class zs{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Rh{constructor(){this.Be=new xu,this.Le=new rd(this.Be),this.Ue=new zs(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class sd{constructor(e,t,a,f){this.indexId=e,this.documentKey=t,this.arrayValue=a,this.directionalValue=f}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(t);return a.set(this.directionalValue,0),t!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new sd(this.indexId,this.documentKey,this.arrayValue,a)}}function Oh(s,e){let t=s.indexId-e.indexId;return 0!==t?t:(t=Og(s.arrayValue,e.arrayValue),0!==t?t:(t=Og(s.directionalValue,e.directionalValue),0!==t?t:zn.comparator(s.documentKey,e.documentKey)))}function Og(s,e){for(let t=0;t<s.length&&t<e.length;++t){const a=s[t]-e[t];if(0!==a)return a}return s.length-e.length}class jc{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const a=t;a.dt()?this.je=a:this.Qe.push(a)}}We(e){const t=Ea(e);if(void 0!==t&&!this.ze(t))return!1;const a=Xo(e);let f=0,y=0;for(;f<a.length&&this.ze(a[f]);++f);if(f===a.length)return!0;if(void 0!==this.je){const M=a[f];if(!this.He(this.je,M)||!this.Je(this.Ge[y++],M))return!1;++f}for(;f<a.length;++f){const M=a[f];if(y>=this.Ge.length||!this.Je(this.Ge[y++],M))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class wm{constructor(){this.Ye=new ba}addToCollectionParentIndex(e,t){return this.Ye.add(t),on.resolve()}getCollectionParents(e,t){return on.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return on.resolve()}deleteFieldIndex(e,t){return on.resolve()}getDocumentsMatchingTarget(e,t){return on.resolve(null)}getIndexType(e,t){return on.resolve(0)}getFieldIndexes(e,t){return on.resolve([])}getNextCollectionGroupToUpdate(e){return on.resolve(null)}getMinOffset(e,t){return on.resolve(uo.min())}getMinOffsetFromCollectionGroup(e,t){return on.resolve(uo.min())}updateCollectionGroup(e,t,a){return on.resolve()}updateIndexEntries(e,t){return on.resolve()}}class ba{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),f=this.index[t]||new te(vi.comparator),y=!f.has(a);return this.index[t]=f.add(a),y}has(e){const t=e.lastSegment(),a=e.popLast(),f=this.index[t];return f&&f.has(a)}getEntries(e){return(this.index[e]||new te(vi.comparator)).toArray()}}const Hd=new Uint8Array(0);class Cf{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new ba,this.Ze=new Ee(a=>ic(a),(a,f)=>Oc(a,f)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const a=t.lastSegment(),f=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const y={collectionId:a,parent:za(f)};return Dm(e).put(y)}return on.resolve()}getCollectionParents(e,t){const a=[],f=IDBKeyRange.bound([t,""],[rl(t),""],!1,!0);return Dm(e).W(f).next(y=>{for(const M of y){if(M.collectionId!==t)break;a.push(Vc(M.parent))}return a})}addFieldIndex(e,t){const a=$c(e),f={indexId:(M=t).indexId,collectionGroup:M.collectionGroup,fields:M.fields.map(U=>[U.fieldPath.canonicalString(),U.kind])};var M;delete f.indexId;const y=a.add(f);if(t.indexState){const M=ac(e);return y.next(U=>{M.put(Hc(U,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return y.next()}deleteFieldIndex(e,t){const a=$c(e),f=ac(e),y=Au(e);return a.delete(t.indexId).next(()=>f.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const a=Au(e);let f=!0;const y=new Map;return on.forEach(this.tn(t),M=>this.en(e,M).next(U=>{f&&(f=!!U),y.set(M,U)})).next(()=>{if(f){let M=$i();const U=[];return on.forEach(y,(oe,ve)=>{var $e;On("IndexedDbIndexManager",`Using index ${$e=oe,`id=${$e.indexId}|cg=${$e.collectionGroup}|f=${$e.fields.map(ei=>`${ei.fieldPath}:${ei.kind}`).join(",")}`} to execute ${ic(t)}`);const yt=function(ei,Ti){const ki=Ea(Ti);if(void 0===ki)return null;for(const rr of zu(ei,ki.fieldPath))switch(rr.op){case"array-contains-any":return rr.value.arrayValue.values||[];case"array-contains":return[rr.value]}return null}(ve,oe),Yt=function(ei,Ti){const ki=new Map;for(const rr of Xo(Ti))for(const Gr of zu(ei,rr.fieldPath))switch(Gr.op){case"==":case"in":ki.set(rr.fieldPath.canonicalString(),Gr.value);break;case"not-in":case"!=":return ki.set(rr.fieldPath.canonicalString(),Gr.value),Array.from(ki.values())}return null}(ve,oe),vn=function(ei,Ti){const ki=[];let rr=!0;for(const Gr of Xo(Ti)){const ql=0===Gr.kind?Ad(ei,Gr.fieldPath,ei.startAt):vh(ei,Gr.fieldPath,ei.startAt);ki.push(ql.value),rr&&(rr=ql.inclusive)}return new Dl(ki,rr)}(ve,oe),Dn=function(ei,Ti){const ki=[];let rr=!0;for(const Gr of Xo(Ti)){const ql=0===Gr.kind?vh(ei,Gr.fieldPath,ei.endAt):Ad(ei,Gr.fieldPath,ei.endAt);ki.push(ql.value),rr&&(rr=ql.inclusive)}return new Dl(ki,rr)}(ve,oe),ni=this.nn(oe,ve,vn),fi=this.nn(oe,ve,Dn),Un=this.sn(oe,ve,Yt),Jn=this.rn(oe.indexId,yt,ni,vn.inclusive,fi,Dn.inclusive,Un);return on.forEach(Jn,ei=>a.J(ei,t.limit).next(Ti=>{Ti.forEach(ki=>{const rr=zn.fromSegments(ki.documentKey);M.has(rr)||(M=M.add(rr),U.push(rr))})}))}).next(()=>U)}return on.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,a,f,y,M,U){const oe=(null!=t?t.length:1)*Math.max(a.length,y.length),ve=oe/(null!=t?t.length:1),$e=[];for(let yt=0;yt<oe;++yt){const Yt=t?this.on(t[yt/ve]):Hd,vn=this.un(e,Yt,a[yt%ve],f),Dn=this.cn(e,Yt,y[yt%ve],M),ni=U.map(fi=>this.un(e,Yt,fi,!0));$e.push(...this.createRange(vn,Dn,ni))}return $e}un(e,t,a,f){const y=new sd(e,zn.empty(),t,a);return f?y:y.Ke()}cn(e,t,a,f){const y=new sd(e,zn.empty(),t,a);return f?y.Ke():y}en(e,t){const a=new jc(t),f=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,f).next(y=>{let M=null;for(const U of y)a.We(U)&&(!M||U.fields.length>M.fields.length)&&(M=U);return M})}getIndexType(e,t){let a=2;return on.forEach(this.tn(t),f=>this.en(e,f).next(y=>{y?0!==a&&y.fields.length<function(M){let U=new te(wr.comparator),oe=!1;for(const ve of M.filters){const $e=ve;$e.field.isKeyField()||("array-contains"===$e.op||"array-contains-any"===$e.op?oe=!0:U=U.add($e.field))}for(const ve of M.orderBy)ve.field.isKeyField()||(U=U.add(ve.field));return U.size+(oe?1:0)}(f)&&(a=1):a=0})).next(()=>a)}an(e,t){const a=new Rh;for(const f of Xo(e)){const y=t.data.field(f.fieldPath);if(null==y)return null;const M=a.qe(f.kind);Zr.Te.ce(y,M)}return a.$e()}on(e){const t=new Rh;return Zr.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const a=new Rh;return Zr.Te.ce(gi(this.databaseId,t),a.qe(function(f){const y=Xo(f);return 0===y.length?0:y[y.length-1].kind}(e))),a.$e()}sn(e,t,a){if(null===a)return[];let f=[];f.push(new Rh);let y=0;for(const M of Xo(e)){const U=a[y++];for(const oe of f)if(this.ln(t,M.fieldPath)&&Ri(U))f=this.fn(f,M,U);else{const ve=oe.qe(M.kind);Zr.Te.ce(U,ve)}}return this.dn(f)}nn(e,t,a){return this.sn(e,t,a.position)}dn(e){const t=[];for(let a=0;a<e.length;++a)t[a]=e[a].$e();return t}fn(e,t,a){const f=[...e],y=[];for(const M of a.arrayValue.values||[])for(const U of f){const oe=new Rh;oe.seed(U.$e()),Zr.Te.ce(M,oe.qe(t.kind)),y.push(oe)}return y}ln(e,t){return!!e.filters.find(a=>a instanceof go&&a.field.isEqual(t)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,t){const a=$c(e),f=ac(e);return(t?a.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):a.W()).next(y=>{const M=[];return on.forEach(y,U=>f.get([U.indexId,this.uid]).next(oe=>{M.push(function(ve,$e){const yt=$e?new bl($e.sequenceNumber,new uo(Mu($e.readTime),new zn(Vc($e.documentKey)),$e.largestBatchId)):bl.empty(),Yt=ve.fields.map(([vn,Dn])=>new _a(wr.fromServerFormat(vn),Dn));return new Qo(ve.indexId,ve.collectionGroup,Yt,yt)}(U,oe))})).next(()=>M)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((a,f)=>{const y=a.indexState.sequenceNumber-f.indexState.sequenceNumber;return 0!==y?y:Si(a.collectionGroup,f.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,a){const f=$c(e),y=ac(e);return this._n(e).next(M=>f.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(U=>on.forEach(U,oe=>y.put(Hc(oe.indexId,this.user,M,a)))))}updateIndexEntries(e,t){const a=new Map;return on.forEach(t,(f,y)=>{const M=a.get(f.collectionGroup);return(M?on.resolve(M):this.getFieldIndexes(e,f.collectionGroup)).next(U=>(a.set(f.collectionGroup,U),on.forEach(U,oe=>this.wn(e,f,oe).next(ve=>{const $e=this.mn(y,oe);return ve.isEqual($e)?on.resolve():this.gn(e,y,oe,ve,$e)}))))})}yn(e,t,a,f){return Au(e).put({indexId:f.indexId,uid:this.uid,arrayValue:f.arrayValue,directionalValue:f.directionalValue,orderedDocumentKey:this.hn(a,t.key),documentKey:t.key.path.toArray()})}pn(e,t,a,f){return Au(e).delete([f.indexId,this.uid,f.arrayValue,f.directionalValue,this.hn(a,t.key),t.key.path.toArray()])}wn(e,t,a){const f=Au(e);let y=new te(Oh);return f.Z({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.hn(a,t)])},(M,U)=>{y=y.add(new sd(a.indexId,t,U.arrayValue,U.directionalValue))}).next(()=>y)}mn(e,t){let a=new te(Oh);const f=this.an(t,e);if(null==f)return a;const y=Ea(t);if(null!=y){const M=e.data.field(y.fieldPath);if(Ri(M))for(const U of M.arrayValue.values||[])a=a.add(new sd(t.indexId,e.key,this.on(U),f))}else a=a.add(new sd(t.indexId,e.key,Hd,f));return a}gn(e,t,a,f,y){On("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const M=[];return function(U,oe,ve,$e,yt){const Yt=U.getIterator(),vn=oe.getIterator();let Dn=tt(Yt),ni=tt(vn);for(;Dn||ni;){let fi=!1,Un=!1;if(Dn&&ni){const Jn=ve(Dn,ni);Jn<0?Un=!0:Jn>0&&(fi=!0)}else null!=Dn?Un=!0:fi=!0;fi?($e(ni),ni=tt(vn)):Un?(yt(Dn),Dn=tt(Yt)):(Dn=tt(Yt),ni=tt(vn))}}(f,y,Oh,U=>{M.push(this.yn(e,t,a,U))},U=>{M.push(this.pn(e,t,a,U))}),on.waitFor(M)}_n(e){let t=1;return ac(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,f,y)=>{y.done(),t=f.sequenceNumber+1}).next(()=>t)}createRange(e,t,a){a=a.sort((M,U)=>Oh(M,U)).filter((M,U,oe)=>!U||0!==Oh(M,oe[U-1]));const f=[];f.push(e);for(const M of a){const U=Oh(M,e),oe=Oh(M,t);if(0===U)f[0]=e.Ke();else if(U>0&&oe<0)f.push(M),f.push(M.Ke());else if(oe>0)break}f.push(t);const y=[];for(let M=0;M<f.length;M+=2)y.push(IDBKeyRange.bound([f[M].indexId,this.uid,f[M].arrayValue,f[M].directionalValue,Hd,[]],[f[M+1].indexId,this.uid,f[M+1].arrayValue,f[M+1].directionalValue,Hd,[]]));return y}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(cl)}getMinOffset(e,t){return on.mapArray(this.tn(t),a=>this.en(e,a).next(f=>f||ti())).next(cl)}}function Dm(s){return Go(s,"collectionParents")}function Au(s){return Go(s,"indexEntries")}function $c(s){return Go(s,"indexConfiguration")}function ac(s){return Go(s,"indexState")}function cl(s){Ei(0!==s.length);let e=s[0].indexState.offset,t=e.largestBatchId;for(let a=1;a<s.length;a++){const f=s[a].indexState.offset;Ac(f,e)<0&&(e=f),t<f.largestBatchId&&(t=f.largestBatchId)}return new uo(e.readTime,e.documentKey,t)}const Wi={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ws{constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Ws(e,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function od(s,e,t){const a=s.store("mutations"),f=s.store("documentMutations"),y=[],M=IDBKeyRange.only(t.batchId);let U=0;const oe=a.Z({range:M},($e,yt,Yt)=>(U++,Yt.delete()));y.push(oe.next(()=>{Ei(1===U)}));const ve=[];for(const $e of t.mutations){const yt=Eg(e,$e.key.path,t.batchId);y.push(f.delete(yt)),ve.push($e.key)}return on.waitFor(y).next(()=>ve)}function jd(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw ti();e=s.noDocument}return JSON.stringify(e).length}Ws.DEFAULT_COLLECTION_PERCENTILE=10,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ws.DEFAULT=new Ws(41943040,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ws.DISABLED=new Ws(-1,0,0);class vo{constructor(e,t,a,f){this.userId=e,this.It=t,this.indexManager=a,this.referenceDelegate=f,this.In={}}static oe(e,t,a,f){Ei(""!==e.uid);const y=e.isAuthenticated()?e.uid:"";return new vo(y,t,a,f)}checkEmpty(e){let t=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ys(e).Z({index:"userMutationsIndex",range:a},(f,y,M)=>{t=!1,M.done()}).next(()=>t)}addMutationBatch(e,t,a,f){const y=ku(e),M=Ys(e);return M.add({}).next(U=>{Ei("number"==typeof U);const oe=new Bd(U,t,a,f),ve=function(Yt,vn,Dn){const ni=Dn.baseMutations.map(Un=>Fd(Yt.re,Un)),fi=Dn.mutations.map(Un=>Fd(Yt.re,Un));return{userId:vn,batchId:Dn.batchId,localWriteTimeMs:Dn.localWriteTime.toMillis(),baseMutations:ni,mutations:fi}}(this.It,this.userId,oe),$e=[];let yt=new te((Yt,vn)=>Si(Yt.canonicalString(),vn.canonicalString()));for(const Yt of f){const vn=Eg(this.userId,Yt.key.path,U);yt=yt.add(Yt.key.path.popLast()),$e.push(M.put(ve)),$e.push(y.put(vn,Rv))}return yt.forEach(Yt=>{$e.push(this.indexManager.addToCollectionParentIndex(e,Yt))}),e.addOnCommittedListener(()=>{this.In[U]=oe.keys()}),on.waitFor($e).next(()=>oe)})}lookupMutationBatch(e,t){return Ys(e).get(t).next(a=>a?(Ei(a.userId===this.userId),Gl(this.It,a)):null)}Tn(e,t){return this.In[t]?on.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(a=>{if(a){const f=a.keys();return this.In[t]=f,f}return null})}getNextMutationBatchAfterBatchId(e,t){const a=t+1,f=IDBKeyRange.lowerBound([this.userId,a]);let y=null;return Ys(e).Z({index:"userMutationsIndex",range:f},(M,U,oe)=>{U.userId===this.userId&&(Ei(U.batchId>=a),y=Gl(this.It,U)),oe.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Ys(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(f,y,M)=>{a=y.batchId,M.done()}).next(()=>a)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ys(e).W("userMutationsIndex",t).next(a=>a.map(f=>Gl(this.It,f)))}getAllMutationBatchesAffectingDocumentKey(e,t){const a=xh(this.userId,t.path),f=IDBKeyRange.lowerBound(a),y=[];return ku(e).Z({range:f},(M,U,oe)=>{const[ve,$e,yt]=M,Yt=Vc($e);if(ve===this.userId&&t.path.isEqual(Yt))return Ys(e).get(yt).next(vn=>{if(!vn)throw ti();Ei(vn.userId===this.userId),y.push(Gl(this.It,vn))});oe.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new te(Si);const f=[];return t.forEach(y=>{const M=xh(this.userId,y.path),U=IDBKeyRange.lowerBound(M),oe=ku(e).Z({range:U},(ve,$e,yt)=>{const[Yt,vn,Dn]=ve,ni=Vc(vn);Yt===this.userId&&y.path.isEqual(ni)?a=a.add(Dn):yt.done()});f.push(oe)}),on.waitFor(f).next(()=>this.En(e,a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,f=a.length+1,y=xh(this.userId,a),M=IDBKeyRange.lowerBound(y);let U=new te(Si);return ku(e).Z({range:M},(oe,ve,$e)=>{const[yt,Yt,vn]=oe,Dn=Vc(Yt);yt===this.userId&&a.isPrefixOf(Dn)?Dn.length===f&&(U=U.add(vn)):$e.done()}).next(()=>this.En(e,U))}En(e,t){const a=[],f=[];return t.forEach(y=>{f.push(Ys(e).get(y).next(M=>{if(null===M)throw ti();Ei(M.userId===this.userId),a.push(Gl(this.It,M))}))}),on.waitFor(f).next(()=>a)}removeMutationBatch(e,t){return od(e.ie,this.userId,t).next(a=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),on.forEach(a,f=>this.referenceDelegate.markPotentiallyOrphaned(e,f))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return on.resolve();const a=IDBKeyRange.lowerBound([this.userId]),f=[];return ku(e).Z({range:a},(y,M,U)=>{if(y[0]===this.userId){const oe=Vc(y[1]);f.push(oe)}else U.done()}).next(()=>{Ei(0===f.length)})})}containsKey(e,t){return xl(e,this.userId,t)}Rn(e){return na(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function xl(s,e,t){const a=xh(e,t.path),f=a[1],y=IDBKeyRange.lowerBound(a);let M=!1;return ku(s).Z({range:y,X:!0},(U,oe,ve)=>{const[$e,yt,Yt]=U;$e===e&&yt===f&&(M=!0),ve.done()}).next(()=>M)}function Ys(s){return Go(s,"mutations")}function ku(s){return Go(s,"documentMutations")}function na(s){return Go(s,"mutationQueues")}class lc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new lc(0)}static vn(){return new lc(-1)}}class Ph{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const a=new lc(t.highestTargetId);return t.highestTargetId=a.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>bi.fromTimestamp(new kr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,a){return this.Vn(e).next(f=>(f.highestListenSequenceNumber=t,a&&(f.lastRemoteSnapshotVersion=a.toTimestamp()),t>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=t),this.Sn(e,f)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(a=>(a.targetCount+=1,this.Cn(t,a),this.Sn(e,a))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Gc(e).delete(t.targetId)).next(()=>this.Vn(e)).next(a=>(Ei(a.targetCount>0),a.targetCount-=1,this.Sn(e,a)))}removeTargets(e,t,a){let f=0;const y=[];return Gc(e).Z((M,U)=>{const oe=_o(U);oe.sequenceNumber<=t&&null===a.get(oe.targetId)&&(f++,y.push(this.removeTargetData(e,oe)))}).next(()=>on.waitFor(y)).next(()=>f)}forEachTarget(e,t){return Gc(e).Z((a,f)=>{const y=_o(f);t(y)})}Vn(e){return Pg(e).get("targetGlobalKey").next(t=>(Ei(null!==t),t))}Sn(e,t){return Pg(e).put("targetGlobalKey",t)}Dn(e,t){return Gc(e).put(Ud(this.It,t))}Cn(e,t){let a=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,a=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const a=ic(t),f=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let y=null;return Gc(e).Z({range:f,index:"queryTargetsIndex"},(M,U,oe)=>{const ve=_o(U);Oc(t,ve.target)&&(y=ve,oe.done())}).next(()=>y)}addMatchingKeys(e,t,a){const f=[],y=zl(e);return t.forEach(M=>{const U=za(M.path);f.push(y.put({targetId:a,path:U})),f.push(this.referenceDelegate.addReference(e,a,M))}),on.waitFor(f)}removeMatchingKeys(e,t,a){const f=zl(e);return on.forEach(t,y=>{const M=za(y.path);return on.waitFor([f.delete([a,M]),this.referenceDelegate.removeReference(e,a,y)])})}removeMatchingKeysForTargetId(e,t){const a=zl(e),f=IDBKeyRange.bound([t],[t+1],!1,!0);return a.delete(f)}getMatchingKeysForTargetId(e,t){const a=IDBKeyRange.bound([t],[t+1],!1,!0),f=zl(e);let y=$i();return f.Z({range:a,X:!0},(M,U,oe)=>{const ve=Vc(M[1]),$e=new zn(ve);y=y.add($e)}).next(()=>y)}containsKey(e,t){const a=za(t.path),f=IDBKeyRange.bound([a],[rl(a)],!1,!0);let y=0;return zl(e).Z({index:"documentTargetsIndex",X:!0,range:f},([M,U],oe,ve)=>{0!==M&&(y++,ve.done())}).next(()=>y>0)}se(e,t){return Gc(e).get(t).next(a=>a?_o(a):null)}}function Gc(s){return Go(s,"targets")}function Pg(s){return Go(s,"targetGlobal")}function zl(s){return Go(s,"targetDocuments")}function Dp([s,e],[t,a]){const f=Si(s,t);return 0===f?Si(e,a):f}class Em{constructor(e){this.xn=e,this.buffer=new te(Dp),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();Dp(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Wl{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;On("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ut.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(a){Ta(a)?On("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Ho(a)}yield t.Fn(3e5)}))}}class wf{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(0===t)return on.resolve(po.at);const a=new Em(t);return this.$n.forEachTarget(e,f=>a.On(f.sequenceNumber)).next(()=>this.$n.Ln(e,f=>a.On(f))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.$n.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(On("LruGarbageCollector","Garbage collection skipped; disabled"),on.resolve(Wi)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(On("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wi):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let a,f,y,M,U,oe,ve;const $e=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(yt=>(yt>this.params.maximumSequenceNumbersToCollect?(On("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${yt}`),f=this.params.maximumSequenceNumbersToCollect):f=yt,M=Date.now(),this.nthSequenceNumber(e,f))).next(yt=>(a=yt,U=Date.now(),this.removeTargets(e,a,t))).next(yt=>(y=yt,oe=Date.now(),this.removeOrphanedDocuments(e,a))).next(yt=>(ve=Date.now(),_l()<=Je.in.DEBUG&&On("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${M-$e}ms\n\tDetermined least recently used ${f} in `+(U-M)+`ms\n\tRemoved ${y} targets in `+(oe-U)+`ms\n\tRemoved ${yt} documents in `+(ve-oe)+`ms\nTotal Duration: ${ve-$e}ms`),on.resolve({didRun:!0,sequenceNumbersCollected:f,targetsRemoved:y,documentsRemoved:yt})))}}class Ep{constructor(e,t){this.db=e,this.garbageCollector=new wf(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(a=>t.next(f=>a+f))}qn(e){let t=0;return this.Ln(e,a=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(a,f)=>t(f))}addReference(e,t,a){return cc(e,a)}removeReference(e,t,a){return cc(e,a)}removeTargets(e,t,a){return this.db.getTargetCache().removeTargets(e,t,a)}markPotentiallyOrphaned(e,t){return cc(e,t)}Gn(e,t){return function(a,f){let y=!1;return na(a).tt(M=>xl(a,M,f).next(U=>(U&&(y=!0),on.resolve(!U)))).next(()=>y)}(e,t)}removeOrphanedDocuments(e,t){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),f=[];let y=0;return this.Kn(e,(M,U)=>{if(U<=t){const oe=this.Gn(e,M).next(ve=>{if(!ve)return y++,a.getEntry(e,M).next(()=>(a.removeEntry(M,bi.min()),zl(e).delete([0,za(M.path)])))});f.push(oe)}}).next(()=>on.waitFor(f)).next(()=>a.apply(e)).next(()=>y)}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,t){return cc(e,t)}Kn(e,t){const a=zl(e);let f,y=po.at;return a.Z({index:"documentTargetsIndex"},([M,U],{path:oe,sequenceNumber:ve})=>{0===M?(y!==po.at&&t(new zn(Vc(f)),y),y=ve,f=oe):y=po.at}).next(()=>{y!==po.at&&t(new zn(Vc(f)),y)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function cc(s,e){return zl(s).put((a=s.currentSequenceNumber,{targetId:0,path:za(e.path),sequenceNumber:a}));var a}class Nh{constructor(){this.changes=new Ee(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return void 0!==a?on.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zc{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,a){return Wa(e).put(a)}removeEntry(e,t,a){return Wa(e).delete(function(f,y){const M=f.path.toArray();return[M.slice(0,M.length-2),M[M.length-2],zo(y),M[M.length-1]]}(t,a))}updateMetadata(e,t){return this.getMetadata(e).next(a=>(a.byteSize+=t,this.Qn(e,a)))}getEntry(e,t){let a=vr.newInvalidDocument(t);return Wa(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Wc(t))},(f,y)=>{a=this.jn(t,y)}).next(()=>a)}Wn(e,t){let a={size:0,document:vr.newInvalidDocument(t)};return Wa(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Wc(t))},(f,y)=>{a={document:this.jn(t,y),size:jd(y)}}).next(()=>a)}getEntries(e,t){let a=sn();return this.zn(e,t,(f,y)=>{const M=this.jn(f,y);a=a.insert(f,M)}).next(()=>a)}Hn(e,t){let a=sn(),f=new L(zn.comparator);return this.zn(e,t,(y,M)=>{const U=this.jn(y,M);a=a.insert(y,U),f=f.insert(y,jd(M))}).next(()=>({documents:a,Jn:f}))}zn(e,t,a){if(t.isEmpty())return on.resolve();let f=new te(Ru);t.forEach(oe=>f=f.add(oe));const y=IDBKeyRange.bound(Wc(f.first()),Wc(f.last())),M=f.getIterator();let U=M.getNext();return Wa(e).Z({index:"documentKeyIndex",range:y},(oe,ve,$e)=>{const yt=zn.fromSegments([...ve.prefixPath,ve.collectionGroup,ve.documentId]);for(;U&&Ru(U,yt)<0;)a(U,null),U=M.getNext();U&&U.isEqual(yt)&&(a(U,ve),U=M.hasNext()?M.getNext():null),U?$e.j(Wc(U)):$e.done()}).next(()=>{for(;U;)a(U,null),U=M.hasNext()?M.getNext():null})}getAllFromCollection(e,t,a){const f=[t.popLast().toArray(),t.lastSegment(),zo(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],y=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Wa(e).W(IDBKeyRange.bound(f,y,!0)).next(M=>{let U=sn();for(const oe of M){const ve=this.jn(zn.fromSegments(oe.prefixPath.concat(oe.collectionGroup,oe.documentId)),oe);U=U.insert(ve.key,ve)}return U})}getAllFromCollectionGroup(e,t,a,f){let y=sn();const M=ad(t,a),U=ad(t,uo.max());return Wa(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(M,U,!0)},(oe,ve,$e)=>{const yt=this.jn(zn.fromSegments(ve.prefixPath.concat(ve.collectionGroup,ve.documentId)),ve);y=y.insert(yt.key,yt),y.size===f&&$e.done()}).next(()=>y)}newChangeBuffer(e){return new Df(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return uc(e).get("remoteDocumentGlobalKey").next(t=>(Ei(!!t),t))}Qn(e,t){return uc(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const a=function bm(s,e){let t;if(e.document)t=ff(s.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=zn.fromSegments(e.noDocument.path),f=Mu(e.noDocument.readTime);t=vr.newNoDocument(a,f),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ti();{const a=zn.fromSegments(e.unknownDocument.path),f=Mu(e.unknownDocument.version);t=vr.newUnknownDocument(a,f)}}return e.readTime&&t.setReadTime(function(a){const f=new kr(a[0],a[1]);return bi.fromTimestamp(f)}(e.readTime)),t}(this.It,t);if(!a.isNoDocument()||!a.version.isEqual(bi.min()))return a}return vr.newInvalidDocument(e)}}function $r(s){return new zc(s)}class Df extends Nh{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Ee(a=>a.toString(),(a,f)=>a.isEqual(f))}applyChanges(e){const t=[];let a=0,f=new te((y,M)=>Si(y.canonicalString(),M.canonicalString()));return this.changes.forEach((y,M)=>{const U=this.Xn.get(y);if(t.push(this.Yn.removeEntry(e,y,U.readTime)),M.isValidDocument()){const oe=Cm(this.Yn.It,M);f=f.add(y.path.popLast()),a+=jd(oe)-U.size,t.push(this.Yn.addEntry(e,y,oe))}else if(a-=U.size,this.trackRemovals){const oe=Cm(this.Yn.It,M.convertToNoDocument(bi.min()));t.push(this.Yn.addEntry(e,y,oe))}}),f.forEach(y=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,y))}),t.push(this.Yn.updateMetadata(e,a)),on.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(a=>(this.Xn.set(t,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:a,Jn:f})=>(f.forEach((y,M)=>{this.Xn.set(y,{size:M,readTime:a.get(y).readTime})}),a))}}function uc(s){return Go(s,"remoteDocumentGlobal")}function Wa(s){return Go(s,"remoteDocumentsV14")}function Wc(s){const e=s.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ad(s,e){const t=e.documentKey.path.toArray();return[s,zo(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Ru(s,e){const t=s.path.toArray(),a=e.path.toArray();let f=0;for(let y=0;y<t.length-2&&y<a.length-2;++y)if(f=Si(t[y],a[y]),f)return f;return f=Si(t.length,a.length),f||(f=Si(t[t.length-2],a[a.length-2]),f||Si(t[t.length-1],a[a.length-1]))}class ld{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Zi{constructor(e,t,a,f){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=f}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(f=>(a=f,this.getBaseDocument(e,t,a))).next(f=>(null!==a&&Ju(a.mutation,f,dt.empty(),kr.now()),f))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,$i()).next(()=>a))}getLocalViewOfDocuments(e,t,a=$i()){const f=mi();return this.populateOverlays(e,f,t).next(()=>this.computeViews(e,t,f,a).next(y=>{let M=Vn();return y.forEach((U,oe)=>{M=M.insert(U,oe.overlayedDocument)}),M}))}getOverlayedDocuments(e,t){const a=mi();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,$i()))}populateOverlays(e,t,a){const f=[];return a.forEach(y=>{t.has(y)||f.push(y)}),this.documentOverlayCache.getOverlays(e,f).next(y=>{y.forEach((M,U)=>{t.set(M,U)})})}computeViews(e,t,a,f){let y=sn();const M=Bs(),U=Bs();return t.forEach((oe,ve)=>{const $e=a.get(ve.key);f.has(ve.key)&&(void 0===$e||$e.mutation instanceof ll)?y=y.insert(ve.key,ve):void 0!==$e&&(M.set(ve.key,$e.mutation.getFieldMask()),Ju($e.mutation,ve,$e.mutation.getFieldMask(),kr.now()))}),this.recalculateAndSaveOverlays(e,y).next(oe=>(oe.forEach((ve,$e)=>M.set(ve,$e)),t.forEach((ve,$e)=>{var yt;return U.set(ve,new ld($e,null!==(yt=M.get(ve))&&void 0!==yt?yt:null))}),U))}recalculateAndSaveOverlays(e,t){const a=Bs();let f=new L((M,U)=>M-U),y=$i();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(M=>{for(const U of M)U.keys().forEach(oe=>{const ve=t.get(oe);if(null===ve)return;let $e=a.get(oe)||dt.empty();$e=U.applyToLocalView(ve,$e),a.set(oe,$e);const yt=(f.get(U.batchId)||$i()).add(oe);f=f.insert(U.batchId,yt)})}).next(()=>{const M=[],U=f.getReverseIterator();for(;U.hasNext();){const oe=U.getNext(),ve=oe.key,$e=oe.value,yt=Dr();$e.forEach(Yt=>{if(!y.has(Yt)){const vn=Eh(t.get(Yt),a.get(Yt));null!==vn&&yt.set(Yt,vn),y=y.add(Yt)}}),M.push(this.documentOverlayCache.saveOverlays(e,ve,yt))}return on.waitFor(M)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a){return zn.isDocumentKey((f=t).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Yu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a):this.getDocumentsMatchingCollectionQuery(e,t,a);var f}getNextDocuments(e,t,a,f){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,f).next(y=>{const M=f-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,f-y.size):on.resolve(mi());let U=-1,oe=y;return M.next(ve=>on.forEach(ve,($e,yt)=>(U<yt.largestBatchId&&(U=yt.largestBatchId),y.get($e)?on.resolve():this.getBaseDocument(e,$e,yt).next(Yt=>{oe=oe.insert($e,Yt)}))).next(()=>this.populateOverlays(e,ve,y)).next(()=>this.computeViews(e,oe,ve,$i())).next($e=>({batchId:U,changes:wi($e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new zn(t)).next(a=>{let f=Vn();return a.isFoundDocument()&&(f=f.insert(a.key,a)),f})}getDocumentsMatchingCollectionGroupQuery(e,t,a){const f=t.collectionGroup;let y=Vn();return this.indexManager.getCollectionParents(e,f).next(M=>on.forEach(M,U=>{const oe=(ve=t,$e=U.child(f),new rc($e,null,ve.explicitOrderBy.slice(),ve.filters.slice(),ve.limit,ve.limitType,ve.startAt,ve.endAt));var ve,$e;return this.getDocumentsMatchingCollectionQuery(e,oe,a).next(ve=>{ve.forEach(($e,yt)=>{y=y.insert($e,yt)})})}).next(()=>y))}getDocumentsMatchingCollectionQuery(e,t,a){let f;return this.remoteDocumentCache.getAllFromCollection(e,t.path,a).next(y=>(f=y,this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId))).next(y=>{y.forEach((U,oe)=>{const ve=oe.getKey();null===f.get(ve)&&(f=f.insert(ve,vr.newInvalidDocument(ve)))});let M=Vn();return f.forEach((U,oe)=>{const ve=y.get(U);void 0!==ve&&Ju(ve.mutation,oe,dt.empty(),kr.now()),El(t,oe)&&(M=M.insert(U,oe))}),M})}getBaseDocument(e,t,a){return null===a||1===a.mutation.type?this.remoteDocumentCache.getEntry(e,t):on.resolve(vr.newInvalidDocument(t))}}class Ng{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return on.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var a;return this.Zn.set(t.id,{id:(a=t).id,version:a.version,createTime:bs(a.createTime)}),on.resolve()}getNamedQuery(e,t){return on.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(a=t).name,query:Tr(a.bundledQuery),readTime:bs(a.readTime)}),on.resolve();var a}}class Fh{constructor(){this.overlays=new L(zn.comparator),this.es=new Map}getOverlay(e,t){return on.resolve(this.overlays.get(t))}getOverlays(e,t){const a=mi();return on.forEach(t,f=>this.getOverlay(e,f).next(y=>{null!==y&&a.set(f,y)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((f,y)=>{this.ue(e,t,y)}),on.resolve()}removeOverlaysForBatchId(e,t,a){const f=this.es.get(a);return void 0!==f&&(f.forEach(y=>this.overlays=this.overlays.remove(y)),this.es.delete(a)),on.resolve()}getOverlaysForCollection(e,t,a){const f=mi(),y=t.length+1,M=new zn(t.child("")),U=this.overlays.getIteratorFrom(M);for(;U.hasNext();){const oe=U.getNext().value,ve=oe.getKey();if(!t.isPrefixOf(ve.path))break;ve.path.length===y&&oe.largestBatchId>a&&f.set(oe.getKey(),oe)}return on.resolve(f)}getOverlaysForCollectionGroup(e,t,a,f){let y=new L((ve,$e)=>ve-$e);const M=this.overlays.getIterator();for(;M.hasNext();){const ve=M.getNext().value;if(ve.getKey().getCollectionGroup()===t&&ve.largestBatchId>a){let $e=y.get(ve.largestBatchId);null===$e&&($e=mi(),y=y.insert(ve.largestBatchId,$e)),$e.set(ve.getKey(),ve)}}const U=mi(),oe=y.getIterator();for(;oe.hasNext()&&(oe.getNext().value.forEach((ve,$e)=>U.set(ve,$e)),!(U.size()>=f)););return on.resolve(U)}ue(e,t,a){const f=this.overlays.get(a.key);if(null!==f){const M=this.es.get(f.largestBatchId).delete(a.key);this.es.set(f.largestBatchId,M)}this.overlays=this.overlays.insert(a.key,new wp(t,a));let y=this.es.get(t);void 0===y&&(y=$i(),this.es.set(t,y)),this.es.set(t,y.add(a.key))}}class Sp{constructor(){this.ns=new te(Xi.ss),this.rs=new te(Xi.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const a=new Xi(e,t);this.ns=this.ns.add(a),this.rs=this.rs.add(a)}us(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.cs(new Xi(e,t))}hs(e,t){e.forEach(a=>this.removeReference(a,t))}ls(e){const t=new zn(new vi([])),a=new Xi(t,e),f=new Xi(t,e+1),y=[];return this.rs.forEachInRange([a,f],M=>{this.cs(M),y.push(M.key)}),y}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new zn(new vi([])),a=new Xi(t,e),f=new Xi(t,e+1);let y=$i();return this.rs.forEachInRange([a,f],M=>{y=y.add(M.key)}),y}containsKey(e){const t=new Xi(e,0),a=this.ns.firstAfterOrEqual(t);return null!==a&&e.isEqual(a.key)}}class Xi{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return zn.comparator(e.key,t.key)||Si(e._s,t._s)}static os(e,t){return Si(e._s,t._s)||zn.comparator(e.key,t.key)}}class Tp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new te(Xi.ss)}checkEmpty(e){return on.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,a,f){const y=this.ws;this.ws++;const M=new Bd(y,t,a,f);this.mutationQueue.push(M);for(const U of f)this.gs=this.gs.add(new Xi(U.key,y)),this.indexManager.addToCollectionParentIndex(e,U.key.path.popLast());return on.resolve(M)}lookupMutationBatch(e,t){return on.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const f=this.ps(t+1),y=f<0?0:f;return on.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return on.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return on.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new Xi(t,0),f=new Xi(t,Number.POSITIVE_INFINITY),y=[];return this.gs.forEachInRange([a,f],M=>{const U=this.ys(M._s);y.push(U)}),on.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new te(Si);return t.forEach(f=>{const y=new Xi(f,0),M=new Xi(f,Number.POSITIVE_INFINITY);this.gs.forEachInRange([y,M],U=>{a=a.add(U._s)})}),on.resolve(this.Is(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,f=a.length+1;let y=a;zn.isDocumentKey(y)||(y=y.child(""));const M=new Xi(new zn(y),0);let U=new te(Si);return this.gs.forEachWhile(oe=>{const ve=oe.key.path;return!!a.isPrefixOf(ve)&&(ve.length===f&&(U=U.add(oe._s)),!0)},M),on.resolve(this.Is(U))}Is(e){const t=[];return e.forEach(a=>{const f=this.ys(a);null!==f&&t.push(f)}),t}removeMutationBatch(e,t){Ei(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let a=this.gs;return on.forEach(t.mutations,f=>{const y=new Xi(f.key,t.batchId);return a=a.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,f.key)}).next(()=>{this.gs=a})}An(e){}containsKey(e,t){const a=new Xi(t,0),f=this.gs.firstAfterOrEqual(a);return on.resolve(t.isEqual(f&&f.key))}performConsistencyCheck(e){return on.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class $d{constructor(e){this.Es=e,this.docs=new L(zn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,f=this.docs.get(a),y=f?f.size:0,M=this.Es(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:M}),this.size+=M-y,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return on.resolve(a?a.document.mutableCopy():vr.newInvalidDocument(t))}getEntries(e,t){let a=sn();return t.forEach(f=>{const y=this.docs.get(f);a=a.insert(f,y?y.document.mutableCopy():vr.newInvalidDocument(f))}),on.resolve(a)}getAllFromCollection(e,t,a){let f=sn();const y=new zn(t.child("")),M=this.docs.getIteratorFrom(y);for(;M.hasNext();){const{key:U,value:{document:oe}}=M.getNext();if(!t.isPrefixOf(U.path))break;U.path.length>t.length+1||Ac(Xl(oe),a)<=0||(f=f.insert(oe.key,oe.mutableCopy()))}return on.resolve(f)}getAllFromCollectionGroup(e,t,a,f){ti()}As(e,t){return on.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new Gd(this)}getSize(e){return on.resolve(this.size)}}class Gd extends Nh{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((a,f)=>{f.isValidDocument()?t.push(this.Yn.addEntry(e,f)):this.Yn.removeEntry(a)}),on.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class dc{constructor(e){this.persistence=e,this.Rs=new Ee(t=>ic(t),Oc),this.lastRemoteSnapshotVersion=bi.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Sp,this.targetCount=0,this.vs=lc.Pn()}forEachTarget(e,t){return this.Rs.forEach((a,f)=>t(f)),on.resolve()}getLastRemoteSnapshotVersion(e){return on.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return on.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),on.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.bs&&(this.bs=t),on.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new lc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,on.resolve()}updateTargetData(e,t){return this.Dn(t),on.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,on.resolve()}removeTargets(e,t,a){let f=0;const y=[];return this.Rs.forEach((M,U)=>{U.sequenceNumber<=t&&null===a.get(U.targetId)&&(this.Rs.delete(M),y.push(this.removeMatchingKeysForTargetId(e,U.targetId)),f++)}),on.waitFor(y).next(()=>f)}getTargetCount(e){return on.resolve(this.targetCount)}getTargetData(e,t){const a=this.Rs.get(t)||null;return on.resolve(a)}addMatchingKeys(e,t,a){return this.Ps.us(t,a),on.resolve()}removeMatchingKeys(e,t,a){this.Ps.hs(t,a);const f=this.persistence.referenceDelegate,y=[];return f&&t.forEach(M=>{y.push(f.markPotentiallyOrphaned(e,M))}),on.waitFor(y)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),on.resolve()}getMatchingKeysForTargetId(e,t){const a=this.Ps.ds(t);return on.resolve(a)}containsKey(e,t){return on.resolve(this.Ps.containsKey(t))}}class Yc{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new po(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new dc(this),this.indexManager=new wm,this.remoteDocumentCache=new $d(a=>this.referenceDelegate.xs(a)),this.It=new Vd(t),this.Ns=new Ng(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Fh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.Vs[e.toKey()];return a||(a=new Tp(t,this.referenceDelegate),this.Vs[e.toKey()]=a),a}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,a){On("MemoryPersistence","Starting transaction:",e);const f=new zd(this.Ss.next());return this.referenceDelegate.ks(),a(f).next(y=>this.referenceDelegate.Os(f).next(()=>y)).toPromise().then(y=>(f.raiseOnCommittedEvent(),y))}Ms(e,t){return on.or(Object.values(this.Vs).map(a=>()=>a.containsKey(e,t)))}}class zd extends Jl{constructor(e){super(),this.currentSequenceNumber=e}}class hc{constructor(e){this.persistence=e,this.Fs=new Sp,this.$s=null}static Bs(e){return new hc(e)}get Ls(){if(this.$s)return this.$s;throw ti()}addReference(e,t,a){return this.Fs.addReference(a,t),this.Ls.delete(a.toString()),on.resolve()}removeReference(e,t,a){return this.Fs.removeReference(a,t),this.Ls.add(a.toString()),on.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),on.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(f=>this.Ls.add(f.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(f=>{f.forEach(y=>this.Ls.add(y.toString()))}).next(()=>a.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return on.forEach(this.Ls,a=>{const f=zn.fromPath(a);return this.Us(e,f).next(y=>{y||t.removeEntry(f,bi.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(a=>{a?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return on.or([()=>on.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Ef{constructor(e){this.It=e}$(e,t,a,f){const y=new Kr("createOrUpgrade",t);var U;a<1&&f>=1&&(e.createObjectStore("owner"),(U=e).createObjectStore("mutationQueues",{keyPath:"userId"}),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bp,{unique:!0}),U.createObjectStore("documentMutations"),Sm(e),function(U){U.createObjectStore("remoteDocuments")}(e));let M=on.resolve();return a<3&&f>=3&&(0!==a&&(function(U){U.deleteObjectStore("targetDocuments"),U.deleteObjectStore("targets"),U.deleteObjectStore("targetGlobal")}(e),Sm(e)),M=M.next(()=>function(U){const oe=U.store("targetGlobal"),ve={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bi.min().toTimestamp(),targetCount:0};return oe.put("targetGlobalKey",ve)}(y))),a<4&&f>=4&&(0!==a&&(M=M.next(()=>function(U,oe){return oe.store("mutations").W().next(ve=>{U.deleteObjectStore("mutations"),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bp,{unique:!0});const $e=oe.store("mutations"),yt=ve.map(Yt=>$e.put(Yt));return on.waitFor(yt)})}(e,y))),M=M.next(()=>{!function(U){U.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&f>=5&&(M=M.next(()=>this.qs(y))),a<6&&f>=6&&(M=M.next(()=>(function(U){U.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(y)))),a<7&&f>=7&&(M=M.next(()=>this.Gs(y))),a<8&&f>=8&&(M=M.next(()=>this.Qs(e,y))),a<9&&f>=9&&(M=M.next(()=>{!function(U){U.objectStoreNames.contains("remoteDocumentChanges")&&U.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&f>=10&&(M=M.next(()=>this.js(y))),a<11&&f>=11&&(M=M.next(()=>{(function(U){U.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(U){U.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&f>=12&&(M=M.next(()=>{!function(U){const oe=U.createObjectStore("documentOverlays",{keyPath:Ah});oe.createIndex("collectionPathOverlayIndex",oc,{unique:!1}),oe.createIndex("collectionGroupOverlayIndex",Ag,{unique:!1})}(e)})),a<13&&f>=13&&(M=M.next(()=>function(U){const oe=U.createObjectStore("remoteDocumentsV14",{keyPath:Ov});oe.createIndex("documentKeyIndex",Pv),oe.createIndex("collectionGroupIndex",Sg)}(e)).next(()=>this.Ws(e,y)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&f>=14&&(M=M.next(()=>this.zs(e,y))),a<15&&f>=15&&(M=M.next(()=>function(U){U.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),U.createObjectStore("indexState",{keyPath:Su}).createIndex("sequenceNumberIndex",_f,{unique:!1}),U.createObjectStore("indexEntries",{keyPath:Cp}).createIndex("documentKeyIndex",xg,{unique:!1})}(e))),M}Ks(e){let t=0;return e.store("remoteDocuments").Z((a,f)=>{t+=jd(f)}).next(()=>{const a={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}qs(e){const t=e.store("mutationQueues"),a=e.store("mutations");return t.W().next(f=>on.forEach(f,y=>{const M=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return a.W("userMutationsIndex",M).next(U=>on.forEach(U,oe=>{Ei(oe.userId===y.userId);const ve=Gl(this.It,oe);return od(e,y.userId,ve).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(f=>{const y=[];return a.Z((M,U)=>{const oe=new vi(M),ve=[0,za(oe)];y.push(t.get(ve).next($e=>$e?on.resolve():t.put({targetId:0,path:za(oe),sequenceNumber:f.highestListenSequenceNumber})))}).next(()=>on.waitFor(y))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Ig});const a=t.store("collectionParents"),f=new ba,y=M=>{if(f.add(M)){const U=M.lastSegment(),oe=M.popLast();return a.put({collectionId:U,parent:za(oe)})}};return t.store("remoteDocuments").Z({X:!0},(M,U)=>{const oe=new vi(M);return y(oe.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([M,U,oe],ve)=>{const $e=Vc(U);return y($e.popLast())}))}js(e){const t=e.store("targets");return t.Z((a,f)=>{const y=_o(f),M=Ud(this.It,y);return t.put(M)})}Ws(e,t){const a=t.store("remoteDocuments"),f=[];return a.Z((y,M)=>{const U=t.store("remoteDocumentsV14"),oe=(ve=M,ve.document?new zn(vi.fromString(ve.document.name).popFirst(5)):ve.noDocument?zn.fromSegments(ve.noDocument.path):ve.unknownDocument?zn.fromSegments(ve.unknownDocument.path):ti()).path.toArray();var ve;const $e={prefixPath:oe.slice(0,oe.length-2),collectionGroup:oe[oe.length-2],documentId:oe[oe.length-1],readTime:M.readTime||[0,0],unknownDocument:M.unknownDocument,noDocument:M.noDocument,document:M.document,hasCommittedMutations:!!M.hasCommittedMutations};f.push(U.put($e))}).next(()=>on.waitFor(f))}zs(e,t){const a=t.store("mutations"),f=$r(this.It),y=new Yc(hc.Bs,this.It.re);return a.W().next(M=>{const U=new Map;return M.forEach(oe=>{var ve;let $e=null!==(ve=U.get(oe.userId))&&void 0!==ve?ve:$i();Gl(this.It,oe).keys().forEach(yt=>$e=$e.add(yt)),U.set(oe.userId,$e)}),on.forEach(U,(oe,ve)=>{const $e=new nr(ve),yt=Iu.oe(this.It,$e),Yt=y.getIndexManager($e),vn=vo.oe($e,this.It,Yt,y.referenceDelegate);return new Zi(f,vn,yt,Yt).recalculateAndSaveOverlaysForDocumentKeys(new yf(t,po.at),oe).next()})})}}function Sm(s){s.createObjectStore("targetDocuments",{keyPath:Mg}).createIndex("documentTargetsIndex",gm,{unique:!0}),s.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Tg,{unique:!0}),s.createObjectStore("targetGlobal")}const Ou="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class cd{constructor(e,t,a,f,y,M,U,oe,ve,$e,yt=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=a,this.Hs=y,this.window=M,this.document=U,this.Js=ve,this.Ys=$e,this.Xs=yt,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=Yt=>Promise.resolve(),!cd.C())throw new Sn(cn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ep(this,f),this.ii=t+"main",this.It=new Vd(oe),this.ri=new jo(this.ii,this.Xs,new Ef(this.It)),this.Cs=new Ph(this.referenceDelegate,this.It),this.remoteDocumentCache=$r(this.It),this.Ns=new hs,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===$e&&Qi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Sn(cn.FAILED_PRECONDITION,Ou);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new po(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var a=(0,ut.Z)(function*(f){if(t.started)return e(f)});return function(f){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ut.Z)(function*(a){null===a.newVersion&&(yield e())});return function(a){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ut.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Pu(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Ta(e))return On("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return On("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Yl(e).get("owner").next(t=>on.resolve(this.mi(t)))}gi(e){return Pu(e).delete(this.clientId)}yi(){var e=this;return(0,ut.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const f=Go(a,"clientMetadata");return f.W().next(y=>{const M=e.Ii(y,18e5),U=y.filter(oe=>-1===M.indexOf(oe));return on.forEach(U,oe=>f.delete(oe.clientId)).next(()=>U)})}).catch(()=>[]);if(e.oi)for(const a of t)e.oi.removeItem(e.Ti(a.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?on.resolve(!0):Yl(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Sn(cn.FAILED_PRECONDITION,Ou);return!1}}return!(!this.networkEnabled||!this.inForeground)||Pu(e).W().next(a=>void 0===this.Ii(a,5e3).find(f=>{if(this.clientId!==f.clientId){const M=!this.inForeground&&f.inForeground,U=this.networkEnabled===f.networkEnabled;if(!this.networkEnabled&&f.networkEnabled||M&&U)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&On("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ut.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const a=new yf(t,po.at);return e._i(a).next(()=>e.gi(a))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(a=>this.pi(a.updateTimeMs,t)&&!this.Ei(a.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Pu(e).W().next(t=>this.Ii(t,18e5).map(a=>a.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return vo.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Cf(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Iu.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,a){On("IndexedDbPersistence","Starting transaction:",e);const f="readonly"===t?"readonly":"readwrite",y=15===(M=this.Xs)?vm:14===M?vf:13===M?_m:12===M?B_:11===M?kg:void ti();var M;let U;return this.ri.runTransaction(e,f,y,oe=>(U=new yf(oe,this.Ss?this.Ss.next():po.at),"readwrite-primary"===t?this.fi(U).next(ve=>!!ve||this.di(U)).next(ve=>{if(!ve)throw Qi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Sn(cn.FAILED_PRECONDITION,Ps);return a(U)}).next(ve=>this.wi(U).next(()=>ve)):this.Vi(U).next(()=>a(U)))).then(oe=>(U.raiseOnCommittedEvent(),oe))}Vi(e){return Yl(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Sn(cn.FAILED_PRECONDITION,Ou)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Yl(e).put("owner",t)}static C(){return jo.C()}_i(e){const t=Yl(e);return t.get("owner").next(a=>this.mi(a)?(On("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):on.resolve())}pi(e,t){const a=Date.now();return!(e<a-t||e>a&&(Qi(`Detected an update time that is in the future: ${e} > ${a}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Be.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const a=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return On("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Qi("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Qi("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Yl(s){return Go(s,"owner")}function Pu(s){return Go(s,"clientMetadata")}function Kc(s,e){let t=s.projectId;return s.isDefaultDatabase||(t+="."+s.database),"firestore/"+e+"/"+t+"/"}class Sf{constructor(e,t,a,f){this.targetId=e,this.fromCache=t,this.Si=a,this.Di=f}static Ci(e,t){let a=$i(),f=$i();for(const y of t.docChanges)switch(y.type){case 0:a=a.add(y.doc.key);break;case 1:f=f.add(y.doc.key)}return new Sf(e,t.fromCache,a,f)}}class Mp{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,a,f){return this.ki(e,t).next(y=>y||this.Oi(e,t,f,a)).next(y=>y||this.Mi(e,t))}ki(e,t){if(Pc(t))return on.resolve(null);let a=ea(t);return this.indexManager.getIndexType(e,a).next(f=>0===f?null:(null!==t.limit&&1===f&&(t=Ku(t,null,"F"),a=ea(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(y=>{const M=$i(...y);return this.Ni.getDocuments(e,M).next(U=>this.indexManager.getMinOffset(e,a).next(oe=>{const ve=this.Fi(t,U);return this.$i(t,ve,M,oe.readTime)?this.ki(e,Ku(t,null,"F")):this.Bi(e,ve,t,oe)}))})))}Oi(e,t,a,f){return Pc(t)||f.isEqual(bi.min())?this.Mi(e,t):this.Ni.getDocuments(e,a).next(y=>{const M=this.Fi(t,y);return this.$i(t,M,a,f)?this.Mi(e,t):(_l()<=Je.in.DEBUG&&On("QueryEngine","Re-using previous result from %s to execute query: %s",f.toString(),pu(t)),this.Bi(e,M,t,Cl(f,-1)))})}Fi(e,t){let a=new te(uf(e));return t.forEach((f,y)=>{El(e,y)&&(a=a.add(y))}),a}$i(e,t,a,f){if(null===e.limit)return!1;if(a.size!==t.size)return!0;const y="F"===e.limitType?t.last():t.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(f)>0)}Mi(e,t){return _l()<=Je.in.DEBUG&&On("QueryEngine","Using full collection scan to execute query:",pu(t)),this.Ni.getDocumentsMatchingQuery(e,t,uo.min())}Bi(e,t,a,f){return this.Ni.getDocumentsMatchingQuery(e,a,f).next(y=>(t.forEach(M=>{y=y.insert(M.key,M)}),y))}}class Wd{constructor(e,t,a,f){this.persistence=e,this.Li=t,this.It=f,this.Ui=new L(Si),this.qi=new Ee(y=>ic(y),Oc),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(a)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zi(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Tm(s,e,t,a){return new Wd(s,e,t,a)}function Yd(s,e){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,ut.Z)(function*(s,e){const t=Qn(s);return yield t.persistence.runTransaction("Handle user change","readonly",a=>{let f;return t.mutationQueue.getAllMutationBatches(a).next(y=>(f=y,t.Qi(e),t.mutationQueue.getAllMutationBatches(a))).next(y=>{const M=[],U=[];let oe=$i();for(const ve of f){M.push(ve.batchId);for(const $e of ve.mutations)oe=oe.add($e.key)}for(const ve of y){U.push(ve.batchId);for(const $e of ve.mutations)oe=oe.add($e.key)}return t.localDocuments.getDocuments(a,oe).next(ve=>({ji:ve,removedBatchIds:M,addedBatchIds:U}))})})}),Ip.apply(this,arguments)}function Mm(s,e){const t=Qn(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const f=e.batch.keys(),y=t.Gi.newChangeBuffer({trackRemovals:!0});return function(M,U,oe,ve){const $e=oe.batch,yt=$e.keys();let Yt=on.resolve();return yt.forEach(vn=>{Yt=Yt.next(()=>ve.getEntry(U,vn)).next(Dn=>{const ni=oe.docVersions.get(vn);Ei(null!==ni),Dn.version.compareTo(ni)<0&&($e.applyToRemoteDocument(Dn,oe),Dn.isValidDocument()&&(Dn.setReadTime(oe.commitVersion),ve.addEntry(Dn)))})}),Yt.next(()=>M.mutationQueue.removeMutationBatch(U,$e))}(t,a,e,y).next(()=>y.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,f,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(M){let U=$i();for(let oe=0;oe<M.mutationResults.length;++oe)M.mutationResults[oe].transformResults.length>0&&(U=U.add(M.batch.mutations[oe].key));return U}(e))).next(()=>t.localDocuments.getDocuments(a,f))})}function ul(s){const e=Qn(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function xp(s,e){const t=Qn(s),a=e.snapshotVersion;let f=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const M=t.Gi.newChangeBuffer({trackRemovals:!0});f=t.Ui;const U=[];e.targetChanges.forEach(($e,yt)=>{const Yt=f.get(yt);if(!Yt)return;U.push(t.Cs.removeMatchingKeys(y,$e.removedDocuments,yt).next(()=>t.Cs.addMatchingKeys(y,$e.addedDocuments,yt)));let vn=Yt.withSequenceNumber(y.currentSequenceNumber);var Dn,ni,fi;e.targetMismatches.has(yt)?vn=vn.withResumeToken(xn.EMPTY_BYTE_STRING,bi.min()).withLastLimboFreeSnapshotVersion(bi.min()):$e.resumeToken.approximateByteSize()>0&&(vn=vn.withResumeToken($e.resumeToken,a)),f=f.insert(yt,vn),ni=vn,fi=$e,(0===(Dn=Yt).resumeToken.approximateByteSize()||ni.snapshotVersion.toMicroseconds()-Dn.snapshotVersion.toMicroseconds()>=3e8||fi.addedDocuments.size+fi.modifiedDocuments.size+fi.removedDocuments.size>0)&&U.push(t.Cs.updateTargetData(y,vn))});let oe=sn(),ve=$i();if(e.documentUpdates.forEach($e=>{e.resolvedLimboDocuments.has($e)&&U.push(t.persistence.referenceDelegate.updateLimboDocument(y,$e))}),U.push(Tf(y,M,e.documentUpdates).next($e=>{oe=$e.Wi,ve=$e.zi})),!a.isEqual(bi.min())){const $e=t.Cs.getLastRemoteSnapshotVersion(y).next(yt=>t.Cs.setTargetsMetadata(y,y.currentSequenceNumber,a));U.push($e)}return on.waitFor(U).next(()=>M.apply(y)).next(()=>t.localDocuments.getLocalViewOfDocuments(y,oe,ve)).next(()=>oe)}).then(y=>(t.Ui=f,y))}function Tf(s,e,t){let a=$i(),f=$i();return t.forEach(y=>a=a.add(y)),e.getEntries(s,a).next(y=>{let M=sn();return t.forEach((U,oe)=>{const ve=y.get(U);oe.isFoundDocument()!==ve.isFoundDocument()&&(f=f.add(U)),oe.isNoDocument()&&oe.version.isEqual(bi.min())?(e.removeEntry(U,oe.readTime),M=M.insert(U,oe)):!ve.isValidDocument()||oe.version.compareTo(ve.version)>0||0===oe.version.compareTo(ve.version)&&ve.hasPendingWrites?(e.addEntry(oe),M=M.insert(U,oe)):On("LocalStore","Ignoring outdated watch update for ",U,". Current version:",ve.version," Watch version:",oe.version)}),{Wi:M,zi:f}})}function Mf(s,e){const t=Qn(s);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function Kd(s,e){const t=Qn(s);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let f;return t.Cs.getTargetData(a,e).next(y=>y?(f=y,on.resolve(f)):t.Cs.allocateTargetId(a).next(M=>(f=new Tu(e,M,0,a.currentSequenceNumber),t.Cs.addTargetData(a,f).next(()=>f))))}).then(a=>{const f=t.Ui.get(a.targetId);return(null===f||a.snapshotVersion.compareTo(f.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(a.targetId,a),t.qi.set(e,a.targetId)),a})}function fc(s,e,t){return If.apply(this,arguments)}function If(){return If=(0,ut.Z)(function*(s,e,t){const a=Qn(s),f=a.Ui.get(e),y=t?"readwrite":"readwrite-primary";try{t||(yield a.persistence.runTransaction("Release target",y,M=>a.persistence.referenceDelegate.removeTarget(M,f)))}catch(M){if(!Ta(M))throw M;On("LocalStore",`Failed to update sequence numbers for target ${e}: ${M}`)}a.Ui=a.Ui.remove(e),a.qi.delete(f.target)}),If.apply(this,arguments)}function Zd(s,e,t){const a=Qn(s);let f=bi.min(),y=$i();return a.persistence.runTransaction("Execute query","readonly",M=>function(U,oe,ve){const $e=Qn(U),yt=$e.qi.get(ve);return void 0!==yt?on.resolve($e.Ui.get(yt)):$e.Cs.getTargetData(oe,ve)}(a,M,ea(e)).next(U=>{if(U)return f=U.lastLimboFreeSnapshotVersion,a.Cs.getMatchingKeysForTargetId(M,U.targetId).next(oe=>{y=oe})}).next(()=>a.Li.getDocumentsMatchingQuery(M,e,t?f:bi.min(),t?y:$i())).next(U=>(Bh(a,mu(e),U),{documents:U,Hi:y})))}function Lh(s,e){const t=Qn(s),a=Qn(t.Cs),f=t.Ui.get(e);return f?Promise.resolve(f.target):t.persistence.runTransaction("Get target data","readonly",y=>a.se(y,e).next(M=>M?M.target:null))}function Im(s,e){const t=Qn(s),a=t.Ki.get(e)||bi.min();return t.persistence.runTransaction("Get new document changes","readonly",f=>t.Gi.getAllFromCollectionGroup(f,e,Cl(a,-1),Number.MAX_SAFE_INTEGER)).then(f=>(Bh(t,e,f),f))}function Bh(s,e,t){let a=s.Ki.get(e)||bi.min();t.forEach((f,y)=>{y.readTime.compareTo(a)>0&&(a=y.readTime)}),s.Ki.set(e,a)}function qd(){return qd=(0,ut.Z)(function*(s,e,t,a){const f=Qn(s);let y=$i(),M=sn();for(const ve of t){const $e=e.Ji(ve.metadata.name);ve.document&&(y=y.add($e));const yt=e.Yi(ve);yt.setReadTime(e.Xi(ve.metadata.readTime)),M=M.insert($e,yt)}const U=f.Gi.newChangeBuffer({trackRemovals:!0}),oe=yield Kd(f,(ve=a,ea(Hl(vi.fromString(`__bundle__/docs/${ve}`)))));var ve;return f.persistence.runTransaction("Apply bundle documents","readwrite",ve=>Tf(ve,U,M).next($e=>(U.apply(ve),$e)).next($e=>f.Cs.removeMatchingKeysForTargetId(ve,oe.targetId).next(()=>f.Cs.addMatchingKeys(ve,y,oe.targetId)).next(()=>f.localDocuments.getLocalViewOfDocuments(ve,$e.Wi,$e.zi)).next(()=>$e.Wi)))}),qd.apply(this,arguments)}function xf(s,e){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,ut.Z)(function*(s,e,t=$i()){const a=yield Kd(s,ea(Tr(e.bundledQuery))),f=Qn(s);return f.persistence.runTransaction("Save named query","readwrite",y=>{const M=bs(e.readTime);if(a.snapshotVersion.compareTo(M)>=0)return f.Ns.saveNamedQuery(y,e);const U=a.withResumeToken(xn.EMPTY_BYTE_STRING,M);return f.Ui=f.Ui.insert(U.targetId,U),f.Cs.updateTargetData(y,U).next(()=>f.Cs.removeMatchingKeysForTargetId(y,a.targetId)).next(()=>f.Cs.addMatchingKeys(y,t,a.targetId)).next(()=>f.Ns.saveNamedQuery(y,e))})}),Ap.apply(this,arguments)}function kp(s,e){return`firestore_clients_${s}_${e}`}function Rp(s,e,t){let a=`firestore_mutations_${s}_${t}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function Op(s,e){return`firestore_targets_${s}_${e}`}class Pp{constructor(e,t,a,f){this.user=e,this.batchId=t,this.state=a,this.error=f}static Zi(e,t,a){const f=JSON.parse(a);let y,M="object"==typeof f&&-1!==["pending","acknowledged","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error);return M&&f.error&&(M="string"==typeof f.error.message&&"string"==typeof f.error.code,M&&(y=new Sn(f.error.code,f.error.message))),M?new Pp(e,t,f.state,y):(Qi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${a}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ud{constructor(e,t,a){this.targetId=e,this.state=t,this.error=a}static Zi(e,t){const a=JSON.parse(t);let f,y="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return y&&a.error&&(y="string"==typeof a.error.message&&"string"==typeof a.error.code,y&&(f=new Sn(a.error.code,a.error.message))),y?new ud(e,a.state,f):(Qi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Aa{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const a=JSON.parse(t);let f="object"==typeof a&&a.activeTargetIds instanceof Array,y=vu();for(let M=0;f&&M<a.activeTargetIds.length;++M)f=tc(a.activeTargetIds[M]),y=y.add(a.activeTargetIds[M]);return f?new Aa(e,y):(Qi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Qd{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Qd(t.clientId,t.onlineState):(Qi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Af{constructor(){this.activeTargetIds=vu()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xd{constructor(e,t,a,f,y){this.window=e,this.Hs=t,this.persistenceKey=a,this.sr=f,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new L(Si),this.started=!1,this.cr=[];const M=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.ar=kp(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Af),this.lr=new RegExp(`^firestore_clients_${M}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${M}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${M}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(U){return`firestore_bundle_loaded_v2_${U}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ut.Z)(function*(){const t=yield e.syncEngine.vi();for(const f of t){if(f===e.sr)continue;const y=e.getItem(kp(e.persistenceKey,f));if(y){const M=Aa.Zi(f,y);M&&(e.ur=e.ur.insert(M.clientId,M))}}e.gr();const a=e.storage.getItem(e.wr);if(a){const f=e.yr(a);f&&e.pr(f)}for(const f of e.cr)e.rr(f);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((a,f)=>{f.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,a){this.Tr(e,t,a),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(Op(this.persistenceKey,e));if(a){const f=ud.Zi(e,a);f&&(t=f.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Op(this.persistenceKey,e))}updateQueryState(e,t,a){this.Rr(e,t,a)}handleUserChange(e,t,a){t.forEach(f=>{this.Er(f)}),this.currentUser=e,a.forEach(f=>{this.addPendingMutation(f)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return On("SharedClientState","READ",e,t),t}setItem(e,t){On("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){On("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const a=e;if(a.storageArea===this.storage){if(On("SharedClientState","EVENT",a.key,a.newValue),a.key===this.ar)return void Qi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ut.Z)(function*(){if(t.started){if(null!==a.key)if(t.lr.test(a.key)){if(null==a.newValue){const f=t.vr(a.key);return t.Vr(f,null)}{const f=t.Sr(a.key,a.newValue);if(f)return t.Vr(f.clientId,f)}}else if(t.dr.test(a.key)){if(null!==a.newValue){const f=t.Dr(a.key,a.newValue);if(f)return t.Cr(f)}}else if(t._r.test(a.key)){if(null!==a.newValue){const f=t.Nr(a.key,a.newValue);if(f)return t.kr(f)}}else if(a.key===t.wr){if(null!==a.newValue){const f=t.yr(a.newValue);if(f)return t.pr(f)}}else if(a.key===t.hr){const f=function(y){let M=po.at;if(null!=y)try{const U=JSON.parse(y);Ei("number"==typeof U),M=U}catch(U){Qi("SharedClientState","Failed to read sequence number from WebStorage",U)}return M}(a.newValue);f!==po.at&&t.sequenceNumberHandler(f)}else if(a.key===t.mr){const f=t.Or(a.newValue);yield Promise.all(f.map(y=>t.syncEngine.Mr(y)))}}else t.cr.push(a)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,a){const f=new Pp(this.currentUser,e,t,a),y=Rp(this.persistenceKey,this.currentUser,e);this.setItem(y,f.tr())}Er(e){const t=Rp(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,a){const f=Op(this.persistenceKey,e),y=new ud(e,t,a);this.setItem(f,y.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const a=this.vr(e);return Aa.Zi(a,t)}Dr(e,t){const a=this.dr.exec(e),f=Number(a[1]);return Pp.Zi(new nr(void 0!==a[2]?a[2]:null),f,t)}Nr(e,t){const a=this._r.exec(e),f=Number(a[1]);return ud.Zi(f,t)}yr(e){return Qd.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ut.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);On("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const a=t?this.ur.insert(e,t):this.ur.remove(e),f=this.Ir(this.ur),y=this.Ir(a),M=[],U=[];return y.forEach(oe=>{f.has(oe)||M.push(oe)}),f.forEach(oe=>{y.has(oe)||U.push(oe)}),this.syncEngine.Br(M,U).then(()=>{this.ur=a})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=vu();return e.forEach((a,f)=>{t=t.unionWith(f.activeTargetIds)}),t}}class w{constructor(){this.Lr=new Af,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,a){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Af,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class T{qr(e){}shutdown(){}}class c{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){On("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){On("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const _={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class O{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class ie extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,a,f,y){const M=this.ho(e,t);On("RestConnection","Sending: ",M,a);const U={};return this.lo(U,f,y),this.fo(e,M,U,a).then(oe=>(On("RestConnection","Received: ",oe),oe),oe=>{throw ma("RestConnection",`${e} failed with error: `,oe,"url: ",M,"request:",a),oe})}_o(e,t,a,f,y,M){return this.ao(e,t,a,f,y)}lo(e,t,a){e["X-Goog-Api-Client"]="gl-js/ fire/"+pa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((f,y)=>e[y]=f),a&&a.headers.forEach((f,y)=>e[y]=f)}ho(e,t){return`${this.oo}/v1/${t}:${_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,a,f){return new Promise((y,M)=>{const U=new au;U.setWithCredentials(!0),U.listenOnce(Ll.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case Tc.NO_ERROR:const ve=U.getResponseJson();On("Connection","XHR received:",JSON.stringify(ve)),y(ve);break;case Tc.TIMEOUT:On("Connection",'RPC "'+e+'" timed out'),M(new Sn(cn.DEADLINE_EXCEEDED,"Request time out"));break;case Tc.HTTP_ERROR:const $e=U.getStatus();if(On("Connection",'RPC "'+e+'" failed with status:',$e,"response text:",U.getResponseText()),$e>0){const yt=U.getResponseJson().error;if(yt&&yt.status&&yt.message){const Yt=function(vn){const Dn=vn.toLowerCase().replace(/_/g,"-");return Object.values(cn).indexOf(Dn)>=0?Dn:cn.UNKNOWN}(yt.status);M(new Sn(Yt,yt.message))}else M(new Sn(cn.UNKNOWN,"Server responded with status "+U.getStatus()))}else M(new Sn(cn.UNAVAILABLE,"Connection failed."));break;default:ti()}}finally{On("Connection",'RPC "'+e+'" completed.')}});const oe=JSON.stringify(f);U.send(t,"POST",oe,a,15)})}wo(e,t,a){const f=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],y=$u(),M=Md(),U={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(U.xmlHttpFactory=new Mc({})),this.lo(U.initMessageHeaders,t,a),U.encodeInitMessageHeaders=!0;const oe=f.join("");On("Connection","Creating WebChannel: "+oe,U);const ve=y.createWebChannel(oe,U);let $e=!1,yt=!1;const Yt=new O({Hr:Dn=>{yt?On("Connection","Not sending because WebChannel is closed:",Dn):($e||(On("Connection","Opening WebChannel transport."),ve.open(),$e=!0),On("Connection","WebChannel sending:",Dn),ve.send(Dn))},Jr:()=>ve.close()}),vn=(Dn,ni,fi)=>{Dn.listen(ni,Un=>{try{fi(Un)}catch(Jn){setTimeout(()=>{throw Jn},0)}})};return vn(ve,el.EventType.OPEN,()=>{yt||On("Connection","WebChannel transport opened.")}),vn(ve,el.EventType.CLOSE,()=>{yt||(yt=!0,On("Connection","WebChannel transport closed"),Yt.io())}),vn(ve,el.EventType.ERROR,Dn=>{yt||(yt=!0,ma("Connection","WebChannel transport errored:",Dn),Yt.io(new Sn(cn.UNAVAILABLE,"The operation could not be completed")))}),vn(ve,el.EventType.MESSAGE,Dn=>{var ni;if(!yt){const fi=Dn.data[0];Ei(!!fi);const Un=fi,Jn=Un.error||(null===(ni=Un[0])||void 0===ni?void 0:ni.error);if(Jn){On("Connection","WebChannel received error:",Jn);const ei=Jn.status;let Ti=function(rr){const Gr=b[rr];if(void 0!==Gr)return me(Gr)}(ei),ki=Jn.message;void 0===Ti&&(Ti=cn.INTERNAL,ki="Unknown error status: "+ei+" with message "+Jn.message),yt=!0,Yt.io(new Sn(Ti,ki)),ve.close()}else On("Connection","WebChannel received:",fi),Yt.ro(fi)}}),vn(M,Bl.STAT_EVENT,Dn=>{Dn.stat===fa.PROXY?On("Connection","Detected buffering proxy"):Dn.stat===fa.NOPROXY&&On("Connection","Detected no buffering proxy")}),setTimeout(()=>{Yt.so()},0),Yt}}function wt(){return typeof window<"u"?window:null}function qt(){return typeof document<"u"?document:null}function An(s){return new dm(s,!0)}class Ii{constructor(e,t,a=1e3,f=1.5,y=6e4){this.Hs=e,this.timerId=t,this.mo=a,this.yo=f,this.po=y,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),a=Math.max(0,Date.now()-this.Eo),f=Math.max(0,t-a);f>0&&On("ExponentialBackoff",`Backing off for ${f} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,f,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class ui{constructor(e,t,a,f,y,M,U,oe){this.Hs=e,this.vo=a,this.Vo=f,this.connection=y,this.authCredentialsProvider=M,this.appCheckCredentialsProvider=U,this.listener=oe,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Ii(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,ut.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ut.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var a=this;return(0,ut.Z)(function*(){a.Lo(),a.Uo(),a.xo.cancel(),a.So++,4!==e?a.xo.reset():t&&t.code===cn.RESOURCE_EXHAUSTED?(Qi(t.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),a.xo.Ao()):t&&t.code===cn.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.qo(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,f])=>{this.So===t&&this.Go(a,f)},a=>{e(()=>{const f=new Sn(cn.UNKNOWN,"Fetching auth token failed: "+a.message);return this.Qo(f)})})}Go(e,t){const a=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{a(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(f=>{a(()=>this.Qo(f))}),this.stream.onMessage(f=>{a(()=>this.onMessage(f))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,ut.Z)(function*(){e.state=0,e.start()}))}Qo(e){return On("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(On("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yr extends ui{constructor(e,t,a,f,y,M){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,f,M),this.It=y}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function wg(s,e){let t;if("targetChange"in e){const a="NO_CHANGE"===(oe=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===oe?1:"REMOVE"===oe?2:"CURRENT"===oe?3:"RESET"===oe?4:ti(),f=e.targetChange.targetIds||[],y=function(oe,ve){return oe.gt?(Ei(void 0===ve||"string"==typeof ve),xn.fromBase64String(ve||"")):(Ei(void 0===ve||ve instanceof Uint8Array),xn.fromUint8Array(ve||new Uint8Array))}(s,e.targetChange.resumeToken),M=e.targetChange.cause,U=M&&function(oe){const ve=void 0===oe.code?cn.UNKNOWN:me(oe.code);return new Sn(ve,oe.message||"")}(M);t=new $l(a,f,y,U||null)}else if("documentChange"in e){const a=e.documentChange,f=Ia(s,a.document.name),y=bs(a.document.updateTime),M=new us({mapValue:{fields:a.document.fields}}),U=vr.newFoundDocument(f,y,M);t=new Ga(a.targetIds||[],a.removedTargetIds||[],U.key,U)}else if("documentDelete"in e){const a=e.documentDelete,f=Ia(s,a.document),y=a.readTime?bs(a.readTime):bi.min(),M=vr.newNoDocument(f,y);t=new Ga([],a.removedTargetIds||[],M.key,M)}else if("documentRemove"in e){const a=e.documentRemove,f=Ia(s,a.document);t=new Ga([],a.removedTargetIds||[],f,null)}else{if(!("filter"in e))return ti();{const a=e.filter,y=new R(a.count||0);t=new yu(a.targetId,y)}}var oe;return t}(this.It,e),a=function(f){if(!("targetChange"in f))return bi.min();const y=f.targetChange;return y.targetIds&&y.targetIds.length?bi.min():y.readTime?bs(y.readTime):bi.min()}(e);return this.listener.Wo(t,a)}zo(e){const t={};t.database=Du(this.It),t.addTarget=function(f,y){let M;const U=y.target;return M=du(U)?{documents:Ld(f,U)}:{query:_p(f,U)},M.targetId=y.targetId,y.resumeToken.approximateByteSize()>0?M.resumeToken=Cu(f,y.resumeToken):y.snapshotVersion.compareTo(bi.min())>0&&(M.readTime=td(f,y.snapshotVersion.toTimestamp())),M}(this.It,e);const a=function pf(s,e){const t=function(a,f){switch(f){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ti()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);a&&(t.labels=a),this.Bo(t)}Ho(e){const t={};t.database=Du(this.It),t.removeTarget=e,this.Bo(t)}}class cr extends ui{constructor(e,t,a,f,y,M){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,f,M),this.It=y,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Ei(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function gp(s,e){return s&&s.length>0?(Ei(void 0!==e),s.map(t=>function(a,f){let y=bs(a.updateTime?a.updateTime:f);return y.isEqual(bi.min())&&(y=bs(f)),new dp(y,a.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),a=bs(e.commitTime);return this.listener.Zo(a,t)}return Ei(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Du(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>Fd(this.It,a))};this.Bo(t)}}class Cs extends class{}{constructor(e,t,a,f){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.It=f,this.nu=!1}su(){if(this.nu)throw new Sn(cn.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,a){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,y])=>this.connection.ao(e,t,a,f,y)).catch(f=>{throw"FirebaseError"===f.name?(f.code===cn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Sn(cn.UNKNOWN,f.toString())})}_o(e,t,a,f){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,M])=>this.connection._o(e,t,a,y,M,f)).catch(y=>{throw"FirebaseError"===y.name?(y.code===cn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new Sn(cn.UNKNOWN,y.toString())})}terminate(){this.nu=!0}}class ia{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Qi(t),this.ou=!1):On("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class es{constructor(e,t,a,f,y){var M=this;this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=y,this.mu.qr(U=>{a.enqueueAndForget((0,ut.Z)(function*(){var oe;pc(M)&&(On("RemoteStore","Restarting streams for network reachability change."),yield(oe=(0,ut.Z)(function*(ve){const $e=Qn(ve);$e._u.add(4),yield Nu($e),$e.gu.set("Unknown"),$e._u.delete(4),yield ka($e)}),function(ve){return oe.apply(this,arguments)})(M))}))}),this.gu=new ia(a,f)}}function ka(s){return Zc.apply(this,arguments)}function Zc(){return Zc=(0,ut.Z)(function*(s){if(pc(s))for(const e of s.wu)yield e(!0)}),Zc.apply(this,arguments)}function Nu(s){return xm.apply(this,arguments)}function xm(){return xm=(0,ut.Z)(function*(s){for(const e of s.wu)yield e(!1)}),xm.apply(this,arguments)}function kf(s,e){const t=Qn(s);t.du.has(e.targetId)||(t.du.set(e.targetId,e),hd(t)?Rf(t):Ff(t).ko()&&Np(t,e))}function qc(s,e){const t=Qn(s),a=Ff(t);t.du.delete(e),a.ko()&&dd(t,e),0===t.du.size&&(a.ko()?a.Fo():pc(t)&&t.gu.set("Unknown"))}function Np(s,e){s.yu.Mt(e.targetId),Ff(s).zo(e)}function dd(s,e){s.yu.Mt(e),Ff(s).Ho(e)}function Rf(s){s.yu=new Tl({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),se:e=>s.du.get(e)||null}),Ff(s).start(),s.gu.uu()}function hd(s){return pc(s)&&!Ff(s).No()&&s.du.size>0}function pc(s){return 0===Qn(s)._u.size}function Am(s){s.yu=void 0}function Fg(s){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,ut.Z)(function*(s){s.du.forEach((e,t)=>{Np(s,e)})}),Lg.apply(this,arguments)}function ly(s,e){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,ut.Z)(function*(s,e){Am(s),hd(s)?(s.gu.hu(e),Rf(s)):s.gu.set("Unknown")}),Jd.apply(this,arguments)}function V_(s,e,t){return km.apply(this,arguments)}function km(){return km=(0,ut.Z)(function*(s,e,t){if(s.gu.set("Online"),e instanceof $l&&2===e.state&&e.cause)try{yield(a=(0,ut.Z)(function*(f,y){const M=y.cause;for(const U of y.targetIds)f.du.has(U)&&(yield f.remoteSyncer.rejectListen(U,M),f.du.delete(U),f.yu.removeTarget(U))}),function(f,y){return a.apply(this,arguments)})(s,e)}catch(a){On("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Vh(s,a)}else if(e instanceof Ga?s.yu.Gt(e):e instanceof yu?s.yu.Yt(e):s.yu.Wt(e),!t.isEqual(bi.min()))try{const a=yield ul(s.localStore);t.compareTo(a)>=0&&(yield function(f,y){const M=f.yu.te(y);return M.targetChanges.forEach((U,oe)=>{if(U.resumeToken.approximateByteSize()>0){const ve=f.du.get(oe);ve&&f.du.set(oe,ve.withResumeToken(U.resumeToken,y))}}),M.targetMismatches.forEach(U=>{const oe=f.du.get(U);if(!oe)return;f.du.set(U,oe.withResumeToken(xn.EMPTY_BYTE_STRING,oe.snapshotVersion)),dd(f,U);const ve=new Tu(oe.target,U,1,oe.sequenceNumber);Np(f,ve)}),f.remoteSyncer.applyRemoteEvent(M)}(s,t))}catch(a){On("RemoteStore","Failed to raise snapshot:",a),yield Vh(s,a)}var a}),km.apply(this,arguments)}function Vh(s,e,t){return kl.apply(this,arguments)}function kl(){return kl=(0,ut.Z)(function*(s,e,t){if(!Ta(e))throw e;s._u.add(1),yield Nu(s),s.gu.set("Offline"),t||(t=()=>ul(s.localStore)),s.asyncQueue.enqueueRetryable((0,ut.Z)(function*(){On("RemoteStore","Retrying IndexedDB access"),yield t(),s._u.delete(1),yield ka(s)}))}),kl.apply(this,arguments)}function Rm(s,e){return e().catch(t=>Vh(s,t,e))}function Of(s){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,ut.Z)(function*(s){const e=Qn(s),t=md(e);let a=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;fd(e);)try{const f=yield Mf(e.localStore,a);if(null===f){0===e.fu.length&&t.Fo();break}a=f.batchId,Bg(e,f)}catch(f){yield Vh(e,f)}Vg(e)&&Om(e)}),Fp.apply(this,arguments)}function fd(s){return pc(s)&&s.fu.length<10}function Bg(s,e){s.fu.push(e);const t=md(s);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Vg(s){return pc(s)&&!md(s).No()&&s.fu.length>0}function Om(s){md(s).start()}function Ug(s){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,ut.Z)(function*(s){md(s).eu()}),Pf.apply(this,arguments)}function Nv(s){return pd.apply(this,arguments)}function pd(){return pd=(0,ut.Z)(function*(s){const e=md(s);for(const t of s.fu)e.Xo(t.mutations)}),pd.apply(this,arguments)}function Pm(s,e,t){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,ut.Z)(function*(s,e,t){const a=s.fu.shift(),f=ym.from(a,e,t);yield Rm(s,()=>s.remoteSyncer.applySuccessfulWrite(f)),yield Of(s)}),Uh.apply(this,arguments)}function Nm(s,e){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,ut.Z)(function*(s,e){var t;e&&md(s).Yo&&(yield(t=(0,ut.Z)(function*(a,f){if(B(y=f.code)&&y!==cn.ABORTED){const M=a.fu.shift();md(a).Mo(),yield Rm(a,()=>a.remoteSyncer.rejectFailedWrite(M.batchId,f)),yield Of(a)}var y}),function(a,f){return t.apply(this,arguments)})(s,e)),Vg(s)&&Om(s)}),Nf.apply(this,arguments)}function Fv(s,e){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,ut.Z)(function*(s,e){const t=Qn(s);t.asyncQueue.verifyOperationInProgress(),On("RemoteStore","RemoteStore received new credentials");const a=pc(t);t._u.add(3),yield Nu(t),a&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield ka(t)}),Hg.apply(this,arguments)}function Fm(s,e){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,ut.Z)(function*(s,e){const t=Qn(s);e?(t._u.delete(2),yield ka(t)):e||(t._u.add(2),yield Nu(t),t.gu.set("Unknown"))}),Lp.apply(this,arguments)}function Ff(s){return s.pu||(s.pu=function(e,t,a){const f=Qn(e);return f.su(),new yr(t,f.connection,f.authCredentials,f.appCheckCredentials,f.It,a)}(s.datastore,s.asyncQueue,{Yr:Fg.bind(null,s),Zr:ly.bind(null,s),Wo:V_.bind(null,s)}),s.wu.push(function(){var e=(0,ut.Z)(function*(t){t?(s.pu.Mo(),hd(s)?Rf(s):s.gu.set("Unknown")):(yield s.pu.stop(),Am(s))});return function(t){return e.apply(this,arguments)}}())),s.pu}function md(s){return s.Iu||(s.Iu=function(e,t,a){const f=Qn(e);return f.su(),new cr(t,f.connection,f.authCredentials,f.appCheckCredentials,f.It,a)}(s.datastore,s.asyncQueue,{Yr:Ug.bind(null,s),Zr:Nm.bind(null,s),tu:Nv.bind(null,s),Zo:Pm.bind(null,s)}),s.wu.push(function(){var e=(0,ut.Z)(function*(t){t?(s.Iu.Mo(),yield Of(s)):(yield s.Iu.stop(),s.fu.length>0&&(On("RemoteStore",`Stopping write stream with ${s.fu.length} pending writes`),s.fu=[]))});return function(t){return e.apply(this,arguments)}}())),s.Iu}class U_{constructor(e,t,a,f,y){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=f,this.removalCallback=y,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(M=>{})}static createAndSchedule(e,t,a,f,y){const M=Date.now()+a,U=new U_(e,t,M,f,y);return U.start(a),U}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Sn(cn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lf(s,e){if(Qi("AsyncQueue",`${e}: ${s}`),Ta(s))return new Sn(cn.UNAVAILABLE,`${e}: ${s}`);throw s}class Bf{constructor(e){this.comparator=e?(t,a)=>e(t,a)||zn.comparator(t.key,a.key):(t,a)=>zn.comparator(t.key,a.key),this.keyedMap=Vn(),this.sortedSet=new L(this.comparator)}static emptySet(e){return new Bf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const f=t.getNext().key,y=a.getNext().key;if(!f.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const a=new Bf;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}class Vf{constructor(){this.Tu=new L(zn.comparator)}track(e){const t=e.doc.key,a=this.Tu.get(t);a?0!==e.type&&3===a.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==a.type?this.Tu=this.Tu.insert(t,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Tu=this.Tu.remove(t):1===e.type&&2===a.type?this.Tu=this.Tu.insert(t,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):ti():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,a)=>{e.push(a)}),e}}class gd{constructor(e,t,a,f,y,M,U,oe,ve){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=f,this.mutatedKeys=y,this.fromCache=M,this.syncStateChanged=U,this.excludesMetadataChanges=oe,this.hasCachedResults=ve}static fromInitialDocuments(e,t,a,f,y){const M=[];return t.forEach(U=>{M.push({type:0,doc:U})}),new gd(e,t,Bf.emptySet(t),M,a,f,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let f=0;f<t.length;f++)if(t[f].type!==a[f].type||!t[f].doc.isEqual(a[f].doc))return!1;return!0}}class H_{constructor(){this.Au=void 0,this.listeners=[]}}class jg{constructor(){this.queries=new Ee(e=>cf(e),fu),this.onlineState="Unknown",this.Ru=new Set}}function $g(s,e){return Lm.apply(this,arguments)}function Lm(){return Lm=(0,ut.Z)(function*(s,e){const t=Qn(s),a=e.query;let f=!1,y=t.queries.get(a);if(y||(f=!0,y=new H_),f)try{y.Au=yield t.onListen(a)}catch(M){const U=Lf(M,`Initialization of query '${pu(e.query)}' failed`);return void e.onError(U)}t.queries.set(a,y),y.listeners.push(e),e.bu(t.onlineState),y.Au&&e.Pu(y.Au)&&G_(t)}),Lm.apply(this,arguments)}function j_(s,e){return $_.apply(this,arguments)}function $_(){return $_=(0,ut.Z)(function*(s,e){const t=Qn(s),a=e.query;let f=!1;const y=t.queries.get(a);if(y){const M=y.listeners.indexOf(e);M>=0&&(y.listeners.splice(M,1),f=0===y.listeners.length)}if(f)return t.queries.delete(a),t.onUnlisten(a)}),$_.apply(this,arguments)}function cy(s,e){const t=Qn(s);let a=!1;for(const f of e){const M=t.queries.get(f.query);if(M){for(const U of M.listeners)U.Pu(f)&&(a=!0);M.Au=f}}a&&G_(t)}function uy(s,e,t){const a=Qn(s),f=a.queries.get(e);if(f)for(const y of f.listeners)y.onError(t);a.queries.delete(e)}function G_(s){s.Ru.forEach(e=>{e.next()})}class z_{constructor(e,t,a){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=a||{}}Pu(e){if(!this.options.includeMetadataChanges){const a=[];for(const f of e.docChanges)3!==f.type&&a.push(f);e=new gd(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=gd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class dy{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class W_{constructor(e){this.It=e}Ji(e){return Ia(this.It,e)}Yi(e){return e.metadata.exists?ff(this.It,e.document,!1):vr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return bs(e)}}class eh{constructor(e,t,a){this.Mu=e,this.localStore=t,this.It=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Bp(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const a=vi.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,a=new W_(this.It);for(const f of e)if(f.metadata.queries){const y=a.Ji(f.metadata.name);for(const M of f.metadata.queries){const U=(t.get(M)||$i()).add(y);t.set(M,U)}}return t}complete(){var e=this;return(0,ut.Z)(function*(){const t=yield function Oi(s,e,t,a){return qd.apply(this,arguments)}(e.localStore,new W_(e.It),e.documents,e.Mu.id),a=e.$u(e.documents);for(const f of e.queries)yield xf(e.localStore,f,a.get(f.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Bp(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class Gg{constructor(e){this.key=e}}class zg{constructor(e){this.key=e}}class Vp{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=$i(),this.mutatedKeys=$i(),this.Gu=uf(e),this.Qu=new Bf(this.Gu)}get ju(){return this.Uu}Wu(e,t){const a=t?t.zu:new Vf,f=t?t.Qu:this.Qu;let y=t?t.mutatedKeys:this.mutatedKeys,M=f,U=!1;const oe="F"===this.query.limitType&&f.size===this.query.limit?f.last():null,ve="L"===this.query.limitType&&f.size===this.query.limit?f.first():null;if(e.inorderTraversal(($e,yt)=>{const Yt=f.get($e),vn=El(this.query,yt)?yt:null,Dn=!!Yt&&this.mutatedKeys.has(Yt.key),ni=!!vn&&(vn.hasLocalMutations||this.mutatedKeys.has(vn.key)&&vn.hasCommittedMutations);let fi=!1;Yt&&vn?Yt.data.isEqual(vn.data)?Dn!==ni&&(a.track({type:3,doc:vn}),fi=!0):this.Hu(Yt,vn)||(a.track({type:2,doc:vn}),fi=!0,(oe&&this.Gu(vn,oe)>0||ve&&this.Gu(vn,ve)<0)&&(U=!0)):!Yt&&vn?(a.track({type:0,doc:vn}),fi=!0):Yt&&!vn&&(a.track({type:1,doc:Yt}),fi=!0,(oe||ve)&&(U=!0)),fi&&(vn?(M=M.add(vn),y=ni?y.add($e):y.delete($e)):(M=M.delete($e),y=y.delete($e)))}),null!==this.query.limit)for(;M.size>this.query.limit;){const $e="F"===this.query.limitType?M.last():M.first();M=M.delete($e.key),y=y.delete($e.key),a.track({type:1,doc:$e})}return{Qu:M,zu:a,$i:U,mutatedKeys:y}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a){const f=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const y=e.zu.Eu();y.sort((ve,$e)=>function(yt,Yt){const vn=Dn=>{switch(Dn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ti()}};return vn(yt)-vn(Yt)}(ve.type,$e.type)||this.Gu(ve.doc,$e.doc)),this.Ju(a);const M=t?this.Yu():[],U=0===this.Ku.size&&this.current?1:0,oe=U!==this.qu;return this.qu=U,0!==y.length||oe?{snapshot:new gd(this.query,e.Qu,f,y,e.mutatedKeys,0===U,oe,!1,!!a&&a.resumeToken.approximateByteSize()>0),Xu:M}:{Xu:M}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Vf,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=$i(),this.Qu.forEach(a=>{this.Zu(a.key)&&(this.Ku=this.Ku.add(a.key))});const t=[];return e.forEach(a=>{this.Ku.has(a)||t.push(new zg(a))}),this.Ku.forEach(a=>{e.has(a)||t.push(new Gg(a))}),t}tc(e){this.Uu=e.Hi,this.Ku=$i();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return gd.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class Up{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class Bm{constructor(e){this.key=e,this.nc=!1}}class Lv{constructor(e,t,a,f,y,M){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=f,this.currentUser=y,this.maxConcurrentLimboResolutions=M,this.sc={},this.ic=new Ee(U=>cf(U),fu),this.rc=new Map,this.oc=new Set,this.uc=new L(zn.comparator),this.cc=new Map,this.ac=new Sp,this.hc={},this.lc=new Map,this.fc=lc.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function th(s,e){return Vm.apply(this,arguments)}function Vm(){return Vm=(0,ut.Z)(function*(s,e){const t=zm(s);let a,f;const y=t.ic.get(e);if(y)a=y.targetId,t.sharedClientState.addLocalQueryTarget(a),f=y.view.ec();else{const M=yield Kd(t.localStore,ea(e));t.isPrimaryClient&&kf(t.remoteStore,M);const U=t.sharedClientState.addLocalQueryTarget(M.targetId);a=M.targetId,f=yield Hp(t,e,a,"current"===U,M.resumeToken)}return f}),Vm.apply(this,arguments)}function Hp(s,e,t,a,f){return Um.apply(this,arguments)}function Um(){return Um=(0,ut.Z)(function*(s,e,t,a,f){s._c=(yt,Yt,vn)=>{return(Dn=(0,ut.Z)(function*(ni,fi,Un,Jn){let ei=fi.view.Wu(Un);ei.$i&&(ei=yield Zd(ni.localStore,fi.query,!1).then(({documents:rr})=>fi.view.Wu(rr,ei)));const Ti=Jn&&Jn.targetChanges.get(fi.targetId),ki=fi.view.applyChanges(ei,ni.isPrimaryClient,Ti);return Zg(ni,fi.targetId,ki.Xu),ki.snapshot}),function(ni,fi,Un,Jn){return Dn.apply(this,arguments)})(s,yt,Yt,vn);var Dn};const y=yield Zd(s.localStore,e,!0),M=new Vp(e,y.Hi),U=M.Wu(y.documents),oe=ta.createSynthesizedTargetChangeForCurrentChange(t,a&&"Offline"!==s.onlineState,f),ve=M.applyChanges(U,s.isPrimaryClient,oe);Zg(s,t,ve.Xu);const $e=new Up(e,t,M);return s.ic.set(e,$e),s.rc.has(t)?s.rc.get(t).push(e):s.rc.set(t,[e]),ve.snapshot}),Um.apply(this,arguments)}function Y_(s,e){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,ut.Z)(function*(s,e){const t=Qn(s),a=t.ic.get(e),f=t.rc.get(a.targetId);if(f.length>1)return t.rc.set(a.targetId,f.filter(y=>!fu(y,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(a.targetId),t.sharedClientState.isActiveQueryTarget(a.targetId)||(yield fc(t.localStore,a.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(a.targetId),qc(t.remoteStore,a.targetId),Gf(t,a.targetId)}).catch(Ho))):(Gf(t,a.targetId),yield fc(t.localStore,a.targetId,!0))}),Wg.apply(this,arguments)}function Kl(){return Kl=(0,ut.Z)(function*(s,e,t){const a=Jg(s);try{const f=yield function(y,M){const U=Qn(y),oe=kr.now(),ve=M.reduce((Yt,vn)=>Yt.add(vn.key),$i());let $e,yt;return U.persistence.runTransaction("Locally write mutations","readwrite",Yt=>{let vn=sn(),Dn=$i();return U.Gi.getEntries(Yt,ve).next(ni=>{vn=ni,vn.forEach((fi,Un)=>{Un.isValidDocument()||(Dn=Dn.add(fi))})}).next(()=>U.localDocuments.getOverlayedDocuments(Yt,vn)).next(ni=>{$e=ni;const fi=[];for(const Un of M){const Jn=hp(Un,$e.get(Un.key).overlayedDocument);null!=Jn&&fi.push(new ll(Un.key,Jn,$a(Jn.value.mapValue),os.exists(!0)))}return U.mutationQueue.addMutationBatch(Yt,oe,fi,M)}).next(ni=>{yt=ni;const fi=ni.applyToLocalDocumentSet($e,Dn);return U.documentOverlayCache.saveOverlays(Yt,ni.batchId,fi)})}).then(()=>({batchId:yt.batchId,changes:wi($e)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(f.batchId),function(y,M,U){let oe=y.hc[y.currentUser.toKey()];oe||(oe=new L(Si)),oe=oe.insert(M,U),y.hc[y.currentUser.toKey()]=oe}(a,f.batchId,t),yield vd(a,f.changes),yield Of(a.remoteStore)}catch(f){const y=Lf(f,"Failed to persist write");t.reject(y)}}),Kl.apply(this,arguments)}function nh(s,e){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,ut.Z)(function*(s,e){const t=Qn(s);try{const a=yield xp(t.localStore,e);e.targetChanges.forEach((f,y)=>{const M=t.cc.get(y);M&&(Ei(f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size<=1),f.addedDocuments.size>0?M.nc=!0:f.modifiedDocuments.size>0?Ei(M.nc):f.removedDocuments.size>0&&(Ei(M.nc),M.nc=!1))}),yield vd(t,a,e)}catch(a){yield Ho(a)}}),Uf.apply(this,arguments)}function Rl(s,e,t){const a=Qn(s);if(a.isPrimaryClient&&0===t||!a.isPrimaryClient&&1===t){const f=[];a.ic.forEach((y,M)=>{const U=M.view.bu(e);U.snapshot&&f.push(U.snapshot)}),function(y,M){const U=Qn(y);U.onlineState=M;let oe=!1;U.queries.forEach((ve,$e)=>{for(const yt of $e.listeners)yt.bu(M)&&(oe=!0)}),oe&&G_(U)}(a.eventManager,e),f.length&&a.sc.Wo(f),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function Hf(s,e,t){return _d.apply(this,arguments)}function _d(){return _d=(0,ut.Z)(function*(s,e,t){const a=Qn(s);a.sharedClientState.updateQueryState(e,"rejected",t);const f=a.cc.get(e),y=f&&f.key;if(y){let M=new L(zn.comparator);M=M.insert(y,vr.newNoDocument(y,bi.min()));const U=$i().add(y),oe=new Mo(bi.min(),new Map,new te(Si),M,U);yield nh(a,oe),a.uc=a.uc.remove(y),a.cc.delete(e),Gp(a)}else yield fc(a.localStore,e,!1).then(()=>Gf(a,e,t)).catch(Ho)}),_d.apply(this,arguments)}function Z_(s,e){return Hm.apply(this,arguments)}function Hm(){return Hm=(0,ut.Z)(function*(s,e){const t=Qn(s),a=e.batch.batchId;try{const f=yield Mm(t.localStore,e);$f(t,a,null),Fu(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),yield vd(t,f)}catch(f){yield Ho(f)}}),Hm.apply(this,arguments)}function Yg(s,e,t){return jf.apply(this,arguments)}function jf(){return jf=(0,ut.Z)(function*(s,e,t){const a=Qn(s);try{const f=yield function(y,M){const U=Qn(y);return U.persistence.runTransaction("Reject batch","readwrite-primary",oe=>{let ve;return U.mutationQueue.lookupMutationBatch(oe,M).next($e=>(Ei(null!==$e),ve=$e.keys(),U.mutationQueue.removeMutationBatch(oe,$e))).next(()=>U.mutationQueue.performConsistencyCheck(oe)).next(()=>U.documentOverlayCache.removeOverlaysForBatchId(oe,ve,M)).next(()=>U.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(oe,ve)).next(()=>U.localDocuments.getDocuments(oe,ve))})}(a.localStore,e);$f(a,e,t),Fu(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),yield vd(a,f)}catch(f){yield Ho(f)}}),jf.apply(this,arguments)}function jp(){return jp=(0,ut.Z)(function*(s,e){const t=Qn(s);pc(t.remoteStore)||On("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(y){const M=Qn(y);return M.persistence.runTransaction("Get highest unacknowledged batch id","readonly",U=>M.mutationQueue.getHighestUnacknowledgedBatchId(U))}(t.localStore);if(-1===a)return void e.resolve();const f=t.lc.get(a)||[];f.push(e),t.lc.set(a,f)}catch(a){const f=Lf(a,"Initialization of waitForPendingWrites() operation failed");e.reject(f)}}),jp.apply(this,arguments)}function Fu(s,e){(s.lc.get(e)||[]).forEach(t=>{t.resolve()}),s.lc.delete(e)}function $f(s,e,t){const a=Qn(s);let f=a.hc[a.currentUser.toKey()];if(f){const y=f.get(e);y&&(t?y.reject(t):y.resolve(),f=f.remove(e)),a.hc[a.currentUser.toKey()]=f}}function Gf(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.rc.get(e))s.ic.delete(a),t&&s.sc.wc(a,t);s.rc.delete(e),s.isPrimaryClient&&s.ac.ls(e).forEach(a=>{s.ac.containsKey(a)||Kg(s,a)})}function Kg(s,e){s.oc.delete(e.path.canonicalString());const t=s.uc.get(e);null!==t&&(qc(s.remoteStore,t),s.uc=s.uc.remove(e),s.cc.delete(t),Gp(s))}function Zg(s,e,t){for(const a of t)a instanceof Gg?(s.ac.addReference(a.key,e),$p(s,a)):a instanceof zg?(On("SyncEngine","Document no longer in limbo: "+a.key),s.ac.removeReference(a.key,e),s.ac.containsKey(a.key)||Kg(s,a.key)):ti()}function $p(s,e){const t=e.key,a=t.path.canonicalString();s.uc.get(t)||s.oc.has(a)||(On("SyncEngine","New document in limbo: "+t),s.oc.add(a),Gp(s))}function Gp(s){for(;s.oc.size>0&&s.uc.size<s.maxConcurrentLimboResolutions;){const e=s.oc.values().next().value;s.oc.delete(e);const t=new zn(vi.fromString(e)),a=s.fc.next();s.cc.set(a,new Bm(t)),s.uc=s.uc.insert(t,a),kf(s.remoteStore,new Tu(ea(Hl(t.path)),a,2,po.at))}}function vd(s,e,t){return Ra.apply(this,arguments)}function Ra(){return Ra=(0,ut.Z)(function*(s,e,t){const a=Qn(s),f=[],y=[],M=[];var U;a.ic.isEmpty()||(a.ic.forEach((U,oe)=>{M.push(a._c(oe,e,t).then(ve=>{if((ve||t)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(oe.targetId,ve?.fromCache?"not-current":"current"),ve){f.push(ve);const $e=Sf.Ci(oe.targetId,ve);y.push($e)}}))}),yield Promise.all(M),a.sc.Wo(f),yield(U=(0,ut.Z)(function*(oe,ve){const $e=Qn(oe);try{yield $e.persistence.runTransaction("notifyLocalViewChanges","readwrite",yt=>on.forEach(ve,Yt=>on.forEach(Yt.Si,vn=>$e.persistence.referenceDelegate.addReference(yt,Yt.targetId,vn)).next(()=>on.forEach(Yt.Di,vn=>$e.persistence.referenceDelegate.removeReference(yt,Yt.targetId,vn)))))}catch(yt){if(!Ta(yt))throw yt;On("LocalStore","Failed to update sequence numbers: "+yt)}for(const yt of ve){const Yt=yt.targetId;if(!yt.fromCache){const vn=$e.Ui.get(Yt),ni=vn.withLastLimboFreeSnapshotVersion(vn.snapshotVersion);$e.Ui=$e.Ui.insert(Yt,ni)}}}),function(oe,ve){return U.apply(this,arguments)})(a.localStore,y))}),Ra.apply(this,arguments)}function zp(s,e){return qg.apply(this,arguments)}function qg(){return qg=(0,ut.Z)(function*(s,e){const t=Qn(s);if(!t.currentUser.isEqual(e)){On("SyncEngine","User change. New user:",e.toKey());const a=yield Yd(t.localStore,e);t.currentUser=e,(f=t).lc.forEach(M=>{M.forEach(U=>{U.reject(new Sn(cn.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.lc.clear(),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield vd(t,a.ji)}var f}),qg.apply(this,arguments)}function Wp(s,e){const t=Qn(s),a=t.cc.get(e);if(a&&a.nc)return $i().add(a.key);{let f=$i();const y=t.rc.get(e);if(!y)return f;for(const M of y){const U=t.ic.get(M);f=f.unionWith(U.view.ju)}return f}}function q_(s,e){return zf.apply(this,arguments)}function zf(){return zf=(0,ut.Z)(function*(s,e){const t=Qn(s),a=yield Zd(t.localStore,e.query,!0),f=e.view.tc(a);return t.isPrimaryClient&&Zg(t,e.targetId,f.Xu),f}),zf.apply(this,arguments)}function Qg(s,e){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,ut.Z)(function*(s,e){const t=Qn(s);return Im(t.localStore,e).then(a=>vd(t,a))}),Hh.apply(this,arguments)}function $m(s,e,t,a){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,ut.Z)(function*(s,e,t,a){const f=Qn(s),y=yield function(M,U){const oe=Qn(M),ve=Qn(oe.mutationQueue);return oe.persistence.runTransaction("Lookup mutation documents","readonly",$e=>ve.Tn($e,U).next(yt=>yt?oe.localDocuments.getDocuments($e,yt):on.resolve(null)))}(f.localStore,e);var U;null!==y?("pending"===t?yield Of(f.remoteStore):"acknowledged"===t||"rejected"===t?($f(f,e,a||null),Fu(f,e),U=e,Qn(Qn(f.localStore).mutationQueue).An(U)):ti(),yield vd(f,y)):On("SyncEngine","Cannot apply mutation batch with id: "+e)}),Yp.apply(this,arguments)}function Kp(){return Kp=(0,ut.Z)(function*(s,e){const t=Qn(s);if(zm(t),Jg(t),!0===e&&!0!==t.dc){const a=t.sharedClientState.getAllActiveQueryTargets(),f=yield Xg(t,a.toArray());t.dc=!0,yield Fm(t.remoteStore,!0);for(const y of f)kf(t.remoteStore,y)}else if(!1===e&&!1!==t.dc){const a=[];let f=Promise.resolve();t.rc.forEach((y,M)=>{t.sharedClientState.isLocalQueryTarget(M)?a.push(M):f=f.then(()=>(Gf(t,M),fc(t.localStore,M,!0))),qc(t.remoteStore,M)}),yield f,yield Xg(t,a),function(y){const M=Qn(y);M.cc.forEach((U,oe)=>{qc(M.remoteStore,oe)}),M.ac.fs(),M.cc=new Map,M.uc=new L(zn.comparator)}(t),t.dc=!1,yield Fm(t.remoteStore,!1)}}),Kp.apply(this,arguments)}function Xg(s,e,t){return jh.apply(this,arguments)}function jh(){return jh=(0,ut.Z)(function*(s,e,t){const a=Qn(s),f=[],y=[];for(const M of e){let U;const oe=a.rc.get(M);if(oe&&0!==oe.length){U=yield Kd(a.localStore,ea(oe[0]));for(const ve of oe){const $e=a.ic.get(ve),yt=yield q_(a,$e);yt.snapshot&&y.push(yt.snapshot)}}else{const ve=yield Lh(a.localStore,M);U=yield Kd(a.localStore,ve),yield Hp(a,Q_(ve),M,!1,U.resumeToken)}f.push(U)}return a.sc.Wo(y),f}),jh.apply(this,arguments)}function Q_(s){return bg(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function X_(s){const e=Qn(s);return Qn(Qn(e.localStore).persistence).vi()}function J_(s,e,t,a){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,ut.Z)(function*(s,e,t,a){const f=Qn(s);if(f.dc)return void On("SyncEngine","Ignoring unexpected query state notification.");const y=f.rc.get(e);if(y&&y.length>0)switch(t){case"current":case"not-current":{const M=yield Im(f.localStore,mu(y[0])),U=Mo.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,xn.EMPTY_BYTE_STRING);yield vd(f,M,U);break}case"rejected":yield fc(f.localStore,e,!0),Gf(f,e,a);break;default:ti()}}),Zp.apply(this,arguments)}function mc(s,e,t){return qp.apply(this,arguments)}function qp(){return qp=(0,ut.Z)(function*(s,e,t){const a=zm(s);if(a.dc){for(const f of e){if(a.rc.has(f)){On("SyncEngine","Adding an already active target "+f);continue}const y=yield Lh(a.localStore,f),M=yield Kd(a.localStore,y);yield Hp(a,Q_(y),M.targetId,!1,M.resumeToken),kf(a.remoteStore,M)}for(const f of t)a.rc.has(f)&&(yield fc(a.localStore,f,!1).then(()=>{qc(a.remoteStore,f),Gf(a,f)}).catch(Ho))}}),qp.apply(this,arguments)}function zm(s){const e=Qn(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=nh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wp.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hf.bind(null,e),e.sc.Wo=cy.bind(null,e.eventManager),e.sc.wc=uy.bind(null,e.eventManager),e}function Jg(s){const e=Qn(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Z_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Yg.bind(null,e),e}class Wm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ut.Z)(function*(){t.It=An(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Tm(this.persistence,new Mp,e.initialUser,this.It)}yc(e){return new Yc(hc.Bs,this.It)}gc(e){return new w}terminate(){var e=this;return(0,ut.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ym extends Wm{constructor(e,t,a){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,a=this;return(0,ut.Z)(function*(){yield t().call(a,e),yield a.Ac.initialize(a,e),yield Jg(a.Ac.syncEngine),yield Of(a.Ac.remoteStore),yield a.persistence.li(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Tm(this.persistence,new Mp,e.initialUser,this.It)}Tc(e,t){return new Wl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const a=new Vl(t,this.persistence);return new qs(e.asyncQueue,a)}yc(e){const t=Kc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Ws.withCacheSize(this.cacheSizeBytes):Ws.DEFAULT;return new cd(this.synchronizeTabs,t,e.clientId,a,e.asyncQueue,wt(),qt(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new w}}class e_ extends Ym{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,a=this;return(0,ut.Z)(function*(){yield t().call(a,e);const f=a.Ac.syncEngine;a.sharedClientState instanceof Xd&&(a.sharedClientState.syncEngine={Fr:$m.bind(null,f),$r:J_.bind(null,f),Br:mc.bind(null,f),vi:X_.bind(null,f),Mr:Qg.bind(null,f)},yield a.sharedClientState.start()),yield a.persistence.li(function(){var y=(0,ut.Z)(function*(M){yield function Gm(s,e){return Kp.apply(this,arguments)}(a.Ac.syncEngine,M),a.gcScheduler&&(M&&!a.gcScheduler.started?a.gcScheduler.start():M||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(M&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():M||a.indexBackfillerScheduler.stop())});return function(M){return y.apply(this,arguments)}}())})()}gc(e){const t=wt();if(!Xd.C(t))throw new Sn(cn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Kc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Xd(t,e.asyncQueue,a,e.clientId,e.initialUser)}}class Qp{initialize(e,t){var a=this;return(0,ut.Z)(function*(){a.localStore||(a.localStore=e.localStore,a.sharedClientState=e.sharedClientState,a.datastore=a.createDatastore(t),a.remoteStore=a.createRemoteStore(t),a.eventManager=a.createEventManager(t),a.syncEngine=a.createSyncEngine(t,!e.synchronizeTabs),a.sharedClientState.onlineStateHandler=f=>Rl(a.syncEngine,f,1),a.remoteStore.remoteSyncer.handleCredentialChange=zp.bind(null,a.syncEngine),yield Fm(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(e){return new jg}createDatastore(e){const t=An(e.databaseInfo.databaseId),a=new ie(e.databaseInfo);return new Cs(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return t=this.localStore,a=this.datastore,f=e.asyncQueue,y=U=>Rl(this.syncEngine,U,0),M=c.C()?new c:new T,new es(t,a,f,y,M);var t,a,f,y,M}createSyncEngine(e,t){return function(a,f,y,M,U,oe,ve){const $e=new Lv(a,f,y,M,U,oe);return ve&&($e.dc=!0),$e}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ut.Z)(function*(t){const a=Qn(t);On("RemoteStore","RemoteStore shutting down."),a._u.add(5),yield Nu(a),a.mu.shutdown(),a.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function ih(s,e,t){if(!t)throw new Sn(cn.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function rh(s,e,t,a){if(!0===e&&!0===a)throw new Sn(cn.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function Km(s){if(!zn.isDocumentKey(s))throw new Sn(cn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Wf(s){if(zn.isDocumentKey(s))throw new Sn(cn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Yf(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(t=s).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof s?"a function":ti()}function ir(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Sn(cn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Yf(s);throw new Sn(cn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}function ev(s,e){if(e<=0)throw new Sn(cn.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}const Zm=new Map;class Xp{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Sn(cn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Sn(cn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,rh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sh{constructor(e,t,a,f){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=f,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Sn(cn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Sn(cn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xp(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Eo;switch(t.type){case"gapi":return new xc(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Sn(cn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Zm.get(e);t&&(On("ComponentProvider","Removing Datastore"),Zm.delete(e),t.terminate())}(this),Promise.resolve()}}class ws{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ol(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ws(this.firestore,e,this._key)}}class Oa{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Oa(this.firestore,e,this._query)}}class Ol extends Oa{constructor(e,t,a){super(e,t,Hl(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ws(this.firestore,null,new zn(e))}withConverter(e){return new Ol(this.firestore,e,this._path)}}function Zl(s,e,...t){if(s=(0,Be.m9)(s),ih("collection","path",e),s instanceof sh){const a=vi.fromString(e,...t);return Wf(a),new Ol(s,null,a)}{if(!(s instanceof ws||s instanceof Ol))throw new Sn(cn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(vi.fromString(e,...t));return Wf(a),new Ol(s.firestore,null,a)}}function $h(s,e,...t){if(s=(0,Be.m9)(s),1===arguments.length&&(e=il.R()),ih("doc","path",e),s instanceof sh){const a=vi.fromString(e,...t);return Km(a),new ws(s,null,new zn(a))}{if(!(s instanceof ws||s instanceof Ol))throw new Sn(cn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(vi.fromString(e,...t));return Km(a),new ws(s.firestore,s instanceof Ol?s.converter:null,new zn(a))}}function Lu(s,e){return s=(0,Be.m9)(s),e=(0,Be.m9)(e),(s instanceof ws||s instanceof Ol)&&(e instanceof ws||e instanceof Ol)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function gc(s,e){return s=(0,Be.m9)(s),e=(0,Be.m9)(e),s instanceof Oa&&e instanceof Oa&&s.firestore===e.firestore&&fu(s._query,e._query)&&s.converter===e.converter}function oh(s,e=10240){let t=0;return{read:()=>(0,ut.Z)(function*(){if(t<s.byteLength){const a={value:s.slice(t,t+e),done:!1};return t+=e,a}return{done:!0}})(),cancel:()=>(0,ut.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class em{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Qi("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class tv{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Ar,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(a=>{a&&a.Ou()?this.metadata.resolve(a.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(a?.ku)}`))},a=>this.metadata.reject(a))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,ut.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,ut.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,ut.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const a=e.vc.decode(t),f=Number(a);isNaN(f)&&e.Dc(`length string (${a}) is not valid number`);const y=yield e.Cc(f);return new dy(JSON.parse(y),t.length+f)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,ut.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),a})()}Cc(e){var t=this;return(0,ut.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const a=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),a})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,ut.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const a=new Uint8Array(e.buffer.length+t.value.length);a.set(e.buffer),a.set(t.value,e.buffer.length),e.buffer=a}return t.done})()}}class fy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ut.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Sn(cn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(f=(0,ut.Z)(function*(y,M){const U=Qn(y),oe=Du(U.It)+"/documents",ve={documents:M.map(vn=>Ml(U.It,vn))},$e=yield U._o("BatchGetDocuments",oe,ve,M.length),yt=new Map;$e.forEach(vn=>{const Dn=function fm(s,e){return"found"in e?function(t,a){Ei(!!a.found);const f=Ia(t,a.found.name),y=bs(a.found.updateTime),M=new us({mapValue:{fields:a.found.fields}});return vr.newFoundDocument(f,y,M)}(s,e):"missing"in e?function(t,a){Ei(!!a.missing),Ei(!!a.readTime);const f=Ia(t,a.missing),y=bs(a.readTime);return vr.newNoDocument(f,y)}(s,e):ti()}(U.It,vn);yt.set(Dn.key.toString(),Dn)});const Yt=[];return M.forEach(vn=>{const Dn=yt.get(vn.toString());Ei(!!Dn),Yt.push(Dn)}),Yt}),function(y,M){return f.apply(this,arguments)})(t.datastore,e);var f;return a.forEach(f=>t.recordVersion(f)),a})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new Bc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ut.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var a;e.mutations.forEach(a=>{t.delete(a.key.toString())}),t.forEach((a,f)=>{const y=zn.fromPath(f);e.mutations.push(new ds(y,e.precondition(y)))}),yield(a=(0,ut.Z)(function*(f,y){const M=Qn(f),U=Du(M.It)+"/documents",oe={writes:y.map(ve=>Fd(M.It,ve))};yield M.ao("Commit",U,oe)}),function(f,y){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ti();t=bi.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!t.isEqual(a))throw new Sn(cn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(bi.min())?os.exists(!1):os.updateTime(t):os.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(bi.min()))throw new Sn(cn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return os.updateTime(t)}return os.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class _c{constructor(e,t,a,f,y){this.asyncQueue=e,this.datastore=t,this.options=a,this.updateFunction=f,this.deferred=y,this.kc=a.maxAttempts,this.xo=new Ii(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,ut.Z)(function*(){const t=new fy(e.datastore),a=e.Mc(t);a&&a.then(f=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(f)}).catch(y=>{e.Fc(y)}))}).catch(f=>{e.Fc(f)})}))}Mc(e){try{const t=this.updateFunction(e);return!va(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!B(t)}return!1}}class Bv{constructor(e,t,a,f){var y=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=f,this.user=nr.UNAUTHENTICATED,this.clientId=il.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var M=(0,ut.Z)(function*(U){On("FirestoreClient","Received user=",U.uid),yield y.authCredentialListener(U),y.user=U});return function(U){return M.apply(this,arguments)}}()),this.appCheckCredentials.start(a,M=>(On("FirestoreClient","Received new app check token=",M),this.appCheckCredentialListener(M,this.user)))}getConfiguration(){var e=this;return(0,ut.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Sn(cn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ut.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(a){const f=Lf(a,"Failed to shutdown persistence");t.reject(f)}})),t.promise}}function iv(s,e){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,ut.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),On("FirestoreClient","Initializing OfflineComponentProvider");const t=yield s.getConfiguration();yield e.initialize(t);let a=t.initialUser;s.setCredentialChangeListener(function(){var f=(0,ut.Z)(function*(y){a.isEqual(y)||(yield Yd(e.localStore,y),a=y)});return function(y){return f.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=e}),Kf.apply(this,arguments)}function n_(s,e){return Ya.apply(this,arguments)}function Ya(){return Ya=(0,ut.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const t=yield Zf(s);On("FirestoreClient","Initializing OnlineComponentProvider");const a=yield s.getConfiguration();yield e.initialize(t,a),s.setCredentialChangeListener(f=>Fv(e.remoteStore,f)),s.setAppCheckTokenChangeListener((f,y)=>Fv(e.remoteStore,y)),s.onlineComponents=e}),Ya.apply(this,arguments)}function Zf(s){return i_.apply(this,arguments)}function i_(){return i_=(0,ut.Z)(function*(s){return s.offlineComponents||(On("FirestoreClient","Using default OfflineComponentProvider"),yield iv(s,new Wm)),s.offlineComponents}),i_.apply(this,arguments)}function Gh(s){return r_.apply(this,arguments)}function r_(){return r_=(0,ut.Z)(function*(s){return s.onlineComponents||(On("FirestoreClient","Using default OnlineComponentProvider"),yield n_(s,new Qp)),s.onlineComponents}),r_.apply(this,arguments)}function rv(s){return Zf(s).then(e=>e.persistence)}function qm(s){return Zf(s).then(e=>e.localStore)}function Qm(s){return Gh(s).then(e=>e.remoteStore)}function zh(s){return Gh(s).then(e=>e.syncEngine)}function Bu(s){return bd.apply(this,arguments)}function bd(){return bd=(0,ut.Z)(function*(s){const e=yield Gh(s),t=e.eventManager;return t.onListen=th.bind(null,e.syncEngine),t.onUnlisten=Y_.bind(null,e.syncEngine),t}),bd.apply(this,arguments)}function Xm(s,e,t={}){const a=new Ar;return s.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return function(f,y,M,U,oe){const ve=new em({next:yt=>{y.enqueueAndForget(()=>j_(f,$e));const Yt=yt.docs.has(M);!Yt&&yt.fromCache?oe.reject(new Sn(cn.UNAVAILABLE,"Failed to get document because the client is offline.")):Yt&&yt.fromCache&&U&&"server"===U.source?oe.reject(new Sn(cn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):oe.resolve(yt)},error:yt=>oe.reject(yt)}),$e=new z_(Hl(M.path),ve,{includeMetadataChanges:!0,Nu:!0});return $g(f,$e)}(yield Bu(s),s.asyncQueue,e,t,a)})),a.promise}function ov(s,e,t={}){const a=new Ar;return s.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return function(f,y,M,U,oe){const ve=new em({next:yt=>{y.enqueueAndForget(()=>j_(f,$e)),yt.fromCache&&"server"===U.source?oe.reject(new Sn(cn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):oe.resolve(yt)},error:yt=>oe.reject(yt)}),$e=new z_(M,ve,{includeMetadataChanges:!0,Nu:!0});return $g(f,$e)}(yield Bu(s),s.asyncQueue,e,t,a)})),a.promise}class Wh{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Ii(this,"async_queue_retry"),this.Wc=()=>{const t=qt();t&&On("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=qt();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=qt();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Ar;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,ut.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Ta(t))throw t;On("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(a=>{throw this.Kc=a,this.Gc=!1,Qi("INTERNAL UNHANDLED ERROR: ",function(y){let M=y.message||"";return y.stack&&(M=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),M}(a)),a}).then(a=>(this.Gc=!1,a))));return this.Bc=t,t}enqueueAfterDelay(e,t,a){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const f=U_.createAndSchedule(this,e,t,a,y=>this.Yc(y));return this.qc.push(f),f}zc(){this.Kc&&ti()}verifyOperationInProgress(){}Xc(){var e=this;return(0,ut.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function Qf(s){return function(e,t){if("object"!=typeof e||null===e)return!1;const a=e;for(const f of["next","error","complete"])if(f in a&&"function"==typeof a[f])return!0;return!1}(s)}class Pl{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ar,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,a){this._progressObserver={next:e,error:t,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ts extends sh{constructor(e,t,a,f){super(e,t,a,f),this.type="firestore",this._queue=new Wh,this._persistenceKey=f?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Cd(this),this._firestoreClient.terminate()}}function Ds(s){return s._firestoreClient||Cd(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function Cd(s){var e;const t=s._freezeSettings(),a=(y=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new Nr(s._databaseId,y,s._persistenceKey,(U=t).host,U.ssl,U.experimentalForceLongPolling,U.experimentalAutoDetectLongPolling,U.useFetchStreams));var y,U;s._firestoreClient=new Bv(s._authCredentials,s._appCheckCredentials,s._queue,a)}function yc(s,e,t){const a=new Ar;return s.asyncQueue.enqueue((0,ut.Z)(function*(){try{yield iv(s,t),yield n_(s,e),a.resolve()}catch(f){const y=f;if(!("FirebaseError"===(M=y).name?M.code===cn.FAILED_PRECONDITION||M.code===cn.UNIMPLEMENTED:!(typeof DOMException<"u"&&M instanceof DOMException)||22===M.code||20===M.code||11===M.code))throw y;ma("Error enabling offline persistence. Falling back to persistence disabled: "+y),a.reject(y)}var M})).then(()=>a.promise)}function u_(s){if(s._initialized||s._terminated)throw new Sn(cn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Qc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qc(xn.fromBase64String(e))}catch(t){throw new Sn(cn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Qc(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Sn(cn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class lh{constructor(e){this._methodName=e}}class ep{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Sn(cn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Sn(cn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Si(this._lat,e._lat)||Si(this._long,e._long)}}const d_=/^__.*__$/;class h_{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return null!==this.fieldMask?new ll(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pd(e,this.data,t,this.fieldTransforms)}}class Pa{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new ll(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Yh(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ti()}}class Xc{constructor(e,t,a,f,y,M){this.settings=e,this.databaseId=t,this.It=a,this.ignoreUndefinedProperties=f,void 0===y&&this.na(),this.fieldTransforms=y||[],this.fieldMask=M||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Xc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),f=this.ia({path:a,oa:!1});return f.ua(e),f}ca(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),f=this.ia({path:a,oa:!1});return f.na(),f}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return rp(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Yh(this.sa)&&d_.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Kh{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=a||An(e)}da(e,t,a,f=!1){return new Xc({sa:e,methodName:t,fa:a,path:wr.emptyPath(),oa:!1,la:f},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Io(s){const e=s._freezeSettings(),t=An(s._databaseId);return new Kh(s._databaseId,!!e.ignoreUndefinedProperties,t)}function Cc(s,e,t,a,f,y={}){const M=s.da(y.merge||y.mergeFields?2:0,e,t,f);qh("Data must be an object, but it was:",M,a);const U=cv(a,M);let oe,ve;if(y.merge)oe=new dt(M.fieldMask),ve=M.fieldTransforms;else if(y.mergeFields){const $e=[];for(const yt of y.mergeFields){const Yt=ch(e,yt,t);if(!M.contains(Yt))throw new Sn(cn.INVALID_ARGUMENT,`Field '${Yt}' is specified in your field mask but missing from your input data.`);og($e,Yt)||$e.push(Yt)}oe=new dt($e),ve=M.fieldTransforms.filter(yt=>oe.covers(yt.field))}else oe=null,ve=M.fieldTransforms;return new h_(new us(U),oe,ve)}class tp extends lh{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tp}}function np(s,e,t){return new Xc({sa:3,fa:e.settings.fa,methodName:s._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class wc extends lh{_toFieldTransform(e){return new jl(e.path,new gu)}isEqual(e){return e instanceof wc}}class av extends lh{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=np(this,e,!0),a=this._a.map(y=>Dd(y,t)),f=new _u(a);return new jl(e.path,f)}isEqual(e){return this===e}}class lv extends lh{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=np(this,e,!0),a=this._a.map(y=>Dd(y,t)),f=new $o(a);return new jl(e.path,f)}isEqual(e){return this===e}}class f_ extends lh{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new sc(e.It,Zu(e.It,this.wa));return new jl(e.path,t)}isEqual(e){return this===e}}function ip(s,e,t,a){const f=s.da(1,e,t);qh("Data must be an object, but it was:",f,a);const y=[],M=us.empty();mo(a,(oe,ve)=>{const $e=nm(e,oe,t);ve=(0,Be.m9)(ve);const yt=f.ca($e);if(ve instanceof tp)y.push($e);else{const Yt=Dd(ve,yt);null!=Yt&&(y.push($e),M.set($e,Yt))}});const U=new dt(y);return new Pa(M,U,f.fieldTransforms)}function ig(s,e,t,a,f,y){const M=s.da(1,e,t),U=[ch(e,a,t)],oe=[f];if(y.length%2!=0)throw new Sn(cn.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Yt=0;Yt<y.length;Yt+=2)U.push(ch(e,y[Yt])),oe.push(y[Yt+1]);const ve=[],$e=us.empty();for(let Yt=U.length-1;Yt>=0;--Yt)if(!og(ve,U[Yt])){const vn=U[Yt];let Dn=oe[Yt];Dn=(0,Be.m9)(Dn);const ni=M.ca(vn);if(Dn instanceof tp)ve.push(vn);else{const fi=Dd(Dn,ni);null!=fi&&(ve.push(vn),$e.set(vn,fi))}}const yt=new dt(ve);return new Pa($e,yt,M.fieldTransforms)}function rg(s,e,t,a=!1){return Dd(t,s.da(a?4:3,e))}function Dd(s,e){if(Zh(s=(0,Be.m9)(s)))return qh("Unsupported field value:",e,s),cv(s,e);if(s instanceof lh)return function(t,a){if(!Yh(a.sa))throw a.ha(`${t._methodName}() can only be used with update() and set()`);if(!a.path)throw a.ha(`${t._methodName}() is not currently supported inside arrays`);const f=t._toFieldTransform(a);f&&a.fieldTransforms.push(f)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,a){const f=[];let y=0;for(const M of t){let U=Dd(M,a.aa(y));null==U&&(U={nullValue:"NULL_VALUE"}),f.push(U),y++}return{arrayValue:{values:f}}}(s,e)}return function(t,a){if(null===(t=(0,Be.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Zu(a.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const f=kr.fromDate(t);return{timestampValue:td(a.It,f)}}if(t instanceof kr){const f=new kr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:td(a.It,f)}}if(t instanceof ep)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Qc)return{bytesValue:Cu(a.It,t._byteString)};if(t instanceof ws){const f=a.databaseId,y=t.firestore._databaseId;if(!y.isEqual(f))throw a.ha(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:wu(t.firestore._databaseId||a.databaseId,t._key.path)}}throw a.ha(`Unsupported field value: ${Yf(t)}`)}(s,e)}function cv(s,e){const t={};return F(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mo(s,(a,f)=>{const y=Dd(f,e.ra(a));null!=y&&(t[a]=y)}),{mapValue:{fields:t}}}function Zh(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof kr||s instanceof ep||s instanceof Qc||s instanceof ws||s instanceof lh)}function qh(s,e,t){if(!Zh(t)||"object"!=typeof(a=t)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=Yf(t);throw e.ha("an object"===a?s+" a custom object":s+" "+a)}var a}function ch(s,e,t){if((e=(0,Be.m9)(e))instanceof bc)return e._internalPath;if("string"==typeof e)return nm(s,e);throw rp("Field path arguments must be of type string or ",s,!1,void 0,t)}const sg=new RegExp("[~\\*/\\[\\]]");function nm(s,e,t){if(e.search(sg)>=0)throw rp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new bc(...e.split("."))._internalPath}catch{throw rp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function rp(s,e,t,a,f){const y=a&&!a.isEmpty(),M=void 0!==f;let U=`Function ${e}() called with invalid data`;t&&(U+=" (via `toFirestore()`)"),U+=". ";let oe="";return(y||M)&&(oe+=" (found",y&&(oe+=` in field ${a}`),M&&(oe+=` in document ${f}`),oe+=")"),new Sn(cn.INVALID_ARGUMENT,U+s+oe)}function og(s,e){return s.some(t=>t.isEqual(e))}class Qh{constructor(e,t,a,f,y){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=f,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new ws(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ag(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ag extends Qh{data(){return super.data()}}function hl(s,e){return"string"==typeof e?nm(s,e):e instanceof bc?e._internalPath:e._delegate._internalPath}function lg(s){if("L"===s.limitType&&0===s.explicitOrderBy.length)throw new Sn(cn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sp{}function Ed(s,...e){for(const t of e)s=t._apply(s);return s}class uv extends sp{constructor(e,t,a){super(),this.ma=e,this.ga=t,this.ya=a,this.type="where"}_apply(e){const t=Io(e.firestore),a=function(f,y,M,U,oe,ve,$e){let yt;if(oe.isKeyField()){if("array-contains"===ve||"array-contains-any"===ve)throw new Sn(cn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ve}' queries on documentId().`);if("in"===ve||"not-in"===ve){v_($e,ve);const vn=[];for(const Dn of $e)vn.push(fv(U,f,Dn));yt={arrayValue:{values:vn}}}else yt=fv(U,f,$e)}else"in"!==ve&&"not-in"!==ve&&"array-contains-any"!==ve||v_($e,ve),yt=rg(M,"where",$e,"in"===ve||"not-in"===ve);const Yt=go.create(oe,ve,yt);return function(vn,Dn){if(Dn.dt()){const fi=Wu(vn);if(null!==fi&&!fi.isEqual(Dn.field))throw new Sn(cn.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${fi.toString()}' and '${Dn.field.toString()}'`);const Un=Qs(vn);null!==Un&&y_(0,Dn.field,Un)}const ni=function(fi,Un){for(const Jn of fi.filters)if(Un.indexOf(Jn.op)>=0)return Jn.op;return null}(vn,function(fi){switch(fi){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Dn.op));if(null!==ni)throw new Sn(cn.INVALID_ARGUMENT,ni===Dn.op?`Invalid query. You cannot use more than one '${Dn.op.toString()}' filter.`:`Invalid query. You cannot use '${Dn.op.toString()}' filters with '${ni.toString()}' filters.`)}(f,Yt),Yt}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Oa(e.firestore,e.converter,function(f,y){const M=f.filters.concat([y]);return new rc(f.path,f.collectionGroup,f.explicitOrderBy.slice(),M,f.limit,f.limitType,f.startAt,f.endAt)}(e._query,a))}}class dv extends sp{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(a,f,y){if(null!==a.startAt)throw new Sn(cn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new Sn(cn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const M=new al(f,y);return function(U,oe){if(null===Qs(U)){const ve=Wu(U);null!==ve&&y_(0,ve,oe.field)}}(a,M),M}(e._query,this.ma,this.pa);return new Oa(e.firestore,e.converter,function(a,f){const y=a.explicitOrderBy.concat([f]);return new rc(a.path,a.collectionGroup,y,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}class Uv extends sp{constructor(e,t,a){super(),this.type=e,this.Ia=t,this.Ta=a}_apply(e){return new Oa(e.firestore,e.converter,Ku(e._query,this.Ia,this.Ta))}}class m_ extends sp{constructor(e,t,a){super(),this.type=e,this.Ea=t,this.Aa=a}_apply(e){const t=__(e,this.type,this.Ea,this.Aa);return new Oa(e.firestore,e.converter,(f=t,new rc((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,f,a.endAt)));var a,f}}class g_ extends sp{constructor(e,t,a){super(),this.type=e,this.Ea=t,this.Aa=a}_apply(e){const t=__(e,this.type,this.Ea,this.Aa);return new Oa(e.firestore,e.converter,(f=t,new rc((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,f)));var a,f}}function __(s,e,t,a){if(t[0]=(0,Be.m9)(t[0]),t[0]instanceof Qh)return function(f,y,M,U,oe){if(!U)throw new Sn(cn.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${M}().`);const ve=[];for(const $e of Ls(f))if($e.field.isKeyField())ve.push(gi(y,U.key));else{const yt=U.data.field($e.field);if(Sr(yt))throw new Sn(cn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+$e.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===yt){const Yt=$e.field.canonicalString();throw new Sn(cn.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Yt}' (used as the orderBy) does not exist.`)}ve.push(yt)}return new Dl(ve,oe)}(s._query,s.firestore._databaseId,e,t[0]._document,a);{const f=Io(s.firestore);return function(y,M,U,oe,ve,$e){const yt=y.explicitOrderBy;if(ve.length>yt.length)throw new Sn(cn.INVALID_ARGUMENT,`Too many arguments provided to ${oe}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Yt=[];for(let vn=0;vn<ve.length;vn++){const Dn=ve[vn];if(yt[vn].field.isKeyField()){if("string"!=typeof Dn)throw new Sn(cn.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${oe}(), but got a ${typeof Dn}`);if(!Yu(y)&&-1!==Dn.indexOf("/"))throw new Sn(cn.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${oe}() must be a plain document ID, but '${Dn}' contains a slash.`);const ni=y.path.child(vi.fromString(Dn));if(!zn.isDocumentKey(ni))throw new Sn(cn.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${oe}() must result in a valid document path, but '${ni}' is not because it contains an odd number of segments.`);const fi=new zn(ni);Yt.push(gi(M,fi))}else{const ni=rg(U,oe,Dn);Yt.push(ni)}}return new Dl(Yt,$e)}(s._query,s.firestore._databaseId,f,e,t,a)}}function fv(s,e,t){if("string"==typeof(t=(0,Be.m9)(t))){if(""===t)throw new Sn(cn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yu(e)&&-1!==t.indexOf("/"))throw new Sn(cn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(vi.fromString(t));if(!zn.isDocumentKey(a))throw new Sn(cn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return gi(s,new zn(a))}if(t instanceof ws)return gi(s,t._key);throw new Sn(cn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yf(t)}.`)}function v_(s,e){if(!Array.isArray(s)||0===s.length)throw new Sn(cn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(s.length>10)throw new Sn(cn.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function y_(s,e,t){if(!t.isEqual(e))throw new Sn(cn.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class uh{convertValue(e,t="none"){switch(re(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ci(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ti()}}convertObject(e,t){const a={};return mo(e.fields,(f,y)=>{a[f]=this.convertValue(y,t)}),a}convertGeoPoint(e){return new ep(ci(e.latitude),ci(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=To(e);return null==a?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(jr(e));default:return null}}convertTimestamp(e){const t=Wn(e);return new kr(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=vi.fromString(e);Ei(yp(a));const f=new Ns(a.get(1),a.get(3)),y=new zn(a.popFirst(5));return f.isEqual(t)||Qi(`Document ${y} contains a document reference within a different database (${f.projectId}/${f.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),y}}function cg(s,e,t){let a;return a=s?t&&(t.merge||t.mergeFields)?s.toFirestore(e,t):s.toFirestore(e):e,a}class Jc extends uh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ws(this.firestore,null,t)}}class dh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eu extends Qh{constructor(e,t,a,f,y,M){super(e,t,a,f,M),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(hl("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}}class Xh extends eu{data(e={}){return super.data(e)}}class Jh{constructor(e,t,a,f){this._firestore=e,this._userDataWriter=t,this._snapshot=f,this.metadata=new dh(f.hasPendingWrites,f.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new Xh(this._firestore,this._userDataWriter,a.key,a,new dh(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Sn(cn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,f){if(a._snapshot.oldDocs.isEmpty()){let y=0;return a._snapshot.docChanges.map(M=>({type:"added",doc:new Xh(a._firestore,a._userDataWriter,M.doc.key,M.doc,new dh(a._snapshot.mutatedKeys.has(M.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:y++}))}{let y=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(M=>f||3!==M.type).map(M=>{const U=new Xh(a._firestore,a._userDataWriter,M.doc.key,M.doc,new dh(a._snapshot.mutatedKeys.has(M.doc.key),a._snapshot.fromCache),a.query.converter);let oe=-1,ve=-1;return 0!==M.type&&(oe=y.indexOf(M.doc.key),y=y.delete(M.doc.key)),1!==M.type&&(y=y.add(M.doc),ve=y.indexOf(M.doc.key)),{type:ug(M.type),doc:U,oldIndex:oe,newIndex:ve}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ug(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ti()}}function dg(s,e){return s instanceof eu&&e instanceof eu?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(null===s._document?null===e._document:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof Jh&&e instanceof Jh&&s._firestore===e._firestore&&gc(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}class hh extends uh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ws(this.firestore,null,t)}}function hg(s,e,t){s=ir(s,ws);const a=ir(s.firestore,ts),f=cg(s.converter,e,t);return ju(a,[Cc(Io(a),"setDoc",s._key,f,null!==s.converter,t).toMutation(s._key,os.none())])}function mv(s,e,t,...a){s=ir(s,ws);const f=ir(s.firestore,ts),y=Io(f);let M;return M="string"==typeof(e=(0,Be.m9)(e))||e instanceof bc?ig(y,"updateDoc",s._key,e,t,a):ip(y,"updateDoc",s._key,e),ju(f,[M.toMutation(s._key,os.exists(!0))])}function gv(s,...e){var t,a,f;s=(0,Be.m9)(s);let y={includeMetadataChanges:!1},M=0;"object"!=typeof e[M]||Qf(e[M])||(y=e[M],M++);const U={includeMetadataChanges:y.includeMetadataChanges};if(Qf(e[M])){const yt=e[M];e[M]=null===(t=yt.next)||void 0===t?void 0:t.bind(yt),e[M+1]=null===(a=yt.error)||void 0===a?void 0:a.bind(yt),e[M+2]=null===(f=yt.complete)||void 0===f?void 0:f.bind(yt)}let oe,ve,$e;if(s instanceof ws)ve=ir(s.firestore,ts),$e=Hl(s._key.path),oe={next:yt=>{e[M]&&e[M](C_(ve,s,yt))},error:e[M+1],complete:e[M+2]};else{const yt=ir(s,Oa);ve=ir(yt.firestore,ts),$e=yt._query;const Yt=new hh(ve);oe={next:vn=>{e[M]&&e[M](new Jh(ve,Yt,yt,vn))},error:e[M+1],complete:e[M+2]},lg(s._query)}return function(yt,Yt,vn,Dn){const ni=new em(Dn),fi=new z_(Yt,ni,vn);return yt.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return $g(yield Bu(yt),fi)})),()=>{ni.bc(),yt.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return j_(yield Bu(yt),fi)}))}}(Ds(ve),$e,U,oe)}function ju(s,e){return function(t,a){const f=new Ar;return t.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return function K_(s,e,t){return Kl.apply(this,arguments)}(yield zh(t),a,f)})),f.promise}(Ds(s),e)}function C_(s,e,t){const a=t.docs.get(e._key),f=new hh(s);return new eu(s,f,e._key,a,new dh(t.hasPendingWrites,t.fromCache),e.converter)}const qv={maxAttempts:5};class _v{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Io(e)}set(e,t,a){this._verifyNotCommitted();const f=ru(e,this._firestore),y=cg(f.converter,t,a),M=Cc(this._dataReader,"WriteBatch.set",f._key,y,null!==f.converter,a);return this._mutations.push(M.toMutation(f._key,os.none())),this}update(e,t,a,...f){this._verifyNotCommitted();const y=ru(e,this._firestore);let M;return M="string"==typeof(t=(0,Be.m9)(t))||t instanceof bc?ig(this._dataReader,"WriteBatch.update",y._key,t,a,f):ip(this._dataReader,"WriteBatch.update",y._key,t),this._mutations.push(M.toMutation(y._key,os.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ru(e,this._firestore);return this._mutations=this._mutations.concat(new Bc(t._key,os.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Sn(cn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ru(s,e){if((s=(0,Be.m9)(s)).firestore!==e)throw new Sn(cn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class Qv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Io(e)}get(e){const t=ru(e,this._firestore),a=new Jc(this._firestore);return this._transaction.lookup([t._key]).then(f=>{if(!f||1!==f.length)return ti();const y=f[0];if(y.isFoundDocument())return new Qh(this._firestore,a,y.key,y,t.converter);if(y.isNoDocument())return new Qh(this._firestore,a,t._key,null,t.converter);throw ti()})}set(e,t,a){const f=ru(e,this._firestore),y=cg(f.converter,t,a),M=Cc(this._dataReader,"Transaction.set",f._key,y,null!==f.converter,a);return this._transaction.set(f._key,M),this}update(e,t,a,...f){const y=ru(e,this._firestore);let M;return M="string"==typeof(t=(0,Be.m9)(t))||t instanceof bc?ig(this._dataReader,"Transaction.update",y._key,t,a,f):ip(this._dataReader,"Transaction.update",y._key,t),this._transaction.update(y._key,M),this}delete(e){const t=ru(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ru(e,this._firestore),a=new hh(this._firestore);return super.get(e).then(f=>new eu(this._firestore,a,t._key,f._document,new dh(!1,!1),t.converter))}}function pg(s,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Sn("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return e}function Cv(){if(typeof Uint8Array>"u")throw new Sn("unimplemented","Uint8Arrays are not available in this environment.")}function wv(){if(!function Wt(){return typeof atob<"u"}())throw new Sn("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(s,e=!0){pa=kt.SDK_VERSION,(0,kt._registerComponent)(new vt.wA("firestore",(t,{instanceIdentifier:a,options:f})=>{const y=t.getProvider("app").getImmediate(),M=new ts(new ga(t.getProvider("auth-internal")),new yl(t.getProvider("app-check-internal")),function(U,oe){if(!Object.prototype.hasOwnProperty.apply(U.options,["projectId"]))throw new Sn(cn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ns(U.options.projectId,oe)}(y,a),y);return f=Object.assign({useFetchStreams:e},f),M._setSettings(f),M},"PUBLIC").setMultipleInstances(!0)),(0,kt.registerVersion)(lu,"3.7.2",s),(0,kt.registerVersion)(lu,"3.7.2","esm2017")}();class im{constructor(e){this._delegate=e}static fromBase64String(e){return wv(),new im(Qc.fromBase64String(e))}static fromUint8Array(e){return Cv(),new im(Qc.fromUint8Array(e))}toBase64(){return wv(),this._delegate.toBase64()}toUint8Array(){return Cv(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function S_(s){return function Dv(s,e){if("object"!=typeof s||null===s)return!1;const t=s;for(const a of e)if(a in t&&"function"==typeof t[a])return!0;return!1}(s,["next","error","complete"])}class Ev{enableIndexedDbPersistence(e,t){return function wd(s,e){u_(s=ir(s,ts));const t=Ds(s),a=s._freezeSettings(),f=new Qp;return yc(t,f,new Ym(f,a.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Xf(s){u_(s=ir(s,ts));const e=Ds(s),t=s._freezeSettings(),a=new Qp;return yc(e,a,new e_(a,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Jf(s){if(s._initialized&&!s._terminated)throw new Sn(cn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ar;return s._queue.enqueueAndForgetEvenWhileRestricted((0,ut.Z)(function*(){try{yield(t=(0,ut.Z)(function*(a){if(!jo.C())return Promise.resolve();const f=a+"main";yield jo.delete(f)}),function(a){return t.apply(this,arguments)})(Kc(s._databaseId,s._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class T_{constructor(e,t,a){this._delegate=t,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ns||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ma("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,a={}){!function t_(s,e,t,a={}){var f;const y=(s=ir(s,sh))._getSettings();if("firestore.googleapis.com"!==y.host&&y.host!==e&&ma("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},y),{host:`${e}:${t}`,ssl:!1})),a.mockUserToken){let M,U;if("string"==typeof a.mockUserToken)M=a.mockUserToken,U=nr.MOCK_USER;else{M=(0,Be.Sg)(a.mockUserToken,null===(f=s._app)||void 0===f?void 0:f.options.projectId);const oe=a.mockUserToken.sub||a.mockUserToken.user_id;if(!oe)throw new Sn(cn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");U=new nr(oe)}s._authCredentials=new tl(new Ic(M,U))}}(this._delegate,e,t,a)}enableNetwork(){return function l_(s){return function sv(s){return s.asyncQueue.enqueue((0,ut.Z)(function*(){const e=yield rv(s),t=yield Qm(s);return e.setNetworkEnabled(!0),function(a){const f=Qn(a);return f._u.delete(0),ka(f)}(t)}))}(Ds(s=ir(s,ts)))}(this._delegate)}disableNetwork(){return function c_(s){return function ah(s){return s.asyncQueue.enqueue((0,ut.Z)(function*(){const e=yield rv(s),t=yield Qm(s);return e.setNetworkEnabled(!1),(a=(0,ut.Z)(function*(f){const y=Qn(f);y._u.add(0),yield Nu(y),y.gu.set("Offline")}),function(f){return a.apply(this,arguments)})(t);var a}))}(Ds(s=ir(s,ts)))}(this._delegate)}enablePersistence(e){let t=!1,a=!1;return e&&(t=!!e.synchronizeTabs,a=!!e.experimentalForceOwningTab,rh("synchronizeTabs",t,"experimentalForceOwningTab",a)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function a_(s){return function(e){const t=new Ar;return e.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return function jm(s,e){return jp.apply(this,arguments)}(yield zh(e),t)})),t.promise}(Ds(s=ir(s,ts)))}(this._delegate)}onSnapshotsInSync(e){return function b_(s,e){return function Vu(s,e){const t=new em(e);return s.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return a=yield Bu(s),f=t,Qn(a).Ru.add(f),void f.next();var a,f})),()=>{t.bc(),s.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return a=yield Bu(s),f=t,void Qn(a).Ru.delete(f);var a,f}))}}(Ds(s=ir(s,ts)),Qf(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Sn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new tf(this,Zl(this._delegate,e))}catch(t){throw Za(t,"collection()","Firestore.collection()")}}doc(e){try{return new Dc(this,$h(this._delegate,e))}catch(t){throw Za(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new qa(this,function Jp(s,e){if(s=ir(s,sh),ih("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Sn(cn.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Oa(s,null,(t=e,new rc(vi.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Za(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function vv(s,e,t){s=ir(s,ts);const a=Object.assign(Object.assign({},qv),t);return function(f){if(f.maxAttempts<1)throw new Sn(cn.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(f,y,M){const U=new Ar;return f.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){const oe=yield function s_(s){return Gh(s).then(e=>e.datastore)}(f);new _c(f.asyncQueue,oe,M,y,U).run()})),U.promise}(Ds(s),f=>e(new Qv(s,f)),a)}(this._delegate,t=>e(new Sv(this,t)))}batch(){return Ds(this._delegate),new M_(new _v(this._delegate,e=>ju(this._delegate,e)))}loadBundle(e){return function tg(s,e){const t=Ds(s=ir(s,ts)),a=new Pl;return function qf(s,e,t,a){const f=function(y,M){let U;return U="string"==typeof y?(new TextEncoder).encode(y):y,oe=function(oe,ve){if(oe instanceof Uint8Array)return oh(oe,void 0);if(oe instanceof ArrayBuffer)return oh(new Uint8Array(oe),void 0);if(oe instanceof ReadableStream)return oe.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(U),new tv(oe,M);var oe}(t,An(e));s.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){!function hy(s,e,t){const a=Qn(s);var f;(f=(0,ut.Z)(function*(y,M,U){try{const oe=yield M.getMetadata();if(yield function(Yt,vn){const Dn=Qn(Yt),ni=bs(vn.createTime);return Dn.persistence.runTransaction("hasNewerBundle","readonly",fi=>Dn.Ns.getBundleMetadata(fi,vn.id)).then(fi=>!!fi&&fi.createTime.compareTo(ni)>=0)}(y.localStore,oe))return yield M.close(),U._completeWith({taskState:"Success",documentsLoaded:(Yt=oe).totalDocuments,bytesLoaded:Yt.totalBytes,totalDocuments:Yt.totalDocuments,totalBytes:Yt.totalBytes}),Promise.resolve(new Set);U._updateProgress(Bp(oe));const ve=new eh(oe,y.localStore,M.It);let $e=yield M.mc();for(;$e;){const Yt=yield ve.Fu($e);Yt&&U._updateProgress(Yt),$e=yield M.mc()}const yt=yield ve.complete();return yield vd(y,yt.Lu,void 0),yield function(Yt,vn){const Dn=Qn(Yt);return Dn.persistence.runTransaction("Save bundle","readwrite",ni=>Dn.Ns.saveBundleMetadata(ni,vn))}(y.localStore,oe),U._completeWith(yt.progress),Promise.resolve(yt.Bu)}catch(oe){return ma("SyncEngine",`Loading bundle failed with ${oe}`),U._failWith(oe),Promise.resolve(new Set)}var Yt}),function(y,M,U){return f.apply(this,arguments)})(a,e,t).then(f=>{a.sharedClientState.notifyBundleLoaded(f)})}(yield zh(s),f,a)}))}(t,s._databaseId,e,a),a}(this._delegate,e)}namedQuery(e){return function ng(s,e){return function Ka(s,e){return s.asyncQueue.enqueue((0,ut.Z)(function*(){return function(t,a){const f=Qn(t);return f.persistence.runTransaction("Get named query","readonly",y=>f.Ns.getNamedQuery(y,a))}(yield qm(s),e)}))}(Ds(s=ir(s,ts)),e).then(t=>t?new Oa(s,null,t.query):null)}(this._delegate,e).then(t=>t?new qa(this,t):null)}}class rm extends uh{constructor(e){super(),this.firestore=e}convertBytes(e){return new im(new Qc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Dc.forKey(t,this.firestore,null)}}class Sv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new rm(e)}get(e){const t=Sd(e);return this._delegate.get(t).then(a=>new om(this._firestore,new eu(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,t.converter)))}set(e,t,a){const f=Sd(e);return a?(pg("Transaction.set",a),this._delegate.set(f,t,a)):this._delegate.set(f,t),this}update(e,t,a,...f){const y=Sd(e);return 2===arguments.length?this._delegate.update(y,t):this._delegate.update(y,t,a,...f),this}delete(e){const t=Sd(e);return this._delegate.delete(t),this}}class M_{constructor(e){this._delegate=e}set(e,t,a){const f=Sd(e);return a?(pg("WriteBatch.set",a),this._delegate.set(f,t,a)):this._delegate.set(f,t),this}update(e,t,a,...f){const y=Sd(e);return 2===arguments.length?this._delegate.update(y,t):this._delegate.update(y,t,a,...f),this}delete(e){const t=Sd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ef{constructor(e,t,a){this._firestore=e,this._userDataWriter=t,this._delegate=a}fromFirestore(e,t){const a=new Xh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new am(this._firestore,a),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const a=ef.INSTANCES;let f=a.get(e);f||(f=new WeakMap,a.set(e,f));let y=f.get(t);return y||(y=new ef(e,new rm(e),t),f.set(t,y)),y}}ef.INSTANCES=new WeakMap;class Dc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rm(e)}static forPath(e,t,a){if(e.length%2!=0)throw new Sn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Dc(t,new ws(t._delegate,a,new zn(e)))}static forKey(e,t,a){return new Dc(t,new ws(t._delegate,a,e))}get id(){return this._delegate.id}get parent(){return new tf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new tf(this.firestore,Zl(this._delegate,e))}catch(t){throw Za(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Be.m9)(e))instanceof ws&&Lu(this._delegate,e)}set(e,t){t=pg("DocumentReference.set",t);try{return t?hg(this._delegate,e,t):hg(this._delegate,e)}catch(a){throw Za(a,"setDoc()","DocumentReference.set()")}}update(e,t,...a){try{return 1===arguments.length?mv(this._delegate,e):mv(this._delegate,e,t,...a)}catch(f){throw Za(f,"updateDoc()","DocumentReference.update()")}}delete(){return function Yv(s){return ju(ir(s.firestore,ts),[new Bc(s._key,os.none())])}(this._delegate)}onSnapshot(...e){const t=I_(e),a=x_(e,f=>new om(this.firestore,new eu(this.firestore._delegate,this._userDataWriter,f._key,f._document,f.metadata,this._delegate.converter)));return gv(this._delegate,t,a)}get(e){let t;return t="cache"===e?.source?function pv(s){s=ir(s,ws);const e=ir(s.firestore,ts),t=Ds(e),a=new hh(e);return function Vv(s,e){const t=new Ar;return s.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return(a=(0,ut.Z)(function*(f,y,M){try{const U=yield function(oe,ve){const $e=Qn(oe);return $e.persistence.runTransaction("read document","readonly",yt=>$e.localDocuments.getDocument(yt,ve))}(f,y);U.isFoundDocument()?M.resolve(U):U.isNoDocument()?M.resolve(null):M.reject(new Sn(cn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(U){const oe=Lf(U,`Failed to get document '${y} from cache`);M.reject(oe)}}),function(f,y,M){return a.apply(this,arguments)})(yield qm(s),e,t);var a})),t.promise}(t,s._key).then(f=>new eu(e,a,s._key,f,new dh(null!==f&&f.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===e?.source?function tu(s){s=ir(s,ws);const e=ir(s.firestore,ts);return Xm(Ds(e),s._key,{source:"server"}).then(t=>C_(e,s,t))}(this._delegate):function Hu(s){s=ir(s,ws);const e=ir(s.firestore,ts);return Xm(Ds(e),s._key).then(t=>C_(e,s,t))}(this._delegate),t.then(a=>new om(this.firestore,new eu(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(e){return new Dc(this.firestore,this._delegate.withConverter(e?ef.getInstance(this.firestore,e):null))}}function Za(s,e,t){return s.message=s.message.replace(e,t),s}function I_(s){for(const e of s)if("object"==typeof e&&!S_(e))return e;return{}}function x_(s,e){var t,a;let f;return f=S_(s[0])?s[0]:S_(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:y=>{f.next&&f.next(e(y))},error:null===(t=f.error)||void 0===t?void 0:t.bind(f),complete:null===(a=f.complete)||void 0===a?void 0:a.bind(f)}}class om{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Dc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return dg(this._delegate,e._delegate)}}class am extends om{data(e){const t=this._delegate.data(e);return function Uo(s,e){s||ti()}(void 0!==t),t}}class qa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rm(e)}where(e,t,a){try{return new qa(this.firestore,Ed(this._delegate,function p_(s,e,t){const a=e,f=hl("where",s);return new uv(f,a,t)}(e,t,a)))}catch(f){throw Za(f,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new qa(this.firestore,Ed(this._delegate,function hv(s,e="asc"){const t=e,a=hl("orderBy",s);return new dv(a,t)}(e,t)))}catch(a){throw Za(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new qa(this.firestore,Ed(this._delegate,function Hv(s){return ev("limit",s),new Uv("limit",s,"F")}(e)))}catch(t){throw Za(t,"limit()","Query.limit()")}}limitToLast(e){try{return new qa(this.firestore,Ed(this._delegate,function jv(s){return ev("limitToLast",s),new Uv("limitToLast",s,"L")}(e)))}catch(t){throw Za(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new qa(this.firestore,Ed(this._delegate,function $v(...s){return new m_("startAt",s,!0)}(...e)))}catch(t){throw Za(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new qa(this.firestore,Ed(this._delegate,function ra(...s){return new m_("startAfter",s,!1)}(...e)))}catch(t){throw Za(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new qa(this.firestore,Ed(this._delegate,function Gv(...s){return new g_("endBefore",s,!1)}(...e)))}catch(t){throw Za(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new qa(this.firestore,Ed(this._delegate,function zv(...s){return new g_("endAt",s,!0)}(...e)))}catch(t){throw Za(t,"endAt()","Query.endAt()")}}isEqual(e){return gc(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function iu(s){s=ir(s,Oa);const e=ir(s.firestore,ts),t=Ds(e),a=new hh(e);return function o_(s,e){const t=new Ar;return s.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return(a=(0,ut.Z)(function*(f,y,M){try{const U=yield Zd(f,y,!0),oe=new Vp(y,U.Hi),ve=oe.Wu(U.documents),$e=oe.applyChanges(ve,!1);M.resolve($e.snapshot)}catch(U){const oe=Lf(U,`Failed to execute query '${y} against cache`);M.reject(oe)}}),function(f,y,M){return a.apply(this,arguments)})(yield qm(s),e,t);var a})),t.promise}(t,s._query).then(f=>new Jh(e,a,s,f))}(this._delegate):"server"===e?.source?function Wv(s){s=ir(s,Oa);const e=ir(s.firestore,ts),t=Ds(e),a=new hh(e);return ov(t,s._query,{source:"server"}).then(f=>new Jh(e,a,s,f))}(this._delegate):function nu(s){s=ir(s,Oa);const e=ir(s.firestore,ts),t=Ds(e),a=new hh(e);return lg(s._query),ov(t,s._query).then(f=>new Jh(e,a,s,f))}(this._delegate),t.then(a=>new mg(this.firestore,new Jh(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...e){const t=I_(e),a=x_(e,f=>new mg(this.firestore,new Jh(this.firestore._delegate,this._userDataWriter,this._delegate,f._snapshot)));return gv(this._delegate,t,a)}withConverter(e){return new qa(this.firestore,this._delegate.withConverter(e?ef.getInstance(this.firestore,e):null))}}class A_{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new am(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class mg{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new qa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new am(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new A_(this._firestore,t))}forEach(e,t){this._delegate.forEach(a=>{e.call(t,new am(this._firestore,a))})}isEqual(e){return dg(this._delegate,e._delegate)}}class tf extends qa{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Dc(this.firestore,e):null}doc(e){try{return new Dc(this.firestore,void 0===e?$h(this._delegate):$h(this._delegate,e))}catch(t){throw Za(t,"doc()","CollectionReference.doc()")}}add(e){return function Kv(s,e){const t=ir(s.firestore,ts),a=$h(s),f=cg(s.converter,e);return ju(t,[Cc(Io(s.firestore),"addDoc",a._key,f,null!==s.converter,{}).toMutation(a._key,os.exists(!1))]).then(()=>a)}(this._delegate,e).then(t=>new Dc(this.firestore,t))}isEqual(e){return Lu(this._delegate,e._delegate)}withConverter(e){return new tf(this.firestore,this._delegate.withConverter(e?ef.getInstance(this.firestore,e):null))}}function Sd(s){return ir(s,ws)}class gg{constructor(...e){this._delegate=new bc(...e)}static documentId(){return new gg(wr.keyField().canonicalString())}isEqual(e){return(e=(0,Be.m9)(e))instanceof bc&&this._delegate._internalPath.isEqual(e._internalPath)}}class ph{constructor(e){this._delegate=e}static serverTimestamp(){const e=function D_(){return new wc("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new ph(e)}static delete(){const e=function w_(){return new tp("deleteField")}();return e._methodName="FieldValue.delete",new ph(e)}static arrayUnion(...e){const t=function fg(...s){return new av("arrayUnion",s)}(...e);return t._methodName="FieldValue.arrayUnion",new ph(t)}static arrayRemove(...e){const t=function E_(...s){return new lv("arrayRemove",s)}(...e);return t._methodName="FieldValue.arrayRemove",new ph(t)}static increment(e){const t=function yv(s){return new f_("increment",s)}(e);return t._methodName="FieldValue.increment",new ph(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Tv={Firestore:T_,GeoPoint:ep,Timestamp:kr,Blob:im,Transaction:Sv,WriteBatch:M_,DocumentReference:Dc,DocumentSnapshot:om,Query:qa,QueryDocumentSnapshot:am,QuerySnapshot:mg,CollectionReference:tf,FieldPath:gg,FieldValue:ph,setLogLevel:function sm(s){!function Vo(s){Bo.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};!function k_(s){(function Mv(s,e){s.INTERNAL.registerComponent(new vt.wA("firestore-compat",t=>{const a=t.getProvider("app-compat").getImmediate(),f=t.getProvider("firestore").getImmediate();return e(a,f)},"PUBLIC").setServiceProps(Object.assign({},Tv)))})(s,(e,t)=>new T_(e,t,new Ev)),s.registerVersion("@firebase/firestore-compat","0.2.2")}(Ut.Z);var su=k(4941),mh=k(440),Iv=k(127);function nf(s,e){return function Xv(s,e=N.P){return new v.y(t=>{let a;return null!=e?e.schedule(()=>{a=s.onSnapshot({includeMetadataChanges:!0},t)}):a=s.onSnapshot({includeMetadataChanges:!0},t),()=>{a?.()}})}(s,e)}function lm(s,e){return nf(s,e).pipe((0,be.U)(t=>({payload:t,type:"query"})))}function R_(s,e){return lm(s,e).pipe((0,De.O)(void 0),Ie(),(0,be.U)(([t,a])=>{const f=a.payload.docChanges(),y=f.map(M=>({type:M.type,payload:M}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((M,U)=>{const oe=f.find($e=>$e.doc.ref.isEqual(M.ref)),ve=t?.payload.docs.find($e=>$e.ref.isEqual(M.ref));oe&&JSON.stringify(oe.doc.metadata)===JSON.stringify(M.metadata)||!oe&&ve&&JSON.stringify(ve.metadata)===JSON.stringify(M.metadata)||y.push({type:"modified",payload:{oldIndex:U,newIndex:U,type:"modified",doc:M}})}),y}))}function u(s,e,t){return R_(s,t).pipe((0,Ne.R)((a,f)=>function i(s,e,t){return e.forEach(a=>{t.indexOf(a.type)>-1&&(s=function d(s,e){switch(e.type){case"added":if(!s[e.newIndex]||!s[e.newIndex].doc.ref.isEqual(e.doc.ref))return o(s,e.newIndex,0,e);break;case"modified":if(null==s[e.oldIndex]||s[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=s.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return o(s,e.newIndex,1,e)}break;case"removed":if(s[e.oldIndex]&&s[e.oldIndex].doc.ref.isEqual(e.doc.ref))return o(s,e.oldIndex,1)}return s}(s,a))}),s}(a,f.map(y=>y.payload),e),[]),(0,Ke.x)(),(0,be.U)(a=>a.map(f=>({type:f.type,payload:f}))))}function o(s,e,t,...a){const f=s.slice();return f.splice(e,t,...a),f}function g(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}class S{constructor(e,t,a){this.ref=e,this.query=t,this.afs=a}stateChanges(e){let t=R_(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,be.U)(a=>a.filter(f=>e.indexOf(f.type)>-1)))),t.pipe((0,De.O)(void 0),Ie(),(0,lt.h)(([a,f])=>f.length>0||!a),(0,be.U)(([a,f])=>f),J.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ne.R)((t,a)=>[...t,...a],[]))}snapshotChanges(e){const t=g(e);return u(this.query,t,this.afs.schedulers.outsideAngular).pipe(J.iC)}valueChanges(e={}){return lm(this.query,this.afs.schedulers.outsideAngular).pipe((0,be.U)(t=>t.payload.docs.map(a=>e.idField?Object.assign(Object.assign({},a.data()),{[e.idField]:a.id}):a.data())),J.iC)}get(e){return(0,ne.D)(this.query.get(e)).pipe(J.iC)}add(e){return this.ref.add(e)}doc(e){return new P(this.ref.doc(e),this.afs)}}class P{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const a=this.ref.collection(e),{ref:f,query:y}=Bt(a,t);return new S(f,y,this.afs)}snapshotChanges(){return function Jv(s,e){return nf(s,e).pipe((0,De.O)(void 0),Ie(),(0,be.U)(([t,a])=>a.exists?t?.exists?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(J.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,be.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ne.D)(this.ref.get(e)).pipe(J.iC)}}class z{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?R_(this.query,this.afs.schedulers.outsideAngular).pipe((0,be.U)(t=>t.filter(a=>e.indexOf(a.type)>-1)),(0,lt.h)(t=>t.length>0),J.iC):R_(this.query,this.afs.schedulers.outsideAngular).pipe(J.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ne.R)((t,a)=>[...t,...a],[]))}snapshotChanges(e){const t=g(e);return u(this.query,t,this.afs.schedulers.outsideAngular).pipe(J.iC)}valueChanges(e={}){return lm(this.query,this.afs.schedulers.outsideAngular).pipe((0,be.U)(a=>a.payload.docs.map(f=>e.idField?Object.assign({[e.idField]:f.id},f.data()):f.data())),J.iC)}get(e){return(0,ne.D)(this.query.get(e)).pipe(J.iC)}}const ue=new m.OlP("angularfire2.enableFirestorePersistence"),Me=new m.OlP("angularfire2.firestore.persistenceSettings"),gt=new m.OlP("angularfire2.firestore.settings"),bt=new m.OlP("angularfire2.firestore.use-emulator");function Bt(s,e=(t=>t)){return{query:e(s),ref:s}}let pn=(()=>{class s{constructor(t,a,f,y,M,U,oe,ve,$e,yt,Yt,vn,Dn,ni,fi,Un,Jn){this.schedulers=oe;const ei=(0,He.on)(t,U,a),Ti=$e;yt&&(0,su.nw)(ei,U,Yt,Dn,ni,fi,vn,Un),[this.firestore,this.persistenceEnabled$]=(0,He.cc)(`${ei.name}.firestore`,"AngularFirestore",ei.name,()=>{const ki=U.runOutsideAngular(()=>ei.firestore());if(y&&ki.settings(y),Ti&&ki.useEmulator(...Ti),f&&!(0,ot.PM)(M)){const rr=()=>{try{return(0,ne.D)(ki.enablePersistence(ve||void 0).then(()=>!0,()=>!1))}catch(Gr){return typeof console<"u"&&console.warn(Gr),(0,C.of)(!1)}};return[ki,U.runOutsideAngular(rr)]}return[ki,(0,C.of)(!1)]},[y,Ti,f])}collection(t,a){let f;f="string"==typeof t?this.firestore.collection(t):t;const{ref:y,query:M}=Bt(f,a),U=this.schedulers.ngZone.run(()=>y);return new S(U,M,this)}collectionGroup(t,a){const f=a||(M=>M),y=this.firestore.collectionGroup(t);return new z(f(y),this)}doc(t){let a;a="string"==typeof t?this.firestore.doc(t):t;const f=this.schedulers.ngZone.run(()=>a);return new P(f,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(t){return new(t||s)(m.LFG(He.Dh),m.LFG(He.xv,8),m.LFG(ue,8),m.LFG(gt,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(J.HU),m.LFG(Me,8),m.LFG(bt,8),m.LFG(su.zQ,8),m.LFG(su.Qv,8),m.LFG(su.L6,8),m.LFG(su._Q,8),m.LFG(su.rT,8),m.LFG(su.lh,8),m.LFG(su.f7,8),m.LFG(mh.nm,8))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),bn=(()=>{class s{constructor(){Iv.Z.registerVersion("angularfire",J.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:s,providers:[{provide:ue,useValue:!0},{provide:Me,useValue:t}]}}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({providers:[pn]}),s})()},2011:(gn,_t,k)=>{"use strict";k.d(_t,{Dh:()=>fe,GT:()=>J,cc:()=>Ke,hO:()=>Ne,on:()=>ce,pX:()=>C,xv:()=>Ie});var m=k(4650),N=k(127),v=k(6351);gn=k.hmd(gn);const ne=["ngOnDestroy"],C=(pt,Ut,ut,kt={})=>new Proxy(pt,{get:(vt,Je)=>ut.runOutsideAngular(()=>{var Be;if(pt[Je])return!(null===(Be=kt?.spy)||void 0===Be)&&Be.get&&kt.spy.get(Je,pt[Je]),pt[Je];if(ne.indexOf(Je)>-1)return()=>{};const ht=Ut.toPromise().then(et=>{const qe=et&&et[Je];return"function"==typeof qe?qe.bind(et):qe&&qe.then?qe.then(Pt=>ut.run(()=>Pt)):ut.run(()=>qe)});return new Proxy(()=>{},{get:(et,qe)=>ht[qe],apply:(et,qe,Pt)=>ht.then(ze=>{var At;const Ft=ze&&ze(...Pt);return!(null===(At=kt?.spy)||void 0===At)&&At.apply&&kt.spy.apply(Je,Pt,Ft),Ft})})})}),J=(pt,Ut)=>{Ut.forEach(ut=>{Object.getOwnPropertyNames(ut.prototype||ut).forEach(kt=>{Object.defineProperty(pt.prototype,kt,Object.getOwnPropertyDescriptor(ut.prototype||ut,kt))})})};class De{constructor(Ut){return Ut}}const fe=new m.OlP("angularfire2.app.options"),Ie=new m.OlP("angularfire2.app.name");function ce(pt,Ut,ut){const vt="object"==typeof ut&&ut||{};vt.name=vt.name||"string"==typeof ut&&ut||"[DEFAULT]";const Be=N.Z.apps.filter(ht=>ht&&ht.name===vt.name)[0]||Ut.runOutsideAngular(()=>N.Z.initializeApp(pt,vt));try{JSON.stringify(pt)!==JSON.stringify(Be.options)&&ge("error",`${Be.name} Firebase App already initialized with different options${gn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new De(Be)}const ge=(pt,...Ut)=>{(0,m.X6Q)()&&typeof console<"u"&&console[pt](...Ut)},be={provide:De,useFactory:ce,deps:[fe,m.R0b,[new m.FiY,Ie]]};let Ne=(()=>{class pt{constructor(ut){N.Z.registerVersion("angularfire",v.q4.full,"core"),N.Z.registerVersion("angularfire",v.q4.full,"app-compat"),N.Z.registerVersion("angular",m.q4F.full,ut.toString())}static initializeApp(ut,kt){return{ngModule:pt,providers:[{provide:fe,useValue:ut},{provide:Ie,useValue:kt}]}}}return pt.\u0275fac=function(ut){return new(ut||pt)(m.LFG(m.Lbi))},pt.\u0275mod=m.oAB({type:pt}),pt.\u0275inj=m.cJS({providers:[be]}),pt})();function Ke(pt,Ut,ut,kt,vt){const[,Je,Be]=globalThis.\u0275AngularfireInstanceCache.find(ht=>ht[0]===pt)||[];if(Je)return function lt(pt,Ut){try{return pt.toString()===Ut.toString()}catch{return pt===Ut}}(vt,Be)||(ot("error",`${Ut} was already initialized on the ${ut} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),ot("warn",{is:vt,was:Be})),Je;{const ht=kt();return globalThis.\u0275AngularfireInstanceCache.push([pt,ht,vt]),ht}}const He=!!gn.hot,ot=(pt,...Ut)=>{(0,m.X6Q)()&&typeof console<"u"&&console[pt](...Ut)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(gn,_t,k)=>{"use strict";k.d(_t,{q4:()=>po,iC:()=>va,fc:()=>Nr,HU:()=>Ui,vb:()=>xn,JM:()=>Wt});var m=k(4650),N=k(5867),v=k(5861),ne=k(9681),C=k(2090),J=k(4859),De=k(1877),fe=k(8766);const Ie="@firebase/installations",ce="0.5.16",be=`w:${ce}`,Ne="FIS_v2",Ut=new C.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ut(Z){return Z instanceof C.ZR&&Z.code.includes("request-failed")}function kt({projectId:Z}){return`https://firebaseinstallations.googleapis.com/v1/projects/${Z}/installations`}function vt(Z){return{token:Z.token,requestStatus:2,expiresIn:ze(Z.expiresIn),creationTime:Date.now()}}function Je(Z,re){return Be.apply(this,arguments)}function Be(){return(Be=(0,v.Z)(function*(Z,re){const st=(yield re.json()).error;return Ut.create("request-failed",{requestName:Z,serverCode:st.code,serverMessage:st.message,serverStatus:st.status})})).apply(this,arguments)}function ht({apiKey:Z}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Z})}function et(Z,{refreshToken:re}){const Ae=ht(Z);return Ae.append("Authorization",function At(Z){return`${Ne} ${Z}`}(re)),Ae}function qe(Z){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,v.Z)(function*(Z){const re=yield Z();return re.status>=500&&re.status<600?Z():re})).apply(this,arguments)}function ze(Z){return Number(Z.replace("s","000"))}function Ft(Z,re){return yn.apply(this,arguments)}function yn(){return(yn=(0,v.Z)(function*({appConfig:Z,heartbeatServiceProvider:re},{fid:Ae}){const st=kt(Z),Nt=ht(Z),an=re.getImmediate({optional:!0});if(an){const Li=yield an.getHeartbeatsHeader();Li&&Nt.append("x-firebase-client",Li)}const jn={method:"POST",headers:Nt,body:JSON.stringify({fid:Ae,authVersion:Ne,appId:Z.appId,sdkVersion:be})},gi=yield qe(()=>fetch(st,jn));if(gi.ok){const Li=yield gi.json();return{fid:Li.fid||Ae,registrationStatus:2,refreshToken:Li.refreshToken,authToken:vt(Li.authToken)}}throw yield Je("Create Installation",gi)})).apply(this,arguments)}function $n(Z){return new Promise(re=>{setTimeout(re,Z)})}const si=/^[cdef][\w-]{21}$/;function tn(){try{const Z=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Z),Z[0]=112+Z[0]%16;const Ae=function mn(Z){return function Gn(Z){return btoa(String.fromCharCode(...Z)).replace(/\+/g,"-").replace(/\//g,"_")}(Z).substr(0,22)}(Z);return si.test(Ae)?Ae:""}catch{return""}}function Oe(Z){return`${Z.appName}!${Z.appId}`}const Ve=new Map;function Fe(Z,re){const Ae=Oe(Z);Xt(Ae,re),function Fn(Z,re){const Ae=function Kt(){return!Mt&&"BroadcastChannel"in self&&(Mt=new BroadcastChannel("[Firebase] FID Change"),Mt.onmessage=Z=>{Xt(Z.data.key,Z.data.fid)}),Mt}();Ae&&Ae.postMessage({key:Z,fid:re}),function Tt(){0===Ve.size&&Mt&&(Mt.close(),Mt=null)}()}(Ae,re)}function Xt(Z,re){const Ae=Ve.get(Z);if(Ae)for(const st of Ae)st(re)}let Mt=null;const jt="firebase-installations-store";let Hn=null;function wn(){return Hn||(Hn=(0,fe.X3)("firebase-installations-database",1,{upgrade:(Z,re)=>{0===re&&Z.createObjectStore(jt)}})),Hn}function mt(Z,re){return ee.apply(this,arguments)}function ee(){return(ee=(0,v.Z)(function*(Z,re){const Ae=Oe(Z),Nt=(yield wn()).transaction(jt,"readwrite"),an=Nt.objectStore(jt),Mn=yield an.get(Ae);return yield an.put(re,Ae),yield Nt.done,(!Mn||Mn.fid!==re.fid)&&Fe(Z,re.fid),re})).apply(this,arguments)}function he(Z){return le.apply(this,arguments)}function le(){return(le=(0,v.Z)(function*(Z){const re=Oe(Z),st=(yield wn()).transaction(jt,"readwrite");yield st.objectStore(jt).delete(re),yield st.done})).apply(this,arguments)}function Ce(Z,re){return ae.apply(this,arguments)}function ae(){return(ae=(0,v.Z)(function*(Z,re){const Ae=Oe(Z),Nt=(yield wn()).transaction(jt,"readwrite"),an=Nt.objectStore(jt),Mn=yield an.get(Ae),jn=re(Mn);return void 0===jn?yield an.delete(Ae):yield an.put(jn,Ae),yield Nt.done,jn&&(!Mn||Mn.fid!==jn.fid)&&Fe(Z,jn.fid),jn})).apply(this,arguments)}function Le(Z){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,v.Z)(function*(Z){let re;const Ae=yield Ce(Z.appConfig,st=>{const Nt=Gt(st),an=nn(Z,Nt);return re=an.registrationPromise,an.installationEntry});return""===Ae.fid?{installationEntry:yield re}:{installationEntry:Ae,registrationPromise:re}})).apply(this,arguments)}function Gt(Z){return kn(Z||{fid:tn(),registrationStatus:0})}function nn(Z,re){if(0===re.registrationStatus){if(!navigator.onLine)return{installationEntry:re,registrationPromise:Promise.reject(Ut.create("app-offline"))};const Ae={fid:re.fid,registrationStatus:1,registrationTime:Date.now()},st=function ln(Z,re){return Rn.apply(this,arguments)}(Z,Ae);return{installationEntry:Ae,registrationPromise:st}}return 1===re.registrationStatus?{installationEntry:re,registrationPromise:ai(Z)}:{installationEntry:re}}function Rn(){return(Rn=(0,v.Z)(function*(Z,re){try{const Ae=yield Ft(Z,re);return mt(Z.appConfig,Ae)}catch(Ae){throw ut(Ae)&&409===Ae.customData.serverCode?yield he(Z.appConfig):yield mt(Z.appConfig,{fid:re.fid,registrationStatus:0}),Ae}})).apply(this,arguments)}function ai(Z){return di.apply(this,arguments)}function di(){return(di=(0,v.Z)(function*(Z){let re=yield ri(Z.appConfig);for(;1===re.registrationStatus;)yield $n(100),re=yield ri(Z.appConfig);if(0===re.registrationStatus){const{installationEntry:Ae,registrationPromise:st}=yield Le(Z);return st||Ae}return re})).apply(this,arguments)}function ri(Z){return Ce(Z,re=>{if(!re)throw Ut.create("installation-not-found");return kn(re)})}function kn(Z){return function Ai(Z){return 1===Z.registrationStatus&&Z.registrationTime+1e4<Date.now()}(Z)?{fid:Z.fid,registrationStatus:0}:Z}function Tn(Z,re){return $t.apply(this,arguments)}function $t(){return($t=(0,v.Z)(function*({appConfig:Z,heartbeatServiceProvider:re},Ae){const st=ft(Z,Ae),Nt=et(Z,Ae),an=re.getImmediate({optional:!0});if(an){const Li=yield an.getHeartbeatsHeader();Li&&Nt.append("x-firebase-client",Li)}const jn={method:"POST",headers:Nt,body:JSON.stringify({installation:{sdkVersion:be,appId:Z.appId}})},gi=yield qe(()=>fetch(st,jn));if(gi.ok)return vt(yield gi.json());throw yield Je("Generate Auth Token",gi)})).apply(this,arguments)}function ft(Z,{fid:re}){return`${kt(Z)}/${re}/authTokens:generate`}function Se(Z){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,v.Z)(function*(Z,re=!1){let Ae;const st=yield Ce(Z.appConfig,an=>{if(!Ht(an))throw Ut.create("not-registered");const Mn=an.authToken;if(!re&&_e(Mn))return an;if(1===Mn.requestStatus)return Ae=hn(Z,re),an;{if(!navigator.onLine)throw Ut.create("app-offline");const jn=G(an);return Ae=Xe(Z,jn),jn}});return Ae?yield Ae:st.authToken})).apply(this,arguments)}function hn(Z,re){return at.apply(this,arguments)}function at(){return(at=(0,v.Z)(function*(Z,re){let Ae=yield it(Z.appConfig);for(;1===Ae.authToken.requestStatus;)yield $n(100),Ae=yield it(Z.appConfig);const st=Ae.authToken;return 0===st.requestStatus?Se(Z,re):st})).apply(this,arguments)}function it(Z){return Ce(Z,re=>{if(!Ht(re))throw Ut.create("not-registered");return function X(Z){return 1===Z.requestStatus&&Z.requestTime+1e4<Date.now()}(re.authToken)?Object.assign(Object.assign({},re),{authToken:{requestStatus:0}}):re})}function Xe(Z,re){return Et.apply(this,arguments)}function Et(){return(Et=(0,v.Z)(function*(Z,re){try{const Ae=yield Tn(Z,re),st=Object.assign(Object.assign({},re),{authToken:Ae});return yield mt(Z.appConfig,st),Ae}catch(Ae){if(!ut(Ae)||401!==Ae.customData.serverCode&&404!==Ae.customData.serverCode){const st=Object.assign(Object.assign({},re),{authToken:{requestStatus:0}});yield mt(Z.appConfig,st)}else yield he(Z.appConfig);throw Ae}})).apply(this,arguments)}function Ht(Z){return void 0!==Z&&2===Z.registrationStatus}function _e(Z){return 2===Z.requestStatus&&!function j(Z){const re=Date.now();return re<Z.creationTime||Z.creationTime+Z.expiresIn<re+36e5}(Z)}function G(Z){const re={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},Z),{authToken:re})}function pe(){return(pe=(0,v.Z)(function*(Z){const re=Z,{installationEntry:Ae,registrationPromise:st}=yield Le(re);return st?st.catch(console.error):Se(re).catch(console.error),Ae.fid})).apply(this,arguments)}function Ct(){return(Ct=(0,v.Z)(function*(Z,re=!1){const Ae=Z;return yield dn(Ae),(yield Se(Ae,re)).token})).apply(this,arguments)}function dn(Z){return fn.apply(this,arguments)}function fn(){return(fn=(0,v.Z)(function*(Z){const{registrationPromise:re}=yield Le(Z);re&&(yield re)})).apply(this,arguments)}function rn(Z){return Ut.create("missing-app-config-values",{valueName:Z})}const Kn="installations",hi=Z=>{const re=Z.getProvider("app").getImmediate(),Ae=function Lt(Z){if(!Z||!Z.options)throw rn("App Configuration");if(!Z.name)throw rn("App Name");const re=["projectId","apiKey","appId"];for(const Ae of re)if(!Z.options[Ae])throw rn(Ae);return{appName:Z.name,projectId:Z.options.projectId,apiKey:Z.options.apiKey,appId:Z.options.appId}}(re);return{app:re,appConfig:Ae,heartbeatServiceProvider:(0,ne._getProvider)(re,"heartbeat"),_delete:()=>Promise.resolve()}},Bi=Z=>{const re=Z.getProvider("app").getImmediate(),Ae=(0,ne._getProvider)(re,Kn).getImmediate();return{getId:()=>function K(Z){return pe.apply(this,arguments)}(Ae),getToken:Nt=>function Qe(Z){return Ct.apply(this,arguments)}(Ae,Nt)}};(function dr(){(0,ne._registerComponent)(new J.wA(Kn,hi,"PUBLIC")),(0,ne._registerComponent)(new J.wA("installations-internal",Bi,"PRIVATE"))})(),(0,ne.registerVersion)(Ie,ce),(0,ne.registerVersion)(Ie,ce,"esm2017");const sr="@firebase/remote-config",br=new C.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class no{constructor(re,Ae,st,Nt){this.client=re,this.storage=Ae,this.storageCache=st,this.logger=Nt}isCachedDataFresh(re,Ae){if(!Ae)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const st=Date.now()-Ae,Nt=st<=re;return this.logger.debug(`Config fetch cache check. Cache age millis: ${st}. Cache max age millis (minimumFetchIntervalMillis setting): ${re}. Is cache hit: ${Nt}.`),Nt}fetch(re){var Ae=this;return(0,v.Z)(function*(){const[st,Nt]=yield Promise.all([Ae.storage.getLastSuccessfulFetchTimestampMillis(),Ae.storage.getLastSuccessfulFetchResponse()]);if(Nt&&Ae.isCachedDataFresh(re.cacheMaxAgeMillis,st))return Nt;re.eTag=Nt&&Nt.eTag;const an=yield Ae.client.fetch(re),Mn=[Ae.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===an.status&&Mn.push(Ae.storage.setLastSuccessfulFetchResponse(an)),yield Promise.all(Mn),an})()}}function La(Z=navigator){return Z.languages&&Z.languages[0]||Z.language}class _s{constructor(re,Ae,st,Nt,an,Mn){this.firebaseInstallations=re,this.sdkVersion=Ae,this.namespace=st,this.projectId=Nt,this.apiKey=an,this.appId=Mn}fetch(re){var Ae=this;return(0,v.Z)(function*(){var st,Nt,an;const[Mn,jn]=yield Promise.all([Ae.firebaseInstallations.getId(),Ae.firebaseInstallations.getToken()]),Li=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Ae.projectId}/namespaces/${Ae.namespace}:fetch?key=${Ae.apiKey}`,Ri={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":re.eTag||"*"},Ci={sdk_version:Ae.sdkVersion,app_instance_id:Mn,app_instance_id_token:jn,app_id:Ae.appId,language_code:La()},ms={method:"POST",headers:Ri,body:JSON.stringify(Ci)},Fs=fetch(Li,ms),Jo=new Promise((us,$a)=>{re.signal.addEventListener(()=>{const vr=new Error("The operation was aborted.");vr.name="AbortError",$a(vr)})});let Ha;try{yield Promise.race([Fs,Jo]),Ha=yield Fs}catch(us){let $a="fetch-client-network";throw"AbortError"===(null===(st=us)||void 0===st?void 0:st.name)&&($a="fetch-timeout"),br.create($a,{originalErrorMessage:null===(Nt=us)||void 0===Nt?void 0:Nt.message})}let ol=Ha.status;const cu=Ha.headers.get("ETag")||void 0;let ja,nc;if(200===Ha.status){let us;try{us=yield Ha.json()}catch($a){throw br.create("fetch-client-parse",{originalErrorMessage:null===(an=$a)||void 0===an?void 0:an.message})}ja=us.entries,nc=us.state}if("INSTANCE_STATE_UNSPECIFIED"===nc?ol=500:"NO_CHANGE"===nc?ol=304:("NO_TEMPLATE"===nc||"EMPTY_CONFIG"===nc)&&(ja={}),304!==ol&&200!==ol)throw br.create("fetch-status",{httpStatus:ol});return{status:ol,eTag:cu,config:ja}})()}}class Rt{constructor(re,Ae){this.client=re,this.storage=Ae}fetch(re){var Ae=this;return(0,v.Z)(function*(){const st=(yield Ae.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Ae.attemptFetch(re,st)})()}attemptFetch(re,{throttleEndTimeMillis:Ae,backoffCount:st}){var Nt=this;return(0,v.Z)(function*(){yield function Vs(Z,re){return new Promise((Ae,st)=>{const Nt=Math.max(re-Date.now(),0),an=setTimeout(Ae,Nt);Z.addEventListener(()=>{clearTimeout(an),st(br.create("fetch-throttle",{throttleEndTimeMillis:re}))})})}(re.signal,Ae);try{const an=yield Nt.client.fetch(re);return yield Nt.storage.deleteThrottleMetadata(),an}catch(an){if(!function Ot(Z){if(!(Z instanceof C.ZR&&Z.customData))return!1;const re=Number(Z.customData.httpStatus);return 429===re||500===re||503===re||504===re}(an))throw an;const Mn={throttleEndTimeMillis:Date.now()+(0,C.$s)(st),backoffCount:st+1};return yield Nt.storage.setThrottleMetadata(Mn),Nt.attemptFetch(re,Mn)}})()}}class Nn{constructor(re,Ae,st,Nt,an){this.app=re,this._client=Ae,this._storageCache=st,this._storage=Nt,this._logger=an,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ii(Z,re){var Ae;const st=Z.target.error||void 0;return br.create(re,{originalErrorMessage:st&&(null===(Ae=st)||void 0===Ae?void 0:Ae.message)})}const Di="app_namespace_store";class ls{constructor(re,Ae,st,Nt=function zr(){return new Promise((Z,re)=>{var Ae;try{const st=indexedDB.open("firebase_remote_config",1);st.onerror=Nt=>{re(ii(Nt,"storage-open"))},st.onsuccess=Nt=>{Z(Nt.target.result)},st.onupgradeneeded=Nt=>{0===Nt.oldVersion&&Nt.target.result.createObjectStore(Di,{keyPath:"compositeKey"})}}catch(st){re(br.create("storage-open",{originalErrorMessage:null===(Ae=st)||void 0===Ae?void 0:Ae.message}))}})}()){this.appId=re,this.appName=Ae,this.namespace=st,this.openDbPromise=Nt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(re){return this.set("last_fetch_status",re)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(re){return this.set("last_successful_fetch_timestamp_millis",re)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(re){return this.set("last_successful_fetch_response",re)}getActiveConfig(){return this.get("active_config")}setActiveConfig(re){return this.set("active_config",re)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(re){return this.set("active_config_etag",re)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(re){return this.set("throttle_metadata",re)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(re){var Ae=this;return(0,v.Z)(function*(){const st=yield Ae.openDbPromise;return new Promise((Nt,an)=>{var Mn;const gi=st.transaction([Di],"readonly").objectStore(Di),Li=Ae.createCompositeKey(re);try{const Ri=gi.get(Li);Ri.onerror=Ci=>{an(ii(Ci,"storage-get"))},Ri.onsuccess=Ci=>{const ms=Ci.target.result;Nt(ms?ms.value:void 0)}}catch(Ri){an(br.create("storage-get",{originalErrorMessage:null===(Mn=Ri)||void 0===Mn?void 0:Mn.message}))}})})()}set(re,Ae){var st=this;return(0,v.Z)(function*(){const Nt=yield st.openDbPromise;return new Promise((an,Mn)=>{var jn;const Li=Nt.transaction([Di],"readwrite").objectStore(Di),Ri=st.createCompositeKey(re);try{const Ci=Li.put({compositeKey:Ri,value:Ae});Ci.onerror=ms=>{Mn(ii(ms,"storage-set"))},Ci.onsuccess=()=>{an()}}catch(Ci){Mn(br.create("storage-set",{originalErrorMessage:null===(jn=Ci)||void 0===jn?void 0:jn.message}))}})})()}delete(re){var Ae=this;return(0,v.Z)(function*(){const st=yield Ae.openDbPromise;return new Promise((Nt,an)=>{var Mn;const gi=st.transaction([Di],"readwrite").objectStore(Di),Li=Ae.createCompositeKey(re);try{const Ri=gi.delete(Li);Ri.onerror=Ci=>{an(ii(Ci,"storage-delete"))},Ri.onsuccess=()=>{Nt()}}catch(Ri){an(br.create("storage-delete",{originalErrorMessage:null===(Mn=Ri)||void 0===Mn?void 0:Mn.message}))}})})()}createCompositeKey(re){return[this.appId,this.appName,this.namespace,re].join()}}class Ts{constructor(re){this.storage=re}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var re=this;return(0,v.Z)(function*(){const Ae=re.storage.getLastFetchStatus(),st=re.storage.getLastSuccessfulFetchTimestampMillis(),Nt=re.storage.getActiveConfig(),an=yield Ae;an&&(re.lastFetchStatus=an);const Mn=yield st;Mn&&(re.lastSuccessfulFetchTimestampMillis=Mn);const jn=yield Nt;jn&&(re.activeConfig=jn)})()}setLastFetchStatus(re){return this.lastFetchStatus=re,this.storage.setLastFetchStatus(re)}setLastSuccessfulFetchTimestampMillis(re){return this.lastSuccessfulFetchTimestampMillis=re,this.storage.setLastSuccessfulFetchTimestampMillis(re)}setActiveConfig(re){return this.activeConfig=re,this.storage.setActiveConfig(re)}}function Ks(){return sa.apply(this,arguments)}function sa(){return(sa=(0,v.Z)(function*(){if(!(0,C.hl)())return!1;try{return yield(0,C.eu)()}catch{return!1}})).apply(this,arguments)}!function Ro(){(0,ne._registerComponent)(new J.wA("remote-config",function Z(re,{instanceIdentifier:Ae}){const st=re.getProvider("app").getImmediate(),Nt=re.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw br.create("registration-window");if(!(0,C.hl)())throw br.create("indexed-db-unavailable");const{projectId:an,apiKey:Mn,appId:jn}=st.options;if(!an)throw br.create("registration-project-id");if(!Mn)throw br.create("registration-api-key");if(!jn)throw br.create("registration-app-id");const gi=new ls(jn,st.name,Ae=Ae||"firebase"),Li=new Ts(gi),Ri=new De.Yd(sr);Ri.logLevel=De.in.ERROR;const Ci=new _s(Nt,ne.SDK_VERSION,Ae,an,Mn,jn),ms=new Rt(Ci,gi),Fs=new no(ms,gi,Li,Ri),Jo=new Nn(st,Fs,Li,gi,Ri);return function or(Z){const re=(0,C.m9)(Z);re._initializePromise||(re._initializePromise=re._storageCache.loadFromStorage().then(()=>{re._isInitializationComplete=!0}))}(Jo),Jo},"PUBLIC").setMultipleInstances(!0)),(0,ne.registerVersion)(sr,"0.3.15"),(0,ne.registerVersion)(sr,"0.3.15","esm2017")}();const Oo="/firebase-messaging-sw.js",Po="/firebase-cloud-messaging-push-scope",Ca="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",io="google.c.a.c_id",fr="google.c.a.c_l",Ms="google.c.a.ts",Is="google.c.a.e";var Hs=(()=>{return(Z=Hs||(Hs={})).PUSH_RECEIVED="push-received",Z.NOTIFICATION_CLICKED="notification-clicked",Hs;var Z})();function is(Z){const re=new Uint8Array(Z);return btoa(String.fromCharCode(...re)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Wr(Z){const Ae=(Z+"=".repeat((4-Z.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),st=atob(Ae),Nt=new Uint8Array(st.length);for(let an=0;an<st.length;++an)Nt[an]=st.charCodeAt(an);return Nt}const ro="fcm_token_details_db",bo="fcm_token_object_Store";function As(Z){return js.apply(this,arguments)}function js(){return js=(0,v.Z)(function*(Z){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(an=>an.name).includes(ro))return null;let re=null;return(yield(0,fe.X3)(ro,5,{upgrade:(st=(0,v.Z)(function*(Nt,an,Mn,jn){var gi;if(an<2||!Nt.objectStoreNames.contains(bo))return;const Li=jn.objectStore(bo),Ri=yield Li.index("fcmSenderId").get(Z);if(yield Li.clear(),Ri)if(2===an){const Ci=Ri;if(!Ci.auth||!Ci.p256dh||!Ci.endpoint)return;re={token:Ci.fcmToken,createTime:null!==(gi=Ci.createTime)&&void 0!==gi?gi:Date.now(),subscriptionOptions:{auth:Ci.auth,p256dh:Ci.p256dh,endpoint:Ci.endpoint,swScope:Ci.swScope,vapidKey:"string"==typeof Ci.vapidKey?Ci.vapidKey:is(Ci.vapidKey)}}}else if(3===an){const Ci=Ri;re={token:Ci.fcmToken,createTime:Ci.createTime,subscriptionOptions:{auth:is(Ci.auth),p256dh:is(Ci.p256dh),endpoint:Ci.endpoint,swScope:Ci.swScope,vapidKey:is(Ci.vapidKey)}}}else if(4===an){const Ci=Ri;re={token:Ci.fcmToken,createTime:Ci.createTime,subscriptionOptions:{auth:is(Ci.auth),p256dh:is(Ci.p256dh),endpoint:Ci.endpoint,swScope:Ci.swScope,vapidKey:is(Ci.vapidKey)}}}}),function(an,Mn,jn,gi){return st.apply(this,arguments)})})).close(),yield(0,fe.Lj)(ro),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),pr(re)?re:null;var st}),js.apply(this,arguments)}function pr(Z){if(!Z||!Z.subscriptionOptions)return!1;const{subscriptionOptions:re}=Z;return"number"==typeof Z.createTime&&Z.createTime>0&&"string"==typeof Z.token&&Z.token.length>0&&"string"==typeof re.auth&&re.auth.length>0&&"string"==typeof re.p256dh&&re.p256dh.length>0&&"string"==typeof re.endpoint&&re.endpoint.length>0&&"string"==typeof re.swScope&&re.swScope.length>0&&"string"==typeof re.vapidKey&&re.vapidKey.length>0}const xi="firebase-messaging-store";let Ur=null;function so(){return Ur||(Ur=(0,fe.X3)("firebase-messaging-database",1,{upgrade:(Z,re)=>{0===re&&Z.createObjectStore(xi)}})),Ur}function vs(Z){return aa.apply(this,arguments)}function aa(){return(aa=(0,v.Z)(function*(Z){const re=Zs(Z),st=yield(yield so()).transaction(xi).objectStore(xi).get(re);if(st)return st;{const Nt=yield As(Z.appConfig.senderId);if(Nt)return yield Ki(Z,Nt),Nt}})).apply(this,arguments)}function Ki(Z,re){return Co.apply(this,arguments)}function Co(){return(Co=(0,v.Z)(function*(Z,re){const Ae=Zs(Z),Nt=(yield so()).transaction(xi,"readwrite");return yield Nt.objectStore(xi).put(re,Ae),yield Nt.done,re})).apply(this,arguments)}function ks(Z){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,v.Z)(function*(Z){const re=Zs(Z),st=(yield so()).transaction(xi,"readwrite");yield st.objectStore(xi).delete(re),yield st.done})).apply(this,arguments)}function Zs({appConfig:Z}){return Z.appId}const mr=new C.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function pi(Z,re){return xr.apply(this,arguments)}function xr(){return(xr=(0,v.Z)(function*(Z,re){var Ae;const st=yield Xr(Z),Nt=En(re),an={method:"POST",headers:st,body:JSON.stringify(Nt)};let Mn;try{Mn=yield(yield fetch($s(Z.appConfig),an)).json()}catch(jn){throw mr.create("token-subscribe-failed",{errorInfo:null===(Ae=jn)||void 0===Ae?void 0:Ae.toString()})}if(Mn.error)throw mr.create("token-subscribe-failed",{errorInfo:Mn.error.message});if(!Mn.token)throw mr.create("token-subscribe-no-token");return Mn.token})).apply(this,arguments)}function Ec(Z,re){return ps.apply(this,arguments)}function ps(){return(ps=(0,v.Z)(function*(Z,re){var Ae;const st=yield Xr(Z),Nt=En(re.subscriptionOptions),an={method:"PATCH",headers:st,body:JSON.stringify(Nt)};let Mn;try{Mn=yield(yield fetch(`${$s(Z.appConfig)}/${re.token}`,an)).json()}catch(jn){throw mr.create("token-update-failed",{errorInfo:null===(Ae=jn)||void 0===Ae?void 0:Ae.toString()})}if(Mn.error)throw mr.create("token-update-failed",{errorInfo:Mn.error.message});if(!Mn.token)throw mr.create("token-update-no-token");return Mn.token})).apply(this,arguments)}function pl(Z,re){return ca.apply(this,arguments)}function ca(){return(ca=(0,v.Z)(function*(Z,re){var Ae;const Nt={method:"DELETE",headers:yield Xr(Z)};try{const Mn=yield(yield fetch(`${$s(Z.appConfig)}/${re}`,Nt)).json();if(Mn.error)throw mr.create("token-unsubscribe-failed",{errorInfo:Mn.error.message})}catch(an){throw mr.create("token-unsubscribe-failed",{errorInfo:null===(Ae=an)||void 0===Ae?void 0:Ae.toString()})}})).apply(this,arguments)}function $s({projectId:Z}){return`https://fcmregistrations.googleapis.com/v1/projects/${Z}/registrations`}function Xr(Z){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,v.Z)(function*({appConfig:Z,installations:re}){const Ae=yield re.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Z.apiKey,"x-goog-firebase-installations-auth":`FIS ${Ae}`})})).apply(this,arguments)}function En({p256dh:Z,auth:re,endpoint:Ae,vapidKey:st}){const Nt={web:{endpoint:Ae,auth:re,p256dh:Z}};return st!==Ca&&(Nt.web.applicationPubKey=st),Nt}const Mi=6048e5;function wo(Z){return Da.apply(this,arguments)}function Da(){return(Da=(0,v.Z)(function*(Z){const re=yield Xn(Z.swRegistration,Z.vapidKey),Ae={vapidKey:Z.vapidKey,swScope:Z.swRegistration.scope,endpoint:re.endpoint,auth:is(re.getKey("auth")),p256dh:is(re.getKey("p256dh"))},st=yield vs(Z.firebaseDependencies);if(st){if(oo(st.subscriptionOptions,Ae))return Date.now()>=st.createTime+Mi?Q(Z,{token:st.token,createTime:Date.now(),subscriptionOptions:Ae}):st.token;try{yield pl(Z.firebaseDependencies,st.token)}catch(Nt){console.warn(Nt)}return ke(Z.firebaseDependencies,Ae)}return ke(Z.firebaseDependencies,Ae)})).apply(this,arguments)}function Hr(Z){return se.apply(this,arguments)}function se(){return(se=(0,v.Z)(function*(Z){const re=yield vs(Z.firebaseDependencies);re&&(yield pl(Z.firebaseDependencies,re.token),yield ks(Z.firebaseDependencies));const Ae=yield Z.swRegistration.pushManager.getSubscription();return!Ae||Ae.unsubscribe()})).apply(this,arguments)}function Q(Z,re){return $.apply(this,arguments)}function $(){return($=(0,v.Z)(function*(Z,re){try{const Ae=yield Ec(Z.firebaseDependencies,re),st=Object.assign(Object.assign({},re),{token:Ae,createTime:Date.now()});return yield Ki(Z.firebaseDependencies,st),Ae}catch(Ae){throw yield Hr(Z),Ae}})).apply(this,arguments)}function ke(Z,re){return en.apply(this,arguments)}function en(){return(en=(0,v.Z)(function*(Z,re){const st={token:yield pi(Z,re),createTime:Date.now(),subscriptionOptions:re};return yield Ki(Z,st),st.token})).apply(this,arguments)}function Xn(Z,re){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,v.Z)(function*(Z,re){return(yield Z.pushManager.getSubscription())||Z.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Wr(re)})})).apply(this,arguments)}function oo(Z,re){return re.vapidKey===Z.vapidKey&&re.endpoint===Z.endpoint&&re.auth===Z.auth&&re.p256dh===Z.p256dh}function Fr(Z){const re={from:Z.from,collapseKey:Z.collapse_key,messageId:Z.fcmMessageId};return function gr(Z,re){if(!re.notification)return;Z.notification={};const Ae=re.notification.title;Ae&&(Z.notification.title=Ae);const st=re.notification.body;st&&(Z.notification.body=st);const Nt=re.notification.image;Nt&&(Z.notification.image=Nt);const an=re.notification.icon;an&&(Z.notification.icon=an)}(re,Z),function rs(Z,re){!re.data||(Z.data=re.data)}(re,Z),function ua(Z,re){var Ae,st,Nt,an,Mn;if(!(re.fcmOptions||null!==(Ae=re.notification)&&void 0!==Ae&&Ae.click_action))return;Z.fcmOptions={};const jn=null!==(Nt=null===(st=re.fcmOptions)||void 0===st?void 0:st.link)&&void 0!==Nt?Nt:null===(an=re.notification)||void 0===an?void 0:an.click_action;jn&&(Z.fcmOptions.link=jn);const gi=null===(Mn=re.fcmOptions)||void 0===Mn?void 0:Mn.analytics_label;gi&&(Z.fcmOptions.analyticsLabel=gi)}(re,Z),re}function er(Z){return"object"==typeof Z&&!!Z&&io in Z}function ao(Z,re){const Ae=[];for(let st=0;st<Z.length;st++)Ae.push(Z.charAt(st)),st<re.length&&Ae.push(re.charAt(st));return Ae.join("")}function Ba(Z){return mr.create("missing-app-config-values",{valueName:Z})}ao("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ao("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ql{constructor(re,Ae,st){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Nt=function Sc(Z){if(!Z||!Z.options)throw Ba("App Configuration Object");if(!Z.name)throw Ba("App Name");const re=["projectId","apiKey","appId","messagingSenderId"],{options:Ae}=Z;for(const st of re)if(!Ae[st])throw Ba(st);return{appName:Z.name,projectId:Ae.projectId,apiKey:Ae.apiKey,appId:Ae.appId,senderId:Ae.messagingSenderId}}(re);this.firebaseDependencies={app:re,appConfig:Nt,installations:Ae,analyticsProvider:st}}_delete(){return Promise.resolve()}}function Va(Z){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,v.Z)(function*(Z){var re;try{Z.swRegistration=yield navigator.serviceWorker.register(Oo,{scope:Po}),Z.swRegistration.update().catch(()=>{})}catch(Ae){throw mr.create("failed-service-worker-registration",{browserErrorMessage:null===(re=Ae)||void 0===re?void 0:re.message})}})).apply(this,arguments)}function Ua(Z,re){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,v.Z)(function*(Z,re){if(!re&&!Z.swRegistration&&(yield Va(Z)),re||!Z.swRegistration){if(!(re instanceof ServiceWorkerRegistration))throw mr.create("invalid-sw-registration");Z.swRegistration=re}})).apply(this,arguments)}function Xa(Z,re){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,v.Z)(function*(Z,re){re?Z.vapidKey=re:Z.vapidKey||(Z.vapidKey=Ca)})).apply(this,arguments)}function da(){return(da=(0,v.Z)(function*(Z,re){if(!navigator)throw mr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw mr.create("permission-blocked");return yield Xa(Z,re?.vapidKey),yield Ua(Z,re?.serviceWorkerRegistration),wo(Z)})).apply(this,arguments)}function Fl(Z,re,Ae){return lo.apply(this,arguments)}function lo(){return(lo=(0,v.Z)(function*(Z,re,Ae){const st=Ja(re);(yield Z.firebaseDependencies.analyticsProvider.get()).logEvent(st,{message_id:Ae[io],message_name:Ae[fr],message_time:Ae[Ms],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ja(Z){switch(Z){case Hs.NOTIFICATION_CLICKED:return"notification_open";case Hs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ye(){return(ye=(0,v.Z)(function*(Z,re){const Ae=re.data;if(!Ae.isFirebaseMessaging)return;Z.onMessageHandler&&Ae.messageType===Hs.PUSH_RECEIVED&&("function"==typeof Z.onMessageHandler?Z.onMessageHandler(Fr(Ae)):Z.onMessageHandler.next(Fr(Ae)));const st=Ae.data;er(st)&&"1"===st[Is]&&(yield Fl(Z,Ae.messageType,st))})).apply(this,arguments)}const q="@firebase/messaging",ct=Z=>{const re=new Ql(Z.getProvider("app").getImmediate(),Z.getProvider("installations-internal").getImmediate(),Z.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Ae=>function W(Z,re){return ye.apply(this,arguments)}(re,Ae)),re},Zt=Z=>{const re=Z.getProvider("messaging").getImmediate();return{getToken:st=>function ml(Z,re){return da.apply(this,arguments)}(re,st)}};function qn(){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,v.Z)(function*(){try{yield(0,C.eu)()}catch{return!1}return typeof window<"u"&&(0,C.hl)()&&(0,C.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function un(){(0,ne._registerComponent)(new J.wA("messaging",ct,"PUBLIC")),(0,ne._registerComponent)(new J.wA("messaging-internal",Zt,"PRIVATE")),(0,ne.registerVersion)(q,"0.10.0"),(0,ne.registerVersion)(q,"0.10.0","esm2017")}();const Gs="analytics",Lo="firebase_id",Os="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gl="https://www.googletagmanager.com/gtag/js",ss=new De.Yd("@firebase/analytics");function ha(Z){return Promise.all(Z.map(re=>re.catch(Ae=>Ae)))}function $u(Z,re){const Ae=document.createElement("script");Ae.src=`${gl}?l=${Z}&id=${re}`,Ae.async=!0,document.head.appendChild(Ae)}function Tc(Z,re,Ae,st,Nt,an){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,v.Z)(function*(Z,re,Ae,st,Nt,an){const Mn=st[Nt];try{if(Mn)yield re[Mn];else{const gi=(yield ha(Ae)).find(Li=>Li.measurementId===Nt);gi&&(yield re[gi.appId])}}catch(jn){ss.error(jn)}Z("config",Nt,an)})).apply(this,arguments)}function Bl(Z,re,Ae,st,Nt){return fa.apply(this,arguments)}function fa(){return(fa=(0,v.Z)(function*(Z,re,Ae,st,Nt){try{let an=[];if(Nt&&Nt.send_to){let Mn=Nt.send_to;Array.isArray(Mn)||(Mn=[Mn]);const jn=yield ha(Ae);for(const gi of Mn){const Li=jn.find(Ci=>Ci.measurementId===gi),Ri=Li&&re[Li.appId];if(!Ri){an=[];break}an.push(Ri)}}0===an.length&&(an=Object.values(re)),yield Promise.all(an),Z("event",st,Nt||{})}catch(an){ss.error(an)}})).apply(this,arguments)}function au(Z){const re=window.document.getElementsByTagName("script");for(const Ae of Object.values(re))if(Ae.src&&Ae.src.includes(gl)&&Ae.src.includes(Z))return Ae;return null}const nr=new C.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Vo=new class _l{constructor(re={},Ae=1e3){this.throttleMetadata=re,this.intervalMillis=Ae}getThrottleMetadata(re){return this.throttleMetadata[re]}setThrottleMetadata(re,Ae){this.throttleMetadata[re]=Ae}deleteThrottleMetadata(re){delete this.throttleMetadata[re]}};function On(Z){return new Headers({Accept:"application/json","x-goog-api-key":Z})}function Qi(Z){return ma.apply(this,arguments)}function ma(){return(ma=(0,v.Z)(function*(Z){var re;const{appId:Ae,apiKey:st}=Z,Nt={method:"GET",headers:On(st)},an=Os.replace("{app-id}",Ae),Mn=yield fetch(an,Nt);if(200!==Mn.status&&304!==Mn.status){let jn="";try{const gi=yield Mn.json();null!==(re=gi.error)&&void 0!==re&&re.message&&(jn=gi.error.message)}catch{}throw nr.create("config-fetch-failed",{httpStatus:Mn.status,responseMessage:jn})}return Mn.json()})).apply(this,arguments)}function Gu(Z){return ti.apply(this,arguments)}function ti(){return(ti=(0,v.Z)(function*(Z,re=Vo,Ae){const{appId:st,apiKey:Nt,measurementId:an}=Z.options;if(!st)throw nr.create("no-app-id");if(!Nt){if(an)return{measurementId:an,appId:st};throw nr.create("no-api-key")}const Mn=re.getThrottleMetadata(st)||{backoffCount:0,throttleEndTimeMillis:Date.now()},jn=new Sn;return setTimeout((0,v.Z)(function*(){jn.abort()}),void 0!==Ae?Ae:6e4),Ei({appId:st,apiKey:Nt,measurementId:an},Mn,jn,re)})).apply(this,arguments)}function Ei(Z,re,Ae){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,v.Z)(function*(Z,{throttleEndTimeMillis:re,backoffCount:Ae},st,Nt=Vo){var an,Mn;const{appId:jn,measurementId:gi}=Z;try{yield Qn(st,re)}catch(Li){if(gi)return ss.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gi} provided in the "measurementId" field in the local Firebase config. [${null===(an=Li)||void 0===an?void 0:an.message}]`),{appId:jn,measurementId:gi};throw Li}try{const Li=yield Qi(Z);return Nt.deleteThrottleMetadata(jn),Li}catch(Li){const Ri=Li;if(!cn(Ri)){if(Nt.deleteThrottleMetadata(jn),gi)return ss.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gi} provided in the "measurementId" field in the local Firebase config. [${Ri?.message}]`),{appId:jn,measurementId:gi};throw Li}const Ci=503===Number(null===(Mn=Ri?.customData)||void 0===Mn?void 0:Mn.httpStatus)?(0,C.$s)(Ae,Nt.intervalMillis,30):(0,C.$s)(Ae,Nt.intervalMillis),ms={throttleEndTimeMillis:Date.now()+Ci,backoffCount:Ae+1};return Nt.setThrottleMetadata(jn,ms),ss.debug(`Calling attemptFetch again in ${Ci} millis`),Ei(Z,ms,st,Nt)}})).apply(this,arguments)}function Qn(Z,re){return new Promise((Ae,st)=>{const Nt=Math.max(re-Date.now(),0),an=setTimeout(Ae,Nt);Z.addEventListener(()=>{clearTimeout(an),st(nr.create("fetch-throttle",{throttleEndTimeMillis:re}))})})}function cn(Z){if(!(Z instanceof C.ZR&&Z.customData))return!1;const re=Number(Z.customData.httpStatus);return 429===re||500===re||503===re||504===re}class Sn{constructor(){this.listeners=[]}addEventListener(re){this.listeners.push(re)}abort(){this.listeners.forEach(re=>re())}}let Ar,il;function Eo(){return(Eo=(0,v.Z)(function*(Z,re,Ae,st,Nt){if(Nt&&Nt.global)Z("event",Ae,st);else{const an=yield re;Z("event",Ae,Object.assign(Object.assign({},st),{send_to:an}))}})).apply(this,arguments)}function Si(Z){il=Z}function qo(Z){Ar=Z}function rl(){return kr.apply(this,arguments)}function kr(){return(kr=(0,v.Z)(function*(){var Z;if(!(0,C.hl)())return ss.warn(nr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,C.eu)()}catch(re){return ss.warn(nr.create("indexeddb-unavailable",{errorInfo:null===(Z=re)||void 0===Z?void 0:Z.toString()}).message),!1}return!0})).apply(this,arguments)}function cs(){return(cs=(0,v.Z)(function*(Z,re,Ae,st,Nt,an,Mn){var jn;const gi=Gu(Z);gi.then(Fs=>{Ae[Fs.measurementId]=Fs.appId,Z.options.measurementId&&Fs.measurementId!==Z.options.measurementId&&ss.warn(`The measurement ID in the local Firebase config (${Z.options.measurementId}) does not match the measurement ID fetched from the server (${Fs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Fs=>ss.error(Fs)),re.push(gi);const Li=rl().then(Fs=>{if(Fs)return st.getId()}),[Ri,Ci]=yield Promise.all([gi,Li]);au(an)||$u(an,Ri.measurementId),il&&(Nt("consent","default",il),Si(void 0)),Nt("js",new Date);const ms=null!==(jn=Mn?.config)&&void 0!==jn?jn:{};return ms.origin="firebase",ms.update=!0,null!=Ci&&(ms[Lo]=Ci),Nt("config",Ri.measurementId,ms),Ar&&(Nt("set",Ar),qo(void 0)),Ri.measurementId})).apply(this,arguments)}class vi{constructor(re){this.app=re}_delete(){return delete co[this.app.options.appId],Promise.resolve()}}let co={},wr=[];const zn={};let Xo,Sa,Qo="dataLayer",_a=!1;function Cl(Z,re,Ae){!function bl(){const Z=[];if((0,C.ru)()&&Z.push("This is a browser extension environment."),(0,C.zI)()||Z.push("Cookies are not available."),Z.length>0){const re=Z.map((st,Nt)=>`(${Nt+1}) ${st}`).join(" "),Ae=nr.create("invalid-analytics-context",{errorInfo:re});ss.warn(Ae.message)}}();const st=Z.options.appId;if(!st)throw nr.create("no-app-id");if(!Z.options.apiKey){if(!Z.options.measurementId)throw nr.create("no-api-key");ss.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Z.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=co[st])throw nr.create("already-exists",{id:st});if(!_a){!function Md(Z){let re=[];Array.isArray(window[Z])?re=window[Z]:window[Z]=re}(Qo);const{wrappedGtag:an,gtagCore:Mn}=function el(Z,re,Ae,st,Nt){let an=function(...Mn){window[st].push(arguments)};return window[Nt]&&"function"==typeof window[Nt]&&(an=window[Nt]),window[Nt]=function Mc(Z,re,Ae,st){function an(){return(an=(0,v.Z)(function*(Mn,jn,gi){try{"event"===Mn?yield Bl(Z,re,Ae,jn,gi):"config"===Mn?yield Tc(Z,re,Ae,st,jn,gi):"consent"===Mn?Z("consent","update",gi):Z("set",jn)}catch(Li){ss.error(Li)}})).apply(this,arguments)}return function Nt(Mn,jn,gi){return an.apply(this,arguments)}}(an,Z,re,Ae),{gtagCore:an,wrappedGtag:window[Nt]}}(co,wr,zn,Qo,"gtag");Sa=an,Xo=Mn,_a=!0}return co[st]=function bi(Z,re,Ae,st,Nt,an,Mn){return cs.apply(this,arguments)}(Z,wr,zn,re,Xo,Qo,Ae),new vi(Z)}function Ac(){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,v.Z)(function*(){if((0,C.ru)()||!(0,C.zI)()||!(0,C.hl)())return!1;try{return yield(0,C.eu)()}catch{return!1}})).apply(this,arguments)}const sl="@firebase/analytics";!function So(){(0,ne._registerComponent)(new J.wA(Gs,(re,{options:Ae})=>Cl(re.getProvider("app").getImmediate(),re.getProvider("installations-internal").getImmediate(),Ae),"PUBLIC")),(0,ne._registerComponent)(new J.wA("analytics-internal",function Z(re){try{const Ae=re.getProvider(Gs).getImmediate();return{logEvent:(st,Nt,an)=>function jo(Z,re,Ae,st){Z=(0,C.m9)(Z),function Ic(Z,re,Ae,st,Nt){return Eo.apply(this,arguments)}(Sa,co[Z.app.options.appId],re,Ae,st).catch(Nt=>ss.error(Nt))}(Ae,st,Nt,an)}}catch(Ae){throw nr.create("interop-component-reg-failed",{reason:Ae})}},"PRIVATE")),(0,ne.registerVersion)(sl,"0.8.4"),(0,ne.registerVersion)(sl,"0.8.4","esm2017")}();var ho=k(341),ec=k(353),fo=k(2868),qs=k(7770),Vl=k(3334);const po=new m.GfV("7.4.1"),Rc="__angularfire_symbol__analyticsIsSupportedValue",mo="__angularfire_symbol__analyticsIsSupported",F="__angularfire_symbol__remoteConfigIsSupportedValue",L="__angularfire_symbol__remoteConfigIsSupported",I="__angularfire_symbol__messagingIsSupportedValue",H="__angularfire_symbol__messagingIsSupported";function Wt(Z,re,Ae){if(re){if(1===re.length)return re[0];const an=re.filter(Mn=>Mn.app===Ae);if(1===an.length)return an[0]}return Ae.container.getProvider(Z).getImmediate({optional:!0})}globalThis[mo]||(globalThis[mo]=Ac().then(Z=>globalThis[Rc]=Z).catch(()=>globalThis[Rc]=!1)),globalThis[H]||(globalThis[H]=qn().then(Z=>globalThis[I]=Z).catch(()=>globalThis[I]=!1)),globalThis[L]||(globalThis[L]=Ks().then(Z=>globalThis[F]=Z).catch(()=>globalThis[F]=!1));const xn=(Z,re)=>{const Ae=re?[re]:(0,N.C6)(),st=[];return Ae.forEach(Nt=>{Nt.container.getProvider(Z).instances.forEach(Mn=>{st.includes(Mn)||st.push(Mn)})}),st};function oi(){}class Wn{constructor(re,Ae=ho.c){this.zone=re,this.delegate=Ae}now(){return this.delegate.now()}schedule(re,Ae,st){const Nt=this.zone;return this.delegate.schedule(function(Mn){Nt.runGuarded(()=>{re.apply(this,[Mn])})},Ae,st)}}class ci{constructor(re){this.zone=re,this.task=null}call(re,Ae){const st=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oi,{},oi,oi)),Ae.pipe((0,fo.b)({next:st,complete:st,error:st})).subscribe(re).add(st)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ui=(()=>{class Z{constructor(Ae){this.ngZone=Ae,this.outsideAngular=Ae.runOutsideAngular(()=>new Wn(Zone.current)),this.insideAngular=Ae.run(()=>new Wn(Zone.current,ec.P)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Z.\u0275fac=function(Ae){return new(Ae||Z)(m.LFG(m.R0b))},Z.\u0275prov=m.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})();function Sr(){const Z=globalThis.\u0275AngularFireScheduler;if(!Z)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Z}function Nr(Z){return Z.pipe((0,qs.QV)(Sr().outsideAngular))}function va(Z){return Sr(),function Jr(Z){return function(Ae){return(Ae=Ae.lift(new ci(Z.ngZone))).pipe((0,Vl.R)(Z.outsideAngular),(0,qs.QV)(Z.insideAngular))}}(Sr())(Z)}},732:(gn,_t,k)=>{"use strict";k.d(_t,{$:()=>Zo,A:()=>tn,B:()=>Ve,G:()=>Fa,H:()=>Ot,J:()=>is,L:()=>Ji,M:()=>Ki,N:()=>Zs,P:()=>re,Q:()=>la,R:()=>Wn,T:()=>mr,U:()=>Ko,V:()=>ps,W:()=>pl,X:()=>En,Y:()=>rs,Z:()=>er,_:()=>Sc,a:()=>qo,a0:()=>ml,a1:()=>Fl,a2:()=>Ja,a3:()=>ye,a4:()=>xe,a5:()=>Zt,a6:()=>qn,a7:()=>Ni,a8:()=>Hi,a9:()=>Fi,aA:()=>hr,aB:()=>Rd,aC:()=>ic,aD:()=>_h,aE:()=>Yi,aI:()=>bi,aL:()=>xr,aa:()=>Rs,ab:()=>Gs,ac:()=>Do,af:()=>ss,ag:()=>$u,ah:()=>Md,ak:()=>se,al:()=>pa,an:()=>cn,ao:()=>ga,ap:()=>wn,aq:()=>Vr,ar:()=>Es,as:()=>Mt,at:()=>jl,au:()=>Hl,av:()=>Ss,aw:()=>Kt,ax:()=>jt,ay:()=>hu,az:()=>ee,b:()=>il,c:()=>Ri,d:()=>Jo,e:()=>ms,f:()=>du,g:()=>yg,h:()=>vh,i:()=>sl,j:()=>af,k:()=>Sl,l:()=>jr,m:()=>Xu,o:()=>Gn,r:()=>Ns,s:()=>Sr,u:()=>Ul});var m=k(5861),N=k(2090),v=k(9681),ne=k(1877);function fe(R,b){var E={};for(var B in R)Object.prototype.hasOwnProperty.call(R,B)&&b.indexOf(B)<0&&(E[B]=R[B]);if(null!=R&&"function"==typeof Object.getOwnPropertySymbols){var me=0;for(B=Object.getOwnPropertySymbols(R);me<B.length;me++)b.indexOf(B[me])<0&&Object.prototype.propertyIsEnumerable.call(R,B[me])&&(E[B[me]]=R[B[me]])}return E}var yn=k(4859);const Gn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},tn={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ve=function mn(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Fe=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ye=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Xt=new ne.Yd("@firebase/auth");function Fn(R,...b){Xt.logLevel<=ne.in.ERROR&&Xt.error(`Auth (${v.SDK_VERSION}): ${R}`,...b)}function Mt(R,...b){throw Cn(R,...b)}function Kt(R,...b){return Cn(R,...b)}function Tt(R,b,E){const B=Object.assign(Object.assign({},Fe()),{[b]:E});return new N.LL("auth","Firebase",B).create(b,{appName:R.name})}function Vt(R,b,E){if(!(b instanceof E))throw E.name!==b.constructor.name&&Mt(R,"argument-error"),Tt(R,"argument-error",`Type of ${b.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Cn(R,...b){if("string"!=typeof R){const E=b[0],B=[...b.slice(1)];return B[0]&&(B[0].appName=R.name),R._errorFactory.create(E,...B)}return Ye.create(R,...b)}function jt(R,b,...E){if(!R)throw Cn(b,...E)}function Hn(R){const b="INTERNAL ASSERTION FAILED: "+R;throw Fn(b),new Error(b)}function wn(R,b){R||Hn(b)}const mt=new Map;function ee(R){wn(R instanceof Function,"Expected a class definition");let b=mt.get(R);return b?(wn(b instanceof R,"Instance stored in cache mismatched with class"),b):(b=new R,mt.set(R,b),b)}function Ce(){var R;return typeof self<"u"&&(null===(R=self.location)||void 0===R?void 0:R.href)||""}function ae(){return"http:"===Le()||"https:"===Le()}function Le(){var R;return typeof self<"u"&&(null===(R=self.location)||void 0===R?void 0:R.protocol)||null}class nn{constructor(b,E){this.shortDelay=b,this.longDelay=E,wn(E>b,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function Dt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ae()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ln(R,b){wn(R.emulator,"Emulator should always be set here");const{url:E}=R.emulator;return b?`${E}${b.startsWith("/")?b.slice(1):b}`:E}class Rn{static initialize(b,E,B){this.fetchImpl=b,E&&(this.headersImpl=E),B&&(this.responseImpl=B)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ai={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},di=new nn(3e4,6e4);function ri(R,b){return R.tenantId&&!b.tenantId?Object.assign(Object.assign({},b),{tenantId:R.tenantId}):b}function kn(R,b,E,B){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,m.Z)(function*(R,b,E,B,me={}){return Tn(R,me,(0,m.Z)(function*(){let Ee={},xt={};B&&("GET"===b?xt=B:Ee={body:JSON.stringify(B)});const sn=(0,N.xO)(Object.assign({key:R.config.apiKey},xt)).slice(1),Zn=yield R._getAdditionalHeaders();return Zn["Content-Type"]="application/json",R.languageCode&&(Zn["X-Firebase-Locale"]=R.languageCode),Rn.fetch()(Jt(R,R.config.apiHost,E,sn),Object.assign({method:b,headers:Zn,referrerPolicy:"no-referrer"},Ee))}))})).apply(this,arguments)}function Tn(R,b,E){return $t.apply(this,arguments)}function $t(){return($t=(0,m.Z)(function*(R,b,E){R._canInitEmulator=!1;const B=Object.assign(Object.assign({},ai),b);try{const me=new hn(R),Ee=yield Promise.race([E(),me.promise]);me.clearNetworkTimeout();const xt=yield Ee.json();if("needConfirmation"in xt)throw at(R,"account-exists-with-different-credential",xt);if(Ee.ok&&!("errorMessage"in xt))return xt;{const sn=Ee.ok?xt.errorMessage:xt.error.message,[Zn,Vn]=sn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Zn)throw at(R,"credential-already-in-use",xt);if("EMAIL_EXISTS"===Zn)throw at(R,"email-already-in-use",xt);if("USER_DISABLED"===Zn)throw at(R,"user-disabled",xt);const wi=B[Zn]||Zn.toLowerCase().replace(/[_\s]+/g,"-");if(Vn)throw Tt(R,wi,Vn);Mt(R,wi)}}catch(me){if(me instanceof N.ZR)throw me;Mt(R,"network-request-failed")}})).apply(this,arguments)}function ft(R,b,E,B){return Se.apply(this,arguments)}function Se(){return(Se=(0,m.Z)(function*(R,b,E,B,me={}){const Ee=yield kn(R,b,E,B,me);return"mfaPendingCredential"in Ee&&Mt(R,"multi-factor-auth-required",{_serverResponse:Ee}),Ee})).apply(this,arguments)}function Jt(R,b,E,B){const me=`${b}${E}?${B}`;return R.config.emulator?ln(R.config,me):`${R.config.apiScheme}://${me}`}class hn{constructor(b){this.auth=b,this.timer=null,this.promise=new Promise((E,B)=>{this.timer=setTimeout(()=>B(Kt(this.auth,"network-request-failed")),di.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function at(R,b,E){const B={appName:R.name};E.email&&(B.email=E.email),E.phoneNumber&&(B.phoneNumber=E.phoneNumber);const me=Kt(R,b,B);return me.customData._tokenResponse=E,me}function Xe(){return(Xe=(0,m.Z)(function*(R,b){return kn(R,"POST","/v1/accounts:delete",b)})).apply(this,arguments)}function Et(R,b){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,m.Z)(function*(R,b){return kn(R,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function _e(R,b){return j.apply(this,arguments)}function j(){return(j=(0,m.Z)(function*(R,b){return kn(R,"POST","/v1/accounts:lookup",b)})).apply(this,arguments)}function G(R){if(R)try{const b=new Date(Number(R));if(!isNaN(b.getTime()))return b.toUTCString()}catch{}}function pe(){return(pe=(0,m.Z)(function*(R,b=!1){const E=(0,N.m9)(R),B=yield E.getIdToken(b),me=Ct(B);jt(me&&me.exp&&me.auth_time&&me.iat,E.auth,"internal-error");const Ee="object"==typeof me.firebase?me.firebase:void 0,xt=Ee?.sign_in_provider;return{claims:me,token:B,authTime:G(Qe(me.auth_time)),issuedAtTime:G(Qe(me.iat)),expirationTime:G(Qe(me.exp)),signInProvider:xt||null,signInSecondFactor:Ee?.sign_in_second_factor||null}})).apply(this,arguments)}function Qe(R){return 1e3*Number(R)}function Ct(R){var b;const[E,B,me]=R.split(".");if(void 0===E||void 0===B||void 0===me)return Fn("JWT malformed, contained fewer than 3 sections"),null;try{const Ee=(0,N.tV)(B);return Ee?JSON.parse(Ee):(Fn("Failed to decode base64 JWT payload"),null)}catch(Ee){return Fn("Caught error parsing JWT payload as JSON",null===(b=Ee)||void 0===b?void 0:b.toString()),null}}function fn(R,b){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,m.Z)(function*(R,b,E=!1){if(E)return b;try{return yield b}catch(B){throw B instanceof N.ZR&&je(B)&&R.auth.currentUser===R&&(yield R.auth.signOut()),B}})).apply(this,arguments)}function je({code:R}){return"auth/user-disabled"===R||"auth/user-token-expired"===R}class Ue{constructor(b){this.user=b,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(b){var E;if(b){const B=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),B}{this.errorBackoff=3e4;const me=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,me)}}schedule(b=!1){var E=this;if(!this.isRunning)return;const B=this.getInterval(b);this.timerId=setTimeout((0,m.Z)(function*(){yield E.iteration()}),B)}iteration(){var b=this;return(0,m.Z)(function*(){var E;try{yield b.user.getIdToken(!0)}catch(B){return void("auth/network-request-failed"===(null===(E=B)||void 0===E?void 0:E.code)&&b.schedule(!0))}b.schedule()})()}}class We{constructor(b,E){this.createdAt=b,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=G(this.lastLoginAt),this.creationTime=G(this.createdAt)}_copy(b){this.createdAt=b.createdAt,this.lastLoginAt=b.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Te(R){return we.apply(this,arguments)}function we(){return(we=(0,m.Z)(function*(R){var b;const E=R.auth,B=yield R.getIdToken(),me=yield fn(R,_e(E,{idToken:B}));jt(me?.users.length,E,"internal-error");const Ee=me.users[0];R._notifyReloadListener(Ee);const xt=null!==(b=Ee.providerUserInfo)&&void 0!==b&&b.length?Kn(Ee.providerUserInfo):[],sn=rn(R.providerData,xt),wi=!!R.isAnonymous&&!(R.email&&Ee.passwordHash||sn?.length),mi={uid:Ee.localId,displayName:Ee.displayName||null,photoURL:Ee.photoUrl||null,email:Ee.email||null,emailVerified:Ee.emailVerified||!1,phoneNumber:Ee.phoneNumber||null,tenantId:Ee.tenantId||null,providerData:sn,metadata:new We(Ee.createdAt,Ee.lastLoginAt),isAnonymous:wi};Object.assign(R,mi)})).apply(this,arguments)}function Lt(){return(Lt=(0,m.Z)(function*(R){const b=(0,N.m9)(R);yield Te(b),yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)})).apply(this,arguments)}function rn(R,b){return[...R.filter(B=>!b.some(me=>me.providerId===B.providerId)),...b]}function Kn(R){return R.map(b=>{var{providerId:E}=b,B=fe(b,["providerId"]);return{providerId:E,uid:B.rawId||"",displayName:B.displayName||null,email:B.email||null,phoneNumber:B.phoneNumber||null,photoURL:B.photoUrl||null}})}function hi(){return(hi=(0,m.Z)(function*(R,b){const E=yield Tn(R,{},(0,m.Z)(function*(){const B=(0,N.xO)({grant_type:"refresh_token",refresh_token:b}).slice(1),{tokenApiHost:me,apiKey:Ee}=R.config,xt=Jt(R,me,"/v1/token",`key=${Ee}`),sn=yield R._getAdditionalHeaders();return sn["Content-Type"]="application/x-www-form-urlencoded",Rn.fetch()(xt,{method:"POST",headers:sn,body:B})}));return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}class Bi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(b){jt(b.idToken,"internal-error"),jt(typeof b.idToken<"u","internal-error"),jt(typeof b.refreshToken<"u","internal-error");const E="expiresIn"in b&&typeof b.expiresIn<"u"?Number(b.expiresIn):function dn(R){const b=Ct(R);return jt(b,"internal-error"),jt(typeof b.exp<"u","internal-error"),jt(typeof b.iat<"u","internal-error"),Number(b.exp)-Number(b.iat)}(b.idToken);this.updateTokensAndExpiration(b.idToken,b.refreshToken,E)}getToken(b,E=!1){var B=this;return(0,m.Z)(function*(){return jt(!B.accessToken||B.refreshToken,b,"user-token-expired"),E||!B.accessToken||B.isExpired?B.refreshToken?(yield B.refresh(b,B.refreshToken),B.accessToken):null:B.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(b,E){var B=this;return(0,m.Z)(function*(){const{accessToken:me,refreshToken:Ee,expiresIn:xt}=yield function Pn(R,b){return hi.apply(this,arguments)}(b,E);B.updateTokensAndExpiration(me,Ee,Number(xt))})()}updateTokensAndExpiration(b,E,B){this.refreshToken=E||null,this.accessToken=b||null,this.expirationTime=Date.now()+1e3*B}static fromJSON(b,E){const{refreshToken:B,accessToken:me,expirationTime:Ee}=E,xt=new Bi;return B&&(jt("string"==typeof B,"internal-error",{appName:b}),xt.refreshToken=B),me&&(jt("string"==typeof me,"internal-error",{appName:b}),xt.accessToken=me),Ee&&(jt("number"==typeof Ee,"internal-error",{appName:b}),xt.expirationTime=Ee),xt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(b){this.accessToken=b.accessToken,this.refreshToken=b.refreshToken,this.expirationTime=b.expirationTime}_clone(){return Object.assign(new Bi,this.toJSON())}_performRefresh(){return Hn("not implemented")}}function dr(R,b){jt("string"==typeof R||typeof R>"u","internal-error",{appName:b})}class sr{constructor(b){var{uid:E,auth:B,stsTokenManager:me}=b,Ee=fe(b,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ue(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=B,this.stsTokenManager=me,this.accessToken=me.accessToken,this.displayName=Ee.displayName||null,this.email=Ee.email||null,this.emailVerified=Ee.emailVerified||!1,this.phoneNumber=Ee.phoneNumber||null,this.photoURL=Ee.photoURL||null,this.isAnonymous=Ee.isAnonymous||!1,this.tenantId=Ee.tenantId||null,this.providerData=Ee.providerData?[...Ee.providerData]:[],this.metadata=new We(Ee.createdAt||void 0,Ee.lastLoginAt||void 0)}getIdToken(b){var E=this;return(0,m.Z)(function*(){const B=yield fn(E,E.stsTokenManager.getToken(E.auth,b));return jt(B,E.auth,"internal-error"),E.accessToken!==B&&(E.accessToken=B,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),B})()}getIdTokenResult(b){return function K(R){return pe.apply(this,arguments)}(this,b)}reload(){return function rt(R){return Lt.apply(this,arguments)}(this)}_assign(b){this!==b&&(jt(this.uid===b.uid,this.auth,"internal-error"),this.displayName=b.displayName,this.photoURL=b.photoURL,this.email=b.email,this.emailVerified=b.emailVerified,this.phoneNumber=b.phoneNumber,this.isAnonymous=b.isAnonymous,this.tenantId=b.tenantId,this.providerData=b.providerData.map(E=>Object.assign({},E)),this.metadata._copy(b.metadata),this.stsTokenManager._assign(b.stsTokenManager))}_clone(b){return new sr(Object.assign(Object.assign({},this),{auth:b,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(b){jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=b,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(b){this.reloadListener?this.reloadListener(b):this.reloadUserInfo=b}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(b,E=!1){var B=this;return(0,m.Z)(function*(){let me=!1;b.idToken&&b.idToken!==B.stsTokenManager.accessToken&&(B.stsTokenManager.updateFromServerResponse(b),me=!0),E&&(yield Te(B)),yield B.auth._persistUserIfCurrent(B),me&&B.auth._notifyListenersIfCurrent(B)})()}delete(){var b=this;return(0,m.Z)(function*(){const E=yield b.getIdToken();return yield fn(b,function it(R,b){return Xe.apply(this,arguments)}(b.auth,{idToken:E})),b.stsTokenManager.clearRefreshToken(),b.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(b=>Object.assign({},b)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(b,E){var B,me,Ee,xt,sn,Zn,Vn,wi;const mi=null!==(B=E.displayName)&&void 0!==B?B:void 0,Dr=null!==(me=E.email)&&void 0!==me?me:void 0,Bs=null!==(Ee=E.phoneNumber)&&void 0!==Ee?Ee:void 0,Xs=null!==(xt=E.photoURL)&&void 0!==xt?xt:void 0,Js=null!==(sn=E.tenantId)&&void 0!==sn?sn:void 0,$i=null!==(Zn=E._redirectEventId)&&void 0!==Zn?Zn:void 0,ed=null!==(Vn=E.createdAt)&&void 0!==Vn?Vn:void 0,vu=null!==(wi=E.lastLoginAt)&&void 0!==wi?wi:void 0,{uid:Mo,emailVerified:ta,isAnonymous:Ga,providerData:yu,stsTokenManager:$l}=E;jt(Mo&&$l,b,"internal-error");const bu=Bi.fromJSON(this.name,$l);jt("string"==typeof Mo,b,"internal-error"),dr(mi,b.name),dr(Dr,b.name),jt("boolean"==typeof ta,b,"internal-error"),jt("boolean"==typeof Ga,b,"internal-error"),dr(Bs,b.name),dr(Xs,b.name),dr(Js,b.name),dr($i,b.name),dr(ed,b.name),dr(vu,b.name);const Tl=new sr({uid:Mo,auth:b,email:Dr,emailVerified:ta,displayName:mi,isAnonymous:Ga,photoURL:Xs,phoneNumber:Bs,tenantId:Js,stsTokenManager:bu,createdAt:ed,lastLoginAt:vu});return yu&&Array.isArray(yu)&&(Tl.providerData=yu.map(eo=>Object.assign({},eo))),$i&&(Tl._redirectEventId=$i),Tl}static _fromIdTokenResponse(b,E,B=!1){return(0,m.Z)(function*(){const me=new Bi;me.updateFromServerResponse(E);const Ee=new sr({uid:E.localId,auth:b,stsTokenManager:me,isAnonymous:B});return yield Te(Ee),Ee})()}}const Ji=(()=>{class R{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(E,B){var me=this;return(0,m.Z)(function*(){me.storage[E]=B})()}_get(E){var B=this;return(0,m.Z)(function*(){const me=B.storage[E];return void 0===me?null:me})()}_remove(E){var B=this;return(0,m.Z)(function*(){delete B.storage[E]})()}_addListener(E,B){}_removeListener(E,B){}}return R.type="NONE",R})();function hr(R,b,E){return`firebase:${R}:${b}:${E}`}class Mr{constructor(b,E,B){this.persistence=b,this.auth=E,this.userKey=B;const{config:me,name:Ee}=this.auth;this.fullUserKey=hr(this.userKey,me.apiKey,Ee),this.fullPersistenceKey=hr("persistence",me.apiKey,Ee),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(b){return this.persistence._set(this.fullUserKey,b.toJSON())}getCurrentUser(){var b=this;return(0,m.Z)(function*(){const E=yield b.persistence._get(b.fullUserKey);return E?sr._fromJSON(b.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(b){var E=this;return(0,m.Z)(function*(){if(E.persistence===b)return;const B=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=b,B?E.setCurrentUser(B):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(b,E,B="authUser"){return(0,m.Z)(function*(){if(!E.length)return new Mr(ee(Ji),b,B);const me=(yield Promise.all(E.map(function(){var Vn=(0,m.Z)(function*(wi){if(yield wi._isAvailable())return wi});return function(wi){return Vn.apply(this,arguments)}}()))).filter(Vn=>Vn);let Ee=me[0]||ee(Ji);const xt=hr(B,b.config.apiKey,b.name);let sn=null;for(const Vn of E)try{const wi=yield Vn._get(xt);if(wi){const mi=sr._fromJSON(b,wi);Vn!==Ee&&(sn=mi),Ee=Vn;break}}catch{}const Zn=me.filter(Vn=>Vn._shouldAllowMigration);return Ee._shouldAllowMigration&&Zn.length?(Ee=Zn[0],sn&&(yield Ee._set(xt,sn.toJSON())),yield Promise.all(E.map(function(){var Vn=(0,m.Z)(function*(wi){if(wi!==Ee)try{yield wi._remove(xt)}catch{}});return function(wi){return Vn.apply(this,arguments)}}())),new Mr(Ee,b,B)):new Mr(Ee,b,B)})()}}function br(R){const b=R.toLowerCase();if(b.includes("opera/")||b.includes("opr/")||b.includes("opios/"))return"Opera";if(fs(b))return"IEMobile";if(b.includes("msie")||b.includes("trident/"))return"IE";if(b.includes("edge/"))return"Edge";if(ns(b))return"Firefox";if(b.includes("silk/"))return"Silk";if(Br(b))return"Blackberry";if(qr(b))return"Webos";if(Vi(b))return"Safari";if((b.includes("chrome/")||to(b))&&!b.includes("edge/"))return"Chrome";if(Es(b))return"Android";{const B=R.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===B?.length)return B[1]}return"Other"}function ns(R=(0,N.z$)()){return/firefox\//i.test(R)}function Vi(R=(0,N.z$)()){const b=R.toLowerCase();return b.includes("safari/")&&!b.includes("chrome/")&&!b.includes("crios/")&&!b.includes("android")}function to(R=(0,N.z$)()){return/crios\//i.test(R)}function fs(R=(0,N.z$)()){return/iemobile/i.test(R)}function Es(R=(0,N.z$)()){return/android/i.test(R)}function Br(R=(0,N.z$)()){return/blackberry/i.test(R)}function qr(R=(0,N.z$)()){return/webos/i.test(R)}function Vr(R=(0,N.z$)()){return/iphone|ipad|ipod/i.test(R)||/macintosh/i.test(R)&&/mobile/i.test(R)}function Ss(R=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(R)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(R)}function Or(R=(0,N.z$)()){return Vr(R)||Es(R)||qr(R)||Br(R)||/windows phone/i.test(R)||fs(R)}function ko(R,b=[]){let E;switch(R){case"Browser":E=br((0,N.z$)());break;case"Worker":E=`${br((0,N.z$)())}-${R}`;break;default:E=R}const B=b.length?b.join(","):"FirebaseCore-web";return`${E}/JsCore/${v.SDK_VERSION}/${B}`}class as{constructor(b){this.auth=b,this.queue=[]}pushCallback(b,E){const B=Ee=>new Promise((xt,sn)=>{try{xt(b(Ee))}catch(Zn){sn(Zn)}});B.onAbort=E,this.queue.push(B);const me=this.queue.length-1;return()=>{this.queue[me]=()=>Promise.resolve()}}runMiddleware(b){var E=this;return(0,m.Z)(function*(){var B;if(E.auth.currentUser===b)return;const me=[];try{for(const Ee of E.queue)yield Ee(b),Ee.onAbort&&me.push(Ee.onAbort)}catch(Ee){me.reverse();for(const xt of me)try{xt()}catch{}throw E.auth._errorFactory.create("login-blocked",{originalMessage:null===(B=Ee)||void 0===B?void 0:B.message})}})()}}class gs{constructor(b,E,B){this.app=b,this.heartbeatServiceProvider=E,this.config=B,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yo(this),this.idTokenSubscription=new yo(this),this.beforeStateQueue=new as(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ye,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=b.name,this.clientVersion=B.sdkClientVersion}_initializeWithPersistence(b,E){var B=this;return E&&(this._popupRedirectResolver=ee(E)),this._initializationPromise=this.queue((0,m.Z)(function*(){var me,Ee;if(!B._deleted&&(B.persistenceManager=yield Mr.create(B,b),!B._deleted)){if(null!==(me=B._popupRedirectResolver)&&void 0!==me&&me._shouldInitProactively)try{yield B._popupRedirectResolver._initialize(B)}catch{}yield B.initializeCurrentUser(E),B.lastNotifiedUid=(null===(Ee=B.currentUser)||void 0===Ee?void 0:Ee.uid)||null,!B._deleted&&(B._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var b=this;return(0,m.Z)(function*(){if(b._deleted)return;const E=yield b.assertedPersistence.getCurrentUser();if(b.currentUser||E){if(b.currentUser&&E&&b.currentUser.uid===E.uid)return b._currentUser._assign(E),void(yield b.currentUser.getIdToken());yield b._updateCurrentUser(E,!0)}})()}initializeCurrentUser(b){var E=this;return(0,m.Z)(function*(){var B;const me=yield E.assertedPersistence.getCurrentUser();let Ee=me,xt=!1;if(b&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const sn=null===(B=E.redirectUser)||void 0===B?void 0:B._redirectEventId,Zn=Ee?._redirectEventId,Vn=yield E.tryRedirectSignIn(b);(!sn||sn===Zn)&&Vn?.user&&(Ee=Vn.user,xt=!0)}if(!Ee)return E.directlySetCurrentUser(null);if(!Ee._redirectEventId){if(xt)try{yield E.beforeStateQueue.runMiddleware(Ee)}catch(sn){Ee=me,E._popupRedirectResolver._overrideRedirectResult(E,()=>Promise.reject(sn))}return Ee?E.reloadAndSetCurrentUserOrClear(Ee):E.directlySetCurrentUser(null)}return jt(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===Ee._redirectEventId?E.directlySetCurrentUser(Ee):E.reloadAndSetCurrentUserOrClear(Ee)})()}tryRedirectSignIn(b){var E=this;return(0,m.Z)(function*(){let B=null;try{B=yield E._popupRedirectResolver._completeRedirectFn(E,b,!0)}catch{yield E._setRedirectUser(null)}return B})()}reloadAndSetCurrentUserOrClear(b){var E=this;return(0,m.Z)(function*(){var B;try{yield Te(b)}catch(me){if("auth/network-request-failed"!==(null===(B=me)||void 0===B?void 0:B.code))return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(b)})()}useDeviceLanguage(){this.languageCode=function Gt(){if(typeof navigator>"u")return null;const R=navigator;return R.languages&&R.languages[0]||R.language||null}()}_delete(){var b=this;return(0,m.Z)(function*(){b._deleted=!0})()}updateCurrentUser(b){var E=this;return(0,m.Z)(function*(){const B=b?(0,N.m9)(b):null;return B&&jt(B.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(B&&B._clone(E))})()}_updateCurrentUser(b,E=!1){var B=this;return(0,m.Z)(function*(){if(!B._deleted)return b&&jt(B.tenantId===b.tenantId,B,"tenant-id-mismatch"),E||(yield B.beforeStateQueue.runMiddleware(b)),B.queue((0,m.Z)(function*(){yield B.directlySetCurrentUser(b),B.notifyAuthListeners()}))})()}signOut(){var b=this;return(0,m.Z)(function*(){return yield b.beforeStateQueue.runMiddleware(null),(b.redirectPersistenceManager||b._popupRedirectResolver)&&(yield b._setRedirectUser(null)),b._updateCurrentUser(null,!0)})()}setPersistence(b){var E=this;return this.queue((0,m.Z)(function*(){yield E.assertedPersistence.setPersistence(ee(b))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(b){this._errorFactory=new N.LL("auth","Firebase",b())}onAuthStateChanged(b,E,B){return this.registerStateListener(this.authStateSubscription,b,E,B)}beforeAuthStateChanged(b,E){return this.beforeStateQueue.pushCallback(b,E)}onIdTokenChanged(b,E,B){return this.registerStateListener(this.idTokenSubscription,b,E,B)}toJSON(){var b;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(b=this._currentUser)||void 0===b?void 0:b.toJSON()}}_setRedirectUser(b,E){var B=this;return(0,m.Z)(function*(){const me=yield B.getOrInitRedirectPersistenceManager(E);return null===b?me.removeCurrentUser():me.setCurrentUser(b)})()}getOrInitRedirectPersistenceManager(b){var E=this;return(0,m.Z)(function*(){if(!E.redirectPersistenceManager){const B=b&&ee(b)||E._popupRedirectResolver;jt(B,E,"argument-error"),E.redirectPersistenceManager=yield Mr.create(E,[ee(B._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(b){var E=this;return(0,m.Z)(function*(){var B,me;return E._isInitialized&&(yield E.queue((0,m.Z)(function*(){}))),(null===(B=E._currentUser)||void 0===B?void 0:B._redirectEventId)===b?E._currentUser:(null===(me=E.redirectUser)||void 0===me?void 0:me._redirectEventId)===b?E.redirectUser:null})()}_persistUserIfCurrent(b){var E=this;return(0,m.Z)(function*(){if(b===E.currentUser)return E.queue((0,m.Z)(function*(){return E.directlySetCurrentUser(b)}))})()}_notifyListenersIfCurrent(b){b===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var b,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const B=null!==(E=null===(b=this.currentUser)||void 0===b?void 0:b.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==B&&(this.lastNotifiedUid=B,this.authStateSubscription.next(this.currentUser))}registerStateListener(b,E,B,me){if(this._deleted)return()=>{};const Ee="function"==typeof E?E:E.next.bind(E),xt=this._isInitialized?Promise.resolve():this._initializationPromise;return jt(xt,this,"internal-error"),xt.then(()=>Ee(this.currentUser)),"function"==typeof E?b.addObserver(E,B,me):b.addObserver(E)}directlySetCurrentUser(b){var E=this;return(0,m.Z)(function*(){E.currentUser&&E.currentUser!==b&&E._currentUser._stopProactiveRefresh(),b&&E.isProactiveRefreshEnabled&&b._startProactiveRefresh(),E.currentUser=b,b?yield E.assertedPersistence.setCurrentUser(b):yield E.assertedPersistence.removeCurrentUser()})()}queue(b){return this.operations=this.operations.then(b,b),this.operations}get assertedPersistence(){return jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(b){!b||this.frameworks.includes(b)||(this.frameworks.push(b),this.frameworks.sort(),this.clientVersion=ko(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var b=this;return(0,m.Z)(function*(){var E;const B={"X-Client-Version":b.clientVersion};b.app.options.appId&&(B["X-Firebase-gmpid"]=b.app.options.appId);const me=yield null===(E=b.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===E?void 0:E.getHeartbeatsHeader();return me&&(B["X-Firebase-Client"]=me),B})()}}function Yi(R){return(0,N.m9)(R)}class yo{constructor(b){this.auth=b,this.observer=null,this.addObserver=(0,N.ne)(E=>this.observer=E)}get next(){return jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Fa(R,b,E){const B=Yi(R);jt(B._canInitEmulator,B,"emulator-config-failed"),jt(/^https?:\/\//.test(b),B,"invalid-emulator-scheme");const me=!!E?.disableWarnings,Ee=no(b),{host:xt,port:sn}=function La(R){const b=no(R),E=/(\/\/)?([^?#/]+)/.exec(R.substr(b.length));if(!E)return{host:"",port:null};const B=E[2].split("@").pop()||"",me=/^(\[[^\]]+\])(:|$)/.exec(B);if(me){const Ee=me[1];return{host:Ee,port:_s(B.substr(Ee.length+1))}}{const[Ee,xt]=B.split(":");return{host:Ee,port:_s(xt)}}}(b);B.config.emulator={url:`${Ee}//${xt}${null===sn?"":`:${sn}`}/`},B.settings.appVerificationDisabledForTesting=!0,B.emulatorConfig=Object.freeze({host:xt,port:sn,protocol:Ee.replace(":",""),options:Object.freeze({disableWarnings:me})}),me||function Vs(){function R(){const b=document.createElement("p"),E=b.style;b.innerText="Running in emulator mode. Do not use with production credentials.",E.position="fixed",E.width="100%",E.backgroundColor="#ffffff",E.border=".1em solid #000000",E.color="#b50000",E.bottom="0px",E.left="0px",E.margin="0px",E.zIndex="10000",E.textAlign="center",b.classList.add("firebase-emulator-warning"),document.body.appendChild(b)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",R):R())}()}function no(R){const b=R.indexOf(":");return b<0?"":R.substr(0,b+1)}function _s(R){if(!R)return null;const b=Number(R);return isNaN(b)?null:b}class Ot{constructor(b,E){this.providerId=b,this.signInMethod=E}toJSON(){return Hn("not implemented")}_getIdTokenResponse(b){return Hn("not implemented")}_linkToIdToken(b,E){return Hn("not implemented")}_getReauthenticationResolver(b){return Hn("not implemented")}}function Rt(R,b){return zt.apply(this,arguments)}function zt(){return(zt=(0,m.Z)(function*(R,b){return kn(R,"POST","/v1/accounts:resetPassword",ri(R,b))})).apply(this,arguments)}function _n(R,b){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,m.Z)(function*(R,b){return kn(R,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function ii(R,b){return Di.apply(this,arguments)}function Di(){return(Di=(0,m.Z)(function*(R,b){return kn(R,"POST","/v1/accounts:update",ri(R,b))})).apply(this,arguments)}function qi(){return(qi=(0,m.Z)(function*(R,b){return ft(R,"POST","/v1/accounts:signInWithPassword",ri(R,b))})).apply(this,arguments)}function zr(R,b){return ls.apply(this,arguments)}function ls(){return(ls=(0,m.Z)(function*(R,b){return kn(R,"POST","/v1/accounts:sendOobCode",ri(R,b))})).apply(this,arguments)}function Ts(R,b){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,m.Z)(function*(R,b){return zr(R,b)})).apply(this,arguments)}function Us(R,b){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,m.Z)(function*(R,b){return zr(R,b)})).apply(this,arguments)}function Ks(R,b){return sa.apply(this,arguments)}function sa(){return(sa=(0,m.Z)(function*(R,b){return zr(R,b)})).apply(this,arguments)}function Oo(R,b){return Po.apply(this,arguments)}function Po(){return(Po=(0,m.Z)(function*(R,b){return zr(R,b)})).apply(this,arguments)}function oa(){return(oa=(0,m.Z)(function*(R,b){return ft(R,"POST","/v1/accounts:signInWithEmailLink",ri(R,b))})).apply(this,arguments)}function fr(){return(fr=(0,m.Z)(function*(R,b){return ft(R,"POST","/v1/accounts:signInWithEmailLink",ri(R,b))})).apply(this,arguments)}class Ms extends Ot{constructor(b,E,B,me=null){super("password",B),this._email=b,this._password=E,this._tenantId=me}static _fromEmailAndPassword(b,E){return new Ms(b,E,"password")}static _fromEmailAndCode(b,E,B=null){return new Ms(b,E,"emailLink",B)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(b){const E="string"==typeof b?JSON.parse(b):b;if(E?.email&&E?.password){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(b){var E=this;return(0,m.Z)(function*(){switch(E.signInMethod){case"password":return function Ir(R,b){return qi.apply(this,arguments)}(b,{returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Ca(R,b){return oa.apply(this,arguments)}(b,{email:E._email,oobCode:E._password});default:Mt(b,"internal-error")}})()}_linkToIdToken(b,E){var B=this;return(0,m.Z)(function*(){switch(B.signInMethod){case"password":return _n(b,{idToken:E,returnSecureToken:!0,email:B._email,password:B._password});case"emailLink":return function io(R,b){return fr.apply(this,arguments)}(b,{idToken:E,email:B._email,oobCode:B._password});default:Mt(b,"internal-error")}})()}_getReauthenticationResolver(b){return this._getIdTokenResponse(b)}}function Is(R,b){return xs.apply(this,arguments)}function xs(){return(xs=(0,m.Z)(function*(R,b){return ft(R,"POST","/v1/accounts:signInWithIdp",ri(R,b))})).apply(this,arguments)}class is extends Ot{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(b){const E=new is(b.providerId,b.signInMethod);return b.idToken||b.accessToken?(b.idToken&&(E.idToken=b.idToken),b.accessToken&&(E.accessToken=b.accessToken),b.nonce&&!b.pendingToken&&(E.nonce=b.nonce),b.pendingToken&&(E.pendingToken=b.pendingToken)):b.oauthToken&&b.oauthTokenSecret?(E.accessToken=b.oauthToken,E.secret=b.oauthTokenSecret):Mt("argument-error"),E}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(b){const E="string"==typeof b?JSON.parse(b):b,{providerId:B,signInMethod:me}=E,Ee=fe(E,["providerId","signInMethod"]);if(!B||!me)return null;const xt=new is(B,me);return xt.idToken=Ee.idToken||void 0,xt.accessToken=Ee.accessToken||void 0,xt.secret=Ee.secret,xt.nonce=Ee.nonce,xt.pendingToken=Ee.pendingToken||null,xt}_getIdTokenResponse(b){return Is(b,this.buildRequest())}_linkToIdToken(b,E){const B=this.buildRequest();return B.idToken=E,Is(b,B)}_getReauthenticationResolver(b){const E=this.buildRequest();return E.autoCreate=!1,Is(b,E)}buildRequest(){const b={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)b.pendingToken=this.pendingToken;else{const E={};this.idToken&&(E.id_token=this.idToken),this.accessToken&&(E.access_token=this.accessToken),this.secret&&(E.oauth_token_secret=this.secret),E.providerId=this.providerId,this.nonce&&!this.pendingToken&&(E.nonce=this.nonce),b.postBody=(0,N.xO)(E)}return b}}function Wr(R,b){return ro.apply(this,arguments)}function ro(){return(ro=(0,m.Z)(function*(R,b){return kn(R,"POST","/v1/accounts:sendVerificationCode",ri(R,b))})).apply(this,arguments)}function bo(){return(bo=(0,m.Z)(function*(R,b){return ft(R,"POST","/v1/accounts:signInWithPhoneNumber",ri(R,b))})).apply(this,arguments)}function js(){return(js=(0,m.Z)(function*(R,b){const E=yield ft(R,"POST","/v1/accounts:signInWithPhoneNumber",ri(R,b));if(E.temporaryProof)throw at(R,"account-exists-with-different-credential",E);return E})).apply(this,arguments)}const pr={USER_NOT_FOUND:"user-not-found"};function No(){return(No=(0,m.Z)(function*(R,b){return ft(R,"POST","/v1/accounts:signInWithPhoneNumber",ri(R,Object.assign(Object.assign({},b),{operation:"REAUTH"})),pr)})).apply(this,arguments)}class xi extends Ot{constructor(b){super("phone","phone"),this.params=b}static _fromVerification(b,E){return new xi({verificationId:b,verificationCode:E})}static _fromTokenResponse(b,E){return new xi({phoneNumber:b,temporaryProof:E})}_getIdTokenResponse(b){return function wa(R,b){return bo.apply(this,arguments)}(b,this._makeVerificationRequest())}_linkToIdToken(b,E){return function As(R,b){return js.apply(this,arguments)}(b,Object.assign({idToken:E},this._makeVerificationRequest()))}_getReauthenticationResolver(b){return function Qr(R,b){return No.apply(this,arguments)}(b,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:b,phoneNumber:E,verificationId:B,verificationCode:me}=this.params;return b&&E?{temporaryProof:b,phoneNumber:E}:{sessionInfo:B,code:me}}toJSON(){const b={providerId:this.providerId};return this.params.phoneNumber&&(b.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(b.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(b.verificationCode=this.params.verificationCode),this.params.verificationId&&(b.verificationId=this.params.verificationId),b}static fromJSON(b){"string"==typeof b&&(b=JSON.parse(b));const{verificationId:E,verificationCode:B,phoneNumber:me,temporaryProof:Ee}=b;return B||E||me||Ee?new xi({verificationId:E,verificationCode:B,phoneNumber:me,temporaryProof:Ee}):null}}class vs{constructor(b){var E,B,me,Ee,xt,sn;const Zn=(0,N.zd)((0,N.pd)(b)),Vn=null!==(E=Zn.apiKey)&&void 0!==E?E:null,wi=null!==(B=Zn.oobCode)&&void 0!==B?B:null,mi=function Ur(R){switch(R){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(me=Zn.mode)&&void 0!==me?me:null);jt(Vn&&wi&&mi,"argument-error"),this.apiKey=Vn,this.operation=mi,this.code=wi,this.continueUrl=null!==(Ee=Zn.continueUrl)&&void 0!==Ee?Ee:null,this.languageCode=null!==(xt=Zn.languageCode)&&void 0!==xt?xt:null,this.tenantId=null!==(sn=Zn.tenantId)&&void 0!==sn?sn:null}static parseLink(b){const E=function so(R){const b=(0,N.zd)((0,N.pd)(R)).link,E=b?(0,N.zd)((0,N.pd)(b)).deep_link_id:null,B=(0,N.zd)((0,N.pd)(R)).deep_link_id;return(B?(0,N.zd)((0,N.pd)(B)).link:null)||B||E||b||R}(b);try{return new vs(E)}catch{return null}}}let Ki=(()=>{class R{constructor(){this.providerId=R.PROVIDER_ID}static credential(E,B){return Ms._fromEmailAndPassword(E,B)}static credentialWithLink(E,B){const me=vs.parseLink(B);return jt(me,"argument-error"),Ms._fromEmailAndCode(E,me.code,me.tenantId)}}return R.PROVIDER_ID="password",R.EMAIL_PASSWORD_SIGN_IN_METHOD="password",R.EMAIL_LINK_SIGN_IN_METHOD="emailLink",R})();class Co{constructor(b){this.providerId=b,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(b){this.defaultLanguageCode=b}setCustomParameters(b){return this.customParameters=b,this}getCustomParameters(){return this.customParameters}}class ks extends Co{constructor(){super(...arguments),this.scopes=[]}addScope(b){return this.scopes.includes(b)||this.scopes.push(b),this}getScopes(){return[...this.scopes]}}class Ko extends ks{static credentialFromJSON(b){const E="string"==typeof b?JSON.parse(b):b;return jt("providerId"in E&&"signInMethod"in E,"argument-error"),is._fromParams(E)}credential(b){return this._credential(Object.assign(Object.assign({},b),{nonce:b.rawNonce}))}_credential(b){return jt(b.idToken||b.accessToken,"argument-error"),is._fromParams(Object.assign(Object.assign({},b),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(b){return Ko.oauthCredentialFromTaggedObject(b)}static credentialFromError(b){return Ko.oauthCredentialFromTaggedObject(b.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:E,oauthAccessToken:B,oauthTokenSecret:me,pendingToken:Ee,nonce:xt,providerId:sn}=b;if(!B&&!me&&!E&&!Ee||!sn)return null;try{return new Ko(sn)._credential({idToken:E,accessToken:B,nonce:xt,pendingToken:Ee})}catch{return null}}}let Zs=(()=>{class R extends ks{constructor(){super("facebook.com")}static credential(E){return is._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.FACEBOOK_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return R.credentialFromTaggedObject(E)}static credentialFromError(E){return R.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return R.credential(E.oauthAccessToken)}catch{return null}}}return R.FACEBOOK_SIGN_IN_METHOD="facebook.com",R.PROVIDER_ID="facebook.com",R})(),la=(()=>{class R extends ks{constructor(){super("google.com"),this.addScope("profile")}static credential(E,B){return is._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.GOOGLE_SIGN_IN_METHOD,idToken:E,accessToken:B})}static credentialFromResult(E){return R.credentialFromTaggedObject(E)}static credentialFromError(E){return R.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:B,oauthAccessToken:me}=E;if(!B&&!me)return null;try{return R.credential(B,me)}catch{return null}}}return R.GOOGLE_SIGN_IN_METHOD="google.com",R.PROVIDER_ID="google.com",R})(),mr=(()=>{class R extends ks{constructor(){super("github.com")}static credential(E){return is._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.GITHUB_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return R.credentialFromTaggedObject(E)}static credentialFromError(E){return R.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return R.credential(E.oauthAccessToken)}catch{return null}}}return R.GITHUB_SIGN_IN_METHOD="github.com",R.PROVIDER_ID="github.com",R})();class xr extends Ot{constructor(b,E){super(b,b),this.pendingToken=E}_getIdTokenResponse(b){return Is(b,this.buildRequest())}_linkToIdToken(b,E){const B=this.buildRequest();return B.idToken=E,Is(b,B)}_getReauthenticationResolver(b){const E=this.buildRequest();return E.autoCreate=!1,Is(b,E)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(b){const E="string"==typeof b?JSON.parse(b):b,{providerId:B,signInMethod:me,pendingToken:Ee}=E;return B&&me&&Ee&&B===me?new xr(B,Ee):null}static _create(b,E){return new xr(b,E)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ps extends Co{constructor(b){jt(b.startsWith("saml."),"argument-error"),super(b)}static credentialFromResult(b){return ps.samlCredentialFromTaggedObject(b)}static credentialFromError(b){return ps.samlCredentialFromTaggedObject(b.customData||{})}static credentialFromJSON(b){const E=xr.fromJSON(b);return jt(E,"argument-error"),E}static samlCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{pendingToken:E,providerId:B}=b;if(!E||!B)return null;try{return xr._create(B,E)}catch{return null}}}let pl=(()=>{class R extends ks{constructor(){super("twitter.com")}static credential(E,B){return is._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.TWITTER_SIGN_IN_METHOD,oauthToken:E,oauthTokenSecret:B})}static credentialFromResult(E){return R.credentialFromTaggedObject(E)}static credentialFromError(E){return R.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthAccessToken:B,oauthTokenSecret:me}=E;if(!B||!me)return null;try{return R.credential(B,me)}catch{return null}}}return R.TWITTER_SIGN_IN_METHOD="twitter.com",R.PROVIDER_ID="twitter.com",R})();function ca(R,b){return $s.apply(this,arguments)}function $s(){return($s=(0,m.Z)(function*(R,b){return ft(R,"POST","/v1/accounts:signUp",ri(R,b))})).apply(this,arguments)}class Xr{constructor(b){this.user=b.user,this.providerId=b.providerId,this._tokenResponse=b._tokenResponse,this.operationType=b.operationType}static _fromIdTokenResponse(b,E,B,me=!1){return(0,m.Z)(function*(){const Ee=yield sr._fromIdTokenResponse(b,B,me),xt=Qa(B);return new Xr({user:Ee,providerId:xt,_tokenResponse:B,operationType:E})})()}static _forOperation(b,E,B){return(0,m.Z)(function*(){yield b._updateTokensIfNecessary(B,!0);const me=Qa(B);return new Xr({user:b,providerId:me,_tokenResponse:B,operationType:E})})()}}function Qa(R){return R.providerId?R.providerId:"phoneNumber"in R?"phone":null}function En(R){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,m.Z)(function*(R){var b;const E=Yi(R);if(yield E._initializationPromise,null!==(b=E.currentUser)&&void 0!==b&&b.isAnonymous)return new Xr({user:E.currentUser,providerId:null,operationType:"signIn"});const B=yield ca(E,{returnSecureToken:!0}),me=yield Xr._fromIdTokenResponse(E,"signIn",B,!0);return yield E._updateCurrentUser(me.user),me})).apply(this,arguments)}class wo extends N.ZR{constructor(b,E,B,me){var Ee;super(E.code,E.message),this.operationType=B,this.user=me,Object.setPrototypeOf(this,wo.prototype),this.customData={appName:b.name,tenantId:null!==(Ee=b.tenantId)&&void 0!==Ee?Ee:void 0,_serverResponse:E.customData._serverResponse,operationType:B}}static _fromErrorAndOperation(b,E,B,me){return new wo(b,E,B,me)}}function Da(R,b,E,B){return("reauthenticate"===b?E._getReauthenticationResolver(R):E._getIdTokenResponse(R)).catch(Ee=>{throw"auth/multi-factor-auth-required"===Ee.code?wo._fromErrorAndOperation(R,Ee,b,B):Ee})}function Hr(R){return new Set(R.map(({providerId:b})=>b).filter(b=>!!b))}function se(R,b){return Q.apply(this,arguments)}function Q(){return(Q=(0,m.Z)(function*(R,b){const E=(0,N.m9)(R);yield en(!0,E,b);const{providerUserInfo:B}=yield Et(E.auth,{idToken:yield E.getIdToken(),deleteProvider:[b]}),me=Hr(B||[]);return E.providerData=E.providerData.filter(Ee=>me.has(Ee.providerId)),me.has("phone")||(E.phoneNumber=null),yield E.auth._persistUserIfCurrent(E),E})).apply(this,arguments)}function $(R,b){return ke.apply(this,arguments)}function ke(){return(ke=(0,m.Z)(function*(R,b,E=!1){const B=yield fn(R,b._linkToIdToken(R.auth,yield R.getIdToken()),E);return Xr._forOperation(R,"link",B)})).apply(this,arguments)}function en(R,b,E){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,m.Z)(function*(R,b,E){yield Te(b);const me=!1===R?"provider-already-linked":"no-such-provider";jt(Hr(b.providerData).has(E)===R,b.auth,me)})).apply(this,arguments)}function Cr(R,b){return oo.apply(this,arguments)}function oo(){return(oo=(0,m.Z)(function*(R,b,E=!1){var B;const{auth:me}=R,Ee="reauthenticate";try{const xt=yield fn(R,Da(me,Ee,b,R),E);jt(xt.idToken,me,"internal-error");const sn=Ct(xt.idToken);jt(sn,me,"internal-error");const{sub:Zn}=sn;return jt(R.uid===Zn,me,"user-mismatch"),Xr._forOperation(R,Ee,xt)}catch(xt){throw"auth/user-not-found"===(null===(B=xt)||void 0===B?void 0:B.code)&&Mt(me,"user-mismatch"),xt}})).apply(this,arguments)}function Fr(R,b){return gr.apply(this,arguments)}function gr(){return(gr=(0,m.Z)(function*(R,b,E=!1){const B="signIn",me=yield Da(R,B,b),Ee=yield Xr._fromIdTokenResponse(R,B,me);return E||(yield R._updateCurrentUser(Ee.user)),Ee})).apply(this,arguments)}function rs(R,b){return ua.apply(this,arguments)}function ua(){return(ua=(0,m.Z)(function*(R,b){return Fr(Yi(R),b)})).apply(this,arguments)}function er(R,b){return ao.apply(this,arguments)}function ao(){return(ao=(0,m.Z)(function*(R,b){const E=(0,N.m9)(R);return yield en(!1,E,b.providerId),$(E,b)})).apply(this,arguments)}function Sc(R,b){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,m.Z)(function*(R,b){return Cr((0,N.m9)(R),b)})).apply(this,arguments)}function Ql(R,b){return Va.apply(this,arguments)}function Va(){return(Va=(0,m.Z)(function*(R,b){return ft(R,"POST","/v1/accounts:signInWithCustomToken",ri(R,b))})).apply(this,arguments)}function Zo(R,b){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,m.Z)(function*(R,b){const E=Yi(R),B=yield Ql(E,{token:b,returnSecureToken:!0}),me=yield Xr._fromIdTokenResponse(E,"signIn",B);return yield E._updateCurrentUser(me.user),me})).apply(this,arguments)}class Fo{constructor(b,E){this.factorId=b,this.uid=E.mfaEnrollmentId,this.enrollmentTime=new Date(E.enrolledAt).toUTCString(),this.displayName=E.displayName}static _fromServerResponse(b,E){return"phoneInfo"in E?Xa._fromServerResponse(b,E):Mt(b,"internal-error")}}class Xa extends Fo{constructor(b){super("phone",b),this.phoneNumber=b.phoneInfo}static _fromServerResponse(b,E){return new Xa(E)}}function Yr(R,b,E){var B;jt((null===(B=E.url)||void 0===B?void 0:B.length)>0,R,"invalid-continue-uri"),jt(typeof E.dynamicLinkDomain>"u"||E.dynamicLinkDomain.length>0,R,"invalid-dynamic-link-domain"),b.continueUrl=E.url,b.dynamicLinkDomain=E.dynamicLinkDomain,b.canHandleCodeInApp=E.handleCodeInApp,E.iOS&&(jt(E.iOS.bundleId.length>0,R,"missing-ios-bundle-id"),b.iOSBundleId=E.iOS.bundleId),E.android&&(jt(E.android.packageName.length>0,R,"missing-android-pkg-name"),b.androidInstallApp=E.android.installApp,b.androidMinimumVersionCode=E.android.minimumVersion,b.androidPackageName=E.android.packageName)}function ml(R,b,E){return da.apply(this,arguments)}function da(){return(da=(0,m.Z)(function*(R,b,E){const B=(0,N.m9)(R),me={requestType:"PASSWORD_RESET",email:b};E&&Yr(B,me,E),yield Us(B,me)})).apply(this,arguments)}function Fl(R,b,E){return lo.apply(this,arguments)}function lo(){return(lo=(0,m.Z)(function*(R,b,E){yield Rt((0,N.m9)(R),{oobCode:b,newPassword:E})})).apply(this,arguments)}function Ja(R,b){return W.apply(this,arguments)}function W(){return(W=(0,m.Z)(function*(R,b){yield ii((0,N.m9)(R),{oobCode:b})})).apply(this,arguments)}function ye(R,b){return q.apply(this,arguments)}function q(){return(q=(0,m.Z)(function*(R,b){const E=(0,N.m9)(R),B=yield Rt(E,{oobCode:b}),me=B.requestType;switch(jt(me,E,"internal-error"),me){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":jt(B.newEmail,E,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":jt(B.mfaInfo,E,"internal-error");default:jt(B.email,E,"internal-error")}let Ee=null;return B.mfaInfo&&(Ee=Fo._fromServerResponse(Yi(E),B.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===B.requestType?B.newEmail:B.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===B.requestType?B.email:B.newEmail)||null,multiFactorInfo:Ee},operation:me}})).apply(this,arguments)}function xe(R,b){return ct.apply(this,arguments)}function ct(){return(ct=(0,m.Z)(function*(R,b){const{data:E}=yield ye((0,N.m9)(R),b);return E.email})).apply(this,arguments)}function Zt(R,b,E){return un.apply(this,arguments)}function un(){return(un=(0,m.Z)(function*(R,b,E){const B=Yi(R),me=yield ca(B,{returnSecureToken:!0,email:b,password:E}),Ee=yield Xr._fromIdTokenResponse(B,"signIn",me);return yield B._updateCurrentUser(Ee.user),Ee})).apply(this,arguments)}function qn(R,b,E){return rs((0,N.m9)(R),Ki.credential(b,E))}function Ni(R,b,E){return yi.apply(this,arguments)}function yi(){return(yi=(0,m.Z)(function*(R,b,E){const B=(0,N.m9)(R),me={requestType:"EMAIL_SIGNIN",email:b};jt(E.handleCodeInApp,B,"argument-error"),E&&Yr(B,me,E),yield Ks(B,me)})).apply(this,arguments)}function Hi(R,b){return"EMAIL_SIGNIN"===vs.parseLink(b)?.operation}function Fi(R,b,E){return _r.apply(this,arguments)}function _r(){return(_r=(0,m.Z)(function*(R,b,E){const B=(0,N.m9)(R),me=Ki.credentialWithLink(b,E||Ce());return jt(me._tenantId===(B.tenantId||null),B,"tenant-id-mismatch"),rs(B,me)})).apply(this,arguments)}function Ze(R,b){return ur.apply(this,arguments)}function ur(){return(ur=(0,m.Z)(function*(R,b){return kn(R,"POST","/v1/accounts:createAuthUri",ri(R,b))})).apply(this,arguments)}function Rs(R,b){return ys.apply(this,arguments)}function ys(){return(ys=(0,m.Z)(function*(R,b){const B={identifier:b,continueUri:ae()?Ce():"http://localhost"},{signinMethods:me}=yield Ze((0,N.m9)(R),B);return me||[]})).apply(this,arguments)}function Gs(R,b){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,m.Z)(function*(R,b){const E=(0,N.m9)(R),me={requestType:"VERIFY_EMAIL",idToken:yield R.getIdToken()};b&&Yr(E.auth,me,b);const{email:Ee}=yield Ts(E.auth,me);Ee!==R.email&&(yield R.reload())})).apply(this,arguments)}function Do(R,b,E){return tr.apply(this,arguments)}function tr(){return(tr=(0,m.Z)(function*(R,b,E){const B=(0,N.m9)(R),Ee={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield R.getIdToken(),newEmail:b};E&&Yr(B.auth,Ee,E);const{email:xt}=yield Oo(B.auth,Ee);xt!==R.email&&(yield R.reload())})).apply(this,arguments)}function Os(R,b){return gl.apply(this,arguments)}function gl(){return(gl=(0,m.Z)(function*(R,b){return kn(R,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function ss(R,b){return ha.apply(this,arguments)}function ha(){return(ha=(0,m.Z)(function*(R,{displayName:b,photoURL:E}){if(void 0===b&&void 0===E)return;const B=(0,N.m9)(R),Ee={idToken:yield B.getIdToken(),displayName:b,photoUrl:E,returnSecureToken:!0},xt=yield fn(B,Os(B.auth,Ee));B.displayName=xt.displayName||null,B.photoURL=xt.photoUrl||null;const sn=B.providerData.find(({providerId:Zn})=>"password"===Zn);sn&&(sn.displayName=B.displayName,sn.photoURL=B.photoURL),yield B._updateTokensIfNecessary(xt)})).apply(this,arguments)}function $u(R,b){return Tc((0,N.m9)(R),b,null)}function Md(R,b){return Tc((0,N.m9)(R),null,b)}function Tc(R,b,E){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,m.Z)(function*(R,b,E){const{auth:B}=R,Ee={idToken:yield R.getIdToken(),returnSecureToken:!0};b&&(Ee.email=b),E&&(Ee.password=E);const xt=yield fn(R,_n(B,Ee));yield R._updateTokensIfNecessary(xt,!0)})).apply(this,arguments)}class fa{constructor(b,E,B={}){this.isNewUser=b,this.providerId=E,this.profile=B}}class Mc extends fa{constructor(b,E,B,me){super(b,E,B),this.username=me}}class el extends fa{constructor(b,E){super(b,"facebook.com",E)}}class au extends Mc{constructor(b,E){super(b,"github.com",E,"string"==typeof E?.login?E?.login:null)}}class lu extends fa{constructor(b,E){super(b,"google.com",E)}}class nr extends Mc{constructor(b,E,B){super(b,"twitter.com",E,B)}}function pa(R){const{user:b,_tokenResponse:E}=R;return b.isAnonymous&&!E?{providerId:null,isNewUser:!1,profile:null}:function Bl(R){var b,E;if(!R)return null;const{providerId:B}=R,me=R.rawUserInfo?JSON.parse(R.rawUserInfo):{},Ee=R.isNewUser||"identitytoolkit#SignupNewUserResponse"===R.kind;if(!B&&R?.idToken){const xt=null===(E=null===(b=Ct(R.idToken))||void 0===b?void 0:b.firebase)||void 0===E?void 0:E.sign_in_provider;if(xt)return new fa(Ee,"anonymous"!==xt&&"custom"!==xt?xt:null)}if(!B)return null;switch(B){case"facebook.com":return new el(Ee,me);case"github.com":return new au(Ee,me);case"google.com":return new lu(Ee,me);case"twitter.com":return new nr(Ee,me,R.screenName||null);case"custom":case"anonymous":return new fa(Ee,null);default:return new fa(Ee,B,me)}}(E)}class Uo{constructor(b,E,B){this.type=b,this.credential=E,this.auth=B}static _fromIdtoken(b,E){return new Uo("enroll",b,E)}static _fromMfaPendingCredential(b){return new Uo("signin",b)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(b){var E,B;if(b?.multiFactorSession){if(null!==(E=b.multiFactorSession)&&void 0!==E&&E.pendingCredential)return Uo._fromMfaPendingCredential(b.multiFactorSession.pendingCredential);if(null!==(B=b.multiFactorSession)&&void 0!==B&&B.idToken)return Uo._fromIdtoken(b.multiFactorSession.idToken)}return null}}class Qn{constructor(b,E,B){this.session=b,this.hints=E,this.signInResolver=B}static _fromError(b,E){const B=Yi(b),me=E.customData._serverResponse,Ee=(me.mfaInfo||[]).map(sn=>Fo._fromServerResponse(B,sn));jt(me.mfaPendingCredential,B,"internal-error");const xt=Uo._fromMfaPendingCredential(me.mfaPendingCredential);return new Qn(xt,Ee,function(){var sn=(0,m.Z)(function*(Zn){const Vn=yield Zn._process(B,xt);delete me.mfaInfo,delete me.mfaPendingCredential;const wi=Object.assign(Object.assign({},me),{idToken:Vn.idToken,refreshToken:Vn.refreshToken});switch(E.operationType){case"signIn":const mi=yield Xr._fromIdTokenResponse(B,E.operationType,wi);return yield B._updateCurrentUser(mi.user),mi;case"reauthenticate":return jt(E.user,B,"internal-error"),Xr._forOperation(E.user,E.operationType,wi);default:Mt(B,"internal-error")}});return function(Zn){return sn.apply(this,arguments)}}())}resolveSignIn(b){var E=this;return(0,m.Z)(function*(){return E.signInResolver(b)})()}}function cn(R,b){var E;const B=(0,N.m9)(R),me=b;return jt(b.customData.operationType,B,"argument-error"),jt(null===(E=me.customData._serverResponse)||void 0===E?void 0:E.mfaPendingCredential,B,"argument-error"),Qn._fromError(B,me)}function Sn(R,b){return kn(R,"POST","/v2/accounts/mfaEnrollment:start",ri(R,b))}class Eo{constructor(b){this.user=b,this.enrolledFactors=[],b._onReload(E=>{E.mfaInfo&&(this.enrolledFactors=E.mfaInfo.map(B=>Fo._fromServerResponse(b.auth,B)))})}static _fromUser(b){return new Eo(b)}getSession(){var b=this;return(0,m.Z)(function*(){return Uo._fromIdtoken(yield b.user.getIdToken(),b.user.auth)})()}enroll(b,E){var B=this;return(0,m.Z)(function*(){const me=b,Ee=yield B.getSession(),xt=yield fn(B.user,me._process(B.user.auth,Ee,E));return yield B.user._updateTokensIfNecessary(xt),B.user.reload()})()}unenroll(b){var E=this;return(0,m.Z)(function*(){var B;const me="string"==typeof b?b:b.uid,Ee=yield E.user.getIdToken(),xt=yield fn(E.user,function Ic(R,b){return kn(R,"POST","/v2/accounts/mfaEnrollment:withdraw",ri(R,b))}(E.user.auth,{idToken:Ee,mfaEnrollmentId:me}));E.enrolledFactors=E.enrolledFactors.filter(({uid:sn})=>sn!==me),yield E.user._updateTokensIfNecessary(xt);try{yield E.user.reload()}catch(sn){if("auth/user-token-expired"!==(null===(B=sn)||void 0===B?void 0:B.code))throw sn}})()}}const tl=new WeakMap;function ga(R){const b=(0,N.m9)(R);return tl.has(b)||tl.set(b,Eo._fromUser(b)),tl.get(b)}const vl="__sak";class xc{constructor(b,E){this.storageRetriever=b,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(vl,"1"),this.storage.removeItem(vl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(b,E){return this.storage.setItem(b,JSON.stringify(E)),Promise.resolve()}_get(b){const E=this.storage.getItem(b);return Promise.resolve(E?JSON.parse(E):null)}_remove(b){return this.storage.removeItem(b),Promise.resolve()}get storage(){return this.storageRetriever()}}const il=(()=>{class R extends xc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(E,B)=>this.onStorageEvent(E,B),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function nl(){const R=(0,N.z$)();return Vi(R)||Vr(R)}()&&function Er(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Or(),this._shouldAllowMigration=!0}forAllChangedKeys(E){for(const B of Object.keys(this.listeners)){const me=this.storage.getItem(B),Ee=this.localCache[B];me!==Ee&&E(B,Ee,me)}}onStorageEvent(E,B=!1){if(!E.key)return void this.forAllChangedKeys((sn,Zn,Vn)=>{this.notifyListeners(sn,Vn)});const me=E.key;if(B?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const sn=this.storage.getItem(me);if(E.newValue!==sn)null!==E.newValue?this.storage.setItem(me,E.newValue):this.storage.removeItem(me);else if(this.localCache[me]===E.newValue&&!B)return}const Ee=()=>{const sn=this.storage.getItem(me);!B&&this.localCache[me]===sn||this.notifyListeners(me,sn)},xt=this.storage.getItem(me);!function Ao(){return(0,N.w1)()&&10===document.documentMode}()||xt===E.newValue||E.newValue===E.oldValue?Ee():setTimeout(Ee,10)}notifyListeners(E,B){this.localCache[E]=B;const me=this.listeners[E];if(me)for(const Ee of Array.from(me))Ee(B&&JSON.parse(B))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,B,me)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:B,newValue:me}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,B){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(B)}_removeListener(E,B){this.listeners[E]&&(this.listeners[E].delete(B),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,B){var me=()=>super._set,Ee=this;return(0,m.Z)(function*(){yield me().call(Ee,E,B),Ee.localCache[E]=JSON.stringify(B)})()}_get(E){var B=()=>super._get,me=this;return(0,m.Z)(function*(){const Ee=yield B().call(me,E);return me.localCache[E]=JSON.stringify(Ee),Ee})()}_remove(E){var B=()=>super._remove,me=this;return(0,m.Z)(function*(){yield B().call(me,E),delete me.localCache[E]})()}}return R.type="LOCAL",R})(),qo=(()=>{class R extends xc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(E,B){}_removeListener(E,B){}}return R.type="SESSION",R})();let kr=(()=>{class R{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const B=this.receivers.find(Ee=>Ee.isListeningto(E));if(B)return B;const me=new R(E);return this.receivers.push(me),me}isListeningto(E){return this.eventTarget===E}handleEvent(E){var B=this;return(0,m.Z)(function*(){const me=E,{eventId:Ee,eventType:xt,data:sn}=me.data,Zn=B.handlersMap[xt];if(!Zn?.size)return;me.ports[0].postMessage({status:"ack",eventId:Ee,eventType:xt});const Vn=Array.from(Zn).map(function(){var mi=(0,m.Z)(function*(Dr){return Dr(me.origin,sn)});return function(Dr){return mi.apply(this,arguments)}}()),wi=yield function rl(R){return Promise.all(R.map(function(){var b=(0,m.Z)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(B){return{fulfilled:!1,reason:B}}});return function(E){return b.apply(this,arguments)}}()))}(Vn);me.ports[0].postMessage({status:"done",eventId:Ee,eventType:xt,response:wi})})()}_subscribe(E,B){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(B)}_unsubscribe(E,B){this.handlersMap[E]&&B&&this.handlersMap[E].delete(B),(!B||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return R.receivers=[],R})();function bi(R="",b=10){let E="";for(let B=0;B<b;B++)E+=Math.floor(10*Math.random());return R+E}class cs{constructor(b){this.target=b,this.handlers=new Set}removeMessageHandler(b){b.messageChannel&&(b.messageChannel.port1.removeEventListener("message",b.onMessage),b.messageChannel.port1.close()),this.handlers.delete(b)}_send(b,E,B=50){var me=this;return(0,m.Z)(function*(){const Ee=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ee)throw new Error("connection_unavailable");let xt,sn;return new Promise((Zn,Vn)=>{const wi=bi("",20);Ee.port1.start();const mi=setTimeout(()=>{Vn(new Error("unsupported_event"))},B);sn={messageChannel:Ee,onMessage(Dr){const Bs=Dr;if(Bs.data.eventId===wi)switch(Bs.data.status){case"ack":clearTimeout(mi),xt=setTimeout(()=>{Vn(new Error("timeout"))},3e3);break;case"done":clearTimeout(xt),Zn(Bs.data.response);break;default:clearTimeout(mi),clearTimeout(xt),Vn(new Error("invalid_response"))}}},me.handlers.add(sn),Ee.port1.addEventListener("message",sn.onMessage),me.target.postMessage({eventType:b,eventId:wi,data:E},[Ee.port2])}).finally(()=>{sn&&me.removeMessageHandler(sn)})})()}}function vi(){return window}function wr(){return typeof vi().WorkerGlobalScope<"u"&&"function"==typeof vi().importScripts}function Qo(){return(Qo=(0,m.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Sa="firebaseLocalStorageDb",ji="firebaseLocalStorage",bl="fbase_key";class Cl{constructor(b){this.request=b}toPromise(){return new Promise((b,E)=>{this.request.addEventListener("success",()=>{b(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function Xl(R,b){return R.transaction([ji],b?"readwrite":"readonly").objectStore(ji)}function Ac(){const R=indexedDB.open(Sa,1);return new Promise((b,E)=>{R.addEventListener("error",()=>{E(R.error)}),R.addEventListener("upgradeneeded",()=>{const B=R.result;try{B.createObjectStore(ji,{keyPath:bl})}catch(me){E(me)}}),R.addEventListener("success",(0,m.Z)(function*(){const B=R.result;B.objectStoreNames.contains(ji)?b(B):(B.close(),yield function uo(){const R=indexedDB.deleteDatabase(Sa);return new Cl(R).toPromise()}(),b(yield Ac()))}))})}function Ps(R,b,E){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,m.Z)(function*(R,b,E){const B=Xl(R,!0).put({[bl]:b,value:E});return new Cl(B).toPromise()})).apply(this,arguments)}function wl(){return(wl=(0,m.Z)(function*(R,b){const E=Xl(R,!1).get(b),B=yield new Cl(E).toPromise();return void 0===B?null:B.value})).apply(this,arguments)}function on(R,b){const E=Xl(R,!0).delete(b);return new Cl(E).toPromise()}const sl=(()=>{class R{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,m.Z)(function*(){return E.db||(E.db=yield Ac()),E.db})()}_withRetries(E){var B=this;return(0,m.Z)(function*(){let me=0;for(;;)try{const Ee=yield B._openDb();return yield E(Ee)}catch(Ee){if(me++>3)throw Ee;B.db&&(B.db.close(),B.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,m.Z)(function*(){return wr()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,m.Z)(function*(){E.receiver=kr._getInstance(function Xo(){return wr()?self:null}()),E.receiver._subscribe("keyChanged",function(){var B=(0,m.Z)(function*(me,Ee){return{keyProcessed:(yield E._poll()).includes(Ee.key)}});return function(me,Ee){return B.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var B=(0,m.Z)(function*(me,Ee){return["keyChanged"]});return function(me,Ee){return B.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,m.Z)(function*(){var B,me;if(E.activeServiceWorker=yield function zn(){return Qo.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new cs(E.activeServiceWorker);const Ee=yield E.sender._send("ping",{},800);!Ee||(null===(B=Ee[0])||void 0===B?void 0:B.fulfilled)&&(null===(me=Ee[0])||void 0===me?void 0:me.value.includes("keyChanged"))&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var B=this;return(0,m.Z)(function*(){if(B.sender&&B.activeServiceWorker&&function Ea(){var R;return(null===(R=navigator?.serviceWorker)||void 0===R?void 0:R.controller)||null}()===B.activeServiceWorker)try{yield B.sender._send("keyChanged",{key:E},B.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const E=yield Ac();return yield Ps(E,vl,"1"),yield on(E,vl),!0}catch{}return!1})()}_withPendingWrite(E){var B=this;return(0,m.Z)(function*(){B.pendingWrites++;try{yield E()}finally{B.pendingWrites--}})()}_set(E,B){var me=this;return(0,m.Z)(function*(){return me._withPendingWrite((0,m.Z)(function*(){return yield me._withRetries(Ee=>Ps(Ee,E,B)),me.localCache[E]=B,me.notifyServiceWorker(E)}))})()}_get(E){var B=this;return(0,m.Z)(function*(){const me=yield B._withRetries(Ee=>function Ho(R,b){return wl.apply(this,arguments)}(Ee,E));return B.localCache[E]=me,me})()}_remove(E){var B=this;return(0,m.Z)(function*(){return B._withPendingWrite((0,m.Z)(function*(){return yield B._withRetries(me=>on(me,E)),delete B.localCache[E],B.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,m.Z)(function*(){const B=yield E._withRetries(xt=>{const sn=Xl(xt,!1).getAll();return new Cl(sn).toPromise()});if(!B)return[];if(0!==E.pendingWrites)return[];const me=[],Ee=new Set;for(const{fbase_key:xt,value:sn}of B)Ee.add(xt),JSON.stringify(E.localCache[xt])!==JSON.stringify(sn)&&(E.notifyListeners(xt,sn),me.push(xt));for(const xt of Object.keys(E.localCache))E.localCache[xt]&&!Ee.has(xt)&&(E.notifyListeners(xt,null),me.push(xt));return me})()}notifyListeners(E,B){this.localCache[E]=B;const me=this.listeners[E];if(me)for(const Ee of Array.from(me))Ee(B)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,B){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(B)}_removeListener(E,B){this.listeners[E]&&(this.listeners[E].delete(B),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return R.type="LOCAL",R})();function Ta(R,b){return kn(R,"POST","/v2/accounts/mfaSignIn:start",ri(R,b))}function ec(){return(ec=(0,m.Z)(function*(R){return(yield kn(R,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function qs(R){return new Promise((b,E)=>{const B=document.createElement("script");B.setAttribute("src",R),B.onload=b,B.onerror=me=>{const Ee=Kt("internal-error");Ee.customData=me,E(Ee)},B.type="text/javascript",B.charset="UTF-8",function fo(){var R,b;return null!==(b=null===(R=document.getElementsByTagName("head"))||void 0===R?void 0:R[0])&&void 0!==b?b:document}().appendChild(B)})}function Vl(R){return`__${R}${Math.floor(1e6*Math.random())}`}const mo=1e12;class F{constructor(b){this.auth=b,this.counter=mo,this._widgets=new Map}render(b,E){const B=this.counter;return this._widgets.set(B,new L(b,this.auth.name,E||{})),this.counter++,B}reset(b){var E;const B=b||mo;null===(E=this._widgets.get(B))||void 0===E||E.delete(),this._widgets.delete(B)}getResponse(b){var E;return(null===(E=this._widgets.get(b||mo))||void 0===E?void 0:E.getResponse())||""}execute(b){var E=this;return(0,m.Z)(function*(){var B;return null===(B=E._widgets.get(b||mo))||void 0===B||B.execute(),""})()}}class L{constructor(b,E,B){this.params=B,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const me="string"==typeof b?document.getElementById(b):b;jt(me,"argument-error",{appName:E}),this.container=me,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function I(R){const b=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let B=0;B<R;B++)b.push(E.charAt(Math.floor(Math.random()*E.length)));return b.join("")}(50);const{callback:b,"expired-callback":E}=this.params;if(b)try{b(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,E)try{E()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const H=Vl("rcb"),te=new nn(3e4,6e4);class tt{constructor(){var b;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(b=vi().grecaptcha)||void 0===b||!b.render)}load(b,E=""){return jt(function dt(R){return R.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(R)}(E),b,"argument-error"),this.shouldResolveImmediately(E)?Promise.resolve(vi().grecaptcha):new Promise((B,me)=>{const Ee=vi().setTimeout(()=>{me(Kt(b,"network-request-failed"))},te.get());vi()[H]=()=>{vi().clearTimeout(Ee),delete vi()[H];const sn=vi().grecaptcha;if(!sn)return void me(Kt(b,"internal-error"));const Zn=sn.render;sn.render=(Vn,wi)=>{const mi=Zn(Vn,wi);return this.counter++,mi},this.hostLanguage=E,B(sn)},qs(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:H,render:"explicit",hl:E})}`).catch(()=>{clearTimeout(Ee),me(Kt(b,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(b){var E;return!(null===(E=vi().grecaptcha)||void 0===E||!E.render)&&(b===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Wt{load(b){return(0,m.Z)(function*(){return new F(b)})()}clearedOneInstance(){}}const xn="recaptcha",oi={theme:"light",type:"image"};class Wn{constructor(b,E=Object.assign({},oi),B){this.parameters=E,this.type=xn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Yi(B),this.isInvisible="invisible"===this.parameters.size,jt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const me="string"==typeof b?document.getElementById(b):b;jt(me,this.auth,"argument-error"),this.container=me,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Wt:new tt,this.validateStartingState()}verify(){var b=this;return(0,m.Z)(function*(){b.assertNotDestroyed();const E=yield b.render(),B=b.getAssertedRecaptcha();return B.getResponse(E)||new Promise(Ee=>{const xt=sn=>{!sn||(b.tokenChangeListeners.delete(xt),Ee(sn))};b.tokenChangeListeners.add(xt),b.isInvisible&&B.execute(E)})})()}render(){try{this.assertNotDestroyed()}catch(b){return Promise.reject(b)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(b=>{throw this.renderPromise=null,b})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(b=>{this.container.removeChild(b)})}validateStartingState(){jt(!this.parameters.sitekey,this.auth,"argument-error"),jt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),jt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(b){return E=>{if(this.tokenChangeListeners.forEach(B=>B(E)),"function"==typeof b)b(E);else if("string"==typeof b){const B=vi()[b];"function"==typeof B&&B(E)}}}assertNotDestroyed(){jt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var b=this;return(0,m.Z)(function*(){if(yield b.init(),!b.widgetId){let E=b.container;if(!b.isInvisible){const B=document.createElement("div");E.appendChild(B),E=B}b.widgetId=b.getAssertedRecaptcha().render(E,b.parameters)}return b.widgetId})()}init(){var b=this;return(0,m.Z)(function*(){jt(ae()&&!wr(),b.auth,"internal-error"),yield function ci(){let R=null;return new Promise(b=>{"complete"!==document.readyState?(R=()=>b(),window.addEventListener("load",R)):b()}).catch(b=>{throw R&&window.removeEventListener("load",R),b})}(),b.recaptcha=yield b._recaptchaLoader.load(b.auth,b.auth.languageCode||void 0);const E=yield function ho(R){return ec.apply(this,arguments)}(b.auth);jt(E,b.auth,"internal-error"),b.parameters.sitekey=E})()}getAssertedRecaptcha(){return jt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ui{constructor(b,E){this.verificationId=b,this.onConfirmation=E}confirm(b){const E=xi._fromVerification(this.verificationId,b);return this.onConfirmation(E)}}function Sr(R,b,E){return To.apply(this,arguments)}function To(){return(To=(0,m.Z)(function*(R,b,E){const B=Yi(R),me=yield Jr(B,b,(0,N.m9)(E));return new Ui(me,Ee=>rs(B,Ee))})).apply(this,arguments)}function jr(R,b,E){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,m.Z)(function*(R,b,E){const B=(0,N.m9)(R);yield en(!1,B,"phone");const me=yield Jr(B.auth,b,(0,N.m9)(E));return new Ui(me,Ee=>er(B,Ee))})).apply(this,arguments)}function Ns(R,b,E){return va.apply(this,arguments)}function va(){return(va=(0,m.Z)(function*(R,b,E){const B=(0,N.m9)(R),me=yield Jr(B.auth,b,(0,N.m9)(E));return new Ui(me,Ee=>Sc(B,Ee))})).apply(this,arguments)}function Jr(R,b,E){return tc.apply(this,arguments)}function tc(){return(tc=(0,m.Z)(function*(R,b,E){var B;const me=yield E.verify();try{let Ee;if(jt("string"==typeof me,R,"argument-error"),jt(E.type===xn,R,"argument-error"),Ee="string"==typeof b?{phoneNumber:b}:b,"session"in Ee){const xt=Ee.session;if("phoneNumber"in Ee)return jt("enroll"===xt.type,R,"internal-error"),(yield Sn(R,{idToken:xt.credential,phoneEnrollmentInfo:{phoneNumber:Ee.phoneNumber,recaptchaToken:me}})).phoneSessionInfo.sessionInfo;{jt("signin"===xt.type,R,"internal-error");const sn=(null===(B=Ee.multiFactorHint)||void 0===B?void 0:B.uid)||Ee.multiFactorUid;return jt(sn,R,"missing-multi-factor-info"),(yield Ta(R,{mfaPendingCredential:xt.credential,mfaEnrollmentId:sn,phoneSignInInfo:{recaptchaToken:me}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:xt}=yield Wr(R,{phoneNumber:Ee.phoneNumber,recaptchaToken:me});return xt}}finally{E._reset()}})).apply(this,arguments)}function Ul(R,b){return Z.apply(this,arguments)}function Z(){return(Z=(0,m.Z)(function*(R,b){yield $((0,N.m9)(R),b)})).apply(this,arguments)}let re=(()=>{class R{constructor(E){this.providerId=R.PROVIDER_ID,this.auth=Yi(E)}verifyPhoneNumber(E,B){return Jr(this.auth,E,(0,N.m9)(B))}static credential(E,B){return xi._fromVerification(E,B)}static credentialFromResult(E){return R.credentialFromTaggedObject(E)}static credentialFromError(E){return R.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{phoneNumber:B,temporaryProof:me}=E;return B&&me?xi._fromTokenResponse(B,me):null}}return R.PROVIDER_ID="phone",R.PHONE_SIGN_IN_METHOD="phone",R})();function Ae(R,b){return b?ee(b):(jt(R._popupRedirectResolver,R,"argument-error"),R._popupRedirectResolver)}class st extends Ot{constructor(b){super("custom","custom"),this.params=b}_getIdTokenResponse(b){return Is(b,this._buildIdpRequest())}_linkToIdToken(b,E){return Is(b,this._buildIdpRequest(E))}_getReauthenticationResolver(b){return Is(b,this._buildIdpRequest())}_buildIdpRequest(b){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return b&&(E.idToken=b),E}}function Nt(R){return Fr(R.auth,new st(R),R.bypassAuthState)}function an(R){const{auth:b,user:E}=R;return jt(E,b,"internal-error"),Cr(E,new st(R),R.bypassAuthState)}function Mn(R){return jn.apply(this,arguments)}function jn(){return(jn=(0,m.Z)(function*(R){const{auth:b,user:E}=R;return jt(E,b,"internal-error"),$(E,new st(R),R.bypassAuthState)})).apply(this,arguments)}class gi{constructor(b,E,B,me,Ee=!1){this.auth=b,this.resolver=B,this.user=me,this.bypassAuthState=Ee,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var b=this;return new Promise(function(){var E=(0,m.Z)(function*(B,me){b.pendingPromise={resolve:B,reject:me};try{b.eventManager=yield b.resolver._initialize(b.auth),yield b.onExecution(),b.eventManager.registerConsumer(b)}catch(Ee){b.reject(Ee)}});return function(B,me){return E.apply(this,arguments)}}())}onAuthEvent(b){var E=this;return(0,m.Z)(function*(){const{urlResponse:B,sessionId:me,postBody:Ee,tenantId:xt,error:sn,type:Zn}=b;if(sn)return void E.reject(sn);const Vn={auth:E.auth,requestUri:B,sessionId:me,tenantId:xt||void 0,postBody:Ee||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(Zn)(Vn))}catch(wi){E.reject(wi)}})()}onError(b){this.reject(b)}getIdpTask(b){switch(b){case"signInViaPopup":case"signInViaRedirect":return Nt;case"linkViaPopup":case"linkViaRedirect":return Mn;case"reauthViaPopup":case"reauthViaRedirect":return an;default:Mt(this.auth,"internal-error")}}resolve(b){wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(b),this.unregisterAndCleanUp()}reject(b){wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(b),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Li=new nn(2e3,1e4);function Ri(R,b,E){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,m.Z)(function*(R,b,E){const B=Yi(R);Vt(R,b,Co);const me=Ae(B,E);return new ol(B,"signInViaPopup",b,me).executeNotNull()})).apply(this,arguments)}function ms(R,b,E){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,m.Z)(function*(R,b,E){const B=(0,N.m9)(R);Vt(B.auth,b,Co);const me=Ae(B.auth,E);return new ol(B.auth,"reauthViaPopup",b,me,B).executeNotNull()})).apply(this,arguments)}function Jo(R,b,E){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,m.Z)(function*(R,b,E){const B=(0,N.m9)(R);Vt(B.auth,b,Co);const me=Ae(B.auth,E);return new ol(B.auth,"linkViaPopup",b,me,B).executeNotNull()})).apply(this,arguments)}let ol=(()=>{class R extends gi{constructor(E,B,me,Ee,xt){super(E,B,Ee,xt),this.provider=me,this.authWindow=null,this.pollId=null,R.currentPopupAction&&R.currentPopupAction.cancel(),R.currentPopupAction=this}executeNotNull(){var E=this;return(0,m.Z)(function*(){const B=yield E.execute();return jt(B,E.auth,"internal-error"),B})()}onExecution(){var E=this;return(0,m.Z)(function*(){wn(1===E.filter.length,"Popup operations only handle one event");const B=bi();E.authWindow=yield E.resolver._openPopup(E.auth,E.provider,E.filter[0],B),E.authWindow.associatedEvent=B,E.resolver._originValidation(E.auth).catch(me=>{E.reject(me)}),E.resolver._isIframeWebStorageSupported(E.auth,me=>{me||E.reject(Kt(E.auth,"web-storage-unsupported"))}),E.pollUserCancellation()})()}get eventId(){var E;return(null===(E=this.authWindow)||void 0===E?void 0:E.associatedEvent)||null}cancel(){this.reject(Kt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,R.currentPopupAction=null}pollUserCancellation(){const E=()=>{var B,me;this.pollId=null!==(me=null===(B=this.authWindow)||void 0===B?void 0:B.window)&&void 0!==me&&me.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Kt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(E,Li.get())};E()}}return R.currentPopupAction=null,R})();const ja=new Map;class nc extends gi{constructor(b,E,B=!1){super(b,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,B),this.eventId=null}execute(){var b=()=>super.execute,E=this;return(0,m.Z)(function*(){let B=ja.get(E.auth._key());if(!B){try{const Ee=(yield function us(R,b){return $a.apply(this,arguments)}(E.resolver,E.auth))?yield b().call(E):null;B=()=>Promise.resolve(Ee)}catch(me){B=()=>Promise.reject(me)}ja.set(E.auth._key(),B)}return E.bypassAuthState||ja.set(E.auth._key(),()=>Promise.resolve(null)),B()})()}onAuthEvent(b){var E=()=>super.onAuthEvent,B=this;return(0,m.Z)(function*(){if("signInViaRedirect"===b.type)return E().call(B,b);if("unknown"!==b.type){if(b.eventId){const me=yield B.auth._redirectUserForId(b.eventId);if(me)return B.user=me,E().call(B,b);B.resolve(null)}}else B.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function $a(){return($a=(0,m.Z)(function*(R,b){const E=Oc(b),B=xd(R);if(!(yield B._isAvailable()))return!1;const me="true"===(yield B._get(E));return yield B._remove(E),me})).apply(this,arguments)}function vr(R,b){return uu.apply(this,arguments)}function uu(){return(uu=(0,m.Z)(function*(R,b){return xd(R)._set(Oc(b),"true")})).apply(this,arguments)}function _h(){ja.clear()}function ic(R,b){ja.set(R._key(),b)}function xd(R){return ee(R._redirectPersistence)}function Oc(R){return hr("pendingRedirect",R.config.apiKey,R.name)}function du(R,b,E){return function zu(R,b,E){return Ad.apply(this,arguments)}(R,b,E)}function Ad(){return(Ad=(0,m.Z)(function*(R,b,E){const B=Yi(R);Vt(R,b,Co);const me=Ae(B,E);return yield vr(me,B),me._openRedirect(B,b,"signInViaRedirect")})).apply(this,arguments)}function vh(R,b,E){return function go(R,b,E){return sf.apply(this,arguments)}(R,b,E)}function sf(){return(sf=(0,m.Z)(function*(R,b,E){const B=(0,N.m9)(R);Vt(B.auth,b,Co);const me=Ae(B.auth,E);yield vr(me,B.auth);const Ee=yield Dl(B);return me._openRedirect(B.auth,b,"reauthViaRedirect",Ee)})).apply(this,arguments)}function yg(R,b,E){return function kd(R,b,E){return yh.apply(this,arguments)}(R,b,E)}function yh(){return(yh=(0,m.Z)(function*(R,b,E){const B=(0,N.m9)(R);Vt(B.auth,b,Co);const me=Ae(B.auth,E);yield en(!1,B,b.providerId),yield vr(me,B.auth);const Ee=yield Dl(B);return me._openRedirect(B.auth,b,"linkViaRedirect",Ee)})).apply(this,arguments)}function af(R,b){return lp.apply(this,arguments)}function lp(){return(lp=(0,m.Z)(function*(R,b){return yield Yi(R)._initializationPromise,Rd(R,b,!1)})).apply(this,arguments)}function Rd(R,b){return bh.apply(this,arguments)}function bh(){return(bh=(0,m.Z)(function*(R,b,E=!1){const B=Yi(R),me=Ae(B,b),xt=yield new nc(B,me,E).execute();return xt&&!E&&(delete xt.user._redirectEventId,yield B._persistUserIfCurrent(xt.user),yield B._setRedirectUser(null,b)),xt})).apply(this,arguments)}function Dl(R){return al.apply(this,arguments)}function al(){return(al=(0,m.Z)(function*(R){const b=bi(`${R.uid}:::`);return R._redirectEventId=b,yield R.auth._setRedirectUser(R),yield R.auth._persistUserIfCurrent(R),b})).apply(this,arguments)}class hu{constructor(b){this.auth=b,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(b){this.consumers.add(b),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,b)&&(this.sendToConsumer(this.queuedRedirectEvent,b),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(b){this.consumers.delete(b)}onEvent(b){if(this.hasEventBeenHandled(b))return!1;let E=!1;return this.consumers.forEach(B=>{this.isEventForConsumer(b,B)&&(E=!0,this.sendToConsumer(b,B),this.saveEventToCache(b))}),this.hasHandledPotentialRedirect||!function bg(R){switch(R.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rc(R);default:return!1}}(b)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=b,E=!0)),E}sendToConsumer(b,E){var B;if(b.error&&!rc(b)){const me=(null===(B=b.error.code)||void 0===B?void 0:B.split("auth/")[1])||"internal-error";E.onError(Kt(this.auth,me))}else E.onAuthEvent(b)}isEventForConsumer(b,E){const B=null===E.eventId||!!b.eventId&&b.eventId===E.eventId;return E.filter.includes(b.type)&&B}hasEventBeenHandled(b){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ch(b))}saveEventToCache(b){this.cachedEventUids.add(Ch(b)),this.lastProcessedEventTime=Date.now()}}function Ch(R){return[R.type,R.eventId,R.sessionId,R.tenantId].filter(b=>b).join("-")}function rc({type:R,error:b}){return"unknown"===R&&"auth/no-auth-event"===b?.code}function Hl(R){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,m.Z)(function*(R,b={}){return kn(R,"GET","/v1/projects",b)})).apply(this,arguments)}const Qs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wu=/^https?/;function Ls(){return(Ls=(0,m.Z)(function*(R){if(R.config.emulator)return;const{authorizedDomains:b}=yield Hl(R);for(const E of b)try{if(ea(E))return}catch{}Mt(R,"unauthorized-domain")})).apply(this,arguments)}function ea(R){const b=Ce(),{protocol:E,hostname:B}=new URL(b);if(R.startsWith("chrome-extension://")){const xt=new URL(R);return""===xt.hostname&&""===B?"chrome-extension:"===E&&R.replace("chrome-extension://","")===b.replace("chrome-extension://",""):"chrome-extension:"===E&&xt.hostname===B}if(!Wu.test(E))return!1;if(Qs.test(R))return B===R;const me=R.replace(/\./g,"\\.");return new RegExp("^(.+\\."+me+"|"+me+")$","i").test(B)}const Ku=new nn(3e4,6e4);function fu(){const R=vi().___jsl;if(R?.H)for(const b of Object.keys(R.H))if(R.H[b].r=R.H[b].r||[],R.H[b].L=R.H[b].L||[],R.H[b].r=[...R.H[b].L],R.CP)for(let E=0;E<R.CP.length;E++)R.CP[E]=null}let pu=null;function El(R){return pu=pu||function cf(R){return new Promise((b,E)=>{var B,me,Ee;function xt(){fu(),gapi.load("gapi.iframes",{callback:()=>{b(gapi.iframes.getContext())},ontimeout:()=>{fu(),E(Kt(R,"network-request-failed"))},timeout:Ku.get()})}if(null!==(me=null===(B=vi().gapi)||void 0===B?void 0:B.iframes)&&void 0!==me&&me.Iframe)b(gapi.iframes.getContext());else{if(null===(Ee=vi().gapi)||void 0===Ee||!Ee.load){const sn=Vl("iframefcb");return vi()[sn]=()=>{gapi.load?xt():E(Kt(R,"network-request-failed"))},qs(`https://apis.google.com/js/api.js?onload=${sn}`).catch(Zn=>E(Zn))}xt()}}).catch(b=>{throw pu=null,b})}(R),pu}const mu=new nn(5e3,15e3),up={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},df=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zu(R){const b=R.config;jt(b.authDomain,R,"auth-domain-config-required");const E=b.emulator?ln(b,"emulator/auth/iframe"):`https://${R.config.authDomain}/__/auth/iframe`,B={apiKey:b.apiKey,appName:R.name,v:v.SDK_VERSION},me=df.get(R.config.apiHost);me&&(B.eid=me);const Ee=R._getFrameworks();return Ee.length&&(B.fw=Ee.join(",")),`${E}?${(0,N.xO)(B).slice(1)}`}function wh(){return wh=(0,m.Z)(function*(R){const b=yield El(R),E=vi().gapi;return jt(E,R,"internal-error"),b.open({where:document.body,url:Zu(R),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:up,dontclear:!0},B=>new Promise(function(){var me=(0,m.Z)(function*(Ee,xt){yield B.restyle({setHideOnLeave:!1});const sn=Kt(R,"network-request-failed"),Zn=vi().setTimeout(()=>{xt(sn)},mu.get());function Vn(){vi().clearTimeout(Zn),Ee(B)}B.ping(Vn).then(Vn,()=>{xt(sn)})});return function(Ee,xt){return me.apply(this,arguments)}}()))}),wh.apply(this,arguments)}const um={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $o{constructor(b){this.window=b,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jl(R,b,E,B,me,Ee){jt(R.config.authDomain,R,"auth-domain-config-required"),jt(R.config.apiKey,R,"invalid-api-key");const xt={apiKey:R.config.apiKey,appName:R.name,authType:E,redirectUrl:B,v:v.SDK_VERSION,eventId:me};if(b instanceof Co){b.setDefaultLanguage(R.languageCode),xt.providerId=b.providerId||"",(0,N.xb)(b.getCustomParameters())||(xt.customParameters=JSON.stringify(b.getCustomParameters()));for(const[Zn,Vn]of Object.entries(Ee||{}))xt[Zn]=Vn}if(b instanceof ks){const Zn=b.getScopes().filter(Vn=>""!==Vn);Zn.length>0&&(xt.scopes=Zn.join(","))}R.tenantId&&(xt.tid=R.tenantId);const sn=xt;for(const Zn of Object.keys(sn))void 0===sn[Zn]&&delete sn[Zn];return`${function Cg({config:R}){return R.emulator?ln(R,"emulator/auth/handler"):`https://${R.authDomain}/__/auth/handler`}(R)}?${(0,N.xO)(sn).slice(1)}`}const dp="webStorageSupport",Sl=class os{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qo,this._completeRedirectFn=Rd,this._overrideRedirectResult=ic}_openPopup(b,E,B,me){var Ee=this;return(0,m.Z)(function*(){var xt;wn(null===(xt=Ee.eventManagers[b._key()])||void 0===xt?void 0:xt.manager,"_initialize() not called before _openPopup()");const sn=jl(b,E,B,Ce(),me);return function Nc(R,b,E,B=500,me=600){const Ee=Math.max((window.screen.availHeight-me)/2,0).toString(),xt=Math.max((window.screen.availWidth-B)/2,0).toString();let sn="";const Zn=Object.assign(Object.assign({},um),{width:B.toString(),height:me.toString(),top:Ee,left:xt}),Vn=(0,N.z$)().toLowerCase();E&&(sn=to(Vn)?"_blank":E),ns(Vn)&&(b=b||"http://localhost",Zn.scrollbars="yes");const wi=Object.entries(Zn).reduce((Dr,[Bs,Xs])=>`${Dr}${Bs}=${Xs},`,"");if(function or(R=(0,N.z$)()){var b;return Vr(R)&&!(null===(b=window.navigator)||void 0===b||!b.standalone)}(Vn)&&"_self"!==sn)return function sc(R,b){const E=document.createElement("a");E.href=R,E.target=b;const B=document.createEvent("MouseEvent");B.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(B)}(b||"",sn),new $o(null);const mi=window.open(b||"",sn,wi);jt(mi,R,"popup-blocked");try{mi.focus()}catch{}return new $o(mi)}(b,sn,bi())})()}_openRedirect(b,E,B,me){var Ee=this;return(0,m.Z)(function*(){return yield Ee._originValidation(b),function co(R){vi().location.href=R}(jl(b,E,B,Ce(),me)),new Promise(()=>{})})()}_initialize(b){const E=b._key();if(this.eventManagers[E]){const{manager:me,promise:Ee}=this.eventManagers[E];return me?Promise.resolve(me):(wn(Ee,"If manager is not set, promise should be"),Ee)}const B=this.initAndGetManager(b);return this.eventManagers[E]={promise:B},B.catch(()=>{delete this.eventManagers[E]}),B}initAndGetManager(b){var E=this;return(0,m.Z)(function*(){const B=yield function Od(R){return wh.apply(this,arguments)}(b),me=new hu(b);return B.register("authEvent",Ee=>(jt(Ee?.authEvent,b,"invalid-auth-event"),{status:me.onEvent(Ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[b._key()]={manager:me},E.iframes[b._key()]=B,me})()}_isIframeWebStorageSupported(b,E){this.iframes[b._key()].send(dp,{type:dp},me=>{var Ee;const xt=null===(Ee=me?.[0])||void 0===Ee?void 0:Ee[dp];void 0!==xt&&E(!!xt),Mt(b,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(b){const E=b._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function Yu(R){return Ls.apply(this,arguments)}(b)),this.originValidationPromises[E]}get _shouldInitProactively(){return Or()||Vi()||Vr()}};class Eh extends class Fc{constructor(b){this.factorId=b}_process(b,E,B){switch(E.type){case"enroll":return this._finalizeEnroll(b,E.credential,B);case"signin":return this._finalizeSignIn(b,E.credential);default:return Hn("unexpected MultiFactorSessionType")}}}{constructor(b){super("phone"),this.credential=b}static _fromCredential(b){return new Eh(b)}_finalizeEnroll(b,E,B){return function Ar(R,b){return kn(R,"POST","/v2/accounts/mfaEnrollment:finalize",ri(R,b))}(b,{idToken:E,displayName:B,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(b,E){return function So(R,b){return kn(R,"POST","/v2/accounts/mfaSignIn:finalize",ri(R,b))}(b,{mfaPendingCredential:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Xu=(()=>{class R{constructor(){}static assertion(E){return Eh._fromCredential(E)}}return R.FACTOR_ID="phone",R})();var Ju="@firebase/auth",hp="0.20.11";class fp{constructor(b){this.auth=b,this.internalListeners=new Map}getUid(){var b;return this.assertAuthConfigured(),(null===(b=this.auth.currentUser)||void 0===b?void 0:b.uid)||null}getToken(b){var E=this;return(0,m.Z)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(b)}:null})()}addAuthTokenListener(b){if(this.assertAuthConfigured(),this.internalListeners.has(b))return;const E=this.auth.onIdTokenChanged(B=>{var me;b((null===(me=B)||void 0===me?void 0:me.stsTokenManager.accessToken)||null)});this.internalListeners.set(b,E),this.updateProactiveRefresh()}removeAuthTokenListener(b){this.assertAuthConfigured();const E=this.internalListeners.get(b);!E||(this.internalListeners.delete(b),E(),this.updateProactiveRefresh())}assertAuthConfigured(){jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,N.Pz)("authIdTokenMaxAge"),function ll(R){(0,v._registerComponent)(new yn.wA("auth",(b,{options:E})=>{const B=b.getProvider("app").getImmediate(),me=b.getProvider("heartbeat"),{apiKey:Ee,authDomain:xt}=B.options;return((sn,Zn)=>{jt(Ee&&!Ee.includes(":"),"invalid-api-key",{appName:sn.name}),jt(!xt?.includes(":"),"argument-error",{appName:sn.name});const Vn={apiKey:Ee,authDomain:xt,clientPlatform:R,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ko(R)},wi=new gs(sn,Zn,Vn);return function le(R,b){const E=b?.persistence||[],B=(Array.isArray(E)?E:[E]).map(ee);b?.errorMap&&R._updateErrorMap(b.errorMap),R._initializeWithPersistence(B,b?.popupRedirectResolver)}(wi,E),wi})(B,me)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((b,E,B)=>{b.getProvider("auth-internal").initialize()})),(0,v._registerComponent)(new yn.wA("auth-internal",b=>{const E=Yi(b.getProvider("auth").getImmediate());return new fp(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,v.registerVersion)(Ju,hp,function Pd(R){switch(R){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(R)),(0,v.registerVersion)(Ju,hp,"esm2017")}("Browser")},2090:(gn,_t,k)=>{"use strict";k.d(_t,{$s:()=>it,BH:()=>Ln,DV:()=>jt,Dv:()=>ai,G6:()=>Je,GJ:()=>Vt,L:()=>fe,LL:()=>Ve,Pz:()=>si,Sg:()=>tn,UG:()=>lt,UI:()=>wn,US:()=>J,Wj:()=>kn,Wl:()=>Xt,Yr:()=>vt,ZB:()=>ge,ZR:()=>Oe,aH:()=>Gn,b$:()=>pt,cI:()=>St,dS:()=>Tn,eu:()=>ht,g5:()=>v,gK:()=>di,gQ:()=>Le,h$:()=>De,hl:()=>Be,hu:()=>N,jU:()=>He,lb:()=>Ai,m9:()=>Ht,ne:()=>Dt,p$:()=>ce,pd:()=>ae,r3:()=>Cn,ru:()=>ot,tV:()=>Ie,uI:()=>Ke,ug:()=>$t,vZ:()=>mt,w1:()=>ut,w9:()=>Tt,xO:()=>le,xb:()=>Hn,z$:()=>Ne,zI:()=>et,zd:()=>Ce});const N=function(_e,j){if(!_e)throw v(j)},v=function(_e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+_e)},ne=function(_e){const j=[];let G=0;for(let X=0;X<_e.length;X++){let K=_e.charCodeAt(X);K<128?j[G++]=K:K<2048?(j[G++]=K>>6|192,j[G++]=63&K|128):55296==(64512&K)&&X+1<_e.length&&56320==(64512&_e.charCodeAt(X+1))?(K=65536+((1023&K)<<10)+(1023&_e.charCodeAt(++X)),j[G++]=K>>18|240,j[G++]=K>>12&63|128,j[G++]=K>>6&63|128,j[G++]=63&K|128):(j[G++]=K>>12|224,j[G++]=K>>6&63|128,j[G++]=63&K|128)}return j},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(_e,j){if(!Array.isArray(_e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,X=[];for(let K=0;K<_e.length;K+=3){const pe=_e[K],Qe=K+1<_e.length,Ct=Qe?_e[K+1]:0,dn=K+2<_e.length,fn=dn?_e[K+2]:0;let Ue=(15&Ct)<<2|fn>>6,We=63&fn;dn||(We=64,Qe||(Ue=64)),X.push(G[pe>>2],G[(3&pe)<<4|Ct>>4],G[Ue],G[We])}return X.join("")},encodeString(_e,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(_e):this.encodeByteArray(ne(_e),j)},decodeString(_e,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(_e):function(_e){const j=[];let G=0,X=0;for(;G<_e.length;){const K=_e[G++];if(K<128)j[X++]=String.fromCharCode(K);else if(K>191&&K<224){const pe=_e[G++];j[X++]=String.fromCharCode((31&K)<<6|63&pe)}else if(K>239&&K<365){const dn=((7&K)<<18|(63&_e[G++])<<12|(63&_e[G++])<<6|63&_e[G++])-65536;j[X++]=String.fromCharCode(55296+(dn>>10)),j[X++]=String.fromCharCode(56320+(1023&dn))}else{const pe=_e[G++],Qe=_e[G++];j[X++]=String.fromCharCode((15&K)<<12|(63&pe)<<6|63&Qe)}}return j.join("")}(this.decodeStringToByteArray(_e,j))},decodeStringToByteArray(_e,j){this.init_();const G=j?this.charToByteMapWebSafe_:this.charToByteMap_,X=[];for(let K=0;K<_e.length;){const pe=G[_e.charAt(K++)],Ct=K<_e.length?G[_e.charAt(K)]:0;++K;const fn=K<_e.length?G[_e.charAt(K)]:64;++K;const je=K<_e.length?G[_e.charAt(K)]:64;if(++K,null==pe||null==Ct||null==fn||null==je)throw Error();X.push(pe<<2|Ct>>4),64!==fn&&(X.push(Ct<<4&240|fn>>2),64!==je&&X.push(fn<<6&192|je))}return X},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let _e=0;_e<this.ENCODED_VALS.length;_e++)this.byteToCharMap_[_e]=this.ENCODED_VALS.charAt(_e),this.charToByteMap_[this.byteToCharMap_[_e]]=_e,this.byteToCharMapWebSafe_[_e]=this.ENCODED_VALS_WEBSAFE.charAt(_e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[_e]]=_e,_e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(_e)]=_e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(_e)]=_e)}}},De=function(_e){const j=ne(_e);return J.encodeByteArray(j,!0)},fe=function(_e){return De(_e).replace(/\./g,"")},Ie=function(_e){try{return J.decodeString(_e,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function ce(_e){return ge(void 0,_e)}function ge(_e,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===_e&&(_e={});break;case Array:_e=[];break;default:return j}for(const G in j)!j.hasOwnProperty(G)||!be(G)||(_e[G]=ge(_e[G],j[G]));return _e}function be(_e){return"__proto__"!==_e}function Ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ke(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function lt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function He(){return"object"==typeof self&&self.self===self}function ot(){const _e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof _e&&void 0!==_e.id}function pt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ut(){const _e=Ne();return _e.indexOf("MSIE ")>=0||_e.indexOf("Trident/")>=0}function vt(){return!1}function Je(){return!lt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Be(){return"object"==typeof indexedDB}function ht(){return new Promise((_e,j)=>{try{let G=!0;const X="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(X);K.onsuccess=()=>{K.result.close(),G||self.indexedDB.deleteDatabase(X),_e(!0)},K.onupgradeneeded=()=>{G=!1},K.onerror=()=>{var pe;j((null===(pe=K.error)||void 0===pe?void 0:pe.message)||"")}}catch(G){j(G)}})}function et(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Ft=()=>{try{return function qe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const _e=process.env.__FIREBASE_DEFAULTS__;return _e?JSON.parse(_e):void 0})()||(()=>{if(typeof document>"u")return;let _e;try{_e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=_e&&Ie(_e[1]);return j&&JSON.parse(j)})()}catch(_e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${_e}`)}},Gn=()=>{var _e;return null===(_e=Ft())||void 0===_e?void 0:_e.config},si=_e=>{var j;return null===(j=Ft())||void 0===j?void 0:j[`_${_e}`]};class Ln{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,G)=>{this.resolve=j,this.reject=G})}wrapCallback(j){return(G,X)=>{G?this.reject(G):this.resolve(X),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(G):j(G,X))}}}function tn(_e,j){if(_e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const X=j||"demo-project",K=_e.iat||0,pe=_e.sub||_e.user_id;if(!pe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Qe=Object.assign({iss:`https://securetoken.google.com/${X}`,aud:X,iat:K,exp:K+3600,auth_time:K,sub:pe,user_id:pe,firebase:{sign_in_provider:"custom",identities:{}}},_e);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(Qe)),""].join(".")}class Oe extends Error{constructor(j,G,X){super(G),this.code=j,this.customData=X,this.name="FirebaseError",Object.setPrototypeOf(this,Oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ve.prototype.create)}}class Ve{constructor(j,G,X){this.service=j,this.serviceName=G,this.errors=X}create(j,...G){const X=G[0]||{},K=`${this.service}/${j}`,pe=this.errors[j],Qe=pe?function Fe(_e,j){return _e.replace(Ye,(G,X)=>{const K=j[X];return null!=K?String(K):`<${X}?>`})}(pe,X):"Error";return new Oe(K,`${this.serviceName}: ${Qe} (${K}).`,X)}}const Ye=/\{\$([^}]+)}/g;function St(_e){return JSON.parse(_e)}function Xt(_e){return JSON.stringify(_e)}const Fn=function(_e){let j={},G={},X={},K="";try{const pe=_e.split(".");j=St(Ie(pe[0])||""),G=St(Ie(pe[1])||""),K=pe[2],X=G.d||{},delete G.d}catch{}return{header:j,claims:G,data:X,signature:K}},Tt=function(_e){const G=Fn(_e).claims;return!!G&&"object"==typeof G&&G.hasOwnProperty("iat")},Vt=function(_e){const j=Fn(_e).claims;return"object"==typeof j&&!0===j.admin};function Cn(_e,j){return Object.prototype.hasOwnProperty.call(_e,j)}function jt(_e,j){if(Object.prototype.hasOwnProperty.call(_e,j))return _e[j]}function Hn(_e){for(const j in _e)if(Object.prototype.hasOwnProperty.call(_e,j))return!1;return!0}function wn(_e,j,G){const X={};for(const K in _e)Object.prototype.hasOwnProperty.call(_e,K)&&(X[K]=j.call(G,_e[K],K,_e));return X}function mt(_e,j){if(_e===j)return!0;const G=Object.keys(_e),X=Object.keys(j);for(const K of G){if(!X.includes(K))return!1;const pe=_e[K],Qe=j[K];if(ee(pe)&&ee(Qe)){if(!mt(pe,Qe))return!1}else if(pe!==Qe)return!1}for(const K of X)if(!G.includes(K))return!1;return!0}function ee(_e){return null!==_e&&"object"==typeof _e}function le(_e){const j=[];for(const[G,X]of Object.entries(_e))Array.isArray(X)?X.forEach(K=>{j.push(encodeURIComponent(G)+"="+encodeURIComponent(K))}):j.push(encodeURIComponent(G)+"="+encodeURIComponent(X));return j.length?"&"+j.join("&"):""}function Ce(_e){const j={};return _e.replace(/^\?/,"").split("&").forEach(X=>{if(X){const[K,pe]=X.split("=");j[decodeURIComponent(K)]=decodeURIComponent(pe)}}),j}function ae(_e){const j=_e.indexOf("?");if(!j)return"";const G=_e.indexOf("#",j);return _e.substring(j,G>0?G:void 0)}class Le{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let j=1;j<this.blockSize;++j)this.pad_[j]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(j,G){G||(G=0);const X=this.W_;if("string"==typeof j)for(let je=0;je<16;je++)X[je]=j.charCodeAt(G)<<24|j.charCodeAt(G+1)<<16|j.charCodeAt(G+2)<<8|j.charCodeAt(G+3),G+=4;else for(let je=0;je<16;je++)X[je]=j[G]<<24|j[G+1]<<16|j[G+2]<<8|j[G+3],G+=4;for(let je=16;je<80;je++){const Ue=X[je-3]^X[je-8]^X[je-14]^X[je-16];X[je]=4294967295&(Ue<<1|Ue>>>31)}let fn,Ge,K=this.chain_[0],pe=this.chain_[1],Qe=this.chain_[2],Ct=this.chain_[3],dn=this.chain_[4];for(let je=0;je<80;je++){je<40?je<20?(fn=Ct^pe&(Qe^Ct),Ge=1518500249):(fn=pe^Qe^Ct,Ge=1859775393):je<60?(fn=pe&Qe|Ct&(pe|Qe),Ge=2400959708):(fn=pe^Qe^Ct,Ge=3395469782);const Ue=(K<<5|K>>>27)+fn+dn+Ge+X[je]&4294967295;dn=Ct,Ct=Qe,Qe=4294967295&(pe<<30|pe>>>2),pe=K,K=Ue}this.chain_[0]=this.chain_[0]+K&4294967295,this.chain_[1]=this.chain_[1]+pe&4294967295,this.chain_[2]=this.chain_[2]+Qe&4294967295,this.chain_[3]=this.chain_[3]+Ct&4294967295,this.chain_[4]=this.chain_[4]+dn&4294967295}update(j,G){if(null==j)return;void 0===G&&(G=j.length);const X=G-this.blockSize;let K=0;const pe=this.buf_;let Qe=this.inbuf_;for(;K<G;){if(0===Qe)for(;K<=X;)this.compress_(j,K),K+=this.blockSize;if("string"==typeof j){for(;K<G;)if(pe[Qe]=j.charCodeAt(K),++Qe,++K,Qe===this.blockSize){this.compress_(pe),Qe=0;break}}else for(;K<G;)if(pe[Qe]=j[K],++Qe,++K,Qe===this.blockSize){this.compress_(pe),Qe=0;break}}this.inbuf_=Qe,this.total_+=G}digest(){const j=[];let G=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let K=this.blockSize-1;K>=56;K--)this.buf_[K]=255&G,G/=256;this.compress_(this.buf_);let X=0;for(let K=0;K<5;K++)for(let pe=24;pe>=0;pe-=8)j[X]=this.chain_[K]>>pe&255,++X;return j}}function Dt(_e,j){const G=new Gt(_e,j);return G.subscribe.bind(G)}class Gt{constructor(j,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{j(this)}).catch(X=>{this.error(X)})}next(j){this.forEachObserver(G=>{G.next(j)})}error(j){this.forEachObserver(G=>{G.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,G,X){let K;if(void 0===j&&void 0===G&&void 0===X)throw new Error("Missing Observer.");K=function ln(_e,j){if("object"!=typeof _e||null===_e)return!1;for(const G of j)if(G in _e&&"function"==typeof _e[G])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:G,complete:X},void 0===K.next&&(K.next=Rn),void 0===K.error&&(K.error=Rn),void 0===K.complete&&(K.complete=Rn);const pe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),pe}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,j)}sendOne(j,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{G(this.observers[j])}catch(X){typeof console<"u"&&console.error&&console.error(X)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rn(){}const ai=function(_e,j,G,X){let K;if(X<j?K="at least "+j:X>G&&(K=0===G?"none":"no more than "+G),K)throw new Error(_e+" failed: Was called with "+X+(1===X?" argument.":" arguments.")+" Expects "+K+".")};function di(_e,j){return`${_e} failed: ${j} argument `}function kn(_e,j,G,X){if((!X||G)&&"function"!=typeof G)throw new Error(di(_e,j)+"must be a valid function.")}function Ai(_e,j,G,X){if((!X||G)&&("object"!=typeof G||null===G))throw new Error(di(_e,j)+"must be a valid context object.")}const Tn=function(_e){const j=[];let G=0;for(let X=0;X<_e.length;X++){let K=_e.charCodeAt(X);if(K>=55296&&K<=56319){const pe=K-55296;X++,N(X<_e.length,"Surrogate pair missing trail surrogate."),K=65536+(pe<<10)+(_e.charCodeAt(X)-56320)}K<128?j[G++]=K:K<2048?(j[G++]=K>>6|192,j[G++]=63&K|128):K<65536?(j[G++]=K>>12|224,j[G++]=K>>6&63|128,j[G++]=63&K|128):(j[G++]=K>>18|240,j[G++]=K>>12&63|128,j[G++]=K>>6&63|128,j[G++]=63&K|128)}return j},$t=function(_e){let j=0;for(let G=0;G<_e.length;G++){const X=_e.charCodeAt(G);X<128?j++:X<2048?j+=2:X>=55296&&X<=56319?(j+=4,G++):j+=3}return j};function it(_e,j=1e3,G=2){const X=j*Math.pow(G,_e),K=Math.round(.5*X*(Math.random()-.5)*2);return Math.min(144e5,X+K)}function Ht(_e){return _e&&_e._delegate?_e._delegate:_e}},2666:(gn,_t,k)=>{"use strict";k.r(_t),k.d(_t,{LayoutModule:()=>he});var m=k(6895),N=k(7868),v=k(4650),ne=k(2654),C=k(6053),J=k(4006),De=k(9444),fe=k(5938),Ie=k(2796),ce=k(591),ge=k(8929),be=k(4850),Ne=k(4941),Ke=k(986),lt=k(7185);let He=(()=>{class le{constructor(ae,Le,Dt,Gt){this.afs=ae,this.afAuth=Le,this.authService=Dt,this.toastr=Gt,this.userId=this.authService.getUid(),this.searchItem=new ce.X(""),this.taskItem$=new ge.xQ,this.taskFiltered$=new ge.xQ}addTask(ae){return new Promise((Le,Dt)=>{this.getTasks().subscribe(Gt=>{Gt.unshift(ae),this.afs.doc(`users/${this.userId}`).set({tasks:Gt},{mergeFields:["tasks"]}).then(()=>Le()).catch(()=>Dt())})})}doneTask(ae,Le){return new Promise((Dt,Gt)=>{this.getTasks().subscribe(nn=>{const ln=nn.find(ai=>ai.id===ae);ln&&(ln.isDone=Le),this.afs.doc(`users/${this.userId}`).set({tasks:nn},{mergeFields:["tasks"]}).then(()=>Dt()).catch(()=>Gt())})})}updateTask(ae,Le,Dt){return new Promise((Gt,nn)=>{this.getTasks().subscribe(ln=>{const Rn=ln.find(di=>di.id===ae);Rn&&Le&&(Rn.title=Le),Rn&&Dt&&(Rn.description=Dt),this.afs.doc(`users/${this.userId}`).set({tasks:ln},{mergeFields:["tasks"]}).then(()=>Gt()).catch(()=>nn())})})}getLiveTasks(){return this.afs.doc(`users/${this.userId}`).snapshotChanges().pipe((0,be.U)(ae=>ae.payload.data().tasks?ae.payload.data().tasks:[]))}updateAll(ae){return new Promise((Le,Dt)=>{this.afs.doc(`users/${this.userId}`).set({tasks:ae},{mergeFields:["tasks"]}).then(()=>Le()).catch(()=>Dt())})}getTasks(){return this.afs.doc(`users/${this.userId}`).get({source:"default"}).pipe((0,be.U)(Le=>Le.data().tasks?Le.data().tasks:[]))}search(ae){return this.searchItem.next(ae)}removeTask(ae){return new Promise((Le,Dt)=>{this.getTasks().subscribe(Gt=>{Gt=Gt.filter(ln=>ln.id!==ae),this.afs.doc(`users/${this.userId}`).set({tasks:Gt},{mergeFields:["tasks"]}).then(()=>Le()).catch(()=>Dt())})})}bookMarkTask(ae,Le){return new Promise((Dt,Gt)=>{this.getTasks().subscribe(nn=>{const ln=nn.find(ai=>ai.id===ae);ln&&(ln.isBookmark=Le),this.afs.doc(`users/${this.userId}`).set({tasks:nn},{mergeFields:["tasks"]}).then(()=>Dt()).catch(()=>Gt())})})}setTask(ae){this.taskItem$.next(ae)}setTaskFiltered(ae){this.taskFiltered$.next(ae)}}return le.\u0275fac=function(ae){return new(ae||le)(v.LFG(Ie.ST),v.LFG(Ne.zQ),v.LFG(Ke.e),v.LFG(lt._W))},le.\u0275prov=v.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})();var ot=k(9549),pt=k(4144);const Ut=function(le){return{color:le,fontsize:"12px"}};function ut(le,Ce){if(1&le&&(v.TgZ(0,"mat-label",0),v._uU(1),v.qZA()),2&le){const ae=v.oxw();v.Q6J("ngStyle",v.VKq(2,Ut,ae.labelColor)),v.xp6(1),v.Oqu(ae.label)}}function kt(le,Ce){if(1&le&&(v.TgZ(0,"mat-error"),v._uU(1),v.qZA()),2&le){const ae=v.oxw();v.xp6(1),v.Oqu(ae.getErrorMessages(null==ae.formControl?null:ae.formControl.errors))}}const vt=function(le){return{"font-size":le}};let Je=(()=>{class le{constructor(ae){this._renderer=ae,this.formControl=new J.NI,this.fontSizePx="12",this.name="",this.label="",this.appearance="outline",this.labelColor="#484848",this.borderDefaultColor="#e2e2e2",this.borderSelectColor="blue",this.disabledBackgroundColor="#f8f8f8",this.borderWidthPx="1",this.required=!1,this.withLabel=!0,this.placeholder="",this.showUnderlineErrorContainer=!0,this.isDisabled=!1,this.errorMessages={}}writeValue(ae){this.matInputValue=ae}registerOnChange(ae){this.onMatInputChange=ae}registerOnTouched(ae){this.onInputClicked=ae}setDisabledState(ae){this.isDisabled=ae}onMatInputChange(ae){this.matInputValue=ae}onInputClicked(ae){}getErrorMessages(ae){return this.errorMessages[Object.keys(ae)[0]]}ngAfterViewInit(){let ae=document.querySelector("."+this.name+" .mat-form-field-appearance-outline .mat-form-field-outline");this._renderer.setStyle(ae,"color",this.borderDefaultColor),ae=document.querySelector("."+this.name+" .mat-form-field-appearance-outline .mat-form-field-outline-thick"),this._renderer.setStyle(ae,"color",this.borderDefaultColor),document.querySelectorAll("."+this.name+" .mat-form-field-flex .mat-form-field-outline *").forEach(Dt=>{this._renderer.setStyle(Dt,"border-width",this.borderWidthPx+"px")}),ae=document.querySelector("."+this.name+" .mat-form-field-wrapper"),!this.showUnderlineErrorContainer&&this._renderer.setStyle(ae,"padding-bottom","0px")}ngAfterViewChecked(){let ae=document.querySelector("."+this.name+" .mat-form-field-appearance-outline.ng-invalid.ng-touched .mat-form-field-outline-thick");if(ae&&this._renderer.setStyle(ae,"opacity",1),ae&&this._renderer.setStyle(ae,"color",this.borderDefaultColor,v.JOm.Important),ae=document.querySelector("."+this.name+" .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick"),ae&&this._renderer.setStyle(ae,"color",this.borderSelectColor),ae=document.querySelector("."+this.name+" .mat-form-field-appearance-outline.ng-valid.ng-touched .mat-form-field-outline-thick"),ae&&this._renderer.setStyle(ae,"opacity",1),ae&&this._renderer.setStyle(ae,"color",this.borderDefaultColor,v.JOm.Important),this.isDisabled){document.querySelectorAll("."+this.name+" .mat-form-field-flex .mat-form-field-outline *").forEach(Gt=>{this._renderer.setStyle(Gt,"background-color",this.disabledBackgroundColor)});const Dt=document.querySelector("."+this.name+" .mat-form-field-appearance-outline .mat-input-element:disabled");this._renderer.setStyle(Dt,"color","unset")}}ngOnInit(){}ngOnDestroy(){}}return le.\u0275fac=function(ae){return new(ae||le)(v.Y36(v.Qsj))},le.\u0275cmp=v.Xpm({type:le,selectors:[["app-custom-input"]],inputs:{formControl:"formControl",fontSizePx:"fontSizePx",name:"name",label:"label",appearance:"appearance",labelColor:"labelColor",borderDefaultColor:"borderDefaultColor",borderSelectColor:"borderSelectColor",disabledBackgroundColor:"disabledBackgroundColor",borderWidthPx:"borderWidthPx",required:"required",withLabel:"withLabel",placeholder:"placeholder",showUnderlineErrorContainer:"showUnderlineErrorContainer",isDisabled:"isDisabled",errorMessages:"errorMessages"},features:[v._Bn([{provide:J.JU,useExisting:(0,v.Gpc)(()=>le),multi:!0}])],decls:6,vars:13,consts:[[3,"ngStyle"],[2,"width","100%",3,"appearance"],[3,"ngStyle",4,"ngIf"],["matInput","","type","text",3,"placeholder","value","formControl","required","disabled","change","click"],[4,"ngIf"]],template:function(ae,Le){1&ae&&(v.TgZ(0,"div")(1,"div",0)(2,"mat-form-field",1),v.YNc(3,ut,2,4,"mat-label",2),v.TgZ(4,"input",3),v.NdJ("change",function(Gt){return Le.onMatInputChange(Gt.target.value)})("click",function(Gt){return Le.onInputClicked(Gt)}),v.qZA(),v.YNc(5,kt,2,1,"mat-error",4),v.qZA()()()),2&ae&&(v.Tol(Le.name),v.xp6(1),v.Q6J("ngStyle",v.VKq(11,vt,Le.fontSizePx+"px")),v.xp6(1),v.Q6J("appearance",Le.appearance),v.xp6(1),v.Q6J("ngIf",Le.withLabel),v.xp6(1),v.Q6J("placeholder",Le.placeholder)("value",Le.matInputValue)("formControl",Le.formControl)("required",Le.required)("disabled",Le.isDisabled),v.xp6(1),v.Q6J("ngIf",null==Le.formControl?null:Le.formControl.errors))},dependencies:[m.O5,m.PC,J.Fj,J.JJ,J.Q7,J.oH,ot.TO,ot.KE,ot.hX,pt.Nt],styles:[".mat-form-field-appearance-outline.mat-focused .mat-form-field-label{transform:translateY(-1.29375em) scale(.75)!important;top:1.70375em}  .mat-form-field-flex .mat-form-field-infix{padding:.4em 0 .7em}  .mat-form-field-flex .mat-form-field-infix input{margin-right:5px;height:100%}  .mat-form-field-flex .mat-form-field-infix input::-moz-placeholder{color:currentColor}  .mat-form-field-flex .mat-form-field-infix input::placeholder{color:currentColor}  .mat-form-field-flex .mat-form-field-infix .mat-form-field-label{font-size:inherit;top:1.40375em;transform:translateY(-1.29375em) scale(.75)!important}  .mat-form-field-flex .mat-form-field-infix .mat-form-field-label span{margin-left:3px;color:#f44336;font-size:16px}  .mat-form-field-appearance-outline.mat-form-field-hide-placeholder .mat-form-field-label{transform:none!important;transform:initial!important}  .mat-form-field-wrapper{padding-bottom:0}  mat-label{font-size:16px!important;color:var(--text-color)!important}input[_ngcontent-%COMP%]{color:var(--text-color)!important}"]}),le})();const Be=function(le){return{color:le}};function ht(le,Ce){if(1&le&&(v.TgZ(0,"mat-label",0),v._uU(1),v.qZA()),2&le){const ae=v.oxw();v.Q6J("ngStyle",v.VKq(2,Be,ae.labelColor)),v.xp6(1),v.Oqu(ae.label)}}function et(le,Ce){if(1&le&&(v.TgZ(0,"mat-error"),v._uU(1),v.qZA()),2&le){const ae=v.oxw();v.xp6(1),v.Oqu(ae.getErrorMessages(null==ae.formControl?null:ae.formControl.errors))}}const qe=function(le){return{"font-size":le}};let Pt=(()=>{class le{constructor(ae){this._renderer=ae,this.formControl=new J.NI,this.fontSizePx="14",this.name="",this.label="",this.appearance="outline",this.labelColor="#484848",this.borderDefaultColor="#e2e2e2",this.borderSelectColor="blue",this.disabledBackgroundColor="#f8f8f8",this.borderWidthPx="1",this.required=!1,this.withLabel=!0,this.placeholder="",this.showUnderlineErrorContainer=!0,this.isDisabled=!1,this.errorMessages={}}writeValue(ae){this.matInputValue=ae}registerOnChange(ae){this.onMatInputChange=ae}registerOnTouched(ae){this.onInputClicked=ae}setDisabledState(ae){this.isDisabled=ae}onMatInputChange(ae){this.matInputValue=ae}onInputClicked(ae){}getErrorMessages(ae){return this.errorMessages[Object.keys(ae)[0]]}ngAfterViewInit(){let ae=document.querySelector("."+this.name+" .mat-form-field-appearance-outline .mat-form-field-outline");this._renderer.setStyle(ae,"color",this.borderDefaultColor),ae=document.querySelector("."+this.name+" .mat-form-field-appearance-outline .mat-form-field-outline-thick"),this._renderer.setStyle(ae,"color",this.borderDefaultColor),document.querySelectorAll("."+this.name+" .mat-form-field-flex .mat-form-field-outline *").forEach(Dt=>{this._renderer.setStyle(Dt,"border-width",this.borderWidthPx+"px")}),ae=document.querySelector("."+this.name+" .mat-form-field-wrapper"),!this.showUnderlineErrorContainer&&this._renderer.setStyle(ae,"padding-bottom","0px")}ngAfterViewChecked(){let ae;if(ae=document.querySelector("."+this.name+" .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick"),ae&&this._renderer.setStyle(ae,"color",this.borderSelectColor),this.isDisabled){document.querySelectorAll("."+this.name+" .mat-form-field-flex .mat-form-field-outline *").forEach(Gt=>{this._renderer.setStyle(Gt,"background-color",this.disabledBackgroundColor)});const Dt=document.querySelector("."+this.name+" .mat-form-field-appearance-outline .mat-input-element:disabled");this._renderer.setStyle(Dt,"color","unset")}}ngOnInit(){}ngOnDestroy(){}}return le.\u0275fac=function(ae){return new(ae||le)(v.Y36(v.Qsj))},le.\u0275cmp=v.Xpm({type:le,selectors:[["app-custom-text-area"]],inputs:{formControl:"formControl",fontSizePx:"fontSizePx",name:"name",label:"label",appearance:"appearance",labelColor:"labelColor",borderDefaultColor:"borderDefaultColor",borderSelectColor:"borderSelectColor",disabledBackgroundColor:"disabledBackgroundColor",borderWidthPx:"borderWidthPx",required:"required",withLabel:"withLabel",placeholder:"placeholder",showUnderlineErrorContainer:"showUnderlineErrorContainer",isDisabled:"isDisabled",errorMessages:"errorMessages"},features:[v._Bn([{provide:J.JU,useExisting:(0,v.Gpc)(()=>le),multi:!0}])],decls:7,vars:13,consts:[[3,"ngStyle"],[2,"width","100%","height","130px",3,"appearance"],[3,"ngStyle",4,"ngIf"],["matInput","","type","text",3,"placeholder","value","formControl","required","disabled","change","click"],[4,"ngIf"]],template:function(ae,Le){1&ae&&(v.TgZ(0,"div")(1,"div",0)(2,"mat-form-field",1),v.YNc(3,ht,2,4,"mat-label",2),v.TgZ(4,"textarea",3),v.NdJ("change",function(Gt){return Le.onMatInputChange(Gt.target.value)})("click",function(Gt){return Le.onInputClicked(Gt)}),v._uU(5,"            "),v.qZA(),v.YNc(6,et,2,1,"mat-error",4),v.qZA()()()),2&ae&&(v.Tol(Le.name),v.xp6(1),v.Q6J("ngStyle",v.VKq(11,qe,Le.fontSizePx+"px")),v.xp6(1),v.Q6J("appearance",Le.appearance),v.xp6(1),v.Q6J("ngIf",Le.withLabel),v.xp6(1),v.Q6J("placeholder",Le.placeholder)("value",Le.matInputValue)("formControl",Le.formControl)("required",Le.required)("disabled",Le.isDisabled),v.xp6(2),v.Q6J("ngIf",null==Le.formControl?null:Le.formControl.errors))},dependencies:[m.O5,m.PC,J.Fj,J.JJ,J.Q7,J.oH,ot.TO,ot.KE,ot.hX,pt.Nt],styles:[".mat-form-field-appearance-outline.mat-focused .mat-form-field-label{transform:translateY(-1.29375em) scale(.75)!important;top:1.70375em}  .mat-form-field-flex .mat-form-field-infix{padding:.4em 0 .7em}  .mat-form-field-flex .mat-form-field-infix input{margin-right:5px}  .mat-form-field-flex .mat-form-field-infix input::-moz-placeholder{color:currentColor}  .mat-form-field-flex .mat-form-field-infix input::placeholder{color:currentColor}  .mat-form-field-flex .mat-form-field-infix .mat-form-field-label{font-size:inherit;top:1.40375em;transform:translateY(-1.29375em) scale(.75)!important}  .mat-form-field-flex .mat-form-field-infix .mat-form-field-label span{margin-left:3px;color:#f44336}  .mat-form-field-appearance-outline.mat-form-field-hide-placeholder .mat-form-field-label{transform:none!important;transform:initial!important}  .mat-form-field-wrapper{padding-bottom:0}textarea[_ngcontent-%COMP%]{width:100%;height:120px;resize:none!important}"]}),le})(),ze=(()=>{class le{constructor(ae,Le,Dt,Gt,nn){this.db=ae,this.taskService=Le,this.formBuilder=Dt,this.dialogRef=Gt,this.data=nn}ngOnInit(){this.createForm(),this.data.task&&this.formGroup.patchValue({title:this.data?.task?.title,description:this.data?.task?.description})}createForm(){this.formGroup=new J.cw({title:new J.NI(null,[J.kI.required]),description:new J.NI(null)})}reset(){this.dialogRef.close(!1)}onSubmit(ae){if(this?.data?.task)this.taskService.updateTask(this?.data?.task?.id,ae?.title,ae?.description).then(()=>{this.dialogRef.close()}).finally(()=>{});else{const Le={title:ae.title,description:ae.description,isBookmark:!1,isDone:!1,creationDate:Date.now(),id:(0,De.v4)()};this.taskService.addTask(Le).then(()=>{this.dialogRef.close()}).finally(()=>{})}}}return le.\u0275fac=function(ae){return new(ae||le)(v.Y36(Ie.ST),v.Y36(He),v.Y36(J.qu),v.Y36(fe.so),v.Y36(fe.WI))},le.\u0275cmp=v.Xpm({type:le,selectors:[["app-create-item"]],decls:11,vars:8,consts:function(){let Ce,ae;return Ce="close",ae=" Add ",[[1,"dialog-header"],["src","./assets/images/close.svg","alt",Ce],[1,"dialog-content"],[1,"form",3,"formGroup","ngSubmit"],["formControlName","title",1,"margin-input-title",3,"name","label","formControl"],["formControlName","description",1,"margin-input",3,"formControl","name","label"],[1,"action"],["type","button",1,"border","border-indigo-500","bg-indigo-500","text-white","rounded-md","px-4","py-2","m-2","transition","duration-500","ease","select-none","hover:bg-indigo-600","focus:outline-none","focus:shadow-outline",3,"disabled","click"],ae,["type","button",1,"border","border-red-500","bg-red-500","text-white","rounded-md","px-4","py-2","m-2","transition","duration-500","ease","select-none","hover:bg-red-600","focus:outline-none","focus:shadow-outline"]]},template:function(ae,Le){1&ae&&(v.TgZ(0,"div",0),v._UZ(1,"img",1),v.qZA(),v.TgZ(2,"mat-dialog-content",2)(3,"form",3),v.NdJ("ngSubmit",function(){return Le.onSubmit(Le.formGroup.value)}),v._UZ(4,"app-custom-input",4)(5,"app-custom-text-area",5),v.qZA(),v.TgZ(6,"div",6)(7,"button",7),v.NdJ("click",function(){return Le.onSubmit(Le.formGroup.value)}),v.SDv(8,8),v.qZA(),v.TgZ(9,"button",9),v._uU(10," Cancel "),v.qZA()()()),2&ae&&(v.xp6(3),v.Q6J("formGroup",Le.formGroup),v.xp6(1),v.Q6J("name","title")("label","title")("formControl",Le.formGroup.controls.title),v.xp6(1),v.Q6J("formControl",Le.formGroup.controls.description)("name","description")("label","description"),v.xp6(2),v.Q6J("disabled",!Le.formGroup.valid))},dependencies:[J._Y,J.JJ,J.JL,J.oH,J.sg,J.u,fe.xY,Je,Pt],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]{height:40px;background-color:#324458;display:flex;justify-content:flex-end;align-items:center;padding-bottom:3px}[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{color:#fff!important;width:20px;margin-left:15px;cursor:pointer}[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#fff!important}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:10px!important}  .mat-dialog-container{padding:0;background-color:var(--card-item)!important;overflow:hidden}"]}),le})();var At=k(3977),Ft=k(3336);let yn=(()=>{class le{constructor(ae){this.dialogRef=ae}ngOnInit(){}submit(){this.dialogRef.close(!0)}reset(){this.dialogRef.close(!1)}}return le.\u0275fac=function(ae){return new(ae||le)(v.Y36(fe.so))},le.\u0275cmp=v.Xpm({type:le,selectors:[["app-dialog-confirm"]],decls:15,vars:0,consts:[[1,"dialog-header"],["mat-dialog-close",""],[1,"dialog-content"],[1,"dialog-container"],["src","./assets/images/error.svg","alt",""],[1,"dialog-title"],[1,"dialog-action"],[1,"py-2","mr-4","w-40","px-4","bg-blue-600","text-white","font-semibold","border","border-blue-600","rounded","hover:bg-white","hover:text-blue-600","hover:border-blue-600",3,"click"],[1,"py-2","px-4","w-40","bg-transparent","text-red-600","font-semibold","border","border-red-600","rounded","hover:bg-red-600","hover:text-white","hover:border-transparent",3,"click"]],template:function(ae,Le){1&ae&&(v.TgZ(0,"div",0)(1,"mat-icon",1),v._uU(2,"x"),v.qZA()(),v.TgZ(3,"div",2)(4,"div",3),v._UZ(5,"img",4),v.TgZ(6,"span",5),v._uU(7,"Are You Sure ?"),v.qZA(),v.TgZ(8,"div",6)(9,"div")(10,"button",7),v.NdJ("click",function(){return Le.submit()}),v._uU(11,"Yes "),v.qZA()(),v.TgZ(12,"div")(13,"button",8),v.NdJ("click",function(){return Le.reset()}),v._uU(14,"Cancel "),v.qZA()()()()())},dependencies:[Ft.Hw,fe.ZT],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]{height:40px;background-color:#324458;display:flex;justify-content:flex-end;align-items:center;padding-bottom:3px}[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;margin-left:15px;cursor:pointer;-webkit-appearance:initial}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]{display:flex;min-height:200px;position:relative;width:550px;overflow:auto;bottom:0;margin:20px 0}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-weight:700;font-stretch:normal;font-style:normal;line-height:5;letter-spacing:normal;text-align:right;color:#d80612}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-action[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-action[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{padding:0 48px;margin-left:10px}  .mat-dialog-container{padding:0;background-color:var(--card-item)!important}"]}),le})();var $n=k(8242);let Gn=(()=>{class le{constructor(ae){this.bottomSheetRef=ae}ngOnInit(){}submit(){this.bottomSheetRef.dismiss(!0)}reset(){this.bottomSheetRef.dismiss(!1)}}return le.\u0275fac=function(ae){return new(ae||le)(v.Y36($n.oL))},le.\u0275cmp=v.Xpm({type:le,selectors:[["app-confirm-bottom-sheet"]],decls:13,vars:0,consts:function(){let Ce,ae,Le;return Ce="\u0627\u06CC\u0627 \u0645\u0637\u0645\u06CC\u0646\u06CC\u062F\u061F",ae="\u0628\u0644\u0647",Le="\u0627\u0646\u0635\u0631\u0627\u0641",[[1,"bottom-sheet-container"],[1,"dialog-content"],[1,"remove-container"],["src","./assets/images/error.svg","alt",""],Ce,[1,"bottom-sheet-action"],["type","button",1,"border","border-indigo-500","bg-indigo-500","text-white","rounded-md","px-4","py-2","m-2","transition","duration-500","ease","select-none","hover:bg-indigo-600","focus:outline-none","focus:shadow-outline",3,"click"],ae,["type","button",1,"border","border-red-500","bg-red-500","text-white","rounded-md","px-4","py-2","m-2","transition","duration-500","ease","select-none","hover:bg-red-600","focus:outline-none","focus:shadow-outline",3,"click"],Le,["container",""]]},template:function(ae,Le){1&ae&&(v.TgZ(0,"div",0)(1,"div",1)(2,"div",2),v._UZ(3,"img",3),v.TgZ(4,"span"),v.SDv(5,4),v.qZA(),v.TgZ(6,"div",5)(7,"button",6),v.NdJ("click",function(){return Le.submit()}),v.SDv(8,7),v.qZA(),v.TgZ(9,"button",8),v.NdJ("click",function(){return Le.reset()}),v.SDv(10,9),v.qZA()()(),v._UZ(11,"template",null,10),v.qZA()())},styles:[".mat-bottom-sheet-container{border-radius:5px 5px 0 0;min-height:256px;max-height:256px;background-color:var(--bg-secondary)}[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;position:relative;width:100%;overflow:auto}.bottom-sheet-container[_ngcontent-%COMP%]{padding:5px;position:relative}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding-top:20px;overflow:hidden!important}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .remove-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .remove-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:68.2px;height:64.3px}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .remove-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:700;font-stretch:normal;font-style:normal;line-height:5.29;letter-spacing:normal;text-align:right;color:#d80612}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .remove-container[_ngcontent-%COMP%]   .bottom-sheet-action[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:10px;width:100%}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .remove-container[_ngcontent-%COMP%]   .bottom-sheet-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50%}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .remove-container[_ngcontent-%COMP%]   .bottom-sheet-action[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{padding:0 48px;margin-left:10px}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .remove-container[_ngcontent-%COMP%]   .bottom-sheet-action[_ngcontent-%COMP%]   .reset[_ngcontent-%COMP%]{padding:0 19px}"]}),le})(),si=(()=>{class le{constructor(ae,Le,Dt){this.taskService=ae,this.bottomSheetRef=Le,this.data=Dt,this.isEdit=!1}ngOnInit(){this.createForm(),this.data.task&&(this.isEdit=!0,this.formGroup.patchValue({title:this.data?.task?.title,description:this.data?.task?.description}))}createForm(){this.formGroup=new J.cw({title:new J.NI(null,[J.kI.required]),description:new J.NI(null)})}cancel(){this.bottomSheetRef.dismiss()}onSubmit(ae){if(this?.data?.task)this.taskService.updateTask(this?.data?.task?.id,ae?.title,ae?.description).then(()=>{this.bottomSheetRef.dismiss()}).finally(()=>{});else{const Le={title:ae.title,description:ae.description,isBookmark:!1,isDone:!1,creationDate:Date.now(),id:(0,De.v4)()};console.log(Le),this.taskService.addTask(Le).then(()=>{this.bottomSheetRef.dismiss()}).finally(()=>{})}}}return le.\u0275fac=function(ae){return new(ae||le)(v.Y36(He),v.Y36($n.oL),v.Y36($n.OG))},le.\u0275cmp=v.Xpm({type:le,selectors:[["app-create-item-bottom-sheet"]],decls:15,vars:10,consts:function(){let Ce,ae;return Ce="" + "\ufffd0\ufffd" + "",ae=" " + "\ufffd0\ufffd" + " ",[[1,"bottom-sheet-container"],[1,"bottom-sheet-top-line"],[1,"dialog-content"],[1,"bottom-sheet-title"],Ce,[1,"bottom-sheet-content"],[1,"form",3,"formGroup"],["formControlName","title",1,"margin-input-title",3,"name","label","formControl"],["formControlName","description",1,"margin-input",3,"formControl","name","label"],[1,"action"],["type","button",1,"border","border-indigo-500","bg-indigo-500","text-white","rounded-md","px-4","py-2","m-2","transition","duration-500","ease","select-none","hover:bg-indigo-600","focus:outline-none","focus:shadow-outline",3,"disabled","click"],ae,["type","button",1,"border","border-red-500","bg-red-500","text-white","rounded-md","px-4","py-2","m-2","transition","duration-500","ease","select-none","hover:bg-red-600","focus:outline-none","focus:shadow-outline",3,"click"]]},template:function(ae,Le){1&ae&&(v.TgZ(0,"div",0)(1,"div",1),v._UZ(2,"span"),v.qZA(),v.TgZ(3,"div",2)(4,"span",3),v.SDv(5,4),v.qZA(),v.TgZ(6,"div",5)(7,"form",6),v._UZ(8,"app-custom-input",7)(9,"app-custom-text-area",8),v.TgZ(10,"div",9)(11,"button",10),v.NdJ("click",function(){return Le.onSubmit(Le.formGroup.value)}),v.SDv(12,11),v.qZA(),v.TgZ(13,"button",12),v.NdJ("click",function(){return Le.cancel()}),v._uU(14," Cancel "),v.qZA()()()()()()),2&ae&&(v.xp6(5),v.pQV(Le.isEdit?"Edit Task":"Create Task"),v.QtT(5),v.xp6(2),v.Q6J("formGroup",Le.formGroup),v.xp6(1),v.Q6J("name","title")("label","title")("formControl",Le.formGroup.controls.title),v.xp6(1),v.Q6J("formControl",Le.formGroup.controls.description)("name","description")("label","description"),v.xp6(2),v.Q6J("disabled",!Le.formGroup.valid),v.xp6(1),v.pQV(Le.isEdit?"Edit":"Add"),v.QtT(12))},dependencies:[J._Y,J.JJ,J.JL,J.oH,J.sg,J.u,Je,Pt],styles:[".mat-bottom-sheet-container{border-radius:5px 5px 0 0;min-height:40vh;background-color:var(--bg-secondary)}[_nghost-%COMP%]{display:block;border:3px solid var(--primary)}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;min-height:150px;position:relative;width:100%;overflow:auto}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .bottom-sheet-title[_ngcontent-%COMP%]{text-align:center;font-size:22px;font-weight:700}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .bottom-sheet-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .bottom-sheet-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:96%;margin-top:25px}.bottom-sheet-container[_ngcontent-%COMP%]{padding:5px;position:relative}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{min-height:40vh;padding-top:20px;overflow:hidden!important}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;margin-top:40px}.bottom-sheet-container[_ngcontent-%COMP%]   .bottom-sheet-top-line[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.bottom-sheet-container[_ngcontent-%COMP%]   .bottom-sheet-top-line[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:10px;background:#707070;height:1.5px;width:25%}"]}),le})();var Ln=k(3546);let tn=(()=>{class le{constructor(ae){this.taskService=ae,this.done=new v.vpe,this.bookMark=new v.vpe,this.remove=new v.vpe,this.edit=new v.vpe}onDone(){this.done.emit()}onRemove(){this.remove.emit()}onBookMark(){this.bookMark.emit()}onEdit(){this.edit.emit()}getTask(ae){this.taskService.setTask(ae)}}return le.\u0275fac=function(ae){return new(ae||le)(v.Y36(He))},le.\u0275cmp=v.Xpm({type:le,selectors:[["app-to-do-item"]],inputs:{task:"task"},outputs:{done:"done",bookMark:"bookMark",remove:"remove",edit:"edit"},decls:17,vars:6,consts:[[1,"task-item__container",3,"click"],[1,"task-item__content"],[1,"checkbox-container",3,"ngClass"],["type","checkbox",3,"checked","value","change"],[1,"checkmark"],[1,"task-description"],[1,"action"],[1,"bookmark",3,"click"],[3,"src"],[1,"btn-action"],[3,"click"],["src","./assets/images/edit.svg"],["src","./assets/images/trash.svg"]],template:function(ae,Le){1&ae&&(v.TgZ(0,"div",0),v.NdJ("click",function(){return Le.getTask(Le.task)}),v.TgZ(1,"mat-card")(2,"div",1)(3,"label",2),v._uU(4),v.TgZ(5,"input",3),v.NdJ("change",function(){return Le.onDone()}),v.qZA(),v._UZ(6,"span",4),v.qZA(),v.TgZ(7,"p",5),v._uU(8),v.qZA()(),v.TgZ(9,"div",6)(10,"div",7),v.NdJ("click",function(){return Le.onBookMark()}),v._UZ(11,"img",8),v.qZA(),v.TgZ(12,"div",9)(13,"button",10),v.NdJ("click",function(){return Le.onEdit()}),v._UZ(14,"img",11),v.qZA(),v.TgZ(15,"button",10),v.NdJ("click",function(){return Le.onRemove()}),v._UZ(16,"img",12),v.qZA()()()()()),2&ae&&(v.xp6(3),v.Q6J("ngClass",Le.task.isDone?"completed":"unCompleted"),v.xp6(1),v.hij("",null==Le.task?null:Le.task.title," "),v.xp6(1),v.Q6J("checked",Le.task.isDone)("value",Le.task.isDone),v.xp6(3),v.Oqu(null==Le.task?null:Le.task.description),v.xp6(3),v.Q6J("src",Le.task.isBookmark?"./assets/images/blue-star.png":"./assets/images/bookmark.svg",v.LSH))},dependencies:[m.mk,Ln.a8],styles:[".task-item__container[_ngcontent-%COMP%]{margin-bottom:10px;display:flex;flex-direction:column;gap:8px}.task-item__container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px;background-color:var(--card-item)}.task-item__container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:end}.task-item__container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .bookmark[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px!important;cursor:pointer!important}.task-item__container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{display:flex;margin-top:10px}.task-item__container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:21px}.task-item__content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.task-item__content[_ngcontent-%COMP%]   .task-description[_ngcontent-%COMP%]{font-weight:100}.task-item__content[_ngcontent-%COMP%]   .completed[_ngcontent-%COMP%]{text-decoration:line-through}.task-item__content[_ngcontent-%COMP%]   .unCompleted[_ngcontent-%COMP%]{text-decoration:none}.task-item__content[_ngcontent-%COMP%]   .task-description[_ngcontent-%COMP%]{font-size:16px;margin-left:35px}"]}),le})();var mn=k(7331);let Oe=(()=>{class le{constructor(ae){this.taskService=ae}ngOnInit(){this.taskService.getLiveTasks().subscribe(ae=>{this.tasks=ae,this.totalCount=ae.length,this.bookmarkCount=ae.filter(Le=>Le.isBookmark).length,this.doneCount=ae.filter(Le=>Le.isDone).length,this.ongoingCount=this.totalCount-this.doneCount})}getAllTask(){this.taskService.setTaskFiltered(this.tasks)}getBookmarkTask(){const ae=this.tasks.filter(Le=>!0===Le.isBookmark);this.taskService.setTaskFiltered(ae)}getCompletedTask(){const ae=this.tasks.filter(Le=>!0===Le.isDone);this.taskService.setTaskFiltered(ae)}getUnCompletedTask(){const ae=this.tasks.filter(Le=>!1===Le.isDone);this.taskService.setTaskFiltered(ae)}}return le.\u0275fac=function(ae){return new(ae||le)(v.Y36(He))},le.\u0275cmp=v.Xpm({type:le,selectors:[["app-filter-box"]],decls:18,vars:4,consts:function(){let Ce,ae,Le,Dt;return Ce="" + "\ufffd#5\ufffd" + "" + "\ufffd0\ufffd" + "" + "\ufffd/#5\ufffd" + " All",ae="" + "\ufffd#9\ufffd" + "" + "\ufffd0\ufffd" + "" + "\ufffd/#9\ufffd" + " Star",Le="" + "\ufffd#13\ufffd" + "" + "\ufffd0\ufffd" + "" + "\ufffd/#13\ufffd" + "Completed",Dt="" + "\ufffd#17\ufffd" + "" + "\ufffd0\ufffd" + "" + "\ufffd/#17\ufffd" + " OnGoing",[[1,"filter-container"],["aria-label","task filter selection"],[3,"click"],Ce,["matChipAvatar","",1,"task-count"],["color","primary",3,"click"],ae,["color","accent",3,"click"],Le,Dt]},template:function(ae,Le){1&ae&&(v.TgZ(0,"div",0)(1,"mat-chip-list",1)(2,"mat-chip",2),v.NdJ("click",function(){return Le.getAllTask()}),v.ynx(3),v.tHW(4,3),v._UZ(5,"span",4),v.N_p(),v.BQk(),v.qZA(),v.TgZ(6,"mat-chip",5),v.NdJ("click",function(){return Le.getBookmarkTask()}),v.ynx(7),v.tHW(8,6),v._UZ(9,"span",4),v.N_p(),v.BQk(),v.qZA(),v.TgZ(10,"mat-chip",7),v.NdJ("click",function(){return Le.getCompletedTask()}),v.ynx(11),v.tHW(12,8),v._UZ(13,"span",4),v.N_p(),v.BQk(),v.qZA(),v.TgZ(14,"mat-chip",7),v.NdJ("click",function(){return Le.getUnCompletedTask()}),v.ynx(15),v.tHW(16,9),v._UZ(17,"span",4),v.N_p(),v.BQk(),v.qZA()()()),2&ae&&(v.xp6(5),v.pQV(Le.totalCount),v.QtT(4),v.xp6(4),v.pQV(Le.bookmarkCount),v.QtT(8),v.xp6(4),v.pQV(Le.doneCount),v.QtT(12),v.xp6(4),v.pQV(Le.ongoingCount),v.QtT(16))},dependencies:[mn.qn,mn.HS,mn.EC],styles:[".filter-container[_ngcontent-%COMP%]{background-color:var(--bg-secondary)!important;margin:10px 0}@media screen and (max-width: 959px){.filter-container[_ngcontent-%COMP%]{margin:0 0 10px}}.filter-container[_ngcontent-%COMP%]   .task-count[_ngcontent-%COMP%]{background-color:#00f;color:#fff!important}mat-chip[_ngcontent-%COMP%]{min-width:100px!important;display:flex;justify-content:space-between}@media screen and (max-width: 959px){mat-chip[_ngcontent-%COMP%]{font-size:12px;min-width:120px!important}  .mat-chip-list-wrapper{flex-wrap:nowrap!important;overflow-x:auto!important;-webkit-overflow-scrolling:touch;padding-bottom:10px;justify-content:flex-start!important}}  .mat-chip-list-wrapper{justify-content:center}"]}),le})();function Ve(le,Ce){if(1&le){const ae=v.EpF();v.TgZ(0,"div",6)(1,"app-to-do-item",7),v.NdJ("done",function(){const Gt=v.CHM(ae).$implicit,nn=v.oxw();return v.KtG(nn.onDone(Gt))})("bookMark",function(){const Gt=v.CHM(ae).$implicit,nn=v.oxw();return v.KtG(nn.onBookMark(Gt))})("remove",function(){const Gt=v.CHM(ae).$implicit,nn=v.oxw();return v.KtG(nn.onRemove(Gt))})("edit",function(){const Gt=v.CHM(ae).$implicit,nn=v.oxw();return v.KtG(nn.openDialogTask(Gt))}),v.qZA()()}if(2&le){const ae=Ce.$implicit;v.xp6(1),v.Q6J("task",ae)}}let Fe=(()=>{class le{constructor(ae,Le,Dt,Gt,nn,ln){this.db=ae,this.taskService=Le,this.authService=Dt,this.afAuth=Gt,this.dialog=nn,this.bottomSheet=ln,this.subscriptions=new ne.w,this.isMobile=!1,this.width=window.innerWidth,this.height=window.innerHeight,this.mobileWidth=760,this.tasks=[]}ngOnInit(){this.isMobile=this.width<this.mobileWidth,this.subscriptions.add(this.taskService.taskFiltered$.asObservable().subscribe(ae=>{this.tasks=ae})),this.getTasks()}onWindowResize(){this.width=window.innerWidth,this.height=window.innerHeight,this.isMobile=this.width<this.mobileWidth}getTasks(){const ae=this.taskService.getLiveTasks();(0,C.aj)([ae,this.taskService.searchItem]).subscribe(([Dt,Gt])=>{this.tasks=Dt.filter(nn=>Gt?nn.title.indexOf(Gt)>=0:1)})}drop(ae){(0,At.bA)(this.tasks,ae.previousIndex,ae.currentIndex),this.taskService.updateAll(this.tasks).finally()}openDialogTask(ae){this.isMobile?this.bottomSheet.open(si,{disableClose:!0,hasBackdrop:!0,data:{task:ae}}).afterDismissed().subscribe(()=>{}):this.dialog.open(ze,{disableClose:!1,width:"400px",height:"auto",data:{task:ae}})}onDone(ae){this.taskService.doneTask(ae.id,!ae.isDone).finally()}onBookMark(ae){this.taskService.bookMarkTask(ae.id,!ae.isBookmark).finally()}onRemove(ae){this.isMobile?this.bottomSheet.open(Gn,{disableClose:!0}).afterDismissed().subscribe(()=>{}):this.dialog.open(yn,{disableClose:!0}).afterClosed().subscribe(Dt=>{Dt&&this.taskService.removeTask(ae.id).finally()})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return le.\u0275fac=function(ae){return new(ae||le)(v.Y36(Ie.ST),v.Y36(He),v.Y36(Ke.e),v.Y36(Ne.zQ),v.Y36(fe.uw),v.Y36($n.ch))},le.\u0275cmp=v.Xpm({type:le,selectors:[["app-to-do-list"]],hostBindings:function(ae,Le){1&ae&&v.NdJ("resize",function(Gt){return Le.onWindowResize(Gt)},!1,v.Jf7)},decls:8,vars:1,consts:[[1,"mb-5","add-task-card",3,"click"],["fill","currentColor","aria-hidden","true","width","20","height","20","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"fluentIcon","___12fm75w","f1w7gpdv","fez10in","fg4l7m0"],["d","M10 2.5a.5.5 0 00-1 0V9H2.5a.5.5 0 000 1H9v6.5a.5.5 0 001 0V10h6.5a.5.5 0 000-1H10V2.5z","fill","currentColor"],[1,"title"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag",""],[3,"task","done","bookMark","remove","edit"]],template:function(ae,Le){1&ae&&(v._UZ(0,"app-filter-box"),v.TgZ(1,"mat-card",0),v.NdJ("click",function(){return Le.openDialogTask()}),v.O4$(),v.TgZ(2,"svg",1),v._UZ(3,"path",2),v.qZA(),v.kcU(),v.TgZ(4,"p",3),v._uU(5,"Add a task"),v.qZA()(),v.TgZ(6,"div",4),v.NdJ("cdkDropListDropped",function(Gt){return Le.drop(Gt)}),v.YNc(7,Ve,2,1,"div",5),v.qZA()),2&ae&&(v.xp6(7),v.Q6J("ngForOf",Le.tasks))},dependencies:[m.sg,Ln.a8,At.Wj,At.Zt,tn,Oe],styles:["[_nghost-%COMP%]{width:100%!important;margin:0 20px 20px!important}.add-task-card[_ngcontent-%COMP%]{margin-bottom:8px;display:flex;align-items:center;background-color:var(--card-item);cursor:pointer}.add-task-card[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{color:#78bafd!important}.add-task-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#78bafd!important;font-weight:400}div[_ngcontent-%COMP%]{cursor:move!important}"]}),le})(),Ye=(()=>{class le{constructor(ae,Le){this.afs=ae,this.authService=Le,this.userId=this.authService.getUid()}getUser(){return this.afs.doc(`users/${this.userId}`).snapshotChanges().pipe((0,be.U)(ae=>ae.payload.data()))}}return le.\u0275fac=function(ae){return new(ae||le)(v.LFG(Ie.ST),v.LFG(Ke.e))},le.\u0275prov=v.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})(),St=(()=>{class le{constructor(){this.isDarkTheme=!1,this.darkMode=new v.vpe}ngOnInit(){this.theme=localStorage.getItem("dark-mode"),this.theme&&(this.isDarkTheme="Dark"===localStorage.getItem("dark-mode")),this.isDarkTheme&&document.body.classList.toggle("dark-theme")}toggleTheme(){this.isDarkTheme=!this.isDarkTheme,document.body.classList.toggle("dark-theme"),this.darkMode.emit(this.isDarkTheme)}}return le.\u0275fac=function(ae){return new(ae||le)},le.\u0275cmp=v.Xpm({type:le,selectors:[["app-toggle-theme"]],outputs:{darkMode:"darkMode"},decls:2,vars:1,consts:[[3,"click"],[3,"src"]],template:function(ae,Le){1&ae&&(v.TgZ(0,"button",0),v.NdJ("click",function(){return Le.toggleTheme()}),v._UZ(1,"img",1),v.qZA()),2&ae&&(v.xp6(1),v.Q6J("src",Le.isDarkTheme?"./assets/images/dark.svg":"./assets/images/light.svg",v.LSH))},styles:["@media screen and (max-width: 959px){button[_ngcontent-%COMP%]{width:40px!important;height:40px!important}}button[_ngcontent-%COMP%]{width:25px;margin-right:10px;height:30px}"]}),le})();function Xt(le,Ce){if(1&le&&(v.TgZ(0,"option",2),v._uU(1),v.qZA()),2&le){const ae=Ce.$implicit;v.Q6J("value",ae.code),v.xp6(1),v.hij(" ",ae.name," ")}}let Fn=(()=>{class le{constructor(ae){this.activeLocale=ae,this.lang="En",this.selectLang=new v.vpe,this.locales=[{code:"en",name:"English"},{code:"fa",name:"\u0641\u0627\u0631\u0633\u06cc"}]}ngOnInit(){this.lang="En"===localStorage.getItem("lang")?"En":"Fa"}onChange(){window.location.href=`/todo-list/${this.activeLocale}`}toggleLang(){const ae=JSON.stringify(this.lang);localStorage.setItem("lang",ae),this.lang="En"===this.lang?"Fa":"En",this.selectLang.emit(this.lang)}}return le.\u0275fac=function(ae){return new(ae||le)(v.Y36(v.soG))},le.\u0275cmp=v.Xpm({type:le,selectors:[["app-toggle-language"]],outputs:{selectLang:"selectLang"},decls:2,vars:2,consts:[[3,"ngModel","change","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(ae,Le){1&ae&&(v.TgZ(0,"select",0),v.NdJ("change",function(){return Le.onChange()})("ngModelChange",function(Gt){return Le.activeLocale=Gt}),v.YNc(1,Xt,2,2,"option",1),v.qZA()),2&ae&&(v.Q6J("ngModel",Le.activeLocale),v.xp6(1),v.Q6J("ngForOf",Le.locales))},dependencies:[m.sg,J.YN,J.Kr,J.EJ,J.JJ,J.On],styles:["button[_ngcontent-%COMP%]{background-color:#c5c0c0;width:29px;height:29px;margin-right:22px;margin-left:6px}"]}),le})(),Mt=(()=>{class le{constructor(ae){this.userService=ae}ngOnInit(){this.getUserInfo()}getTheme(ae){this.isDarkMode=ae}getLang(ae){this.lang=ae}getUserInfo(){this.user$=this.userService.getUser()}}return le.\u0275fac=function(ae){return new(ae||le)(v.Y36(Ye))},le.\u0275cmp=v.Xpm({type:le,selectors:[["app-user-info-dialog"]],decls:27,vars:16,consts:function(){let Ce,ae,Le,Dt;return Ce="close",ae="photo",Le="" + "\ufffd0\ufffd" + "",Dt="" + "\ufffd0\ufffd" + "",[[1,"dialog-header"],["mat-dialog-close",""],["src","./assets/images/close.svg","alt",Ce],[1,"profile-container"],[1,"dialog-content"],[1,"profile-content"],["alt",ae,1,"h-6","sm:h-9","shadow-lg","flex","items-center","rounded-full","profile-photo",3,"src"],[1,"user-info"],[1,"dark-mode-container"],[3,"darkMode"],Le,[1,"lang-container"],[3,"selectLang"],Dt]},template:function(ae,Le){if(1&ae&&(v.TgZ(0,"div",0)(1,"mat-icon",1),v._UZ(2,"img",2),v.qZA()(),v.TgZ(3,"div",3)(4,"div",4)(5,"div",5),v._UZ(6,"img",6),v.ALo(7,"async"),v.ALo(8,"async"),v.TgZ(9,"div",7)(10,"p"),v._uU(11),v.ALo(12,"async"),v.ALo(13,"async"),v.qZA(),v.TgZ(14,"p"),v._uU(15),v.ALo(16,"async"),v.qZA()()(),v._UZ(17,"hr"),v.TgZ(18,"div",8)(19,"app-toggle-theme",9),v.NdJ("darkMode",function(Gt){return Le.getTheme(Gt)}),v.qZA(),v.TgZ(20,"span"),v.SDv(21,10),v.qZA()(),v._UZ(22,"hr"),v.TgZ(23,"div",11)(24,"app-toggle-language",12),v.NdJ("selectLang",function(Gt){return Le.getLang(Gt)}),v.qZA(),v.TgZ(25,"span"),v.SDv(26,13),v.qZA()()()()),2&ae){let Dt,Gt,nn;v.xp6(6),v.Q6J("src",null!=(Dt=v.lcZ(7,6,Le.user$))&&Dt.photoURL?null==(Dt=v.lcZ(8,8,Le.user$))?null:Dt.photoURL:"./assets/images/user.png",v.LSH),v.xp6(5),v.AsE("",null==(Gt=v.lcZ(12,10,Le.user$))?null:Gt.firstName," ",null==(Gt=v.lcZ(13,12,Le.user$))?null:Gt.lastName,""),v.xp6(4),v.Oqu(null==(nn=v.lcZ(16,14,Le.user$))?null:nn.email),v.xp6(6),v.pQV(Le.isDarkMode?"Switch To Light Mode":"Switch To Dark Mode"),v.QtT(21),v.xp6(5),v.pQV("Fa"===Le.lang?"Switch To En":"Switch To Fa"),v.QtT(26)}},dependencies:[Ft.Hw,fe.ZT,St,Fn,m.Ov],styles:[".dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding:10px 0 0 20px}.profile-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--bkg-color)}.profile-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{min-height:200px;width:95%}.profile-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]{display:flex;padding:20px;align-items:center}.profile-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px}.profile-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{margin-left:20px}.profile-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dark-mode-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:20px;padding-top:20px;font-size:18px}.profile-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .lang-container[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:18px;padding:20px 0 20px 20px}  .mat-dialog-container{padding:0;background-color:var(--card-item)!important;width:95%!important}  .cdk-overlay-pane{width:95%!important;justify-content:center!important}"]}),le})();var Kt=k(8255);function Tt(le,Ce){if(1&le&&(v.TgZ(0,"div",11),v._UZ(1,"img",12),v.ALo(2,"async"),v.ALo(3,"async"),v.qZA()),2&le){const ae=v.oxw(),Le=v.MAs(3);let Dt;v.Q6J("matMenuTriggerFor",Le),v.xp6(1),v.Q6J("src",null!=(Dt=v.lcZ(2,2,ae.user$))&&Dt.photoURL?null==(Dt=v.lcZ(3,4,ae.user$))?null:Dt.photoURL:"./assets/images/user.png",v.LSH)}}let Vt=(()=>{class le{constructor(ae,Le){this.userService=ae,this.authService=Le}ngOnInit(){this.getUser()}getUser(){this.user$=this.userService.getUser()}signOut(){this.authService.SignOut().finally()}}return le.\u0275fac=function(ae){return new(ae||le)(v.Y36(Ye),v.Y36(Ke.e))},le.\u0275cmp=v.Xpm({type:le,selectors:[["app-profile"]],decls:21,vars:15,consts:function(){let Ce,ae,Le,Dt;return Ce="photo",ae="sign out",Le="log-out",Dt="photo",[["class","bg-gray-100 shadow-lg flex items-center rounded-full",3,"matMenuTriggerFor",4,"ngIf"],[1,"profile-container"],["menu","matMenu"],[1,"menu-container"],["alt",Ce,1,"h-6","sm:h-9","shadow-lg","flex","items-center","rounded-full","profile-photo",3,"src"],[1,"user-info"],[1,"user-email"],[1,"sign-out"],[3,"click"],ae,["src","./assets/images/log-out.svg","alt",Le],[1,"bg-gray-100","shadow-lg","flex","items-center","rounded-full",3,"matMenuTriggerFor"],["alt",Dt,1,"h-6","sm:h-9","shadow-lg","flex","items-center","rounded-full",3,"src"]]},template:function(ae,Le){if(1&ae&&(v.YNc(0,Tt,4,6,"div",0),v.TgZ(1,"div",1)(2,"mat-menu",null,2)(4,"div",3),v._UZ(5,"img",4),v.ALo(6,"async"),v.ALo(7,"async"),v.TgZ(8,"div",5)(9,"p",6),v._uU(10),v.ALo(11,"async"),v.ALo(12,"async"),v.qZA(),v.TgZ(13,"p",6),v._uU(14),v.ALo(15,"async"),v.qZA()()(),v._UZ(16,"hr"),v.TgZ(17,"div",7)(18,"a",8),v.NdJ("click",function(){return Le.signOut()}),v.SDv(19,9),v.qZA(),v._UZ(20,"img",10),v.qZA()()()),2&ae){let Dt,Gt,nn;v.Q6J("ngIf",Le.user$),v.xp6(5),v.Q6J("src",null!=(Dt=v.lcZ(6,5,Le.user$))&&Dt.photoURL?null==(Dt=v.lcZ(7,7,Le.user$))?null:Dt.photoURL:"./assets/images/user.png",v.LSH),v.xp6(5),v.AsE("",null==(Gt=v.lcZ(11,9,Le.user$))?null:Gt.firstName," ",null==(Gt=v.lcZ(12,11,Le.user$))?null:Gt.lastName,""),v.xp6(4),v.Oqu(null==(nn=v.lcZ(15,13,Le.user$))?null:nn.email)}},dependencies:[m.O5,Kt.VK,Kt.p6,m.Ov],styles:["#menu[_ngcontent-%COMP%]{width:320px!important;max-width:100vw!important;overflow-wrap:anywhere}.profile-container[_ngcontent-%COMP%]{background-color:var(--card-item)!important}.menu-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.menu-container[_ngcontent-%COMP%]   .profile-photo[_ngcontent-%COMP%]{width:70px!important;height:70px!important;margin-left:5px}.menu-container[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:15px;margin-left:5px}.menu-container[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-email[_ngcontent-%COMP%]{font-size:14px!important;margin-right:5px}.sign-out[_ngcontent-%COMP%]{display:flex;margin-right:5px;justify-content:end;cursor:pointer}.sign-out[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;filter:invert(73%) sepia(14%) saturate(0%) hue-rotate(210deg) brightness(93%) contrast(91%)}.sign-out[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;margin-right:5px}hr[_ngcontent-%COMP%]{margin:10px 0}  .mat-menu-panel{width:400px}"]}),le})(),Cn=(()=>{class le{constructor(ae,Le){this.taskService=ae,this.dialog=Le}search(ae){this.taskService.search(ae)}openDialogUser(){this.dialog.open(Mt,{disableClose:!1})}}return le.\u0275fac=function(ae){return new(ae||le)(v.Y36(He),v.Y36(fe.uw))},le.\u0275cmp=v.Xpm({type:le,selectors:[["app-header"]],decls:15,vars:1,consts:function(){let Ce;return Ce="photo",[[1,"header-container"],[1,"lg:px-16","px-6","primary-color","flex","flex-wrap","items-center","lg:py-0","py-2"],[1,"flex-1","flex","justify-between","items-center"],[1,"flex","items-center"],["src","./assets/images/icon.png","alt","Todo Logo",1,"mr-3","h-6","sm:h-9"],[1,"self-center","text-xl","font-semibold","whitespace-nowrap","text-white","dark:text-white"],[1,"pointer-cursor","lg:hidden","block"],["alt",Ce,1,"avatar","h-6","sm:h-9","shadow-lg","flex","items-center","rounded-full","profile-photo",3,"src","click"],["id","menu",1,"hidden","lg:flex","lg:items-center","lg:w-auto","w-full"],[1,"flex","items-center","lg:order-2","align-center"]]},template:function(ae,Le){1&ae&&(v.TgZ(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3),v._UZ(4,"img",4),v.TgZ(5,"span",5),v._uU(6,"To Do"),v.qZA()()(),v.TgZ(7,"label",6)(8,"img",7),v.NdJ("click",function(){return Le.openDialogUser()}),v.qZA()(),v.TgZ(9,"div",8)(10,"nav")(11,"div",9),v._UZ(12,"app-toggle-language")(13,"app-toggle-theme")(14,"app-profile"),v.qZA()()()()()),2&ae&&(v.xp6(8),v.Q6J("src","./assets/images/user.png",v.LSH))},dependencies:[St,Fn,Vt],styles:["span[_ngcontent-%COMP%]{font-weight:600!important;font-size:16px;line-height:48px;color:#fff!important}header[_ngcontent-%COMP%]{border-bottom:1px var(--bg-secondary) solid}.header-container[_ngcontent-%COMP%]{background-color:var(--primary-color)}.lang[_ngcontent-%COMP%]{background-color:#e7dcdc;padding:3px;margin-right:10px}@media screen and (max-width: 959px){.avatar[_ngcontent-%COMP%]{width:40px!important;height:40px!important}}#menu-toggle[_ngcontent-%COMP%]:checked + #menu[_ngcontent-%COMP%]{display:block}"]}),le})();const Hn=[{path:"",component:(()=>{class le{constructor(){}}return le.\u0275fac=function(ae){return new(ae||le)},le.\u0275cmp=v.Xpm({type:le,selectors:[["app-dashboard"]],decls:4,vars:0,consts:[[1,"dashboard-container"],[1,"task-container"]],template:function(ae,Le){1&ae&&(v.TgZ(0,"div",0),v._UZ(1,"app-header"),v.TgZ(2,"div",1),v._UZ(3,"app-to-do-list"),v.qZA()())},dependencies:[Fe,Cn],styles:[".dashboard-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.dashboard-container[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]{display:flex;background-color:var(--bg-secondary)!important;height:90%;padding:0 150px;overflow:auto}@media screen and (max-width: 959px){.dashboard-container[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]{padding:10px;align-items:center;flex-direction:column}}"]}),le})()}];let wn=(()=>{class le{}return le.\u0275fac=function(ae){return new(ae||le)},le.\u0275mod=v.oAB({type:le}),le.\u0275inj=v.cJS({imports:[N.Bz.forChild(Hn),N.Bz]}),le})();var mt=k(1251),ee=k(8704);let he=(()=>{class le{}return le.\u0275fac=function(ae){return new(ae||le)},le.\u0275mod=v.oAB({type:le}),le.\u0275inj=v.cJS({imports:[m.ez,wn,ee.u,mt.m,fe.Is]}),le})()},986:(gn,_t,k)=>{"use strict";k.d(_t,{e:()=>Ne});var m=k(732),J=(k(2090),k(9681),k(1877),k(4859),k(4650)),De=k(2796),fe=k(4941),Ie=k(7868),ce=k(591);let ge=(()=>{class Ke{constructor(){this.loading$=new ce.X(!1)}start(){this.loading$.next(!0)}complete(){this.loading$.next(!1)}}return Ke.\u0275fac=function(He){return new(He||Ke)},Ke.\u0275prov=J.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"}),Ke})();var be=k(7185);let Ne=(()=>{class Ke{constructor(He,ot,pt,Ut,ut,kt){this.afs=He,this.afAuth=ot,this.router=pt,this.apiService=Ut,this.toastr=ut,this.ngZone=kt,this.afAuth.authState.subscribe(vt=>{vt?(this.userData=vt,this.userId=vt.uid,this.emailVerified=vt.emailVerified,localStorage.setItem("uid",this.userId),localStorage.setItem("emailVerified",this.emailVerified)):localStorage.setItem("uid","null")})}getUid(){return localStorage.getItem("uid")}SignIn(He,ot){return this.apiService.start(),this.afAuth.signInWithEmailAndPassword(He,ot).then(pt=>{this.SetUserData(pt.user),this.afAuth.authState.subscribe(Ut=>{this.apiService.complete(),Ut&&this.router.navigate(["dashboard"])})}).catch(pt=>{this.apiService.complete(),this.toastr.error(pt.message)})}SignUp(He,ot,pt,Ut){return this.afAuth.createUserWithEmailAndPassword(pt,Ut).then(ut=>{this.SendVerificationMail(),this.SetUserData(ut.user,He,ot),this.router.navigate(["auth/sign-in"])}).catch(ut=>{window.alert(ut.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(He=>He.sendEmailVerification()).then(()=>{})}ForgotPassword(He){return this.afAuth.sendPasswordResetEmail(He).then(()=>{this.toastr.error("Password reset email sent, check your inbox.")}).catch(ot=>{this.toastr.error(ot)})}get isLoggedIn(){const He=localStorage.getItem("uid"),ot=JSON.parse(localStorage.getItem("emailVerified"));return null!==He&&!0===ot}GoogleAuth(){return this.AuthLogin(new m.Q).then(He=>{this.afAuth.authState.subscribe(ot=>{ot&&this.router.navigate(["dashboard"])})}).catch(He=>{this.toastr.error(He)})}AuthLogin(He){return this.afAuth.signInWithPopup(He).then(ot=>{let pt="",Ut="";try{pt=ot.user.displayName.split(" ")[0],Ut=ot.user.displayName.replace(pt,"")}catch{pt=ot.user.displayName}this.SetUserData(ot.user,pt,Ut)}).catch(ot=>{window.alert(ot)})}SetUserData(He,ot,pt){const Ut=this.afs.doc(`users/${He.uid}`),ut={uid:He.uid,email:He.email,photoURL:He.photoURL,emailVerified:He.emailVerified};return ot&&(ut.firstName=ot),pt&&(ut.lastName=pt),Ut.set(ut,{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("uid"),localStorage.removeItem("emailVerified"),this.router.navigate(["auth/sign-in"])})}}return Ke.\u0275fac=function(He){return new(He||Ke)(J.LFG(De.ST),J.LFG(fe.zQ),J.LFG(Ie.F0),J.LFG(ge),J.LFG(be._W),J.LFG(J.R0b))},Ke.\u0275prov=J.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"}),Ke})()},8704:(gn,_t,k)=>{"use strict";k.d(_t,{u:()=>v});var m=k(1251),N=k(4650);let v=(()=>{class ne{}return ne.\u0275fac=function(J){return new(J||ne)},ne.\u0275mod=N.oAB({type:ne}),ne.\u0275inj=N.cJS({imports:[m.m]}),ne})()},1251:(gn,_t,k)=>{"use strict";k.d(_t,{m:()=>Xd});var m=k(6895),N=k(4006),v=k(1281),ne=k(3353),C=k(4650),J=k(3238),De=k(2654),fe=k(8929),Ne=(k(8514),k(6787),k(1086),k(3753),k(8184)),Ke=k(2556),lt=k(445),ot=(k(9521),k(4080)),pt=k(9549);k(1059),k(7545),k(2986),k(2198),k(4850),k(2868),k(8583);const Ve={provide:new C.OlP("mat-autocomplete-scroll-strategy"),deps:[Ne.aV],useFactory:function Oe(w){return()=>w.scrollStrategies.reposition()}};let Fn=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({providers:[Ve],imports:[Ne.U8,J.Ng,J.BQ,m.ez,Ke.ZD,J.Ng,J.BQ]}),w})();var Mt=k(2687),Kt=k(9643);let nn=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({}),w})(),ln=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[J.si,J.BQ,Kt.Q8,nn,J.BQ,nn]}),w})(),ft=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[J.si,J.BQ,J.BQ]}),w})();k(7340);var Jt=k(4144);let Te=(()=>{class w{constructor(){this.changes=new fe.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(c,_){return`${c} \u2013 ${_}`}formatYearRangeLabel(c,_){return`${c} to ${_}`}}return w.\u0275fac=function(c){return new(c||w)},w.\u0275prov=C.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const La={provide:new C.OlP("mat-datepicker-scroll-strategy"),deps:[Ne.aV],useFactory:function no(w){return()=>w.scrollStrategies.reposition()}};let io=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({providers:[Te,La],imports:[m.ez,ft,Ne.U8,Mt.rt,ot.eL,J.BQ,Ke.ZD]}),w})();k(5017);let Ur=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[J.si,J.BQ,J.BQ]}),w})();const Hr={provide:new C.OlP("mat-select-scroll-strategy"),deps:[Ne.aV],useFactory:function wo(w){return()=>w.scrollStrategies.reposition()}};let Cr=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({providers:[Hr],imports:[m.ez,Ne.U8,J.Ng,J.BQ,Ke.ZD,pt.lN,J.Ng,J.BQ]}),w})(),Yr=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[m.ez,J.BQ,J.BQ]}),w})(),qn=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({}),w})(),Ni=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[qn,J.si,J.BQ,Kt.Q8,qn,J.BQ]}),w})();var yi=k(8255);let ys=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[J.BQ,J.BQ]}),w})(),Vo=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[m.ez,J.BQ,Ke.ZD,Ke.ZD,J.BQ]}),w})();var On=k(3546);let ma=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[J.BQ,J.BQ]}),w})(),rl=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[J.uc,J.BQ,J.uc,J.BQ]}),w})(),va=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[m.ez,J.BQ,ot.eL,J.si,Kt.Q8,Mt.rt,J.BQ]}),w})(),Li=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[lt.vT]}),w})();var Ri=k(3336);let kd=(()=>{class w{constructor(){this.changes=new fe.xQ,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return w.\u0275fac=function(c){return new(c||w)},w.\u0275prov=C.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const af={provide:kd,deps:[[new C.FiY,new C.tp0,kd]],useFactory:function yh(w){return w||new kd}};let Pc=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({providers:[af,J.rD],imports:[J.BQ,m.ez,ot.eL,ft,Li,Ri.Ps,J.si,J.BQ]}),w})();k(7625);let sc=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[J.uc,J.si,J.BQ,J.us,m.ez,J.uc,J.BQ,J.us,ma]}),w})();k(591),k(6498);let me=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({}),w})(),Xs=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[me,J.BQ,J.BQ]}),w})(),Th=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[J.BQ,J.si,J.BQ]}),w})(),Mh=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[Mt.rt,J.BQ,J.BQ]}),w})();var bs=k(7331);function wu(w,T){if(1&w&&(C.O4$(),C._UZ(0,"circle",4)),2&w){const c=C.oxw(),_=C.MAs(1);C.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+c._spinnerAnimationLabel)("stroke-dashoffset",c._getStrokeDashOffset(),"px")("stroke-dasharray",c._getStrokeCircumference(),"px")("stroke-width",c._getCircleStrokeWidth(),"%")("transform-origin",c._getCircleTransformOrigin(_)),C.uIk("r",c._getCircleRadius())}}function hm(w,T){if(1&w&&(C.O4$(),C._UZ(0,"circle",4)),2&w){const c=C.oxw(),_=C.MAs(1);C.Udp("stroke-dashoffset",c._getStrokeDashOffset(),"px")("stroke-dasharray",c._getStrokeCircumference(),"px")("stroke-width",c._getCircleStrokeWidth(),"%")("transform-origin",c._getCircleTransformOrigin(_)),C.uIk("r",c._getCircleRadius())}}const pp=(0,J.pj)(class{constructor(w){this._elementRef=w}},"primary"),Nd=new C.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Du(){return{diameter:100}}});class Il extends pp{constructor(T,c,_,O,ie,wt,qt,An){super(T),this._document=_,this._diameter=100,this._value=0,this._resizeSubscription=De.w.EMPTY,this.mode="determinate";const Ii=Il._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),Ii.has(_.head)||Ii.set(_.head,new Set([100])),this._noopAnimations="NoopAnimations"===O&&!!ie&&!ie._forceAnimations,"mat-spinner"===T.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),ie&&(ie.color&&(this.color=this.defaultColor=ie.color),ie.diameter&&(this.diameter=ie.diameter),ie.strokeWidth&&(this.strokeWidth=ie.strokeWidth)),c.isBrowser&&c.SAFARI&&qt&&wt&&An&&(this._resizeSubscription=qt.change(150).subscribe(()=>{"indeterminate"===this.mode&&An.run(()=>wt.markForCheck())}))}get diameter(){return this._diameter}set diameter(T){this._diameter=(0,v.su)(T),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(T){this._strokeWidth=(0,v.su)(T)}get value(){return"determinate"===this.mode?this._value:0}set value(T){this._value=Math.max(0,Math.min(100,(0,v.su)(T)))}ngOnInit(){const T=this._elementRef.nativeElement;this._styleRoot=(0,ne.kV)(T)||this._document.head,this._attachStyleNode(),T.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const T=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${T} ${T}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(T){var c;const _=50*(null!==(c=T.currentScale)&&void 0!==c?c:1);return`${_}% ${_}%`}_attachStyleNode(){const T=this._styleRoot,c=this._diameter,_=Il._diameters;let O=_.get(T);if(!O||!O.has(c)){const ie=this._document.createElement("style");ie.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),ie.textContent=this._getAnimationText(),T.appendChild(ie),O||(O=new Set,_.set(T,O)),O.add(c)}}_getAnimationText(){const T=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*T).replace(/END_VALUE/g,""+.2*T).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Il._diameters=new WeakMap,Il.\u0275fac=function(T){return new(T||Il)(C.Y36(C.SBq),C.Y36(ne.t4),C.Y36(m.K0,8),C.Y36(C.QbO,8),C.Y36(Nd),C.Y36(C.sBO),C.Y36(Ke.rL),C.Y36(C.R0b))},Il.\u0275cmp=C.Xpm({type:Il,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(T,c){2&T&&(C.uIk("aria-valuemin","determinate"===c.mode?0:null)("aria-valuemax","determinate"===c.mode?100:null)("aria-valuenow","determinate"===c.mode?c.value:null)("mode",c.mode),C.Udp("width",c.diameter,"px")("height",c.diameter,"px"),C.ekj("_mat-animation-noopable",c._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[C.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(T,c){1&T&&(C.O4$(),C.TgZ(0,"svg",0,1),C.YNc(2,wu,1,11,"circle",2),C.YNc(3,hm,1,9,"circle",3),C.qZA()),2&T&&(C.Udp("width",c.diameter,"px")("height",c.diameter,"px"),C.Q6J("ngSwitch","indeterminate"===c.mode),C.uIk("viewBox",c._getViewBox()),C.xp6(2),C.Q6J("ngSwitchCase",!0),C.xp6(1),C.Q6J("ngSwitchCase",!1))},dependencies:[m.RF,m.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let ff=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[J.BQ,m.ez,J.BQ]}),w})(),mf=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[m.ez,J.BQ,J.BQ]}),w})();var Dg=k(8242),Ih=k(5938);let bp=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[Ne.U8,ot.eL,m.ez,ft,J.BQ,J.BQ]}),w})();const xg={provide:new C.OlP("mat-tooltip-scroll-strategy"),deps:[Ne.aV],useFactory:function Cp(w){return()=>w.scrollStrategies.reposition({scrollThrottle:20})}};let vf=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({providers:[xg],imports:[Mt.rt,m.ez,Ne.U8,J.BQ,J.BQ,Ke.ZD]}),w})(),Vd=(()=>{class w{constructor(){this.changes=new fe.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(c,_,O)=>{if(0==O||0==_)return`0 of ${O}`;const ie=c*_;return`${ie+1} \u2013 ${ie<(O=Math.max(O,0))?Math.min(ie+_,O):ie+_} of ${O}`}}}return w.\u0275fac=function(c){return new(c||w)},w.\u0275prov=C.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const Cm={provide:Vd,deps:[[new C.FiY,new C.tp0,Vd]],useFactory:function bm(w){return w||new Vd}};let Tr=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({providers:[Cm],imports:[m.ez,ft,Cr,vf,J.BQ]}),w})(),zs=(()=>{class w{constructor(){this.changes=new fe.xQ}}return w.\u0275fac=function(c){return new(c||w)},w.\u0275prov=C.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const sd={provide:zs,deps:[[new C.FiY,new C.tp0,zs]],useFactory:function Rh(w){return w||new zs}};let jc=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({providers:[sd],imports:[m.ez,J.BQ]}),w})();k(5254);let Kc=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[Ke.Cl]}),w})(),kp=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[Kc,J.BQ,J.BQ]}),w})();var ud=k(3977);const Aa=[m.ez,Fn,ln,io,pt.lN,Jt.c,Ur,Cr,Yr,Ni,yi.Tx,Vo,ys,On.QW,ma,rl,sc,Pc,va,Xs,ft,Th,Mh,bs.Hi,Ri.Ps,ff,pt.lN,Jt.c,mf,J.si,Dg._r,Ih.Is,bp,vf,Tr,jc,ud._t,kp];let Qd=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[Aa,m.ez,Fn,ln,io,pt.lN,Jt.c,Ur,Cr,Yr,Ni,yi.Tx,Vo,ys,On.QW,ma,rl,sc,Pc,va,Xs,ft,Th,Mh,bs.Hi,Ri.Ps,ff,pt.lN,Jt.c,mf,J.si,Dg._r,Ih.Is,bp,vf,Tr,jc,ud._t,kp]}),w})();const Af=[N.u5,N.UX,Qd];let Xd=(()=>{class w{}return w.\u0275fac=function(c){return new(c||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[m.ez,Af,N.u5,N.UX,Qd]}),w})()},8100:(gn,_t,k)=>{"use strict";var m=k(1481),N=k(4650),v=k(7340);function C(u){return new N.vHH(3e3,!1)}function Ye(){return typeof window<"u"&&typeof window.document<"u"}function St(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Xt(u){switch(u.length){case 0:return new v.ZN;case 1:return u[0];default:return new v.ZE(u)}}function Fn(u,i,o,d,g=new Map,S=new Map){const P=[],z=[];let ue=-1,Me=null;if(d.forEach(gt=>{const bt=gt.get("offset"),Bt=bt==ue,pn=Bt&&Me||new Map;gt.forEach((bn,s)=>{let e=s,t=bn;if("offset"!==s)switch(e=i.normalizePropertyName(e,P),t){case v.k1:t=g.get(s);break;case v.l3:t=S.get(s);break;default:t=i.normalizeStyleValue(s,e,t,P)}pn.set(e,t)}),Bt||z.push(pn),Me=pn,ue=bt}),P.length)throw function ze(u){return new N.vHH(3502,!1)}();return z}function Mt(u,i,o,d){switch(i){case"start":u.onStart(()=>d(o&&Kt(o,"start",u)));break;case"done":u.onDone(()=>d(o&&Kt(o,"done",u)));break;case"destroy":u.onDestroy(()=>d(o&&Kt(o,"destroy",u)))}}function Kt(u,i,o){const S=Tt(u.element,u.triggerName,u.fromState,u.toState,i||u.phaseName,o.totalTime??u.totalTime,!!o.disabled),P=u._data;return null!=P&&(S._data=P),S}function Tt(u,i,o,d,g="",S=0,P){return{element:u,triggerName:i,fromState:o,toState:d,phaseName:g,totalTime:S,disabled:!!P}}function Vt(u,i,o){let d=u.get(i);return d||u.set(i,d=o),d}function Cn(u){const i=u.indexOf(":");return[u.substring(1,i),u.slice(i+1)]}let jt=(u,i)=>!1,Hn=(u,i,o)=>[],wn=null;function mt(u){const i=u.parentNode||u.host;return i===wn?null:i}(St()||typeof Element<"u")&&(Ye()?(wn=(()=>document.documentElement)(),jt=(u,i)=>{for(;i;){if(i===u)return!0;i=mt(i)}return!1}):jt=(u,i)=>u.contains(i),Hn=(u,i,o)=>{if(o)return Array.from(u.querySelectorAll(i));const d=u.querySelector(i);return d?[d]:[]});let le=null,Ce=!1;const Gt=jt,nn=Hn;let Rn=(()=>{class u{validateStyleProperty(o){return function ae(u){le||(le=function Dt(){return typeof document<"u"?document.body:null}()||{},Ce=!!le.style&&"WebkitAppearance"in le.style);let i=!0;return le.style&&!function he(u){return"ebkit"==u.substring(1,6)}(u)&&(i=u in le.style,!i&&Ce&&(i="Webkit"+u.charAt(0).toUpperCase()+u.slice(1)in le.style)),i}(o)}matchesElement(o,d){return!1}containsElement(o,d){return Gt(o,d)}getParentElement(o){return mt(o)}query(o,d,g){return nn(o,d,g)}computeStyle(o,d,g){return g||""}animate(o,d,g,S,P,z=[],ue){return new v.ZN(g,S)}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275prov=N.Yz7({token:u,factory:u.\u0275fac}),u})(),ai=(()=>{class u{}return u.NOOP=new Rn,u})();const Ai="ng-enter",Tn="ng-leave",$t="ng-trigger",ft=".ng-trigger",Se="ng-animating",Jt=".ng-animating";function hn(u){if("number"==typeof u)return u;const i=u.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:at(parseFloat(i[1]),i[2])}function at(u,i){return"s"===i?1e3*u:u}function it(u,i,o){return u.hasOwnProperty("duration")?u:function Xe(u,i,o){let g,S=0,P="";if("string"==typeof u){const z=u.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===z)return i.push(C()),{duration:0,delay:0,easing:""};g=at(parseFloat(z[1]),z[2]);const ue=z[3];null!=ue&&(S=at(parseFloat(ue),z[4]));const Me=z[5];Me&&(P=Me)}else g=u;if(!o){let z=!1,ue=i.length;g<0&&(i.push(function J(){return new N.vHH(3100,!1)}()),z=!0),S<0&&(i.push(function De(){return new N.vHH(3101,!1)}()),z=!0),z&&i.splice(ue,0,C())}return{duration:g,delay:S,easing:P}}(u,i,o)}function Et(u,i={}){return Object.keys(u).forEach(o=>{i[o]=u[o]}),i}function Ht(u){const i=new Map;return Object.keys(u).forEach(o=>{i.set(o,u[o])}),i}function G(u,i=new Map,o){if(o)for(let[d,g]of o)i.set(d,g);for(let[d,g]of u)i.set(d,g);return i}function X(u,i,o){return o?i+":"+o+";":""}function K(u){let i="";for(let o=0;o<u.style.length;o++){const d=u.style.item(o);i+=X(0,d,u.style.getPropertyValue(d))}for(const o in u.style)u.style.hasOwnProperty(o)&&!o.startsWith("_")&&(i+=X(0,we(o),u.style[o]));u.setAttribute("style",i)}function pe(u,i,o){u.style&&(i.forEach((d,g)=>{const S=Te(g);o&&!o.has(g)&&o.set(g,u.style[S]),u.style[S]=d}),St()&&K(u))}function Qe(u,i){u.style&&(i.forEach((o,d)=>{const g=Te(d);u.style[g]=""}),St()&&K(u))}function Ct(u){return Array.isArray(u)?1==u.length?u[0]:(0,v.vP)(u):u}const fn=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ge(u){let i=[];if("string"==typeof u){let o;for(;o=fn.exec(u);)i.push(o[1]);fn.lastIndex=0}return i}function je(u,i,o){const d=u.toString(),g=d.replace(fn,(S,P)=>{let z=i[P];return null==z&&(o.push(function Ie(u){return new N.vHH(3003,!1)}()),z=""),z.toString()});return g==d?u:g}function Ue(u){const i=[];let o=u.next();for(;!o.done;)i.push(o.value),o=u.next();return i}const We=/-+([a-z0-9])/g;function Te(u){return u.replace(We,(...i)=>i[1].toUpperCase())}function we(u){return u.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function rn(u,i,o){switch(i.type){case 7:return u.visitTrigger(i,o);case 0:return u.visitState(i,o);case 1:return u.visitTransition(i,o);case 2:return u.visitSequence(i,o);case 3:return u.visitGroup(i,o);case 4:return u.visitAnimate(i,o);case 5:return u.visitKeyframes(i,o);case 6:return u.visitStyle(i,o);case 8:return u.visitReference(i,o);case 9:return u.visitAnimateChild(i,o);case 10:return u.visitAnimateRef(i,o);case 11:return u.visitQuery(i,o);case 12:return u.visitStagger(i,o);default:throw function ce(u){return new N.vHH(3004,!1)}()}}function Kn(u,i){return window.getComputedStyle(u)[i]}function Mr(u,i){const o=[];return"string"==typeof u?u.split(/\s*,\s*/).forEach(d=>function br(u,i,o){if(":"==u[0]){const ue=function ns(u,i){switch(u){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,d)=>parseFloat(d)>parseFloat(o);case":decrement":return(o,d)=>parseFloat(d)<parseFloat(o);default:return i.push(function ht(u){return new N.vHH(3016,!1)}()),"* => *"}}(u,o);if("function"==typeof ue)return void i.push(ue);u=ue}const d=u.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==d||d.length<4)return o.push(function Be(u){return new N.vHH(3015,!1)}()),i;const g=d[1],S=d[2],P=d[3];i.push(fs(g,P));"<"==S[0]&&!("*"==g&&"*"==P)&&i.push(fs(P,g))}(d,o,i)):o.push(u),o}const Vi=new Set(["true","1"]),to=new Set(["false","0"]);function fs(u,i){const o=Vi.has(u)||to.has(u),d=Vi.has(i)||to.has(i);return(g,S)=>{let P="*"==u||u==g,z="*"==i||i==S;return!P&&o&&"boolean"==typeof g&&(P=g?Vi.has(u):to.has(u)),!z&&d&&"boolean"==typeof S&&(z=S?Vi.has(i):to.has(i)),P&&z}}const Br=new RegExp("s*:selfs*,?","g");function qr(u,i,o,d){return new Ss(u).build(i,o,d)}class Ss{constructor(i){this._driver=i}build(i,o,d){const g=new Or(o);return this._resetContextStyleTimingState(g),rn(this,Ct(i),g)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles=new Map,i.collectedStyles.set("",new Map),i.currentTime=0}visitTrigger(i,o){let d=o.queryCount=0,g=o.depCount=0;const S=[],P=[];return"@"==i.name.charAt(0)&&o.errors.push(function be(){return new N.vHH(3006,!1)}()),i.definitions.forEach(z=>{if(this._resetContextStyleTimingState(o),0==z.type){const ue=z,Me=ue.name;Me.toString().split(/\s*,\s*/).forEach(gt=>{ue.name=gt,S.push(this.visitState(ue,o))}),ue.name=Me}else if(1==z.type){const ue=this.visitTransition(z,o);d+=ue.queryCount,g+=ue.depCount,P.push(ue)}else o.errors.push(function Ne(){return new N.vHH(3007,!1)}())}),{type:7,name:i.name,states:S,transitions:P,queryCount:d,depCount:g,options:null}}visitState(i,o){const d=this.visitStyle(i.styles,o),g=i.options&&i.options.params||null;if(d.containsDynamicStyles){const S=new Set,P=g||{};d.styles.forEach(z=>{z instanceof Map&&z.forEach(ue=>{Ge(ue).forEach(Me=>{P.hasOwnProperty(Me)||S.add(Me)})})}),S.size&&(Ue(S.values()),o.errors.push(function Ke(u,i){return new N.vHH(3008,!1)}()))}return{type:0,name:i.name,style:d,options:g?{params:g}:null}}visitTransition(i,o){o.queryCount=0,o.depCount=0;const d=rn(this,Ct(i.animation),o);return{type:1,matchers:Mr(i.expr,o.errors),animation:d,queryCount:o.queryCount,depCount:o.depCount,options:as(i.options)}}visitSequence(i,o){return{type:2,steps:i.steps.map(d=>rn(this,d,o)),options:as(i.options)}}visitGroup(i,o){const d=o.currentTime;let g=0;const S=i.steps.map(P=>{o.currentTime=d;const z=rn(this,P,o);return g=Math.max(g,o.currentTime),z});return o.currentTime=g,{type:3,steps:S,options:as(i.options)}}visitAnimate(i,o){const d=function ko(u,i){if(u.hasOwnProperty("duration"))return u;if("number"==typeof u)return gs(it(u,i).duration,0,"");const o=u;if(o.split(/\s+/).some(S=>"{"==S.charAt(0)&&"{"==S.charAt(1))){const S=gs(0,0,"");return S.dynamic=!0,S.strValue=o,S}const g=it(o,i);return gs(g.duration,g.delay,g.easing)}(i.timings,o.errors);o.currentAnimateTimings=d;let g,S=i.styles?i.styles:(0,v.oB)({});if(5==S.type)g=this.visitKeyframes(S,o);else{let P=i.styles,z=!1;if(!P){z=!0;const Me={};d.easing&&(Me.easing=d.easing),P=(0,v.oB)(Me)}o.currentTime+=d.duration+d.delay;const ue=this.visitStyle(P,o);ue.isEmptyStep=z,g=ue}return o.currentAnimateTimings=null,{type:4,timings:d,style:g,options:null}}visitStyle(i,o){const d=this._makeStyleAst(i,o);return this._validateStyleAst(d,o),d}_makeStyleAst(i,o){const d=[],g=Array.isArray(i.styles)?i.styles:[i.styles];for(let z of g)"string"==typeof z?z===v.l3?d.push(z):o.errors.push(new N.vHH(3002,!1)):d.push(Ht(z));let S=!1,P=null;return d.forEach(z=>{if(z instanceof Map&&(z.has("easing")&&(P=z.get("easing"),z.delete("easing")),!S))for(let ue of z.values())if(ue.toString().indexOf("{{")>=0){S=!0;break}}),{type:6,styles:d,easing:P,offset:i.offset,containsDynamicStyles:S,options:null}}_validateStyleAst(i,o){const d=o.currentAnimateTimings;let g=o.currentTime,S=o.currentTime;d&&S>0&&(S-=d.duration+d.delay),i.styles.forEach(P=>{"string"!=typeof P&&P.forEach((z,ue)=>{const Me=o.collectedStyles.get(o.currentQuerySelector),gt=Me.get(ue);let bt=!0;gt&&(S!=g&&S>=gt.startTime&&g<=gt.endTime&&(o.errors.push(function ot(u,i,o,d,g){return new N.vHH(3010,!1)}()),bt=!1),S=gt.startTime),bt&&Me.set(ue,{startTime:S,endTime:g}),o.options&&function dn(u,i,o){const d=i.params||{},g=Ge(u);g.length&&g.forEach(S=>{d.hasOwnProperty(S)||o.push(function fe(u){return new N.vHH(3001,!1)}())})}(z,o.options,o.errors)})})}visitKeyframes(i,o){const d={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function pt(){return new N.vHH(3011,!1)}()),d;let S=0;const P=[];let z=!1,ue=!1,Me=0;const gt=i.steps.map(t=>{const a=this._makeStyleAst(t,o);let f=null!=a.offset?a.offset:function Er(u){if("string"==typeof u)return null;let i=null;if(Array.isArray(u))u.forEach(o=>{if(o instanceof Map&&o.has("offset")){const d=o;i=parseFloat(d.get("offset")),d.delete("offset")}});else if(u instanceof Map&&u.has("offset")){const o=u;i=parseFloat(o.get("offset")),o.delete("offset")}return i}(a.styles),y=0;return null!=f&&(S++,y=a.offset=f),ue=ue||y<0||y>1,z=z||y<Me,Me=y,P.push(y),a});ue&&o.errors.push(function Ut(){return new N.vHH(3012,!1)}()),z&&o.errors.push(function ut(){return new N.vHH(3200,!1)}());const bt=i.steps.length;let Bt=0;S>0&&S<bt?o.errors.push(function kt(){return new N.vHH(3202,!1)}()):0==S&&(Bt=1/(bt-1));const pn=bt-1,bn=o.currentTime,s=o.currentAnimateTimings,e=s.duration;return gt.forEach((t,a)=>{const f=Bt>0?a==pn?1:Bt*a:P[a],y=f*e;o.currentTime=bn+s.delay+y,s.duration=y,this._validateStyleAst(t,o),t.offset=f,d.styles.push(t)}),d}visitReference(i,o){return{type:8,animation:rn(this,Ct(i.animation),o),options:as(i.options)}}visitAnimateChild(i,o){return o.depCount++,{type:9,options:as(i.options)}}visitAnimateRef(i,o){return{type:10,animation:this.visitReference(i.animation,o),options:as(i.options)}}visitQuery(i,o){const d=o.currentQuerySelector,g=i.options||{};o.queryCount++,o.currentQuery=i;const[S,P]=function or(u){const i=!!u.split(/\s*,\s*/).find(o=>":self"==o);return i&&(u=u.replace(Br,"")),u=u.replace(/@\*/g,ft).replace(/@\w+/g,o=>ft+"-"+o.slice(1)).replace(/:animating/g,Jt),[u,i]}(i.selector);o.currentQuerySelector=d.length?d+" "+S:S,Vt(o.collectedStyles,o.currentQuerySelector,new Map);const z=rn(this,Ct(i.animation),o);return o.currentQuery=null,o.currentQuerySelector=d,{type:11,selector:S,limit:g.limit||0,optional:!!g.optional,includeSelf:P,animation:z,originalSelector:i.selector,options:as(i.options)}}visitStagger(i,o){o.currentQuery||o.errors.push(function vt(){return new N.vHH(3013,!1)}());const d="full"===i.timings?{duration:0,delay:0,easing:"full"}:it(i.timings,o.errors,!0);return{type:12,animation:rn(this,Ct(i.animation),o),timings:d,options:null}}}class Or{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function as(u){return u?(u=Et(u)).params&&(u.params=function Ao(u){return u?Et(u):null}(u.params)):u={},u}function gs(u,i,o){return{duration:u,delay:i,easing:o}}function Yi(u,i,o,d,g,S,P=null,z=!1){return{type:1,element:u,keyframes:i,preStyleProps:o,postStyleProps:d,duration:g,delay:S,totalTime:g+S,easing:P,subTimeline:z}}class yo{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,o){let d=this._map.get(i);d||this._map.set(i,d=[]),d.push(...o)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const La=new RegExp(":enter","g"),Vs=new RegExp(":leave","g");function Ot(u,i,o,d,g,S=new Map,P=new Map,z,ue,Me=[]){return(new Rt).buildKeyframes(u,i,o,d,g,S,P,z,ue,Me)}class Rt{buildKeyframes(i,o,d,g,S,P,z,ue,Me,gt=[]){Me=Me||new yo;const bt=new _n(i,o,Me,g,S,gt,[]);bt.options=ue;const Bt=ue.delay?hn(ue.delay):0;bt.currentTimeline.delayNextStep(Bt),bt.currentTimeline.setStyles([P],null,bt.errors,ue),rn(this,d,bt);const pn=bt.timelines.filter(bn=>bn.containsAnimation());if(pn.length&&z.size){let bn;for(let s=pn.length-1;s>=0;s--){const e=pn[s];if(e.element===o){bn=e;break}}bn&&!bn.allowOnlyTimelineStyles()&&bn.setStyles([z],null,bt.errors,ue)}return pn.length?pn.map(bn=>bn.buildKeyframes()):[Yi(o,[],[],[],0,Bt,"",!1)]}visitTrigger(i,o){}visitState(i,o){}visitTransition(i,o){}visitAnimateChild(i,o){const d=o.subInstructions.get(o.element);if(d){const g=o.createSubContext(i.options),S=o.currentTimeline.currentTime,P=this._visitSubInstructions(d,g,g.options);S!=P&&o.transformIntoNewTimeline(P)}o.previousNode=i}visitAnimateRef(i,o){const d=o.createSubContext(i.options);d.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],o,d),this.visitReference(i.animation,d),o.transformIntoNewTimeline(d.currentTimeline.currentTime),o.previousNode=i}_applyAnimationRefDelays(i,o,d){for(const S of i){const P=S?.delay;if(P){var g;const z="number"==typeof P?P:hn(je(P,null!==(g=S?.params)&&void 0!==g?g:{},o.errors));d.delayNextStep(z)}}}_visitSubInstructions(i,o,d){let S=o.currentTimeline.currentTime;const P=null!=d.duration?hn(d.duration):null,z=null!=d.delay?hn(d.delay):null;return 0!==P&&i.forEach(ue=>{const Me=o.appendInstructionToTimeline(ue,P,z);S=Math.max(S,Me.duration+Me.delay)}),S}visitReference(i,o){o.updateOptions(i.options,!0),rn(this,i.animation,o),o.previousNode=i}visitSequence(i,o){const d=o.subContextCount;let g=o;const S=i.options;if(S&&(S.params||S.delay)&&(g=o.createSubContext(S),g.transformIntoNewTimeline(),null!=S.delay)){6==g.previousNode.type&&(g.currentTimeline.snapshotCurrentStyles(),g.previousNode=zt);const P=hn(S.delay);g.delayNextStep(P)}i.steps.length&&(i.steps.forEach(P=>rn(this,P,g)),g.currentTimeline.applyStylesToKeyframe(),g.subContextCount>d&&g.transformIntoNewTimeline()),o.previousNode=i}visitGroup(i,o){const d=[];let g=o.currentTimeline.currentTime;const S=i.options&&i.options.delay?hn(i.options.delay):0;i.steps.forEach(P=>{const z=o.createSubContext(i.options);S&&z.delayNextStep(S),rn(this,P,z),g=Math.max(g,z.currentTimeline.currentTime),d.push(z.currentTimeline)}),d.forEach(P=>o.currentTimeline.mergeTimelineCollectedStyles(P)),o.transformIntoNewTimeline(g),o.previousNode=i}_visitTiming(i,o){if(i.dynamic){const d=i.strValue;return it(o.params?je(d,o.params,o.errors):d,o.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,o){const d=o.currentAnimateTimings=this._visitTiming(i.timings,o),g=o.currentTimeline;d.delay&&(o.incrementTime(d.delay),g.snapshotCurrentStyles());const S=i.style;5==S.type?this.visitKeyframes(S,o):(o.incrementTime(d.duration),this.visitStyle(S,o),g.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=i}visitStyle(i,o){const d=o.currentTimeline,g=o.currentAnimateTimings;!g&&d.hasCurrentStyleProperties()&&d.forwardFrame();const S=g&&g.easing||i.easing;i.isEmptyStep?d.applyEmptyStep(S):d.setStyles(i.styles,S,o.errors,o.options),o.previousNode=i}visitKeyframes(i,o){const d=o.currentAnimateTimings,g=o.currentTimeline.duration,S=d.duration,z=o.createSubContext().currentTimeline;z.easing=d.easing,i.styles.forEach(ue=>{z.forwardTime((ue.offset||0)*S),z.setStyles(ue.styles,ue.easing,o.errors,o.options),z.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(z),o.transformIntoNewTimeline(g+S),o.previousNode=i}visitQuery(i,o){const d=o.currentTimeline.currentTime,g=i.options||{},S=g.delay?hn(g.delay):0;S&&(6===o.previousNode.type||0==d&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=zt);let P=d;const z=o.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!g.optional,o.errors);o.currentQueryTotal=z.length;let ue=null;z.forEach((Me,gt)=>{o.currentQueryIndex=gt;const bt=o.createSubContext(i.options,Me);S&&bt.delayNextStep(S),Me===o.element&&(ue=bt.currentTimeline),rn(this,i.animation,bt),bt.currentTimeline.applyStylesToKeyframe(),P=Math.max(P,bt.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(P),ue&&(o.currentTimeline.mergeTimelineCollectedStyles(ue),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=i}visitStagger(i,o){const d=o.parentContext,g=o.currentTimeline,S=i.timings,P=Math.abs(S.duration),z=P*(o.currentQueryTotal-1);let ue=P*o.currentQueryIndex;switch(S.duration<0?"reverse":S.easing){case"reverse":ue=z-ue;break;case"full":ue=d.currentStaggerTime}const gt=o.currentTimeline;ue&&gt.delayNextStep(ue);const bt=gt.currentTime;rn(this,i.animation,o),o.previousNode=i,d.currentStaggerTime=g.currentTime-bt+(g.startTime-d.currentTimeline.startTime)}}const zt={};class _n{constructor(i,o,d,g,S,P,z,ue){this._driver=i,this.element=o,this.subInstructions=d,this._enterClassName=g,this._leaveClassName=S,this.errors=P,this.timelines=z,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zt,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ue||new Nn(this._driver,o,0),z.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,o){if(!i)return;const d=i;let g=this.options;null!=d.duration&&(g.duration=hn(d.duration)),null!=d.delay&&(g.delay=hn(d.delay));const S=d.params;if(S){let P=g.params;P||(P=this.options.params={}),Object.keys(S).forEach(z=>{(!o||!P.hasOwnProperty(z))&&(P[z]=je(S[z],P,this.errors))})}}_copyOptions(){const i={};if(this.options){const o=this.options.params;if(o){const d=i.params={};Object.keys(o).forEach(g=>{d[g]=o[g]})}}return i}createSubContext(i=null,o,d){const g=o||this.element,S=new _n(this._driver,g,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(g,d||0));return S.previousNode=this.previousNode,S.currentAnimateTimings=this.currentAnimateTimings,S.options=this._copyOptions(),S.updateOptions(i),S.currentQueryIndex=this.currentQueryIndex,S.currentQueryTotal=this.currentQueryTotal,S.parentContext=this,this.subContextCount++,S}transformIntoNewTimeline(i){return this.previousNode=zt,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,o,d){const g={duration:o??i.duration,delay:this.currentTimeline.currentTime+(d??0)+i.delay,easing:""},S=new ii(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,g,i.stretchStartingKeyframe);return this.timelines.push(S),g}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,o,d,g,S,P){let z=[];if(g&&z.push(this.element),i.length>0){i=(i=i.replace(La,"."+this._enterClassName)).replace(Vs,"."+this._leaveClassName);let Me=this._driver.query(this.element,i,1!=d);0!==d&&(Me=d<0?Me.slice(Me.length+d,Me.length):Me.slice(0,d)),z.push(...Me)}return!S&&0==z.length&&P.push(function Je(u){return new N.vHH(3014,!1)}()),z}}class Nn{constructor(i,o,d,g){this._driver=i,this.element=o,this.startTime=d,this._elementTimelineStylesLookup=g,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+i),o&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,o){return this.applyStylesToKeyframe(),new Nn(this._driver,i,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,o){this._localTimelineStyles.set(i,o),this._globalTimelineStyles.set(i,o),this._styleSummary.set(i,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[o,d]of this._globalTimelineStyles)this._backFill.set(o,d||v.l3),this._currentKeyframe.set(o,v.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,o,d,g){o&&this._previousKeyframe.set("easing",o);const S=g&&g.params||{},P=function Ir(u,i){const o=new Map;let d;return u.forEach(g=>{if("*"===g){d=d||i.keys();for(let S of d)o.set(S,v.l3)}else G(g,o)}),o}(i,this._globalTimelineStyles);for(let[ue,Me]of P){const gt=je(Me,S,d);var z;this._pendingStyles.set(ue,gt),this._localTimelineStyles.has(ue)||this._backFill.set(ue,null!==(z=this._globalTimelineStyles.get(ue))&&void 0!==z?z:v.l3),this._updateStyle(ue,gt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((i,o)=>{this._currentKeyframe.set(o,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,i)}))}snapshotCurrentStyles(){for(let[i,o]of this._localTimelineStyles)this._pendingStyles.set(i,o),this._updateStyle(i,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let o in this._currentKeyframe)i.push(o);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((o,d)=>{const g=this._styleSummary.get(d);(!g||o.time>g.time)&&this._updateStyle(d,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,o=new Set,d=1===this._keyframes.size&&0===this.duration;let g=[];this._keyframes.forEach((z,ue)=>{const Me=G(z,new Map,this._backFill);Me.forEach((gt,bt)=>{gt===v.k1?i.add(bt):gt===v.l3&&o.add(bt)}),d||Me.set("offset",ue/this.duration),g.push(Me)});const S=i.size?Ue(i.values()):[],P=o.size?Ue(o.values()):[];if(d){const z=g[0],ue=new Map(z);z.set("offset",0),ue.set("offset",1),g=[z,ue]}return Yi(this.element,g,S,P,this.duration,this.startTime,this.easing,!1)}}class ii extends Nn{constructor(i,o,d,g,S,P,z=!1){super(i,o,P.delay),this.keyframes=d,this.preStyleProps=g,this.postStyleProps=S,this._stretchStartingKeyframe=z,this.timings={duration:P.duration,delay:P.delay,easing:P.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:o,duration:d,easing:g}=this.timings;if(this._stretchStartingKeyframe&&o){const S=[],P=d+o,z=o/P,ue=G(i[0]);ue.set("offset",0),S.push(ue);const Me=G(i[0]);Me.set("offset",Di(z)),S.push(Me);const gt=i.length-1;for(let bt=1;bt<=gt;bt++){let Bt=G(i[bt]);const pn=Bt.get("offset");Bt.set("offset",Di((o+pn*d)/P)),S.push(Bt)}d=P,o=0,g="",i=S}return Yi(this.element,i,this.preStyleProps,this.postStyleProps,d,o,g,!0)}}function Di(u,i=3){const o=Math.pow(10,i-1);return Math.round(u*o)/o}class zr{}const Ts=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ro extends zr{normalizePropertyName(i,o){return Te(i)}normalizeStyleValue(i,o,d,g){let S="";const P=d.toString().trim();if(Ts.has(o)&&0!==d&&"0"!==d)if("number"==typeof d)S="px";else{const z=d.match(/^[+-]?[\d\.]+([a-z]*)$/);z&&0==z[1].length&&g.push(function ge(u,i){return new N.vHH(3005,!1)}())}return P+S}}function Us(u,i,o,d,g,S,P,z,ue,Me,gt,bt,Bt){return{type:0,element:u,triggerName:i,isRemovalTransition:g,fromState:o,fromStyles:S,toState:d,toStyles:P,timelines:z,queriedElements:ue,preStyleProps:Me,postStyleProps:gt,totalTime:bt,errors:Bt}}const Yo={};class Ks{constructor(i,o,d){this._triggerName=i,this.ast=o,this._stateStyles=d}match(i,o,d,g){return function Oo(u,i,o,d,g){return u.some(S=>S(i,o,d,g))}(this.ast.matchers,i,o,d,g)}buildStyles(i,o,d){let g=this._stateStyles.get("*");return void 0!==i&&(g=this._stateStyles.get(i?.toString())||g),g?g.buildStyles(o,d):new Map}build(i,o,d,g,S,P,z,ue,Me,gt){var bt;const Bt=[],pn=this.ast.options&&this.ast.options.params||Yo,s=this.buildStyles(d,z&&z.params||Yo,Bt),e=ue&&ue.params||Yo,t=this.buildStyles(g,e,Bt),a=new Set,f=new Map,y=new Map,M="void"===g,U={params:Po(e,pn),delay:null===(bt=this.ast.options)||void 0===bt?void 0:bt.delay},oe=gt?[]:Ot(i,o,this.ast.animation,S,P,s,t,U,Me,Bt);let ve=0;if(oe.forEach(yt=>{ve=Math.max(yt.duration+yt.delay,ve)}),Bt.length)return Us(o,this._triggerName,d,g,M,s,t,[],[],f,y,ve,Bt);oe.forEach(yt=>{const Yt=yt.element,vn=Vt(f,Yt,new Set);yt.preStyleProps.forEach(ni=>vn.add(ni));const Dn=Vt(y,Yt,new Set);yt.postStyleProps.forEach(ni=>Dn.add(ni)),Yt!==o&&a.add(Yt)});const $e=Ue(a.values());return Us(o,this._triggerName,d,g,M,s,t,oe,$e,f,y,ve)}}function Po(u,i){const o=Et(i);for(const d in u)u.hasOwnProperty(d)&&null!=u[d]&&(o[d]=u[d]);return o}class Ca{constructor(i,o,d){this.styles=i,this.defaultParams=o,this.normalizer=d}buildStyles(i,o){const d=new Map,g=Et(this.defaultParams);return Object.keys(i).forEach(S=>{const P=i[S];null!==P&&(g[S]=P)}),this.styles.styles.forEach(S=>{"string"!=typeof S&&S.forEach((P,z)=>{P&&(P=je(P,g,o));const ue=this.normalizer.normalizePropertyName(z,o);P=this.normalizer.normalizeStyleValue(z,ue,P,o),d.set(ue,P)})}),d}}class io{constructor(i,o,d){this.name=i,this.ast=o,this._normalizer=d,this.transitionFactories=[],this.states=new Map,o.states.forEach(g=>{this.states.set(g.name,new Ca(g.style,g.options&&g.options.params||{},d))}),Ms(this.states,"true","1"),Ms(this.states,"false","0"),o.transitions.forEach(g=>{this.transitionFactories.push(new Ks(i,g,this.states))}),this.fallbackTransition=function fr(u,i,o){return new Ks(u,{type:1,animation:{type:2,steps:[],options:null},matchers:[(P,z)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,o,d,g){return this.transitionFactories.find(P=>P.match(i,o,d,g))||null}matchStyles(i,o,d){return this.fallbackTransition.buildStyles(i,o,d)}}function Ms(u,i,o){u.has(i)?u.has(o)||u.set(o,u.get(i)):u.has(o)&&u.set(i,u.get(o))}const Is=new yo;class xs{constructor(i,o,d){this.bodyNode=i,this._driver=o,this._normalizer=d,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,o){const d=[],S=qr(this._driver,o,d,[]);if(d.length)throw function At(u){return new N.vHH(3503,!1)}();this._animations.set(i,S)}_buildPlayer(i,o,d){const g=i.element,S=Fn(0,this._normalizer,0,i.keyframes,o,d);return this._driver.animate(g,S,i.duration,i.delay,i.easing,[],!0)}create(i,o,d={}){const g=[],S=this._animations.get(i);let P;const z=new Map;if(S?(P=Ot(this._driver,o,S,Ai,Tn,new Map,new Map,d,Is,g),P.forEach(gt=>{const bt=Vt(z,gt.element,new Map);gt.postStyleProps.forEach(Bt=>bt.set(Bt,null))})):(g.push(function Ft(){return new N.vHH(3300,!1)}()),P=[]),g.length)throw function yn(u){return new N.vHH(3504,!1)}();z.forEach((gt,bt)=>{gt.forEach((Bt,pn)=>{gt.set(pn,this._driver.computeStyle(bt,pn,v.l3))})});const Me=Xt(P.map(gt=>{const bt=z.get(gt.element);return this._buildPlayer(gt,new Map,bt)}));return this._playersById.set(i,Me),Me.onDestroy(()=>this.destroy(i)),this.players.push(Me),Me}destroy(i){const o=this._getPlayer(i);o.destroy(),this._playersById.delete(i);const d=this.players.indexOf(o);d>=0&&this.players.splice(d,1)}_getPlayer(i){const o=this._playersById.get(i);if(!o)throw function $n(u){return new N.vHH(3301,!1)}();return o}listen(i,o,d,g){const S=Tt(o,"","","");return Mt(this._getPlayer(i),d,S,g),()=>{}}command(i,o,d,g){if("register"==d)return void this.register(i,g[0]);if("create"==d)return void this.create(i,o,g[0]||{});const S=this._getPlayer(i);switch(d){case"play":S.play();break;case"pause":S.pause();break;case"reset":S.reset();break;case"restart":S.restart();break;case"finish":S.finish();break;case"init":S.init();break;case"setPosition":S.setPosition(parseFloat(g[0]));break;case"destroy":this.destroy(i)}}}const Hs="ng-animate-queued",Wr="ng-animate-disabled",As=[],js={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Qr="__ng_removed";class No{constructor(i,o=""){this.namespaceId=o;const d=i&&i.hasOwnProperty("value");if(this.value=function Co(u){return u??null}(d?i.value:i),d){const S=Et(i);delete S.value,this.options=S}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(i){const o=i.params;if(o){const d=this.options.params;Object.keys(o).forEach(g=>{null==d[g]&&(d[g]=o[g])})}}}const xi="void",Ur=new No(xi);class so{constructor(i,o,d){this.id=i,this.hostElement=o,this._engine=d,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,pi(o,this._hostClassName)}listen(i,o,d,g){if(!this._triggers.has(o))throw function Gn(u,i){return new N.vHH(3302,!1)}();if(null==d||0==d.length)throw function si(u){return new N.vHH(3303,!1)}();if(!function Ko(u){return"start"==u||"done"==u}(d))throw function Ln(u,i){return new N.vHH(3400,!1)}();const S=Vt(this._elementListeners,i,[]),P={name:o,phase:d,callback:g};S.push(P);const z=Vt(this._engine.statesByElement,i,new Map);return z.has(o)||(pi(i,$t),pi(i,$t+"-"+o),z.set(o,Ur)),()=>{this._engine.afterFlush(()=>{const ue=S.indexOf(P);ue>=0&&S.splice(ue,1),this._triggers.has(o)||z.delete(o)})}}register(i,o){return!this._triggers.has(i)&&(this._triggers.set(i,o),!0)}_getTrigger(i){const o=this._triggers.get(i);if(!o)throw function tn(u){return new N.vHH(3401,!1)}();return o}trigger(i,o,d,g=!0){const S=this._getTrigger(o),P=new aa(this.id,o,i);let z=this._engine.statesByElement.get(i);z||(pi(i,$t),pi(i,$t+"-"+o),this._engine.statesByElement.set(i,z=new Map));let ue=z.get(o);const Me=new No(d,this.id);if(!(d&&d.hasOwnProperty("value"))&&ue&&Me.absorbOptions(ue.options),z.set(o,Me),ue||(ue=Ur),Me.value!==xi&&ue.value===Me.value){if(!function ca(u,i){const o=Object.keys(u),d=Object.keys(i);if(o.length!=d.length)return!1;for(let g=0;g<o.length;g++){const S=o[g];if(!i.hasOwnProperty(S)||u[S]!==i[S])return!1}return!0}(ue.params,Me.params)){const s=[],e=S.matchStyles(ue.value,ue.params,s),t=S.matchStyles(Me.value,Me.params,s);s.length?this._engine.reportError(s):this._engine.afterFlush(()=>{Qe(i,e),pe(i,t)})}return}const Bt=Vt(this._engine.playersByElement,i,[]);Bt.forEach(s=>{s.namespaceId==this.id&&s.triggerName==o&&s.queued&&s.destroy()});let pn=S.matchTransition(ue.value,Me.value,i,Me.params),bn=!1;if(!pn){if(!g)return;pn=S.fallbackTransition,bn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:o,transition:pn,fromState:ue,toState:Me,player:P,isFallbackTransition:bn}),bn||(pi(i,Hs),P.onStart(()=>{xr(i,Hs)})),P.onDone(()=>{let s=this.players.indexOf(P);s>=0&&this.players.splice(s,1);const e=this._engine.playersByElement.get(i);if(e){let t=e.indexOf(P);t>=0&&e.splice(t,1)}}),this.players.push(P),Bt.push(P),P}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(o=>o.delete(i)),this._elementListeners.forEach((o,d)=>{this._elementListeners.set(d,o.filter(g=>g.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const o=this._engine.playersByElement.get(i);o&&(o.forEach(d=>d.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,o){const d=this._engine.driver.query(i,ft,!0);d.forEach(g=>{if(g[Qr])return;const S=this._engine.fetchNamespacesByElement(g);S.size?S.forEach(P=>P.triggerLeaveAnimation(g,o,!1,!0)):this.clearElementCache(g)}),this._engine.afterFlushAnimationsDone(()=>d.forEach(g=>this.clearElementCache(g)))}triggerLeaveAnimation(i,o,d,g){const S=this._engine.statesByElement.get(i),P=new Map;if(S){const z=[];if(S.forEach((ue,Me)=>{if(P.set(Me,ue.value),this._triggers.has(Me)){const gt=this.trigger(i,Me,xi,g);gt&&z.push(gt)}}),z.length)return this._engine.markElementAsRemoved(this.id,i,!0,o,P),d&&Xt(z).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const o=this._elementListeners.get(i),d=this._engine.statesByElement.get(i);if(o&&d){const g=new Set;o.forEach(S=>{const P=S.name;if(g.has(P))return;g.add(P);const ue=this._triggers.get(P).fallbackTransition,Me=d.get(P)||Ur,gt=new No(xi),bt=new aa(this.id,P,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:P,transition:ue,fromState:Me,toState:gt,player:bt,isFallbackTransition:!0})})}}removeNode(i,o){const d=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,o),this.triggerLeaveAnimation(i,o,!0))return;let g=!1;if(d.totalAnimations){const S=d.players.length?d.playersByQueriedElement.get(i):[];if(S&&S.length)g=!0;else{let P=i;for(;P=P.parentNode;)if(d.statesByElement.get(P)){g=!0;break}}}if(this.prepareLeaveAnimationListeners(i),g)d.markElementAsRemoved(this.id,i,!1,o);else{const S=i[Qr];(!S||S===js)&&(d.afterFlush(()=>this.clearElementCache(i)),d.destroyInnerAnimations(i),d._onRemovalComplete(i,o))}}insertNode(i,o){pi(i,this._hostClassName)}drainQueuedTransitions(i){const o=[];return this._queue.forEach(d=>{const g=d.player;if(g.destroyed)return;const S=d.element,P=this._elementListeners.get(S);P&&P.forEach(z=>{if(z.name==d.triggerName){const ue=Tt(S,d.triggerName,d.fromState.value,d.toState.value);ue._data=i,Mt(d.player,z.phase,ue,z.callback)}}),g.markedForDestroy?this._engine.afterFlush(()=>{g.destroy()}):o.push(d)}),this._queue=[],o.sort((d,g)=>{const S=d.transition.ast.depCount,P=g.transition.ast.depCount;return 0==S||0==P?S-P:this._engine.driver.containsElement(d.element,g.element)?1:-1})}destroy(i){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let o=!1;return this._elementListeners.has(i)&&(o=!0),o=!!this._queue.find(d=>d.element===i)||o,o}}class vs{constructor(i,o,d){this.bodyNode=i,this.driver=o,this._normalizer=d,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(g,S)=>{}}_onRemovalComplete(i,o){this.onRemovalComplete(i,o)}get queuedPlayers(){const i=[];return this._namespaceList.forEach(o=>{o.players.forEach(d=>{d.queued&&i.push(d)})}),i}createNamespace(i,o){const d=new so(i,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(d,o):(this.newHostElements.set(o,d),this.collectEnterElement(o)),this._namespaceLookup[i]=d}_balanceNamespaceList(i,o){const d=this._namespaceList,g=this.namespacesByHostElement;if(d.length-1>=0){let P=!1,z=this.driver.getParentElement(o);for(;z;){const ue=g.get(z);if(ue){const Me=d.indexOf(ue);d.splice(Me+1,0,i),P=!0;break}z=this.driver.getParentElement(z)}P||d.unshift(i)}else d.push(i);return g.set(o,i),i}register(i,o){let d=this._namespaceLookup[i];return d||(d=this.createNamespace(i,o)),d}registerTrigger(i,o,d){let g=this._namespaceLookup[i];g&&g.register(o,d)&&this.totalAnimations++}destroy(i,o){if(!i)return;const d=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(d.hostElement),delete this._namespaceLookup[i];const g=this._namespaceList.indexOf(d);g>=0&&this._namespaceList.splice(g,1)}),this.afterFlushAnimationsDone(()=>d.destroy(o))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const o=new Set,d=this.statesByElement.get(i);if(d)for(let g of d.values())if(g.namespaceId){const S=this._fetchNamespace(g.namespaceId);S&&o.add(S)}return o}trigger(i,o,d,g){if(ks(o)){const S=this._fetchNamespace(i);if(S)return S.trigger(o,d,g),!0}return!1}insertNode(i,o,d,g){if(!ks(o))return;const S=o[Qr];if(S&&S.setForRemoval){S.setForRemoval=!1,S.setForMove=!0;const P=this.collectedLeaveElements.indexOf(o);P>=0&&this.collectedLeaveElements.splice(P,1)}if(i){const P=this._fetchNamespace(i);P&&P.insertNode(o,d)}g&&this.collectEnterElement(o)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,o){o?this.disabledNodes.has(i)||(this.disabledNodes.add(i),pi(i,Wr)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),xr(i,Wr))}removeNode(i,o,d,g){if(ks(o)){const S=i?this._fetchNamespace(i):null;if(S?S.removeNode(o,g):this.markElementAsRemoved(i,o,!1,g),d){const P=this.namespacesByHostElement.get(o);P&&P.id!==i&&P.removeNode(o,g)}}else this._onRemovalComplete(o,g)}markElementAsRemoved(i,o,d,g,S){this.collectedLeaveElements.push(o),o[Qr]={namespaceId:i,setForRemoval:g,hasAnimation:d,removedBeforeQueried:!1,previousTriggersValues:S}}listen(i,o,d,g,S){return ks(o)?this._fetchNamespace(i).listen(o,d,g,S):()=>{}}_buildInstruction(i,o,d,g,S){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,d,g,i.fromState.options,i.toState.options,o,S)}destroyInnerAnimations(i){let o=this.driver.query(i,ft,!0);o.forEach(d=>this.destroyActiveAnimationsForElement(d)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(i,Jt,!0),o.forEach(d=>this.finishActiveQueriedAnimationOnElement(d)))}destroyActiveAnimationsForElement(i){const o=this.playersByElement.get(i);o&&o.forEach(d=>{d.queued?d.markedForDestroy=!0:d.destroy()})}finishActiveQueriedAnimationOnElement(i){const o=this.playersByQueriedElement.get(i);o&&o.forEach(d=>d.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return Xt(this.players).onDone(()=>i());i()})}processLeaveNode(i){var o;const d=i[Qr];if(d&&d.setForRemoval){if(i[Qr]=js,d.namespaceId){this.destroyInnerAnimations(i);const g=this._fetchNamespace(d.namespaceId);g&&g.clearElementCache(i)}this._onRemovalComplete(i,d.setForRemoval)}null!==(o=i.classList)&&void 0!==o&&o.contains(Wr)&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(g=>{this.markElementAsDisabled(g,!1)})}flush(i=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((d,g)=>this._balanceNamespaceList(d,g)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let d=0;d<this.collectedEnterElements.length;d++)pi(this.collectedEnterElements[d],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const d=[];try{o=this._flushAnimations(d,i)}finally{for(let g=0;g<d.length;g++)d[g]()}}else for(let d=0;d<this.collectedLeaveElements.length;d++)this.processLeaveNode(this.collectedLeaveElements[d]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(d=>d()),this._flushFns=[],this._whenQuietFns.length){const d=this._whenQuietFns;this._whenQuietFns=[],o.length?Xt(o).onDone(()=>{d.forEach(g=>g())}):d.forEach(g=>g())}}reportError(i){throw function mn(u){return new N.vHH(3402,!1)}()}_flushAnimations(i,o){const d=new yo,g=[],S=new Map,P=[],z=new Map,ue=new Map,Me=new Map,gt=new Set;this.disabledNodes.forEach(Un=>{gt.add(Un);const Jn=this.driver.query(Un,".ng-animate-queued",!0);for(let ei=0;ei<Jn.length;ei++)gt.add(Jn[ei])});const bt=this.bodyNode,Bt=Array.from(this.statesByElement.keys()),pn=mr(Bt,this.collectedEnterElements),bn=new Map;let s=0;pn.forEach((Un,Jn)=>{const ei=Ai+s++;bn.set(Jn,ei),Un.forEach(Ti=>pi(Ti,ei))});const e=[],t=new Set,a=new Set;for(let Un=0;Un<this.collectedLeaveElements.length;Un++){const Jn=this.collectedLeaveElements[Un],ei=Jn[Qr];ei&&ei.setForRemoval&&(e.push(Jn),t.add(Jn),ei.hasAnimation?this.driver.query(Jn,".ng-star-inserted",!0).forEach(Ti=>t.add(Ti)):a.add(Jn))}const f=new Map,y=mr(Bt,Array.from(t));y.forEach((Un,Jn)=>{const ei=Tn+s++;f.set(Jn,ei),Un.forEach(Ti=>pi(Ti,ei))}),i.push(()=>{pn.forEach((Un,Jn)=>{const ei=bn.get(Jn);Un.forEach(Ti=>xr(Ti,ei))}),y.forEach((Un,Jn)=>{const ei=f.get(Jn);Un.forEach(Ti=>xr(Ti,ei))}),e.forEach(Un=>{this.processLeaveNode(Un)})});const M=[],U=[];for(let Un=this._namespaceList.length-1;Un>=0;Un--)this._namespaceList[Un].drainQueuedTransitions(o).forEach(ei=>{const Ti=ei.player,ki=ei.element;if(M.push(Ti),this.collectedEnterElements.length){const Nl=ki[Qr];if(Nl&&Nl.setForMove){if(Nl.previousTriggersValues&&Nl.previousTriggersValues.has(ei.triggerName)){const _g=Nl.previousTriggersValues.get(ei.triggerName),Td=this.statesByElement.get(ei.element);if(Td&&Td.has(ei.triggerName)){const ty=Td.get(ei.triggerName);ty.value=_g,Td.set(ei.triggerName,ty)}}return void Ti.destroy()}}const rr=!bt||!this.driver.containsElement(bt,ki),Gr=f.get(ki),ql=bn.get(ki),xo=this._buildInstruction(ei,d,ql,Gr,rr);if(xo.errors&&xo.errors.length)return void U.push(xo);if(rr)return Ti.onStart(()=>Qe(ki,xo.fromStyles)),Ti.onDestroy(()=>pe(ki,xo.toStyles)),void g.push(Ti);if(ei.isFallbackTransition)return Ti.onStart(()=>Qe(ki,xo.fromStyles)),Ti.onDestroy(()=>pe(ki,xo.toStyles)),void g.push(Ti);const ey=[];xo.timelines.forEach(Nl=>{Nl.stretchStartingKeyframe=!0,this.disabledNodes.has(Nl.element)||ey.push(Nl)}),xo.timelines=ey,d.append(ki,xo.timelines),P.push({instruction:xo,player:Ti,element:ki}),xo.queriedElements.forEach(Nl=>Vt(z,Nl,[]).push(Ti)),xo.preStyleProps.forEach((Nl,_g)=>{if(Nl.size){let Td=ue.get(_g);Td||ue.set(_g,Td=new Set),Nl.forEach((ty,gy)=>Td.add(gy))}}),xo.postStyleProps.forEach((Nl,_g)=>{let Td=Me.get(_g);Td||Me.set(_g,Td=new Set),Nl.forEach((ty,gy)=>Td.add(gy))})});if(U.length){const Un=[];U.forEach(Jn=>{Un.push(function Ve(u,i){return new N.vHH(3505,!1)}())}),M.forEach(Jn=>Jn.destroy()),this.reportError(Un)}const oe=new Map,ve=new Map;P.forEach(Un=>{const Jn=Un.element;d.has(Jn)&&(ve.set(Jn,Jn),this._beforeAnimationBuild(Un.player.namespaceId,Un.instruction,oe))}),g.forEach(Un=>{const Jn=Un.element;this._getPreviousPlayers(Jn,!1,Un.namespaceId,Un.triggerName,null).forEach(Ti=>{Vt(oe,Jn,[]).push(Ti),Ti.destroy()})});const $e=e.filter(Un=>$s(Un,ue,Me)),yt=new Map;la(yt,this.driver,a,Me,v.l3).forEach(Un=>{$s(Un,ue,Me)&&$e.push(Un)});const vn=new Map;pn.forEach((Un,Jn)=>{la(vn,this.driver,new Set(Un),ue,v.k1)}),$e.forEach(Un=>{var Jn,ei;const Ti=yt.get(Un),ki=vn.get(Un);yt.set(Un,new Map([...Array.from(null!==(Jn=Ti?.entries())&&void 0!==Jn?Jn:[]),...Array.from(null!==(ei=ki?.entries())&&void 0!==ei?ei:[])]))});const Dn=[],ni=[],fi={};P.forEach(Un=>{const{element:Jn,player:ei,instruction:Ti}=Un;if(d.has(Jn)){if(gt.has(Jn))return ei.onDestroy(()=>pe(Jn,Ti.toStyles)),ei.disabled=!0,ei.overrideTotalTime(Ti.totalTime),void g.push(ei);let ki=fi;if(ve.size>1){let Gr=Jn;const ql=[];for(;Gr=Gr.parentNode;){const xo=ve.get(Gr);if(xo){ki=xo;break}ql.push(Gr)}ql.forEach(xo=>ve.set(xo,ki))}const rr=this._buildAnimation(ei.namespaceId,Ti,oe,S,vn,yt);if(ei.setRealPlayer(rr),ki===fi)Dn.push(ei);else{const Gr=this.playersByElement.get(ki);Gr&&Gr.length&&(ei.parentPlayer=Xt(Gr)),g.push(ei)}}else Qe(Jn,Ti.fromStyles),ei.onDestroy(()=>pe(Jn,Ti.toStyles)),ni.push(ei),gt.has(Jn)&&g.push(ei)}),ni.forEach(Un=>{const Jn=S.get(Un.element);if(Jn&&Jn.length){const ei=Xt(Jn);Un.setRealPlayer(ei)}}),g.forEach(Un=>{Un.parentPlayer?Un.syncPlayerEvents(Un.parentPlayer):Un.destroy()});for(let Un=0;Un<e.length;Un++){const Jn=e[Un],ei=Jn[Qr];if(xr(Jn,Tn),ei&&ei.hasAnimation)continue;let Ti=[];if(z.size){let rr=z.get(Jn);rr&&rr.length&&Ti.push(...rr);let Gr=this.driver.query(Jn,Jt,!0);for(let ql=0;ql<Gr.length;ql++){let xo=z.get(Gr[ql]);xo&&xo.length&&Ti.push(...xo)}}const ki=Ti.filter(rr=>!rr.destroyed);ki.length?Ec(this,Jn,ki):this.processLeaveNode(Jn)}return e.length=0,Dn.forEach(Un=>{this.players.push(Un),Un.onDone(()=>{Un.destroy();const Jn=this.players.indexOf(Un);this.players.splice(Jn,1)}),Un.play()}),Dn}elementContainsData(i,o){let d=!1;const g=o[Qr];return g&&g.setForRemoval&&(d=!0),this.playersByElement.has(o)&&(d=!0),this.playersByQueriedElement.has(o)&&(d=!0),this.statesByElement.has(o)&&(d=!0),this._fetchNamespace(i).elementContainsData(o)||d}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,o,d,g,S){let P=[];if(o){const z=this.playersByQueriedElement.get(i);z&&(P=z)}else{const z=this.playersByElement.get(i);if(z){const ue=!S||S==xi;z.forEach(Me=>{Me.queued||!ue&&Me.triggerName!=g||P.push(Me)})}}return(d||g)&&(P=P.filter(z=>!(d&&d!=z.namespaceId||g&&g!=z.triggerName))),P}_beforeAnimationBuild(i,o,d){const S=o.element,P=o.isRemovalTransition?void 0:i,z=o.isRemovalTransition?void 0:o.triggerName;for(const ue of o.timelines){const Me=ue.element,gt=Me!==S,bt=Vt(d,Me,[]);this._getPreviousPlayers(Me,gt,P,z,o.toState).forEach(pn=>{const bn=pn.getRealPlayer();bn.beforeDestroy&&bn.beforeDestroy(),pn.destroy(),bt.push(pn)})}Qe(S,o.fromStyles)}_buildAnimation(i,o,d,g,S,P){const z=o.triggerName,ue=o.element,Me=[],gt=new Set,bt=new Set,Bt=o.timelines.map(bn=>{const s=bn.element;gt.add(s);const e=s[Qr];if(e&&e.removedBeforeQueried)return new v.ZN(bn.duration,bn.delay);const t=s!==ue,a=function ps(u){const i=[];return pl(u,i),i}((d.get(s)||As).map(oe=>oe.getRealPlayer())).filter(oe=>!!oe.element&&oe.element===s),f=S.get(s),y=P.get(s),M=Fn(0,this._normalizer,0,bn.keyframes,f,y),U=this._buildPlayer(bn,M,a);if(bn.subTimeline&&g&&bt.add(s),t){const oe=new aa(i,z,s);oe.setRealPlayer(U),Me.push(oe)}return U});Me.forEach(bn=>{Vt(this.playersByQueriedElement,bn.element,[]).push(bn),bn.onDone(()=>function Ki(u,i,o){let d=u.get(i);if(d){if(d.length){const g=d.indexOf(o);d.splice(g,1)}0==d.length&&u.delete(i)}return d}(this.playersByQueriedElement,bn.element,bn))}),gt.forEach(bn=>pi(bn,Se));const pn=Xt(Bt);return pn.onDestroy(()=>{gt.forEach(bn=>xr(bn,Se)),pe(ue,o.toStyles)}),bt.forEach(bn=>{Vt(g,bn,[]).push(pn)}),pn}_buildPlayer(i,o,d){return o.length>0?this.driver.animate(i.element,o,i.duration,i.delay,i.easing,d):new v.ZN(i.duration,i.delay)}}class aa{constructor(i,o,d){this.namespaceId=i,this.triggerName=o,this.element=d,this._player=new v.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((o,d)=>{o.forEach(g=>Mt(i,d,void 0,g))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const o=this._player;o.triggerCallback&&i.onStart(()=>o.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,o){Vt(this._queuedCallbacks,i,[]).push(o)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const o=this._player;o.triggerCallback&&o.triggerCallback(i)}}function ks(u){return u&&1===u.nodeType}function Zs(u,i){const o=u.style.display;return u.style.display=i??"none",o}function la(u,i,o,d,g){const S=[];o.forEach(ue=>S.push(Zs(ue)));const P=[];d.forEach((ue,Me)=>{const gt=new Map;ue.forEach(bt=>{const Bt=i.computeStyle(Me,bt,g);gt.set(bt,Bt),(!Bt||0==Bt.length)&&(Me[Qr]=pr,P.push(Me))}),u.set(Me,gt)});let z=0;return o.forEach(ue=>Zs(ue,S[z++])),P}function mr(u,i){const o=new Map;if(u.forEach(z=>o.set(z,[])),0==i.length)return o;const g=new Set(i),S=new Map;function P(z){if(!z)return 1;let ue=S.get(z);if(ue)return ue;const Me=z.parentNode;return ue=o.has(Me)?Me:g.has(Me)?1:P(Me),S.set(z,ue),ue}return i.forEach(z=>{const ue=P(z);1!==ue&&o.get(ue).push(z)}),o}function pi(u,i){var o;null===(o=u.classList)||void 0===o||o.add(i)}function xr(u,i){var o;null===(o=u.classList)||void 0===o||o.remove(i)}function Ec(u,i,o){Xt(o).onDone(()=>u.processLeaveNode(i))}function pl(u,i){for(let o=0;o<u.length;o++){const d=u[o];d instanceof v.ZE?pl(d.players,i):i.push(d)}}function $s(u,i,o){const d=o.get(u);if(!d)return!1;let g=i.get(u);return g?d.forEach(S=>g.add(S)):i.set(u,d),o.delete(u),!0}class Xr{constructor(i,o,d){this.bodyNode=i,this._driver=o,this._normalizer=d,this._triggerCache={},this.onRemovalComplete=(g,S)=>{},this._transitionEngine=new vs(i,o,d),this._timelineEngine=new xs(i,o,d),this._transitionEngine.onRemovalComplete=(g,S)=>this.onRemovalComplete(g,S)}registerTrigger(i,o,d,g,S){const P=i+"-"+g;let z=this._triggerCache[P];if(!z){const ue=[],gt=qr(this._driver,S,ue,[]);if(ue.length)throw function Pt(u,i){return new N.vHH(3404,!1)}();z=function oa(u,i,o){return new io(u,i,o)}(g,gt,this._normalizer),this._triggerCache[P]=z}this._transitionEngine.registerTrigger(o,g,z)}register(i,o){this._transitionEngine.register(i,o)}destroy(i,o){this._transitionEngine.destroy(i,o)}onInsert(i,o,d,g){this._transitionEngine.insertNode(i,o,d,g)}onRemove(i,o,d,g){this._transitionEngine.removeNode(i,o,g||!1,d)}disableAnimations(i,o){this._transitionEngine.markElementAsDisabled(i,o)}process(i,o,d,g){if("@"==d.charAt(0)){const[S,P]=Cn(d);this._timelineEngine.command(S,o,P,g)}else this._transitionEngine.trigger(i,o,d,g)}listen(i,o,d,g,S){if("@"==d.charAt(0)){const[P,z]=Cn(d);return this._timelineEngine.listen(P,o,z,S)}return this._transitionEngine.listen(i,o,d,g,S)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let En=(()=>{class u{constructor(o,d,g){this._element=o,this._startStyles=d,this._endStyles=g,this._state=0;let S=u.initialStylesByElement.get(o);S||u.initialStylesByElement.set(o,S=new Map),this._initialStyles=S}start(){this._state<1&&(this._startStyles&&pe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pe(this._element,this._initialStyles),this._endStyles&&(pe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(u.initialStylesByElement.delete(this._element),this._startStyles&&(Qe(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Qe(this._element,this._endStyles),this._endStyles=null),pe(this._element,this._initialStyles),this._state=3)}}return u.initialStylesByElement=new WeakMap,u})();function Mi(u){let i=null;return u.forEach((o,d)=>{(function wo(u){return"display"===u||"position"===u})(d)&&(i=i||new Map,i.set(d,o))}),i}class Da{constructor(i,o,d,g){this.element=i,this.keyframes=o,this.options=d,this._specialStyles=g,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=d.duration,this._delay=d.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){const o=[];return i.forEach(d=>{o.push(Object.fromEntries(d))}),o}_triggerWebAnimation(i,o,d){return i.animate(this._convertKeyframesToObject(o),d)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((d,g)=>{"offset"!==g&&i.set(g,this._finished?d:Kn(this.element,g))}),this.currentSnapshot=i}triggerCallback(i){const o="start"===i?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}class Hr{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}matchesElement(i,o){return!1}containsElement(i,o){return Gt(i,o)}getParentElement(i){return mt(i)}query(i,o,d){return nn(i,o,d)}computeStyle(i,o,d){return window.getComputedStyle(i)[o]}animate(i,o,d,g,S,P=[]){const ue={duration:d,delay:g,fill:0==g?"both":"forwards"};S&&(ue.easing=S);const Me=new Map,gt=P.filter(pn=>pn instanceof Da);(function rt(u,i){return 0===u||0===i})(d,g)&&gt.forEach(pn=>{pn.currentSnapshot.forEach((bn,s)=>Me.set(s,bn))});let bt=function _e(u){return u.length?u[0]instanceof Map?u:u.map(i=>Ht(i)):[]}(o).map(pn=>G(pn));bt=function Lt(u,i,o){if(o.size&&i.length){let d=i[0],g=[];if(o.forEach((S,P)=>{d.has(P)||g.push(P),d.set(P,S)}),g.length)for(let S=1;S<i.length;S++){let P=i[S];g.forEach(z=>P.set(z,Kn(u,z)))}}return i}(i,bt,Me);const Bt=function Qa(u,i){let o=null,d=null;return Array.isArray(i)&&i.length?(o=Mi(i[0]),i.length>1&&(d=Mi(i[i.length-1]))):i instanceof Map&&(o=Mi(i)),o||d?new En(u,o,d):null}(i,bt);return new Da(i,bt,ue,Bt)}}var se=k(6895);let Q=(()=>{class u extends v._j{constructor(o,d){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(d.body,{id:"0",encapsulation:N.ifc.None,styles:[],data:{animation:[]}})}build(o){const d=this._nextAnimationId.toString();this._nextAnimationId++;const g=Array.isArray(o)?(0,v.vP)(o):o;return en(this._renderer,null,d,"register",[g]),new $(d,this._renderer)}}return u.\u0275fac=function(o){return new(o||u)(N.LFG(N.FYo),N.LFG(se.K0))},u.\u0275prov=N.Yz7({token:u,factory:u.\u0275fac}),u})();class $ extends v.LC{constructor(i,o){super(),this._id=i,this._renderer=o}create(i,o){return new ke(this._id,i,o||{},this._renderer)}}class ke{constructor(i,o,d,g){this.id=i,this.element=o,this._renderer=g,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",d)}_listen(i,o){return this._renderer.listen(this.element,`@@${this.id}:${i}`,o)}_command(i,...o){return en(this._renderer,this.element,this.id,i,o)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){var i,o;return null!==(i=null===(o=this._renderer.engine.players[+this.id])||void 0===o?void 0:o.getPosition())&&void 0!==i?i:0}}function en(u,i,o,d,g){return u.setProperty(i,`@@${o}:${d}`,g)}const Cr="@.disabled";let oo=(()=>{class u{constructor(o,d,g){this.delegate=o,this.engine=d,this._zone=g,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),d.onRemovalComplete=(S,P)=>{const z=P?.parentNode(S);z&&P.removeChild(z,S)}}createRenderer(o,d){const S=this.delegate.createRenderer(o,d);if(!(o&&d&&d.data&&d.data.animation)){let gt=this._rendererCache.get(S);return gt||(gt=new Fr("",S,this.engine),this._rendererCache.set(S,gt)),gt}const P=d.id,z=d.id+"-"+this._currentId;this._currentId++,this.engine.register(z,o);const ue=gt=>{Array.isArray(gt)?gt.forEach(ue):this.engine.registerTrigger(P,z,o,gt.name,gt)};return d.data.animation.forEach(ue),new gr(this,z,S,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(o,d,g){o>=0&&o<this._microtaskId?this._zone.run(()=>d(g)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(S=>{const[P,z]=S;P(z)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([d,g]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return u.\u0275fac=function(o){return new(o||u)(N.LFG(N.FYo),N.LFG(Xr),N.LFG(N.R0b))},u.\u0275prov=N.Yz7({token:u,factory:u.\u0275fac}),u})();class Fr{constructor(i,o,d){this.namespaceId=i,this.delegate=o,this.engine=d,this.destroyNode=this.delegate.destroyNode?g=>o.destroyNode(g):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(i,o){return this.delegate.createElement(i,o)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,o){this.delegate.appendChild(i,o),this.engine.onInsert(this.namespaceId,o,i,!1)}insertBefore(i,o,d,g=!0){this.delegate.insertBefore(i,o,d),this.engine.onInsert(this.namespaceId,o,i,g)}removeChild(i,o,d){this.engine.onRemove(this.namespaceId,o,this.delegate,d)}selectRootElement(i,o){return this.delegate.selectRootElement(i,o)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,o,d,g){this.delegate.setAttribute(i,o,d,g)}removeAttribute(i,o,d){this.delegate.removeAttribute(i,o,d)}addClass(i,o){this.delegate.addClass(i,o)}removeClass(i,o){this.delegate.removeClass(i,o)}setStyle(i,o,d,g){this.delegate.setStyle(i,o,d,g)}removeStyle(i,o,d){this.delegate.removeStyle(i,o,d)}setProperty(i,o,d){"@"==o.charAt(0)&&o==Cr?this.disableAnimations(i,!!d):this.delegate.setProperty(i,o,d)}setValue(i,o){this.delegate.setValue(i,o)}listen(i,o,d){return this.delegate.listen(i,o,d)}disableAnimations(i,o){this.engine.disableAnimations(i,o)}}class gr extends Fr{constructor(i,o,d,g){super(o,d,g),this.factory=i,this.namespaceId=o}setProperty(i,o,d){"@"==o.charAt(0)?"."==o.charAt(1)&&o==Cr?this.disableAnimations(i,d=void 0===d||!!d):this.engine.process(this.namespaceId,i,o.slice(1),d):this.delegate.setProperty(i,o,d)}listen(i,o,d){if("@"==o.charAt(0)){const g=function rs(u){switch(u){case"body":return document.body;case"document":return document;case"window":return window;default:return u}}(i);let S=o.slice(1),P="";return"@"!=S.charAt(0)&&([S,P]=function ua(u){const i=u.indexOf(".");return[u.substring(0,i),u.slice(i+1)]}(S)),this.engine.listen(this.namespaceId,g,S,P,z=>{this.factory.scheduleListenerCallback(z._data||-1,d,z)})}return this.delegate.listen(i,o,d)}}const Ba=[{provide:v._j,useClass:Q},{provide:zr,useFactory:function ao(){return new Ro}},{provide:Xr,useClass:(()=>{class u extends Xr{constructor(o,d,g,S){super(o.body,d,g)}ngOnDestroy(){this.flush()}}return u.\u0275fac=function(o){return new(o||u)(N.LFG(se.K0),N.LFG(ai),N.LFG(zr),N.LFG(N.z2F))},u.\u0275prov=N.Yz7({token:u,factory:u.\u0275fac}),u})()},{provide:N.FYo,useFactory:function Sc(u,i,o){return new oo(u,i,o)},deps:[m.se,Xr,N.R0b]}],Ql=[{provide:ai,useFactory:()=>new Hr},{provide:N.QbO,useValue:"BrowserAnimations"},...Ba],Va=[{provide:ai,useClass:Rn},{provide:N.QbO,useValue:"NoopAnimations"},...Ba];let Zo=(()=>{class u{static withConfig(o){return{ngModule:u,providers:o.disableAnimations?Va:Ql}}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=N.oAB({type:u}),u.\u0275inj=N.cJS({providers:Ql,imports:[m.b2]}),u})();var Yr=k(7868),ml=k(986);const lo=[{path:"dashboard",canActivate:[(()=>{class u{constructor(o,d){this.authService=o,this.router=d}canActivate(o,d){return!0!==this.authService.isLoggedIn&&this.router.navigate(["auth/sign-in"]),!0}}return u.\u0275fac=function(o){return new(o||u)(N.LFG(ml.e),N.LFG(Yr.F0))},u.\u0275prov=N.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()],loadChildren:()=>Promise.resolve().then(k.bind(k,2666)).then(u=>u.LayoutModule)},{path:"auth",canActivate:[(()=>{class u{constructor(o,d){this.authService=o,this.router=d}canActivate(o,d){return!0===this.authService.isLoggedIn&&this.router.navigate(["dashboard"]),!0}}return u.\u0275fac=function(o){return new(o||u)(N.LFG(ml.e),N.LFG(Yr.F0))},u.\u0275prov=N.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()],loadChildren:()=>k.e(877).then(k.bind(k,9877)).then(u=>u.AuthModule)},{path:"",redirectTo:"/auth/sign-in",pathMatch:"full"},{path:"**",redirectTo:"dashboard"}];let Ja=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=N.oAB({type:u}),u.\u0275inj=N.cJS({imports:[Yr.Bz.forRoot(lo,{relativeLinkResolution:"legacy"}),Yr.Bz.forRoot(lo,{useHash:!0}),Yr.Bz]}),u})(),W=(()=>{class u{constructor(){this.title="Todo List"}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275cmp=N.Xpm({type:u,selectors:[["app-root"]],decls:1,vars:0,template:function(o,d){1&o&&N._UZ(0,"router-outlet")},dependencies:[Yr.lC]}),u})();var ye=k(2011),q=k(4941),xe=k(6498),ct=k(1086),Zt=k(5254),un=k(13),qn=k(4850),Ni=k(7545),yi=k(6351),Hi=k(3942),Fi=k(5861),_r=k(9681),Ze=k(2090),ur=k(4859);const Rs="firebasestorage.googleapis.com",ys="storageBucket";class tr extends Ze.ZR{constructor(i,o,d=0){super(Os(i),`Firebase Storage: ${o} (${Os(i)})`),this.status_=d,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tr.prototype)}get status(){return this.status_}set status(i){this.status_=i}_codeEquals(i){return Os(i)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(i){this.customData.serverResponse=i,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Os(u){return"storage/"+u}function gl(){return new tr("unknown","An unknown error occurred, please check the error payload for server response.")}function Ll(){return new tr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Bl(){return new tr("canceled","User canceled the upload/download.")}function au(){return new tr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function pa(u){return new tr("invalid-argument",u)}function Bo(){return new tr("app-deleted","The Firebase app was deleted.")}function _l(u){return new tr("invalid-root-operation","The operation '"+u+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vo(u,i){return new tr("invalid-format","String does not match format '"+u+"': "+i)}function On(u){throw new tr("internal-error","Internal error: "+u)}class Qi{constructor(i,o){this.bucket=i,this.path_=o}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const i=encodeURIComponent;return"/b/"+i(this.bucket)+"/o/"+i(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(i,o){let d;try{d=Qi.makeFromUrl(i,o)}catch{return new Qi(i,"")}if(""===d.path)return d;throw function Mc(u){return new tr("invalid-default-bucket","Invalid default bucket '"+u+"'.")}(i)}static makeFromUrl(i,o){let d=null;const g="([A-Za-z0-9.\\-_]+)",z=new RegExp("^gs://"+g+"(/(.*))?$","i");function Me(y){y.path_=decodeURIComponent(y.path)}const bt=o.replace(/[.]/g,"\\."),f=[{regex:z,indices:{bucket:1,path:3},postModify:function S(y){"/"===y.path.charAt(y.path.length-1)&&(y.path_=y.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${bt}/v[A-Za-z0-9_]+/b/${g}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Me},{regex:new RegExp(`^https?://${o===Rs?"(?:storage.googleapis.com|storage.cloud.google.com)":o}/${g}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Me}];for(let y=0;y<f.length;y++){const M=f[y],U=M.regex.exec(i);if(U){let ve=U[M.indices.path];ve||(ve=""),d=new Qi(U[M.indices.bucket],ve),M.postModify(d);break}}if(null==d)throw function fa(u){return new tr("invalid-url","Invalid URL '"+u+"'.")}(i);return d}}class ma{constructor(i){this.promise_=Promise.reject(i)}getPromise(){return this.promise_}cancel(i=!1){}}function cn(u){return"string"==typeof u||u instanceof String}function Sn(u){return Ar()&&u instanceof Blob}function Ar(){return typeof Blob<"u"&&!(0,Ze.UG)()}function Ic(u,i,o,d){if(d<i)throw pa(`Invalid value for '${u}'. Expected ${i} or greater.`);if(d>o)throw pa(`Invalid value for '${u}'. Expected ${o} or less.`)}function Eo(u,i,o){let d=i;return null==o&&(d=`https://${i}`),`${o}://${d}/v0${u}`}function tl(u){const i=encodeURIComponent;let o="?";for(const d in u)u.hasOwnProperty(d)&&(o=o+(i(d)+"=")+i(u[d])+"&");return o=o.slice(0,-1),o}var ga=(()=>{return(u=ga||(ga={}))[u.NO_ERROR=0]="NO_ERROR",u[u.NETWORK_ERROR=1]="NETWORK_ERROR",u[u.ABORT=2]="ABORT",ga;var u})();function vl(u,i){const o=u>=500&&u<600,g=-1!==[408,429].indexOf(u),S=-1!==i.indexOf(u);return o||g||S}class xc{constructor(i,o,d,g,S,P,z,ue,Me,gt,bt,Bt=!0){this.url_=i,this.method_=o,this.headers_=d,this.body_=g,this.successCodes_=S,this.additionalRetryCodes_=P,this.callback_=z,this.errorCallback_=ue,this.timeout_=Me,this.progressCallback_=gt,this.connectionFactory_=bt,this.retry=Bt,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((pn,bn)=>{this.resolve_=pn,this.reject_=bn,this.start_()})}start_(){const o=(d,g)=>{const S=this.resolve_,P=this.reject_,z=g.connection;if(g.wasSuccessCode)try{const ue=this.callback_(z,z.getResponse());!function Ei(u){return void 0!==u}(ue)?S():S(ue)}catch(ue){P(ue)}else if(null!==z){const ue=gl();ue.serverResponse=z.getErrorText(),P(this.errorCallback_?this.errorCallback_(z,ue):ue)}else P(g.canceled?this.appDelete_?Bo():Bl():Ll())};this.canceled_?o(0,new nl(!1,null,!0)):this.backoffId_=function Gu(u,i,o){let d=1,g=null,S=null,P=!1,z=0;function ue(){return 2===z}let Me=!1;function gt(...e){Me||(Me=!0,i.apply(null,e))}function bt(e){g=setTimeout(()=>{g=null,u(pn,ue())},e)}function Bt(){S&&clearTimeout(S)}function pn(e,...t){if(Me)return void Bt();if(e)return Bt(),void gt.call(null,e,...t);if(ue()||P)return Bt(),void gt.call(null,e,...t);let f;d<64&&(d*=2),1===z?(z=2,f=0):f=1e3*(d+Math.random()),bt(f)}let bn=!1;function s(e){bn||(bn=!0,Bt(),!Me&&(null!==g?(e||(z=2),clearTimeout(g),bt(0)):e||(z=1)))}return bt(0),S=setTimeout(()=>{P=!0,s(!0)},o),s}((d,g)=>{if(g)return void d(!1,new nl(!1,null,!0));const S=this.connectionFactory_();this.pendingConnection_=S;const P=z=>{null!==this.progressCallback_&&this.progressCallback_(z.loaded,z.lengthComputable?z.total:-1)};null!==this.progressCallback_&&S.addUploadProgressListener(P),S.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&S.removeUploadProgressListener(P),this.pendingConnection_=null;const z=S.getErrorCode()===ga.NO_ERROR,ue=S.getStatus();if((!z||vl(ue,this.additionalRetryCodes_))&&this.retry){const gt=S.getErrorCode()===ga.ABORT;return void d(!1,new nl(!1,null,gt))}const Me=-1!==this.successCodes_.indexOf(ue);d(!0,new nl(Me,S))})},o,this.timeout_)}getPromise(){return this.promise_}cancel(i){this.canceled_=!0,this.appDelete_=i||!1,null!==this.backoffId_&&function ti(u){u(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class nl{constructor(i,o,d){this.wasSuccessCode=i,this.connection=o,this.canceled=!!d}}function rl(...u){const i=function qo(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==i){const o=new i;for(let d=0;d<u.length;d++)o.append(u[d]);return o.getBlob()}if(Ar())return new Blob(u);throw new tr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const cs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vi{constructor(i,o){this.data=i,this.contentType=o||null}}function co(u,i){switch(u){case cs.RAW:return new vi(wr(i));case cs.BASE64:case cs.BASE64URL:return new vi(Qo(u,i));case cs.DATA_URL:return new vi(function Xo(u){const i=new Ea(u);return i.base64?Qo(cs.BASE64,i.rest):function zn(u){let i;try{i=decodeURIComponent(u)}catch{throw Vo(cs.DATA_URL,"Malformed data URL.")}return wr(i)}(i.rest)}(i),function Sa(u){return new Ea(u).contentType}(i))}throw gl()}function wr(u){const i=[];for(let o=0;o<u.length;o++){let d=u.charCodeAt(o);d<=127?i.push(d):d<=2047?i.push(192|d>>6,128|63&d):55296==(64512&d)?o<u.length-1&&56320==(64512&u.charCodeAt(o+1))?(d=65536|(1023&d)<<10|1023&u.charCodeAt(++o),i.push(240|d>>18,128|d>>12&63,128|d>>6&63,128|63&d)):i.push(239,191,189):56320==(64512&d)?i.push(239,191,189):i.push(224|d>>12,128|d>>6&63,128|63&d)}return new Uint8Array(i)}function Qo(u,i){switch(u){case cs.BASE64:{const g=-1!==i.indexOf("-"),S=-1!==i.indexOf("_");if(g||S)throw Vo(u,"Invalid character '"+(g?"-":"_")+"' found: is it base64url encoded?");break}case cs.BASE64URL:{const g=-1!==i.indexOf("+"),S=-1!==i.indexOf("/");if(g||S)throw Vo(u,"Invalid character '"+(g?"+":"/")+"' found: is it base64 encoded?");i=i.replace(/-/g,"+").replace(/_/g,"/");break}}let o;try{o=function bi(u){return atob(u)}(i)}catch{throw Vo(u,"Invalid character found")}const d=new Uint8Array(o.length);for(let g=0;g<o.length;g++)d[g]=o.charCodeAt(g);return d}class Ea{constructor(i){this.base64=!1,this.contentType=null;const o=i.match(/^data:([^,]+)?,/);if(null===o)throw Vo(cs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const d=o[1]||null;null!=d&&(this.base64=function _a(u,i){return u.length>=i.length&&u.substring(u.length-i.length)===i}(d,";base64"),this.contentType=this.base64?d.substring(0,d.length-7):d),this.rest=i.substring(i.indexOf(",")+1)}}class ji{constructor(i,o){let d=0,g="";Sn(i)?(this.data_=i,d=i.size,g=i.type):i instanceof ArrayBuffer?(o?this.data_=new Uint8Array(i):(this.data_=new Uint8Array(i.byteLength),this.data_.set(new Uint8Array(i))),d=this.data_.length):i instanceof Uint8Array&&(o?this.data_=i:(this.data_=new Uint8Array(i.length),this.data_.set(i)),d=i.length),this.size_=d,this.type_=g}size(){return this.size_}type(){return this.type_}slice(i,o){if(Sn(this.data_)){const g=function kr(u,i,o){return u.webkitSlice?u.webkitSlice(i,o):u.mozSlice?u.mozSlice(i,o):u.slice?u.slice(i,o):null}(this.data_,i,o);return null===g?null:new ji(g)}{const d=new Uint8Array(this.data_.buffer,i,o-i);return new ji(d,!0)}}static getBlob(...i){if(Ar()){const o=i.map(d=>d instanceof ji?d.data_:d);return new ji(rl.apply(null,o))}{const o=i.map(P=>cn(P)?co(cs.RAW,P).data:P.data_);let d=0;o.forEach(P=>{d+=P.byteLength});const g=new Uint8Array(d);let S=0;return o.forEach(P=>{for(let z=0;z<P.length;z++)g[S++]=P[z]}),new ji(g,!0)}}uploadData(){return this.data_}}function bl(u){let i;try{i=JSON.parse(u)}catch{return null}return function Qn(u){return"object"==typeof u&&!Array.isArray(u)}(i)?i:null}function uo(u){const i=u.lastIndexOf("/",u.length-2);return-1===i?u:u.slice(i+1)}function Ac(u,i){return i}class Ps{constructor(i,o,d,g){this.server=i,this.local=o||i,this.writable=!!d,this.xform=g||Ac}}let Jl=null;function wl(){if(Jl)return Jl;const u=[];u.push(new Ps("bucket")),u.push(new Ps("generation")),u.push(new Ps("metageneration")),u.push(new Ps("name","fullPath",!0));const o=new Ps("name");o.xform=function i(S,P){return function Ho(u){return!cn(u)||u.length<2?u:uo(u)}(P)},u.push(o);const g=new Ps("size");return g.xform=function d(S,P){return void 0!==P?Number(P):P},u.push(g),u.push(new Ps("timeCreated")),u.push(new Ps("updated")),u.push(new Ps("md5Hash",null,!0)),u.push(new Ps("cacheControl",null,!0)),u.push(new Ps("contentDisposition",null,!0)),u.push(new Ps("contentEncoding",null,!0)),u.push(new Ps("contentLanguage",null,!0)),u.push(new Ps("contentType",null,!0)),u.push(new Ps("metadata","customMetadata",!0)),Jl=u,Jl}function jo(u,i,o){const d=bl(i);return null===d?null:function Kr(u,i,o){const d={type:"file"},g=o.length;for(let S=0;S<g;S++){const P=o[S];d[P.local]=P.xform(d,i[P.server])}return function on(u,i){Object.defineProperty(u,"ref",{get:function o(){const S=new Qi(u.bucket,u.fullPath);return i._makeStorageReference(S)}})}(d,u),d}(u,d,o)}function sl(u,i){const o={},d=i.length;for(let g=0;g<d;g++){const S=i[g];S.writable&&(o[S.server]=u[S.local])}return JSON.stringify(o)}const Ta="prefixes";class fo{constructor(i,o,d,g){this.url=i,this.method=o,this.handler=d,this.timeout=g,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function qs(u){if(!u)throw gl()}function Vl(u,i){return function o(d,g){const S=jo(u,g,i);return qs(null!==S),S}}function mo(u){return function i(o,d){let g;return g=401===o.getStatus()?o.getErrorText().includes("Firebase App Check token is invalid")?function Md(){return new tr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function $u(){return new tr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===o.getStatus()?function ha(u){return new tr("quota-exceeded","Quota for bucket '"+u+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(u.bucket):403===o.getStatus()?function Tc(u){return new tr("unauthorized","User does not have permission to access '"+u+"'.")}(u.path):d,g.status=o.getStatus(),g.serverResponse=d.serverResponse,g}}function F(u){const i=mo(u);return function o(d,g){let S=i(d,g);return 404===d.getStatus()&&(S=function ss(u){return new tr("object-not-found","Object '"+u+"' does not exist.")}(u.path)),S.serverResponse=g.serverResponse,S}}function L(u,i,o){const g=Eo(i.fullServerUrl(),u.host,u._protocol),P=u.maxOperationRetryTime,z=new fo(g,"GET",Vl(u,o),P);return z.errorHandler=F(i),z}function I(u,i,o,d,g){const S={};S.prefix=i.isRoot?"":i.path+"/",o&&o.length>0&&(S.delimiter=o),d&&(S.pageToken=d),g&&(S.maxResults=g);const z=Eo(i.bucketOnlyServerUrl(),u.host,u._protocol),Me=u.maxOperationRetryTime,gt=new fo(z,"GET",function po(u,i){return function o(d,g){const S=function ec(u,i,o){const d=bl(o);return null===d?null:function ho(u,i,o){const d={prefixes:[],items:[],nextPageToken:o.nextPageToken};if(o[Ta])for(const g of o[Ta]){const S=g.replace(/\/$/,""),P=u._makeStorageReference(new Qi(i,S));d.prefixes.push(P)}if(o.items)for(const g of o.items){const S=u._makeStorageReference(new Qi(i,g.name));d.items.push(S)}return d}(u,i,d)}(u,i,g);return qs(null!==S),S}}(u,i.bucket),Me);return gt.urlParams=S,gt.errorHandler=mo(i),gt}function Wt(u,i,o){const d=Object.assign({},o);return d.fullPath=u.path,d.size=i.size(),d.contentType||(d.contentType=function dt(u,i){return u&&u.contentType||i&&i.type()||"application/octet-stream"}(null,i)),d}class oi{constructor(i,o,d,g){this.current=i,this.total=o,this.finalized=!!d,this.metadata=g||null}}function Wn(u,i){let o=null;try{o=u.getResponseHeader("X-Goog-Upload-Status")}catch{qs(!1)}return qs(!!o&&-1!==(i||["active"]).indexOf(o)),o}const jr={STATE_CHANGED:"state_changed"},Nr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ns(u){switch(u){case"running":case"pausing":case"canceling":return Nr.RUNNING;case"paused":return Nr.PAUSED;case"success":return Nr.SUCCESS;case"canceled":return Nr.CANCELED;default:return Nr.ERROR}}class va{constructor(i,o,d){if(function Uo(u){return"function"==typeof u}(i)||null!=o||null!=d)this.next=i,this.error=o??void 0,this.complete=d??void 0;else{const S=i;this.next=S.next,this.error=S.error,this.complete=S.complete}}}function Jr(u){return(...i)=>{Promise.resolve().then(()=>u(...i))}}class Z extends class Ul{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ga.NO_ERROR,this.sendPromise_=new Promise(i=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ga.ABORT,i()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ga.NETWORK_ERROR,i()}),this.xhr_.addEventListener("load",()=>{i()})})}send(i,o,d,g){if(this.sent_)throw On("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(o,i,!0),void 0!==g)for(const S in g)g.hasOwnProperty(S)&&this.xhr_.setRequestHeader(S,g[S].toString());return void 0!==d?this.xhr_.send(d):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw On("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw On("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw On("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw On("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(i){return this.xhr_.getResponseHeader(i)}addUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",i)}removeUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",i)}}{initXhr(){this.xhr_.responseType="text"}}function re(){return new Z}class Mn{constructor(i,o,d=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=i,this._blob=o,this._metadata=d,this._mappings=wl(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=g=>{if(this._request=void 0,this._chunkMultiplier=1,g._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const S=this.isExponentialBackoffExpired();if(vl(g.status,[])){if(!S)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();g=Ll()}this._error=g,this._transition("error")}},this._metadataErrorHandler=g=>{this._request=void 0,g._codeEquals("canceled")?this.completeTransitions_():(this._error=g,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((g,S)=>{this._resolve=g,this._reject=S,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const i=this._transferred;return o=>this._updateProgress(i+o)}_shouldDoResumable(i){return i.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(i){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([o,d])=>{switch(this._state){case"running":i(o,d);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((i,o)=>{const d=function ci(u,i,o,d,g){const S=i.bucketOnlyServerUrl(),P=Wt(i,d,g),z={name:P.fullPath},ue=Eo(S,u.host,u._protocol),gt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${d.size()}`,"X-Goog-Upload-Header-Content-Type":P.contentType,"Content-Type":"application/json; charset=utf-8"},bt=sl(P,o),bn=new fo(ue,"POST",function pn(s){let e;Wn(s);try{e=s.getResponseHeader("X-Goog-Upload-URL")}catch{qs(!1)}return qs(cn(e)),e},u.maxUploadRetryTime);return bn.urlParams=z,bn.headers=gt,bn.body=bt,bn.errorHandler=mo(i),bn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),g=this._ref.storage._makeRequest(d,re,i,o);this._request=g,g.getPromise().then(S=>{this._request=void 0,this._uploadUrl=S,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const i=this._uploadUrl;this._resolveToken((o,d)=>{const g=function Ui(u,i,o,d){const ue=new fo(o,"POST",function S(Me){const gt=Wn(Me,["active","final"]);let bt=null;try{bt=Me.getResponseHeader("X-Goog-Upload-Size-Received")}catch{qs(!1)}bt||qs(!1);const Bt=Number(bt);return qs(!isNaN(Bt)),new oi(Bt,d.size(),"final"===gt)},u.maxUploadRetryTime);return ue.headers={"X-Goog-Upload-Command":"query"},ue.errorHandler=mo(i),ue}(this._ref.storage,this._ref._location,i,this._blob),S=this._ref.storage._makeRequest(g,re,o,d);this._request=S,S.getPromise().then(P=>{this._request=void 0,this._updateProgress(P.current),this._needToFetchStatus=!1,P.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const i=262144*this._chunkMultiplier,o=new oi(this._transferred,this._blob.size()),d=this._uploadUrl;this._resolveToken((g,S)=>{let P;try{P=function To(u,i,o,d,g,S,P,z){const ue=new oi(0,0);if(P?(ue.current=P.current,ue.total=P.total):(ue.current=0,ue.total=d.size()),d.size()!==ue.total)throw function lu(){return new tr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const Me=ue.total-ue.current;let gt=Me;g>0&&(gt=Math.min(gt,g));const bt=ue.current;let pn="";pn=0===gt?"finalize":Me===gt?"upload, finalize":"upload";const bn={"X-Goog-Upload-Command":pn,"X-Goog-Upload-Offset":`${ue.current}`},s=d.slice(bt,bt+gt);if(null===s)throw au();const f=new fo(o,"POST",function e(y,M){const U=Wn(y,["active","final"]),oe=ue.current+gt,ve=d.size();let $e;return $e="final"===U?Vl(i,S)(y,M):null,new oi(oe,ve,"final"===U,$e)},i.maxUploadRetryTime);return f.headers=bn,f.body=s.uploadData(),f.progressCallback=z||null,f.errorHandler=mo(u),f}(this._ref._location,this._ref.storage,d,this._blob,i,this._mappings,o,this._makeProgressCallback())}catch(ue){return this._error=ue,void this._transition("error")}const z=this._ref.storage._makeRequest(P,re,g,S,!1);this._request=z,z.getPromise().then(ue=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(ue.current),ue.finalized?(this._metadata=ue.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((i,o)=>{const d=L(this._ref.storage,this._ref._location,this._mappings),g=this._ref.storage._makeRequest(d,re,i,o);this._request=g,g.getPromise().then(S=>{this._request=void 0,this._metadata=S,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((i,o)=>{const d=function xn(u,i,o,d,g){const S=i.bucketOnlyServerUrl(),P={"X-Goog-Upload-Protocol":"multipart"},ue=function z(){let f="";for(let y=0;y<2;y++)f+=Math.random().toString().slice(2);return f}();P["Content-Type"]="multipart/related; boundary="+ue;const Me=Wt(i,d,g),gt=sl(Me,o),pn=ji.getBlob("--"+ue+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+gt+"\r\n--"+ue+"\r\nContent-Type: "+Me.contentType+"\r\n\r\n",d,"\r\n--"+ue+"--");if(null===pn)throw au();const bn={name:Me.fullPath},s=Eo(S,u.host,u._protocol),t=u.maxUploadRetryTime,a=new fo(s,"POST",Vl(u,o),t);return a.urlParams=bn,a.headers=P,a.body=pn.uploadData(),a.errorHandler=mo(i),a}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),g=this._ref.storage._makeRequest(d,re,i,o);this._request=g,g.getPromise().then(S=>{this._request=void 0,this._metadata=S,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(i){const o=this._transferred;this._transferred=i,this._transferred!==o&&this._notifyObservers()}_transition(i){if(this._state!==i)switch(i){case"canceling":case"pausing":this._state=i,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const o="paused"===this._state;this._state=i,o&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=i,this._notifyObservers();break;case"canceled":this._error=Bl(),this._state=i,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const i=Ns(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:i,metadata:this._metadata,task:this,ref:this._ref}}on(i,o,d,g){const S=new va(o||void 0,d||void 0,g||void 0);return this._addObserver(S),()=>{this._removeObserver(S)}}then(i,o){return this._promise.then(i,o)}catch(i){return this.then(null,i)}_addObserver(i){this._observers.push(i),this._notifyObserver(i)}_removeObserver(i){const o=this._observers.indexOf(i);-1!==o&&this._observers.splice(o,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(o=>{this._notifyObserver(o)})}_finishPromise(){if(void 0!==this._resolve){let i=!0;switch(Ns(this._state)){case Nr.SUCCESS:Jr(this._resolve.bind(null,this.snapshot))();break;case Nr.CANCELED:case Nr.ERROR:Jr(this._reject.bind(null,this._error))();break;default:i=!1}i&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(i){switch(Ns(this._state)){case Nr.RUNNING:case Nr.PAUSED:i.next&&Jr(i.next.bind(i,this.snapshot))();break;case Nr.SUCCESS:i.complete&&Jr(i.complete.bind(i))();break;default:i.error&&Jr(i.error.bind(i,this._error))()}}resume(){const i="paused"===this._state||"pausing"===this._state;return i&&this._transition("running"),i}pause(){const i="running"===this._state;return i&&this._transition("pausing"),i}cancel(){const i="running"===this._state||"pausing"===this._state;return i&&this._transition("canceling"),i}}class jn{constructor(i,o){this._service=i,this._location=o instanceof Qi?o:Qi.makeFromUrl(o,i.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(i,o){return new jn(i,o)}get root(){const i=new Qi(this._location.bucket,"");return this._newRef(this._service,i)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uo(this._location.path)}get storage(){return this._service}get parent(){const i=function Cl(u){if(0===u.length)return null;const i=u.lastIndexOf("/");return-1===i?"":u.slice(0,i)}(this._location.path);if(null===i)return null;const o=new Qi(this._location.bucket,i);return new jn(this._service,o)}_throwIfRoot(i){if(""===this._location.path)throw _l(i)}}function Jo(u,i,o){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,Fi.Z)(function*(u,i,o){const g=yield ol(u,{pageToken:o});i.prefixes.push(...g.prefixes),i.items.push(...g.items),null!=g.nextPageToken&&(yield Jo(u,i,g.nextPageToken))})).apply(this,arguments)}function ol(u,i){null!=i&&"number"==typeof i.maxResults&&Ic("options.maxResults",1,1e3,i.maxResults);const o=i||{},d=I(u.storage,u._location,"/",o.pageToken,o.maxResults);return u.storage.makeRequestWithTokens(d,re)}function nc(u){u._throwIfRoot("getDownloadURL");const i=function te(u,i,o){const g=Eo(i.fullServerUrl(),u.host,u._protocol),P=u.maxOperationRetryTime,z=new fo(g,"GET",function Rc(u,i){return function o(d,g){const S=jo(u,g,i);return qs(null!==S),function kc(u,i,o,d){const g=bl(i);if(null===g||!cn(g.downloadTokens))return null;const S=g.downloadTokens;if(0===S.length)return null;const P=encodeURIComponent;return S.split(",").map(Me=>{const bt=u.fullPath;return Eo("/b/"+P(u.bucket)+"/o/"+P(bt),o,d)+tl({alt:"media",token:Me})})[0]}(S,g,u.host,u._protocol)}}(u,o),P);return z.errorHandler=F(i),z}(u.storage,u._location,wl());return u.storage.makeRequestWithTokens(i,re).then(o=>{if(null===o)throw function nr(){return new tr("no-download-url","The given file does not have any download URLs.")}();return o})}function $a(u,i){const o=function Xl(u,i){const o=i.split("/").filter(d=>d.length>0).join("/");return 0===u.length?o:u+"/"+o}(u._location.path,i),d=new Qi(u._location.bucket,o);return new jn(u.storage,d)}function _h(u,i){if(u instanceof du){const o=u;if(null==o._bucket)throw function el(){return new tr("no-default-bucket","No default bucket found. Did you set the '"+ys+"' property when initializing the app?")}();const d=new jn(o,o._bucket);return null!=i?_h(d,i):d}return void 0!==i?$a(u,i):u}function ic(u,i){if(i&&function vr(u){return/^[A-Za-z]+:\/\//.test(u)}(i)){if(u instanceof du)return function uu(u,i){return new jn(u,i)}(u,i);throw pa("To use ref(service, url), the first argument must be a Storage instance.")}return _h(u,i)}function xd(u,i){const o=i?.[ys];return null==o?null:Qi.makeFromBucketSpec(o,u)}class du{constructor(i,o,d,g,S){this.app=i,this._authProvider=o,this._appCheckProvider=d,this._url=g,this._firebaseVersion=S,this._bucket=null,this._host=Rs,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=g?Qi.makeFromBucketSpec(g,this._host):xd(this._host,this.app.options)}get host(){return this._host}set host(i){this._host=i,this._bucket=null!=this._url?Qi.makeFromBucketSpec(this._url,i):xd(i,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(i){Ic("time",0,Number.POSITIVE_INFINITY,i),this._maxUploadRetryTime=i}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(i){Ic("time",0,Number.POSITIVE_INFINITY,i),this._maxOperationRetryTime=i}_getAuthToken(){var i=this;return(0,Fi.Z)(function*(){if(i._overrideAuthToken)return i._overrideAuthToken;const o=i._authProvider.getImmediate({optional:!0});if(o){const d=yield o.getToken();if(null!==d)return d.accessToken}return null})()}_getAppCheckToken(){var i=this;return(0,Fi.Z)(function*(){const o=i._appCheckProvider.getImmediate({optional:!0});return o?(yield o.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(i=>i.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(i){return new jn(this,i)}_makeRequest(i,o,d,g,S=!0){if(this._deleted)return new ma(Bo());{const P=function Si(u,i,o,d,g,S,P=!0){const z=tl(u.urlParams),ue=u.url+z,Me=Object.assign({},u.headers);return function Pr(u,i){i&&(u["X-Firebase-GMPID"]=i)}(Me,i),function yl(u,i){null!==i&&i.length>0&&(u.Authorization="Firebase "+i)}(Me,o),function Id(u,i){u["X-Firebase-Storage-Version"]="webjs/"+(i??"AppManager")}(Me,S),function il(u,i){null!==i&&(u["X-Firebase-AppCheck"]=i)}(Me,d),new xc(ue,u.method,Me,u.body,u.successCodes,u.additionalRetryCodes,u.handler,u.errorHandler,u.timeout,u.progressCallback,g,P)}(i,this._appId,d,g,o,this._firebaseVersion,S);return this._requests.add(P),P.getPromise().then(()=>this._requests.delete(P),()=>this._requests.delete(P)),P}}makeRequestWithTokens(i,o){var d=this;return(0,Fi.Z)(function*(){const[g,S]=yield Promise.all([d._getAuthToken(),d._getAppCheckToken()]);return d._makeRequest(i,o,g,S).getPromise()})()}}const zu="@firebase/storage";function al(u,i){return ic(u=(0,Ze.m9)(u),i)}function Hl(u,{instanceIdentifier:i}){const o=u.getProvider("app").getImmediate(),d=u.getProvider("auth-internal"),g=u.getProvider("app-check-internal");return new du(o,d,g,i,_r.SDK_VERSION)}!function Pc(){(0,_r._registerComponent)(new ur.wA("storage",Hl,"PUBLIC").setMultipleInstances(!0)),(0,_r.registerVersion)(zu,"0.9.13",""),(0,_r.registerVersion)(zu,"0.9.13","esm2017")}();class Qs{constructor(i,o,d){this._delegate=i,this.task=o,this.ref=d}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Wu{constructor(i,o){this._delegate=i,this._ref=o,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Qs(this._delegate.snapshot,this,this._ref)}then(i,o){return this._delegate.then(d=>{if(i)return i(new Qs(d,this,this._ref))},o)}on(i,o,d,g){let S;return o&&(S="function"==typeof o?P=>o(new Qs(P,this,this._ref)):{next:o.next?P=>o.next(new Qs(P,this,this._ref)):void 0,complete:o.complete||void 0,error:o.error||void 0}),this._delegate.on(i,S,d||void 0,g||void 0)}}class Yu{constructor(i,o){this._delegate=i,this._service=o}get prefixes(){return this._delegate.prefixes.map(i=>new Ls(i,this._service))}get items(){return this._delegate.items.map(i=>new Ls(i,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ls{constructor(i,o){this._delegate=i,this.storage=o}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(i){const o=function lf(u,i){return $a(u,i)}(this._delegate,i);return new Ls(o,this.storage)}get root(){return new Ls(this._delegate.root,this.storage)}get parent(){const i=this._delegate.parent;return null==i?null:new Ls(i,this.storage)}put(i,o){return this._throwIfRoot("put"),new Wu(function kd(u,i,o){return function Ci(u,i,o){return u._throwIfRoot("uploadBytesResumable"),new Mn(u,new ji(i),o)}(u=(0,Ze.m9)(u),i,o)}(this._delegate,i,o),this)}putString(i,o=cs.RAW,d){this._throwIfRoot("putString");const g=co(o,i),S=Object.assign({},d);return null==S.contentType&&null!=g.contentType&&(S.contentType=g.contentType),new Wu(new Mn(this._delegate,new ji(g.data,!0),S),this)}listAll(){return function Rd(u){return function Fs(u){const i={prefixes:[],items:[]};return Jo(u,i).then(()=>i)}(u=(0,Ze.m9)(u))}(this._delegate).then(i=>new Yu(i,this.storage))}list(i){return function lp(u,i){return ol(u=(0,Ze.m9)(u),i)}(this._delegate,i||void 0).then(o=>new Yu(o,this.storage))}getMetadata(){return function yh(u){return function cu(u){u._throwIfRoot("getMetadata");const i=L(u.storage,u._location,wl());return u.storage.makeRequestWithTokens(i,re)}(u=(0,Ze.m9)(u))}(this._delegate)}updateMetadata(i){return function af(u,i){return function ja(u,i){u._throwIfRoot("updateMetadata");const o=function Re(u,i,o,d){const S=Eo(i.fullServerUrl(),u.host,u._protocol),z=sl(o,d),Me=u.maxOperationRetryTime,gt=new fo(S,"PATCH",Vl(u,d),Me);return gt.headers={"Content-Type":"application/json; charset=utf-8"},gt.body=z,gt.errorHandler=F(i),gt}(u.storage,u._location,i,wl());return u.storage.makeRequestWithTokens(o,re)}(u=(0,Ze.m9)(u),i)}(this._delegate,i)}getDownloadURL(){return function bh(u){return nc(u=(0,Ze.m9)(u))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Dl(u){return function us(u){u._throwIfRoot("deleteObject");const i=function tt(u,i){const d=Eo(i.fullServerUrl(),u.host,u._protocol),z=new fo(d,"DELETE",function P(ue,Me){},u.maxOperationRetryTime);return z.successCodes=[200,204],z.errorHandler=F(i),z}(u.storage,u._location);return u.storage.makeRequestWithTokens(i,re)}(u=(0,Ze.m9)(u))}(this._delegate)}_throwIfRoot(i){if(""===this._delegate._location.path)throw _l(i)}}class ea{constructor(i,o){this.app=i,this._delegate=o}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(i){if(Ku(i))throw pa("ref() expected a child path but got a URL, use refFromURL instead.");return new Ls(al(this._delegate,i),this)}refFromURL(i){if(!Ku(i))throw pa("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Qi.makeFromUrl(i,this._delegate.host)}catch{throw pa("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ls(al(this._delegate,i),this)}setMaxUploadRetryTime(i){this._delegate.maxUploadRetryTime=i}setMaxOperationRetryTime(i){this._delegate.maxOperationRetryTime=i}useEmulator(i,o,d={}){!function Ch(u,i,o,d={}){!function Oc(u,i,o,d={}){u.host=`${i}:${o}`,u._protocol="http";const{mockUserToken:g}=d;g&&(u._overrideAuthToken="string"==typeof g?g:(0,Ze.Sg)(g,u.app.options.projectId))}(u,i,o,d)}(this._delegate,i,o,d)}}function Ku(u){return/^[A-Za-z]+:\/\//.test(u)}function El(u,{instanceIdentifier:i}){const o=u.getProvider("app-compat").getImmediate(),d=u.getProvider("storage").getImmediate({identifier:i});return new ea(o,d)}!function mu(u){const i={TaskState:Nr,TaskEvent:jr,StringFormat:cs,Storage:ea,Reference:Ls};u.INTERNAL.registerComponent(new ur.wA("storage-compat",El,"PUBLIC").setServiceProps(i).setMultipleInstances(!0)),u.registerVersion("@firebase/storage-compat","0.1.21")}(Hi.Z);var uf=k(440),cp=k(127);function df(u){const i=function up(u){return new xe.y(i=>{const o=P=>i.next(P);o(u.snapshot);const S=u.on("state_changed",o);return u.then(P=>{o(P),i.complete()},P=>{o(u.snapshot),(P=>{i.error(P)})(P)}),function(){S()}}).pipe((0,un.b)(0))}(u);return{task:u,then:u.then.bind(u),catch:u.catch.bind(u),pause:u.pause.bind(u),cancel:u.cancel.bind(u),resume:u.resume.bind(u),snapshotChanges:()=>i,percentageChanges:()=>i.pipe((0,qn.U)(o=>o.bytesTransferred/o.totalBytes*100))}}function Zu(u){return{getDownloadURL:()=>(0,ct.of)(void 0).pipe(yi.fc,(0,Ni.w)(()=>u.getDownloadURL()),yi.iC),getMetadata:()=>(0,ct.of)(void 0).pipe(yi.fc,(0,Ni.w)(()=>u.getMetadata()),yi.iC),delete:()=>(0,Zt.D)(u.delete()),child:i=>Zu(u.child(i)),updateMetadata:i=>(0,Zt.D)(u.updateMetadata(i)),put:(i,o)=>df(u.put(i,o)),putString:(i,o,d)=>df(u.putString(i,o,d)),list:i=>(0,Zt.D)(u.list(i)),listAll:()=>(0,Zt.D)(u.listAll())}}const Od=new N.OlP("angularfire2.storageBucket"),wh=new N.OlP("angularfire2.storage.maxUploadRetryTime"),um=new N.OlP("angularfire2.storage.maxOperationRetryTime"),hf=new N.OlP("angularfire2.storage.use-emulator");let gu=(()=>{class u{constructor(o,d,g,S,P,z,ue,Me,gt,bt){const Bt=(0,ye.on)(o,P,d);this.storage=(0,ye.cc)(`${Bt.name}.storage.${g}`,"AngularFireStorage",Bt.name,()=>{const pn=P.runOutsideAngular(()=>Bt.storage(g||void 0)),bn=gt;return bn&&pn.useEmulator(...bn),ue&&pn.setMaxUploadRetryTime(ue),Me&&pn.setMaxOperationRetryTime(Me),pn},[ue,Me])}ref(o){return Zu(this.storage.ref(o))}refFromURL(o){return Zu(this.storage.refFromURL(o))}upload(o,d,g){return Zu(this.storage.ref(o)).put(d,g)}}return u.\u0275fac=function(o){return new(o||u)(N.LFG(ye.Dh),N.LFG(ye.xv,8),N.LFG(Od,8),N.LFG(N.Lbi),N.LFG(N.R0b),N.LFG(yi.HU),N.LFG(wh,8),N.LFG(um,8),N.LFG(hf,8),N.LFG(uf.nm,8))},u.\u0275prov=N.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),qu=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=N.oAB({type:u}),u.\u0275inj=N.cJS({}),u})(),$o=(()=>{class u{constructor(){cp.Z.registerVersion("angularfire",yi.q4.full,"gcs-compat")}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=N.oAB({type:u}),u.\u0275inj=N.cJS({providers:[gu],imports:[qu]}),u})();var Nc=k(2796),sc=k(353),Qu=k(6787),Dh=k(2474),jl=k(2014),Cg=k(5778),dp=k(826),os=k(9054);class Fc{constructor(i,o){this.observables=i,this.project=o}call(i,o){return o.subscribe(new Eh(i,this.observables,this.project))}}class Eh extends dp.L{constructor(i,o,d){super(i),this.observables=o,this.project=d,this.toRespond=[];const g=o.length;this.values=new Array(g);for(let S=0;S<g;S++)this.toRespond.push(S);for(let S=0;S<g;S++){let P=o[S];this.add((0,os.D)(this,P,P,S))}}notifyNext(i,o,d,g,S){this.values[d]=o;const P=this.toRespond;if(P.length>0){const z=P.indexOf(d);-1!==z&&P.splice(z,1)}}notifyComplete(){}_next(i){if(0===this.toRespond.length){const o=[i,...this.values];this.project?this._tryProject(o):this.destination.next(o)}}_tryProject(i){let o;try{o=this.project.apply(this,i)}catch(d){return void this.destination.error(d)}this.destination.next(o)}}var Xu=k(3489);class hp{constructor(i){this.predicate=i}call(i,o){return o.subscribe(new fp(i,this.predicate))}}class fp extends Xu.L{constructor(i,o){super(i),this.predicate=o,this.skipping=!0,this.index=0}_next(i){const o=this.destination;this.skipping&&this.tryCallPredicate(i),this.skipping||o.next(i)}tryCallPredicate(i){try{const o=this.predicate(i,this.index++);this.skipping=Boolean(o)}catch(o){this.destination.error(o)}}}k(5881);var ll=k(1877);const ya="@firebase/database",Ma="0.13.10";let Lc="";function Bc(u){Lc=u}class ds{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,o){null==o?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,Ze.Wl)(o))}get(i){const o=this.domStorage_.getItem(this.prefixedName_(i));return null==o?null:(0,Ze.cI)(o)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}class R{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,o){null==o?delete this.cache_[i]:this.cache_[i]=o}get(i){return(0,Ze.r3)(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}const b=function(u){try{if(typeof window<"u"&&typeof window[u]<"u"){const i=window[u];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new ds(i)}}catch{}return new R},E=b("localStorage"),B=b("sessionStorage"),me=new ll.Yd("@firebase/database"),Ee=function(){let u=1;return function(){return u++}}(),xt=function(u){const i=(0,Ze.dS)(u),o=new Ze.gQ;o.update(i);const d=o.digest();return Ze.US.encodeByteArray(d)},sn=function(...u){let i="";for(let o=0;o<u.length;o++){const d=u[o];Array.isArray(d)||d&&"object"==typeof d&&"number"==typeof d.length?i+=sn.apply(null,d):i+="object"==typeof d?(0,Ze.Wl)(d):d,i+=" "}return i};let Zn=null,Vn=!0;const wi=function(u,i){(0,Ze.hu)(!i||!0===u||!1===u,"Can't turn on custom loggers persistently."),!0===u?(me.logLevel=ll.in.VERBOSE,Zn=me.log.bind(me),i&&B.set("logging_enabled",!0)):"function"==typeof u?Zn=u:(Zn=null,B.remove("logging_enabled"))},mi=function(...u){if(!0===Vn&&(Vn=!1,null===Zn&&!0===B.get("logging_enabled")&&wi(!0)),Zn){const i=sn.apply(null,u);Zn(i)}},Dr=function(u){return function(...i){mi(u,...i)}},Bs=function(...u){const i="FIREBASE INTERNAL ERROR: "+sn(...u);me.error(i)},Xs=function(...u){const i=`FIREBASE FATAL ERROR: ${sn(...u)}`;throw me.error(i),new Error(i)},Js=function(...u){const i="FIREBASE WARNING: "+sn(...u);me.warn(i)},ed=function(u){return"number"==typeof u&&(u!=u||u===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY)},Mo="[MIN_NAME]",ta="[MAX_NAME]",Ga=function(u,i){if(u===i)return 0;if(u===Mo||i===ta)return-1;if(i===Mo||u===ta)return 1;{const o=bs(u),d=bs(i);return null!==o?null!==d?o-d==0?u.length-i.length:o-d:-1:null!==d?1:u<i?-1:1}},yu=function(u,i){return u===i?0:u<i?-1:1},$l=function(u,i){if(i&&u in i)return i[u];throw new Error("Missing required key ("+u+") in object: "+(0,Ze.Wl)(i))},bu=function(u){if("object"!=typeof u||null===u)return(0,Ze.Wl)(u);const i=[];for(const d in u)i.push(d);i.sort();let o="{";for(let d=0;d<i.length;d++)0!==d&&(o+=","),o+=(0,Ze.Wl)(i[d]),o+=":",o+=bu(u[i[d]]);return o+="}",o},Tl=function(u,i){const o=u.length;if(o<=i)return[u];const d=[];for(let g=0;g<o;g+=i)d.push(u.substring(g,g+i>o?o:g+i));return d};function eo(u,i){for(const o in u)u.hasOwnProperty(o)&&i(o,u[o])}const Sh=function(u){(0,Ze.hu)(!ed(u),"Invalid JSON number");const d=1023;let g,S,P,z,ue;0===u?(S=0,P=0,g=1/u==-1/0?1:0):(g=u<0,(u=Math.abs(u))>=Math.pow(2,1-d)?(z=Math.min(Math.floor(Math.log(u)/Math.LN2),d),S=z+d,P=Math.round(u*Math.pow(2,52-z)-Math.pow(2,52))):(S=0,P=Math.round(u/Math.pow(2,-1074))));const Me=[];for(ue=52;ue;ue-=1)Me.push(P%2?1:0),P=Math.floor(P/2);for(ue=11;ue;ue-=1)Me.push(S%2?1:0),S=Math.floor(S/2);Me.push(g?1:0),Me.reverse();const gt=Me.join("");let bt="";for(ue=0;ue<64;ue+=8){let Bt=parseInt(gt.substr(ue,8),2).toString(16);1===Bt.length&&(Bt="0"+Bt),bt+=Bt}return bt.toLowerCase()},td=new RegExp("^-?(0*)\\d{1,10}$"),Cu=-2147483648,Mh=2147483647,bs=function(u){if(td.test(u)){const i=Number(u);if(i>=Cu&&i<=Mh)return i}return null},wu=function(u){try{u()}catch(i){setTimeout(()=>{throw Js("Exception was thrown by user callback.",i.stack||""),i},Math.floor(0))}},Ml=function(u,i){const o=setTimeout(u,i);return"number"==typeof o&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(o):"object"==typeof o&&o.unref&&o.unref(),o};class Ia{constructor(i,o){this.appName_=i,this.appCheckProvider=o,this.appCheck=o?.getImmediate({optional:!0}),this.appCheck||o?.get().then(d=>this.appCheck=d)}getToken(i){return this.appCheck?this.appCheck.getToken(i):new Promise((o,d)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(o,d):o(null)},0)})}addTokenChangeListener(i){var o;null===(o=this.appCheckProvider)||void 0===o||o.get().then(d=>d.addTokenListener(i))}notifyForInvalidToken(){Js(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class pp{constructor(i,o,d){this.appName_=i,this.firebaseOptions_=o,this.authProvider_=d,this.auth_=null,this.auth_=d.getImmediate({optional:!0}),this.auth_||d.onInit(g=>this.auth_=g)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(o=>o&&"auth/token-not-initialized"===o.code?(mi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(o)):new Promise((o,d)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(o,d):o(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(o=>o.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(o=>o.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';i+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Js(i)}}let Nd=(()=>{class u{constructor(o){this.accessToken=o}getToken(o){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(o){o(this.accessToken)}removeTokenChangeListener(o){}notifyForInvalidToken(){}}return u.OWNER="owner",u})();const wg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ld="websocket",_p="long_polling";class Eu{constructor(i,o,d,g,S=!1,P="",z=!1){this.secure=o,this.namespace=d,this.webSocketOnly=g,this.nodeAdmin=S,this.persistenceKey=P,this.includeNamespaceInQueryParams=z,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=E.get("host:"+i)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&E.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function mf(u,i,o){let d;if((0,Ze.hu)("string"==typeof i,"typeof type must == string"),(0,Ze.hu)("object"==typeof o,"typeof params must == object"),i===Ld)d=(u.secure?"wss://":"ws://")+u.internalHost+"/.ws?";else{if(i!==_p)throw new Error("Unknown connection type: "+i);d=(u.secure?"https://":"http://")+u.internalHost+"/.lp?"}(function pf(u){return u.host!==u.internalHost||u.isCustomHost()||u.includeNamespaceInQueryParams})(u)&&(o.ns=u.namespace);const g=[];return eo(o,(S,P)=>{g.push(S+"="+P)}),d+g.join("&")}class Dg{constructor(){this.counters_={}}incrementCounter(i,o=1){(0,Ze.r3)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=o}get(){return(0,Ze.p$)(this.counters_)}}const Ih={},nd={};function id(u){const i=u.toString();return Ih[i]||(Ih[i]=new Dg),Ih[i]}class mm{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,o){this.closeAfterResponse=i,this.onClose=o,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,o){for(this.pendingResponses[i]=o;this.pendingResponses[this.currentResponseNum];){const d=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let g=0;g<d.length;++g)d[g]&&wu(()=>{this.onMessage_(d[g])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Su{constructor(i,o,d,g,S,P,z){this.connId=i,this.repoInfo=o,this.applicationId=d,this.appCheckToken=g,this.authToken=S,this.transportSessionId=P,this.lastSessionId=z,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Dr(i),this.stats_=id(o),this.urlFn=ue=>(this.appCheckToken&&(ue.ac=this.appCheckToken),mf(o,_p,ue))}open(i,o){this.curSegmentNum=0,this.onDisconnect_=o,this.myPacketOrderer=new mm(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(u){if((0,Ze.Yr)()||"complete"===document.readyState)u();else{let i=!1;const o=function(){document.body?i||(i=!0,u()):setTimeout(o,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&o()}),window.attachEvent("onload",o))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new _f((...S)=>{const[P,z,ue,Me,gt]=S;if(this.incrementIncomingBytes_(S),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===P)this.id=z,this.password=ue;else{if("close"!==P)throw new Error("Unrecognized command received: "+P);z?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(z,()=>{this.onClosed_()})):this.onClosed_()}},(...S)=>{const[P,z]=S;this.incrementIncomingBytes_(S),this.myPacketOrderer.handleResponse(P,z)},()=>{this.onClosed_()},this.urlFn);const d={start:"t"};d.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(d.cb=this.scriptTagHolder.uniqueCallbackIdentifier),d.v="5",this.transportSessionId&&(d.s=this.transportSessionId),this.lastSessionId&&(d.ls=this.lastSessionId),this.applicationId&&(d.p=this.applicationId),this.appCheckToken&&(d.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&wg.test(location.hostname)&&(d.r="f");const g=this.urlFn(d);this.log_("Connecting via long-poll to "+g),this.scriptTagHolder.addTag(g,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Su.forceAllow_=!0}static forceDisallow(){Su.forceDisallow_=!0}static isAvailable(){return!((0,Ze.Yr)()||!Su.forceAllow_&&(Su.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const o=(0,Ze.Wl)(i);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const d=(0,Ze.h$)(o),g=Tl(d,1840);for(let S=0;S<g.length;S++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,g.length,g[S]),this.curSegmentNum++}addDisconnectPingFrame(i,o){if((0,Ze.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const d={dframe:"t"};d.id=i,d.pw=o,this.myDisconnFrame.src=this.urlFn(d),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const o=(0,Ze.Wl)(i).length;this.bytesReceived+=o,this.stats_.incrementCounter("bytes_received",o)}}class _f{constructor(i,o,d,g){if(this.onDisconnect=d,this.urlFn=g,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Ze.Yr)())this.commandCB=i,this.onMessageCB=o;else{this.uniqueCallbackIdentifier=Ee(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=o,this.myIFrame=_f.createIFrame_();let S="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(S='<script>document.domain="'+document.domain+'";<\/script>');const P="<html><body>"+S+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(P),this.myIFrame.doc.close()}catch(z){mi("frame writing exception"),z.stack&&mi(z.stack),mi(z)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||mi("No IE domain setting required")}catch{const d=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+d+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,o){for(this.myID=i,this.myPW=o,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;let o=this.urlFn(i),d="",g=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+d.length<=1870;){const P=this.pendingSegs.shift();d=d+"&seg"+g+"="+P.seg+"&ts"+g+"="+P.ts+"&d"+g+"="+P.d,g++}return o+=d,this.addLongPollTag_(o,this.currentSerial),!0}return!1}enqueueSegment(i,o,d){this.pendingSegs.push({seg:i,ts:o,d}),this.alive&&this.newRequest_()}addLongPollTag_(i,o){this.outstandingRequests.add(o);const d=()=>{this.outstandingRequests.delete(o),this.newRequest_()},g=setTimeout(d,Math.floor(25e3));this.addTag(i,()=>{clearTimeout(g),d()})}addTag(i,o){(0,Ze.Yr)()?this.doNodeLongPoll(i,o):setTimeout(()=>{try{if(!this.sendNewPolls)return;const d=this.myIFrame.doc.createElement("script");d.type="text/javascript",d.async=!0,d.src=i,d.onload=d.onreadystatechange=function(){const g=d.readyState;(!g||"loaded"===g||"complete"===g)&&(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),o())},d.onerror=()=>{mi("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(d)}catch{}},Math.floor(1))}}let Ah=null;typeof MozWebSocket<"u"?Ah=MozWebSocket:typeof WebSocket<"u"&&(Ah=WebSocket);let oc=(()=>{class u{constructor(o,d,g,S,P,z,ue){this.connId=o,this.applicationId=g,this.appCheckToken=S,this.authToken=P,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Dr(this.connId),this.stats_=id(d),this.connURL=u.connectionURL_(d,z,ue,S,g),this.nodeAdmin=d.nodeAdmin}static connectionURL_(o,d,g,S,P){const z={v:"5"};return!(0,Ze.Yr)()&&typeof location<"u"&&location.hostname&&wg.test(location.hostname)&&(z.r="f"),d&&(z.s=d),g&&(z.ls=g),S&&(z.ac=S),P&&(z.p=P),mf(o,Ld,z)}open(o,d){this.onDisconnect=d,this.onMessage=o,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,E.set("previous_websocket_failure",!0);try{let g;if((0,Ze.Yr)()){g={headers:{"User-Agent":`Firebase/5/${Lc}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(g.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(g.headers["X-Firebase-AppCheck"]=this.appCheckToken);const P=process.env,z=0===this.connURL.indexOf("wss://")?P.HTTPS_PROXY||P.https_proxy:P.HTTP_PROXY||P.http_proxy;z&&(g.proxy={origin:z})}this.mySock=new Ah(this.connURL,[],g)}catch(g){this.log_("Error instantiating WebSocket.");const S=g.message||g.data;return S&&this.log_(S),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=g=>{this.handleIncomingFrame(g)},this.mySock.onerror=g=>{this.log_("WebSocket error.  Closing connection.");const S=g.message||g.data;S&&this.log_(S),this.onClosed_()}}start(){}static forceDisallow(){u.forceDisallow_=!0}static isAvailable(){let o=!1;if(typeof navigator<"u"&&navigator.userAgent){const g=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);g&&g.length>1&&parseFloat(g[1])<4.4&&(o=!0)}return!o&&null!==Ah&&!u.forceDisallow_}static previouslyFailed(){return E.isInMemoryStorage||!0===E.get("previous_websocket_failure")}markConnectionHealthy(){E.remove("previous_websocket_failure")}appendFrame_(o){if(this.frames.push(o),this.frames.length===this.totalFrames){const d=this.frames.join("");this.frames=null;const g=(0,Ze.cI)(d);this.onMessage(g)}}handleNewFrameCount_(o){this.totalFrames=o,this.frames=[]}extractFrameCount_(o){if((0,Ze.hu)(null===this.frames,"We already have a frame buffer"),o.length<=6){const d=Number(o);if(!isNaN(d))return this.handleNewFrameCount_(d),null}return this.handleNewFrameCount_(1),o}handleIncomingFrame(o){if(null===this.mySock)return;const d=o.data;if(this.bytesReceived+=d.length,this.stats_.incrementCounter("bytes_received",d.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(d);else{const g=this.extractFrameCount_(d);null!==g&&this.appendFrame_(g)}}send(o){this.resetKeepAlive();const d=(0,Ze.Wl)(o);this.bytesSent+=d.length,this.stats_.incrementCounter("bytes_sent",d.length);const g=Tl(d,16384);g.length>1&&this.sendString_(String(g.length));for(let S=0;S<g.length;S++)this.sendString_(g[S])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(o){try{this.mySock.send(o)}catch(d){this.log_("Exception thrown from WebSocket.send():",d.message||d.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return u.responsesRequiredToBeHealthy=2,u.healthyTimeout=3e4,u})(),Ag=(()=>{class u{constructor(o){this.initTransports_(o)}static get ALL_TRANSPORTS(){return[Su,oc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(o){const d=oc&&oc.isAvailable();let g=d&&!oc.previouslyFailed();if(o.webSocketOnly&&(d||Js("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),g=!0),g)this.transports_=[oc];else{const S=this.transports_=[];for(const P of u.ALL_TRANSPORTS)P&&P.isAvailable()&&S.push(P);u.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return u.globalTransportInitialized_=!1,u})();class zo{constructor(i,o,d,g,S,P,z,ue,Me,gt){this.id=i,this.repoInfo_=o,this.applicationId_=d,this.appCheckToken_=g,this.authToken_=S,this.onMessage_=P,this.onReady_=z,this.onDisconnect_=ue,this.onKill_=Me,this.lastSessionId=gt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Dr("c:"+this.id+":"),this.transportManager_=new Ag(o),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.conn_),d=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(o,d)},Math.floor(0));const g=i.healthyTimeout||0;g>0&&(this.healthyTimeout_=Ml(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(g)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return o=>{i===this.conn_?this.onConnectionLost_(o):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return o=>{2!==this.state_&&(i===this.rx_?this.onPrimaryMessageReceived_(o):i===this.secondaryConn_?this.onSecondaryMessageReceived_(o):this.log_("message on old connection"))}}sendRequest(i){this.sendData_({t:"d",d:i})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if("t"in i){const o=i.t;"a"===o?this.upgradeIfSecondaryHealthy_():"r"===o?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===o&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const o=$l("t",i),d=$l("d",i);if("c"===o)this.onSecondaryControl_(d);else{if("d"!==o)throw new Error("Unknown protocol layer: "+o);this.pendingDataMessages.push(d)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const o=$l("t",i),d=$l("d",i);"c"===o?this.onControl_(d):"d"===o&&this.onDataMessage_(d)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const o=$l("t",i);if("d"in i){const d=i.d;if("h"===o)this.onHandshake_(d);else if("n"===o){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let g=0;g<this.pendingDataMessages.length;++g)this.onDataMessage_(this.pendingDataMessages[g]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===o?this.onConnectionShutdown_(d):"r"===o?this.onReset_(d):"e"===o?Bs("Server Error: "+d):"o"===o?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Bs("Unknown control packet command: "+o)}}onHandshake_(i){const o=i.ts,d=i.v,g=i.h;this.sessionId=i.s,this.repoInfo_.host=g,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,o),"5"!==d&&Js("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.secondaryConn_),d=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(o,d),Ml(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,o){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(o,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ml(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(E.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Uc{put(i,o,d,g){}merge(i,o,d,g){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,o,d){}onDisconnectMerge(i,o,d){}onDisconnectCancel(i,o){}reportStats(i){}}class Mu{constructor(i){this.allowedEvents_=i,this.listeners_={},(0,Ze.hu)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...o){if(Array.isArray(this.listeners_[i])){const d=[...this.listeners_[i]];for(let g=0;g<d.length;g++)d[g].callback.apply(d[g].context,o)}}on(i,o,d){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:o,context:d});const g=this.getInitialEvent(i);g&&o.apply(d,g)}off(i,o,d){this.validateEventType_(i);const g=this.listeners_[i]||[];for(let S=0;S<g.length;S++)if(g[S].callback===o&&(!d||d===g[S].context))return void g.splice(S,1)}validateEventType_(i){(0,Ze.hu)(this.allowedEvents_.find(o=>o===i),"Unknown event: "+i)}}class Gl extends Mu{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Ze.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Gl}getInitialEvent(i){return(0,Ze.hu)("online"===i,"Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}class Tr{constructor(i,o){if(void 0===o){this.pieces_=i.split("/");let d=0;for(let g=0;g<this.pieces_.length;g++)this.pieces_[g].length>0&&(this.pieces_[d]=this.pieces_[g],d++);this.pieces_.length=d,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=o}toString(){let i="";for(let o=this.pieceNum_;o<this.pieces_.length;o++)""!==this.pieces_[o]&&(i+="/"+this.pieces_[o]);return i||"/"}}function Rr(){return new Tr("")}function ar(u){return u.pieceNum_>=u.pieces_.length?null:u.pieces_[u.pieceNum_]}function Hc(u){return u.pieces_.length-u.pieceNum_}function hs(u){let i=u.pieceNum_;return i<u.pieces_.length&&i++,new Tr(u.pieces_,i)}function bf(u){return u.pieceNum_<u.pieces_.length?u.pieces_[u.pieces_.length-1]:null}function Iu(u,i=0){return u.pieces_.slice(u.pieceNum_+i)}function kh(u){if(u.pieceNum_>=u.pieces_.length)return null;const i=[];for(let o=u.pieceNum_;o<u.pieces_.length-1;o++)i.push(u.pieces_[o]);return new Tr(i,0)}function Zr(u,i){const o=[];for(let d=u.pieceNum_;d<u.pieces_.length;d++)o.push(u.pieces_[d]);if(i instanceof Tr)for(let d=i.pieceNum_;d<i.pieces_.length;d++)o.push(i.pieces_[d]);else{const d=i.split("/");for(let g=0;g<d.length;g++)d[g].length>0&&o.push(d[g])}return new Tr(o,0)}function lr(u){return u.pieceNum_>=u.pieces_.length}function xa(u,i){const o=ar(u),d=ar(i);if(null===o)return i;if(o===d)return xa(hs(u),hs(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+u+")")}function xu(u,i){const o=Iu(u,0),d=Iu(i,0);for(let g=0;g<o.length&&g<d.length;g++){const S=Ga(o[g],d[g]);if(0!==S)return S}return o.length===d.length?0:o.length<d.length?-1:1}function rd(u,i){if(Hc(u)!==Hc(i))return!1;for(let o=u.pieceNum_,d=i.pieceNum_;o<=u.pieces_.length;o++,d++)if(u.pieces_[o]!==i.pieces_[d])return!1;return!0}function zs(u,i){let o=u.pieceNum_,d=i.pieceNum_;if(Hc(u)>Hc(i))return!1;for(;o<u.pieces_.length;){if(u.pieces_[o]!==i.pieces_[d])return!1;++o,++d}return!0}class Rh{constructor(i,o){this.errorPrefix_=o,this.parts_=Iu(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let d=0;d<this.parts_.length;d++)this.byteLength_+=(0,Ze.ug)(this.parts_[d]);Og(this)}}function Og(u){if(u.byteLength_>768)throw new Error(u.errorPrefix_+"has a key path longer than 768 bytes ("+u.byteLength_+").");if(u.parts_.length>32)throw new Error(u.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+jc(u))}function jc(u){return 0===u.parts_.length?"":"in property '"+u.parts_.join(".")+"'"}class wm extends Mu{constructor(){let i,o;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(o="visibilitychange",i="hidden"):typeof document.mozHidden<"u"?(o="mozvisibilitychange",i="mozHidden"):typeof document.msHidden<"u"?(o="msvisibilitychange",i="msHidden"):typeof document.webkitHidden<"u"&&(o="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,o&&document.addEventListener(o,()=>{const d=!document[i];d!==this.visible_&&(this.visible_=d,this.trigger("visible",d))},!1)}static getInstance(){return new wm}getInitialEvent(i){return(0,Ze.hu)("visible"===i,"Unknown event type: "+i),[this.visible_]}}const ba=1e3;let od,cl=(()=>{class u extends Uc{constructor(o,d,g,S,P,z,ue,Me){if(super(),this.repoInfo_=o,this.applicationId_=d,this.onDataUpdate_=g,this.onConnectStatus_=S,this.onServerInfoUpdate_=P,this.authTokenProvider_=z,this.appCheckTokenProvider_=ue,this.authOverride_=Me,this.id=u.nextPersistentConnectionId_++,this.log_=Dr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ba,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Me&&!(0,Ze.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");wm.getInstance().on("visible",this.onVisible_,this),-1===o.host.indexOf("fblocal")&&Gl.getInstance().on("online",this.onOnline_,this)}sendRequest(o,d,g){const S=++this.requestNumber_,P={r:S,a:o,b:d};this.log_((0,Ze.Wl)(P)),(0,Ze.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(P),g&&(this.requestCBHash_[S]=g)}get(o){this.initConnection_();const d=new Ze.BH,g={p:o._path.toString(),q:o._queryObject};return this.outstandingGets_.push({action:"g",request:g,onComplete:z=>{const ue=z.d;"ok"===z.s?d.resolve(ue):d.reject(ue)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),d.promise}listen(o,d,g,S){this.initConnection_();const P=o._queryIdentifier,z=o._path.toString();this.log_("Listen called for "+z+" "+P),this.listens.has(z)||this.listens.set(z,new Map),(0,Ze.hu)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Ze.hu)(!this.listens.get(z).has(P),"listen() called twice for same path/queryId.");const ue={onComplete:S,hashFn:d,query:o,tag:g};this.listens.get(z).set(P,ue),this.connected_&&this.sendListen_(ue)}sendGet_(o){const d=this.outstandingGets_[o];this.sendRequest("g",d.request,g=>{delete this.outstandingGets_[o],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),d.onComplete&&d.onComplete(g)})}sendListen_(o){const d=o.query,g=d._path.toString(),S=d._queryIdentifier;this.log_("Listen on "+g+" for "+S);const P={p:g};o.tag&&(P.q=d._queryObject,P.t=o.tag),P.h=o.hashFn(),this.sendRequest("q",P,ue=>{const Me=ue.d,gt=ue.s;u.warnOnListenWarnings_(Me,d),(this.listens.get(g)&&this.listens.get(g).get(S))===o&&(this.log_("listen response",ue),"ok"!==gt&&this.removeListen_(g,S),o.onComplete&&o.onComplete(gt,Me))})}static warnOnListenWarnings_(o,d){if(o&&"object"==typeof o&&(0,Ze.r3)(o,"w")){const g=(0,Ze.DV)(o,"w");if(Array.isArray(g)&&~g.indexOf("no_index")){const S='".indexOn": "'+d._queryParams.getIndex().toString()+'"',P=d._path.toString();Js(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${S} at ${P} to your security rules for better performance.`)}}}refreshAuthToken(o){this.authToken_=o,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(o)}reduceReconnectDelayIfAdminCredential_(o){(o&&40===o.length||(0,Ze.GJ)(o))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(o){this.appCheckToken_=o,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const o=this.authToken_,d=(0,Ze.w9)(o)?"auth":"gauth",g={cred:o};null===this.authOverride_?g.noauth=!0:"object"==typeof this.authOverride_&&(g.authvar=this.authOverride_),this.sendRequest(d,g,S=>{const P=S.s,z=S.d||"error";this.authToken_===o&&("ok"===P?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(P,z))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},o=>{const d=o.s,g=o.d||"error";"ok"===d?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(d,g)})}unlisten(o,d){const g=o._path.toString(),S=o._queryIdentifier;this.log_("Unlisten called for "+g+" "+S),(0,Ze.hu)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(g,S)&&this.connected_&&this.sendUnlisten_(g,S,o._queryObject,d)}sendUnlisten_(o,d,g,S){this.log_("Unlisten on "+o+" for "+d);const P={p:o};S&&(P.q=g,P.t=S),this.sendRequest("n",P)}onDisconnectPut(o,d,g){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",o,d,g):this.onDisconnectRequestQueue_.push({pathString:o,action:"o",data:d,onComplete:g})}onDisconnectMerge(o,d,g){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",o,d,g):this.onDisconnectRequestQueue_.push({pathString:o,action:"om",data:d,onComplete:g})}onDisconnectCancel(o,d){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",o,null,d):this.onDisconnectRequestQueue_.push({pathString:o,action:"oc",data:null,onComplete:d})}sendOnDisconnect_(o,d,g,S){const P={p:d,d:g};this.log_("onDisconnect "+o,P),this.sendRequest(o,P,z=>{S&&setTimeout(()=>{S(z.s,z.d)},Math.floor(0))})}put(o,d,g,S){this.putInternal("p",o,d,g,S)}merge(o,d,g,S){this.putInternal("m",o,d,g,S)}putInternal(o,d,g,S,P){this.initConnection_();const z={p:d,d:g};void 0!==P&&(z.h=P),this.outstandingPuts_.push({action:o,request:z,onComplete:S}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+d)}sendPut_(o){const d=this.outstandingPuts_[o].action,g=this.outstandingPuts_[o].request,S=this.outstandingPuts_[o].onComplete;this.outstandingPuts_[o].queued=this.connected_,this.sendRequest(d,g,P=>{this.log_(d+" response",P),delete this.outstandingPuts_[o],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),S&&S(P.s,P.d)})}reportStats(o){if(this.connected_){const d={c:o};this.log_("reportStats",d),this.sendRequest("s",d,g=>{"ok"!==g.s&&this.log_("reportStats","Error sending stats: "+g.d)})}}onDataMessage_(o){if("r"in o){this.log_("from server: "+(0,Ze.Wl)(o));const d=o.r,g=this.requestCBHash_[d];g&&(delete this.requestCBHash_[d],g(o.b))}else{if("error"in o)throw"A server-side error has occurred: "+o.error;"a"in o&&this.onDataPush_(o.a,o.b)}}onDataPush_(o,d){this.log_("handleServerMessage",o,d),"d"===o?this.onDataUpdate_(d.p,d.d,!1,d.t):"m"===o?this.onDataUpdate_(d.p,d.d,!0,d.t):"c"===o?this.onListenRevoked_(d.p,d.q):"ac"===o?this.onAuthRevoked_(d.s,d.d):"apc"===o?this.onAppCheckRevoked_(d.s,d.d):"sd"===o?this.onSecurityDebugPacket_(d):Bs("Unrecognized action received from server: "+(0,Ze.Wl)(o)+"\nAre you using the latest client?")}onReady_(o,d){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(o),this.lastSessionId=d,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(o){(0,Ze.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(o))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(o){o&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ba,this.realtime_||this.scheduleConnect_(0)),this.visible_=o}onOnline_(o){o?(this.log_("Browser went online."),this.reconnectDelay_=ba,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ba),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const o=(new Date).getTime()-this.lastConnectionAttemptTime_;let d=Math.max(0,this.reconnectDelay_-o);d=Math.random()*d,this.log_("Trying to reconnect in "+d+"ms"),this.scheduleConnect_(d),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var o=this;return(0,Fi.Z)(function*(){if(o.shouldReconnect_()){o.log_("Making a connection attempt"),o.lastConnectionAttemptTime_=(new Date).getTime(),o.lastConnectionEstablishedTime_=null;const d=o.onDataMessage_.bind(o),g=o.onReady_.bind(o),S=o.onRealtimeDisconnect_.bind(o),P=o.id+":"+u.nextConnectionId_++,z=o.lastSessionId;let ue=!1,Me=null;const gt=function(){Me?Me.close():(ue=!0,S())};o.realtime_={close:gt,sendRequest:function(pn){(0,Ze.hu)(Me,"sendRequest call when we're not connected not allowed."),Me.sendRequest(pn)}};const Bt=o.forceTokenRefresh_;o.forceTokenRefresh_=!1;try{const[pn,bn]=yield Promise.all([o.authTokenProvider_.getToken(Bt),o.appCheckTokenProvider_.getToken(Bt)]);ue?mi("getToken() completed but was canceled"):(mi("getToken() completed. Creating connection."),o.authToken_=pn&&pn.accessToken,o.appCheckToken_=bn&&bn.token,Me=new zo(P,o.repoInfo_,o.applicationId_,o.appCheckToken_,o.authToken_,d,g,S,s=>{Js(s+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},z))}catch(pn){o.log_("Failed to get token: "+pn),ue||(o.repoInfo_.nodeAdmin&&Js(pn),gt())}}})()}interrupt(o){mi("Interrupting connection for reason: "+o),this.interruptReasons_[o]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(o){mi("Resuming connection for reason: "+o),delete this.interruptReasons_[o],(0,Ze.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ba,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(o){const d=o-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:d})}cancelSentTransactions_(){for(let o=0;o<this.outstandingPuts_.length;o++){const d=this.outstandingPuts_[o];d&&"h"in d.request&&d.queued&&(d.onComplete&&d.onComplete("disconnect"),delete this.outstandingPuts_[o],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(o,d){let g;g=d?d.map(P=>bu(P)).join("$"):"default";const S=this.removeListen_(o,g);S&&S.onComplete&&S.onComplete("permission_denied")}removeListen_(o,d){const g=new Tr(o).toString();let S;if(this.listens.has(g)){const P=this.listens.get(g);S=P.get(d),P.delete(d),0===P.size&&this.listens.delete(g)}else S=void 0;return S}onAuthRevoked_(o,d){mi("Auth token revoked: "+o+"/"+d),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===o||"permission_denied"===o)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(o,d){mi("App check token revoked: "+o+"/"+d),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===o||"permission_denied"===o)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(o){this.securityDebugCallback_?this.securityDebugCallback_(o):"msg"in o&&console.log("FIREBASE: "+o.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const o of this.listens.values())for(const d of o.values())this.sendListen_(d);for(let o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){const o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(let o=0;o<this.outstandingGets_.length;o++)this.outstandingGets_[o]&&this.sendGet_(o)}sendConnectStats_(){const o={};let d="js";(0,Ze.Yr)()&&(d=this.repoInfo_.nodeAdmin?"admin_node":"node"),o["sdk."+d+"."+Lc.replace(/\./g,"-")]=1,(0,Ze.uI)()?o["framework.cordova"]=1:(0,Ze.b$)()&&(o["framework.reactnative"]=1),this.reportStats(o)}shouldReconnect_(){const o=Gl.getInstance().currentlyOnline();return(0,Ze.xb)(this.interruptReasons_)&&o}}return u.nextPersistentConnectionId_=0,u.nextConnectionId_=0,u})();class Wi{constructor(i,o){this.name=i,this.node=o}static Wrap(i,o){return new Wi(i,o)}}class Ws{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,o){const d=new Wi(Mo,i),g=new Wi(Mo,o);return 0!==this.compare(d,g)}minPost(){return Wi.MIN}}class jd extends Ws{static get __EMPTY_NODE(){return od}static set __EMPTY_NODE(i){od=i}compare(i,o){return Ga(i.name,o.name)}isDefinedOn(i){throw(0,Ze.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,o){return!1}minPost(){return Wi.MIN}maxPost(){return new Wi(ta,od)}makePost(i,o){return(0,Ze.hu)("string"==typeof i,"KeyIndex indexValue must always be a string."),new Wi(i,od)}toString(){return".key"}}const vo=new jd;class xl{constructor(i,o,d,g,S=null){this.isReverse_=g,this.resultGenerator_=S,this.nodeStack_=[];let P=1;for(;!i.isEmpty();)if(P=o?d(i.key,o):1,g&&(P*=-1),P<0)i=this.isReverse_?i.left:i.right;else{if(0===P){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}getNext(){if(0===this.nodeStack_.length)return null;let o,i=this.nodeStack_.pop();if(o=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return o}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}let Gc,Ys=(()=>{class u{constructor(o,d,g,S,P){this.key=o,this.value=d,this.color=g??u.RED,this.left=S??na.EMPTY_NODE,this.right=P??na.EMPTY_NODE}copy(o,d,g,S,P){return new u(o??this.key,d??this.value,g??this.color,S??this.left,P??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(o){return this.left.inorderTraversal(o)||!!o(this.key,this.value)||this.right.inorderTraversal(o)}reverseTraversal(o){return this.right.reverseTraversal(o)||o(this.key,this.value)||this.left.reverseTraversal(o)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(o,d,g){let S=this;const P=g(o,S.key);return S=P<0?S.copy(null,null,null,S.left.insert(o,d,g),null):0===P?S.copy(null,d,null,null,null):S.copy(null,null,null,null,S.right.insert(o,d,g)),S.fixUp_()}removeMin_(){if(this.left.isEmpty())return na.EMPTY_NODE;let o=this;return!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.removeMin_(),null),o.fixUp_()}remove(o,d){let g,S;if(g=this,d(o,g.key)<0)!g.left.isEmpty()&&!g.left.isRed_()&&!g.left.left.isRed_()&&(g=g.moveRedLeft_()),g=g.copy(null,null,null,g.left.remove(o,d),null);else{if(g.left.isRed_()&&(g=g.rotateRight_()),!g.right.isEmpty()&&!g.right.isRed_()&&!g.right.left.isRed_()&&(g=g.moveRedRight_()),0===d(o,g.key)){if(g.right.isEmpty())return na.EMPTY_NODE;S=g.right.min_(),g=g.copy(S.key,S.value,null,null,g.right.removeMin_())}g=g.copy(null,null,null,null,g.right.remove(o,d))}return g.fixUp_()}isRed_(){return this.color}fixUp_(){let o=this;return o.right.isRed_()&&!o.left.isRed_()&&(o=o.rotateLeft_()),o.left.isRed_()&&o.left.left.isRed_()&&(o=o.rotateRight_()),o.left.isRed_()&&o.right.isRed_()&&(o=o.colorFlip_()),o}moveRedLeft_(){let o=this.colorFlip_();return o.right.left.isRed_()&&(o=o.copy(null,null,null,null,o.right.rotateRight_()),o=o.rotateLeft_(),o=o.colorFlip_()),o}moveRedRight_(){let o=this.colorFlip_();return o.left.left.isRed_()&&(o=o.rotateRight_(),o=o.colorFlip_()),o}rotateLeft_(){const o=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,o,null)}rotateRight_(){const o=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,o)}colorFlip_(){const o=this.left.copy(null,null,!this.left.color,null,null),d=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,o,d)}checkMaxDepth_(){const o=this.check_();return Math.pow(2,o)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const o=this.left.check_();if(o!==this.right.check_())throw new Error("Black depths differ");return o+(this.isRed_()?0:1)}}return u.RED=!0,u.BLACK=!1,u})();class na{constructor(i,o=na.EMPTY_NODE){this.comparator_=i,this.root_=o}insert(i,o){return new na(this.comparator_,this.root_.insert(i,o,this.comparator_).copy(null,null,Ys.BLACK,null,null))}remove(i){return new na(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,Ys.BLACK,null,null))}get(i){let o,d=this.root_;for(;!d.isEmpty();){if(o=this.comparator_(i,d.key),0===o)return d.value;o<0?d=d.left:o>0&&(d=d.right)}return null}getPredecessorKey(i){let o,d=this.root_,g=null;for(;!d.isEmpty();){if(o=this.comparator_(i,d.key),0===o){if(d.left.isEmpty())return g?g.key:null;for(d=d.left;!d.right.isEmpty();)d=d.right;return d.key}o<0?d=d.left:o>0&&(g=d,d=d.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new xl(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,o){return new xl(this.root_,i,this.comparator_,!1,o)}getReverseIteratorFrom(i,o){return new xl(this.root_,i,this.comparator_,!0,o)}getReverseIterator(i){return new xl(this.root_,null,this.comparator_,!0,i)}}function lc(u,i){return Ga(u.name,i.name)}function Ph(u,i){return Ga(u,i)}na.EMPTY_NODE=new class ku{copy(i,o,d,g,S){return this}insert(i,o,d){return new Ys(i,o,null)}remove(i,o){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const zl=function(u){return"number"==typeof u?"number:"+Sh(u):"string:"+u},Dp=function(u){if(u.isLeafNode()){const i=u.val();(0,Ze.hu)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,Ze.r3)(i,".sv"),"Priority must be a string or number.")}else(0,Ze.hu)(u===Gc||u.isEmpty(),"priority of unexpected type.");(0,Ze.hu)(u===Gc||u.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Em,wf,Ep,Wl=(()=>{class u{constructor(o,d=u.__childrenNodeConstructor.EMPTY_NODE){this.value_=o,this.priorityNode_=d,this.lazyHash_=null,(0,Ze.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Dp(this.priorityNode_)}static set __childrenNodeConstructor(o){Em=o}static get __childrenNodeConstructor(){return Em}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(o){return new u(this.value_,o)}getImmediateChild(o){return".priority"===o?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}getChild(o){return lr(o)?this:".priority"===ar(o)?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(o,d){return null}updateImmediateChild(o,d){return".priority"===o?this.updatePriority(d):d.isEmpty()&&".priority"!==o?this:u.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(o,d).updatePriority(this.priorityNode_)}updateChild(o,d){const g=ar(o);return null===g?d:d.isEmpty()&&".priority"!==g?this:((0,Ze.hu)(".priority"!==g||1===Hc(o),".priority must be the last token in a path"),this.updateImmediateChild(g,u.__childrenNodeConstructor.EMPTY_NODE.updateChild(hs(o),d)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(o,d){return!1}val(o){return o&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let o="";this.priorityNode_.isEmpty()||(o+="priority:"+zl(this.priorityNode_.val())+":");const d=typeof this.value_;o+=d+":",o+="number"===d?Sh(this.value_):this.value_,this.lazyHash_=xt(o)}return this.lazyHash_}getValue(){return this.value_}compareTo(o){return o===u.__childrenNodeConstructor.EMPTY_NODE?1:o instanceof u.__childrenNodeConstructor?-1:((0,Ze.hu)(o.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(o))}compareToLeafNode_(o){const d=typeof o.value_,g=typeof this.value_,S=u.VALUE_TYPE_ORDER.indexOf(d),P=u.VALUE_TYPE_ORDER.indexOf(g);return(0,Ze.hu)(S>=0,"Unknown leaf type: "+d),(0,Ze.hu)(P>=0,"Unknown leaf type: "+g),S===P?"object"===g?0:this.value_<o.value_?-1:this.value_===o.value_?0:1:P-S}withIndex(){return this}isIndexed(){return!0}equals(o){if(o===this)return!0;if(o.isLeafNode()){const d=o;return this.value_===d.value_&&this.priorityNode_.equals(d.priorityNode_)}return!1}}return u.VALUE_TYPE_ORDER=["object","boolean","number","string"],u})();const $r=new class zc extends Ws{compare(i,o){const d=i.node.getPriority(),g=o.node.getPriority(),S=d.compareTo(g);return 0===S?Ga(i.name,o.name):S}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,o){return!i.getPriority().equals(o.getPriority())}minPost(){return Wi.MIN}maxPost(){return new Wi(ta,new Wl("[PRIORITY-POST]",Ep))}makePost(i,o){const d=wf(i);return new Wi(o,new Wl("[PRIORITY-POST]",d))}toString(){return".priority"}},Df=Math.log(2);class uc{constructor(i){this.count=parseInt(Math.log(i+1)/Df,10),this.current_=this.count-1;const g=(S=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=i+1&g}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const Wa=function(u,i,o,d){u.sort(i);const g=function(ue,Me){const gt=Me-ue;let bt,Bt;if(0===gt)return null;if(1===gt)return bt=u[ue],Bt=o?o(bt):bt,new Ys(Bt,bt.node,Ys.BLACK,null,null);{const pn=parseInt(gt/2,10)+ue,bn=g(ue,pn),s=g(pn+1,Me);return bt=u[pn],Bt=o?o(bt):bt,new Ys(Bt,bt.node,Ys.BLACK,bn,s)}},z=function(ue){let Me=null,gt=null,bt=u.length;const Bt=function(bn,s){const e=bt-bn,t=bt;bt-=bn;const a=g(e+1,t),f=u[e],y=o?o(f):f;pn(new Ys(y,f.node,s,null,a))},pn=function(bn){Me?(Me.left=bn,Me=bn):(gt=bn,Me=bn)};for(let bn=0;bn<ue.count;++bn){const s=ue.nextBitIsOne(),e=Math.pow(2,ue.count-(bn+1));s?Bt(e,Ys.BLACK):(Bt(e,Ys.BLACK),Bt(e,Ys.RED))}return gt}(new uc(u.length));return new na(d||i,z)};let Wc;const ad={};class Ru{constructor(i,o){this.indexes_=i,this.indexSet_=o}static get Default(){return(0,Ze.hu)(ad&&$r,"ChildrenNode.ts has not been loaded"),Wc=Wc||new Ru({".priority":ad},{".priority":$r}),Wc}get(i){const o=(0,Ze.DV)(this.indexes_,i);if(!o)throw new Error("No index defined for "+i);return o instanceof na?o:null}hasIndex(i){return(0,Ze.r3)(this.indexSet_,i.toString())}addIndex(i,o){(0,Ze.hu)(i!==vo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const d=[];let g=!1;const S=o.getIterator(Wi.Wrap);let z,P=S.getNext();for(;P;)g=g||i.isDefinedOn(P.node),d.push(P),P=S.getNext();z=g?Wa(d,i.getCompare()):ad;const ue=i.toString(),Me=Object.assign({},this.indexSet_);Me[ue]=i;const gt=Object.assign({},this.indexes_);return gt[ue]=z,new Ru(gt,Me)}addToIndexes(i,o){const d=(0,Ze.UI)(this.indexes_,(g,S)=>{const P=(0,Ze.DV)(this.indexSet_,S);if((0,Ze.hu)(P,"Missing index implementation for "+S),g===ad){if(P.isDefinedOn(i.node)){const z=[],ue=o.getIterator(Wi.Wrap);let Me=ue.getNext();for(;Me;)Me.name!==i.name&&z.push(Me),Me=ue.getNext();return z.push(i),Wa(z,P.getCompare())}return ad}{const z=o.get(i.name);let ue=g;return z&&(ue=ue.remove(new Wi(i.name,z))),ue.insert(i,i.node)}});return new Ru(d,this.indexSet_)}removeFromIndexes(i,o){const d=(0,Ze.UI)(this.indexes_,g=>{if(g===ad)return g;{const S=o.get(i.name);return S?g.remove(new Wi(i.name,S)):g}});return new Ru(d,this.indexSet_)}}let ld,Zi=(()=>{class u{constructor(o,d,g){this.children_=o,this.priorityNode_=d,this.indexMap_=g,this.lazyHash_=null,this.priorityNode_&&Dp(this.priorityNode_),this.children_.isEmpty()&&(0,Ze.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ld||(ld=new u(new na(Ph),null,Ru.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ld}updatePriority(o){return this.children_.isEmpty()?this:new u(this.children_,o,this.indexMap_)}getImmediateChild(o){if(".priority"===o)return this.getPriority();{const d=this.children_.get(o);return null===d?ld:d}}getChild(o){const d=ar(o);return null===d?this:this.getImmediateChild(d).getChild(hs(o))}hasChild(o){return null!==this.children_.get(o)}updateImmediateChild(o,d){if((0,Ze.hu)(d,"We should always be passing snapshot nodes"),".priority"===o)return this.updatePriority(d);{const g=new Wi(o,d);let S,P;d.isEmpty()?(S=this.children_.remove(o),P=this.indexMap_.removeFromIndexes(g,this.children_)):(S=this.children_.insert(o,d),P=this.indexMap_.addToIndexes(g,this.children_));const z=S.isEmpty()?ld:this.priorityNode_;return new u(S,z,P)}}updateChild(o,d){const g=ar(o);if(null===g)return d;{(0,Ze.hu)(".priority"!==ar(o)||1===Hc(o),".priority must be the last token in a path");const S=this.getImmediateChild(g).updateChild(hs(o),d);return this.updateImmediateChild(g,S)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(o){if(this.isEmpty())return null;const d={};let g=0,S=0,P=!0;if(this.forEachChild($r,(z,ue)=>{d[z]=ue.val(o),g++,P&&u.INTEGER_REGEXP_.test(z)?S=Math.max(S,Number(z)):P=!1}),!o&&P&&S<2*g){const z=[];for(const ue in d)z[ue]=d[ue];return z}return o&&!this.getPriority().isEmpty()&&(d[".priority"]=this.getPriority().val()),d}hash(){if(null===this.lazyHash_){let o="";this.getPriority().isEmpty()||(o+="priority:"+zl(this.getPriority().val())+":"),this.forEachChild($r,(d,g)=>{const S=g.hash();""!==S&&(o+=":"+d+":"+S)}),this.lazyHash_=""===o?"":xt(o)}return this.lazyHash_}getPredecessorChildName(o,d,g){const S=this.resolveIndex_(g);if(S){const P=S.getPredecessorKey(new Wi(o,d));return P?P.name:null}return this.children_.getPredecessorKey(o)}getFirstChildName(o){const d=this.resolveIndex_(o);if(d){const g=d.minKey();return g&&g.name}return this.children_.minKey()}getFirstChild(o){const d=this.getFirstChildName(o);return d?new Wi(d,this.children_.get(d)):null}getLastChildName(o){const d=this.resolveIndex_(o);if(d){const g=d.maxKey();return g&&g.name}return this.children_.maxKey()}getLastChild(o){const d=this.getLastChildName(o);return d?new Wi(d,this.children_.get(d)):null}forEachChild(o,d){const g=this.resolveIndex_(o);return g?g.inorderTraversal(S=>d(S.name,S.node)):this.children_.inorderTraversal(d)}getIterator(o){return this.getIteratorFrom(o.minPost(),o)}getIteratorFrom(o,d){const g=this.resolveIndex_(d);if(g)return g.getIteratorFrom(o,S=>S);{const S=this.children_.getIteratorFrom(o.name,Wi.Wrap);let P=S.peek();for(;null!=P&&d.compare(P,o)<0;)S.getNext(),P=S.peek();return S}}getReverseIterator(o){return this.getReverseIteratorFrom(o.maxPost(),o)}getReverseIteratorFrom(o,d){const g=this.resolveIndex_(d);if(g)return g.getReverseIteratorFrom(o,S=>S);{const S=this.children_.getReverseIteratorFrom(o.name,Wi.Wrap);let P=S.peek();for(;null!=P&&d.compare(P,o)>0;)S.getNext(),P=S.peek();return S}}compareTo(o){return this.isEmpty()?o.isEmpty()?0:-1:o.isLeafNode()||o.isEmpty()?1:o===Fh?-1:0}withIndex(o){if(o===vo||this.indexMap_.hasIndex(o))return this;{const d=this.indexMap_.addIndex(o,this.children_);return new u(this.children_,this.priorityNode_,d)}}isIndexed(o){return o===vo||this.indexMap_.hasIndex(o)}equals(o){if(o===this)return!0;if(o.isLeafNode())return!1;{const d=o;if(this.getPriority().equals(d.getPriority())){if(this.children_.count()===d.children_.count()){const g=this.getIterator($r),S=d.getIterator($r);let P=g.getNext(),z=S.getNext();for(;P&&z;){if(P.name!==z.name||!P.node.equals(z.node))return!1;P=g.getNext(),z=S.getNext()}return null===P&&null===z}return!1}return!1}}resolveIndex_(o){return o===vo?null:this.indexMap_.get(o.toString())}}return u.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,u})();const Fh=new class Ng extends Zi{constructor(){super(new na(Ph),Zi.EMPTY_NODE,Ru.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return Zi.EMPTY_NODE}isEmpty(){return!1}};function Xi(u,i=null){if(null===u)return Zi.EMPTY_NODE;if("object"==typeof u&&".priority"in u&&(i=u[".priority"]),(0,Ze.hu)(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof u&&".value"in u&&null!==u[".value"]&&(u=u[".value"]),"object"!=typeof u||".sv"in u)return new Wl(u,Xi(i));if(u instanceof Array){let o=Zi.EMPTY_NODE;return eo(u,(d,g)=>{if((0,Ze.r3)(u,d)&&"."!==d.substring(0,1)){const S=Xi(g);(S.isLeafNode()||!S.isEmpty())&&(o=o.updateImmediateChild(d,S))}}),o.updatePriority(Xi(i))}{const o=[];let d=!1;if(eo(u,(P,z)=>{if("."!==P.substring(0,1)){const ue=Xi(z);ue.isEmpty()||(d=d||!ue.getPriority().isEmpty(),o.push(new Wi(P,ue)))}}),0===o.length)return Zi.EMPTY_NODE;const S=Wa(o,lc,P=>P.name,Ph);if(d){const P=Wa(o,$r.getCompare());return new Zi(S,Xi(i),new Ru({".priority":P},{".priority":$r}))}return new Zi(S,Xi(i),Ru.Default)}}Object.defineProperties(Wi,{MIN:{value:new Wi(Mo,Zi.EMPTY_NODE)},MAX:{value:new Wi(ta,Fh)}}),jd.__EMPTY_NODE=Zi.EMPTY_NODE,Wl.__childrenNodeConstructor=Zi,function Pg(u){Gc=u}(Fh),function Nh(u){Ep=u}(Fh),function cc(u){wf=u}(Xi);class Tp extends Ws{constructor(i){super(),this.indexPath_=i,(0,Ze.hu)(!lr(i)&&".priority"!==ar(i),"Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,o){const d=this.extractChild(i.node),g=this.extractChild(o.node),S=d.compareTo(g);return 0===S?Ga(i.name,o.name):S}makePost(i,o){const d=Xi(i),g=Zi.EMPTY_NODE.updateChild(this.indexPath_,d);return new Wi(o,g)}maxPost(){const i=Zi.EMPTY_NODE.updateChild(this.indexPath_,Fh);return new Wi(ta,i)}toString(){return Iu(this.indexPath_,0).join("/")}}const Gd=new class $d extends Ws{compare(i,o){const d=i.node.compareTo(o.node);return 0===d?Ga(i.name,o.name):d}isDefinedOn(i){return!0}indexedValueChanged(i,o){return!i.equals(o)}minPost(){return Wi.MIN}maxPost(){return Wi.MAX}makePost(i,o){const d=Xi(i);return new Wi(o,d)}toString(){return".value"}},dc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ef=function(){let u=0;const i=[];return function(o){const d=o===u;let g;u=o;const S=new Array(8);for(g=7;g>=0;g--)S[g]=dc.charAt(o%64),o=Math.floor(o/64);(0,Ze.hu)(0===o,"Cannot push at time == 0");let P=S.join("");if(d){for(g=11;g>=0&&63===i[g];g--)i[g]=0;i[g]++}else for(g=0;g<12;g++)i[g]=Math.floor(64*Math.random());for(g=0;g<12;g++)P+=dc.charAt(i[g]);return(0,Ze.hu)(20===P.length,"nextPushId: Length should be 20."),P}}(),Sm=function(u){if(u===""+Mh)return"-";const i=bs(u);if(null!=i)return""+(i+1);const o=new Array(u.length);for(let P=0;P<o.length;P++)o[P]=u.charAt(P);if(o.length<786)return o.push("-"),o.join("");let d=o.length-1;for(;d>=0&&"z"===o[d];)d--;if(-1===d)return ta;const S=dc.charAt(dc.indexOf(o[d])+1);return o[d]=S,o.slice(0,d+1).join("")},Ou=function(u){if(u===""+Cu)return Mo;const i=bs(u);if(null!=i)return""+(i-1);const o=new Array(u.length);for(let d=0;d<o.length;d++)o[d]=u.charAt(d);return"-"===o[o.length-1]?1===o.length?""+Mh:(delete o[o.length-1],o.join("")):(o[o.length-1]=dc.charAt(dc.indexOf(o[o.length-1])-1),o.join("")+"z".repeat(786-o.length))};function cd(u){return{type:"value",snapshotNode:u}}function Yl(u,i){return{type:"child_added",snapshotNode:i,childName:u}}function Pu(u,i){return{type:"child_removed",snapshotNode:i,childName:u}}function Kc(u,i,o){return{type:"child_changed",snapshotNode:i,childName:u,oldSnap:o}}class Mp{constructor(i){this.index_=i}updateChild(i,o,d,g,S,P){(0,Ze.hu)(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");const z=i.getImmediateChild(o);return z.getChild(g).equals(d.getChild(g))&&z.isEmpty()===d.isEmpty()||(null!=P&&(d.isEmpty()?i.hasChild(o)?P.trackChildChange(Pu(o,z)):(0,Ze.hu)(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):z.isEmpty()?P.trackChildChange(Yl(o,d)):P.trackChildChange(Kc(o,d,z))),i.isLeafNode()&&d.isEmpty())?i:i.updateImmediateChild(o,d).withIndex(this.index_)}updateFullNode(i,o,d){return null!=d&&(i.isLeafNode()||i.forEachChild($r,(g,S)=>{o.hasChild(g)||d.trackChildChange(Pu(g,S))}),o.isLeafNode()||o.forEachChild($r,(g,S)=>{if(i.hasChild(g)){const P=i.getImmediateChild(g);P.equals(S)||d.trackChildChange(Kc(g,S,P))}else d.trackChildChange(Yl(g,S))})),o.withIndex(this.index_)}updatePriority(i,o){return i.isEmpty()?Zi.EMPTY_NODE:i.updatePriority(o)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Wd{constructor(i){this.indexedFilter_=new Mp(i.getIndex()),this.index_=i.getIndex(),this.startPost_=Wd.getStartPost_(i),this.endPost_=Wd.getEndPost_(i)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){return this.index_.compare(this.getStartPost(),i)<=0&&this.index_.compare(i,this.getEndPost())<=0}updateChild(i,o,d,g,S,P){return this.matches(new Wi(o,d))||(d=Zi.EMPTY_NODE),this.indexedFilter_.updateChild(i,o,d,g,S,P)}updateFullNode(i,o,d){o.isLeafNode()&&(o=Zi.EMPTY_NODE);let g=o.withIndex(this.index_);g=g.updatePriority(Zi.EMPTY_NODE);const S=this;return o.forEachChild($r,(P,z)=>{S.matches(new Wi(P,z))||(g=g.updateImmediateChild(P,Zi.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,g,d)}updatePriority(i,o){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){const o=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),o)}return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){const o=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),o)}return i.getIndex().maxPost()}}class Tm{constructor(i){this.rangedFilter_=new Wd(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft()}updateChild(i,o,d,g,S,P){return this.rangedFilter_.matches(new Wi(o,d))||(d=Zi.EMPTY_NODE),i.getImmediateChild(o).equals(d)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,o,d,g,S,P):this.fullLimitUpdateChild_(i,o,d,S,P)}updateFullNode(i,o,d){let g;if(o.isLeafNode()||o.isEmpty())g=Zi.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<o.numChildren()&&o.isIndexed(this.index_)){let S;g=Zi.EMPTY_NODE.withIndex(this.index_),S=this.reverse_?o.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let P=0;for(;S.hasNext()&&P<this.limit_;){const z=S.getNext();let ue;if(ue=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),z)<=0:this.index_.compare(z,this.rangedFilter_.getEndPost())<=0,!ue)break;g=g.updateImmediateChild(z.name,z.node),P++}}else{let S,P,z,ue;if(g=o.withIndex(this.index_),g=g.updatePriority(Zi.EMPTY_NODE),this.reverse_){ue=g.getReverseIterator(this.index_),S=this.rangedFilter_.getEndPost(),P=this.rangedFilter_.getStartPost();const bt=this.index_.getCompare();z=(Bt,pn)=>bt(pn,Bt)}else ue=g.getIterator(this.index_),S=this.rangedFilter_.getStartPost(),P=this.rangedFilter_.getEndPost(),z=this.index_.getCompare();let Me=0,gt=!1;for(;ue.hasNext();){const bt=ue.getNext();!gt&&z(S,bt)<=0&&(gt=!0),gt&&Me<this.limit_&&z(bt,P)<=0?Me++:g=g.updateImmediateChild(bt.name,Zi.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,g,d)}updatePriority(i,o){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,o,d,g,S){let P;if(this.reverse_){const bt=this.index_.getCompare();P=(Bt,pn)=>bt(pn,Bt)}else P=this.index_.getCompare();const z=i;(0,Ze.hu)(z.numChildren()===this.limit_,"");const ue=new Wi(o,d),Me=this.reverse_?z.getFirstChild(this.index_):z.getLastChild(this.index_),gt=this.rangedFilter_.matches(ue);if(z.hasChild(o)){const bt=z.getImmediateChild(o);let Bt=g.getChildAfterChild(this.index_,Me,this.reverse_);for(;null!=Bt&&(Bt.name===o||z.hasChild(Bt.name));)Bt=g.getChildAfterChild(this.index_,Bt,this.reverse_);const pn=null==Bt?1:P(Bt,ue);if(gt&&!d.isEmpty()&&pn>=0)return S?.trackChildChange(Kc(o,d,bt)),z.updateImmediateChild(o,d);{S?.trackChildChange(Pu(o,bt));const s=z.updateImmediateChild(o,Zi.EMPTY_NODE);return null!=Bt&&this.rangedFilter_.matches(Bt)?(S?.trackChildChange(Yl(Bt.name,Bt.node)),s.updateImmediateChild(Bt.name,Bt.node)):s}}return d.isEmpty()?i:gt&&P(Me,ue)>=0?(null!=S&&(S.trackChildChange(Pu(Me.name,Me.node)),S.trackChildChange(Yl(o,d))),z.updateImmediateChild(o,d).updateImmediateChild(Me.name,Zi.EMPTY_NODE)):i}}class Yd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=$r}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Ze.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Ze.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mo}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Ze.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Ze.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ta}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Ze.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===$r}copy(){const i=new Yd;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}}function xp(u,i,o){const d=u.copy();return d.startSet_=!0,void 0===i&&(i=null),d.indexStartValue_=i,null!=o?(d.startNameSet_=!0,d.indexStartName_=o):(d.startNameSet_=!1,d.indexStartName_=""),d}function Mf(u,i,o){const d=u.copy();return d.endSet_=!0,void 0===i&&(i=null),d.indexEndValue_=i,void 0!==o?(d.endNameSet_=!0,d.indexEndName_=o):(d.endNameSet_=!1,d.indexEndName_=""),d}function fc(u,i){const o=u.copy();return o.index_=i,o}function If(u){const i={};if(u.isDefault())return i;let o;return u.index_===$r?o="$priority":u.index_===Gd?o="$value":u.index_===vo?o="$key":((0,Ze.hu)(u.index_ instanceof Tp,"Unrecognized index type!"),o=u.index_.toString()),i.orderBy=(0,Ze.Wl)(o),u.startSet_&&(i.startAt=(0,Ze.Wl)(u.indexStartValue_),u.startNameSet_&&(i.startAt+=","+(0,Ze.Wl)(u.indexStartName_))),u.endSet_&&(i.endAt=(0,Ze.Wl)(u.indexEndValue_),u.endNameSet_&&(i.endAt+=","+(0,Ze.Wl)(u.indexEndName_))),u.limitSet_&&(u.isViewFromLeft()?i.limitToFirst=u.limit_:i.limitToLast=u.limit_),i}function Zd(u){const i={};if(u.startSet_&&(i.sp=u.indexStartValue_,u.startNameSet_&&(i.sn=u.indexStartName_)),u.endSet_&&(i.ep=u.indexEndValue_,u.endNameSet_&&(i.en=u.indexEndName_)),u.limitSet_){i.l=u.limit_;let o=u.viewFrom_;""===o&&(o=u.isViewFromLeft()?"l":"r"),i.vf=o}return u.index_!==$r&&(i.i=u.index_.toString()),i}class Lh extends Uc{constructor(i,o,d,g){super(),this.repoInfo_=i,this.onDataUpdate_=o,this.authTokenProvider_=d,this.appCheckTokenProvider_=g,this.log_=Dr("p:rest:"),this.listens_={}}reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,o){return void 0!==o?"tag$"+o:((0,Ze.hu)(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}listen(i,o,d,g){const S=i._path.toString();this.log_("Listen called for "+S+" "+i._queryIdentifier);const P=Lh.getListenId_(i,d),z={};this.listens_[P]=z;const ue=If(i._queryParams);this.restRequest_(S+".json",ue,(Me,gt)=>{let bt=gt;if(404===Me&&(bt=null,Me=null),null===Me&&this.onDataUpdate_(S,bt,!1,d),(0,Ze.DV)(this.listens_,P)===z){let Bt;Bt=Me?401===Me?"permission_denied":"rest_error:"+Me:"ok",g(Bt,null)}})}unlisten(i,o){const d=Lh.getListenId_(i,o);delete this.listens_[d]}get(i){const o=If(i._queryParams),d=i._path.toString(),g=new Ze.BH;return this.restRequest_(d+".json",o,(S,P)=>{let z=P;404===S&&(z=null,S=null),null===S?(this.onDataUpdate_(d,z,!1,null),g.resolve(z)):g.reject(new Error(z))}),g.promise}refreshAuthToken(i){}restRequest_(i,o={},d){return o.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([g,S])=>{g&&g.accessToken&&(o.auth=g.accessToken),S&&S.token&&(o.ac=S.token);const P=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+(0,Ze.xO)(o);this.log_("Sending REST request for "+P);const z=new XMLHttpRequest;z.onreadystatechange=()=>{if(d&&4===z.readyState){this.log_("REST Response for "+P+" received. status:",z.status,"response:",z.responseText);let ue=null;if(z.status>=200&&z.status<300){try{ue=(0,Ze.cI)(z.responseText)}catch{Js("Failed to parse JSON response for "+P+": "+z.responseText)}d(null,ue)}else 401!==z.status&&404!==z.status&&Js("Got unsuccessful REST response for "+P+" Status: "+z.status),d(z.status);d=null}},z.open("GET",P,!0),z.send()})}}class Im{constructor(){this.rootNode_=Zi.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,o){this.rootNode_=this.rootNode_.updateChild(i,o)}}function Bh(){return{value:null,children:new Map}}function Oi(u,i,o){if(lr(i))u.value=o,u.children.clear();else if(null!==u.value)u.value=u.value.updateChild(i,o);else{const d=ar(i);u.children.has(d)||u.children.set(d,Bh()),Oi(u.children.get(d),i=hs(i),o)}}function qd(u,i){if(lr(i))return u.value=null,u.children.clear(),!0;if(null!==u.value){if(u.value.isLeafNode())return!1;{const o=u.value;return u.value=null,o.forEachChild($r,(d,g)=>{Oi(u,new Tr(d),g)}),qd(u,i)}}if(u.children.size>0){const o=ar(i);return i=hs(i),u.children.has(o)&&qd(u.children.get(o),i)&&u.children.delete(o),0===u.children.size}return!0}function xf(u,i,o){null!==u.value?o(i,u.value):function Ap(u,i){u.children.forEach((o,d)=>{i(d,o)})}(u,(d,g)=>{xf(g,new Tr(i.toString()+"/"+d),o)})}class kp{constructor(i){this.collection_=i,this.last_=null}get(){const i=this.collection_.get(),o=Object.assign({},i);return this.last_&&eo(this.last_,(d,g)=>{o[d]=o[d]-g}),this.last_=i,o}}class ud{constructor(i,o){this.server_=o,this.statsToReport_={},this.statsListener_=new kp(i);const d=1e4+2e4*Math.random();Ml(this.reportStats_.bind(this),Math.floor(d))}reportStats_(){const i=this.statsListener_.get(),o={};let d=!1;eo(i,(g,S)=>{S>0&&(0,Ze.r3)(this.statsToReport_,g)&&(o[g]=S,d=!0)}),d&&this.server_.reportStats(o),Ml(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Aa=(()=>{return(u=Aa||(Aa={}))[u.OVERWRITE=0]="OVERWRITE",u[u.MERGE=1]="MERGE",u[u.ACK_USER_WRITE=2]="ACK_USER_WRITE",u[u.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Aa;var u})();function Xd(u){return{fromUser:!1,fromServer:!0,queryId:u,tagged:!0}}class w{constructor(i,o,d){this.path=i,this.affectedTree=o,this.revert=d,this.type=Aa.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(i){if(lr(this.path)){if(null!=this.affectedTree.value)return(0,Ze.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const o=this.affectedTree.subtree(new Tr(i));return new w(Rr(),o,this.revert)}}return(0,Ze.hu)(ar(this.path)===i,"operationForChild called for unrelated child."),new w(hs(this.path),this.affectedTree,this.revert)}}class T{constructor(i,o){this.source=i,this.path=o,this.type=Aa.LISTEN_COMPLETE}operationForChild(i){return lr(this.path)?new T(this.source,Rr()):new T(this.source,hs(this.path))}}class c{constructor(i,o,d){this.source=i,this.path=o,this.snap=d,this.type=Aa.OVERWRITE}operationForChild(i){return lr(this.path)?new c(this.source,Rr(),this.snap.getImmediateChild(i)):new c(this.source,hs(this.path),this.snap)}}class _{constructor(i,o,d){this.source=i,this.path=o,this.children=d,this.type=Aa.MERGE}operationForChild(i){if(lr(this.path)){const o=this.children.subtree(new Tr(i));return o.isEmpty()?null:o.value?new c(this.source,Rr(),o.value):new _(this.source,Rr(),o)}return(0,Ze.hu)(ar(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new _(this.source,hs(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class O{constructor(i,o,d){this.node_=i,this.fullyInitialized_=o,this.filtered_=d}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(lr(i))return this.isFullyInitialized()&&!this.filtered_;const o=ar(i);return this.isCompleteForChild(o)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}}class ie{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}}function qt(u,i,o,d,g,S){const P=d.filter(z=>z.type===o);P.sort((z,ue)=>function Ii(u,i,o){if(null==i.childName||null==o.childName)throw(0,Ze.g5)("Should only compare child_ events.");const d=new Wi(i.childName,i.snapshotNode),g=new Wi(o.childName,o.snapshotNode);return u.index_.compare(d,g)}(u,z,ue)),P.forEach(z=>{const ue=function An(u,i,o){return"value"===i.type||"child_removed"===i.type||(i.prevName=o.getPredecessorChildName(i.childName,i.snapshotNode,u.index_)),i}(u,z,S);g.forEach(Me=>{Me.respondsTo(z.type)&&i.push(Me.createEvent(ue,u.query_))})})}function ui(u,i){return{eventCache:u,serverCache:i}}function yr(u,i,o,d){return ui(new O(i,o,d),u.serverCache)}function cr(u,i,o,d){return ui(u.eventCache,new O(i,o,d))}function Cs(u){return u.eventCache.isFullyInitialized()?u.eventCache.getNode():null}function Al(u){return u.serverCache.isFullyInitialized()?u.serverCache.getNode():null}let dl;class es{constructor(i,o=(()=>(dl||(dl=new na(yu)),dl))()){this.value=i,this.children=o}static fromObject(i){let o=new es(null);return eo(i,(d,g)=>{o=o.set(new Tr(d),g)}),o}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,o){if(null!=this.value&&o(this.value))return{path:Rr(),value:this.value};if(lr(i))return null;{const d=ar(i),g=this.children.get(d);if(null!==g){const S=g.findRootMostMatchingPathAndValue(hs(i),o);return null!=S?{path:Zr(new Tr(d),S.path),value:S.value}:null}return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(lr(i))return this;{const o=ar(i),d=this.children.get(o);return null!==d?d.subtree(hs(i)):new es(null)}}set(i,o){if(lr(i))return new es(o,this.children);{const d=ar(i),S=(this.children.get(d)||new es(null)).set(hs(i),o),P=this.children.insert(d,S);return new es(this.value,P)}}remove(i){if(lr(i))return this.children.isEmpty()?new es(null):new es(null,this.children);{const o=ar(i),d=this.children.get(o);if(d){const g=d.remove(hs(i));let S;return S=g.isEmpty()?this.children.remove(o):this.children.insert(o,g),null===this.value&&S.isEmpty()?new es(null):new es(this.value,S)}return this}}get(i){if(lr(i))return this.value;{const o=ar(i),d=this.children.get(o);return d?d.get(hs(i)):null}}setTree(i,o){if(lr(i))return o;{const d=ar(i),S=(this.children.get(d)||new es(null)).setTree(hs(i),o);let P;return P=S.isEmpty()?this.children.remove(d):this.children.insert(d,S),new es(this.value,P)}}fold(i){return this.fold_(Rr(),i)}fold_(i,o){const d={};return this.children.inorderTraversal((g,S)=>{d[g]=S.fold_(Zr(i,g),o)}),o(i,this.value,d)}findOnPath(i,o){return this.findOnPath_(i,Rr(),o)}findOnPath_(i,o,d){const g=!!this.value&&d(o,this.value);if(g)return g;if(lr(i))return null;{const S=ar(i),P=this.children.get(S);return P?P.findOnPath_(hs(i),Zr(o,S),d):null}}foreachOnPath(i,o){return this.foreachOnPath_(i,Rr(),o)}foreachOnPath_(i,o,d){if(lr(i))return this;{this.value&&d(o,this.value);const g=ar(i),S=this.children.get(g);return S?S.foreachOnPath_(hs(i),Zr(o,g),d):new es(null)}}foreach(i){this.foreach_(Rr(),i)}foreach_(i,o){this.children.inorderTraversal((d,g)=>{g.foreach_(Zr(i,d),o)}),this.value&&o(i,this.value)}foreachChild(i){this.children.inorderTraversal((o,d)=>{d.value&&i(o,d.value)})}}class ka{constructor(i){this.writeTree_=i}static empty(){return new ka(new es(null))}}function Zc(u,i,o){if(lr(i))return new ka(new es(o));{const d=u.writeTree_.findRootMostValueAndPath(i);if(null!=d){const g=d.path;let S=d.value;const P=xa(g,i);return S=S.updateChild(P,o),new ka(u.writeTree_.set(g,S))}{const g=new es(o),S=u.writeTree_.setTree(i,g);return new ka(S)}}}function Nu(u,i,o){let d=u;return eo(o,(g,S)=>{d=Zc(d,Zr(i,g),S)}),d}function xm(u,i){if(lr(i))return ka.empty();{const o=u.writeTree_.setTree(i,new es(null));return new ka(o)}}function kf(u,i){return null!=qc(u,i)}function qc(u,i){const o=u.writeTree_.findRootMostValueAndPath(i);return null!=o?u.writeTree_.get(o.path).getChild(xa(o.path,i)):null}function Np(u){const i=[],o=u.writeTree_.value;return null!=o?o.isLeafNode()||o.forEachChild($r,(d,g)=>{i.push(new Wi(d,g))}):u.writeTree_.children.inorderTraversal((d,g)=>{null!=g.value&&i.push(new Wi(d,g.value))}),i}function dd(u,i){if(lr(i))return u;{const o=qc(u,i);return new ka(null!=o?new es(o):u.writeTree_.subtree(i))}}function Rf(u){return u.writeTree_.isEmpty()}function hd(u,i){return pc(Rr(),u.writeTree_,i)}function pc(u,i,o){if(null!=i.value)return o.updateChild(u,i.value);{let d=null;return i.children.inorderTraversal((g,S)=>{".priority"===g?((0,Ze.hu)(null!==S.value,"Priority writes must always be leaf nodes"),d=S.value):o=pc(Zr(u,g),S,o)}),!o.getChild(u).isEmpty()&&null!==d&&(o=o.updateChild(Zr(u,".priority"),d)),o}}function Am(u,i){return Nf(i,u)}function V_(u,i){if(u.snap)return zs(u.path,i);for(const o in u.children)if(u.children.hasOwnProperty(o)&&zs(Zr(u.path,o),i))return!0;return!1}function Vh(u){return u.visible}function kl(u,i,o){let d=ka.empty();for(let g=0;g<u.length;++g){const S=u[g];if(i(S)){const P=S.path;let z;if(S.snap)zs(o,P)?(z=xa(o,P),d=Zc(d,z,S.snap)):zs(P,o)&&(z=xa(P,o),d=Zc(d,Rr(),S.snap.getChild(z)));else{if(!S.children)throw(0,Ze.g5)("WriteRecord should have .snap or .children");if(zs(o,P))z=xa(o,P),d=Nu(d,z,S.children);else if(zs(P,o))if(z=xa(P,o),lr(z))d=Nu(d,Rr(),S.children);else{const ue=(0,Ze.DV)(S.children,ar(z));if(ue){const Me=ue.getChild(hs(z));d=Zc(d,Rr(),Me)}}}}}return d}function Rm(u,i,o,d,g){if(d||g){const S=dd(u.visibleWrites,i);return!g&&Rf(S)?o:g||null!=o||kf(S,Rr())?hd(kl(u.allWrites,function(Me){return(Me.visible||g)&&(!d||!~d.indexOf(Me.writeId))&&(zs(Me.path,i)||zs(i,Me.path))},i),o||Zi.EMPTY_NODE):null}{const S=qc(u.visibleWrites,i);if(null!=S)return S;{const P=dd(u.visibleWrites,i);return Rf(P)?o:null!=o||kf(P,Rr())?hd(P,o||Zi.EMPTY_NODE):null}}}function Ug(u,i,o,d){return Rm(u.writeTree,u.treePath,i,o,d)}function Pf(u,i){return function Of(u,i,o){let d=Zi.EMPTY_NODE;const g=qc(u.visibleWrites,i);if(g)return g.isLeafNode()||g.forEachChild($r,(S,P)=>{d=d.updateImmediateChild(S,P)}),d;if(o){const S=dd(u.visibleWrites,i);return o.forEachChild($r,(P,z)=>{const ue=hd(dd(S,new Tr(P)),z);d=d.updateImmediateChild(P,ue)}),Np(S).forEach(P=>{d=d.updateImmediateChild(P.name,P.node)}),d}return Np(dd(u.visibleWrites,i)).forEach(P=>{d=d.updateImmediateChild(P.name,P.node)}),d}(u.writeTree,u.treePath,i)}function Nv(u,i,o,d){return function Fp(u,i,o,d,g){(0,Ze.hu)(d||g,"Either existingEventSnap or existingServerSnap must exist");const S=Zr(i,o);if(kf(u.visibleWrites,S))return null;{const P=dd(u.visibleWrites,S);return Rf(P)?g.getChild(o):hd(P,g.getChild(o))}}(u.writeTree,u.treePath,i,o,d)}function pd(u,i){return function Bg(u,i){return qc(u.visibleWrites,i)}(u.writeTree,Zr(u.treePath,i))}function Uh(u,i,o){return function fd(u,i,o,d){const g=Zr(i,o),S=qc(u.visibleWrites,g);return null!=S?S:d.isCompleteForChild(o)?hd(dd(u.visibleWrites,g),d.getNode().getImmediateChild(o)):null}(u.writeTree,u.treePath,i,o)}function Nm(u,i){return Nf(Zr(u.treePath,i),u.writeTree)}function Nf(u,i){return{treePath:u,writeTree:i}}class Fv{constructor(){this.changeMap=new Map}trackChildChange(i){const o=i.type,d=i.childName;(0,Ze.hu)("child_added"===o||"child_changed"===o||"child_removed"===o,"Only child changes supported for tracking"),(0,Ze.hu)(".priority"!==d,"Only non-priority child changes can be tracked.");const g=this.changeMap.get(d);if(g){const S=g.type;if("child_added"===o&&"child_removed"===S)this.changeMap.set(d,Kc(d,i.snapshotNode,g.snapshotNode));else if("child_removed"===o&&"child_added"===S)this.changeMap.delete(d);else if("child_removed"===o&&"child_changed"===S)this.changeMap.set(d,Pu(d,g.oldSnap));else if("child_changed"===o&&"child_added"===S)this.changeMap.set(d,Yl(d,i.snapshotNode));else{if("child_changed"!==o||"child_changed"!==S)throw(0,Ze.g5)("Illegal combination of changes: "+i+" occurred after "+g);this.changeMap.set(d,Kc(d,i.snapshotNode,g.oldSnap))}}else this.changeMap.set(d,i)}getChanges(){return Array.from(this.changeMap.values())}}const Fm=new class Hg{getCompleteChild(i){return null}getChildAfterChild(i,o,d){return null}};class Lp{constructor(i,o,d=null){this.writes_=i,this.viewCache_=o,this.optCompleteServerCache_=d}getCompleteChild(i){const o=this.viewCache_.eventCache;if(o.isCompleteForChild(i))return o.getNode().getImmediateChild(i);{const d=null!=this.optCompleteServerCache_?new O(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Uh(this.writes_,i,d)}}getChildAfterChild(i,o,d){const g=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Al(this.viewCache_),S=function Pm(u,i,o,d,g,S){return function Vg(u,i,o,d,g,S,P){let z;const ue=dd(u.visibleWrites,i),Me=qc(ue,Rr());if(null!=Me)z=Me;else{if(null==o)return[];z=hd(ue,o)}if(z=z.withIndex(P),z.isEmpty()||z.isLeafNode())return[];{const gt=[],bt=P.getCompare(),Bt=S?z.getReverseIteratorFrom(d,P):z.getIteratorFrom(d,P);let pn=Bt.getNext();for(;pn&&gt.length<g;)0!==bt(pn,d)&&gt.push(pn),pn=Bt.getNext();return gt}}(u.writeTree,u.treePath,i,o,d,g,S)}(this.writes_,g,o,1,d,i);return 0===S.length?null:S[0]}}function Bf(u,i,o,d,g,S){const P=i.eventCache;if(null!=pd(d,o))return i;{let z,ue;if(lr(o))if((0,Ze.hu)(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){const Me=Al(i),bt=Pf(d,Me instanceof Zi?Me:Zi.EMPTY_NODE);z=u.filter.updateFullNode(i.eventCache.getNode(),bt,S)}else{const Me=Ug(d,Al(i));z=u.filter.updateFullNode(i.eventCache.getNode(),Me,S)}else{const Me=ar(o);if(".priority"===Me){(0,Ze.hu)(1===Hc(o),"Can't have a priority with additional path components");const gt=P.getNode();ue=i.serverCache.getNode();const bt=Nv(d,o,gt,ue);z=null!=bt?u.filter.updatePriority(gt,bt):P.getNode()}else{const gt=hs(o);let bt;if(P.isCompleteForChild(Me)){ue=i.serverCache.getNode();const Bt=Nv(d,o,P.getNode(),ue);bt=null!=Bt?P.getNode().getImmediateChild(Me).updateChild(gt,Bt):P.getNode().getImmediateChild(Me)}else bt=Uh(d,Me,i.serverCache);z=null!=bt?u.filter.updateChild(P.getNode(),Me,bt,gt,g,S):P.getNode()}}return yr(i,z,P.isFullyInitialized()||lr(o),u.filter.filtersNodes())}}function Vf(u,i,o,d,g,S,P,z){const ue=i.serverCache;let Me;const gt=P?u.filter:u.filter.getIndexedFilter();if(lr(o))Me=gt.updateFullNode(ue.getNode(),d,null);else if(gt.filtersNodes()&&!ue.isFiltered()){const pn=ue.getNode().updateChild(o,d);Me=gt.updateFullNode(ue.getNode(),pn,null)}else{const pn=ar(o);if(!ue.isCompleteForPath(o)&&Hc(o)>1)return i;const bn=hs(o),e=ue.getNode().getImmediateChild(pn).updateChild(bn,d);Me=".priority"===pn?gt.updatePriority(ue.getNode(),e):gt.updateChild(ue.getNode(),pn,e,bn,Fm,null)}const bt=cr(i,Me,ue.isFullyInitialized()||lr(o),gt.filtersNodes());return Bf(u,bt,o,g,new Lp(g,bt,S),z)}function gd(u,i,o,d,g,S,P){const z=i.eventCache;let ue,Me;const gt=new Lp(g,i,S);if(lr(o))Me=u.filter.updateFullNode(i.eventCache.getNode(),d,P),ue=yr(i,Me,!0,u.filter.filtersNodes());else{const bt=ar(o);if(".priority"===bt)Me=u.filter.updatePriority(i.eventCache.getNode(),d),ue=yr(i,Me,z.isFullyInitialized(),z.isFiltered());else{const Bt=hs(o),pn=z.getNode().getImmediateChild(bt);let bn;if(lr(Bt))bn=d;else{const s=gt.getCompleteChild(bt);bn=null!=s?".priority"===bf(Bt)&&s.getChild(kh(Bt)).isEmpty()?s:s.updateChild(Bt,d):Zi.EMPTY_NODE}ue=pn.equals(bn)?i:yr(i,u.filter.updateChild(z.getNode(),bt,bn,Bt,gt,P),z.isFullyInitialized(),u.filter.filtersNodes())}}return ue}function H_(u,i){return u.eventCache.isCompleteForChild(i)}function $g(u,i,o){return o.foreach((d,g)=>{i=i.updateChild(d,g)}),i}function Lm(u,i,o,d,g,S,P,z){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let Me,ue=i;Me=lr(o)?d:new es(null).setTree(o,d);const gt=i.serverCache.getNode();return Me.children.inorderTraversal((bt,Bt)=>{if(gt.hasChild(bt)){const bn=$g(0,i.serverCache.getNode().getImmediateChild(bt),Bt);ue=Vf(u,ue,new Tr(bt),bn,g,S,P,z)}}),Me.children.inorderTraversal((bt,Bt)=>{const pn=!i.serverCache.isCompleteForChild(bt)&&null===Bt.value;if(!gt.hasChild(bt)&&!pn){const s=$g(0,i.serverCache.getNode().getImmediateChild(bt),Bt);ue=Vf(u,ue,new Tr(bt),s,g,S,P,z)}}),ue}class uy{constructor(i,o){this.query_=i,this.eventRegistrations_=[];const d=this.query_._queryParams,g=new Mp(d.getIndex()),S=function Ip(u){return u.loadsAllData()?new Mp(u.getIndex()):u.hasLimit()?new Tm(u):new Wd(u)}(d);this.processor_=function Ff(u){return{filter:u}}(S);const P=o.serverCache,z=o.eventCache,ue=g.updateFullNode(Zi.EMPTY_NODE,P.getNode(),null),Me=S.updateFullNode(Zi.EMPTY_NODE,z.getNode(),null),gt=new O(ue,P.isFullyInitialized(),g.filtersNodes()),bt=new O(Me,z.isFullyInitialized(),S.filtersNodes());this.viewCache_=ui(bt,gt),this.eventGenerator_=new ie(this.query_)}get query(){return this.query_}}function dy(u,i){const o=Al(u.viewCache_);return o&&(u.query._queryParams.loadsAllData()||!lr(i)&&!o.getImmediateChild(ar(i)).isEmpty())?o.getChild(i):null}function W_(u){return 0===u.eventRegistrations_.length}function Bp(u,i,o){const d=[];if(o){(0,Ze.hu)(null==i,"A cancel should cancel all event registrations.");const g=u.query._path;u.eventRegistrations_.forEach(S=>{const P=S.createCancelEvent(o,g);P&&d.push(P)})}if(i){let g=[];for(let S=0;S<u.eventRegistrations_.length;++S){const P=u.eventRegistrations_[S];if(P.matches(i)){if(i.hasAnyCallback()){g=g.concat(u.eventRegistrations_.slice(S+1));break}}else g.push(P)}u.eventRegistrations_=g}else u.eventRegistrations_=[];return d}function Gg(u,i,o,d){i.type===Aa.MERGE&&null!==i.source.queryId&&((0,Ze.hu)(Al(u.viewCache_),"We should always have a full cache before handling merges"),(0,Ze.hu)(Cs(u.viewCache_),"Missing event cache, even though we have a server cache"));const g=u.viewCache_,S=function U_(u,i,o,d,g){const S=new Fv;let P,z;if(o.type===Aa.OVERWRITE){const Me=o;Me.source.fromUser?P=gd(u,i,Me.path,Me.snap,d,g,S):((0,Ze.hu)(Me.source.fromServer,"Unknown source."),z=Me.source.tagged||i.serverCache.isFiltered()&&!lr(Me.path),P=Vf(u,i,Me.path,Me.snap,d,g,z,S))}else if(o.type===Aa.MERGE){const Me=o;Me.source.fromUser?P=function jg(u,i,o,d,g,S,P){let z=i;return d.foreach((ue,Me)=>{const gt=Zr(o,ue);H_(i,ar(gt))&&(z=gd(u,z,gt,Me,g,S,P))}),d.foreach((ue,Me)=>{const gt=Zr(o,ue);H_(i,ar(gt))||(z=gd(u,z,gt,Me,g,S,P))}),z}(u,i,Me.path,Me.children,d,g,S):((0,Ze.hu)(Me.source.fromServer,"Unknown source."),z=Me.source.tagged||i.serverCache.isFiltered(),P=Lm(u,i,Me.path,Me.children,d,g,z,S))}else if(o.type===Aa.ACK_USER_WRITE){const Me=o;P=Me.revert?function cy(u,i,o,d,g,S){let P;if(null!=pd(d,o))return i;{const z=new Lp(d,i,g),ue=i.eventCache.getNode();let Me;if(lr(o)||".priority"===ar(o)){let gt;if(i.serverCache.isFullyInitialized())gt=Ug(d,Al(i));else{const bt=i.serverCache.getNode();(0,Ze.hu)(bt instanceof Zi,"serverChildren would be complete if leaf node"),gt=Pf(d,bt)}Me=u.filter.updateFullNode(ue,gt,S)}else{const gt=ar(o);let bt=Uh(d,gt,i.serverCache);null==bt&&i.serverCache.isCompleteForChild(gt)&&(bt=ue.getImmediateChild(gt)),Me=null!=bt?u.filter.updateChild(ue,gt,bt,hs(o),z,S):i.eventCache.getNode().hasChild(gt)?u.filter.updateChild(ue,gt,Zi.EMPTY_NODE,hs(o),z,S):ue,Me.isEmpty()&&i.serverCache.isFullyInitialized()&&(P=Ug(d,Al(i)),P.isLeafNode()&&(Me=u.filter.updateFullNode(Me,P,S)))}return P=i.serverCache.isFullyInitialized()||null!=pd(d,Rr()),yr(i,Me,P,u.filter.filtersNodes())}}(u,i,Me.path,d,g,S):function j_(u,i,o,d,g,S,P){if(null!=pd(g,o))return i;const z=i.serverCache.isFiltered(),ue=i.serverCache;if(null!=d.value){if(lr(o)&&ue.isFullyInitialized()||ue.isCompleteForPath(o))return Vf(u,i,o,ue.getNode().getChild(o),g,S,z,P);if(lr(o)){let Me=new es(null);return ue.getNode().forEachChild(vo,(gt,bt)=>{Me=Me.set(new Tr(gt),bt)}),Lm(u,i,o,Me,g,S,z,P)}return i}{let Me=new es(null);return d.foreach((gt,bt)=>{const Bt=Zr(o,gt);ue.isCompleteForPath(Bt)&&(Me=Me.set(gt,ue.getNode().getChild(Bt)))}),Lm(u,i,o,Me,g,S,z,P)}}(u,i,Me.path,Me.affectedTree,d,g,S)}else{if(o.type!==Aa.LISTEN_COMPLETE)throw(0,Ze.g5)("Unknown operation type: "+o.type);P=function $_(u,i,o,d,g){const S=i.serverCache;return Bf(u,cr(i,S.getNode(),S.isFullyInitialized()||lr(o),S.isFiltered()),o,d,Fm,g)}(u,i,o.path,d,S)}const ue=S.getChanges();return function Lf(u,i,o){const d=i.eventCache;if(d.isFullyInitialized()){const g=d.getNode().isLeafNode()||d.getNode().isEmpty(),S=Cs(u);(o.length>0||!u.eventCache.isFullyInitialized()||g&&!d.getNode().equals(S)||!d.getNode().getPriority().equals(S.getPriority()))&&o.push(cd(Cs(i)))}}(i,P,ue),{viewCache:P,changes:ue}}(u.processor_,g,i,o,d);return function md(u,i){(0,Ze.hu)(i.eventCache.getNode().isIndexed(u.filter.getIndex()),"Event snap not indexed"),(0,Ze.hu)(i.serverCache.getNode().isIndexed(u.filter.getIndex()),"Server snap not indexed")}(u.processor_,S.viewCache),(0,Ze.hu)(S.viewCache.serverCache.isFullyInitialized()||!g.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),u.viewCache_=S.viewCache,Vp(u,S.changes,S.viewCache.eventCache.getNode(),null)}function Vp(u,i,o,d){return function wt(u,i,o,d){const g=[],S=[];return i.forEach(P=>{"child_changed"===P.type&&u.index_.indexedValueChanged(P.oldSnap,P.snapshotNode)&&S.push(function Sf(u,i){return{type:"child_moved",snapshotNode:i,childName:u}}(P.childName,P.snapshotNode))}),qt(u,g,"child_removed",i,d,o),qt(u,g,"child_added",i,d,o),qt(u,g,"child_moved",S,d,o),qt(u,g,"child_changed",i,d,o),qt(u,g,"value",i,d,o),g}(u.eventGenerator_,i,o,d?[d]:u.eventRegistrations_)}let Up,_d;class Bm{constructor(){this.views=new Map}}function Hp(u,i,o,d){const g=i.source.queryId;if(null!==g){const S=u.views.get(g);return(0,Ze.hu)(null!=S,"SyncTree gave us an op for an invalid query."),Gg(S,i,o,d)}{let S=[];for(const P of u.views.values())S=S.concat(Gg(P,i,o,d));return S}}function Um(u,i,o,d,g){const P=u.views.get(i._queryIdentifier);if(!P){let z=Ug(o,g?d:null),ue=!1;z?ue=!0:d instanceof Zi?(z=Pf(o,d),ue=!1):(z=Zi.EMPTY_NODE,ue=!1);const Me=ui(new O(z,ue,!1),new O(d,g,!1));return new uy(i,Me)}return P}function K_(u){const i=[];for(const o of u.views.values())o.query._queryParams.loadsAllData()||i.push(o);return i}function Kl(u,i){let o=null;for(const d of u.views.values())o=o||dy(d,i);return o}function nh(u,i){return i._queryParams.loadsAllData()?Hf(u):u.views.get(i._queryIdentifier)}function Uf(u,i){return null!=nh(u,i)}function Rl(u){return null!=Hf(u)}function Hf(u){for(const i of u.views.values())if(i.query._queryParams.loadsAllData())return i;return null}let Yg=1;class jf{constructor(i){this.listenProvider_=i,this.syncPointTree_=new es(null),this.pendingWriteTree_=function Om(){return{visibleWrites:ka.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function jm(u,i,o,d,g){return function Fg(u,i,o,d,g){(0,Ze.hu)(d>u.lastWriteId,"Stacking an older write on top of newer ones"),void 0===g&&(g=!0),u.allWrites.push({path:i,snap:o,writeId:d,visible:g}),g&&(u.visibleWrites=Zc(u.visibleWrites,i,o)),u.lastWriteId=d}(u.pendingWriteTree_,i,o,d,g),g?Wp(u,new c({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,o)):[]}function Fu(u,i,o=!1){const d=function ly(u,i){for(let o=0;o<u.allWrites.length;o++){const d=u.allWrites[o];if(d.writeId===i)return d}return null}(u.pendingWriteTree_,i);if(function Jd(u,i){const o=u.allWrites.findIndex(z=>z.writeId===i);(0,Ze.hu)(o>=0,"removeWrite called with nonexistent writeId.");const d=u.allWrites[o];u.allWrites.splice(o,1);let g=d.visible,S=!1,P=u.allWrites.length-1;for(;g&&P>=0;){const z=u.allWrites[P];z.visible&&(P>=o&&V_(z,d.path)?g=!1:zs(d.path,z.path)&&(S=!0)),P--}return!!g&&(S?(function km(u){u.visibleWrites=kl(u.allWrites,Vh,Rr()),u.lastWriteId=u.allWrites.length>0?u.allWrites[u.allWrites.length-1].writeId:-1}(u),!0):(d.snap?u.visibleWrites=xm(u.visibleWrites,d.path):eo(d.children,ue=>{u.visibleWrites=xm(u.visibleWrites,Zr(d.path,ue))}),!0))}(u.pendingWriteTree_,i)){let S=new es(null);return null!=d.snap?S=S.set(Rr(),!0):eo(d.children,P=>{S=S.set(new Tr(P),!0)}),Wp(u,new w(d.path,S,o))}return[]}function $f(u,i,o){return Wp(u,new c({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,o))}function $p(u,i,o,d,g=!1){const S=i._path,P=u.syncPointTree_.get(S);let z=[];if(P&&("default"===i._queryIdentifier||Uf(P,i))){const ue=function Wg(u,i,o,d){const g=i._queryIdentifier,S=[];let P=[];const z=Rl(u);if("default"===g)for(const[ue,Me]of u.views.entries())P=P.concat(Bp(Me,o,d)),W_(Me)&&(u.views.delete(ue),Me.query._queryParams.loadsAllData()||S.push(Me.query));else{const ue=u.views.get(g);ue&&(P=P.concat(Bp(ue,o,d)),W_(ue)&&(u.views.delete(g),ue.query._queryParams.loadsAllData()||S.push(ue.query)))}return z&&!Rl(u)&&S.push(new(function th(){return(0,Ze.hu)(Up,"Reference.ts has not been loaded"),Up}())(i._repo,i._path)),{removed:S,events:P}}(P,i,o,d);(function Vm(u){return 0===u.views.size})(P)&&(u.syncPointTree_=u.syncPointTree_.remove(S));const Me=ue.removed;if(z=ue.events,!g){const gt=-1!==Me.findIndex(Bt=>Bt._queryParams.loadsAllData()),bt=u.syncPointTree_.findOnPath(S,(Bt,pn)=>Rl(pn));if(gt&&!bt){const Bt=u.syncPointTree_.subtree(S);if(!Bt.isEmpty()){const pn=function Xg(u){return u.fold((i,o,d)=>{if(o&&Rl(o))return[Hf(o)];{let g=[];return o&&(g=K_(o)),eo(d,(S,P)=>{g=g.concat(P)}),g}})}(Bt);for(let bn=0;bn<pn.length;++bn){const s=pn[bn],e=s.query,t=Qg(u,s);u.listenProvider_.startListening(jh(e),Hh(u,e),t.hashFn,t.onComplete)}}}!bt&&Me.length>0&&!d&&(gt?u.listenProvider_.stopListening(jh(i),null):Me.forEach(Bt=>{const pn=u.queryToTagMap.get($m(Bt));u.listenProvider_.stopListening(jh(Bt),pn)}))}!function Q_(u,i){for(let o=0;o<i.length;++o){const d=i[o];if(!d._queryParams.loadsAllData()){const g=$m(d),S=u.queryToTagMap.get(g);u.queryToTagMap.delete(g),u.tagToQueryMap.delete(S)}}}(u,Me)}return z}function Gp(u,i,o,d){const g=Yp(u,d);if(null!=g){const S=Gm(g),P=S.path,z=S.queryId,ue=xa(P,i);return Kp(u,P,new c(Xd(z),ue,o))}return[]}function Ra(u,i,o,d=!1){const g=i._path;let S=null,P=!1;u.syncPointTree_.foreachOnPath(g,(Bt,pn)=>{const bn=xa(Bt,g);S=S||Kl(pn,bn),P=P||Rl(pn)});let ue,z=u.syncPointTree_.get(g);z?(P=P||Rl(z),S=S||Kl(z,Rr())):(z=new Bm,u.syncPointTree_=u.syncPointTree_.set(g,z)),null!=S?ue=!0:(ue=!1,S=Zi.EMPTY_NODE,u.syncPointTree_.subtree(g).foreachChild((pn,bn)=>{const s=Kl(bn,Rr());s&&(S=S.updateImmediateChild(pn,s))}));const Me=Uf(z,i);if(!Me&&!i._queryParams.loadsAllData()){const Bt=$m(i);(0,Ze.hu)(!u.queryToTagMap.has(Bt),"View does not exist, but we have a tag");const pn=function X_(){return Yg++}();u.queryToTagMap.set(Bt,pn),u.tagToQueryMap.set(pn,Bt)}let bt=function Y_(u,i,o,d,g,S){const P=Um(u,i,d,g,S);return u.views.has(i._queryIdentifier)||u.views.set(i._queryIdentifier,P),function eh(u,i){u.eventRegistrations_.push(i)}(P,o),function zg(u,i){const o=u.viewCache_.eventCache,d=[];return o.getNode().isLeafNode()||o.getNode().forEachChild($r,(S,P)=>{d.push(Yl(S,P))}),o.isFullyInitialized()&&d.push(cd(o.getNode())),Vp(u,d,o.getNode(),i)}(P,o)}(z,i,o,Am(u.pendingWriteTree_,g),S,ue);if(!Me&&!P&&!d){const Bt=nh(z,i);bt=bt.concat(function J_(u,i,o){const d=i._path,g=Hh(u,i),S=Qg(u,o),P=u.listenProvider_.startListening(jh(i),g,S.hashFn,S.onComplete),z=u.syncPointTree_.subtree(d);if(g)(0,Ze.hu)(!Rl(z.value),"If we're adding a query, it shouldn't be shadowed");else{const ue=z.fold((Me,gt,bt)=>{if(!lr(Me)&&gt&&Rl(gt))return[Hf(gt).query];{let Bt=[];return gt&&(Bt=Bt.concat(K_(gt).map(pn=>pn.query))),eo(bt,(pn,bn)=>{Bt=Bt.concat(bn)}),Bt}});for(let Me=0;Me<ue.length;++Me){const gt=ue[Me];u.listenProvider_.stopListening(jh(gt),Hh(u,gt))}}return P}(u,i,Bt))}return bt}function zp(u,i,o){const g=u.pendingWriteTree_,S=u.syncPointTree_.findOnPath(i,(P,z)=>{const Me=Kl(z,xa(P,i));if(Me)return Me});return Rm(g,i,S,o,!0)}function Wp(u,i){return q_(i,u.syncPointTree_,null,Am(u.pendingWriteTree_,Rr()))}function q_(u,i,o,d){if(lr(u.path))return zf(u,i,o,d);{const g=i.get(Rr());null==o&&null!=g&&(o=Kl(g,Rr()));let S=[];const P=ar(u.path),z=u.operationForChild(P),ue=i.children.get(P);if(ue&&z){const Me=o?o.getImmediateChild(P):null,gt=Nm(d,P);S=S.concat(q_(z,ue,Me,gt))}return g&&(S=S.concat(Hp(g,u,d,o))),S}}function zf(u,i,o,d){const g=i.get(Rr());null==o&&null!=g&&(o=Kl(g,Rr()));let S=[];return i.children.inorderTraversal((P,z)=>{const ue=o?o.getImmediateChild(P):null,Me=Nm(d,P),gt=u.operationForChild(P);gt&&(S=S.concat(zf(gt,z,ue,Me)))}),g&&(S=S.concat(Hp(g,u,d,o))),S}function Qg(u,i){const o=i.query,d=Hh(u,o);return{hashFn:()=>(function G_(u){return u.viewCache_.serverCache.getNode()}(i)||Zi.EMPTY_NODE).hash(),onComplete:g=>{if("ok"===g)return d?function Zg(u,i,o){const d=Yp(u,o);if(d){const g=Gm(d),S=g.path,P=g.queryId,z=xa(S,i);return Kp(u,S,new T(Xd(P),z))}return[]}(u,o._path,d):function Kg(u,i){return Wp(u,new T({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i))}(u,o._path);{const S=function dm(u,i){let o="Unknown Error";"too_big"===u?o="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===u?o="Client doesn't have permission to access the desired data.":"unavailable"===u&&(o="The service is unavailable");const d=new Error(u+" at "+i._path.toString()+": "+o);return d.code=u.toUpperCase(),d}(g,o);return $p(u,o,null,S)}}}}function Hh(u,i){const o=$m(i);return u.queryToTagMap.get(o)}function $m(u){return u._path.toString()+"$"+u._queryIdentifier}function Yp(u,i){return u.tagToQueryMap.get(i)}function Gm(u){const i=u.indexOf("$");return(0,Ze.hu)(-1!==i&&i<u.length-1,"Bad queryKey."),{queryId:u.substr(i+1),path:new Tr(u.substr(0,i))}}function Kp(u,i,o){const d=u.syncPointTree_.get(i);return(0,Ze.hu)(d,"Missing sync point for query tag that we're tracking"),Hp(d,o,Am(u.pendingWriteTree_,i),null)}function jh(u){return u._queryParams.loadsAllData()&&!u._queryParams.isDefault()?new(function Hm(){return(0,Ze.hu)(_d,"Reference.ts has not been loaded"),_d}())(u._repo,u._path):u}class Zp{constructor(i){this.node_=i}getImmediateChild(i){const o=this.node_.getImmediateChild(i);return new Zp(o)}node(){return this.node_}}class mc{constructor(i,o){this.syncTree_=i,this.path_=o}getImmediateChild(i){const o=Zr(this.path_,i);return new mc(this.syncTree_,o)}node(){return zp(this.syncTree_,this.path_)}}const zm=function(u,i,o){return u&&"object"==typeof u?((0,Ze.hu)(".sv"in u,"Unexpected leaf node or priority contents"),"string"==typeof u[".sv"]?Jg(u[".sv"],i,o):"object"==typeof u[".sv"]?hy(u[".sv"],i):void(0,Ze.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2))):u},Jg=function(u,i,o){if("timestamp"===u)return o.timestamp;(0,Ze.hu)(!1,"Unexpected server value: "+u)},hy=function(u,i,o){u.hasOwnProperty("increment")||(0,Ze.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2));const d=u.increment;"number"!=typeof d&&(0,Ze.hu)(!1,"Unexpected increment value: "+d);const g=i.node();if((0,Ze.hu)(null!==g&&typeof g<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!g.isLeafNode())return d;const P=g.getValue();return"number"!=typeof P?d:P+d},Wm=function(u,i,o,d){return e_(i,new mc(o,u),d)},Ym=function(u,i,o){return e_(u,new Zp(i),o)};function e_(u,i,o){const d=u.getPriority().val(),g=zm(d,i.getImmediateChild(".priority"),o);let S;if(u.isLeafNode()){const P=u,z=zm(P.getValue(),i,o);return z!==P.getValue()||g!==P.getPriority().val()?new Wl(z,Xi(g)):u}{const P=u;return S=P,g!==P.getPriority().val()&&(S=S.updatePriority(new Wl(g))),P.forEachChild($r,(z,ue)=>{const Me=e_(ue,i.getImmediateChild(z),o);Me!==ue&&(S=S.updateImmediateChild(z,Me))}),S}}class Qp{constructor(i="",o=null,d={children:{},childCount:0}){this.name=i,this.parent=o,this.node=d}}function ih(u,i){let o=i instanceof Tr?i:new Tr(i),d=u,g=ar(o);for(;null!==g;){const S=(0,Ze.DV)(d.node.children,g)||{children:{},childCount:0};d=new Qp(g,d,S),o=hs(o),g=ar(o)}return d}function rh(u){return u.node.value}function Km(u,i){u.node.value=i,sh(u)}function Wf(u){return u.node.childCount>0}function ir(u,i){eo(u.node.children,(o,d)=>{i(new Qp(o,u,d))})}function ev(u,i,o,d){o&&!d&&i(u),ir(u,g=>{ev(g,i,!0,d)}),o&&d&&i(u)}function Xp(u){return new Tr(null===u.parent?u.name:Xp(u.parent)+"/"+u.name)}function sh(u){null!==u.parent&&function t_(u,i,o){const d=function Yf(u){return void 0===rh(u)&&!Wf(u)}(o),g=(0,Ze.r3)(u.node.children,i);d&&g?(delete u.node.children[i],u.node.childCount--,sh(u)):!d&&!g&&(u.node.children[i]=o.node,u.node.childCount++,sh(u))}(u.parent,u.name,u)}const ws=/[\[\].#$\/\u0000-\u001F\u007F]/,Oa=/[\[\].#$\u0000-\u001F\u007F]/,Ol=10485760,Zl=function(u){return"string"==typeof u&&0!==u.length&&!ws.test(u)},Jp=function(u){return"string"==typeof u&&0!==u.length&&!Oa.test(u)},Lu=function(u){return null===u||"string"==typeof u||"number"==typeof u&&!ed(u)||u&&"object"==typeof u&&(0,Ze.r3)(u,".sv")},gc=function(u,i,o,d){d&&void 0===i||oh((0,Ze.gK)(u,"value"),i,o)},oh=function(u,i,o){const d=o instanceof Tr?new Rh(o,u):o;if(void 0===i)throw new Error(u+"contains undefined "+jc(d));if("function"==typeof i)throw new Error(u+"contains a function "+jc(d)+" with contents = "+i.toString());if(ed(i))throw new Error(u+"contains "+i.toString()+" "+jc(d));if("string"==typeof i&&i.length>Ol/3&&(0,Ze.ug)(i)>Ol)throw new Error(u+"contains a string greater than "+Ol+" utf8 bytes "+jc(d)+" ('"+i.substring(0,50)+"...')");if(i&&"object"==typeof i){let g=!1,S=!1;if(eo(i,(P,z)=>{if(".value"===P)g=!0;else if(".priority"!==P&&".sv"!==P&&(S=!0,!Zl(P)))throw new Error(u+" contains an invalid key ("+P+") "+jc(d)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function sd(u,i){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(i),u.byteLength_+=(0,Ze.ug)(i),Og(u)})(d,P),oh(u,z,d),function Oh(u){const i=u.parts_.pop();u.byteLength_-=(0,Ze.ug)(i),u.parts_.length>0&&(u.byteLength_-=1)}(d)}),g&&S)throw new Error(u+' contains ".value" child '+jc(d)+" in addition to actual children.")}},tv=function(u,i,o,d){if(d&&void 0===i)return;const g=(0,Ze.gK)(u,"values");if(!i||"object"!=typeof i||Array.isArray(i))throw new Error(g+" must be an object containing the children to replace.");const S=[];eo(i,(P,z)=>{const ue=new Tr(P);if(oh(g,z,Zr(o,ue)),".priority"===bf(ue)&&!Lu(z))throw new Error(g+"contains an invalid value for '"+ue.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");S.push(ue)}),function(u,i){let o,d;for(o=0;o<i.length;o++){d=i[o];const S=Iu(d);for(let P=0;P<S.length;P++)if((".priority"!==S[P]||P!==S.length-1)&&!Zl(S[P]))throw new Error(u+"contains an invalid key ("+S[P]+") in path "+d.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}i.sort(xu);let g=null;for(o=0;o<i.length;o++){if(d=i[o],null!==g&&zs(g,d))throw new Error(u+"contains a path "+g.toString()+" that is ancestor of another path "+d.toString());g=d}}(g,S)},nv=function(u,i,o){if(!o||void 0!==i){if(ed(i))throw new Error((0,Ze.gK)(u,"priority")+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Lu(i))throw new Error((0,Ze.gK)(u,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},yd=function(u,i,o,d){if(!(d&&void 0===o||Zl(o)))throw new Error((0,Ze.gK)(u,i)+'was an invalid key = "'+o+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},tm=function(u,i,o,d){if(!(d&&void 0===o||Jp(o)))throw new Error((0,Ze.gK)(u,i)+'was an invalid path = "'+o+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},_c=function(u,i){if(".info"===ar(i))throw new Error(u+" failed = Can't modify data under /.info/")},Bv=function(u,i){const o=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!Zl(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==o.length&&!function(u){return u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),Jp(u)}(o))throw new Error((0,Ze.gK)(u,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class iv{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Kf(u,i){let o=null;for(let d=0;d<i.length;d++){const g=i[d],S=g.getPath();null!==o&&!rd(S,o.path)&&(u.eventLists_.push(o),o=null),null===o&&(o={events:[],path:S}),o.events.push(g)}o&&u.eventLists_.push(o)}function n_(u,i,o){Kf(u,o),Zf(u,d=>rd(d,i))}function Ya(u,i,o){Kf(u,o),Zf(u,d=>zs(d,i)||zs(i,d))}function Zf(u,i){u.recursionDepth_++;let o=!0;for(let d=0;d<u.eventLists_.length;d++){const g=u.eventLists_[d];g&&(i(g.path)?(i_(u.eventLists_[d]),u.eventLists_[d]=null):o=!1)}o&&(u.eventLists_=[]),u.recursionDepth_--}function i_(u){for(let i=0;i<u.events.length;i++){const o=u.events[i];if(null!==o){u.events[i]=null;const d=o.getEventRunner();Zn&&mi("event: "+o.toString()),wu(d)}}}const Gh="repo_interrupt";class rv{constructor(i,o,d,g){this.repoInfo_=i,this.forceRestClient_=o,this.authTokenProvider_=d,this.appCheckProvider_=g,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new iv,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Bh(),this.transactionQueueTree_=new Qp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Qm(u){const o=u.infoData_.getNode(new Tr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+o}function zh(u){return function(u){return(u=u||{}).timestamp=u.timestamp||(new Date).getTime(),u}({timestamp:Qm(u)})}function s_(u,i,o,d,g){u.dataUpdateCount++;const S=new Tr(i);o=u.interceptServerDataCallback_?u.interceptServerDataCallback_(i,o):o;let P=[];if(g)if(d){const ue=(0,Ze.UI)(o,Me=>Xi(Me));P=function vd(u,i,o,d){const g=Yp(u,d);if(g){const S=Gm(g),P=S.path,z=S.queryId,ue=xa(P,i),Me=es.fromObject(o);return Kp(u,P,new _(Xd(z),ue,Me))}return[]}(u.serverSyncTree_,S,ue,g)}else{const ue=Xi(o);P=Gp(u.serverSyncTree_,S,ue,g)}else if(d){const ue=(0,Ze.UI)(o,Me=>Xi(Me));P=function Gf(u,i,o){const d=es.fromObject(o);return Wp(u,new _({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,d))}(u.serverSyncTree_,S,ue)}else{const ue=Xi(o);P=$f(u.serverSyncTree_,S,ue)}let z=S;P.length>0&&(z=yc(u,S)),Ya(u.eventQueue_,z,P)}function Bu(u,i){sv(u,"connected",i),!1===i&&function ov(u){Uu(u,"onDisconnectEvents");const i=zh(u),o=Bh();xf(u.onDisconnect_,Rr(),(g,S)=>{const P=Wm(g,S,u.serverSyncTree_,i);Oi(o,g,P)});let d=[];xf(o,Rr(),(g,S)=>{d=d.concat($f(u.serverSyncTree_,g,S));const P=tg(u,g);yc(u,P)}),u.onDisconnect_=Bh(),Ya(u.eventQueue_,Rr(),d)}(u)}function sv(u,i,o){const d=new Tr("/.info/"+i),g=Xi(o);u.infoData_.updateSnapshot(d,g);const S=$f(u.infoSyncTree_,d,g);Ya(u.eventQueue_,d,S)}function ah(u){return u.nextWriteId_++}function Xm(u,i,o,d,g){Uu(u,"set",{path:i.toString(),value:o,priority:d});const S=zh(u),P=Xi(o,d),z=zp(u.serverSyncTree_,i),ue=Ym(P,z,S),Me=ah(u),gt=jm(u.serverSyncTree_,i,ue,Me,!0);Kf(u.eventQueue_,gt),u.server_.put(i.toString(),P.val(!0),(Bt,pn)=>{const bn="ok"===Bt;bn||Js("set at "+i+" failed: "+Bt);const s=Fu(u.serverSyncTree_,Me,!bn);Ya(u.eventQueue_,i,s),vc(0,g,Bt,pn)});const bt=tg(u,i);yc(u,bt),Ya(u.eventQueue_,bt,[])}function Vu(u,i,o){u.server_.onDisconnectCancel(i.toString(),(d,g)=>{"ok"===d&&qd(u.onDisconnect_,i),vc(0,o,d,g)})}function qf(u,i,o,d){const g=Xi(o);u.server_.onDisconnectPut(i.toString(),g.val(!0),(S,P)=>{"ok"===S&&Oi(u.onDisconnect_,i,g),vc(0,d,S,P)})}function Pl(u,i,o){let d;d=".info"===ar(i._path)?$p(u.infoSyncTree_,i,o):$p(u.serverSyncTree_,i,o),n_(u.eventQueue_,i._path,d)}function Jm(u){u.persistentConnection_&&u.persistentConnection_.interrupt(Gh)}function Uu(u,...i){let o="";u.persistentConnection_&&(o=u.persistentConnection_.id+":"),mi(o,...i)}function vc(u,i,o,d){i&&wu(()=>{if("ok"===o)i(null);else{const g=(o||"error").toUpperCase();let S=g;d&&(S+=": "+d);const P=new Error(S);P.code=g,i(P)}})}function Cd(u,i,o){return zp(u.serverSyncTree_,i,o)||Zi.EMPTY_NODE}function wd(u,i=u.transactionQueueTree_){if(i||eg(u,i),rh(i)){const o=l_(u,i);(0,Ze.hu)(o.length>0,"Sending zero length transaction queue"),o.every(g=>0===g.status)&&function Xf(u,i,o){const d=o.map(Me=>Me.currentWriteId),g=Cd(u,i,d);let S=g;const P=g.hash();for(let Me=0;Me<o.length;Me++){const gt=o[Me];(0,Ze.hu)(0===gt.status,"tryToSendTransactionQueue_: items in queue should all be run."),gt.status=1,gt.retryCount++;const bt=xa(i,gt.path);S=S.updateChild(bt,gt.currentOutputSnapshotRaw)}const z=S.val(!0),ue=i;u.server_.put(ue.toString(),z,Me=>{Uu(u,"transaction put response",{path:ue.toString(),status:Me});let gt=[];if("ok"===Me){const bt=[];for(let Bt=0;Bt<o.length;Bt++)o[Bt].status=2,gt=gt.concat(Fu(u.serverSyncTree_,o[Bt].currentWriteId)),o[Bt].onComplete&&bt.push(()=>o[Bt].onComplete(null,!0,o[Bt].currentOutputSnapshotResolved)),o[Bt].unwatcher();eg(u,ih(u.transactionQueueTree_,i)),wd(u,u.transactionQueueTree_),Ya(u.eventQueue_,i,gt);for(let Bt=0;Bt<bt.length;Bt++)wu(bt[Bt])}else{if("datastale"===Me)for(let bt=0;bt<o.length;bt++)o[bt].status=3===o[bt].status?4:0;else{Js("transaction at "+ue.toString()+" failed: "+Me);for(let bt=0;bt<o.length;bt++)o[bt].status=4,o[bt].abortReason=Me}yc(u,i)}},P)}(u,Xp(i),o)}else Wf(i)&&ir(i,o=>{wd(u,o)})}function yc(u,i){const o=a_(u,i),d=Xp(o);return function Jf(u,i,o){if(0===i.length)return;const d=[];let g=[];const P=i.filter(z=>0===z.status).map(z=>z.currentWriteId);for(let z=0;z<i.length;z++){const ue=i[z],Me=xa(o,ue.path);let bt,gt=!1;if((0,Ze.hu)(null!==Me,"rerunTransactionsUnderNode_: relativePath should not be null."),4===ue.status)gt=!0,bt=ue.abortReason,g=g.concat(Fu(u.serverSyncTree_,ue.currentWriteId,!0));else if(0===ue.status)if(ue.retryCount>=25)gt=!0,bt="maxretry",g=g.concat(Fu(u.serverSyncTree_,ue.currentWriteId,!0));else{const Bt=Cd(u,ue.path,P);ue.currentInputSnapshot=Bt;const pn=i[z].update(Bt.val());if(void 0!==pn){oh("transaction failed: Data returned ",pn,ue.path);let bn=Xi(pn);"object"==typeof pn&&null!=pn&&(0,Ze.r3)(pn,".priority")||(bn=bn.updatePriority(Bt.getPriority()));const e=ue.currentWriteId,t=zh(u),a=Ym(bn,Bt,t);ue.currentOutputSnapshotRaw=bn,ue.currentOutputSnapshotResolved=a,ue.currentWriteId=ah(u),P.splice(P.indexOf(e),1),g=g.concat(jm(u.serverSyncTree_,ue.path,a,ue.currentWriteId,ue.applyLocally)),g=g.concat(Fu(u.serverSyncTree_,e,!0))}else gt=!0,bt="nodata",g=g.concat(Fu(u.serverSyncTree_,ue.currentWriteId,!0))}Ya(u.eventQueue_,o,g),g=[],gt&&(i[z].status=2,setTimeout(i[z].unwatcher,Math.floor(0)),i[z].onComplete&&d.push("nodata"===bt?()=>i[z].onComplete(null,!1,i[z].currentInputSnapshot):()=>i[z].onComplete(new Error(bt),!1,null)))}eg(u,u.transactionQueueTree_);for(let z=0;z<d.length;z++)wu(d[z]);wd(u,u.transactionQueueTree_)}(u,l_(u,o),d),d}function a_(u,i){let o,d=u.transactionQueueTree_;for(o=ar(i);null!==o&&void 0===rh(d);)d=ih(d,o),o=ar(i=hs(i));return d}function l_(u,i){const o=[];return c_(u,i,o),o.sort((d,g)=>d.order-g.order),o}function c_(u,i,o){const d=rh(i);if(d)for(let g=0;g<d.length;g++)o.push(d[g]);ir(i,g=>{c_(u,g,o)})}function eg(u,i){const o=rh(i);if(o){let d=0;for(let g=0;g<o.length;g++)2!==o[g].status&&(o[d]=o[g],d++);o.length=d,Km(i,o.length>0?o:void 0)}ir(i,d=>{eg(u,d)})}function tg(u,i){const o=Xp(a_(u,i)),d=ih(u.transactionQueueTree_,i);return function Zm(u,i,o){let d=o?u:u.parent;for(;null!==d;){if(i(d))return!0;d=d.parent}}(d,g=>{ng(u,g)}),ng(u,d),ev(d,g=>{ng(u,g)}),o}function ng(u,i){const o=rh(i);if(o){const d=[];let g=[],S=-1;for(let P=0;P<o.length;P++)3===o[P].status||(1===o[P].status?((0,Ze.hu)(S===P-1,"All SENT items should be at beginning of queue."),S=P,o[P].status=3,o[P].abortReason="set"):((0,Ze.hu)(0===o[P].status,"Unexpected transaction status in abort"),o[P].unwatcher(),g=g.concat(Fu(u.serverSyncTree_,o[P].currentWriteId,!0)),o[P].onComplete&&d.push(o[P].onComplete.bind(null,new Error("set"),!1,null))));-1===S?Km(i,void 0):o.length=S+1,Ya(u.eventQueue_,Xp(i),g);for(let P=0;P<d.length;P++)wu(d[P])}}const bc=function(u,i){const o=py(u),d=o.namespace;return"firebase.com"===o.domain&&Xs(o.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!d||"undefined"===d)&&"localhost"!==o.domain&&Xs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),o.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Js("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Eu(o.host,o.secure,d,"ws"===o.scheme||"wss"===o.scheme,i,"",d!==o.subdomain),path:new Tr(o.pathString)}},py=function(u){let i="",o="",d="",g="",S="",P=!0,z="https",ue=443;if("string"==typeof u){let Me=u.indexOf("//");Me>=0&&(z=u.substring(0,Me-1),u=u.substring(Me+2));let gt=u.indexOf("/");-1===gt&&(gt=u.length);let bt=u.indexOf("?");-1===bt&&(bt=u.length),i=u.substring(0,Math.min(gt,bt)),gt<bt&&(g=function u_(u){let i="";const o=u.split("/");for(let d=0;d<o.length;d++)if(o[d].length>0){let g=o[d];try{g=decodeURIComponent(g.replace(/\+/g," "))}catch{}i+="/"+g}return i}(u.substring(gt,bt)));const Bt=function Qc(u){const i={};"?"===u.charAt(0)&&(u=u.substring(1));for(const o of u.split("&")){if(0===o.length)continue;const d=o.split("=");2===d.length?i[decodeURIComponent(d[0])]=decodeURIComponent(d[1]):Js(`Invalid query segment '${o}' in query '${u}'`)}return i}(u.substring(Math.min(u.length,bt)));Me=i.indexOf(":"),Me>=0?(P="https"===z||"wss"===z,ue=parseInt(i.substring(Me+1),10)):Me=i.length;const pn=i.slice(0,Me);if("localhost"===pn.toLowerCase())o="localhost";else if(pn.split(".").length<=2)o=pn;else{const bn=i.indexOf(".");d=i.substring(0,bn).toLowerCase(),o=i.substring(bn+1),S=d}"ns"in Bt&&(S=Bt.ns)}return{host:i,port:ue,domain:o,subdomain:d,secure:P,scheme:z,pathString:g,namespace:S}};class lh{constructor(i,o,d,g){this.eventType=i,this.eventRegistration=o,this.snapshot=d,this.prevName=g}getPath(){const i=this.snapshot.ref;return"value"===this.eventType?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Ze.Wl)(this.snapshot.exportVal())}}class ep{constructor(i,o,d){this.eventRegistration=i,this.error=o,this.path=d}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class d_{constructor(i,o){this.snapshotCallback=i,this.cancelCallback=o}onValue(i,o){this.snapshotCallback.call(null,i,o)}onCancel(i){return(0,Ze.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}}class h_{constructor(i,o){this._repo=i,this._path=o}cancel(){const i=new Ze.BH;return Vu(this._repo,this._path,i.wrapCallback(()=>{})),i.promise}remove(){_c("OnDisconnect.remove",this._path);const i=new Ze.BH;return qf(this._repo,this._path,null,i.wrapCallback(()=>{})),i.promise}set(i){_c("OnDisconnect.set",this._path),gc("OnDisconnect.set",i,this._path,!1);const o=new Ze.BH;return qf(this._repo,this._path,i,o.wrapCallback(()=>{})),o.promise}setWithPriority(i,o){_c("OnDisconnect.setWithPriority",this._path),gc("OnDisconnect.setWithPriority",i,this._path,!1),nv("OnDisconnect.setWithPriority",o,!1);const d=new Ze.BH;return function Ka(u,i,o,d,g){const S=Xi(o,d);u.server_.onDisconnectPut(i.toString(),S.val(!0),(P,z)=>{"ok"===P&&Oi(u.onDisconnect_,i,S),vc(0,g,P,z)})}(this._repo,this._path,i,o,d.wrapCallback(()=>{})),d.promise}update(i){_c("OnDisconnect.update",this._path),tv("OnDisconnect.update",i,this._path,!1);const o=new Ze.BH;return function Wh(u,i,o,d){if((0,Ze.xb)(o))return mi("onDisconnect().update() called with empty data.  Don't do anything."),void vc(0,d,"ok",void 0);u.server_.onDisconnectMerge(i.toString(),o,(g,S)=>{"ok"===g&&eo(o,(P,z)=>{const ue=Xi(z);Oi(u.onDisconnect_,Zr(i,P),ue)}),vc(0,d,g,S)})}(this._repo,this._path,i,o.wrapCallback(()=>{})),o.promise}}class Pa{constructor(i,o,d,g){this._repo=i,this._path=o,this._queryParams=d,this._orderByCalled=g}get key(){return lr(this._path)?null:bf(this._path)}get ref(){return new Io(this._repo,this._path)}get _queryIdentifier(){const i=Zd(this._queryParams),o=bu(i);return"{}"===o?"default":o}get _queryObject(){return Zd(this._queryParams)}isEqual(i){if(!((i=(0,Ze.m9)(i))instanceof Pa))return!1;const o=this._repo===i._repo,d=rd(this._path,i._path);return o&&d&&this._queryIdentifier===i._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Rg(u){let i="";for(let o=u.pieceNum_;o<u.pieces_.length;o++)""!==u.pieces_[o]&&(i+="/"+encodeURIComponent(String(u.pieces_[o])));return i||"/"}(this._path)}}function Yh(u,i){if(!0===u._orderByCalled)throw new Error(i+": You can't combine multiple orderBy calls.")}function Xc(u){let i=null,o=null;if(u.hasStart()&&(i=u.getIndexStartValue()),u.hasEnd()&&(o=u.getIndexEndValue()),u.getIndex()===vo){const d="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",g="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(u.hasStart()){if(u.getIndexStartName()!==Mo)throw new Error(d);if("string"!=typeof i)throw new Error(g)}if(u.hasEnd()){if(u.getIndexEndName()!==ta)throw new Error(d);if("string"!=typeof o)throw new Error(g)}}else if(u.getIndex()===$r){if(null!=i&&!Lu(i)||null!=o&&!Lu(o))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Ze.hu)(u.getIndex()instanceof Tp||u.getIndex()===Gd,"unknown index type."),null!=i&&"object"==typeof i||null!=o&&"object"==typeof o)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Kh(u){if(u.hasStart()&&u.hasEnd()&&u.hasLimit()&&!u.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Io extends Pa{constructor(i,o){super(i,o,new Yd,!1)}get parent(){const i=kh(this._path);return null===i?null:new Io(this._repo,i)}get root(){let i=this;for(;null!==i.parent;)i=i.parent;return i}}class Cc{constructor(i,o,d){this._node=i,this.ref=o,this._index=d}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){const o=new Tr(i),d=wc(this.ref,i);return new Cc(this._node.getChild(o),d,$r)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(d,g)=>i(new Cc(g,wc(this.ref,d),$r)))}hasChild(i){const o=new Tr(i);return!this._node.getChild(o).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function tp(u,i){return(u=(0,Ze.m9)(u))._checkNotDeleted("ref"),void 0!==i?wc(u._root,i):u._root}function np(u,i){(u=(0,Ze.m9)(u))._checkNotDeleted("refFromURL");const o=bc(i,u._repo.repoInfo_.nodeAdmin);Bv("refFromURL",o);const d=o.repoInfo;return!u._repo.repoInfo_.isCustomHost()&&d.host!==u._repo.repoInfo_.host&&Xs("refFromURL: Host name does not match the current database: (found "+d.host+" but expected "+u._repo.repoInfo_.host+")"),tp(u,o.path.toString())}function wc(u,i){return null===ar((u=(0,Ze.m9)(u))._path)?(o=i,o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),tm("child","path",o,!1)):tm("child","path",i,!1),new Io(u._repo,Zr(u._path,i));var o}function ip(u,i){u=(0,Ze.m9)(u),_c("set",u._path),gc("set",i,u._path,!1);const o=new Ze.BH;return Xm(u._repo,u._path,i,null,o.wrapCallback(()=>{})),o.promise}function Dd(u,i){tv("update",i,u._path,!1);const o=new Ze.BH;return function o_(u,i,o,d){Uu(u,"update",{path:i.toString(),value:o});let g=!0;const S=zh(u),P={};if(eo(o,(z,ue)=>{g=!1,P[z]=Wm(Zr(i,z),Xi(ue),u.serverSyncTree_,S)}),g)mi("update() called with empty data.  Don't do anything."),vc(0,d,"ok",void 0);else{const z=ah(u),ue=function jp(u,i,o,d){!function Lg(u,i,o,d){(0,Ze.hu)(d>u.lastWriteId,"Stacking an older merge on top of newer ones"),u.allWrites.push({path:i,children:o,writeId:d,visible:!0}),u.visibleWrites=Nu(u.visibleWrites,i,o),u.lastWriteId=d}(u.pendingWriteTree_,i,o,d);const g=es.fromObject(o);return Wp(u,new _({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,g))}(u.serverSyncTree_,i,P,z);Kf(u.eventQueue_,ue),u.server_.merge(i.toString(),o,(Me,gt)=>{const bt="ok"===Me;bt||Js("update at "+i+" failed: "+Me);const Bt=Fu(u.serverSyncTree_,z,!bt),pn=Bt.length>0?yc(u,i):i;Ya(u.eventQueue_,pn,Bt),vc(0,d,Me,gt)}),eo(o,Me=>{const gt=tg(u,Zr(i,Me));yc(u,gt)}),Ya(u.eventQueue_,i,[])}}(u._repo,u._path,i,o.wrapCallback(()=>{})),o.promise}function cv(u){u=(0,Ze.m9)(u);const i=new d_(()=>{}),o=new Zh(i);return function Vv(u,i,o){const d=function qg(u,i){const o=i._path;let d=null;u.syncPointTree_.foreachOnPath(o,(Me,gt)=>{const bt=xa(Me,o);d=d||Kl(gt,bt)});let g=u.syncPointTree_.get(o);g?d=d||Kl(g,Rr()):(g=new Bm,u.syncPointTree_=u.syncPointTree_.set(o,g));const S=null!=d,P=S?new O(d,!0,!1):null;return function z_(u){return Cs(u.viewCache_)}(Um(g,i,Am(u.pendingWriteTree_,i._path),S?P.getNode():Zi.EMPTY_NODE,S))}(u.serverSyncTree_,i);return null!=d?Promise.resolve(d):u.server_.get(i).then(g=>{const S=Xi(g).withIndex(i._queryParams.getIndex());let P;if(Ra(u.serverSyncTree_,i,o,!0),i._queryParams.loadsAllData())P=$f(u.serverSyncTree_,i._path,S);else{const z=Hh(u.serverSyncTree_,i);P=Gp(u.serverSyncTree_,i._path,S,z)}return Ya(u.eventQueue_,i._path,P),$p(u.serverSyncTree_,i,o,null,!0),S},g=>(Uu(u,"get for query "+(0,Ze.Wl)(i)+" failed: "+g),Promise.reject(new Error(g))))}(u._repo,u,o).then(d=>new Cc(d,new Io(u._repo,u._path),u._queryParams.getIndex()))}class Zh{constructor(i){this.callbackContext=i}respondsTo(i){return"value"===i}createEvent(i,o){const d=o._queryParams.getIndex();return new lh("value",this,new Cc(i.snapshotNode,new Io(o._repo,o._path),d))}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,o){return this.callbackContext.hasCancelCallback?new ep(this,i,o):null}matches(i){return i instanceof Zh&&(!i.callbackContext||!this.callbackContext||i.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class qh{constructor(i,o){this.eventType=i,this.callbackContext=o}respondsTo(i){let o="children_added"===i?"child_added":i;return o="children_removed"===o?"child_removed":o,this.eventType===o}createCancelEvent(i,o){return this.callbackContext.hasCancelCallback?new ep(this,i,o):null}createEvent(i,o){(0,Ze.hu)(null!=i.childName,"Child events should have a childName.");const d=wc(new Io(o._repo,o._path),i.childName),g=o._queryParams.getIndex();return new lh(i.type,this,new Cc(i.snapshotNode,d,g),i.prevName)}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,i.prevName)}matches(i){return i instanceof qh&&this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function ch(u,i,o,d,g){let S;if("object"==typeof d&&(S=void 0,g=d),"function"==typeof d&&(S=d),g&&g.onlyOnce){const ue=o,Me=(gt,bt)=>{Pl(u._repo,u,z),ue(gt,bt)};Me.userCallback=o.userCallback,Me.context=o.context,o=Me}const P=new d_(o,S||void 0),z="value"===i?new Zh(P):new qh(i,P);return function Qf(u,i,o){let d;d=".info"===ar(i._path)?Ra(u.infoSyncTree_,i,o):Ra(u.serverSyncTree_,i,o),n_(u.eventQueue_,i._path,d)}(u._repo,u,z),()=>Pl(u._repo,u,z)}function sg(u,i,o,d){return ch(u,"value",i,o,d)}function nm(u,i,o,d){return ch(u,"child_added",i,o,d)}function rp(u,i,o,d){return ch(u,"child_changed",i,o,d)}function og(u,i,o,d){return ch(u,"child_moved",i,o,d)}function Qh(u,i,o,d){return ch(u,"child_removed",i,o,d)}function ag(u,i,o){let d=null;const g=o?new d_(o):null;"value"===i?d=new Zh(g):i&&(d=new qh(i,g)),Pl(u._repo,u,d)}class hl{}class lg extends hl{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){gc("endAt",this._value,i._path,!0);const o=Mf(i._queryParams,this._value,this._key);if(Kh(o),Xc(o),i._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Pa(i._repo,i._path,o,i._orderByCalled)}}class Ed extends hl{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){gc("endBefore",this._value,i._path,!1);const o=function Kd(u,i,o){let d,g;return u.index_===vo?("string"==typeof i&&(i=Ou(i)),g=Mf(u,i,o)):(d=null==o?Mo:Ou(o),g=Mf(u,i,d)),g.endBeforeSet_=!0,g}(i._queryParams,this._value,this._key);if(Kh(o),Xc(o),i._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Pa(i._repo,i._path,o,i._orderByCalled)}}class p_ extends hl{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){gc("startAt",this._value,i._path,!0);const o=xp(i._queryParams,this._value,this._key);if(Kh(o),Xc(o),i._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Pa(i._repo,i._path,o,i._orderByCalled)}}class hv extends hl{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){gc("startAfter",this._value,i._path,!1);const o=function Tf(u,i,o){let d;if(u.index_===vo)"string"==typeof i&&(i=Sm(i)),d=xp(u,i,o);else{let g;g=null==o?ta:Sm(o),d=xp(u,i,g)}return d.startAfterSet_=!0,d}(i._queryParams,this._value,this._key);if(Kh(o),Xc(o),i._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Pa(i._repo,i._path,o,i._orderByCalled)}}class Hv extends hl{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Pa(i._repo,i._path,function Mm(u,i){const o=u.copy();return o.limitSet_=!0,o.limit_=i,o.viewFrom_="l",o}(i._queryParams,this._limit),i._orderByCalled)}}class m_ extends hl{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Pa(i._repo,i._path,function ul(u,i){const o=u.copy();return o.limitSet_=!0,o.limit_=i,o.viewFrom_="r",o}(i._queryParams,this._limit),i._orderByCalled)}}class ra extends hl{constructor(i){super(),this._path=i}_apply(i){Yh(i,"orderByChild");const o=new Tr(this._path);if(lr(o))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const d=new Tp(o),g=fc(i._queryParams,d);return Xc(g),new Pa(i._repo,i._path,g,!0)}}class Gv extends hl{_apply(i){Yh(i,"orderByKey");const o=fc(i._queryParams,vo);return Xc(o),new Pa(i._repo,i._path,o,!0)}}class __ extends hl{_apply(i){Yh(i,"orderByPriority");const o=fc(i._queryParams,$r);return Xc(o),new Pa(i._repo,i._path,o,!0)}}class v_ extends hl{_apply(i){Yh(i,"orderByValue");const o=fc(i._queryParams,Gd);return Xc(o),new Pa(i._repo,i._path,o,!0)}}class uh extends hl{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){if(gc("equalTo",this._value,i._path,!1),i._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(i._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new lg(this._value,this._key)._apply(new p_(this._value,this._key)._apply(i))}}function Jc(u,...i){let o=(0,Ze.m9)(u);for(const d of i)o=d._apply(o);return o}(function Lv(u){(0,Ze.hu)(!Up,"__referenceConstructor has already been defined"),Up=u})(Io),function Z_(u){(0,Ze.hu)(!_d,"__referenceConstructor has already been defined"),_d=u}(Io);const eu={};function ug(u,i,o,d,g){let S=d||u.options.databaseURL;void 0===S&&(u.options.projectId||Xs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),mi("Using default host for project ",u.options.projectId),S=`${u.options.projectId}-default-rtdb.firebaseio.com`);let ue,Me,P=bc(S,g),z=P.repoInfo;typeof process<"u"&&process.env&&(Me=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Me?(ue=!0,S=`http://${Me}?ns=${z.namespace}`,P=bc(S,g),z=P.repoInfo):ue=!P.repoInfo.secure;const gt=g&&ue?new Nd(Nd.OWNER):new pp(u.name,u.options,i);Bv("Invalid Firebase Database URL",P),lr(P.path)||Xs("Database URL must point to the root of a Firebase Database (not including a child path).");const bt=function Hu(u,i,o,d){let g=eu[i.name];g||(g={},eu[i.name]=g);let S=g[u.toURLString()];return S&&Xs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),S=new rv(u,false,o,d),g[u.toURLString()]=S,S}(z,u,gt,new Ia(u.name,o));return new pv(bt,u)}class pv{constructor(i,o){this._repoInternal=i,this.app=o,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function qm(u,i,o){if(u.stats_=id(u.repoInfo_),u.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)u.server_=new Lh(u.repoInfo_,(d,g,S,P)=>{s_(u,d,g,S,P)},u.authTokenProvider_,u.appCheckProvider_),setTimeout(()=>Bu(u,!0),0);else{if(typeof o<"u"&&null!==o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Ze.Wl)(o)}catch(d){throw new Error("Invalid authOverride provided: "+d)}}u.persistentConnection_=new cl(u.repoInfo_,i,(d,g,S,P)=>{s_(u,d,g,S,P)},d=>{Bu(u,d)},d=>{!function bd(u,i){eo(i,(o,d)=>{sv(u,o,d)})}(u,d)},u.authTokenProvider_,u.appCheckProvider_,o),u.server_=u.persistentConnection_}u.authTokenProvider_.addTokenChangeListener(d=>{u.server_.refreshAuthToken(d)}),u.appCheckProvider_.addTokenChangeListener(d=>{u.server_.refreshAppCheckToken(d.token)}),u.statsReporter_=function F_(u,i){const o=u.toString();return nd[o]||(nd[o]=i()),nd[o]}(u.repoInfo_,()=>new ud(u.stats_,u.server_)),u.infoData_=new Im,u.infoSyncTree_=new jf({startListening:(d,g,S,P)=>{let z=[];const ue=u.infoData_.getNode(d._path);return ue.isEmpty()||(z=$f(u.infoSyncTree_,d._path,ue),setTimeout(()=>{P("ok")},0)),z},stopListening:()=>{}}),sv(u,"connected",!1),u.serverSyncTree_=new jf({startListening:(d,g,S,P)=>(u.server_.listen(d,S,g,(z,ue)=>{const Me=P(z,ue);Ya(u.eventQueue_,d._path,Me)}),[]),stopListening:(d,g)=>{u.server_.unlisten(d,g)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Io(this._repo,Rr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function dg(u,i){const o=eu[i];(!o||o[u.key]!==u)&&Xs(`Database ${i}(${u.repoInfo_}) has already been deleted.`),Jm(u),delete o[u.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){null===this._rootInternal&&Xs("Cannot call "+i+" on a deleted database.")}}function tu(){Ag.IS_TRANSPORT_INITIALIZED&&Js("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function nu(){tu(),Su.forceDisallow()}function iu(){tu(),oc.forceDisallow(),Su.forceAllow()}function Kv(u,i){wi(u,i)}const b_={".sv":"timestamp"};class Zv{constructor(i,o){this.committed=i,this.snapshot=o}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}cl.prototype.simpleListen=function(u,i){this.sendRequest("q",{p:u},i)},cl.prototype.echo=function(u,i){this.sendRequest("echo",{d:u},i)},function gv(u){Bc(_r.SDK_VERSION),(0,_r._registerComponent)(new ur.wA("database",(i,{instanceIdentifier:o})=>ug(i.getProvider("app").getImmediate(),i.getProvider("auth-internal"),i.getProvider("app-check-internal"),o),"PUBLIC").setMultipleInstances(!0)),(0,_r.registerVersion)(ya,Ma,u),(0,_r.registerVersion)(ya,Ma,"esm2017")}();const vv=new ll.Yd("@firebase/database-compat"),w_=function(u){vv.warn("FIREBASE WARNING: "+u)};class E_{constructor(i){this._delegate=i}cancel(i){(0,Ze.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Ze.Wj)("OnDisconnect.cancel","onComplete",i,!0);const o=this._delegate.cancel();return i&&o.then(()=>i(null),d=>i(d)),o}remove(i){(0,Ze.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Ze.Wj)("OnDisconnect.remove","onComplete",i,!0);const o=this._delegate.remove();return i&&o.then(()=>i(null),d=>i(d)),o}set(i,o){(0,Ze.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Ze.Wj)("OnDisconnect.set","onComplete",o,!0);const d=this._delegate.set(i);return o&&d.then(()=>o(null),g=>o(g)),d}setWithPriority(i,o,d){(0,Ze.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Ze.Wj)("OnDisconnect.setWithPriority","onComplete",d,!0);const g=this._delegate.setWithPriority(i,o);return d&&g.then(()=>d(null),S=>d(S)),g}update(i,o){if((0,Ze.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(i)){const g={};for(let S=0;S<i.length;++S)g[""+S]=i[S];i=g,w_("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Ze.Wj)("OnDisconnect.update","onComplete",o,!0);const d=this._delegate.update(i);return o&&d.then(()=>o(null),g=>o(g)),d}}class yv{constructor(i,o){this.committed=i,this.snapshot=o}toJSON(){return(0,Ze.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class fh{constructor(i,o){this._database=i,this._delegate=o}val(){return(0,Ze.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Ze.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Ze.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Ze.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(i){return(0,Ze.Dv)("DataSnapshot.child",0,1,arguments.length),i=String(i),tm("DataSnapshot.child","path",i,!1),new fh(this._database,this._delegate.child(i))}hasChild(i){return(0,Ze.Dv)("DataSnapshot.hasChild",1,1,arguments.length),tm("DataSnapshot.hasChild","path",i,!1),this._delegate.hasChild(i)}getPriority(){return(0,Ze.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(i){return(0,Ze.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Ze.Wj)("DataSnapshot.forEach","action",i,!1),this._delegate.forEach(o=>i(new fh(this._database,o)))}hasChildren(){return(0,Ze.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Ze.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Ze.Dv)("DataSnapshot.ref",0,0,arguments.length),new fl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Na{constructor(i,o){this.database=i,this._delegate=o}on(i,o,d,g){var S;(0,Ze.Dv)("Query.on",2,4,arguments.length),(0,Ze.Wj)("Query.on","callback",o,!1);const P=Na.getCancelAndContextArgs_("Query.on",d,g),z=(Me,gt)=>{o.call(P.context,new fh(this.database,Me),gt)};z.userCallback=o,z.context=P.context;const ue=null===(S=P.cancel)||void 0===S?void 0:S.bind(P.context);switch(i){case"value":return sg(this._delegate,z,ue),o;case"child_added":return nm(this._delegate,z,ue),o;case"child_removed":return Qh(this._delegate,z,ue),o;case"child_changed":return rp(this._delegate,z,ue),o;case"child_moved":return og(this._delegate,z,ue),o;default:throw new Error((0,Ze.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(i,o,d){if((0,Ze.Dv)("Query.off",0,3,arguments.length),function(u,i,o){if(void 0!==i)switch(i){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Ze.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,i),(0,Ze.Wj)("Query.off","callback",o,!0),(0,Ze.lb)("Query.off","context",d,!0),o){const g=()=>{};g.userCallback=o,g.context=d,ag(this._delegate,i,g)}else ag(this._delegate,i)}get(){return cv(this._delegate).then(i=>new fh(this.database,i))}once(i,o,d,g){(0,Ze.Dv)("Query.once",1,4,arguments.length),(0,Ze.Wj)("Query.once","callback",o,!0);const S=Na.getCancelAndContextArgs_("Query.once",d,g),P=new Ze.BH,z=(Me,gt)=>{const bt=new fh(this.database,Me);o&&o.call(S.context,bt,gt),P.resolve(bt)};z.userCallback=o,z.context=S.context;const ue=Me=>{S.cancel&&S.cancel.call(S.context,Me),P.reject(Me)};switch(i){case"value":sg(this._delegate,z,ue,{onlyOnce:!0});break;case"child_added":nm(this._delegate,z,ue,{onlyOnce:!0});break;case"child_removed":Qh(this._delegate,z,ue,{onlyOnce:!0});break;case"child_changed":rp(this._delegate,z,ue,{onlyOnce:!0});break;case"child_moved":og(this._delegate,z,ue,{onlyOnce:!0});break;default:throw new Error((0,Ze.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return P.promise}limitToFirst(i){return(0,Ze.Dv)("Query.limitToFirst",1,1,arguments.length),new Na(this.database,Jc(this._delegate,function jv(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Hv(u)}(i)))}limitToLast(i){return(0,Ze.Dv)("Query.limitToLast",1,1,arguments.length),new Na(this.database,Jc(this._delegate,function $v(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new m_(u)}(i)))}orderByChild(i){return(0,Ze.Dv)("Query.orderByChild",1,1,arguments.length),new Na(this.database,Jc(this._delegate,function g_(u){if("$key"===u)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===u)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===u)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return tm("orderByChild","path",u,!1),new ra(u)}(i)))}orderByKey(){return(0,Ze.Dv)("Query.orderByKey",0,0,arguments.length),new Na(this.database,Jc(this._delegate,function zv(){return new Gv}()))}orderByPriority(){return(0,Ze.Dv)("Query.orderByPriority",0,0,arguments.length),new Na(this.database,Jc(this._delegate,function fv(){return new __}()))}orderByValue(){return(0,Ze.Dv)("Query.orderByValue",0,0,arguments.length),new Na(this.database,Jc(this._delegate,function y_(){return new v_}()))}startAt(i=null,o){return(0,Ze.Dv)("Query.startAt",0,2,arguments.length),new Na(this.database,Jc(this._delegate,function dv(u=null,i){return yd("startAt","key",i,!0),new p_(u,i)}(i,o)))}startAfter(i=null,o){return(0,Ze.Dv)("Query.startAfter",0,2,arguments.length),new Na(this.database,Jc(this._delegate,function Uv(u,i){return yd("startAfter","key",i,!0),new hv(u,i)}(i,o)))}endAt(i=null,o){return(0,Ze.Dv)("Query.endAt",0,2,arguments.length),new Na(this.database,Jc(this._delegate,function sp(u,i){return yd("endAt","key",i,!0),new lg(u,i)}(i,o)))}endBefore(i=null,o){return(0,Ze.Dv)("Query.endBefore",0,2,arguments.length),new Na(this.database,Jc(this._delegate,function uv(u,i){return yd("endBefore","key",i,!0),new Ed(u,i)}(i,o)))}equalTo(i,o){return(0,Ze.Dv)("Query.equalTo",1,2,arguments.length),new Na(this.database,Jc(this._delegate,function cg(u,i){return yd("equalTo","key",i,!0),new uh(u,i)}(i,o)))}toString(){return(0,Ze.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Ze.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(i){if((0,Ze.Dv)("Query.isEqual",1,1,arguments.length),!(i instanceof Na))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(i._delegate)}static getCancelAndContextArgs_(i,o,d){const g={cancel:void 0,context:void 0};if(o&&d)g.cancel=o,(0,Ze.Wj)(i,"cancel",g.cancel,!0),g.context=d,(0,Ze.lb)(i,"context",g.context,!0);else if(o)if("object"==typeof o&&null!==o)g.context=o;else{if("function"!=typeof o)throw new Error((0,Ze.gK)(i,"cancelOrContext")+" must either be a cancel callback or a context object.");g.cancel=o}return g}get ref(){return new fl(this.database,new Io(this._delegate._repo,this._delegate._path))}}class fl extends Na{constructor(i,o){super(i,new Pa(o._repo,o._path,new Yd,!1)),this.database=i,this._delegate=o}getKey(){return(0,Ze.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(i){return(0,Ze.Dv)("Reference.child",1,1,arguments.length),"number"==typeof i&&(i=String(i)),new fl(this.database,wc(this._delegate,i))}getParent(){(0,Ze.Dv)("Reference.parent",0,0,arguments.length);const i=this._delegate.parent;return i?new fl(this.database,i):null}getRoot(){return(0,Ze.Dv)("Reference.root",0,0,arguments.length),new fl(this.database,this._delegate.root)}set(i,o){(0,Ze.Dv)("Reference.set",1,2,arguments.length),(0,Ze.Wj)("Reference.set","onComplete",o,!0);const d=ip(this._delegate,i);return o&&d.then(()=>o(null),g=>o(g)),d}update(i,o){if((0,Ze.Dv)("Reference.update",1,2,arguments.length),Array.isArray(i)){const g={};for(let S=0;S<i.length;++S)g[""+S]=i[S];i=g,w_("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}_c("Reference.update",this._delegate._path),(0,Ze.Wj)("Reference.update","onComplete",o,!0);const d=Dd(this._delegate,i);return o&&d.then(()=>o(null),g=>o(g)),d}setWithPriority(i,o,d){(0,Ze.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Ze.Wj)("Reference.setWithPriority","onComplete",d,!0);const g=function rg(u,i,o){if(_c("setWithPriority",u._path),gc("setWithPriority",i,u._path,!1),nv("setWithPriority",o,!1),".length"===u.key||".keys"===u.key)throw"setWithPriority failed: "+u.key+" is a read-only object.";const d=new Ze.BH;return Xm(u._repo,u._path,i,o,d.wrapCallback(()=>{})),d.promise}(this._delegate,i,o);return d&&g.then(()=>d(null),S=>d(S)),g}remove(i){(0,Ze.Dv)("Reference.remove",0,1,arguments.length),(0,Ze.Wj)("Reference.remove","onComplete",i,!0);const o=function f_(u){return _c("remove",u._path),ip(u,null)}(this._delegate);return i&&o.then(()=>i(null),d=>i(d)),o}transaction(i,o,d){(0,Ze.Dv)("Reference.transaction",1,3,arguments.length),(0,Ze.Wj)("Reference.transaction","transactionUpdate",i,!1),(0,Ze.Wj)("Reference.transaction","onComplete",o,!0),function(u,i,o,d){if(void 0!==o&&"boolean"!=typeof o)throw new Error((0,Ze.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,d);const g=function my(u,i,o){var d;if(u=(0,Ze.m9)(u),_c("Reference.transaction",u._path),".length"===u.key||".keys"===u.key)throw"Reference.transaction failed: "+u.key+" is a read-only object.";const g=null===(d=o?.applyLocally)||void 0===d||d,S=new Ze.BH,z=sg(u,()=>{});return function Ds(u,i,o,d,g,S){Uu(u,"transaction on "+i);const P={path:i,update:o,onComplete:d,status:null,order:Ee(),applyLocally:S,retryCount:0,unwatcher:g,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},z=Cd(u,i,void 0);P.currentInputSnapshot=z;const ue=P.update(z.val());if(void 0===ue)P.unwatcher(),P.currentOutputSnapshotRaw=null,P.currentOutputSnapshotResolved=null,P.onComplete&&P.onComplete(null,!1,P.currentInputSnapshot);else{oh("transaction failed: Data returned ",ue,P.path),P.status=0;const Me=ih(u.transactionQueueTree_,i),gt=rh(Me)||[];let bt;gt.push(P),Km(Me,gt),"object"==typeof ue&&null!==ue&&(0,Ze.r3)(ue,".priority")?(bt=(0,Ze.DV)(ue,".priority"),(0,Ze.hu)(Lu(bt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):bt=(zp(u.serverSyncTree_,i)||Zi.EMPTY_NODE).getPriority().val();const Bt=zh(u),pn=Xi(ue,bt),bn=Ym(pn,z,Bt);P.currentOutputSnapshotRaw=pn,P.currentOutputSnapshotResolved=bn,P.currentWriteId=ah(u);const s=jm(u.serverSyncTree_,i,bn,P.currentWriteId,P.applyLocally);Ya(u.eventQueue_,i,s),wd(u,u.transactionQueueTree_)}}(u._repo,u._path,i,(ue,Me,gt)=>{let bt=null;ue?S.reject(ue):(bt=new Cc(gt,new Io(u._repo,u._path),$r),S.resolve(new Zv(Me,bt)))},z,g),S.promise}(this._delegate,i,{applyLocally:d}).then(S=>new yv(S.committed,new fh(this.database,S.snapshot)));return o&&g.then(S=>o(null,S.committed,S.snapshot),S=>o(S,!1,null)),g}setPriority(i,o){(0,Ze.Dv)("Reference.setPriority",1,2,arguments.length),(0,Ze.Wj)("Reference.setPriority","onComplete",o,!0);const d=function ig(u,i){u=(0,Ze.m9)(u),_c("setPriority",u._path),nv("setPriority",i,!1);const o=new Ze.BH;return Xm(u._repo,Zr(u._path,".priority"),i,null,o.wrapCallback(()=>{})),o.promise}(this._delegate,i);return o&&d.then(()=>o(null),g=>o(g)),d}push(i,o){(0,Ze.Dv)("Reference.push",0,2,arguments.length),(0,Ze.Wj)("Reference.push","onComplete",o,!0);const d=function lv(u,i){u=(0,Ze.m9)(u),_c("push",u._path),gc("push",i,u._path,!0);const o=Qm(u._repo),d=Ef(o),g=wc(u,d),S=wc(u,d);let P;return P=null!=i?ip(S,i).then(()=>S):Promise.resolve(S),g.then=P.then.bind(P),g.catch=P.then.bind(P,void 0),g}(this._delegate,i),g=d.then(P=>new fl(this.database,P));o&&g.then(()=>o(null),P=>o(P));const S=new fl(this.database,d);return S.then=g.then.bind(g),S.catch=g.catch.bind(g,void 0),S}onDisconnect(){return _c("Reference.onDisconnect",this._delegate._path),new E_(new h_(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class op{constructor(i,o){this._delegate=i,this.app=o,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:nu,forceLongPolling:iu}}useEmulator(i,o,d={}){!function hg(u,i,o,d={}){(u=(0,Ze.m9)(u))._checkNotDeleted("useEmulator"),u._instanceStarted&&Xs("Cannot call useEmulator() after instance has already been initialized.");const g=u._repoInternal;let S;if(g.repoInfo_.nodeAdmin)d.mockUserToken&&Xs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),S=new Nd(Nd.OWNER);else if(d.mockUserToken){const P="string"==typeof d.mockUserToken?d.mockUserToken:(0,Ze.Sg)(d.mockUserToken,u.app.options.projectId);S=new Nd(P)}!function Jh(u,i,o,d){u.repoInfo_=new Eu(`${i}:${o}`,!1,u.repoInfo_.namespace,u.repoInfo_.webSocketOnly,u.repoInfo_.nodeAdmin,u.repoInfo_.persistenceKey,u.repoInfo_.includeNamespaceInQueryParams),d&&(u.authTokenProvider_=d)}(g,i,o,S)}(this._delegate,i,o,d)}ref(i){if((0,Ze.Dv)("database.ref",0,1,arguments.length),i instanceof fl){const o=np(this._delegate,i.toString());return new fl(this,o)}{const o=tp(this._delegate,i);return new fl(this,o)}}refFromURL(i){(0,Ze.Dv)("database.refFromURL",1,1,arguments.length);const d=np(this._delegate,i);return new fl(this,d)}goOffline(){return(0,Ze.Dv)("database.goOffline",0,0,arguments.length),function mv(u){(u=(0,Ze.m9)(u))._checkNotDeleted("goOffline"),Jm(u._repo)}(this._delegate)}goOnline(){return(0,Ze.Dv)("database.goOnline",0,0,arguments.length),function Yv(u){(u=(0,Ze.m9)(u))._checkNotDeleted("goOnline"),function ts(u){u.persistentConnection_&&u.persistentConnection_.resume(Gh)}(u._repo)}(this._delegate)}}op.ServerValue={TIMESTAMP:function ju(){return b_}(),increment:u=>function C_(u){return{".sv":{increment:u}}}(u)};var pg=Object.freeze({__proto__:null,initStandalone:function bv({app:u,url:i,version:o,customAuthImpl:d,namespace:g,nodeAdmin:S=!1}){Bc(o);const P=new ur.zt("auth-internal",new ur.H0("database-standalone"));return P.setComponent(new ur.wA("auth-internal",()=>d,"PRIVATE")),{instance:new op(ug(u,P,void 0,i,S),u),namespace:g}}});const Cv=op.ServerValue;function Dv(u){return null==u}function Ev(u){return"function"==typeof u.set}function T_(u,i){return Ev(i)?i:u.ref(i)}function rm(u,i){if(function im(u){return"string"==typeof u}(u))return i.stringCase();if(Ev(u))return i.firebaseCase();if(function S_(u){return"function"==typeof u.exportVal}(u))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof u)}function sm(u,i,o="on",d=sc.P){return new xe.y(g=>{let S=null;return S=u[o](i,(P,z)=>{d.schedule(()=>{g.next({snapshot:P,prevKey:z})}),"once"===o&&d.schedule(()=>g.complete())},P=>{d.schedule(()=>g.error(P))}),"on"===o?{unsubscribe(){null!=S&&u.off(i,S)}}:{unsubscribe(){}}}).pipe((0,qn.U)(g=>{const{snapshot:S,prevKey:P}=g;let z=null;return S.exists()&&(z=S.key),{type:i,payload:S,prevKey:P,key:z}}),(0,Dh.B)())}function M_(u,i){const o=u.length;for(let d=0;d<o;d++)if(u[d].payload.key===i)return d;return-1}function Dc(u,i){const{payload:o,prevKey:d,key:g}=i,S=M_(u,g),P=function ef(u,i){if(Dv(i))return 0;{const o=M_(u,i);return-1===o?u.length:o+1}}(u,d);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let z=null;i.payload.forEach(ue=>{const Me={payload:ue,type:"value",prevKey:z,key:ue.key};return z=ue.key,u=[...u,Me],!1})}return u;case"child_added":if(S>-1){const z=u[S-1];(z&&z.key||null)!==d&&(u=u.filter(ue=>ue.payload.key!==o.key)).splice(P,0,i)}else{if(null==d)return[i,...u];(u=u.slice()).splice(P,0,i)}return u;case"child_removed":return u.filter(z=>z.payload.key!==o.key);case"child_changed":return u.map(z=>z.payload.key===g?i:z);case"child_moved":if(S>-1){const z=u.splice(S,1)[0];return(u=u.slice()).splice(P,0,z),u}return u;default:return u}}function Za(u){return(Dv(u)||0===u.length)&&(u=["child_added","child_removed","child_changed","child_moved"]),u}function I_(u,i,o){return function Sv(u,i,o){return sm(u,"value","once",o).pipe((0,Ni.w)(d=>{const g=[(0,ct.of)(d)];return i.forEach(S=>g.push(sm(u,S,"on",o))),(0,Qu.T)(...g).pipe((0,jl.R)(Dc,[]))}),(0,Cg.x)())}(u,i=Za(i),o)}function x_(u,i,o){const d=(i=Za(i)).map(g=>sm(u,g,"on",o));return(0,Qu.T)(...d)}function A_(u,i){return function(d,g){return rm(d,{stringCase:()=>u.child(d)[i](g),firebaseCase:()=>d[i](g),snapshotCase:()=>d.ref[i](g)})}}function mg(u){return function(o){return o?rm(o,{stringCase:()=>u.child(o).remove(),firebaseCase:()=>o.remove(),snapshotCase:()=>o.ref.remove()}):u.remove()}}function Sd(u,i){return function(){return sm(u,"value","on",i)}}!function wv(u){u.INTERNAL.registerComponent(new ur.wA("database-compat",(i,{instanceIdentifier:o})=>{const d=i.getProvider("app-compat").getImmediate(),g=i.getProvider("database").getImmediate({identifier:o});return new op(g,d)},"PUBLIC").setServiceProps({Reference:fl,Query:Na,Database:op,DataSnapshot:fh,enableLogging:Kv,INTERNAL:pg,ServerValue:Cv}).setMultipleInstances(!0)),u.registerVersion("@firebase/database-compat","0.2.10")}(Hi.Z);const ph=new N.OlP("angularfire2.realtimeDatabaseURL"),Tv=new N.OlP("angularfire2.database.use-emulator");let Mv=(()=>{class u{constructor(o,d,g,S,P,z,ue,Me,gt,bt,Bt,pn,bn,s,e){this.schedulers=z;const t=ue,a=(0,ye.on)(o,P,d);Me&&(0,q.nw)(a,P,gt,Bt,pn,bn,bt,s),this.database=(0,ye.cc)(`${a.name}.database.${g}`,"AngularFireDatabase",a.name,()=>{const f=P.runOutsideAngular(()=>a.database(g||void 0));return t&&f.useEmulator(...t),f},[t])}list(o,d){const g=this.schedulers.ngZone.runOutsideAngular(()=>T_(this.database,o));let S=g;return d&&(S=d(g)),function tf(u,i){const o=i.schedulers.outsideAngular,d=i.schedulers.ngZone.run(()=>u.ref);return{query:u,update:A_(d,"update"),set:A_(d,"set"),push:g=>d.push(g),remove:mg(d),snapshotChanges:g=>I_(u,g,o).pipe(yi.iC),stateChanges:g=>x_(u,g,o).pipe(yi.iC),auditTrail:g=>function om(u,i,o){return function qa(u,i,o){return function am(u,i){return sm(u,"value","on",i).pipe((0,qn.U)(o=>{let d;return o.payload.forEach(g=>(d=g.key,!1)),{data:o,lastKeyToLoad:d}}))}(u,o).pipe(function Sl(...u){return i=>{let o;return"function"==typeof u[u.length-1]&&(o=u.pop()),i.lift(new Fc(u,o))}}(i),(0,qn.U)(([g,S])=>{const P=g.lastKeyToLoad,z=S.map(ue=>ue.key);return{actions:S,lastKeyToLoad:P,loadedKeys:z}}),function Ju(u){return i=>i.lift(new hp(u))}(g=>-1===g.loadedKeys.indexOf(g.lastKeyToLoad)),(0,qn.U)(g=>g.actions))}(u,x_(u,i).pipe((0,jl.R)((g,S)=>[...g,S],[])),o)}(u,g,o).pipe(yi.iC),valueChanges:(g,S)=>I_(u,g,o).pipe((0,qn.U)(z=>z.map(ue=>S&&S.idField?Object.assign(Object.assign({},ue.payload.val()),{[S.idField]:ue.key}):ue.payload.val())),yi.iC)}}(S,this)}object(o){return function gg(u,i){return{query:u,snapshotChanges:()=>Sd(u,i.schedulers.outsideAngular)().pipe(yi.iC),update:o=>u.ref.update(o),set:o=>u.ref.set(o),remove:()=>u.ref.remove(),valueChanges:()=>Sd(u,i.schedulers.outsideAngular)().pipe(yi.iC,(0,qn.U)(d=>d.payload.exists()?d.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>T_(this.database,o)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return u.\u0275fac=function(o){return new(o||u)(N.LFG(ye.Dh),N.LFG(ye.xv,8),N.LFG(ph,8),N.LFG(N.Lbi),N.LFG(N.R0b),N.LFG(yi.HU),N.LFG(Tv,8),N.LFG(q.zQ,8),N.LFG(q.Qv,8),N.LFG(q.L6,8),N.LFG(q._Q,8),N.LFG(q.rT,8),N.LFG(q.lh,8),N.LFG(q.f7,8),N.LFG(uf.nm,8))},u.\u0275prov=N.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),k_=(()=>{class u{constructor(){cp.Z.registerVersion("angularfire",yi.q4.full,"rtdb-compat")}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=N.oAB({type:u}),u.\u0275inj=N.cJS({providers:[Mv]}),u})();const su_firebase={apiKey:"AIzaSyAbfwdNhpa8YU4m8KocpAWLXnyrrso6OXQ",authDomain:"todo-list-sadad.firebaseapp.com",databaseURL:"https://todo-list-sadad.firebaseio.com",projectId:"todo-list-sadad",storageBucket:"todo-list-sadad.appspot.com",messagingSenderId:"1076791856514",appId:"1:1076791856514:web:d956369c1008674069d39b",measurementId:"G-KNGLJ9G5M9"};var mh=k(5938),Iv=k(4006),Xv=k(2666),nf=k(1251),Jv=k(7185),lm=k(8704);let R_=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=N.oAB({type:u,bootstrap:[W]}),u.\u0275inj=N.cJS({providers:[{provide:mh.WI,useValue:[]},{provide:mh.Bq,useValue:{hasBackdrop:!0}}],imports:[m.b2,Ja,Zo,Iv.u5,ye.hO.initializeApp(su_firebase),q.ww,Nc.yb,$o,k_,se.ez,Iv.UX,Xv.LayoutModule,lm.u,nf.m,Jv.Rh.forRoot(),Jv.Rh.forRoot({timeOut:1e4,positionClass:"toast-bottom-right",preventDuplicates:!0})]}),u})();(0,N.G48)(),m.q6().bootstrapModule(R_).catch(u=>console.error(u))},5867:(gn,_t,k)=>{"use strict";k.d(_t,{C6:()=>m.getApps,Mq:()=>m.getApp});var m=k(9681);(0,m.registerVersion)("firebase","9.13.0","app")},127:(gn,_t,k)=>{"use strict";k.d(_t,{Z:()=>m.Z});var m=k(3942);m.Z.registerVersion("firebase","9.13.0","app-compat")},5881:(gn,_t,k)=>{"use strict";k.r(_t);var m=k(5861),N=k(3942),v=k(732),ne=k(2090),De=(k(9681),k(1877),k(4859));function fe(){return window}function ge(){return(ge=(0,m.Z)(function*(X,K,pe){var Qe;const{BuildInfo:Ct}=fe();(0,v.ap)(K.sessionId,"AuthEvent did not contain a session ID");const dn=yield pt(K.sessionId),fn={};return(0,v.aq)()?fn.ibi=Ct.packageName:(0,v.ar)()?fn.apn=Ct.packageName:(0,v.as)(X,"operation-not-supported-in-this-environment"),Ct.displayName&&(fn.appDisplayName=Ct.displayName),fn.sessionId=dn,(0,v.at)(X,pe,K.type,void 0,null!==(Qe=K.eventId)&&void 0!==Qe?Qe:void 0,fn)})).apply(this,arguments)}function Ne(){return(Ne=(0,m.Z)(function*(X){const{BuildInfo:K}=fe(),pe={};(0,v.aq)()?pe.iosBundleId=K.packageName:(0,v.ar)()?pe.androidPackageName=K.packageName:(0,v.as)(X,"operation-not-supported-in-this-environment"),yield(0,v.au)(X,pe)})).apply(this,arguments)}function He(){return(He=(0,m.Z)(function*(X,K,pe){const{cordova:Qe}=fe();let Ct=()=>{};try{yield new Promise((dn,fn)=>{let Ge=null;function je(){var Te;dn();const we=null===(Te=Qe.plugins.browsertab)||void 0===Te?void 0:Te.close;"function"==typeof we&&we(),"function"==typeof pe?.close&&pe.close()}function Ue(){Ge||(Ge=window.setTimeout(()=>{fn((0,v.aw)(X,"redirect-cancelled-by-user"))},2e3))}function We(){"visible"===document?.visibilityState&&Ue()}K.addPassiveListener(je),document.addEventListener("resume",Ue,!1),(0,v.ar)()&&document.addEventListener("visibilitychange",We,!1),Ct=()=>{K.removePassiveListener(je),document.removeEventListener("resume",Ue,!1),document.removeEventListener("visibilitychange",We,!1),Ge&&window.clearTimeout(Ge)}})}finally{Ct()}})).apply(this,arguments)}function pt(X){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,m.Z)(function*(X){const K=ut(X),pe=yield crypto.subtle.digest("SHA-256",K);return Array.from(new Uint8Array(pe)).map(Ct=>Ct.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ut(X){if((0,v.ap)(/[0-9a-zA-Z]+/.test(X),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(X);const K=new ArrayBuffer(X.length),pe=new Uint8Array(K);for(let Qe=0;Qe<X.length;Qe++)pe[Qe]=X.charCodeAt(Qe);return pe}class vt extends v.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(K=>{this.resolveInialized=K})}addPassiveListener(K){this.passiveListeners.add(K)}removePassiveListener(K){this.passiveListeners.delete(K)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(K){return this.resolveInialized(),this.passiveListeners.forEach(pe=>pe(K)),super.onEvent(K)}initialized(){var K=this;return(0,m.Z)(function*(){yield K.initPromise})()}}function ht(X){return et.apply(this,arguments)}function et(){return(et=(0,m.Z)(function*(X){const K=yield ze()._get(At(X));return K&&(yield ze()._remove(At(X))),K})).apply(this,arguments)}function Pt(){const X=[],K="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let pe=0;pe<20;pe++){const Qe=Math.floor(Math.random()*K.length);X.push(K.charAt(Qe))}return X.join("")}function ze(){return(0,v.az)(v.b)}function At(X){return(0,v.aA)("authEvent",X.config.apiKey,X.name)}function $n(X){if(!X?.includes("?"))return{};const[K,...pe]=X.split("?");return(0,ne.zd)(pe.join("?"))}function tn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,v.aw)("no-auth-event")}}function Ye(){var X;return(null===(X=self?.location)||void 0===X?void 0:X.protocol)||null}function Xt(X=(0,ne.z$)()){return!("file:"!==Ye()&&"ionic:"!==Ye()&&"capacitor:"!==Ye()||!X.toLowerCase().match(/iphone|ipad|ipod|android/))}function Vt(){try{const X=self.localStorage,K=v.aI();if(X)return X.setItem(K,"1"),X.removeItem(K),!function Tt(X=(0,ne.z$)()){return function Mt(){return(0,ne.w1)()&&11===document?.documentMode}()||function Kt(X=(0,ne.z$)()){return/Edge\/\d+/.test(X)}(X)}()||(0,ne.hl)()}catch{return Cn()&&(0,ne.hl)()}return!1}function Cn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function jt(){return(function St(){return"http:"===Ye()||"https:"===Ye()}()||(0,ne.ru)()||Xt())&&!function Fn(){return(0,ne.b$)()||(0,ne.UG)()}()&&Vt()&&!Cn()}function Hn(){return Xt()&&typeof document<"u"}function mt(){return(mt=(0,m.Z)(function*(){return!!Hn()&&new Promise(X=>{const K=setTimeout(()=>{X(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(K),X(!0)})})})).apply(this,arguments)}const he={LOCAL:"local",NONE:"none",SESSION:"session"},le=v.ax,Ce="persistence";function Le(X){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,m.Z)(function*(X){yield X._initializationPromise;const K=nn(),pe=v.aA(Ce,X.config.apiKey,X.name);K&&K.setItem(pe,X._getPersistence())})).apply(this,arguments)}function nn(){var X;try{return(null===(X=function ee(){return typeof window<"u"?window:null}())||void 0===X?void 0:X.sessionStorage)||null}catch{return null}}const ln=v.ax;class Rn{constructor(){this.browserResolver=v.az(v.k),this.cordovaResolver=v.az(class si{constructor(){this._redirectPersistence=v.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=v.aB,this._overrideRedirectResult=v.aC}_initialize(K){var pe=this;return(0,m.Z)(function*(){const Qe=K._key();let Ct=pe.eventManagers.get(Qe);return Ct||(Ct=new vt(K),pe.eventManagers.set(Qe,Ct),pe.attachCallbackListeners(K,Ct)),Ct})()}_openPopup(K){(0,v.as)(K,"operation-not-supported-in-this-environment")}_openRedirect(K,pe,Qe,Ct){var dn=this;return(0,m.Z)(function*(){!function ot(X){var K,pe,Qe,Ct,dn,fn,Ge,je,Ue,We;const Te=fe();(0,v.ax)("function"==typeof(null===(K=Te?.universalLinks)||void 0===K?void 0:K.subscribe),X,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,v.ax)(typeof(null===(pe=Te?.BuildInfo)||void 0===pe?void 0:pe.packageName)<"u",X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,v.ax)("function"==typeof(null===(dn=null===(Ct=null===(Qe=Te?.cordova)||void 0===Qe?void 0:Qe.plugins)||void 0===Ct?void 0:Ct.browsertab)||void 0===dn?void 0:dn.openUrl),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,v.ax)("function"==typeof(null===(je=null===(Ge=null===(fn=Te?.cordova)||void 0===fn?void 0:fn.plugins)||void 0===Ge?void 0:Ge.browsertab)||void 0===je?void 0:je.isAvailable),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,v.ax)("function"==typeof(null===(We=null===(Ue=Te?.cordova)||void 0===Ue?void 0:Ue.InAppBrowser)||void 0===We?void 0:We.open),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(K);const fn=yield dn._initialize(K);yield fn.initialized(),fn.resetRedirect(),(0,v.aD)(),yield dn._originValidation(K);const Ge=function Je(X,K,pe=null){return{type:K,eventId:pe,urlResponse:null,sessionId:Pt(),postBody:null,tenantId:X.tenantId,error:(0,v.aw)(X,"no-auth-event")}}(K,Qe,Ct);yield function Be(X,K){return ze()._set(At(X),K)}(K,Ge);const je=yield function ce(X,K,pe){return ge.apply(this,arguments)}(K,Ge,pe),Ue=yield function Ke(X){const{cordova:K}=fe();return new Promise(pe=>{K.plugins.browsertab.isAvailable(Qe=>{let Ct=null;Qe?K.plugins.browsertab.openUrl(X):Ct=K.InAppBrowser.open(X,(0,v.av)()?"_blank":"_system","location=yes"),pe(Ct)})})}(je);return function lt(X,K,pe){return He.apply(this,arguments)}(K,fn,Ue)})()}_isIframeWebStorageSupported(K,pe){throw new Error("Method not implemented.")}_originValidation(K){const pe=K._key();return this.originValidationPromises[pe]||(this.originValidationPromises[pe]=function be(X){return Ne.apply(this,arguments)}(K)),this.originValidationPromises[pe]}attachCallbackListeners(K,pe){const{universalLinks:Qe,handleOpenURL:Ct,BuildInfo:dn}=fe(),fn=setTimeout((0,m.Z)(function*(){yield ht(K),pe.onEvent(tn())}),500),Ge=function(){var We=(0,m.Z)(function*(Te){clearTimeout(fn);const we=yield ht(K);let rt=null;we&&Te?.url&&(rt=function qe(X,K){var pe,Qe;const Ct=function yn(X){const K=$n(X),pe=K.link?decodeURIComponent(K.link):void 0,Qe=$n(pe).link,Ct=K.deep_link_id?decodeURIComponent(K.deep_link_id):void 0;return $n(Ct).link||Ct||Qe||pe||X}(K);if(Ct.includes("/__/auth/callback")){const dn=$n(Ct),fn=dn.firebaseError?function Ft(X){try{return JSON.parse(X)}catch{return null}}(decodeURIComponent(dn.firebaseError)):null,Ge=null===(Qe=null===(pe=fn?.code)||void 0===pe?void 0:pe.split("auth/"))||void 0===Qe?void 0:Qe[1],je=Ge?(0,v.aw)(Ge):null;return je?{type:X.type,eventId:X.eventId,tenantId:X.tenantId,error:je,urlResponse:null,sessionId:null,postBody:null}:{type:X.type,eventId:X.eventId,tenantId:X.tenantId,sessionId:X.sessionId,urlResponse:Ct,postBody:null}}return null}(we,Te.url)),pe.onEvent(rt||tn())});return function(we){return We.apply(this,arguments)}}();typeof Qe<"u"&&"function"==typeof Qe.subscribe&&Qe.subscribe(null,Ge);const je=Ct,Ue=`${dn.packageName.toLowerCase()}://`;fe().handleOpenURL=function(){var We=(0,m.Z)(function*(Te){if(Te.toLowerCase().startsWith(Ue)&&Ge({url:Te}),"function"==typeof je)try{je(Te)}catch(we){console.error(we)}});return function(Te){return We.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=v.a,this._completeRedirectFn=v.aB,this._overrideRedirectResult=v.aC}_initialize(K){var pe=this;return(0,m.Z)(function*(){return yield pe.selectUnderlyingResolver(),pe.assertedUnderlyingResolver._initialize(K)})()}_openPopup(K,pe,Qe,Ct){var dn=this;return(0,m.Z)(function*(){return yield dn.selectUnderlyingResolver(),dn.assertedUnderlyingResolver._openPopup(K,pe,Qe,Ct)})()}_openRedirect(K,pe,Qe,Ct){var dn=this;return(0,m.Z)(function*(){return yield dn.selectUnderlyingResolver(),dn.assertedUnderlyingResolver._openRedirect(K,pe,Qe,Ct)})()}_isIframeWebStorageSupported(K,pe){this.assertedUnderlyingResolver._isIframeWebStorageSupported(K,pe)}_originValidation(K){return this.assertedUnderlyingResolver._originValidation(K)}get _shouldInitProactively(){return Hn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ln(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var K=this;return(0,m.Z)(function*(){if(K.underlyingResolver)return;const pe=yield function wn(){return mt.apply(this,arguments)}();K.underlyingResolver=pe?K.cordovaResolver:K.browserResolver})()}}function ai(X){return X.unwrap()}function ri(X){return Ai(X)}function Ai(X){const{_tokenResponse:K}=X instanceof ne.ZR?X.customData:X;if(!K)return null;if(!(X instanceof ne.ZR)&&"temporaryProof"in K&&"phoneNumber"in K)return v.P.credentialFromResult(X);const pe=K.providerId;if(!pe||pe===v.o.PASSWORD)return null;let Qe;switch(pe){case v.o.GOOGLE:Qe=v.Q;break;case v.o.FACEBOOK:Qe=v.N;break;case v.o.GITHUB:Qe=v.T;break;case v.o.TWITTER:Qe=v.W;break;default:const{oauthIdToken:Ct,oauthAccessToken:dn,oauthTokenSecret:fn,pendingToken:Ge,nonce:je}=K;return dn||fn||Ct||Ge?Ge?pe.startsWith("saml.")?v.aL._create(pe,Ge):v.J._fromParams({providerId:pe,signInMethod:pe,pendingToken:Ge,idToken:Ct,accessToken:dn}):new v.U(pe).credential({idToken:Ct,accessToken:dn,rawNonce:je}):null}return X instanceof ne.ZR?Qe.credentialFromError(X):Qe.credentialFromResult(X)}function Tn(X,K){return K.catch(pe=>{throw pe instanceof ne.ZR&&function kn(X,K){var pe,Qe;const Ct=null===(pe=K.customData)||void 0===pe?void 0:pe._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Qe=K)||void 0===Qe?void 0:Qe.code))K.resolver=new Se(X,v.an(X,K));else if(Ct){const dn=Ai(K),fn=K;dn&&(fn.credential=dn,fn.tenantId=Ct.tenantId||void 0,fn.email=Ct.email||void 0,fn.phoneNumber=Ct.phoneNumber||void 0)}}(X,pe),pe}).then(pe=>{const Ct=pe.user;return{operationType:pe.operationType,credential:ri(pe),additionalUserInfo:v.al(pe),user:Jt.getOrCreate(Ct)}})}function $t(X,K){return ft.apply(this,arguments)}function ft(){return(ft=(0,m.Z)(function*(X,K){const pe=yield K;return{verificationId:pe.verificationId,confirm:Qe=>Tn(X,pe.confirm(Qe))}})).apply(this,arguments)}class Se{constructor(K,pe){this.resolver=pe,this.auth=function di(X){return X.wrapped()}(K)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(K){return Tn(ai(this.auth),this.resolver.resolveSignIn(K))}}class Jt{constructor(K){this._delegate=K,this.multiFactor=v.ao(K)}static getOrCreate(K){return Jt.USER_MAP.has(K)||Jt.USER_MAP.set(K,new Jt(K)),Jt.USER_MAP.get(K)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(K){return this._delegate.getIdTokenResult(K)}getIdToken(K){return this._delegate.getIdToken(K)}linkAndRetrieveDataWithCredential(K){return this.linkWithCredential(K)}linkWithCredential(K){var pe=this;return(0,m.Z)(function*(){return Tn(pe.auth,v.Z(pe._delegate,K))})()}linkWithPhoneNumber(K,pe){var Qe=this;return(0,m.Z)(function*(){return $t(Qe.auth,v.l(Qe._delegate,K,pe))})()}linkWithPopup(K){var pe=this;return(0,m.Z)(function*(){return Tn(pe.auth,v.d(pe._delegate,K,Rn))})()}linkWithRedirect(K){var pe=this;return(0,m.Z)(function*(){return yield Le(v.aE(pe.auth)),v.g(pe._delegate,K,Rn)})()}reauthenticateAndRetrieveDataWithCredential(K){return this.reauthenticateWithCredential(K)}reauthenticateWithCredential(K){var pe=this;return(0,m.Z)(function*(){return Tn(pe.auth,v._(pe._delegate,K))})()}reauthenticateWithPhoneNumber(K,pe){return $t(this.auth,v.r(this._delegate,K,pe))}reauthenticateWithPopup(K){return Tn(this.auth,v.e(this._delegate,K,Rn))}reauthenticateWithRedirect(K){var pe=this;return(0,m.Z)(function*(){return yield Le(v.aE(pe.auth)),v.h(pe._delegate,K,Rn)})()}sendEmailVerification(K){return v.ab(this._delegate,K)}unlink(K){var pe=this;return(0,m.Z)(function*(){return yield v.ak(pe._delegate,K),pe})()}updateEmail(K){return v.ag(this._delegate,K)}updatePassword(K){return v.ah(this._delegate,K)}updatePhoneNumber(K){return v.u(this._delegate,K)}updateProfile(K){return v.af(this._delegate,K)}verifyBeforeUpdateEmail(K,pe){return v.ac(this._delegate,K,pe)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Jt.USER_MAP=new WeakMap;const hn=v.ax;let at=(()=>{class X{constructor(pe,Qe){if(this.app=pe,Qe.isInitialized())return this._delegate=Qe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ct}=pe.options;hn(Ct,"invalid-api-key",{appName:pe.name}),hn(Ct,"invalid-api-key",{appName:pe.name});const dn=typeof window<"u"?Rn:void 0;this._delegate=Qe.initialize({options:{persistence:Xe(Ct,pe.name),popupRedirectResolver:dn}}),this._delegate._updateErrorMap(v.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Jt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(pe){this._delegate.languageCode=pe}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(pe){this._delegate.tenantId=pe}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(pe,Qe){v.G(this._delegate,pe,Qe)}applyActionCode(pe){return v.a2(this._delegate,pe)}checkActionCode(pe){return v.a3(this._delegate,pe)}confirmPasswordReset(pe,Qe){return v.a1(this._delegate,pe,Qe)}createUserWithEmailAndPassword(pe,Qe){var Ct=this;return(0,m.Z)(function*(){return Tn(Ct._delegate,v.a5(Ct._delegate,pe,Qe))})()}fetchProvidersForEmail(pe){return this.fetchSignInMethodsForEmail(pe)}fetchSignInMethodsForEmail(pe){return v.aa(this._delegate,pe)}isSignInWithEmailLink(pe){return v.a8(this._delegate,pe)}getRedirectResult(){var pe=this;return(0,m.Z)(function*(){hn(jt(),pe._delegate,"operation-not-supported-in-this-environment");const Qe=yield v.j(pe._delegate,Rn);return Qe?Tn(pe._delegate,Promise.resolve(Qe)):{credential:null,user:null}})()}addFrameworkForLogging(pe){!function mn(X,K){(0,v.aE)(X)._logFramework(K)}(this._delegate,pe)}onAuthStateChanged(pe,Qe,Ct){const{next:dn,error:fn,complete:Ge}=it(pe,Qe,Ct);return this._delegate.onAuthStateChanged(dn,fn,Ge)}onIdTokenChanged(pe,Qe,Ct){const{next:dn,error:fn,complete:Ge}=it(pe,Qe,Ct);return this._delegate.onIdTokenChanged(dn,fn,Ge)}sendSignInLinkToEmail(pe,Qe){return v.a7(this._delegate,pe,Qe)}sendPasswordResetEmail(pe,Qe){return v.a0(this._delegate,pe,Qe||void 0)}setPersistence(pe){var Qe=this;return(0,m.Z)(function*(){let Ct;switch(function ae(X,K){le(Object.values(he).includes(K),X,"invalid-persistence-type"),(0,ne.b$)()?le(K!==he.SESSION,X,"unsupported-persistence-type"):(0,ne.UG)()?le(K===he.NONE,X,"unsupported-persistence-type"):Cn()?le(K===he.NONE||K===he.LOCAL&&(0,ne.hl)(),X,"unsupported-persistence-type"):le(K===he.NONE||Vt(),X,"unsupported-persistence-type")}(Qe._delegate,pe),pe){case he.SESSION:Ct=v.a;break;case he.LOCAL:Ct=(yield v.az(v.i)._isAvailable())?v.i:v.b;break;case he.NONE:Ct=v.L;break;default:return v.as("argument-error",{appName:Qe._delegate.name})}return Qe._delegate.setPersistence(Ct)})()}signInAndRetrieveDataWithCredential(pe){return this.signInWithCredential(pe)}signInAnonymously(){return Tn(this._delegate,v.X(this._delegate))}signInWithCredential(pe){return Tn(this._delegate,v.Y(this._delegate,pe))}signInWithCustomToken(pe){return Tn(this._delegate,v.$(this._delegate,pe))}signInWithEmailAndPassword(pe,Qe){return Tn(this._delegate,v.a6(this._delegate,pe,Qe))}signInWithEmailLink(pe,Qe){return Tn(this._delegate,v.a9(this._delegate,pe,Qe))}signInWithPhoneNumber(pe,Qe){return $t(this._delegate,v.s(this._delegate,pe,Qe))}signInWithPopup(pe){var Qe=this;return(0,m.Z)(function*(){return hn(jt(),Qe._delegate,"operation-not-supported-in-this-environment"),Tn(Qe._delegate,v.c(Qe._delegate,pe,Rn))})()}signInWithRedirect(pe){var Qe=this;return(0,m.Z)(function*(){return hn(jt(),Qe._delegate,"operation-not-supported-in-this-environment"),yield Le(Qe._delegate),v.f(Qe._delegate,pe,Rn)})()}updateCurrentUser(pe){return this._delegate.updateCurrentUser(pe)}verifyPasswordResetCode(pe){return v.a4(this._delegate,pe)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return X.Persistence=he,X})();function it(X,K,pe){let Qe=X;"function"!=typeof X&&({next:Qe,error:K,complete:pe}=X);const Ct=Qe;return{next:fn=>Ct(fn&&Jt.getOrCreate(fn)),error:K,complete:pe}}function Xe(X,K){const pe=function Gt(X,K){const pe=nn();if(!pe)return[];const Qe=v.aA(Ce,X,K);switch(pe.getItem(Qe)){case he.NONE:return[v.L];case he.LOCAL:return[v.i,v.a];case he.SESSION:return[v.a];default:return[]}}(X,K);if(typeof self<"u"&&!pe.includes(v.i)&&pe.push(v.i),typeof window<"u")for(const Qe of[v.b,v.a])pe.includes(Qe)||pe.push(Qe);return pe.includes(v.L)||pe.push(v.L),pe}class Et{constructor(){this.providerId="phone",this._delegate=new v.P(ai(N.Z.auth()))}static credential(K,pe){return v.P.credential(K,pe)}verifyPhoneNumber(K,pe){return this._delegate.verifyPhoneNumber(K,pe)}unwrap(){return this._delegate}}Et.PHONE_SIGN_IN_METHOD=v.P.PHONE_SIGN_IN_METHOD,Et.PROVIDER_ID=v.P.PROVIDER_ID;const Ht=v.ax;class _e{constructor(K,pe,Qe=N.Z.app()){var Ct;Ht(null===(Ct=Qe.options)||void 0===Ct?void 0:Ct.apiKey,"invalid-api-key",{appName:Qe.name}),this._delegate=new v.R(K,pe,Qe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function G(X){X.INTERNAL.registerComponent(new De.wA("auth-compat",K=>{const pe=K.getProvider("app-compat").getImmediate(),Qe=K.getProvider("auth");return new at(pe,Qe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:v.A.EMAIL_SIGNIN,PASSWORD_RESET:v.A.PASSWORD_RESET,RECOVER_EMAIL:v.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:v.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:v.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:v.A.VERIFY_EMAIL}},EmailAuthProvider:v.M,FacebookAuthProvider:v.N,GithubAuthProvider:v.T,GoogleAuthProvider:v.Q,OAuthProvider:v.U,SAMLAuthProvider:v.V,PhoneAuthProvider:Et,PhoneMultiFactorGenerator:v.m,RecaptchaVerifier:_e,TwitterAuthProvider:v.W,Auth:at,AuthCredential:v.H,Error:ne.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),X.registerVersion("@firebase/auth-compat","0.2.24")}(N.Z)},591:(gn,_t,k)=>{"use strict";k.d(_t,{X:()=>v});var m=k(8929),N=k(5279);class v extends m.xQ{constructor(C){super(),this._value=C}get value(){return this.getValue()}_subscribe(C){const J=super._subscribe(C);return J&&!J.closed&&C.next(this._value),J}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new N.N;return this._value}next(C){super.next(this._value=C)}}},1869:(gn,_t,k)=>{"use strict";k.d(_t,{d:()=>N});var m=k(3489);class N extends m.L{constructor(ne,C,J){super(),this.parent=ne,this.outerValue=C,this.outerIndex=J,this.index=0}_next(ne){this.parent.notifyNext(this.outerValue,ne,this.outerIndex,this.index++,this)}_error(ne){this.parent.notifyError(ne,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},9312:(gn,_t,k)=>{"use strict";k.d(_t,{P:()=>C});var m=k(8896),N=k(1086),v=k(1737);class C{constructor(De,fe,Ie){this.kind=De,this.value=fe,this.error=Ie,this.hasValue="N"===De}observe(De){switch(this.kind){case"N":return De.next&&De.next(this.value);case"E":return De.error&&De.error(this.error);case"C":return De.complete&&De.complete()}}do(De,fe,Ie){switch(this.kind){case"N":return De&&De(this.value);case"E":return fe&&fe(this.error);case"C":return Ie&&Ie()}}accept(De,fe,Ie){return De&&"function"==typeof De.next?this.observe(De):this.do(De,fe,Ie)}toObservable(){switch(this.kind){case"N":return(0,N.of)(this.value);case"E":return(0,v._)(this.error);case"C":return(0,m.c)()}throw new Error("unexpected notification kind value")}static createNext(De){return typeof De<"u"?new C("N",De):C.undefinedValueNotification}static createError(De){return new C("E",void 0,De)}static createComplete(){return C.completeNotification}}C.completeNotification=new C("C"),C.undefinedValueNotification=new C("N",void 0)},6498:(gn,_t,k)=>{"use strict";k.d(_t,{y:()=>Ie});var m=k(3489),v=k(7668),ne=k(3292),J=k(3821),De=k(4843),fe=k(2830);let Ie=(()=>{class ge{constructor(Ne){this._isScalar=!1,Ne&&(this._subscribe=Ne)}lift(Ne){const Ke=new ge;return Ke.source=this,Ke.operator=Ne,Ke}subscribe(Ne,Ke,lt){const{operator:He}=this,ot=function C(ge,be,Ne){if(ge){if(ge instanceof m.L)return ge;if(ge[v.b])return ge[v.b]()}return ge||be||Ne?new m.L(ge,be,Ne):new m.L(ne.c)}(Ne,Ke,lt);if(ot.add(He?He.call(ot,this.source):this.source||fe.v.useDeprecatedSynchronousErrorHandling&&!ot.syncErrorThrowable?this._subscribe(ot):this._trySubscribe(ot)),fe.v.useDeprecatedSynchronousErrorHandling&&ot.syncErrorThrowable&&(ot.syncErrorThrowable=!1,ot.syncErrorThrown))throw ot.syncErrorValue;return ot}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(Ke){fe.v.useDeprecatedSynchronousErrorHandling&&(Ne.syncErrorThrown=!0,Ne.syncErrorValue=Ke),function N(ge){for(;ge;){const{closed:be,destination:Ne,isStopped:Ke}=ge;if(be||Ke)return!1;ge=Ne&&Ne instanceof m.L?Ne:null}return!0}(Ne)?Ne.error(Ke):console.warn(Ke)}}forEach(Ne,Ke){return new(Ke=ce(Ke))((lt,He)=>{let ot;ot=this.subscribe(pt=>{try{Ne(pt)}catch(Ut){He(Ut),ot&&ot.unsubscribe()}},He,lt)})}_subscribe(Ne){const{source:Ke}=this;return Ke&&Ke.subscribe(Ne)}[J.L](){return this}pipe(...Ne){return 0===Ne.length?this:(0,De.U)(Ne)(this)}toPromise(Ne){return new(Ne=ce(Ne))((Ke,lt)=>{let He;this.subscribe(ot=>He=ot,ot=>lt(ot),()=>Ke(He))})}}return ge.create=be=>new ge(be),ge})();function ce(ge){if(ge||(ge=fe.v.Promise||Promise),!ge)throw new Error("no Promise impl found");return ge}},3292:(gn,_t,k)=>{"use strict";k.d(_t,{c:()=>v});var m=k(2830),N=k(2782);const v={closed:!0,next(ne){},error(ne){if(m.v.useDeprecatedSynchronousErrorHandling)throw ne;(0,N.z)(ne)},complete(){}}},826:(gn,_t,k)=>{"use strict";k.d(_t,{L:()=>N});var m=k(3489);class N extends m.L{notifyNext(ne,C,J,De,fe){this.destination.next(C)}notifyError(ne,C){this.destination.error(ne)}notifyComplete(ne){this.destination.complete()}}},8929:(gn,_t,k)=>{"use strict";k.d(_t,{Yc:()=>De,xQ:()=>fe});var m=k(6498),N=k(3489),v=k(2654),ne=k(5279),C=k(5283),J=k(7668);class De extends N.L{constructor(ge){super(ge),this.destination=ge}}let fe=(()=>{class ce extends m.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[J.b](){return new De(this)}lift(be){const Ne=new Ie(this,this);return Ne.operator=be,Ne}next(be){if(this.closed)throw new ne.N;if(!this.isStopped){const{observers:Ne}=this,Ke=Ne.length,lt=Ne.slice();for(let He=0;He<Ke;He++)lt[He].next(be)}}error(be){if(this.closed)throw new ne.N;this.hasError=!0,this.thrownError=be,this.isStopped=!0;const{observers:Ne}=this,Ke=Ne.length,lt=Ne.slice();for(let He=0;He<Ke;He++)lt[He].error(be);this.observers.length=0}complete(){if(this.closed)throw new ne.N;this.isStopped=!0;const{observers:be}=this,Ne=be.length,Ke=be.slice();for(let lt=0;lt<Ne;lt++)Ke[lt].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(be){if(this.closed)throw new ne.N;return super._trySubscribe(be)}_subscribe(be){if(this.closed)throw new ne.N;return this.hasError?(be.error(this.thrownError),v.w.EMPTY):this.isStopped?(be.complete(),v.w.EMPTY):(this.observers.push(be),new C.W(this,be))}asObservable(){const be=new m.y;return be.source=this,be}}return ce.create=(ge,be)=>new Ie(ge,be),ce})();class Ie extends fe{constructor(ge,be){super(),this.destination=ge,this.source=be}next(ge){const{destination:be}=this;be&&be.next&&be.next(ge)}error(ge){const{destination:be}=this;be&&be.error&&this.destination.error(ge)}complete(){const{destination:ge}=this;ge&&ge.complete&&this.destination.complete()}_subscribe(ge){const{source:be}=this;return be?this.source.subscribe(ge):v.w.EMPTY}}},5283:(gn,_t,k)=>{"use strict";k.d(_t,{W:()=>N});var m=k(2654);class N extends m.w{constructor(ne,C){super(),this.subject=ne,this.subscriber=C,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ne=this.subject,C=ne.observers;if(this.subject=null,!C||0===C.length||ne.isStopped||ne.closed)return;const J=C.indexOf(this.subscriber);-1!==J&&C.splice(J,1)}}},3489:(gn,_t,k)=>{"use strict";k.d(_t,{L:()=>De});var m=k(7043),N=k(3292),v=k(2654),ne=k(7668),C=k(2830),J=k(2782);class De extends v.w{constructor(ce,ge,be){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=N.c;break;case 1:if(!ce){this.destination=N.c;break}if("object"==typeof ce){ce instanceof De?(this.syncErrorThrowable=ce.syncErrorThrowable,this.destination=ce,ce.add(this)):(this.syncErrorThrowable=!0,this.destination=new fe(this,ce));break}default:this.syncErrorThrowable=!0,this.destination=new fe(this,ce,ge,be)}}[ne.b](){return this}static create(ce,ge,be){const Ne=new De(ce,ge,be);return Ne.syncErrorThrowable=!1,Ne}next(ce){this.isStopped||this._next(ce)}error(ce){this.isStopped||(this.isStopped=!0,this._error(ce))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(ce){this.destination.next(ce)}_error(ce){this.destination.error(ce),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:ce}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=ce,this}}class fe extends De{constructor(ce,ge,be,Ne){super(),this._parentSubscriber=ce;let Ke,lt=this;(0,m.m)(ge)?Ke=ge:ge&&(Ke=ge.next,be=ge.error,Ne=ge.complete,ge!==N.c&&(lt=Object.create(ge),(0,m.m)(lt.unsubscribe)&&this.add(lt.unsubscribe.bind(lt)),lt.unsubscribe=this.unsubscribe.bind(this))),this._context=lt,this._next=Ke,this._error=be,this._complete=Ne}next(ce){if(!this.isStopped&&this._next){const{_parentSubscriber:ge}=this;C.v.useDeprecatedSynchronousErrorHandling&&ge.syncErrorThrowable?this.__tryOrSetError(ge,this._next,ce)&&this.unsubscribe():this.__tryOrUnsub(this._next,ce)}}error(ce){if(!this.isStopped){const{_parentSubscriber:ge}=this,{useDeprecatedSynchronousErrorHandling:be}=C.v;if(this._error)be&&ge.syncErrorThrowable?(this.__tryOrSetError(ge,this._error,ce),this.unsubscribe()):(this.__tryOrUnsub(this._error,ce),this.unsubscribe());else if(ge.syncErrorThrowable)be?(ge.syncErrorValue=ce,ge.syncErrorThrown=!0):(0,J.z)(ce),this.unsubscribe();else{if(this.unsubscribe(),be)throw ce;(0,J.z)(ce)}}}complete(){if(!this.isStopped){const{_parentSubscriber:ce}=this;if(this._complete){const ge=()=>this._complete.call(this._context);C.v.useDeprecatedSynchronousErrorHandling&&ce.syncErrorThrowable?(this.__tryOrSetError(ce,ge),this.unsubscribe()):(this.__tryOrUnsub(ge),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(ce,ge){try{ce.call(this._context,ge)}catch(be){if(this.unsubscribe(),C.v.useDeprecatedSynchronousErrorHandling)throw be;(0,J.z)(be)}}__tryOrSetError(ce,ge,be){if(!C.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ge.call(this._context,be)}catch(Ne){return C.v.useDeprecatedSynchronousErrorHandling?(ce.syncErrorValue=Ne,ce.syncErrorThrown=!0,!0):((0,J.z)(Ne),!0)}return!1}_unsubscribe(){const{_parentSubscriber:ce}=this;this._context=null,this._parentSubscriber=null,ce.unsubscribe()}}},2654:(gn,_t,k)=>{"use strict";k.d(_t,{w:()=>J});var m=k(6688),N=k(7830),v=k(7043);const C=(()=>{function fe(Ie){return Error.call(this),this.message=Ie?`${Ie.length} errors occurred during unsubscription:\n${Ie.map((ce,ge)=>`${ge+1}) ${ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ie,this}return fe.prototype=Object.create(Error.prototype),fe})();class J{constructor(Ie){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Ie&&(this._unsubscribe=Ie)}unsubscribe(){let Ie;if(this.closed)return;let{_parentOrParents:ce,_unsubscribe:ge,_subscriptions:be}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,ce instanceof J)ce.remove(this);else if(null!==ce)for(let Ne=0;Ne<ce.length;++Ne)ce[Ne].remove(this);if((0,v.m)(ge))try{ge.call(this)}catch(Ne){Ie=Ne instanceof C?De(Ne.errors):[Ne]}if((0,m.k)(be)){let Ne=-1,Ke=be.length;for(;++Ne<Ke;){const lt=be[Ne];if((0,N.K)(lt))try{lt.unsubscribe()}catch(He){Ie=Ie||[],He instanceof C?Ie=Ie.concat(De(He.errors)):Ie.push(He)}}}if(Ie)throw new C(Ie)}add(Ie){let ce=Ie;if(!Ie)return J.EMPTY;switch(typeof Ie){case"function":ce=new J(Ie);case"object":if(ce===this||ce.closed||"function"!=typeof ce.unsubscribe)return ce;if(this.closed)return ce.unsubscribe(),ce;if(!(ce instanceof J)){const Ne=ce;ce=new J,ce._subscriptions=[Ne]}break;default:throw new Error("unrecognized teardown "+Ie+" added to Subscription.")}let{_parentOrParents:ge}=ce;if(null===ge)ce._parentOrParents=this;else if(ge instanceof J){if(ge===this)return ce;ce._parentOrParents=[ge,this]}else{if(-1!==ge.indexOf(this))return ce;ge.push(this)}const be=this._subscriptions;return null===be?this._subscriptions=[ce]:be.push(ce),ce}remove(Ie){const ce=this._subscriptions;if(ce){const ge=ce.indexOf(Ie);-1!==ge&&ce.splice(ge,1)}}}var fe;function De(fe){return fe.reduce((Ie,ce)=>Ie.concat(ce instanceof C?ce.errors:ce),[])}J.EMPTY=((fe=new J).closed=!0,fe)},2830:(gn,_t,k)=>{"use strict";k.d(_t,{v:()=>N});let m=!1;const N={Promise:void 0,set useDeprecatedSynchronousErrorHandling(v){if(v){const ne=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ne.stack)}else m&&console.log("RxJS: Back to a better error behavior. Thank you. <3");m=v},get useDeprecatedSynchronousErrorHandling(){return m}}},1762:(gn,_t,k)=>{"use strict";k.d(_t,{N:()=>J,c:()=>C});var m=k(8929),N=k(6498),v=k(2654),ne=k(4327);class C extends N.y{constructor(ge,be){super(),this.source=ge,this.subjectFactory=be,this._refCount=0,this._isComplete=!1}_subscribe(ge){return this.getSubject().subscribe(ge)}getSubject(){const ge=this._subject;return(!ge||ge.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ge=this._connection;return ge||(this._isComplete=!1,ge=this._connection=new v.w,ge.add(this.source.subscribe(new De(this.getSubject(),this))),ge.closed&&(this._connection=null,ge=v.w.EMPTY)),ge}refCount(){return(0,ne.x)()(this)}}const J=(()=>{const ce=C.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ce._subscribe},_isComplete:{value:ce._isComplete,writable:!0},getSubject:{value:ce.getSubject},connect:{value:ce.connect},refCount:{value:ce.refCount}}})();class De extends m.Yc{constructor(ge,be){super(ge),this.connectable=be}_error(ge){this._unsubscribe(),super._error(ge)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ge=this.connectable;if(ge){this.connectable=null;const be=ge._connection;ge._refCount=0,ge._subject=null,ge._connection=null,be&&be.unsubscribe()}}}},6053:(gn,_t,k)=>{"use strict";k.d(_t,{aj:()=>De});var m=k(2866),N=k(6688),v=k(826),ne=k(9054),C=k(3009);const J={};function De(...ce){let ge=null,be=null;return(0,m.K)(ce[ce.length-1])&&(be=ce.pop()),"function"==typeof ce[ce.length-1]&&(ge=ce.pop()),1===ce.length&&(0,N.k)(ce[0])&&(ce=ce[0]),(0,C.n)(ce,be).lift(new fe(ge))}class fe{constructor(ge){this.resultSelector=ge}call(ge,be){return be.subscribe(new Ie(ge,this.resultSelector))}}class Ie extends v.L{constructor(ge,be){super(ge),this.resultSelector=be,this.active=0,this.values=[],this.observables=[]}_next(ge){this.values.push(J),this.observables.push(ge)}_complete(){const ge=this.observables,be=ge.length;if(0===be)this.destination.complete();else{this.active=be,this.toRespond=be;for(let Ne=0;Ne<be;Ne++){const Ke=ge[Ne];this.add((0,ne.D)(this,Ke,Ke,Ne))}}}notifyComplete(ge){0==(this.active-=1)&&this.destination.complete()}notifyNext(ge,be,Ne,Ke,lt){const He=this.values,pt=this.toRespond?He[Ne]===J?--this.toRespond:this.toRespond:0;He[Ne]=be,0===pt&&(this.resultSelector?this._tryResultSelector(He):this.destination.next(He.slice()))}_tryResultSelector(ge){let be;try{be=this.resultSelector.apply(this,ge)}catch(Ne){return void this.destination.error(Ne)}this.destination.next(be)}}},1221:(gn,_t,k)=>{"use strict";k.d(_t,{z:()=>ne});var m=k(1086),N=k(9146);function ne(...C){return function v(){return(0,N.J)(1)}()((0,m.of)(...C))}},8514:(gn,_t,k)=>{"use strict";k.d(_t,{P:()=>ne});var m=k(6498),N=k(5254),v=k(8896);function ne(C){return new m.y(J=>{let De;try{De=C()}catch(Ie){return void J.error(Ie)}return(De?(0,N.D)(De):(0,v.c)()).subscribe(J)})}},8896:(gn,_t,k)=>{"use strict";k.d(_t,{E:()=>N,c:()=>v});var m=k(6498);const N=new m.y(C=>C.complete());function v(C){return C?function ne(C){return new m.y(J=>C.schedule(()=>J.complete()))}(C):N}},567:(gn,_t,k)=>{"use strict";k.d(_t,{D:()=>J});var m=k(6498),N=k(6688),v=k(4850),ne=k(7830),C=k(5254);function J(...fe){if(1===fe.length){const Ie=fe[0];if((0,N.k)(Ie))return De(Ie,null);if((0,ne.K)(Ie)&&Object.getPrototypeOf(Ie)===Object.prototype){const ce=Object.keys(Ie);return De(ce.map(ge=>Ie[ge]),ce)}}if("function"==typeof fe[fe.length-1]){const Ie=fe.pop();return De(fe=1===fe.length&&(0,N.k)(fe[0])?fe[0]:fe,null).pipe((0,v.U)(ce=>Ie(...ce)))}return De(fe,null)}function De(fe,Ie){return new m.y(ce=>{const ge=fe.length;if(0===ge)return void ce.complete();const be=new Array(ge);let Ne=0,Ke=0;for(let lt=0;lt<ge;lt++){const He=(0,C.D)(fe[lt]);let ot=!1;ce.add(He.subscribe({next:pt=>{ot||(ot=!0,Ke++),be[lt]=pt},error:pt=>ce.error(pt),complete:()=>{Ne++,(Ne===ge||!ot)&&(Ke===ge&&ce.next(Ie?Ie.reduce((pt,Ut,ut)=>(pt[Ut]=be[ut],pt),{}):be),ce.complete())}}))}})}},5254:(gn,_t,k)=>{"use strict";k.d(_t,{D:()=>lt});var m=k(6498),N=k(9249),v=k(2654),ne=k(3821),De=k(6454),fe=k(5430),ge=k(8955),be=k(8515);function lt(He,ot){return ot?function Ke(He,ot){if(null!=He){if(function ce(He){return He&&"function"==typeof He[ne.L]}(He))return function C(He,ot){return new m.y(pt=>{const Ut=new v.w;return Ut.add(ot.schedule(()=>{const ut=He[ne.L]();Ut.add(ut.subscribe({next(kt){Ut.add(ot.schedule(()=>pt.next(kt)))},error(kt){Ut.add(ot.schedule(()=>pt.error(kt)))},complete(){Ut.add(ot.schedule(()=>pt.complete()))}}))})),Ut})}(He,ot);if((0,ge.t)(He))return function J(He,ot){return new m.y(pt=>{const Ut=new v.w;return Ut.add(ot.schedule(()=>He.then(ut=>{Ut.add(ot.schedule(()=>{pt.next(ut),Ut.add(ot.schedule(()=>pt.complete()))}))},ut=>{Ut.add(ot.schedule(()=>pt.error(ut)))}))),Ut})}(He,ot);if((0,be.z)(He))return(0,De.r)(He,ot);if(function Ne(He){return He&&"function"==typeof He[fe.hZ]}(He)||"string"==typeof He)return function Ie(He,ot){if(!He)throw new Error("Iterable cannot be null");return new m.y(pt=>{const Ut=new v.w;let ut;return Ut.add(()=>{ut&&"function"==typeof ut.return&&ut.return()}),Ut.add(ot.schedule(()=>{ut=He[fe.hZ](),Ut.add(ot.schedule(function(){if(pt.closed)return;let kt,vt;try{const Je=ut.next();kt=Je.value,vt=Je.done}catch(Je){return void pt.error(Je)}vt?pt.complete():(pt.next(kt),this.schedule())}))})),Ut})}(He,ot)}throw new TypeError((null!==He&&typeof He||He)+" is not observable")}(He,ot):He instanceof m.y?He:new m.y((0,N.s)(He))}},3009:(gn,_t,k)=>{"use strict";k.d(_t,{n:()=>ne});var m=k(6498),N=k(3650),v=k(6454);function ne(C,J){return J?(0,v.r)(C,J):new m.y((0,N.V)(C))}},3753:(gn,_t,k)=>{"use strict";k.d(_t,{R:()=>J});var m=k(6498),N=k(6688),v=k(7043),ne=k(4850);function J(ge,be,Ne,Ke){return(0,v.m)(Ne)&&(Ke=Ne,Ne=void 0),Ke?J(ge,be,Ne).pipe((0,ne.U)(lt=>(0,N.k)(lt)?Ke(...lt):Ke(lt))):new m.y(lt=>{De(ge,be,function He(ot){lt.next(arguments.length>1?Array.prototype.slice.call(arguments):ot)},lt,Ne)})}function De(ge,be,Ne,Ke,lt){let He;if(function ce(ge){return ge&&"function"==typeof ge.addEventListener&&"function"==typeof ge.removeEventListener}(ge)){const ot=ge;ge.addEventListener(be,Ne,lt),He=()=>ot.removeEventListener(be,Ne,lt)}else if(function Ie(ge){return ge&&"function"==typeof ge.on&&"function"==typeof ge.off}(ge)){const ot=ge;ge.on(be,Ne),He=()=>ot.off(be,Ne)}else if(function fe(ge){return ge&&"function"==typeof ge.addListener&&"function"==typeof ge.removeListener}(ge)){const ot=ge;ge.addListener(be,Ne),He=()=>ot.removeListener(be,Ne)}else{if(!ge||!ge.length)throw new TypeError("Invalid event target");for(let ot=0,pt=ge.length;ot<pt;ot++)De(ge[ot],be,Ne,Ke,lt)}Ke.add(He)}},6787:(gn,_t,k)=>{"use strict";k.d(_t,{T:()=>C});var m=k(6498),N=k(2866),v=k(9146),ne=k(3009);function C(...J){let De=Number.POSITIVE_INFINITY,fe=null,Ie=J[J.length-1];return(0,N.K)(Ie)?(fe=J.pop(),J.length>1&&"number"==typeof J[J.length-1]&&(De=J.pop())):"number"==typeof Ie&&(De=J.pop()),null===fe&&1===J.length&&J[0]instanceof m.y?J[0]:(0,v.J)(De)((0,ne.n)(J,fe))}},1086:(gn,_t,k)=>{"use strict";k.d(_t,{of:()=>ne});var m=k(2866),N=k(3009),v=k(6454);function ne(...C){let J=C[C.length-1];return(0,m.K)(J)?(C.pop(),(0,v.r)(C,J)):(0,N.n)(C)}},1737:(gn,_t,k)=>{"use strict";k.d(_t,{_:()=>N});var m=k(6498);function N(ne,C){return new m.y(C?J=>C.schedule(v,0,{error:ne,subscriber:J}):J=>J.error(ne))}function v({error:ne,subscriber:C}){C.error(ne)}},7221:(gn,_t,k)=>{"use strict";k.d(_t,{K:()=>ne});var m=k(826),N=k(1869),v=k(9054);function ne(De){return function(Ie){const ce=new C(De),ge=Ie.lift(ce);return ce.caught=ge}}class C{constructor(fe){this.selector=fe}call(fe,Ie){return Ie.subscribe(new J(fe,this.selector,this.caught))}}class J extends m.L{constructor(fe,Ie,ce){super(fe),this.selector=Ie,this.caught=ce}error(fe){if(!this.isStopped){let Ie;try{Ie=this.selector(fe,this.caught)}catch(be){return void super.error(be)}this._unsubscribeAndRecycle();const ce=new N.d(this,void 0,void 0);this.add(ce);const ge=(0,v.D)(this,Ie,void 0,void 0,ce);ge!==ce&&this.add(ge)}}}},1406:(gn,_t,k)=>{"use strict";k.d(_t,{b:()=>N});var m=k(1709);function N(v,ne){return(0,m.zg)(v,ne,1)}},13:(gn,_t,k)=>{"use strict";k.d(_t,{b:()=>v});var m=k(3489),N=k(353);function v(De,fe=N.P){return Ie=>Ie.lift(new ne(De,fe))}class ne{constructor(fe,Ie){this.dueTime=fe,this.scheduler=Ie}call(fe,Ie){return Ie.subscribe(new C(fe,this.dueTime,this.scheduler))}}class C extends m.L{constructor(fe,Ie,ce){super(fe),this.dueTime=Ie,this.scheduler=ce,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(fe){this.clearDebounce(),this.lastValue=fe,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(J,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:fe}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(fe)}}clearDebounce(){const fe=this.debouncedSubscription;null!==fe&&(this.remove(fe),fe.unsubscribe(),this.debouncedSubscription=null)}}function J(De){De.debouncedNext()}},7314:(gn,_t,k)=>{"use strict";k.d(_t,{d:()=>N});var m=k(3489);function N(C=null){return J=>J.lift(new v(C))}class v{constructor(J){this.defaultValue=J}call(J,De){return De.subscribe(new ne(J,this.defaultValue))}}class ne extends m.L{constructor(J,De){super(J),this.defaultValue=De,this.isEmpty=!0}_next(J){this.isEmpty=!1,this.destination.next(J)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},8583:(gn,_t,k)=>{"use strict";k.d(_t,{g:()=>C});var m=k(353),v=k(3489),ne=k(9312);function C(Ie,ce=m.P){const be=function N(Ie){return Ie instanceof Date&&!isNaN(+Ie)}(Ie)?+Ie-ce.now():Math.abs(Ie);return Ne=>Ne.lift(new J(be,ce))}class J{constructor(ce,ge){this.delay=ce,this.scheduler=ge}call(ce,ge){return ge.subscribe(new De(ce,this.delay,this.scheduler))}}class De extends v.L{constructor(ce,ge,be){super(ce),this.delay=ge,this.scheduler=be,this.queue=[],this.active=!1,this.errored=!1}static dispatch(ce){const ge=ce.source,be=ge.queue,Ne=ce.scheduler,Ke=ce.destination;for(;be.length>0&&be[0].time-Ne.now()<=0;)be.shift().notification.observe(Ke);if(be.length>0){const lt=Math.max(0,be[0].time-Ne.now());this.schedule(ce,lt)}else this.unsubscribe(),ge.active=!1}_schedule(ce){this.active=!0,this.destination.add(ce.schedule(De.dispatch,this.delay,{source:this,destination:this.destination,scheduler:ce}))}scheduleNotification(ce){if(!0===this.errored)return;const ge=this.scheduler,be=new fe(ge.now()+this.delay,ce);this.queue.push(be),!1===this.active&&this._schedule(ge)}_next(ce){this.scheduleNotification(ne.P.createNext(ce))}_error(ce){this.errored=!0,this.queue=[],this.destination.error(ce),this.unsubscribe()}_complete(){this.scheduleNotification(ne.P.createComplete()),this.unsubscribe()}}class fe{constructor(ce,ge){this.time=ce,this.notification=ge}}},5778:(gn,_t,k)=>{"use strict";k.d(_t,{x:()=>N});var m=k(3489);function N(C,J){return De=>De.lift(new v(C,J))}class v{constructor(J,De){this.compare=J,this.keySelector=De}call(J,De){return De.subscribe(new ne(J,this.compare,this.keySelector))}}class ne extends m.L{constructor(J,De,fe){super(J),this.keySelector=fe,this.hasKey=!1,"function"==typeof De&&(this.compare=De)}compare(J,De){return J===De}_next(J){let De;try{const{keySelector:Ie}=this;De=Ie?Ie(J):J}catch(Ie){return this.destination.error(Ie)}let fe=!1;if(this.hasKey)try{const{compare:Ie}=this;fe=Ie(this.key,De)}catch(Ie){return this.destination.error(Ie)}else this.hasKey=!0;fe||(this.key=De,this.destination.next(J))}}},2198:(gn,_t,k)=>{"use strict";k.d(_t,{h:()=>N});var m=k(3489);function N(C,J){return function(fe){return fe.lift(new v(C,J))}}class v{constructor(J,De){this.predicate=J,this.thisArg=De}call(J,De){return De.subscribe(new ne(J,this.predicate,this.thisArg))}}class ne extends m.L{constructor(J,De,fe){super(J),this.predicate=De,this.thisArg=fe,this.count=0}_next(J){let De;try{De=this.predicate.call(this.thisArg,J,this.count++)}catch(fe){return void this.destination.error(fe)}De&&this.destination.next(J)}}},537:(gn,_t,k)=>{"use strict";k.d(_t,{x:()=>v});var m=k(3489),N=k(2654);function v(J){return De=>De.lift(new ne(J))}class ne{constructor(De){this.callback=De}call(De,fe){return fe.subscribe(new C(De,this.callback))}}class C extends m.L{constructor(De,fe){super(De),this.add(new N.w(fe))}}},7224:(gn,_t,k)=>{"use strict";k.d(_t,{P:()=>De});var m=k(4450),N=k(2198),v=k(2986),ne=k(7314),C=k(4907),J=k(5379);function De(fe,Ie){const ce=arguments.length>=2;return ge=>ge.pipe(fe?(0,N.h)((be,Ne)=>fe(be,Ne,ge)):J.y,(0,v.q)(1),ce?(0,ne.d)(Ie):(0,C.T)(()=>new m.K))}},4850:(gn,_t,k)=>{"use strict";k.d(_t,{U:()=>N});var m=k(3489);function N(C,J){return function(fe){if("function"!=typeof C)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return fe.lift(new v(C,J))}}class v{constructor(J,De){this.project=J,this.thisArg=De}call(J,De){return De.subscribe(new ne(J,this.project,this.thisArg))}}class ne extends m.L{constructor(J,De,fe){super(J),this.project=De,this.count=0,this.thisArg=fe||this}_next(J){let De;try{De=this.project.call(this.thisArg,J,this.count++)}catch(fe){return void this.destination.error(fe)}this.destination.next(De)}}},9146:(gn,_t,k)=>{"use strict";k.d(_t,{J:()=>v});var m=k(1709),N=k(5379);function v(ne=Number.POSITIVE_INFINITY){return(0,m.zg)(N.y,ne)}},1709:(gn,_t,k)=>{"use strict";k.d(_t,{zg:()=>J});var m=k(9054),N=k(826),v=k(1869),ne=k(4850),C=k(5254);function J(Ie,ce,ge=Number.POSITIVE_INFINITY){return"function"==typeof ce?be=>be.pipe(J((Ne,Ke)=>(0,C.D)(Ie(Ne,Ke)).pipe((0,ne.U)((lt,He)=>ce(Ne,lt,Ke,He))),ge)):("number"==typeof ce&&(ge=ce),be=>be.lift(new De(Ie,ge)))}class De{constructor(ce,ge=Number.POSITIVE_INFINITY){this.project=ce,this.concurrent=ge}call(ce,ge){return ge.subscribe(new fe(ce,this.project,this.concurrent))}}class fe extends N.L{constructor(ce,ge,be=Number.POSITIVE_INFINITY){super(ce),this.project=ge,this.concurrent=be,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ce){this.active<this.concurrent?this._tryNext(ce):this.buffer.push(ce)}_tryNext(ce){let ge;const be=this.index++;try{ge=this.project(ce,be)}catch(Ne){return void this.destination.error(Ne)}this.active++,this._innerSub(ge,ce,be)}_innerSub(ce,ge,be){const Ne=new v.d(this,ge,be),Ke=this.destination;Ke.add(Ne);const lt=(0,m.D)(this,ce,void 0,void 0,Ne);lt!==Ne&&Ke.add(lt)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ce,ge,be,Ne,Ke){this.destination.next(ge)}notifyComplete(ce){const ge=this.buffer;this.remove(ce),this.active--,ge.length>0?this._next(ge.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},7770:(gn,_t,k)=>{"use strict";k.d(_t,{QV:()=>v,ht:()=>C});var m=k(3489),N=k(9312);function v(De,fe=0){return function(ce){return ce.lift(new ne(De,fe))}}class ne{constructor(fe,Ie=0){this.scheduler=fe,this.delay=Ie}call(fe,Ie){return Ie.subscribe(new C(fe,this.scheduler,this.delay))}}class C extends m.L{constructor(fe,Ie,ce=0){super(fe),this.scheduler=Ie,this.delay=ce}static dispatch(fe){const{notification:Ie,destination:ce}=fe;Ie.observe(ce),this.unsubscribe()}scheduleMessage(fe){this.destination.add(this.scheduler.schedule(C.dispatch,this.delay,new J(fe,this.destination)))}_next(fe){this.scheduleMessage(N.P.createNext(fe))}_error(fe){this.scheduleMessage(N.P.createError(fe)),this.unsubscribe()}_complete(){this.scheduleMessage(N.P.createComplete()),this.unsubscribe()}}class J{constructor(fe,Ie){this.notification=fe,this.destination=Ie}}},4327:(gn,_t,k)=>{"use strict";k.d(_t,{x:()=>N});var m=k(3489);function N(){return function(J){return J.lift(new v(J))}}class v{constructor(J){this.connectable=J}call(J,De){const{connectable:fe}=this;fe._refCount++;const Ie=new ne(J,fe),ce=De.subscribe(Ie);return Ie.closed||(Ie.connection=fe.connect()),ce}}class ne extends m.L{constructor(J,De){super(J),this.connectable=De}_unsubscribe(){const{connectable:J}=this;if(!J)return void(this.connection=null);this.connectable=null;const De=J._refCount;if(De<=0)return void(this.connection=null);if(J._refCount=De-1,De>1)return void(this.connection=null);const{connection:fe}=this,Ie=J._connection;this.connection=null,Ie&&(!fe||Ie===fe)&&Ie.unsubscribe()}}},2014:(gn,_t,k)=>{"use strict";k.d(_t,{R:()=>N});var m=k(3489);function N(C,J){let De=!1;return arguments.length>=2&&(De=!0),function(Ie){return Ie.lift(new v(C,J,De))}}class v{constructor(J,De,fe=!1){this.accumulator=J,this.seed=De,this.hasSeed=fe}call(J,De){return De.subscribe(new ne(J,this.accumulator,this.seed,this.hasSeed))}}class ne extends m.L{constructor(J,De,fe,Ie){super(J),this.accumulator=De,this._seed=fe,this.hasSeed=Ie,this.index=0}get seed(){return this._seed}set seed(J){this.hasSeed=!0,this._seed=J}_next(J){if(this.hasSeed)return this._tryNext(J);this.seed=J,this.destination.next(J)}_tryNext(J){const De=this.index++;let fe;try{fe=this.accumulator(this.seed,J,De)}catch(Ie){this.destination.error(Ie)}this.seed=fe,this.destination.next(fe)}}},2474:(gn,_t,k)=>{"use strict";k.d(_t,{B:()=>De});var m=k(1762);class v{constructor(Ie,ce){this.subjectFactory=Ie,this.selector=ce}call(Ie,ce){const{selector:ge}=this,be=this.subjectFactory(),Ne=ge(be).subscribe(Ie);return Ne.add(ce.subscribe(be)),Ne}}var ne=k(4327),C=k(8929);function J(){return new C.xQ}function De(){return fe=>(0,ne.x)()(function N(fe,Ie){return function(ge){let be;if(be="function"==typeof fe?fe:function(){return fe},"function"==typeof Ie)return ge.lift(new v(be,Ie));const Ne=Object.create(ge,m.N);return Ne.source=ge,Ne.subjectFactory=be,Ne}}(J)(fe))}},1307:(gn,_t,k)=>{"use strict";k.d(_t,{T:()=>N});var m=k(3489);function N(C){return J=>J.lift(new v(C))}class v{constructor(J){this.total=J}call(J,De){return De.subscribe(new ne(J,this.total))}}class ne extends m.L{constructor(J,De){super(J),this.total=De,this.count=0}_next(J){++this.count>this.total&&this.destination.next(J)}}},1059:(gn,_t,k)=>{"use strict";k.d(_t,{O:()=>v});var m=k(1221),N=k(2866);function v(...ne){const C=ne[ne.length-1];return(0,N.K)(C)?(ne.pop(),J=>(0,m.z)(ne,J,C)):J=>(0,m.z)(ne,J)}},3334:(gn,_t,k)=>{"use strict";k.d(_t,{R:()=>C});var m=k(6498),N=k(8139),v=k(4241);class ne extends m.y{constructor(fe,Ie=0,ce=N.e){super(),this.source=fe,this.delayTime=Ie,this.scheduler=ce,(!(0,v.k)(Ie)||Ie<0)&&(this.delayTime=0),(!ce||"function"!=typeof ce.schedule)&&(this.scheduler=N.e)}static create(fe,Ie=0,ce=N.e){return new ne(fe,Ie,ce)}static dispatch(fe){const{source:Ie,subscriber:ce}=fe;return this.add(Ie.subscribe(ce))}_subscribe(fe){return this.scheduler.schedule(ne.dispatch,this.delayTime,{source:this.source,subscriber:fe})}}function C(De,fe=0){return function(ce){return ce.lift(new J(De,fe))}}class J{constructor(fe,Ie){this.scheduler=fe,this.delay=Ie}call(fe,Ie){return new ne(Ie,this.delay,this.scheduler).subscribe(fe)}}},7545:(gn,_t,k)=>{"use strict";k.d(_t,{w:()=>J});var m=k(826),N=k(1869),v=k(9054),ne=k(4850),C=k(5254);function J(Ie,ce){return"function"==typeof ce?ge=>ge.pipe(J((be,Ne)=>(0,C.D)(Ie(be,Ne)).pipe((0,ne.U)((Ke,lt)=>ce(be,Ke,Ne,lt))))):ge=>ge.lift(new De(Ie))}class De{constructor(ce){this.project=ce}call(ce,ge){return ge.subscribe(new fe(ce,this.project))}}class fe extends m.L{constructor(ce,ge){super(ce),this.project=ge,this.index=0}_next(ce){let ge;const be=this.index++;try{ge=this.project(ce,be)}catch(Ne){return void this.destination.error(Ne)}this._innerSub(ge,ce,be)}_innerSub(ce,ge,be){const Ne=this.innerSubscription;Ne&&Ne.unsubscribe();const Ke=new N.d(this,ge,be),lt=this.destination;lt.add(Ke),this.innerSubscription=(0,v.D)(this,ce,void 0,void 0,Ke),this.innerSubscription!==Ke&&lt.add(this.innerSubscription)}_complete(){const{innerSubscription:ce}=this;(!ce||ce.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(ce){this.destination.remove(ce),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(ce,ge,be,Ne,Ke){this.destination.next(ge)}}},2986:(gn,_t,k)=>{"use strict";k.d(_t,{q:()=>ne});var m=k(3489),N=k(4231),v=k(8896);function ne(De){return fe=>0===De?(0,v.c)():fe.lift(new C(De))}class C{constructor(fe){if(this.total=fe,this.total<0)throw new N.W}call(fe,Ie){return Ie.subscribe(new J(fe,this.total))}}class J extends m.L{constructor(fe,Ie){super(fe),this.total=Ie,this.count=0}_next(fe){const Ie=this.total,ce=++this.count;ce<=Ie&&(this.destination.next(fe),ce===Ie&&(this.destination.complete(),this.unsubscribe()))}}},7625:(gn,_t,k)=>{"use strict";k.d(_t,{R:()=>v});var m=k(826),N=k(9054);function v(J){return De=>De.lift(new ne(J))}class ne{constructor(De){this.notifier=De}call(De,fe){const Ie=new C(De),ce=(0,N.D)(Ie,this.notifier);return ce&&!Ie.seenValue?(Ie.add(ce),fe.subscribe(Ie)):Ie}}class C extends m.L{constructor(De){super(De),this.seenValue=!1}notifyNext(De,fe,Ie,ce,ge){this.seenValue=!0,this.complete()}notifyComplete(){}}},2868:(gn,_t,k)=>{"use strict";k.d(_t,{b:()=>ne});var m=k(3489);function N(){}var v=k(7043);function ne(De,fe,Ie){return function(ge){return ge.lift(new C(De,fe,Ie))}}class C{constructor(fe,Ie,ce){this.nextOrObserver=fe,this.error=Ie,this.complete=ce}call(fe,Ie){return Ie.subscribe(new J(fe,this.nextOrObserver,this.error,this.complete))}}class J extends m.L{constructor(fe,Ie,ce,ge){super(fe),this._tapNext=N,this._tapError=N,this._tapComplete=N,this._tapError=ce||N,this._tapComplete=ge||N,(0,v.m)(Ie)?(this._context=this,this._tapNext=Ie):Ie&&(this._context=Ie,this._tapNext=Ie.next||N,this._tapError=Ie.error||N,this._tapComplete=Ie.complete||N)}_next(fe){try{this._tapNext.call(this._context,fe)}catch(Ie){return void this.destination.error(Ie)}this.destination.next(fe)}_error(fe){try{this._tapError.call(this._context,fe)}catch(Ie){return void this.destination.error(Ie)}this.destination.error(fe)}_complete(){try{this._tapComplete.call(this._context)}catch(fe){return void this.destination.error(fe)}return this.destination.complete()}}},4907:(gn,_t,k)=>{"use strict";k.d(_t,{T:()=>v});var m=k(4450),N=k(3489);function v(De=J){return fe=>fe.lift(new ne(De))}class ne{constructor(fe){this.errorFactory=fe}call(fe,Ie){return Ie.subscribe(new C(fe,this.errorFactory))}}class C extends N.L{constructor(fe,Ie){super(fe),this.errorFactory=Ie,this.hasValue=!1}_next(fe){this.hasValue=!0,this.destination.next(fe)}_complete(){if(this.hasValue)return this.destination.complete();{let fe;try{fe=this.errorFactory()}catch(Ie){fe=Ie}this.destination.error(fe)}}}function J(){return new m.K}},6454:(gn,_t,k)=>{"use strict";k.d(_t,{r:()=>v});var m=k(6498),N=k(2654);function v(ne,C){return new m.y(J=>{const De=new N.w;let fe=0;return De.add(C.schedule(function(){fe!==ne.length?(J.next(ne[fe++]),J.closed||De.add(this.schedule())):J.complete()})),De})}},6686:(gn,_t,k)=>{"use strict";k.d(_t,{o:()=>v});var m=k(2654);class N extends m.w{constructor(C,J){super()}schedule(C,J=0){return this}}class v extends N{constructor(C,J){super(C,J),this.scheduler=C,this.work=J,this.pending=!1}schedule(C,J=0){if(this.closed)return this;this.state=C;const De=this.id,fe=this.scheduler;return null!=De&&(this.id=this.recycleAsyncId(fe,De,J)),this.pending=!0,this.delay=J,this.id=this.id||this.requestAsyncId(fe,this.id,J),this}requestAsyncId(C,J,De=0){return setInterval(C.flush.bind(C,this),De)}recycleAsyncId(C,J,De=0){if(null!==De&&this.delay===De&&!1===this.pending)return J;clearInterval(J)}execute(C,J){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(C,J);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(C,J){let fe,De=!1;try{this.work(C)}catch(Ie){De=!0,fe=!!Ie&&Ie||new Error(Ie)}if(De)return this.unsubscribe(),fe}_unsubscribe(){const C=this.id,J=this.scheduler,De=J.actions,fe=De.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==fe&&De.splice(fe,1),null!=C&&(this.id=this.recycleAsyncId(J,C,null)),this.delay=null}}},2268:(gn,_t,k)=>{"use strict";k.d(_t,{v:()=>N});let m=(()=>{class v{constructor(C,J=v.now){this.SchedulerAction=C,this.now=J}schedule(C,J=0,De){return new this.SchedulerAction(this,C).schedule(De,J)}}return v.now=()=>Date.now(),v})();class N extends m{constructor(ne,C=m.now){super(ne,()=>N.delegate&&N.delegate!==this?N.delegate.now():C()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ne,C=0,J){return N.delegate&&N.delegate!==this?N.delegate.schedule(ne,C,J):super.schedule(ne,C,J)}flush(ne){const{actions:C}=this;if(this.active)return void C.push(ne);let J;this.active=!0;do{if(J=ne.execute(ne.state,ne.delay))break}while(ne=C.shift());if(this.active=!1,J){for(;ne=C.shift();)ne.unsubscribe();throw J}}}},352:(gn,_t,k)=>{"use strict";k.d(_t,{r:()=>C});var m=k(6686),v=k(2268);const C=new class ne extends v.v{flush(De){this.active=!0,this.scheduled=void 0;const{actions:fe}=this;let Ie,ce=-1,ge=fe.length;De=De||fe.shift();do{if(Ie=De.execute(De.state,De.delay))break}while(++ce<ge&&(De=fe.shift()));if(this.active=!1,Ie){for(;++ce<ge&&(De=fe.shift());)De.unsubscribe();throw Ie}}}(class N extends m.o{constructor(De,fe){super(De,fe),this.scheduler=De,this.work=fe}requestAsyncId(De,fe,Ie=0){return null!==Ie&&Ie>0?super.requestAsyncId(De,fe,Ie):(De.actions.push(this),De.scheduled||(De.scheduled=requestAnimationFrame(()=>De.flush(null))))}recycleAsyncId(De,fe,Ie=0){if(null!==Ie&&Ie>0||null===Ie&&this.delay>0)return super.recycleAsyncId(De,fe,Ie);0===De.actions.length&&(cancelAnimationFrame(fe),De.scheduled=void 0)}})},8139:(gn,_t,k)=>{"use strict";k.d(_t,{e:()=>ge});let m=1;const N=Promise.resolve(),v={};function ne(be){return be in v&&(delete v[be],!0)}const C={setImmediate(be){const Ne=m++;return v[Ne]=!0,N.then(()=>ne(Ne)&&be()),Ne},clearImmediate(be){ne(be)}};var De=k(6686),Ie=k(2268);const ge=new class ce extends Ie.v{flush(Ne){this.active=!0,this.scheduled=void 0;const{actions:Ke}=this;let lt,He=-1,ot=Ke.length;Ne=Ne||Ke.shift();do{if(lt=Ne.execute(Ne.state,Ne.delay))break}while(++He<ot&&(Ne=Ke.shift()));if(this.active=!1,lt){for(;++He<ot&&(Ne=Ke.shift());)Ne.unsubscribe();throw lt}}}(class fe extends De.o{constructor(Ne,Ke){super(Ne,Ke),this.scheduler=Ne,this.work=Ke}requestAsyncId(Ne,Ke,lt=0){return null!==lt&&lt>0?super.requestAsyncId(Ne,Ke,lt):(Ne.actions.push(this),Ne.scheduled||(Ne.scheduled=C.setImmediate(Ne.flush.bind(Ne,null))))}recycleAsyncId(Ne,Ke,lt=0){if(null!==lt&&lt>0||null===lt&&this.delay>0)return super.recycleAsyncId(Ne,Ke,lt);0===Ne.actions.length&&(C.clearImmediate(Ke),Ne.scheduled=void 0)}})},353:(gn,_t,k)=>{"use strict";k.d(_t,{P:()=>v});var m=k(6686);const v=new(k(2268).v)(m.o)},341:(gn,_t,k)=>{"use strict";k.d(_t,{c:()=>C});var m=k(6686),v=k(2268);const C=new class ne extends v.v{}(class N extends m.o{constructor(De,fe){super(De,fe),this.scheduler=De,this.work=fe}schedule(De,fe=0){return fe>0?super.schedule(De,fe):(this.delay=fe,this.state=De,this.scheduler.flush(this),this)}execute(De,fe){return fe>0||this.closed?super.execute(De,fe):this._execute(De,fe)}requestAsyncId(De,fe,Ie=0){return null!==Ie&&Ie>0||null===Ie&&this.delay>0?super.requestAsyncId(De,fe,Ie):De.flush(this)}})},5430:(gn,_t,k)=>{"use strict";k.d(_t,{hZ:()=>N});const N=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(gn,_t,k)=>{"use strict";k.d(_t,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(gn,_t,k)=>{"use strict";k.d(_t,{b:()=>m});const m="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(gn,_t,k)=>{"use strict";k.d(_t,{W:()=>N});const N=(()=>{function v(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return v.prototype=Object.create(Error.prototype),v})()},4450:(gn,_t,k)=>{"use strict";k.d(_t,{K:()=>N});const N=(()=>{function v(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return v.prototype=Object.create(Error.prototype),v})()},5279:(gn,_t,k)=>{"use strict";k.d(_t,{N:()=>N});const N=(()=>{function v(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return v.prototype=Object.create(Error.prototype),v})()},2782:(gn,_t,k)=>{"use strict";function m(N){setTimeout(()=>{throw N},0)}k.d(_t,{z:()=>m})},5379:(gn,_t,k)=>{"use strict";function m(N){return N}k.d(_t,{y:()=>m})},6688:(gn,_t,k)=>{"use strict";k.d(_t,{k:()=>m});const m=Array.isArray||(N=>N&&"number"==typeof N.length)},8515:(gn,_t,k)=>{"use strict";k.d(_t,{z:()=>m});const m=N=>N&&"number"==typeof N.length&&"function"!=typeof N},7043:(gn,_t,k)=>{"use strict";function m(N){return"function"==typeof N}k.d(_t,{m:()=>m})},4241:(gn,_t,k)=>{"use strict";k.d(_t,{k:()=>N});var m=k(6688);function N(v){return!(0,m.k)(v)&&v-parseFloat(v)+1>=0}},7830:(gn,_t,k)=>{"use strict";function m(N){return null!==N&&"object"==typeof N}k.d(_t,{K:()=>m})},8955:(gn,_t,k)=>{"use strict";function m(N){return!!N&&"function"!=typeof N.subscribe&&"function"==typeof N.then}k.d(_t,{t:()=>m})},2866:(gn,_t,k)=>{"use strict";function m(N){return N&&"function"==typeof N.schedule}k.d(_t,{K:()=>m})},4843:(gn,_t,k)=>{"use strict";k.d(_t,{U:()=>v,z:()=>N});var m=k(5379);function N(...ne){return v(ne)}function v(ne){return 0===ne.length?m.y:1===ne.length?ne[0]:function(J){return ne.reduce((De,fe)=>fe(De),J)}}},9249:(gn,_t,k)=>{"use strict";k.d(_t,{s:()=>ge});var m=k(3650),N=k(2782),ne=k(5430),J=k(3821),fe=k(8515),Ie=k(8955),ce=k(7830);const ge=be=>{if(be&&"function"==typeof be[J.L])return(be=>Ne=>{const Ke=be[J.L]();if("function"!=typeof Ke.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ke.subscribe(Ne)})(be);if((0,fe.z)(be))return(0,m.V)(be);if((0,Ie.t)(be))return(be=>Ne=>(be.then(Ke=>{Ne.closed||(Ne.next(Ke),Ne.complete())},Ke=>Ne.error(Ke)).then(null,N.z),Ne))(be);if(be&&"function"==typeof be[ne.hZ])return(be=>Ne=>{const Ke=be[ne.hZ]();for(;;){const lt=Ke.next();if(lt.done){Ne.complete();break}if(Ne.next(lt.value),Ne.closed)break}return"function"==typeof Ke.return&&Ne.add(()=>{Ke.return&&Ke.return()}),Ne})(be);{const Ke=`You provided ${(0,ce.K)(be)?"an invalid object":`'${be}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ke)}}},3650:(gn,_t,k)=>{"use strict";k.d(_t,{V:()=>m});const m=N=>v=>{for(let ne=0,C=N.length;ne<C&&!v.closed;ne++)v.next(N[ne]);v.complete()}},9054:(gn,_t,k)=>{"use strict";k.d(_t,{D:()=>ne});var m=k(1869),N=k(9249),v=k(6498);function ne(C,J,De,fe,Ie=new m.d(C,De,fe)){if(!Ie.closed)return J instanceof v.y?J.subscribe(Ie):(0,N.s)(J)(Ie)}},9444:(gn,_t,k)=>{var m=k(4542),N=k(6926),v=N;v.v1=m,v.v4=N,gn.exports=v},7805:gn=>{for(var _t=[],k=0;k<256;++k)_t[k]=(k+256).toString(16).substr(1);gn.exports=function m(N,v){var ne=v||0;return[_t[N[ne++]],_t[N[ne++]],_t[N[ne++]],_t[N[ne++]],"-",_t[N[ne++]],_t[N[ne++]],"-",_t[N[ne++]],_t[N[ne++]],"-",_t[N[ne++]],_t[N[ne++]],"-",_t[N[ne++]],_t[N[ne++]],_t[N[ne++]],_t[N[ne++]],_t[N[ne++]],_t[N[ne++]]].join("")}},7142:gn=>{var _t=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(_t){var k=new Uint8Array(16);gn.exports=function(){return _t(k),k}}else{var m=new Array(16);gn.exports=function(){for(var ne,v=0;v<16;v++)0==(3&v)&&(ne=4294967296*Math.random()),m[v]=ne>>>((3&v)<<3)&255;return m}}},4542:(gn,_t,k)=>{var v,ne,m=k(7142),N=k(7805),C=0,J=0;gn.exports=function De(fe,Ie,ce){var ge=Ie&&ce||0,be=Ie||[],Ne=(fe=fe||{}).node||v,Ke=void 0!==fe.clockseq?fe.clockseq:ne;if(null==Ne||null==Ke){var lt=m();null==Ne&&(Ne=v=[1|lt[0],lt[1],lt[2],lt[3],lt[4],lt[5]]),null==Ke&&(Ke=ne=16383&(lt[6]<<8|lt[7]))}var He=void 0!==fe.msecs?fe.msecs:(new Date).getTime(),ot=void 0!==fe.nsecs?fe.nsecs:J+1,pt=He-C+(ot-J)/1e4;if(pt<0&&void 0===fe.clockseq&&(Ke=Ke+1&16383),(pt<0||He>C)&&void 0===fe.nsecs&&(ot=0),ot>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");C=He,J=ot,ne=Ke;var Ut=(1e4*(268435455&(He+=122192928e5))+ot)%4294967296;be[ge++]=Ut>>>24&255,be[ge++]=Ut>>>16&255,be[ge++]=Ut>>>8&255,be[ge++]=255&Ut;var ut=He/4294967296*1e4&268435455;be[ge++]=ut>>>8&255,be[ge++]=255&ut,be[ge++]=ut>>>24&15|16,be[ge++]=ut>>>16&255,be[ge++]=Ke>>>8|128,be[ge++]=255&Ke;for(var kt=0;kt<6;++kt)be[ge+kt]=Ne[kt];return Ie||N(be)}},6926:(gn,_t,k)=>{var m=k(7142),N=k(7805);gn.exports=function v(ne,C,J){var De=C&&J||0;"string"==typeof ne&&(C="binary"===ne?new Array(16):null,ne=null);var fe=(ne=ne||{}).random||(ne.rng||m)();if(fe[6]=15&fe[6]|64,fe[8]=63&fe[8]|128,C)for(var Ie=0;Ie<16;++Ie)C[De+Ie]=fe[Ie];return C||N(fe)}},7340:(gn,_t,k)=>{"use strict";k.d(_t,{F4:()=>ce,IO:()=>lt,LC:()=>N,SB:()=>Ie,X$:()=>ne,ZE:()=>Ut,ZN:()=>pt,_j:()=>m,eR:()=>ge,jt:()=>C,k1:()=>ut,l3:()=>v,oB:()=>fe,pV:()=>Ne,ru:()=>J,vP:()=>De});class m{}class N{}const v="*";function ne(kt,vt){return{type:7,name:kt,definitions:vt,options:{}}}function C(kt,vt=null){return{type:4,styles:vt,timings:kt}}function J(kt,vt=null){return{type:3,steps:kt,options:vt}}function De(kt,vt=null){return{type:2,steps:kt,options:vt}}function fe(kt){return{type:6,styles:kt,offset:null}}function Ie(kt,vt,Je){return{type:0,name:kt,styles:vt,options:Je}}function ce(kt){return{type:5,steps:kt}}function ge(kt,vt,Je=null){return{type:1,expr:kt,animation:vt,options:Je}}function Ne(kt=null){return{type:9,options:kt}}function lt(kt,vt,Je=null){return{type:11,selector:kt,animation:vt,options:Je}}function ot(kt){Promise.resolve().then(kt)}class pt{constructor(vt=0,Je=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=vt+Je}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(vt=>vt()),this._onDoneFns=[])}onStart(vt){this._originalOnStartFns.push(vt),this._onStartFns.push(vt)}onDone(vt){this._originalOnDoneFns.push(vt),this._onDoneFns.push(vt)}onDestroy(vt){this._onDestroyFns.push(vt)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ot(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(vt=>vt()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(vt=>vt()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(vt){this._position=this.totalTime?vt*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(vt){const Je="start"==vt?this._onStartFns:this._onDoneFns;Je.forEach(Be=>Be()),Je.length=0}}class Ut{constructor(vt){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=vt;let Je=0,Be=0,ht=0;const et=this.players.length;0==et?ot(()=>this._onFinish()):this.players.forEach(qe=>{qe.onDone(()=>{++Je==et&&this._onFinish()}),qe.onDestroy(()=>{++Be==et&&this._onDestroy()}),qe.onStart(()=>{++ht==et&&this._onStart()})}),this.totalTime=this.players.reduce((qe,Pt)=>Math.max(qe,Pt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(vt=>vt()),this._onDoneFns=[])}init(){this.players.forEach(vt=>vt.init())}onStart(vt){this._onStartFns.push(vt)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(vt=>vt()),this._onStartFns=[])}onDone(vt){this._onDoneFns.push(vt)}onDestroy(vt){this._onDestroyFns.push(vt)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(vt=>vt.play())}pause(){this.players.forEach(vt=>vt.pause())}restart(){this.players.forEach(vt=>vt.restart())}finish(){this._onFinish(),this.players.forEach(vt=>vt.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(vt=>vt.destroy()),this._onDestroyFns.forEach(vt=>vt()),this._onDestroyFns=[])}reset(){this.players.forEach(vt=>vt.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(vt){const Je=vt*this.totalTime;this.players.forEach(Be=>{const ht=Be.totalTime?Math.min(1,Je/Be.totalTime):1;Be.setPosition(ht)})}getPosition(){const vt=this.players.reduce((Je,Be)=>null===Je||Be.totalTime>Je.totalTime?Be:Je,null);return null!=vt?vt.getPosition():0}beforeDestroy(){this.players.forEach(vt=>{vt.beforeDestroy&&vt.beforeDestroy()})}triggerCallback(vt){const Je="start"==vt?this._onStartFns:this._onDoneFns;Je.forEach(Be=>Be()),Je.length=0}}const ut="!"},2687:(gn,_t,k)=>{"use strict";k.d(_t,{Em:()=>$n,X6:()=>he,ic:()=>si,qV:()=>Vt,qm:()=>Jt,rt:()=>hn,tE:()=>Ai,yG:()=>le});var m=k(6895),N=k(4650),v=k(3353),ne=k(8929),C=k(2654),J=k(591),De=k(1086),fe=k(9521),Ie=k(2868),ce=k(13),ge=k(2198),be=k(4850),Ne=k(2986),Ke=k(1307),lt=k(5778),He=k(7625),ot=k(1281),pt=k(9643),Ut=k(2289);class $n extends class Ft{constructor(it){this._items=it,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ne.xQ,this._typeaheadSubscription=C.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=Xe=>Xe.disabled,this._pressedLetters=[],this.tabOut=new ne.xQ,this.change=new ne.xQ,it instanceof N.n_E&&it.changes.subscribe(Xe=>{if(this._activeItem){const Ht=Xe.toArray().indexOf(this._activeItem);Ht>-1&&Ht!==this._activeItemIndex&&(this._activeItemIndex=Ht)}})}skipPredicate(it){return this._skipPredicateFn=it,this}withWrap(it=!0){return this._wrap=it,this}withVerticalOrientation(it=!0){return this._vertical=it,this}withHorizontalOrientation(it){return this._horizontal=it,this}withAllowedModifierKeys(it){return this._allowedModifierKeys=it,this}withTypeAhead(it=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ie.b)(Xe=>this._pressedLetters.push(Xe)),(0,ce.b)(it),(0,ge.h)(()=>this._pressedLetters.length>0),(0,be.U)(()=>this._pressedLetters.join(""))).subscribe(Xe=>{const Et=this._getItemsArray();for(let Ht=1;Ht<Et.length+1;Ht++){const _e=(this._activeItemIndex+Ht)%Et.length,j=Et[_e];if(!this._skipPredicateFn(j)&&0===j.getLabel().toUpperCase().trim().indexOf(Xe)){this.setActiveItem(_e);break}}this._pressedLetters=[]}),this}withHomeAndEnd(it=!0){return this._homeAndEnd=it,this}setActiveItem(it){const Xe=this._activeItem;this.updateActiveItem(it),this._activeItem!==Xe&&this.change.next(this._activeItemIndex)}onKeydown(it){const Xe=it.keyCode,Ht=["altKey","ctrlKey","metaKey","shiftKey"].every(_e=>!it[_e]||this._allowedModifierKeys.indexOf(_e)>-1);switch(Xe){case fe.Mf:return void this.tabOut.next();case fe.JH:if(this._vertical&&Ht){this.setNextItemActive();break}return;case fe.LH:if(this._vertical&&Ht){this.setPreviousItemActive();break}return;case fe.SV:if(this._horizontal&&Ht){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case fe.oh:if(this._horizontal&&Ht){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case fe.Sd:if(this._homeAndEnd&&Ht){this.setFirstItemActive();break}return;case fe.uR:if(this._homeAndEnd&&Ht){this.setLastItemActive();break}return;default:return void((Ht||(0,fe.Vb)(it,"shiftKey"))&&(it.key&&1===it.key.length?this._letterKeyStream.next(it.key.toLocaleUpperCase()):(Xe>=fe.A&&Xe<=fe.Z||Xe>=fe.xE&&Xe<=fe.aO)&&this._letterKeyStream.next(String.fromCharCode(Xe))))}this._pressedLetters=[],it.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(it){const Xe=this._getItemsArray(),Et="number"==typeof it?it:Xe.indexOf(it);this._activeItem=Xe[Et]??null,this._activeItemIndex=Et}_setActiveItemByDelta(it){this._wrap?this._setActiveInWrapMode(it):this._setActiveInDefaultMode(it)}_setActiveInWrapMode(it){const Xe=this._getItemsArray();for(let Et=1;Et<=Xe.length;Et++){const Ht=(this._activeItemIndex+it*Et+Xe.length)%Xe.length;if(!this._skipPredicateFn(Xe[Ht]))return void this.setActiveItem(Ht)}}_setActiveInDefaultMode(it){this._setActiveItemByIndex(this._activeItemIndex+it,it)}_setActiveItemByIndex(it,Xe){const Et=this._getItemsArray();if(Et[it]){for(;this._skipPredicateFn(Et[it]);)if(!Et[it+=Xe])return;this.setActiveItem(it)}}_getItemsArray(){return this._items instanceof N.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(it){return this._origin=it,this}setActiveItem(it){super.setActiveItem(it),this.activeItem&&this.activeItem.focus(this._origin)}}let si=(()=>{class at{constructor(Xe){this._platform=Xe}isDisabled(Xe){return Xe.hasAttribute("disabled")}isVisible(Xe){return function tn(at){return!!(at.offsetWidth||at.offsetHeight||"function"==typeof at.getClientRects&&at.getClientRects().length)}(Xe)&&"visible"===getComputedStyle(Xe).visibility}isTabbable(Xe){if(!this._platform.isBrowser)return!1;const Et=function Ln(at){try{return at.frameElement}catch{return null}}(function Kt(at){return at.ownerDocument&&at.ownerDocument.defaultView||window}(Xe));if(Et&&(-1===Xt(Et)||!this.isVisible(Et)))return!1;let Ht=Xe.nodeName.toLowerCase(),_e=Xt(Xe);return Xe.hasAttribute("contenteditable")?-1!==_e:!("iframe"===Ht||"object"===Ht||this._platform.WEBKIT&&this._platform.IOS&&!function Fn(at){let it=at.nodeName.toLowerCase(),Xe="input"===it&&at.type;return"text"===Xe||"password"===Xe||"select"===it||"textarea"===it}(Xe))&&("audio"===Ht?!!Xe.hasAttribute("controls")&&-1!==_e:"video"===Ht?-1!==_e&&(null!==_e||this._platform.FIREFOX||Xe.hasAttribute("controls")):Xe.tabIndex>=0)}isFocusable(Xe,Et){return function Mt(at){return!function Oe(at){return function Fe(at){return"input"==at.nodeName.toLowerCase()}(at)&&"hidden"==at.type}(at)&&(function mn(at){let it=at.nodeName.toLowerCase();return"input"===it||"select"===it||"button"===it||"textarea"===it}(at)||function Ve(at){return function Ye(at){return"a"==at.nodeName.toLowerCase()}(at)&&at.hasAttribute("href")}(at)||at.hasAttribute("contenteditable")||St(at))}(Xe)&&!this.isDisabled(Xe)&&(Et?.ignoreVisibility||this.isVisible(Xe))}}return at.\u0275fac=function(Xe){return new(Xe||at)(N.LFG(v.t4))},at.\u0275prov=N.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})();function St(at){if(!at.hasAttribute("tabindex")||void 0===at.tabIndex)return!1;let it=at.getAttribute("tabindex");return!(!it||isNaN(parseInt(it,10)))}function Xt(at){if(!St(at))return null;const it=parseInt(at.getAttribute("tabindex")||"",10);return isNaN(it)?-1:it}class Tt{constructor(it,Xe,Et,Ht,_e=!1){this._element=it,this._checker=Xe,this._ngZone=Et,this._document=Ht,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,_e||this.attachAnchors()}get enabled(){return this._enabled}set enabled(it){this._enabled=it,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(it,this._startAnchor),this._toggleAnchorTabIndex(it,this._endAnchor))}destroy(){const it=this._startAnchor,Xe=this._endAnchor;it&&(it.removeEventListener("focus",this.startAnchorListener),it.remove()),Xe&&(Xe.removeEventListener("focus",this.endAnchorListener),Xe.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(it){return new Promise(Xe=>{this._executeOnStable(()=>Xe(this.focusInitialElement(it)))})}focusFirstTabbableElementWhenReady(it){return new Promise(Xe=>{this._executeOnStable(()=>Xe(this.focusFirstTabbableElement(it)))})}focusLastTabbableElementWhenReady(it){return new Promise(Xe=>{this._executeOnStable(()=>Xe(this.focusLastTabbableElement(it)))})}_getRegionBoundary(it){const Xe=this._element.querySelectorAll(`[cdk-focus-region-${it}], [cdkFocusRegion${it}], [cdk-focus-${it}]`);return"start"==it?Xe.length?Xe[0]:this._getFirstTabbableElement(this._element):Xe.length?Xe[Xe.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(it){const Xe=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Xe){if(!this._checker.isFocusable(Xe)){const Et=this._getFirstTabbableElement(Xe);return Et?.focus(it),!!Et}return Xe.focus(it),!0}return this.focusFirstTabbableElement(it)}focusFirstTabbableElement(it){const Xe=this._getRegionBoundary("start");return Xe&&Xe.focus(it),!!Xe}focusLastTabbableElement(it){const Xe=this._getRegionBoundary("end");return Xe&&Xe.focus(it),!!Xe}hasAttached(){return this._hasAttached}_getFirstTabbableElement(it){if(this._checker.isFocusable(it)&&this._checker.isTabbable(it))return it;const Xe=it.children;for(let Et=0;Et<Xe.length;Et++){const Ht=Xe[Et].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Xe[Et]):null;if(Ht)return Ht}return null}_getLastTabbableElement(it){if(this._checker.isFocusable(it)&&this._checker.isTabbable(it))return it;const Xe=it.children;for(let Et=Xe.length-1;Et>=0;Et--){const Ht=Xe[Et].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Xe[Et]):null;if(Ht)return Ht}return null}_createAnchor(){const it=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,it),it.classList.add("cdk-visually-hidden"),it.classList.add("cdk-focus-trap-anchor"),it.setAttribute("aria-hidden","true"),it}_toggleAnchorTabIndex(it,Xe){it?Xe.setAttribute("tabindex","0"):Xe.removeAttribute("tabindex")}toggleAnchors(it){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(it,this._startAnchor),this._toggleAnchorTabIndex(it,this._endAnchor))}_executeOnStable(it){this._ngZone.isStable?it():this._ngZone.onStable.pipe((0,Ne.q)(1)).subscribe(it)}}let Vt=(()=>{class at{constructor(Xe,Et,Ht){this._checker=Xe,this._ngZone=Et,this._document=Ht}create(Xe,Et=!1){return new Tt(Xe,this._checker,this._ngZone,this._document,Et)}}return at.\u0275fac=function(Xe){return new(Xe||at)(N.LFG(si),N.LFG(N.R0b),N.LFG(m.K0))},at.\u0275prov=N.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})();function he(at){return 0===at.buttons||0===at.offsetX&&0===at.offsetY}function le(at){const it=at.touches&&at.touches[0]||at.changedTouches&&at.changedTouches[0];return!(!it||-1!==it.identifier||null!=it.radiusX&&1!==it.radiusX||null!=it.radiusY&&1!==it.radiusY)}const Ce=new N.OlP("cdk-input-modality-detector-options"),ae={ignoreKeys:[fe.zL,fe.jx,fe.b2,fe.MW,fe.JU]},Dt=(0,v.i$)({passive:!0,capture:!0});let Gt=(()=>{class at{constructor(Xe,Et,Ht,_e){this._platform=Xe,this._mostRecentTarget=null,this._modality=new J.X(null),this._lastTouchMs=0,this._onKeydown=j=>{var G,X;null!==(G=this._options)&&void 0!==G&&null!==(X=G.ignoreKeys)&&void 0!==X&&X.some(K=>K===j.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,v.sA)(j))},this._onMousedown=j=>{Date.now()-this._lastTouchMs<650||(this._modality.next(he(j)?"keyboard":"mouse"),this._mostRecentTarget=(0,v.sA)(j))},this._onTouchstart=j=>{le(j)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,v.sA)(j))},this._options={...ae,..._e},this.modalityDetected=this._modality.pipe((0,Ke.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,lt.x)()),Xe.isBrowser&&Et.runOutsideAngular(()=>{Ht.addEventListener("keydown",this._onKeydown,Dt),Ht.addEventListener("mousedown",this._onMousedown,Dt),Ht.addEventListener("touchstart",this._onTouchstart,Dt)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Dt),document.removeEventListener("mousedown",this._onMousedown,Dt),document.removeEventListener("touchstart",this._onTouchstart,Dt))}}return at.\u0275fac=function(Xe){return new(Xe||at)(N.LFG(v.t4),N.LFG(N.R0b),N.LFG(m.K0),N.LFG(Ce,8))},at.\u0275prov=N.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})();const ri=new N.OlP("cdk-focus-monitor-default-options"),kn=(0,v.i$)({passive:!0,capture:!0});let Ai=(()=>{class at{constructor(Xe,Et,Ht,_e,j){this._ngZone=Xe,this._platform=Et,this._inputModalityDetector=Ht,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ne.xQ,this._rootNodeFocusAndBlurListener=G=>{for(let K=(0,v.sA)(G);K;K=K.parentElement)"focus"===G.type?this._onFocus(G,K):this._onBlur(G,K)},this._document=_e,this._detectionMode=j?.detectionMode||0}monitor(Xe,Et=!1){const Ht=(0,ot.fI)(Xe);if(!this._platform.isBrowser||1!==Ht.nodeType)return(0,De.of)(null);const _e=(0,v.kV)(Ht)||this._getDocument(),j=this._elementInfo.get(Ht);if(j)return Et&&(j.checkChildren=!0),j.subject;const G={checkChildren:Et,subject:new ne.xQ,rootNode:_e};return this._elementInfo.set(Ht,G),this._registerGlobalListeners(G),G.subject}stopMonitoring(Xe){const Et=(0,ot.fI)(Xe),Ht=this._elementInfo.get(Et);Ht&&(Ht.subject.complete(),this._setClasses(Et),this._elementInfo.delete(Et),this._removeGlobalListeners(Ht))}focusVia(Xe,Et,Ht){const _e=(0,ot.fI)(Xe);_e===this._getDocument().activeElement?this._getClosestElementsInfo(_e).forEach(([G,X])=>this._originChanged(G,Et,X)):(this._setOrigin(Et),"function"==typeof _e.focus&&_e.focus(Ht))}ngOnDestroy(){this._elementInfo.forEach((Xe,Et)=>this.stopMonitoring(Et))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Xe){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Xe)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Xe&&this._isLastInteractionFromInputLabel(Xe)?"mouse":"program"}_shouldBeAttributedToTouch(Xe){return 1===this._detectionMode||!(null==Xe||!Xe.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(Xe,Et){Xe.classList.toggle("cdk-focused",!!Et),Xe.classList.toggle("cdk-touch-focused","touch"===Et),Xe.classList.toggle("cdk-keyboard-focused","keyboard"===Et),Xe.classList.toggle("cdk-mouse-focused","mouse"===Et),Xe.classList.toggle("cdk-program-focused","program"===Et)}_setOrigin(Xe,Et=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Xe,this._originFromTouchInteraction="touch"===Xe&&Et,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Xe,Et){const Ht=this._elementInfo.get(Et),_e=(0,v.sA)(Xe);!Ht||!Ht.checkChildren&&Et!==_e||this._originChanged(Et,this._getFocusOrigin(_e),Ht)}_onBlur(Xe,Et){const Ht=this._elementInfo.get(Et);!Ht||Ht.checkChildren&&Xe.relatedTarget instanceof Node&&Et.contains(Xe.relatedTarget)||(this._setClasses(Et),this._emitOrigin(Ht,null))}_emitOrigin(Xe,Et){Xe.subject.observers.length&&this._ngZone.run(()=>Xe.subject.next(Et))}_registerGlobalListeners(Xe){if(!this._platform.isBrowser)return;const Et=Xe.rootNode,Ht=this._rootNodeFocusListenerCount.get(Et)||0;Ht||this._ngZone.runOutsideAngular(()=>{Et.addEventListener("focus",this._rootNodeFocusAndBlurListener,kn),Et.addEventListener("blur",this._rootNodeFocusAndBlurListener,kn)}),this._rootNodeFocusListenerCount.set(Et,Ht+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,He.R)(this._stopInputModalityDetector)).subscribe(_e=>{this._setOrigin(_e,!0)}))}_removeGlobalListeners(Xe){const Et=Xe.rootNode;if(this._rootNodeFocusListenerCount.has(Et)){const Ht=this._rootNodeFocusListenerCount.get(Et);Ht>1?this._rootNodeFocusListenerCount.set(Et,Ht-1):(Et.removeEventListener("focus",this._rootNodeFocusAndBlurListener,kn),Et.removeEventListener("blur",this._rootNodeFocusAndBlurListener,kn),this._rootNodeFocusListenerCount.delete(Et))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Xe,Et,Ht){this._setClasses(Xe,Et),this._emitOrigin(Ht,Et),this._lastFocusOrigin=Et}_getClosestElementsInfo(Xe){const Et=[];return this._elementInfo.forEach((Ht,_e)=>{(_e===Xe||Ht.checkChildren&&_e.contains(Xe))&&Et.push([_e,Ht])}),Et}_isLastInteractionFromInputLabel(Xe){const{_mostRecentTarget:Et,mostRecentModality:Ht}=this._inputModalityDetector;if("mouse"!==Ht||!Et||Et===Xe||"INPUT"!==Xe.nodeName&&"TEXTAREA"!==Xe.nodeName||Xe.disabled)return!1;const _e=Xe.labels;if(_e)for(let j=0;j<_e.length;j++)if(_e[j].contains(Et))return!0;return!1}}return at.\u0275fac=function(Xe){return new(Xe||at)(N.LFG(N.R0b),N.LFG(v.t4),N.LFG(Gt),N.LFG(m.K0,8),N.LFG(ri,8))},at.\u0275prov=N.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})();const $t="cdk-high-contrast-black-on-white",ft="cdk-high-contrast-white-on-black",Se="cdk-high-contrast-active";let Jt=(()=>{class at{constructor(Xe,Et){this._platform=Xe,this._document=Et,this._breakpointSubscription=(0,N.f3M)(Ut.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Xe=this._document.createElement("div");Xe.style.backgroundColor="rgb(1,2,3)",Xe.style.position="absolute",this._document.body.appendChild(Xe);const Et=this._document.defaultView||window,Ht=Et&&Et.getComputedStyle?Et.getComputedStyle(Xe):null,_e=(Ht&&Ht.backgroundColor||"").replace(/ /g,"");switch(Xe.remove(),_e){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Xe=this._document.body.classList;Xe.remove(Se,$t,ft),this._hasCheckedHighContrastMode=!0;const Et=this.getHighContrastMode();1===Et?Xe.add(Se,$t):2===Et&&Xe.add(Se,ft)}}}return at.\u0275fac=function(Xe){return new(Xe||at)(N.LFG(v.t4),N.LFG(m.K0))},at.\u0275prov=N.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})(),hn=(()=>{class at{constructor(Xe){Xe._applyBodyHighContrastModeCssClasses()}}return at.\u0275fac=function(Xe){return new(Xe||at)(N.LFG(Jt))},at.\u0275mod=N.oAB({type:at}),at.\u0275inj=N.cJS({imports:[pt.Q8]}),at})()},445:(gn,_t,k)=>{"use strict";k.d(_t,{Is:()=>De,vT:()=>Ie});var m=k(4650),N=k(6895);const v=new m.OlP("cdk-dir-doc",{providedIn:"root",factory:function ne(){return(0,m.f3M)(N.K0)}}),C=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let De=(()=>{class ce{constructor(be){if(this.value="ltr",this.change=new m.vpe,be){const Ke=be.documentElement?be.documentElement.dir:null;this.value=function J(ce){var ge;const be=ce?.toLowerCase()||"";return"auto"===be&&typeof navigator<"u"&&null!==(ge=navigator)&&void 0!==ge&&ge.language?C.test(navigator.language)?"rtl":"ltr":"rtl"===be?"rtl":"ltr"}((be.body?be.body.dir:null)||Ke||"ltr")}}ngOnDestroy(){this.change.complete()}}return ce.\u0275fac=function(be){return new(be||ce)(m.LFG(v,8))},ce.\u0275prov=m.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})(),Ie=(()=>{class ce{}return ce.\u0275fac=function(be){return new(be||ce)},ce.\u0275mod=m.oAB({type:ce}),ce.\u0275inj=m.cJS({}),ce})()},1281:(gn,_t,k)=>{"use strict";k.d(_t,{Eq:()=>C,HM:()=>J,Ig:()=>N,fI:()=>De,su:()=>v});var m=k(4650);function N(Ie){return null!=Ie&&"false"!=`${Ie}`}function v(Ie,ce=0){return function ne(Ie){return!isNaN(parseFloat(Ie))&&!isNaN(Number(Ie))}(Ie)?Number(Ie):ce}function C(Ie){return Array.isArray(Ie)?Ie:[Ie]}function J(Ie){return null==Ie?"":"string"==typeof Ie?Ie:`${Ie}px`}function De(Ie){return Ie instanceof m.SBq?Ie.nativeElement:Ie}},5017:(gn,_t,k)=>{"use strict";k.d(_t,{A8:()=>ge,Ov:()=>Ie,Z9:()=>C,eX:()=>fe,k:()=>be,yy:()=>De});var m=k(1762),N=k(8929),v=k(4650);function C(Ne){return Ne&&"function"==typeof Ne.connect&&!(Ne instanceof m.c)}class De{applyChanges(Ke,lt,He,ot,pt){Ke.forEachOperation((Ut,ut,kt)=>{let vt,Je;if(null==Ut.previousIndex){const ht=He(Ut,ut,kt);vt=lt.createEmbeddedView(ht.templateRef,ht.context,ht.index),Je=1}else null==kt?(lt.remove(ut),Je=3):(vt=lt.get(ut),lt.move(vt,kt),Je=2);var Be;pt&&pt({context:null===(Be=vt)||void 0===Be?void 0:Be.context,operation:Je,record:Ut})})}detach(){}}class fe{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(Ke,lt,He,ot,pt){Ke.forEachOperation((Ut,ut,kt)=>{let vt,Je;var Be;null==Ut.previousIndex?(vt=this._insertView(()=>He(Ut,ut,kt),kt,lt,ot(Ut)),Je=vt?1:0):null==kt?(this._detachAndCacheView(ut,lt),Je=3):(vt=this._moveView(ut,kt,lt,ot(Ut)),Je=2),pt&&pt({context:null===(Be=vt)||void 0===Be?void 0:Be.context,operation:Je,record:Ut})})}detach(){for(const Ke of this._viewCache)Ke.destroy();this._viewCache=[]}_insertView(Ke,lt,He,ot){const pt=this._insertViewFromCache(lt,He);if(pt)return void(pt.context.$implicit=ot);const Ut=Ke();return He.createEmbeddedView(Ut.templateRef,Ut.context,Ut.index)}_detachAndCacheView(Ke,lt){const He=lt.detach(Ke);this._maybeCacheView(He,lt)}_moveView(Ke,lt,He,ot){const pt=He.get(Ke);return He.move(pt,lt),pt.context.$implicit=ot,pt}_maybeCacheView(Ke,lt){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(Ke);else{const He=lt.indexOf(Ke);-1===He?Ke.destroy():lt.remove(He)}}_insertViewFromCache(Ke,lt){const He=this._viewCache.pop();return He&&lt.insert(He,Ke),He||null}}class Ie{constructor(Ke=!1,lt,He=!0,ot){this._multiple=Ke,this._emitChanges=He,this.compareWith=ot,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new N.xQ,lt&&lt.length&&(Ke?lt.forEach(pt=>this._markSelected(pt)):this._markSelected(lt[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...Ke){this._verifyValueAssignment(Ke),Ke.forEach(He=>this._markSelected(He));const lt=this._hasQueuedChanges();return this._emitChangeEvent(),lt}deselect(...Ke){this._verifyValueAssignment(Ke),Ke.forEach(He=>this._unmarkSelected(He));const lt=this._hasQueuedChanges();return this._emitChangeEvent(),lt}setSelection(...Ke){this._verifyValueAssignment(Ke);const lt=this.selected,He=new Set(Ke);Ke.forEach(pt=>this._markSelected(pt)),lt.filter(pt=>!He.has(pt)).forEach(pt=>this._unmarkSelected(pt));const ot=this._hasQueuedChanges();return this._emitChangeEvent(),ot}toggle(Ke){return this.isSelected(Ke)?this.deselect(Ke):this.select(Ke)}clear(Ke=!0){this._unmarkAll();const lt=this._hasQueuedChanges();return Ke&&this._emitChangeEvent(),lt}isSelected(Ke){if(this.compareWith){for(const lt of this._selection)if(this.compareWith(lt,Ke))return!0;return!1}return this._selection.has(Ke)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(Ke){this._multiple&&this.selected&&this._selected.sort(Ke)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(Ke){this.isSelected(Ke)||(this._multiple||this._unmarkAll(),this.isSelected(Ke)||this._selection.add(Ke),this._emitChanges&&this._selectedToEmit.push(Ke))}_unmarkSelected(Ke){this.isSelected(Ke)&&(this._selection.delete(Ke),this._emitChanges&&this._deselectedToEmit.push(Ke))}_unmarkAll(){this.isEmpty()||this._selection.forEach(Ke=>this._unmarkSelected(Ke))}_verifyValueAssignment(Ke){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let ge=(()=>{class Ne{constructor(){this._listeners=[]}notify(lt,He){for(let ot of this._listeners)ot(lt,He)}listen(lt){return this._listeners.push(lt),()=>{this._listeners=this._listeners.filter(He=>lt!==He)}}ngOnDestroy(){this._listeners=[]}}return Ne.\u0275fac=function(lt){return new(lt||Ne)},Ne.\u0275prov=v.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),Ne})();const be=new v.OlP("_ViewRepeater")},7855:(gn,_t,k)=>{"use strict";k.d(_t,{LL:()=>He,Su:()=>et,Vq:()=>Be,ib:()=>Ke});var m=k(2687),N=k(8184),v=k(3353),ne=k(4080),C=k(6895),J=k(4650),De=k(9521),fe=k(8929),Ie=k(8514),ce=k(1086),ge=k(445),be=k(1059);function Ne(qe,Pt){}class Ke{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let He=(()=>{class qe extends ne.en{constructor(ze,At,Ft,yn,$n,Gn,si,Ln){super(),this._elementRef=ze,this._focusTrapFactory=At,this._config=yn,this._interactivityChecker=$n,this._ngZone=Gn,this._overlayRef=si,this._focusMonitor=Ln,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=tn=>{this._portalOutlet.hasAttached();const mn=this._portalOutlet.attachDomPortal(tn);return this._contentAttached(),mn},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=Ft}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(ze){this._portalOutlet.hasAttached();const At=this._portalOutlet.attachComponentPortal(ze);return this._contentAttached(),At}attachTemplatePortal(ze){this._portalOutlet.hasAttached();const At=this._portalOutlet.attachTemplatePortal(ze);return this._contentAttached(),At}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(ze,At){this._interactivityChecker.isFocusable(ze)||(ze.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Ft=()=>{ze.removeEventListener("blur",Ft),ze.removeEventListener("mousedown",Ft),ze.removeAttribute("tabindex")};ze.addEventListener("blur",Ft),ze.addEventListener("mousedown",Ft)})),ze.focus(At)}_focusByCssSelector(ze,At){let Ft=this._elementRef.nativeElement.querySelector(ze);Ft&&this._forceFocus(Ft,At)}_trapFocus(){const ze=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||ze.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(At=>{At||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const ze=this._config.restoreFocus;let At=null;if("string"==typeof ze?At=this._document.querySelector(ze):"boolean"==typeof ze?At=ze?this._elementFocusedBeforeDialogWasOpened:null:ze&&(At=ze),this._config.restoreFocus&&At&&"function"==typeof At.focus){const Ft=(0,v.ht)(),yn=this._elementRef.nativeElement;(!Ft||Ft===this._document.body||Ft===yn||yn.contains(Ft))&&(this._focusMonitor?(this._focusMonitor.focusVia(At,this._closeInteractionType),this._closeInteractionType=null):At.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const ze=this._elementRef.nativeElement,At=(0,v.ht)();return ze===At||ze.contains(At)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,v.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return qe.\u0275fac=function(ze){return new(ze||qe)(J.Y36(J.SBq),J.Y36(m.qV),J.Y36(C.K0,8),J.Y36(Ke),J.Y36(m.ic),J.Y36(J.R0b),J.Y36(N.Iu),J.Y36(m.tE))},qe.\u0275cmp=J.Xpm({type:qe,selectors:[["cdk-dialog-container"]],viewQuery:function(ze,At){if(1&ze&&J.Gf(ne.Pl,7),2&ze){let Ft;J.iGM(Ft=J.CRH())&&(At._portalOutlet=Ft.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(ze,At){2&ze&&J.uIk("id",At._config.id||null)("role",At._config.role)("aria-modal",At._config.ariaModal)("aria-labelledby",At._config.ariaLabel?null:At._ariaLabelledBy)("aria-label",At._config.ariaLabel)("aria-describedby",At._config.ariaDescribedBy||null)},features:[J.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(ze,At){1&ze&&J.YNc(0,Ne,0,0,"ng-template",0)},dependencies:[ne.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),qe})();class ot{constructor(Pt,ze){this.overlayRef=Pt,this.config=ze,this.closed=new fe.xQ,this.disableClose=ze.disableClose,this.backdropClick=Pt.backdropClick(),this.keydownEvents=Pt.keydownEvents(),this.outsidePointerEvents=Pt.outsidePointerEvents(),this.id=ze.id,this.keydownEvents.subscribe(At=>{At.keyCode===De.hY&&!this.disableClose&&!(0,De.Vb)(At)&&(At.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(Pt,ze){if(this.containerInstance){const At=this.closed;this.containerInstance._closeInteractionType=ze?.focusOrigin||"program",this.overlayRef.dispose(),At.next(Pt),At.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(Pt="",ze=""){return this.overlayRef.updateSize({width:Pt,height:ze}),this}addPanelClass(Pt){return this.overlayRef.addPanelClass(Pt),this}removePanelClass(Pt){return this.overlayRef.removePanelClass(Pt),this}}const pt=new J.OlP("DialogScrollStrategy"),Ut=new J.OlP("DialogData"),ut=new J.OlP("DefaultDialogConfig"),vt={provide:pt,deps:[N.aV],useFactory:function kt(qe){return()=>qe.scrollStrategies.block()}};let Je=0,Be=(()=>{class qe{constructor(ze,At,Ft,yn,$n,Gn){this._overlay=ze,this._injector=At,this._defaultOptions=Ft,this._parentDialog=yn,this._overlayContainer=$n,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new fe.xQ,this._afterOpenedAtThisLevel=new fe.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Ie.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,be.O)(void 0))),this._scrollStrategy=Gn}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(ze,At){(At={...this._defaultOptions||new Ke,...At}).id=At.id||"cdk-dialog-"+Je++,At.id&&this.getDialogById(At.id);const yn=this._getOverlayConfig(At),$n=this._overlay.create(yn),Gn=new ot($n,At),si=this._attachContainer($n,Gn,At);return Gn.containerInstance=si,this._attachDialogContent(ze,Gn,si,At),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(Gn),Gn.closed.subscribe(()=>this._removeOpenDialog(Gn,!0)),this.afterOpened.next(Gn),Gn}closeAll(){ht(this.openDialogs,ze=>ze.close())}getDialogById(ze){return this.openDialogs.find(At=>At.id===ze)}ngOnDestroy(){ht(this._openDialogsAtThisLevel,ze=>{!1===ze.config.closeOnDestroy&&this._removeOpenDialog(ze,!1)}),ht(this._openDialogsAtThisLevel,ze=>ze.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(ze){const At=new N.X_({positionStrategy:ze.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:ze.scrollStrategy||this._scrollStrategy(),panelClass:ze.panelClass,hasBackdrop:ze.hasBackdrop,direction:ze.direction,minWidth:ze.minWidth,minHeight:ze.minHeight,maxWidth:ze.maxWidth,maxHeight:ze.maxHeight,width:ze.width,height:ze.height,disposeOnNavigation:ze.closeOnNavigation});return ze.backdropClass&&(At.backdropClass=ze.backdropClass),At}_attachContainer(ze,At,Ft){var yn;const $n=Ft.injector||(null===(yn=Ft.viewContainerRef)||void 0===yn?void 0:yn.injector),Gn=[{provide:Ke,useValue:Ft},{provide:ot,useValue:At},{provide:N.Iu,useValue:ze}];let si;Ft.container?"function"==typeof Ft.container?si=Ft.container:(si=Ft.container.type,Gn.push(...Ft.container.providers(Ft))):si=He;const Ln=new ne.C5(si,Ft.viewContainerRef,J.zs3.create({parent:$n||this._injector,providers:Gn}),Ft.componentFactoryResolver);return ze.attach(Ln).instance}_attachDialogContent(ze,At,Ft,yn){if(ze instanceof J.Rgc){const $n=this._createInjector(yn,At,Ft,void 0);let Gn={$implicit:yn.data,dialogRef:At};yn.templateContext&&(Gn={...Gn,..."function"==typeof yn.templateContext?yn.templateContext():yn.templateContext}),Ft.attachTemplatePortal(new ne.UE(ze,null,Gn,$n))}else{const $n=this._createInjector(yn,At,Ft,this._injector),Gn=Ft.attachComponentPortal(new ne.C5(ze,yn.viewContainerRef,$n,yn.componentFactoryResolver));At.componentInstance=Gn.instance}}_createInjector(ze,At,Ft,yn){var $n;const Gn=ze.injector||(null===($n=ze.viewContainerRef)||void 0===$n?void 0:$n.injector),si=[{provide:Ut,useValue:ze.data},{provide:ot,useValue:At}];return ze.providers&&("function"==typeof ze.providers?si.push(...ze.providers(At,ze,Ft)):si.push(...ze.providers)),ze.direction&&(!Gn||!Gn.get(ge.Is,null,J.XFs.Optional))&&si.push({provide:ge.Is,useValue:{value:ze.direction,change:(0,ce.of)()}}),J.zs3.create({parent:Gn||yn,providers:si})}_removeOpenDialog(ze,At){const Ft=this.openDialogs.indexOf(ze);Ft>-1&&(this.openDialogs.splice(Ft,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((yn,$n)=>{yn?$n.setAttribute("aria-hidden",yn):$n.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),At&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const ze=this._overlayContainer.getContainerElement();if(ze.parentElement){const At=ze.parentElement.children;for(let Ft=At.length-1;Ft>-1;Ft--){const yn=At[Ft];yn!==ze&&"SCRIPT"!==yn.nodeName&&"STYLE"!==yn.nodeName&&!yn.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(yn,yn.getAttribute("aria-hidden")),yn.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const ze=this._parentDialog;return ze?ze._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return qe.\u0275fac=function(ze){return new(ze||qe)(J.LFG(N.aV),J.LFG(J.zs3),J.LFG(ut,8),J.LFG(qe,12),J.LFG(N.Xj),J.LFG(pt))},qe.\u0275prov=J.Yz7({token:qe,factory:qe.\u0275fac}),qe})();function ht(qe,Pt){let ze=qe.length;for(;ze--;)Pt(qe[ze])}let et=(()=>{class qe{}return qe.\u0275fac=function(ze){return new(ze||qe)},qe.\u0275mod=J.oAB({type:qe}),qe.\u0275inj=J.cJS({providers:[Be,vt],imports:[N.U8,ne.eL,m.rt,ne.eL]}),qe})()},3977:(gn,_t,k)=>{"use strict";k.d(_t,{Zt:()=>Et,Wj:()=>$t,_t:()=>Ht,bA:()=>Cn});var m=k(4650),N=k(6895),v=k(2556),ne=k(3353),C=k(1281),J=k(2687),De=k(8929),fe=k(2654),Ie=k(6498),ce=k(353),ge=k(4241);function Ne(_e){const{subscriber:j,counter:G,period:X}=_e;j.next(G),this.schedule({subscriber:j,counter:G+1,period:X},X)}var Ke=k(352),lt=k(6787),He=k(7625),ot=k(1059),pt=k(4850),Ut=k(2986),ut=k(2868),kt=k(7545),vt=k(445);function Je(_e,j,G){for(let X in j)if(j.hasOwnProperty(X)){const K=j[X];K?_e.setProperty(X,K,null!=G&&G.has(X)?"important":""):_e.removeProperty(X)}return _e}function Be(_e,j){const G=j?"":"none";Je(_e.style,{"touch-action":j?"":"none","-webkit-user-drag":j?"":"none","-webkit-tap-highlight-color":j?"":"transparent","user-select":G,"-ms-user-select":G,"-webkit-user-select":G,"-moz-user-select":G})}function ht(_e,j,G){Je(_e.style,{position:j?"":"fixed",top:j?"":"0",opacity:j?"":"0",left:j?"":"-999em"},G)}function et(_e,j){return j&&"none"!=j?_e+" "+j:_e}function qe(_e){const j=_e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(_e)*j}function ze(_e,j){return _e.getPropertyValue(j).split(",").map(X=>X.trim())}function At(_e){const j=_e.getBoundingClientRect();return{top:j.top,right:j.right,bottom:j.bottom,left:j.left,width:j.width,height:j.height,x:j.x,y:j.y}}function Ft(_e,j,G){const{top:X,bottom:K,left:pe,right:Qe}=_e;return G>=X&&G<=K&&j>=pe&&j<=Qe}function yn(_e,j,G){_e.top+=j,_e.bottom=_e.top+_e.height,_e.left+=G,_e.right=_e.left+_e.width}function $n(_e,j,G,X){const{top:K,right:pe,bottom:Qe,left:Ct,width:dn,height:fn}=_e,Ge=dn*j,je=fn*j;return X>K-je&&X<Qe+je&&G>Ct-Ge&&G<pe+Ge}class Gn{constructor(j){this._document=j,this.positions=new Map}clear(){this.positions.clear()}cache(j){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),j.forEach(G=>{this.positions.set(G,{scrollPosition:{top:G.scrollTop,left:G.scrollLeft},clientRect:At(G)})})}handleScroll(j){const G=(0,ne.sA)(j),X=this.positions.get(G);if(!X)return null;const K=X.scrollPosition;let pe,Qe;if(G===this._document){const fn=this.getViewportScrollPosition();pe=fn.top,Qe=fn.left}else pe=G.scrollTop,Qe=G.scrollLeft;const Ct=K.top-pe,dn=K.left-Qe;return this.positions.forEach((fn,Ge)=>{fn.clientRect&&G!==Ge&&G.contains(Ge)&&yn(fn.clientRect,Ct,dn)}),K.top=pe,K.left=Qe,{top:Ct,left:dn}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function si(_e){const j=_e.cloneNode(!0),G=j.querySelectorAll("[id]"),X=_e.nodeName.toLowerCase();j.removeAttribute("id");for(let K=0;K<G.length;K++)G[K].removeAttribute("id");return"canvas"===X?Oe(_e,j):("input"===X||"select"===X||"textarea"===X)&&mn(_e,j),Ln("canvas",_e,j,Oe),Ln("input, textarea, select",_e,j,mn),j}function Ln(_e,j,G,X){const K=j.querySelectorAll(_e);if(K.length){const pe=G.querySelectorAll(_e);for(let Qe=0;Qe<K.length;Qe++)X(K[Qe],pe[Qe])}}let tn=0;function mn(_e,j){"file"!==j.type&&(j.value=_e.value),"radio"===j.type&&j.name&&(j.name=`mat-clone-${j.name}-${tn++}`)}function Oe(_e,j){const G=j.getContext("2d");if(G)try{G.drawImage(_e,0,0)}catch{}}const Ve=(0,ne.i$)({passive:!0}),Fe=(0,ne.i$)({passive:!1}),St=new Set(["position"]);class Xt{constructor(j,G,X,K,pe,Qe){this._config=G,this._document=X,this._ngZone=K,this._viewportRuler=pe,this._dragDropRegistry=Qe,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new De.xQ,this._pointerMoveSubscription=fe.w.EMPTY,this._pointerUpSubscription=fe.w.EMPTY,this._scrollSubscription=fe.w.EMPTY,this._resizeSubscription=fe.w.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new De.xQ,this.started=new De.xQ,this.released=new De.xQ,this.ended=new De.xQ,this.entered=new De.xQ,this.exited=new De.xQ,this.dropped=new De.xQ,this.moved=this._moveEvents,this._pointerDown=Ct=>{if(this.beforeStarted.next(),this._handles.length){const dn=this._getTargetHandle(Ct);dn&&!this._disabledHandles.has(dn)&&!this.disabled&&this._initializeDragSequence(dn,Ct)}else this.disabled||this._initializeDragSequence(this._rootElement,Ct)},this._pointerMove=Ct=>{const dn=this._getPointerPositionOnPage(Ct);if(!this._hasStartedDragging){if(Math.abs(dn.x-this._pickupPositionOnPage.x)+Math.abs(dn.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const We=Date.now()>=this._dragStartTime+this._getDragStartDelay(Ct),Te=this._dropContainer;if(!We)return void this._endDragSequence(Ct);(!Te||!Te.isDragging()&&!Te.isReceiving())&&(Ct.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(Ct)))}return}Ct.preventDefault();const fn=this._getConstrainedPointerPosition(dn);if(this._hasMoved=!0,this._lastKnownPointerPosition=dn,this._updatePointerDirectionDelta(fn),this._dropContainer)this._updateActiveDropContainer(fn,dn);else{const Ge=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,je=this._activeTransform;je.x=fn.x-Ge.x+this._passiveTransform.x,je.y=fn.y-Ge.y+this._passiveTransform.y,this._applyRootElementTransform(je.x,je.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:fn,event:Ct,distance:this._getDragDistance(fn),delta:this._pointerDirectionDelta})})},this._pointerUp=Ct=>{this._endDragSequence(Ct)},this._nativeDragStart=Ct=>{if(this._handles.length){const dn=this._getTargetHandle(Ct);dn&&!this._disabledHandles.has(dn)&&!this.disabled&&Ct.preventDefault()}else this.disabled||Ct.preventDefault()},this.withRootElement(j).withParent(G.parentDragRef||null),this._parentPositions=new Gn(X),Qe.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(j){const G=(0,C.Ig)(j);G!==this._disabled&&(this._disabled=G,this._toggleNativeDragInteractions(),this._handles.forEach(X=>Be(X,G)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(j){this._handles=j.map(X=>(0,C.fI)(X)),this._handles.forEach(X=>Be(X,this.disabled)),this._toggleNativeDragInteractions();const G=new Set;return this._disabledHandles.forEach(X=>{this._handles.indexOf(X)>-1&&G.add(X)}),this._disabledHandles=G,this}withPreviewTemplate(j){return this._previewTemplate=j,this}withPlaceholderTemplate(j){return this._placeholderTemplate=j,this}withRootElement(j){const G=(0,C.fI)(j);return G!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{G.addEventListener("mousedown",this._pointerDown,Fe),G.addEventListener("touchstart",this._pointerDown,Ve),G.addEventListener("dragstart",this._nativeDragStart,Fe)}),this._initialTransform=void 0,this._rootElement=G),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(j){return this._boundaryElement=j?(0,C.fI)(j):null,this._resizeSubscription.unsubscribe(),j&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(j){return this._parentDragRef=j,this}dispose(){var j,G;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(G=this._rootElement)||void 0===G||G.remove()),null===(j=this._anchor)||void 0===j||j.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(j){!this._disabledHandles.has(j)&&this._handles.indexOf(j)>-1&&(this._disabledHandles.add(j),Be(j,!0))}enableHandle(j){this._disabledHandles.has(j)&&(this._disabledHandles.delete(j),Be(j,this.disabled))}withDirection(j){return this._direction=j,this}_withDropContainer(j){this._dropContainer=j}getFreeDragPosition(){const j=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:j.x,y:j.y}}setFreeDragPosition(j){return this._activeTransform={x:0,y:0},this._passiveTransform.x=j.x,this._passiveTransform.y=j.y,this._dropContainer||this._applyRootElementTransform(j.x,j.y),this}withPreviewContainer(j){return this._previewContainer=j,this}_sortFromLastPointerPosition(){const j=this._lastKnownPointerPosition;j&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(j),j)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var j,G;null===(j=this._preview)||void 0===j||j.remove(),null===(G=this._previewRef)||void 0===G||G.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var j,G;null===(j=this._placeholder)||void 0===j||j.remove(),null===(G=this._placeholderRef)||void 0===G||G.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(j){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:j}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(j),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const G=this._getPointerPositionOnPage(j);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(G),dropPoint:G,event:j})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(j){Kt(j)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const G=this._dropContainer;if(G){const X=this._rootElement,K=X.parentNode,pe=this._placeholder=this._createPlaceholderElement(),Qe=this._anchor=this._anchor||this._document.createComment(""),Ct=this._getShadowRoot();K.insertBefore(Qe,X),this._initialTransform=X.style.transform||"",this._preview=this._createPreviewElement(),ht(X,!1,St),this._document.body.appendChild(K.replaceChild(pe,X)),this._getPreviewInsertionPoint(K,Ct).appendChild(this._preview),this.started.next({source:this,event:j}),G.start(),this._initialContainer=G,this._initialIndex=G.getItemIndex(this)}else this.started.next({source:this,event:j}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(G?G.getScrollableParents():[])}_initializeDragSequence(j,G){this._parentDragRef&&G.stopPropagation();const X=this.isDragging(),K=Kt(G),pe=!K&&0!==G.button,Qe=this._rootElement,Ct=(0,ne.sA)(G),dn=!K&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),fn=K?(0,J.yG)(G):(0,J.X6)(G);if(Ct&&Ct.draggable&&"mousedown"===G.type&&G.preventDefault(),X||pe||dn||fn)return;if(this._handles.length){const Ue=Qe.style;this._rootElementTapHighlight=Ue.webkitTapHighlightColor||"",Ue.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Ue=>this._updateOnScroll(Ue)),this._boundaryElement&&(this._boundaryRect=At(this._boundaryElement));const Ge=this._previewTemplate;this._pickupPositionInElement=Ge&&Ge.template&&!Ge.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,j,G);const je=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(G);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:je.x,y:je.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,G)}_cleanupDragArtifacts(j){ht(this._rootElement,!0,St),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const G=this._dropContainer,X=G.getItemIndex(this),K=this._getPointerPositionOnPage(j),pe=this._getDragDistance(K),Qe=G._isOverContainer(K.x,K.y);this.ended.next({source:this,distance:pe,dropPoint:K,event:j}),this.dropped.next({item:this,currentIndex:X,previousIndex:this._initialIndex,container:G,previousContainer:this._initialContainer,isPointerOverContainer:Qe,distance:pe,dropPoint:K,event:j}),G.drop(this,X,this._initialIndex,this._initialContainer,Qe,pe,K,j),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:j,y:G},{x:X,y:K}){let pe=this._initialContainer._getSiblingContainerFromPosition(this,j,G);!pe&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(j,G)&&(pe=this._initialContainer),pe&&pe!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=pe,this._dropContainer.enter(this,j,G,pe===this._initialContainer&&pe.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:pe,currentIndex:pe.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(X,K),this._dropContainer._sortItem(this,j,G,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(j,G):this._applyPreviewTransform(j-this._pickupPositionInElement.x,G-this._pickupPositionInElement.y))}_createPreviewElement(){const j=this._previewTemplate,G=this.previewClass,X=j?j.template:null;let K;if(X&&j){const pe=j.matchSize?this._initialClientRect:null,Qe=j.viewContainer.createEmbeddedView(X,j.context);Qe.detectChanges(),K=Tt(Qe,this._document),this._previewRef=Qe,j.matchSize?Vt(K,pe):K.style.transform=Fn(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else K=si(this._rootElement),Vt(K,this._initialClientRect),this._initialTransform&&(K.style.transform=this._initialTransform);return Je(K.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},St),Be(K,!1),K.classList.add("cdk-drag-preview"),K.setAttribute("dir",this._direction),G&&(Array.isArray(G)?G.forEach(pe=>K.classList.add(pe)):K.classList.add(G)),K}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const j=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(j.left,j.top);const G=function Pt(_e){const j=getComputedStyle(_e),G=ze(j,"transition-property"),X=G.find(Ct=>"transform"===Ct||"all"===Ct);if(!X)return 0;const K=G.indexOf(X),pe=ze(j,"transition-duration"),Qe=ze(j,"transition-delay");return qe(pe[K])+qe(Qe[K])}(this._preview);return 0===G?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(X=>{const K=Qe=>{var Ct;(!Qe||(0,ne.sA)(Qe)===this._preview&&"transform"===Qe.propertyName)&&(null===(Ct=this._preview)||void 0===Ct||Ct.removeEventListener("transitionend",K),X(),clearTimeout(pe))},pe=setTimeout(K,1.5*G);this._preview.addEventListener("transitionend",K)}))}_createPlaceholderElement(){const j=this._placeholderTemplate,G=j?j.template:null;let X;return G?(this._placeholderRef=j.viewContainer.createEmbeddedView(G,j.context),this._placeholderRef.detectChanges(),X=Tt(this._placeholderRef,this._document)):X=si(this._rootElement),X.style.pointerEvents="none",X.classList.add("cdk-drag-placeholder"),X}_getPointerPositionInElement(j,G,X){const K=G===this._rootElement?null:G,pe=K?K.getBoundingClientRect():j,Qe=Kt(X)?X.targetTouches[0]:X,Ct=this._getViewportScrollPosition();return{x:pe.left-j.left+(Qe.pageX-pe.left-Ct.left),y:pe.top-j.top+(Qe.pageY-pe.top-Ct.top)}}_getPointerPositionOnPage(j){const G=this._getViewportScrollPosition(),X=Kt(j)?j.touches[0]||j.changedTouches[0]||{pageX:0,pageY:0}:j,K=X.pageX-G.left,pe=X.pageY-G.top;if(this._ownerSVGElement){const Qe=this._ownerSVGElement.getScreenCTM();if(Qe){const Ct=this._ownerSVGElement.createSVGPoint();return Ct.x=K,Ct.y=pe,Ct.matrixTransform(Qe.inverse())}}return{x:K,y:pe}}_getConstrainedPointerPosition(j){const G=this._dropContainer?this._dropContainer.lockAxis:null;let{x:X,y:K}=this.constrainPosition?this.constrainPosition(j,this,this._initialClientRect,this._pickupPositionInElement):j;if("x"===this.lockAxis||"x"===G?K=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===G)&&(X=this._pickupPositionOnPage.x),this._boundaryRect){const{x:pe,y:Qe}=this._pickupPositionInElement,Ct=this._boundaryRect,{width:dn,height:fn}=this._getPreviewRect(),Ge=Ct.top+Qe,je=Ct.bottom-(fn-Qe);X=Mt(X,Ct.left+pe,Ct.right-(dn-pe)),K=Mt(K,Ge,je)}return{x:X,y:K}}_updatePointerDirectionDelta(j){const{x:G,y:X}=j,K=this._pointerDirectionDelta,pe=this._pointerPositionAtLastDirectionChange,Qe=Math.abs(G-pe.x),Ct=Math.abs(X-pe.y);return Qe>this._config.pointerDirectionChangeThreshold&&(K.x=G>pe.x?1:-1,pe.x=G),Ct>this._config.pointerDirectionChangeThreshold&&(K.y=X>pe.y?1:-1,pe.y=X),K}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const j=this._handles.length>0||!this.isDragging();j!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=j,Be(this._rootElement,j))}_removeRootElementListeners(j){j.removeEventListener("mousedown",this._pointerDown,Fe),j.removeEventListener("touchstart",this._pointerDown,Ve),j.removeEventListener("dragstart",this._nativeDragStart,Fe)}_applyRootElementTransform(j,G){const X=Fn(j,G),K=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=K.transform&&"none"!=K.transform?K.transform:""),K.transform=et(X,this._initialTransform)}_applyPreviewTransform(j,G){var X;const K=null!==(X=this._previewTemplate)&&void 0!==X&&X.template?void 0:this._initialTransform,pe=Fn(j,G);this._preview.style.transform=et(pe,K)}_getDragDistance(j){const G=this._pickupPositionOnPage;return G?{x:j.x-G.x,y:j.y-G.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:j,y:G}=this._passiveTransform;if(0===j&&0===G||this.isDragging()||!this._boundaryElement)return;const X=this._rootElement.getBoundingClientRect(),K=this._boundaryElement.getBoundingClientRect();if(0===K.width&&0===K.height||0===X.width&&0===X.height)return;const pe=K.left-X.left,Qe=X.right-K.right,Ct=K.top-X.top,dn=X.bottom-K.bottom;K.width>X.width?(pe>0&&(j+=pe),Qe>0&&(j-=Qe)):j=0,K.height>X.height?(Ct>0&&(G+=Ct),dn>0&&(G-=dn)):G=0,(j!==this._passiveTransform.x||G!==this._passiveTransform.y)&&this.setFreeDragPosition({y:G,x:j})}_getDragStartDelay(j){const G=this.dragStartDelay;return"number"==typeof G?G:Kt(j)?G.touch:G?G.mouse:0}_updateOnScroll(j){const G=this._parentPositions.handleScroll(j);if(G){const X=(0,ne.sA)(j);this._boundaryRect&&X!==this._boundaryElement&&X.contains(this._boundaryElement)&&yn(this._boundaryRect,G.top,G.left),this._pickupPositionOnPage.x+=G.left,this._pickupPositionOnPage.y+=G.top,this._dropContainer||(this._activeTransform.x-=G.left,this._activeTransform.y-=G.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var j;return(null===(j=this._parentPositions.positions.get(this._document))||void 0===j?void 0:j.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,ne.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(j,G){const X=this._previewContainer||"global";if("parent"===X)return j;if("global"===X){const K=this._document;return G||K.fullscreenElement||K.webkitFullscreenElement||K.mozFullScreenElement||K.msFullscreenElement||K.body}return(0,C.fI)(X)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(j){return this._handles.find(G=>j.target&&(j.target===G||G.contains(j.target)))}}function Fn(_e,j){return`translate3d(${Math.round(_e)}px, ${Math.round(j)}px, 0)`}function Mt(_e,j,G){return Math.max(j,Math.min(G,_e))}function Kt(_e){return"t"===_e.type[0]}function Tt(_e,j){const G=_e.rootNodes;if(1===G.length&&G[0].nodeType===j.ELEMENT_NODE)return G[0];const X=j.createElement("div");return G.forEach(K=>X.appendChild(K)),X}function Vt(_e,j){_e.style.width=`${j.width}px`,_e.style.height=`${j.height}px`,_e.style.transform=Fn(j.left,j.top)}function Cn(_e,j,G){const X=wn(j,_e.length-1),K=wn(G,_e.length-1);if(X===K)return;const pe=_e[X],Qe=K<X?-1:1;for(let Ct=X;Ct!==K;Ct+=Qe)_e[Ct]=_e[Ct+Qe];_e[K]=pe}function wn(_e,j){return Math.max(0,Math.min(j,_e))}class mt{constructor(j,G){this._element=j,this._dragDropRegistry=G,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(j){this.withItems(j)}sort(j,G,X,K){const pe=this._itemPositions,Qe=this._getItemIndexFromPointerPosition(j,G,X,K);if(-1===Qe&&pe.length>0)return null;const Ct="horizontal"===this.orientation,dn=pe.findIndex(rt=>rt.drag===j),fn=pe[Qe],je=fn.clientRect,Ue=dn>Qe?1:-1,We=this._getItemOffsetPx(pe[dn].clientRect,je,Ue),Te=this._getSiblingOffsetPx(dn,pe,Ue),we=pe.slice();return Cn(pe,dn,Qe),pe.forEach((rt,Lt)=>{if(we[Lt]===rt)return;const rn=rt.drag===j,Kn=rn?We:Te,Pn=rn?j.getPlaceholderElement():rt.drag.getRootElement();rt.offset+=Kn,Ct?(Pn.style.transform=et(`translate3d(${Math.round(rt.offset)}px, 0, 0)`,rt.initialTransform),yn(rt.clientRect,0,Kn)):(Pn.style.transform=et(`translate3d(0, ${Math.round(rt.offset)}px, 0)`,rt.initialTransform),yn(rt.clientRect,Kn,0))}),this._previousSwap.overlaps=Ft(je,G,X),this._previousSwap.drag=fn.drag,this._previousSwap.delta=Ct?K.x:K.y,{previousIndex:dn,currentIndex:Qe}}enter(j,G,X,K){const pe=null==K||K<0?this._getItemIndexFromPointerPosition(j,G,X):K,Qe=this._activeDraggables,Ct=Qe.indexOf(j),dn=j.getPlaceholderElement();let fn=Qe[pe];if(fn===j&&(fn=Qe[pe+1]),!fn&&(null==pe||-1===pe||pe<Qe.length-1)&&this._shouldEnterAsFirstChild(G,X)&&(fn=Qe[0]),Ct>-1&&Qe.splice(Ct,1),fn&&!this._dragDropRegistry.isDragging(fn)){const Ge=fn.getRootElement();Ge.parentElement.insertBefore(dn,Ge),Qe.splice(pe,0,j)}else(0,C.fI)(this._element).appendChild(dn),Qe.push(j);dn.style.transform="",this._cacheItemPositions()}withItems(j){this._activeDraggables=j.slice(),this._cacheItemPositions()}withSortPredicate(j){this._sortPredicate=j}reset(){this._activeDraggables.forEach(j=>{const G=j.getRootElement();if(G){var X;const K=null===(X=this._itemPositions.find(pe=>pe.drag===j))||void 0===X?void 0:X.initialTransform;G.style.transform=K||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(j){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(X=>X.drag===j)}updateOnScroll(j,G){this._itemPositions.forEach(({clientRect:X})=>{yn(X,j,G)}),this._itemPositions.forEach(({drag:X})=>{this._dragDropRegistry.isDragging(X)&&X._sortFromLastPointerPosition()})}_cacheItemPositions(){const j="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(G=>{const X=G.getVisibleElement();return{drag:G,offset:0,initialTransform:X.style.transform||"",clientRect:At(X)}}).sort((G,X)=>j?G.clientRect.left-X.clientRect.left:G.clientRect.top-X.clientRect.top)}_getItemOffsetPx(j,G,X){const K="horizontal"===this.orientation;let pe=K?G.left-j.left:G.top-j.top;return-1===X&&(pe+=K?G.width-j.width:G.height-j.height),pe}_getSiblingOffsetPx(j,G,X){const K="horizontal"===this.orientation,pe=G[j].clientRect,Qe=G[j+-1*X];let Ct=pe[K?"width":"height"]*X;if(Qe){const dn=K?"left":"top",fn=K?"right":"bottom";-1===X?Ct-=Qe.clientRect[dn]-pe[fn]:Ct+=pe[dn]-Qe.clientRect[fn]}return Ct}_shouldEnterAsFirstChild(j,G){if(!this._activeDraggables.length)return!1;const X=this._itemPositions,K="horizontal"===this.orientation;if(X[0].drag!==this._activeDraggables[0]){const Qe=X[X.length-1].clientRect;return K?j>=Qe.right:G>=Qe.bottom}{const Qe=X[0].clientRect;return K?j<=Qe.left:G<=Qe.top}}_getItemIndexFromPointerPosition(j,G,X,K){const pe="horizontal"===this.orientation,Qe=this._itemPositions.findIndex(({drag:Ct,clientRect:dn})=>{if(Ct===j)return!1;if(K){const fn=pe?K.x:K.y;if(Ct===this._previousSwap.drag&&this._previousSwap.overlaps&&fn===this._previousSwap.delta)return!1}return pe?G>=Math.floor(dn.left)&&G<Math.floor(dn.right):X>=Math.floor(dn.top)&&X<Math.floor(dn.bottom)});return-1!==Qe&&this._sortPredicate(Qe,j)?Qe:-1}}class le{constructor(j,G,X,K,pe){this._dragDropRegistry=G,this._ngZone=K,this._viewportRuler=pe,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new De.xQ,this.entered=new De.xQ,this.exited=new De.xQ,this.dropped=new De.xQ,this.sorted=new De.xQ,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=fe.w.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new De.xQ,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function be(_e=0,j=ce.P){return(!(0,ge.k)(_e)||_e<0)&&(_e=0),(!j||"function"!=typeof j.schedule)&&(j=ce.P),new Ie.y(G=>(G.add(j.schedule(Ne,_e,{subscriber:G,counter:0,period:_e})),G))}(0,Ke.r).pipe((0,He.R)(this._stopScrollTimers)).subscribe(()=>{const Qe=this._scrollNode,Ct=this.autoScrollStep;1===this._verticalScrollDirection?Qe.scrollBy(0,-Ct):2===this._verticalScrollDirection&&Qe.scrollBy(0,Ct),1===this._horizontalScrollDirection?Qe.scrollBy(-Ct,0):2===this._horizontalScrollDirection&&Qe.scrollBy(Ct,0)})},this.element=(0,C.fI)(j),this._document=X,this.withScrollableParents([this.element]),G.registerDropContainer(this),this._parentPositions=new Gn(X),this._sortStrategy=new mt(this.element,G),this._sortStrategy.withSortPredicate((Qe,Ct)=>this.sortPredicate(Qe,Ct,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(j,G,X,K){this._draggingStarted(),null==K&&this.sortingDisabled&&(K=this._draggables.indexOf(j)),this._sortStrategy.enter(j,G,X,K),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:j,container:this,currentIndex:this.getItemIndex(j)})}exit(j){this._reset(),this.exited.next({item:j,container:this})}drop(j,G,X,K,pe,Qe,Ct,dn={}){this._reset(),this.dropped.next({item:j,currentIndex:G,previousIndex:X,container:this,previousContainer:K,isPointerOverContainer:pe,distance:Qe,dropPoint:Ct,event:dn})}withItems(j){const G=this._draggables;return this._draggables=j,j.forEach(X=>X._withDropContainer(this)),this.isDragging()&&(G.filter(K=>K.isDragging()).every(K=>-1===j.indexOf(K))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(j){return this._sortStrategy.direction=j,this}connectedTo(j){return this._siblings=j.slice(),this}withOrientation(j){return this._sortStrategy.orientation=j,this}withScrollableParents(j){const G=(0,C.fI)(this.element);return this._scrollableElements=-1===j.indexOf(G)?[G,...j]:j.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(j){return this._isDragging?this._sortStrategy.getItemIndex(j):this._draggables.indexOf(j)}isReceiving(){return this._activeSiblings.size>0}_sortItem(j,G,X,K){if(this.sortingDisabled||!this._clientRect||!$n(this._clientRect,.05,G,X))return;const pe=this._sortStrategy.sort(j,G,X,K);pe&&this.sorted.next({previousIndex:pe.previousIndex,currentIndex:pe.currentIndex,container:this,item:j})}_startScrollingIfNecessary(j,G){if(this.autoScrollDisabled)return;let X,K=0,pe=0;if(this._parentPositions.positions.forEach((Qe,Ct)=>{Ct===this._document||!Qe.clientRect||X||$n(Qe.clientRect,.05,j,G)&&([K,pe]=function Le(_e,j,G,X){const K=Ce(j,X),pe=ae(j,G);let Qe=0,Ct=0;if(K){const dn=_e.scrollTop;1===K?dn>0&&(Qe=1):_e.scrollHeight-dn>_e.clientHeight&&(Qe=2)}if(pe){const dn=_e.scrollLeft;1===pe?dn>0&&(Ct=1):_e.scrollWidth-dn>_e.clientWidth&&(Ct=2)}return[Qe,Ct]}(Ct,Qe.clientRect,j,G),(K||pe)&&(X=Ct))}),!K&&!pe){const{width:Qe,height:Ct}=this._viewportRuler.getViewportSize(),dn={width:Qe,height:Ct,top:0,right:Qe,bottom:Ct,left:0};K=Ce(dn,G),pe=ae(dn,j),X=window}X&&(K!==this._verticalScrollDirection||pe!==this._horizontalScrollDirection||X!==this._scrollNode)&&(this._verticalScrollDirection=K,this._horizontalScrollDirection=pe,this._scrollNode=X,(K||pe)&&X?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const j=(0,C.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=j.msScrollSnapType||j.scrollSnapType||"",j.scrollSnapType=j.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const j=(0,C.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(j).clientRect}_reset(){this._isDragging=!1;const j=(0,C.fI)(this.element).style;j.scrollSnapType=j.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(G=>G._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(j,G){return null!=this._clientRect&&Ft(this._clientRect,j,G)}_getSiblingContainerFromPosition(j,G,X){return this._siblings.find(K=>K._canReceive(j,G,X))}_canReceive(j,G,X){if(!this._clientRect||!Ft(this._clientRect,G,X)||!this.enterPredicate(j,this))return!1;const K=this._getShadowRoot().elementFromPoint(G,X);if(!K)return!1;const pe=(0,C.fI)(this.element);return K===pe||pe.contains(K)}_startReceiving(j,G){const X=this._activeSiblings;!X.has(j)&&G.every(K=>this.enterPredicate(K,this)||this._draggables.indexOf(K)>-1)&&(X.add(j),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(j){this._activeSiblings.delete(j),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(j=>{if(this.isDragging()){const G=this._parentPositions.handleScroll(j);G&&this._sortStrategy.updateOnScroll(G.top,G.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const j=(0,ne.kV)((0,C.fI)(this.element));this._cachedShadowRoot=j||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const j=this._sortStrategy.getActiveItemsSnapshot().filter(G=>G.isDragging());this._siblings.forEach(G=>G._startReceiving(this,j))}}function Ce(_e,j){const{top:G,bottom:X,height:K}=_e,pe=.05*K;return j>=G-pe&&j<=G+pe?1:j>=X-pe&&j<=X+pe?2:0}function ae(_e,j){const{left:G,right:X,width:K}=_e,pe=.05*K;return j>=G-pe&&j<=G+pe?1:j>=X-pe&&j<=X+pe?2:0}const Dt=(0,ne.i$)({passive:!1,capture:!0});let Gt=(()=>{class _e{constructor(G,X){this._ngZone=G,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=K=>K.isDragging(),this.pointerMove=new De.xQ,this.pointerUp=new De.xQ,this.scroll=new De.xQ,this._preventDefaultWhileDragging=K=>{this._activeDragInstances.length>0&&K.preventDefault()},this._persistentTouchmoveListener=K=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&K.preventDefault(),this.pointerMove.next(K))},this._document=X}registerDropContainer(G){this._dropInstances.has(G)||this._dropInstances.add(G)}registerDragItem(G){this._dragInstances.add(G),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Dt)})}removeDropContainer(G){this._dropInstances.delete(G)}removeDragItem(G){this._dragInstances.delete(G),this.stopDragging(G),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Dt)}startDragging(G,X){if(!(this._activeDragInstances.indexOf(G)>-1)&&(this._activeDragInstances.push(G),1===this._activeDragInstances.length)){const K=X.type.startsWith("touch");this._globalListeners.set(K?"touchend":"mouseup",{handler:pe=>this.pointerUp.next(pe),options:!0}).set("scroll",{handler:pe=>this.scroll.next(pe),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Dt}),K||this._globalListeners.set("mousemove",{handler:pe=>this.pointerMove.next(pe),options:Dt}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((pe,Qe)=>{this._document.addEventListener(Qe,pe.handler,pe.options)})})}}stopDragging(G){const X=this._activeDragInstances.indexOf(G);X>-1&&(this._activeDragInstances.splice(X,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(G){return this._activeDragInstances.indexOf(G)>-1}scrolled(G){const X=[this.scroll];return G&&G!==this._document&&X.push(new Ie.y(K=>this._ngZone.runOutsideAngular(()=>{const Qe=Ct=>{this._activeDragInstances.length&&K.next(Ct)};return G.addEventListener("scroll",Qe,!0),()=>{G.removeEventListener("scroll",Qe,!0)}}))),(0,lt.T)(...X)}ngOnDestroy(){this._dragInstances.forEach(G=>this.removeDragItem(G)),this._dropInstances.forEach(G=>this.removeDropContainer(G)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((G,X)=>{this._document.removeEventListener(X,G.handler,G.options)}),this._globalListeners.clear()}}return _e.\u0275fac=function(G){return new(G||_e)(m.LFG(m.R0b),m.LFG(N.K0))},_e.\u0275prov=m.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();const nn={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let ln=(()=>{class _e{constructor(G,X,K,pe){this._document=G,this._ngZone=X,this._viewportRuler=K,this._dragDropRegistry=pe}createDrag(G,X=nn){return new Xt(G,X,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(G){return new le(G,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return _e.\u0275fac=function(G){return new(G||_e)(m.LFG(N.K0),m.LFG(m.R0b),m.LFG(v.rL),m.LFG(Gt))},_e.\u0275prov=m.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();const Rn=new m.OlP("CDK_DRAG_PARENT"),ai=new m.OlP("CdkDropListGroup"),ri=new m.OlP("CDK_DRAG_CONFIG");let Ai=0;const Tn=new m.OlP("CdkDropList");let $t=(()=>{class _e{constructor(G,X,K,pe,Qe,Ct,dn){this.element=G,this._changeDetectorRef=K,this._scrollDispatcher=pe,this._dir=Qe,this._group=Ct,this._destroyed=new De.xQ,this.connectedTo=[],this.id="cdk-drop-list-"+Ai++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new m.vpe,this.entered=new m.vpe,this.exited=new m.vpe,this.sorted=new m.vpe,this._unsortedItems=new Set,this._dropListRef=X.createDropList(G),this._dropListRef.data=this,dn&&this._assignDefaults(dn),this._dropListRef.enterPredicate=(fn,Ge)=>this.enterPredicate(fn.data,Ge.data),this._dropListRef.sortPredicate=(fn,Ge,je)=>this.sortPredicate(fn,Ge.data,je.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),_e._dropLists.push(this),Ct&&Ct._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(G){this._dropListRef.disabled=this._disabled=(0,C.Ig)(G)}addItem(G){this._unsortedItems.add(G),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(G){this._unsortedItems.delete(G),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((G,X)=>G._dragRef.getVisibleElement().compareDocumentPosition(X._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const G=_e._dropLists.indexOf(this);G>-1&&_e._dropLists.splice(G,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(G){this._dir&&this._dir.change.pipe((0,ot.O)(this._dir.value),(0,He.R)(this._destroyed)).subscribe(X=>G.withDirection(X)),G.beforeStarted.subscribe(()=>{const X=(0,C.Eq)(this.connectedTo).map(K=>"string"==typeof K?_e._dropLists.find(Qe=>Qe.id===K):K);if(this._group&&this._group._items.forEach(K=>{-1===X.indexOf(K)&&X.push(K)}),!this._scrollableParentsResolved){const K=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(pe=>pe.getElementRef().nativeElement);this._dropListRef.withScrollableParents(K),this._scrollableParentsResolved=!0}G.disabled=this.disabled,G.lockAxis=this.lockAxis,G.sortingDisabled=(0,C.Ig)(this.sortingDisabled),G.autoScrollDisabled=(0,C.Ig)(this.autoScrollDisabled),G.autoScrollStep=(0,C.su)(this.autoScrollStep,2),G.connectedTo(X.filter(K=>K&&K!==this).map(K=>K._dropListRef)).withOrientation(this.orientation)})}_handleEvents(G){G.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),G.entered.subscribe(X=>{this.entered.emit({container:this,item:X.item.data,currentIndex:X.currentIndex})}),G.exited.subscribe(X=>{this.exited.emit({container:this,item:X.item.data}),this._changeDetectorRef.markForCheck()}),G.sorted.subscribe(X=>{this.sorted.emit({previousIndex:X.previousIndex,currentIndex:X.currentIndex,container:this,item:X.item.data})}),G.dropped.subscribe(X=>{this.dropped.emit({previousIndex:X.previousIndex,currentIndex:X.currentIndex,previousContainer:X.previousContainer.data,container:X.container.data,item:X.item.data,isPointerOverContainer:X.isPointerOverContainer,distance:X.distance,dropPoint:X.dropPoint,event:X.event}),this._changeDetectorRef.markForCheck()})}_assignDefaults(G){const{lockAxis:X,draggingDisabled:K,sortingDisabled:pe,listAutoScrollDisabled:Qe,listOrientation:Ct}=G;this.disabled=K??!1,this.sortingDisabled=pe??!1,this.autoScrollDisabled=Qe??!1,this.orientation=Ct||"vertical",X&&(this.lockAxis=X)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(G=>G._dragRef))}}return _e._dropLists=[],_e.\u0275fac=function(G){return new(G||_e)(m.Y36(m.SBq),m.Y36(ln),m.Y36(m.sBO),m.Y36(v.mF),m.Y36(vt.Is,8),m.Y36(ai,12),m.Y36(ri,8))},_e.\u0275dir=m.lG2({type:_e,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(G,X){2&G&&(m.uIk("id",X.id),m.ekj("cdk-drop-list-disabled",X.disabled)("cdk-drop-list-dragging",X._dropListRef.isDragging())("cdk-drop-list-receiving",X._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[m._Bn([{provide:ai,useValue:void 0},{provide:Tn,useExisting:_e}])]}),_e})();const ft=new m.OlP("CdkDragHandle"),Jt=new m.OlP("CdkDragPlaceholder"),at=new m.OlP("CdkDragPreview");let Et=(()=>{class _e{constructor(G,X,K,pe,Qe,Ct,dn,fn,Ge,je,Ue){this.element=G,this.dropContainer=X,this._ngZone=pe,this._viewContainerRef=Qe,this._dir=dn,this._changeDetectorRef=Ge,this._selfHandle=je,this._parentDrag=Ue,this._destroyed=new De.xQ,this.started=new m.vpe,this.released=new m.vpe,this.ended=new m.vpe,this.entered=new m.vpe,this.exited=new m.vpe,this.dropped=new m.vpe,this.moved=new Ie.y(We=>{const Te=this._dragRef.moved.pipe((0,pt.U)(we=>({source:this,pointerPosition:we.pointerPosition,event:we.event,delta:we.delta,distance:we.distance}))).subscribe(We);return()=>{Te.unsubscribe()}}),this._dragRef=fn.createDrag(G,{dragStartThreshold:Ct&&null!=Ct.dragStartThreshold?Ct.dragStartThreshold:5,pointerDirectionChangeThreshold:Ct&&null!=Ct.pointerDirectionChangeThreshold?Ct.pointerDirectionChangeThreshold:5,zIndex:Ct?.zIndex}),this._dragRef.data=this,_e._dragInstances.push(this),Ct&&this._assignDefaults(Ct),X&&(this._dragRef._withDropContainer(X._dropListRef),X.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(G){this._disabled=(0,C.Ig)(G),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(G){this._dragRef.setFreeDragPosition(G)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Ut.q)(1),(0,He.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(G){const X=G.rootElementSelector,K=G.freeDragPosition;X&&!X.firstChange&&this._updateRootElement(),K&&!K.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const G=_e._dragInstances.indexOf(this);G>-1&&_e._dragInstances.splice(G,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const G=this.element.nativeElement;let X=G;var K;this.rootElementSelector&&(X=void 0!==G.closest?G.closest(this.rootElementSelector):null===(K=G.parentElement)||void 0===K?void 0:K.closest(this.rootElementSelector)),this._dragRef.withRootElement(X||G)}_getBoundaryElement(){const G=this.boundaryElement;return G?"string"==typeof G?this.element.nativeElement.closest(G):(0,C.fI)(G):null}_syncInputs(G){G.beforeStarted.subscribe(()=>{if(!G.isDragging()){const X=this._dir,K=this.dragStartDelay,pe=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,Qe=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;G.disabled=this.disabled,G.lockAxis=this.lockAxis,G.dragStartDelay="object"==typeof K&&K?K:(0,C.su)(K),G.constrainPosition=this.constrainPosition,G.previewClass=this.previewClass,G.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(pe).withPreviewTemplate(Qe).withPreviewContainer(this.previewContainer||"global"),X&&G.withDirection(X.value)}}),G.beforeStarted.pipe((0,Ut.q)(1)).subscribe(()=>{if(this._parentDrag)return void G.withParent(this._parentDrag._dragRef);let X=this.element.nativeElement.parentElement;for(;X;){if(X.classList.contains("cdk-drag")){var K;G.withParent((null===(K=_e._dragInstances.find(pe=>pe.element.nativeElement===X))||void 0===K?void 0:K._dragRef)||null);break}X=X.parentElement}})}_handleEvents(G){G.started.subscribe(X=>{this.started.emit({source:this,event:X.event}),this._changeDetectorRef.markForCheck()}),G.released.subscribe(X=>{this.released.emit({source:this,event:X.event})}),G.ended.subscribe(X=>{this.ended.emit({source:this,distance:X.distance,dropPoint:X.dropPoint,event:X.event}),this._changeDetectorRef.markForCheck()}),G.entered.subscribe(X=>{this.entered.emit({container:X.container.data,item:this,currentIndex:X.currentIndex})}),G.exited.subscribe(X=>{this.exited.emit({container:X.container.data,item:this})}),G.dropped.subscribe(X=>{this.dropped.emit({previousIndex:X.previousIndex,currentIndex:X.currentIndex,previousContainer:X.previousContainer.data,container:X.container.data,isPointerOverContainer:X.isPointerOverContainer,item:this,distance:X.distance,dropPoint:X.dropPoint,event:X.event})})}_assignDefaults(G){const{lockAxis:X,dragStartDelay:K,constrainPosition:pe,previewClass:Qe,boundaryElement:Ct,draggingDisabled:dn,rootElementSelector:fn,previewContainer:Ge}=G;this.disabled=dn??!1,this.dragStartDelay=K||0,X&&(this.lockAxis=X),pe&&(this.constrainPosition=pe),Qe&&(this.previewClass=Qe),Ct&&(this.boundaryElement=Ct),fn&&(this.rootElementSelector=fn),Ge&&(this.previewContainer=Ge)}_setupHandlesListener(){this._handles.changes.pipe((0,ot.O)(this._handles),(0,ut.b)(G=>{const X=G.filter(K=>K._parentDrag===this).map(K=>K.element);this._selfHandle&&this.rootElementSelector&&X.push(this.element),this._dragRef.withHandles(X)}),(0,kt.w)(G=>(0,lt.T)(...G.map(X=>X._stateChanges.pipe((0,ot.O)(X))))),(0,He.R)(this._destroyed)).subscribe(G=>{const X=this._dragRef,K=G.element.nativeElement;G.disabled?X.disableHandle(K):X.enableHandle(K)})}}return _e._dragInstances=[],_e.\u0275fac=function(G){return new(G||_e)(m.Y36(m.SBq),m.Y36(Tn,12),m.Y36(N.K0),m.Y36(m.R0b),m.Y36(m.s_b),m.Y36(ri,8),m.Y36(vt.Is,8),m.Y36(ln),m.Y36(m.sBO),m.Y36(ft,10),m.Y36(Rn,12))},_e.\u0275dir=m.lG2({type:_e,selectors:[["","cdkDrag",""]],contentQueries:function(G,X,K){if(1&G&&(m.Suo(K,at,5),m.Suo(K,Jt,5),m.Suo(K,ft,5)),2&G){let pe;m.iGM(pe=m.CRH())&&(X._previewTemplate=pe.first),m.iGM(pe=m.CRH())&&(X._placeholderTemplate=pe.first),m.iGM(pe=m.CRH())&&(X._handles=pe)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(G,X){2&G&&m.ekj("cdk-drag-disabled",X.disabled)("cdk-drag-dragging",X._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[m._Bn([{provide:Rn,useExisting:_e}]),m.TTD]}),_e})(),Ht=(()=>{class _e{}return _e.\u0275fac=function(G){return new(G||_e)},_e.\u0275mod=m.oAB({type:_e}),_e.\u0275inj=m.cJS({providers:[ln],imports:[v.ZD]}),_e})()},9521:(gn,_t,k)=>{"use strict";k.d(_t,{A:()=>Oe,JH:()=>ut,JU:()=>J,K5:()=>C,Ku:()=>Ne,LH:()=>pt,L_:()=>be,MW:()=>Rn,Mf:()=>v,SV:()=>Ut,Sd:()=>He,VM:()=>Ke,Vb:()=>Ss,Z:()=>ln,ZH:()=>N,aO:()=>Gn,b2:()=>Vr,hY:()=>ge,jx:()=>De,oh:()=>ot,uR:()=>lt,xE:()=>ht,yY:()=>Be,zL:()=>fe});const N=8,v=9,C=13,J=16,De=17,fe=18,ge=27,be=32,Ne=33,Ke=34,lt=35,He=36,ot=37,pt=38,Ut=39,ut=40,Be=46,ht=48,Gn=57,Oe=65,ln=90,Rn=91,Vr=224;function Ss(or,...Ao){return Ao.length?Ao.some(Or=>or[Or]):or.altKey||or.shiftKey||or.ctrlKey||or.metaKey}},2289:(gn,_t,k)=>{"use strict";k.d(_t,{Yg:()=>ut,u3:()=>vt});var m=k(4650),N=k(1281),v=k(8929),ne=k(6053),C=k(1221),J=k(6498),De=k(2986),fe=k(1307),Ie=k(13),ce=k(4850),ge=k(1059),be=k(7625),Ne=k(3353);const lt=new Set;let He,ot=(()=>{class Je{constructor(ht){this._platform=ht,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ut}matchMedia(ht){return(this._platform.WEBKIT||this._platform.BLINK)&&function pt(Je){if(!lt.has(Je))try{He||(He=document.createElement("style"),He.setAttribute("type","text/css"),document.head.appendChild(He)),He.sheet&&(He.sheet.insertRule(`@media ${Je} {body{ }}`,0),lt.add(Je))}catch(Be){console.error(Be)}}(ht),this._matchMedia(ht)}}return Je.\u0275fac=function(ht){return new(ht||Je)(m.LFG(Ne.t4))},Je.\u0275prov=m.Yz7({token:Je,factory:Je.\u0275fac,providedIn:"root"}),Je})();function Ut(Je){return{matches:"all"===Je||""===Je,media:Je,addListener:()=>{},removeListener:()=>{}}}let ut=(()=>{class Je{constructor(ht,et){this._mediaMatcher=ht,this._zone=et,this._queries=new Map,this._destroySubject=new v.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(ht){return kt((0,N.Eq)(ht)).some(qe=>this._registerQuery(qe).mql.matches)}observe(ht){const qe=kt((0,N.Eq)(ht)).map(ze=>this._registerQuery(ze).observable);let Pt=(0,ne.aj)(qe);return Pt=(0,C.z)(Pt.pipe((0,De.q)(1)),Pt.pipe((0,fe.T)(1),(0,Ie.b)(0))),Pt.pipe((0,ce.U)(ze=>{const At={matches:!1,breakpoints:{}};return ze.forEach(({matches:Ft,query:yn})=>{At.matches=At.matches||Ft,At.breakpoints[yn]=Ft}),At}))}_registerQuery(ht){if(this._queries.has(ht))return this._queries.get(ht);const et=this._mediaMatcher.matchMedia(ht),Pt={observable:new J.y(ze=>{const At=Ft=>this._zone.run(()=>ze.next(Ft));return et.addListener(At),()=>{et.removeListener(At)}}).pipe((0,ge.O)(et),(0,ce.U)(({matches:ze})=>({query:ht,matches:ze})),(0,be.R)(this._destroySubject)),mql:et};return this._queries.set(ht,Pt),Pt}}return Je.\u0275fac=function(ht){return new(ht||Je)(m.LFG(ot),m.LFG(m.R0b))},Je.\u0275prov=m.Yz7({token:Je,factory:Je.\u0275fac,providedIn:"root"}),Je})();function kt(Je){return Je.map(Be=>Be.split(",")).reduce((Be,ht)=>Be.concat(ht)).map(Be=>Be.trim())}const vt={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},9643:(gn,_t,k)=>{"use strict";k.d(_t,{Q8:()=>Ie,wD:()=>fe});var m=k(1281),N=k(4650),v=k(6498),ne=k(8929),C=k(13);let J=(()=>{class ce{create(be){return typeof MutationObserver>"u"?null:new MutationObserver(be)}}return ce.\u0275fac=function(be){return new(be||ce)},ce.\u0275prov=N.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})(),De=(()=>{class ce{constructor(be){this._mutationObserverFactory=be,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((be,Ne)=>this._cleanupObserver(Ne))}observe(be){const Ne=(0,m.fI)(be);return new v.y(Ke=>{const He=this._observeElement(Ne).subscribe(Ke);return()=>{He.unsubscribe(),this._unobserveElement(Ne)}})}_observeElement(be){if(this._observedElements.has(be))this._observedElements.get(be).count++;else{const Ne=new ne.xQ,Ke=this._mutationObserverFactory.create(lt=>Ne.next(lt));Ke&&Ke.observe(be,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(be,{observer:Ke,stream:Ne,count:1})}return this._observedElements.get(be).stream}_unobserveElement(be){this._observedElements.has(be)&&(this._observedElements.get(be).count--,this._observedElements.get(be).count||this._cleanupObserver(be))}_cleanupObserver(be){if(this._observedElements.has(be)){const{observer:Ne,stream:Ke}=this._observedElements.get(be);Ne&&Ne.disconnect(),Ke.complete(),this._observedElements.delete(be)}}}return ce.\u0275fac=function(be){return new(be||ce)(N.LFG(J))},ce.\u0275prov=N.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})(),fe=(()=>{class ce{constructor(be,Ne,Ke){this._contentObserver=be,this._elementRef=Ne,this._ngZone=Ke,this.event=new N.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(be){this._disabled=(0,m.Ig)(be),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(be){this._debounce=(0,m.su)(be),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const be=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?be.pipe((0,C.b)(this.debounce)):be).subscribe(this.event)})}_unsubscribe(){var be;null===(be=this._currentSubscription)||void 0===be||be.unsubscribe()}}return ce.\u0275fac=function(be){return new(be||ce)(N.Y36(De),N.Y36(N.SBq),N.Y36(N.R0b))},ce.\u0275dir=N.lG2({type:ce,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),ce})(),Ie=(()=>{class ce{}return ce.\u0275fac=function(be){return new(be||ce)},ce.\u0275mod=N.oAB({type:ce}),ce.\u0275inj=N.cJS({providers:[J]}),ce})()},8184:(gn,_t,k)=>{"use strict";k.d(_t,{Iu:()=>yn,U8:()=>Hn,X_:()=>vt,Xj:()=>Ft,aV:()=>Fn});var m=k(2556),N=k(6895),v=k(4650),ne=k(1281),C=k(3353),J=k(445),De=k(4080),fe=k(8929),Ie=k(2654),ce=k(6787),ge=k(2986),be=k(7625);const Ne=(0,C.Mq)();class Ke{constructor(ee,he){this._viewportRuler=ee,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=he}attach(){}enable(){if(this._canBeEnabled()){const ee=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ee.style.left||"",this._previousHTMLStyles.top=ee.style.top||"",ee.style.left=(0,ne.HM)(-this._previousScrollPosition.left),ee.style.top=(0,ne.HM)(-this._previousScrollPosition.top),ee.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ee=this._document.documentElement,le=ee.style,Ce=this._document.body.style,ae=le.scrollBehavior||"",Le=Ce.scrollBehavior||"";this._isEnabled=!1,le.left=this._previousHTMLStyles.left,le.top=this._previousHTMLStyles.top,ee.classList.remove("cdk-global-scrollblock"),Ne&&(le.scrollBehavior=Ce.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ne&&(le.scrollBehavior=ae,Ce.scrollBehavior=Le)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const he=this._document.body,le=this._viewportRuler.getViewportSize();return he.scrollHeight>le.height||he.scrollWidth>le.width}}class He{constructor(ee,he,le,Ce){this._scrollDispatcher=ee,this._ngZone=he,this._viewportRuler=le,this._config=Ce,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ee){this._overlayRef=ee}enable(){if(this._scrollSubscription)return;const ee=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ee.subscribe(()=>{const he=this._viewportRuler.getViewportScrollPosition().top;Math.abs(he-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ee.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ot{enable(){}disable(){}attach(){}}function pt(mt,ee){return ee.some(he=>mt.bottom<he.top||mt.top>he.bottom||mt.right<he.left||mt.left>he.right)}function Ut(mt,ee){return ee.some(he=>mt.top<he.top||mt.bottom>he.bottom||mt.left<he.left||mt.right>he.right)}class ut{constructor(ee,he,le,Ce){this._scrollDispatcher=ee,this._viewportRuler=he,this._ngZone=le,this._config=Ce,this._scrollSubscription=null}attach(ee){this._overlayRef=ee}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const he=this._overlayRef.overlayElement.getBoundingClientRect(),{width:le,height:Ce}=this._viewportRuler.getViewportSize();pt(he,[{width:le,height:Ce,bottom:Ce,right:le,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let kt=(()=>{class mt{constructor(he,le,Ce,ae){this._scrollDispatcher=he,this._viewportRuler=le,this._ngZone=Ce,this.noop=()=>new ot,this.close=Le=>new He(this._scrollDispatcher,this._ngZone,this._viewportRuler,Le),this.block=()=>new Ke(this._viewportRuler,this._document),this.reposition=Le=>new ut(this._scrollDispatcher,this._viewportRuler,this._ngZone,Le),this._document=ae}}return mt.\u0275fac=function(he){return new(he||mt)(v.LFG(m.mF),v.LFG(m.rL),v.LFG(v.R0b),v.LFG(N.K0))},mt.\u0275prov=v.Yz7({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})();class vt{constructor(ee){if(this.scrollStrategy=new ot,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ee){const he=Object.keys(ee);for(const le of he)void 0!==ee[le]&&(this[le]=ee[le])}}}class ht{constructor(ee,he){this.connectionPair=ee,this.scrollableViewProperties=he}}let Pt=(()=>{class mt{constructor(he){this._attachedOverlays=[],this._document=he}ngOnDestroy(){this.detach()}add(he){this.remove(he),this._attachedOverlays.push(he)}remove(he){const le=this._attachedOverlays.indexOf(he);le>-1&&this._attachedOverlays.splice(le,1),0===this._attachedOverlays.length&&this.detach()}}return mt.\u0275fac=function(he){return new(he||mt)(v.LFG(N.K0))},mt.\u0275prov=v.Yz7({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})(),ze=(()=>{class mt extends Pt{constructor(he,le){super(he),this._ngZone=le,this._keydownListener=Ce=>{const ae=this._attachedOverlays;for(let Le=ae.length-1;Le>-1;Le--)if(ae[Le]._keydownEvents.observers.length>0){const Dt=ae[Le]._keydownEvents;this._ngZone?this._ngZone.run(()=>Dt.next(Ce)):Dt.next(Ce);break}}}add(he){super.add(he),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return mt.\u0275fac=function(he){return new(he||mt)(v.LFG(N.K0),v.LFG(v.R0b,8))},mt.\u0275prov=v.Yz7({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})(),At=(()=>{class mt extends Pt{constructor(he,le,Ce){super(he),this._platform=le,this._ngZone=Ce,this._cursorStyleIsSet=!1,this._pointerDownListener=ae=>{this._pointerDownEventTarget=(0,C.sA)(ae)},this._clickListener=ae=>{const Le=(0,C.sA)(ae),Dt="click"===ae.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Le;this._pointerDownEventTarget=null;const Gt=this._attachedOverlays.slice();for(let nn=Gt.length-1;nn>-1;nn--){const ln=Gt[nn];if(ln._outsidePointerEvents.observers.length<1||!ln.hasAttached())continue;if(ln.overlayElement.contains(Le)||ln.overlayElement.contains(Dt))break;const Rn=ln._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Rn.next(ae)):Rn.next(ae)}}}add(he){if(super.add(he),!this._isAttached){const le=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(le)):this._addEventListeners(le),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=le.style.cursor,le.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const he=this._document.body;he.removeEventListener("pointerdown",this._pointerDownListener,!0),he.removeEventListener("click",this._clickListener,!0),he.removeEventListener("auxclick",this._clickListener,!0),he.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(he.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(he){he.addEventListener("pointerdown",this._pointerDownListener,!0),he.addEventListener("click",this._clickListener,!0),he.addEventListener("auxclick",this._clickListener,!0),he.addEventListener("contextmenu",this._clickListener,!0)}}return mt.\u0275fac=function(he){return new(he||mt)(v.LFG(N.K0),v.LFG(C.t4),v.LFG(v.R0b,8))},mt.\u0275prov=v.Yz7({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})(),Ft=(()=>{class mt{constructor(he,le){this._platform=le,this._document=he}ngOnDestroy(){var he;null===(he=this._containerElement)||void 0===he||he.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const he="cdk-overlay-container";if(this._platform.isBrowser||(0,C.Oy)()){const Ce=this._document.querySelectorAll(`.${he}[platform="server"], .${he}[platform="test"]`);for(let ae=0;ae<Ce.length;ae++)Ce[ae].remove()}const le=this._document.createElement("div");le.classList.add(he),(0,C.Oy)()?le.setAttribute("platform","test"):this._platform.isBrowser||le.setAttribute("platform","server"),this._document.body.appendChild(le),this._containerElement=le}}return mt.\u0275fac=function(he){return new(he||mt)(v.LFG(N.K0),v.LFG(C.t4))},mt.\u0275prov=v.Yz7({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})();class yn{constructor(ee,he,le,Ce,ae,Le,Dt,Gt,nn,ln=!1){this._portalOutlet=ee,this._host=he,this._pane=le,this._config=Ce,this._ngZone=ae,this._keyboardDispatcher=Le,this._document=Dt,this._location=Gt,this._outsideClickDispatcher=nn,this._animationsDisabled=ln,this._backdropElement=null,this._backdropClick=new fe.xQ,this._attachments=new fe.xQ,this._detachments=new fe.xQ,this._locationChanges=Ie.w.EMPTY,this._backdropClickHandler=Rn=>this._backdropClick.next(Rn),this._backdropTransitionendHandler=Rn=>{this._disposeBackdrop(Rn.target)},this._keydownEvents=new fe.xQ,this._outsidePointerEvents=new fe.xQ,Ce.scrollStrategy&&(this._scrollStrategy=Ce.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Ce.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ee){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const he=this._portalOutlet.attach(ee);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,ge.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof he?.onDestroy&&he.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),he}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ee=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ee}dispose(){var ee;const he=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(ee=this._host)||void 0===ee||ee.remove(),this._previousHostParent=this._pane=this._host=null,he&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ee){ee!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ee,this.hasAttached()&&(ee.attach(this),this.updatePosition()))}updateSize(ee){this._config={...this._config,...ee},this._updateElementSize()}setDirection(ee){this._config={...this._config,direction:ee},this._updateElementDirection()}addPanelClass(ee){this._pane&&this._toggleClasses(this._pane,ee,!0)}removePanelClass(ee){this._pane&&this._toggleClasses(this._pane,ee,!1)}getDirection(){const ee=this._config.direction;return ee?"string"==typeof ee?ee:ee.value:"ltr"}updateScrollStrategy(ee){ee!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ee,this.hasAttached()&&(ee.attach(this),ee.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ee=this._pane.style;ee.width=(0,ne.HM)(this._config.width),ee.height=(0,ne.HM)(this._config.height),ee.minWidth=(0,ne.HM)(this._config.minWidth),ee.minHeight=(0,ne.HM)(this._config.minHeight),ee.maxWidth=(0,ne.HM)(this._config.maxWidth),ee.maxHeight=(0,ne.HM)(this._config.maxHeight)}_togglePointerEvents(ee){this._pane.style.pointerEvents=ee?"":"none"}_attachBackdrop(){const ee="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ee)})}):this._backdropElement.classList.add(ee)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ee=this._backdropElement;if(ee){if(this._animationsDisabled)return void this._disposeBackdrop(ee);ee.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ee.addEventListener("transitionend",this._backdropTransitionendHandler)}),ee.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(ee)},500))}}_toggleClasses(ee,he,le){const Ce=(0,ne.Eq)(he||[]).filter(ae=>!!ae);Ce.length&&(le?ee.classList.add(...Ce):ee.classList.remove(...Ce))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const ee=this._ngZone.onStable.pipe((0,be.R)((0,ce.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),ee.unsubscribe())})})}_disposeScrollStrategy(){const ee=this._scrollStrategy;ee&&(ee.disable(),ee.detach&&ee.detach())}_disposeBackdrop(ee){ee&&(ee.removeEventListener("click",this._backdropClickHandler),ee.removeEventListener("transitionend",this._backdropTransitionendHandler),ee.remove(),this._backdropElement===ee&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const $n="cdk-overlay-connected-position-bounding-box",Gn=/([A-Za-z%]+)$/;class si{constructor(ee,he,le,Ce,ae){this._viewportRuler=he,this._document=le,this._platform=Ce,this._overlayContainer=ae,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new fe.xQ,this._resizeSubscription=Ie.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ee)}get positions(){return this._preferredPositions}attach(ee){this._validatePositions(),ee.hostElement.classList.add($n),this._overlayRef=ee,this._boundingBox=ee.hostElement,this._pane=ee.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ee=this._originRect,he=this._overlayRect,le=this._viewportRect,Ce=this._containerRect,ae=[];let Le;for(let Dt of this._preferredPositions){let Gt=this._getOriginPoint(ee,Ce,Dt),nn=this._getOverlayPoint(Gt,he,Dt),ln=this._getOverlayFit(nn,he,le,Dt);if(ln.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Dt,Gt);this._canFitWithFlexibleDimensions(ln,nn,le)?ae.push({position:Dt,origin:Gt,overlayRect:he,boundingBoxRect:this._calculateBoundingBoxRect(Gt,Dt)}):(!Le||Le.overlayFit.visibleArea<ln.visibleArea)&&(Le={overlayFit:ln,overlayPoint:nn,originPoint:Gt,position:Dt,overlayRect:he})}if(ae.length){let Dt=null,Gt=-1;for(const nn of ae){const ln=nn.boundingBoxRect.width*nn.boundingBoxRect.height*(nn.position.weight||1);ln>Gt&&(Gt=ln,Dt=nn)}return this._isPushed=!1,void this._applyPosition(Dt.position,Dt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Le.position,Le.originPoint);this._applyPosition(Le.position,Le.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ln(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove($n),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const ee=this._lastPosition;if(ee){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const he=this._getOriginPoint(this._originRect,this._containerRect,ee);this._applyPosition(ee,he)}else this.apply()}withScrollableContainers(ee){return this._scrollables=ee,this}withPositions(ee){return this._preferredPositions=ee,-1===ee.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ee){return this._viewportMargin=ee,this}withFlexibleDimensions(ee=!0){return this._hasFlexibleDimensions=ee,this}withGrowAfterOpen(ee=!0){return this._growAfterOpen=ee,this}withPush(ee=!0){return this._canPush=ee,this}withLockedPosition(ee=!0){return this._positionLocked=ee,this}setOrigin(ee){return this._origin=ee,this}withDefaultOffsetX(ee){return this._offsetX=ee,this}withDefaultOffsetY(ee){return this._offsetY=ee,this}withTransformOriginOn(ee){return this._transformOriginSelector=ee,this}_getOriginPoint(ee,he,le){let Ce,ae;if("center"==le.originX)Ce=ee.left+ee.width/2;else{const Le=this._isRtl()?ee.right:ee.left,Dt=this._isRtl()?ee.left:ee.right;Ce="start"==le.originX?Le:Dt}return he.left<0&&(Ce-=he.left),ae="center"==le.originY?ee.top+ee.height/2:"top"==le.originY?ee.top:ee.bottom,he.top<0&&(ae-=he.top),{x:Ce,y:ae}}_getOverlayPoint(ee,he,le){let Ce,ae;return Ce="center"==le.overlayX?-he.width/2:"start"===le.overlayX?this._isRtl()?-he.width:0:this._isRtl()?0:-he.width,ae="center"==le.overlayY?-he.height/2:"top"==le.overlayY?0:-he.height,{x:ee.x+Ce,y:ee.y+ae}}_getOverlayFit(ee,he,le,Ce){const ae=mn(he);let{x:Le,y:Dt}=ee,Gt=this._getOffset(Ce,"x"),nn=this._getOffset(Ce,"y");Gt&&(Le+=Gt),nn&&(Dt+=nn);let ai=0-Dt,di=Dt+ae.height-le.height,ri=this._subtractOverflows(ae.width,0-Le,Le+ae.width-le.width),kn=this._subtractOverflows(ae.height,ai,di),Ai=ri*kn;return{visibleArea:Ai,isCompletelyWithinViewport:ae.width*ae.height===Ai,fitsInViewportVertically:kn===ae.height,fitsInViewportHorizontally:ri==ae.width}}_canFitWithFlexibleDimensions(ee,he,le){if(this._hasFlexibleDimensions){const Ce=le.bottom-he.y,ae=le.right-he.x,Le=tn(this._overlayRef.getConfig().minHeight),Dt=tn(this._overlayRef.getConfig().minWidth),nn=ee.fitsInViewportHorizontally||null!=Dt&&Dt<=ae;return(ee.fitsInViewportVertically||null!=Le&&Le<=Ce)&&nn}return!1}_pushOverlayOnScreen(ee,he,le){if(this._previousPushAmount&&this._positionLocked)return{x:ee.x+this._previousPushAmount.x,y:ee.y+this._previousPushAmount.y};const Ce=mn(he),ae=this._viewportRect,Le=Math.max(ee.x+Ce.width-ae.width,0),Dt=Math.max(ee.y+Ce.height-ae.height,0),Gt=Math.max(ae.top-le.top-ee.y,0),nn=Math.max(ae.left-le.left-ee.x,0);let ln=0,Rn=0;return ln=Ce.width<=ae.width?nn||-Le:ee.x<this._viewportMargin?ae.left-le.left-ee.x:0,Rn=Ce.height<=ae.height?Gt||-Dt:ee.y<this._viewportMargin?ae.top-le.top-ee.y:0,this._previousPushAmount={x:ln,y:Rn},{x:ee.x+ln,y:ee.y+Rn}}_applyPosition(ee,he){if(this._setTransformOrigin(ee),this._setOverlayElementStyles(he,ee),this._setBoundingBoxStyles(he,ee),ee.panelClass&&this._addPanelClasses(ee.panelClass),this._lastPosition=ee,this._positionChanges.observers.length){const le=this._getScrollVisibility(),Ce=new ht(ee,le);this._positionChanges.next(Ce)}this._isInitialRender=!1}_setTransformOrigin(ee){if(!this._transformOriginSelector)return;const he=this._boundingBox.querySelectorAll(this._transformOriginSelector);let le,Ce=ee.overlayY;le="center"===ee.overlayX?"center":this._isRtl()?"start"===ee.overlayX?"right":"left":"start"===ee.overlayX?"left":"right";for(let ae=0;ae<he.length;ae++)he[ae].style.transformOrigin=`${le} ${Ce}`}_calculateBoundingBoxRect(ee,he){const le=this._viewportRect,Ce=this._isRtl();let ae,Le,Dt,ln,Rn,ai;if("top"===he.overlayY)Le=ee.y,ae=le.height-Le+this._viewportMargin;else if("bottom"===he.overlayY)Dt=le.height-ee.y+2*this._viewportMargin,ae=le.height-Dt+this._viewportMargin;else{const di=Math.min(le.bottom-ee.y+le.top,ee.y),ri=this._lastBoundingBoxSize.height;ae=2*di,Le=ee.y-di,ae>ri&&!this._isInitialRender&&!this._growAfterOpen&&(Le=ee.y-ri/2)}if("end"===he.overlayX&&!Ce||"start"===he.overlayX&&Ce)ai=le.width-ee.x+this._viewportMargin,ln=ee.x-this._viewportMargin;else if("start"===he.overlayX&&!Ce||"end"===he.overlayX&&Ce)Rn=ee.x,ln=le.right-ee.x;else{const di=Math.min(le.right-ee.x+le.left,ee.x),ri=this._lastBoundingBoxSize.width;ln=2*di,Rn=ee.x-di,ln>ri&&!this._isInitialRender&&!this._growAfterOpen&&(Rn=ee.x-ri/2)}return{top:Le,left:Rn,bottom:Dt,right:ai,width:ln,height:ae}}_setBoundingBoxStyles(ee,he){const le=this._calculateBoundingBoxRect(ee,he);!this._isInitialRender&&!this._growAfterOpen&&(le.height=Math.min(le.height,this._lastBoundingBoxSize.height),le.width=Math.min(le.width,this._lastBoundingBoxSize.width));const Ce={};if(this._hasExactPosition())Ce.top=Ce.left="0",Ce.bottom=Ce.right=Ce.maxHeight=Ce.maxWidth="",Ce.width=Ce.height="100%";else{const ae=this._overlayRef.getConfig().maxHeight,Le=this._overlayRef.getConfig().maxWidth;Ce.height=(0,ne.HM)(le.height),Ce.top=(0,ne.HM)(le.top),Ce.bottom=(0,ne.HM)(le.bottom),Ce.width=(0,ne.HM)(le.width),Ce.left=(0,ne.HM)(le.left),Ce.right=(0,ne.HM)(le.right),Ce.alignItems="center"===he.overlayX?"center":"end"===he.overlayX?"flex-end":"flex-start",Ce.justifyContent="center"===he.overlayY?"center":"bottom"===he.overlayY?"flex-end":"flex-start",ae&&(Ce.maxHeight=(0,ne.HM)(ae)),Le&&(Ce.maxWidth=(0,ne.HM)(Le))}this._lastBoundingBoxSize=le,Ln(this._boundingBox.style,Ce)}_resetBoundingBoxStyles(){Ln(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ln(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ee,he){const le={},Ce=this._hasExactPosition(),ae=this._hasFlexibleDimensions,Le=this._overlayRef.getConfig();if(Ce){const ln=this._viewportRuler.getViewportScrollPosition();Ln(le,this._getExactOverlayY(he,ee,ln)),Ln(le,this._getExactOverlayX(he,ee,ln))}else le.position="static";let Dt="",Gt=this._getOffset(he,"x"),nn=this._getOffset(he,"y");Gt&&(Dt+=`translateX(${Gt}px) `),nn&&(Dt+=`translateY(${nn}px)`),le.transform=Dt.trim(),Le.maxHeight&&(Ce?le.maxHeight=(0,ne.HM)(Le.maxHeight):ae&&(le.maxHeight="")),Le.maxWidth&&(Ce?le.maxWidth=(0,ne.HM)(Le.maxWidth):ae&&(le.maxWidth="")),Ln(this._pane.style,le)}_getExactOverlayY(ee,he,le){let Ce={top:"",bottom:""},ae=this._getOverlayPoint(he,this._overlayRect,ee);return this._isPushed&&(ae=this._pushOverlayOnScreen(ae,this._overlayRect,le)),"bottom"===ee.overlayY?Ce.bottom=this._document.documentElement.clientHeight-(ae.y+this._overlayRect.height)+"px":Ce.top=(0,ne.HM)(ae.y),Ce}_getExactOverlayX(ee,he,le){let Le,Ce={left:"",right:""},ae=this._getOverlayPoint(he,this._overlayRect,ee);return this._isPushed&&(ae=this._pushOverlayOnScreen(ae,this._overlayRect,le)),Le=this._isRtl()?"end"===ee.overlayX?"left":"right":"end"===ee.overlayX?"right":"left","right"===Le?Ce.right=this._document.documentElement.clientWidth-(ae.x+this._overlayRect.width)+"px":Ce.left=(0,ne.HM)(ae.x),Ce}_getScrollVisibility(){const ee=this._getOriginRect(),he=this._pane.getBoundingClientRect(),le=this._scrollables.map(Ce=>Ce.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ut(ee,le),isOriginOutsideView:pt(ee,le),isOverlayClipped:Ut(he,le),isOverlayOutsideView:pt(he,le)}}_subtractOverflows(ee,...he){return he.reduce((le,Ce)=>le-Math.max(Ce,0),ee)}_getNarrowedViewportRect(){const ee=this._document.documentElement.clientWidth,he=this._document.documentElement.clientHeight,le=this._viewportRuler.getViewportScrollPosition();return{top:le.top+this._viewportMargin,left:le.left+this._viewportMargin,right:le.left+ee-this._viewportMargin,bottom:le.top+he-this._viewportMargin,width:ee-2*this._viewportMargin,height:he-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ee,he){return"x"===he?ee.offsetX??this._offsetX:ee.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(ee){this._pane&&(0,ne.Eq)(ee).forEach(he=>{""!==he&&-1===this._appliedPanelClasses.indexOf(he)&&(this._appliedPanelClasses.push(he),this._pane.classList.add(he))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ee=>{this._pane.classList.remove(ee)}),this._appliedPanelClasses=[])}_getOriginRect(){const ee=this._origin;if(ee instanceof v.SBq)return ee.nativeElement.getBoundingClientRect();if(ee instanceof Element)return ee.getBoundingClientRect();const he=ee.width||0,le=ee.height||0;return{top:ee.y,bottom:ee.y+le,left:ee.x,right:ee.x+he,height:le,width:he}}}function Ln(mt,ee){for(let he in ee)ee.hasOwnProperty(he)&&(mt[he]=ee[he]);return mt}function tn(mt){if("number"!=typeof mt&&null!=mt){const[ee,he]=mt.split(Gn);return he&&"px"!==he?null:parseFloat(ee)}return mt||null}function mn(mt){return{top:Math.floor(mt.top),right:Math.floor(mt.right),bottom:Math.floor(mt.bottom),left:Math.floor(mt.left),width:Math.floor(mt.width),height:Math.floor(mt.height)}}const Fe="cdk-global-overlay-wrapper";class Ye{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(ee){const he=ee.getConfig();this._overlayRef=ee,this._width&&!he.width&&ee.updateSize({width:this._width}),this._height&&!he.height&&ee.updateSize({height:this._height}),ee.hostElement.classList.add(Fe),this._isDisposed=!1}top(ee=""){return this._bottomOffset="",this._topOffset=ee,this._alignItems="flex-start",this}left(ee=""){return this._xOffset=ee,this._xPosition="left",this}bottom(ee=""){return this._topOffset="",this._bottomOffset=ee,this._alignItems="flex-end",this}right(ee=""){return this._xOffset=ee,this._xPosition="right",this}start(ee=""){return this._xOffset=ee,this._xPosition="start",this}end(ee=""){return this._xOffset=ee,this._xPosition="end",this}width(ee=""){return this._overlayRef?this._overlayRef.updateSize({width:ee}):this._width=ee,this}height(ee=""){return this._overlayRef?this._overlayRef.updateSize({height:ee}):this._height=ee,this}centerHorizontally(ee=""){return this.left(ee),this._xPosition="center",this}centerVertically(ee=""){return this.top(ee),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ee=this._overlayRef.overlayElement.style,he=this._overlayRef.hostElement.style,le=this._overlayRef.getConfig(),{width:Ce,height:ae,maxWidth:Le,maxHeight:Dt}=le,Gt=!("100%"!==Ce&&"100vw"!==Ce||Le&&"100%"!==Le&&"100vw"!==Le),nn=!("100%"!==ae&&"100vh"!==ae||Dt&&"100%"!==Dt&&"100vh"!==Dt),ln=this._xPosition,Rn=this._xOffset,ai="rtl"===this._overlayRef.getConfig().direction;let di="",ri="",kn="";Gt?kn="flex-start":"center"===ln?(kn="center",ai?ri=Rn:di=Rn):ai?"left"===ln||"end"===ln?(kn="flex-end",di=Rn):("right"===ln||"start"===ln)&&(kn="flex-start",ri=Rn):"left"===ln||"start"===ln?(kn="flex-start",di=Rn):("right"===ln||"end"===ln)&&(kn="flex-end",ri=Rn),ee.position=this._cssPosition,ee.marginLeft=Gt?"0":di,ee.marginTop=nn?"0":this._topOffset,ee.marginBottom=this._bottomOffset,ee.marginRight=Gt?"0":ri,he.justifyContent=kn,he.alignItems=nn?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ee=this._overlayRef.overlayElement.style,he=this._overlayRef.hostElement,le=he.style;he.classList.remove(Fe),le.justifyContent=le.alignItems=ee.marginTop=ee.marginBottom=ee.marginLeft=ee.marginRight=ee.position="",this._overlayRef=null,this._isDisposed=!0}}let St=(()=>{class mt{constructor(he,le,Ce,ae){this._viewportRuler=he,this._document=le,this._platform=Ce,this._overlayContainer=ae}global(){return new Ye}flexibleConnectedTo(he){return new si(he,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return mt.\u0275fac=function(he){return new(he||mt)(v.LFG(m.rL),v.LFG(N.K0),v.LFG(C.t4),v.LFG(Ft))},mt.\u0275prov=v.Yz7({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})(),Xt=0,Fn=(()=>{class mt{constructor(he,le,Ce,ae,Le,Dt,Gt,nn,ln,Rn,ai,di){this.scrollStrategies=he,this._overlayContainer=le,this._componentFactoryResolver=Ce,this._positionBuilder=ae,this._keyboardDispatcher=Le,this._injector=Dt,this._ngZone=Gt,this._document=nn,this._directionality=ln,this._location=Rn,this._outsideClickDispatcher=ai,this._animationsModuleType=di}create(he){const le=this._createHostElement(),Ce=this._createPaneElement(le),ae=this._createPortalOutlet(Ce),Le=new vt(he);return Le.direction=Le.direction||this._directionality.value,new yn(ae,le,Ce,Le,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(he){const le=this._document.createElement("div");return le.id="cdk-overlay-"+Xt++,le.classList.add("cdk-overlay-pane"),he.appendChild(le),le}_createHostElement(){const he=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(he),he}_createPortalOutlet(he){return this._appRef||(this._appRef=this._injector.get(v.z2F)),new De.u0(he,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return mt.\u0275fac=function(he){return new(he||mt)(v.LFG(kt),v.LFG(Ft),v.LFG(v._Vd),v.LFG(St),v.LFG(ze),v.LFG(v.zs3),v.LFG(v.R0b),v.LFG(N.K0),v.LFG(J.Is),v.LFG(N.Ye),v.LFG(At),v.LFG(v.QbO,8))},mt.\u0275prov=v.Yz7({token:mt,factory:mt.\u0275fac}),mt})();const jt={provide:new v.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Fn],useFactory:function Cn(mt){return()=>mt.scrollStrategies.reposition()}};let Hn=(()=>{class mt{}return mt.\u0275fac=function(he){return new(he||mt)},mt.\u0275mod=v.oAB({type:mt}),mt.\u0275inj=v.cJS({providers:[Fn,jt],imports:[J.vT,De.eL,m.Cl,m.Cl]}),mt})()},3353:(gn,_t,k)=>{"use strict";k.d(_t,{Mq:()=>Ke,Oy:()=>kt,ht:()=>Ut,i$:()=>ge,kV:()=>pt,qK:()=>fe,sA:()=>ut,t4:()=>ne});var m=k(4650),N=k(6895);let v;try{v=typeof Intl<"u"&&Intl.v8BreakIterator}catch{v=!1}let J,ne=(()=>{class vt{constructor(Be){this._platformId=Be,this.isBrowser=this._platformId?(0,N.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!v)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return vt.\u0275fac=function(Be){return new(Be||vt)(m.LFG(m.Lbi))},vt.\u0275prov=m.Yz7({token:vt,factory:vt.\u0275fac,providedIn:"root"}),vt})();const De=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function fe(){if(J)return J;if("object"!=typeof document||!document)return J=new Set(De),J;let vt=document.createElement("input");return J=new Set(De.filter(Je=>(vt.setAttribute("type",Je),vt.type===Je))),J}let Ie,Ne,He;function ge(vt){return function ce(){if(null==Ie&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ie=!0}))}finally{Ie=Ie||!1}return Ie}()?vt:!!vt.capture}function Ke(){if(null==Ne){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ne=!1,Ne;if("scrollBehavior"in document.documentElement.style)Ne=!0;else{const vt=Element.prototype.scrollTo;Ne=!!vt&&!/\{\s*\[native code\]\s*\}/.test(vt.toString())}}return Ne}function pt(vt){if(function ot(){if(null==He){const vt=typeof document<"u"?document.head:null;He=!(!vt||!vt.createShadowRoot&&!vt.attachShadow)}return He}()){const Je=vt.getRootNode?vt.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&Je instanceof ShadowRoot)return Je}return null}function Ut(){let vt=typeof document<"u"&&document?document.activeElement:null;for(;vt&&vt.shadowRoot;){const Je=vt.shadowRoot.activeElement;if(Je===vt)break;vt=Je}return vt}function ut(vt){return vt.composedPath?vt.composedPath()[0]:vt.target}function kt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},4080:(gn,_t,k)=>{"use strict";k.d(_t,{C5:()=>ce,Pl:()=>Ut,UE:()=>ge,eL:()=>kt,en:()=>Ne,u0:()=>lt});var m=k(4650),N=k(6895);class Ie{attach(Be){return this._attachedHost=Be,Be.attach(this)}detach(){let Be=this._attachedHost;null!=Be&&(this._attachedHost=null,Be.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Be){this._attachedHost=Be}}class ce extends Ie{constructor(Be,ht,et,qe){super(),this.component=Be,this.viewContainerRef=ht,this.injector=et,this.componentFactoryResolver=qe}}class ge extends Ie{constructor(Be,ht,et,qe){super(),this.templateRef=Be,this.viewContainerRef=ht,this.context=et,this.injector=qe}get origin(){return this.templateRef.elementRef}attach(Be,ht=this.context){return this.context=ht,super.attach(Be)}detach(){return this.context=void 0,super.detach()}}class be extends Ie{constructor(Be){super(),this.element=Be instanceof m.SBq?Be.nativeElement:Be}}class Ne{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Be){return Be instanceof ce?(this._attachedPortal=Be,this.attachComponentPortal(Be)):Be instanceof ge?(this._attachedPortal=Be,this.attachTemplatePortal(Be)):this.attachDomPortal&&Be instanceof be?(this._attachedPortal=Be,this.attachDomPortal(Be)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Be){this._disposeFn=Be}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class lt extends Ne{constructor(Be,ht,et,qe,Pt){super(),this.outletElement=Be,this._componentFactoryResolver=ht,this._appRef=et,this._defaultInjector=qe,this.attachDomPortal=ze=>{const At=ze.element,Ft=this._document.createComment("dom-portal");At.parentNode.insertBefore(Ft,At),this.outletElement.appendChild(At),this._attachedPortal=ze,super.setDisposeFn(()=>{Ft.parentNode&&Ft.parentNode.replaceChild(At,Ft)})},this._document=Pt}attachComponentPortal(Be){const et=(Be.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Be.component);let qe;return Be.viewContainerRef?(qe=Be.viewContainerRef.createComponent(et,Be.viewContainerRef.length,Be.injector||Be.viewContainerRef.injector),this.setDisposeFn(()=>qe.destroy())):(qe=et.create(Be.injector||this._defaultInjector||m.zs3.NULL),this._appRef.attachView(qe.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(qe.hostView),qe.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(qe)),this._attachedPortal=Be,qe}attachTemplatePortal(Be){let ht=Be.viewContainerRef,et=ht.createEmbeddedView(Be.templateRef,Be.context,{injector:Be.injector});return et.rootNodes.forEach(qe=>this.outletElement.appendChild(qe)),et.detectChanges(),this.setDisposeFn(()=>{let qe=ht.indexOf(et);-1!==qe&&ht.remove(qe)}),this._attachedPortal=Be,et}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Be){return Be.hostView.rootNodes[0]}}let Ut=(()=>{class Je extends Ne{constructor(ht,et,qe){super(),this._componentFactoryResolver=ht,this._viewContainerRef=et,this._isInitialized=!1,this.attached=new m.vpe,this.attachDomPortal=Pt=>{const ze=Pt.element,At=this._document.createComment("dom-portal");Pt.setAttachedHost(this),ze.parentNode.insertBefore(At,ze),this._getRootNode().appendChild(ze),this._attachedPortal=Pt,super.setDisposeFn(()=>{At.parentNode&&At.parentNode.replaceChild(ze,At)})},this._document=qe}get portal(){return this._attachedPortal}set portal(ht){this.hasAttached()&&!ht&&!this._isInitialized||(this.hasAttached()&&super.detach(),ht&&super.attach(ht),this._attachedPortal=ht||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(ht){ht.setAttachedHost(this);const et=null!=ht.viewContainerRef?ht.viewContainerRef:this._viewContainerRef,Pt=(ht.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ht.component),ze=et.createComponent(Pt,et.length,ht.injector||et.injector);return et!==this._viewContainerRef&&this._getRootNode().appendChild(ze.hostView.rootNodes[0]),super.setDisposeFn(()=>ze.destroy()),this._attachedPortal=ht,this._attachedRef=ze,this.attached.emit(ze),ze}attachTemplatePortal(ht){ht.setAttachedHost(this);const et=this._viewContainerRef.createEmbeddedView(ht.templateRef,ht.context,{injector:ht.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=ht,this._attachedRef=et,this.attached.emit(et),et}_getRootNode(){const ht=this._viewContainerRef.element.nativeElement;return ht.nodeType===ht.ELEMENT_NODE?ht:ht.parentNode}}return Je.\u0275fac=function(ht){return new(ht||Je)(m.Y36(m._Vd),m.Y36(m.s_b),m.Y36(N.K0))},Je.\u0275dir=m.lG2({type:Je,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[m.qOj]}),Je})(),kt=(()=>{class Je{}return Je.\u0275fac=function(ht){return new(ht||Je)},Je.\u0275mod=m.oAB({type:Je}),Je.\u0275inj=m.cJS({}),Je})()},2556:(gn,_t,k)=>{"use strict";k.d(_t,{ZD:()=>Xt,mF:()=>Ft,Cl:()=>Fn,rL:()=>Gn});var m=k(1281),N=k(4650),v=k(8929),ne=k(1086),C=k(6498),J=k(3753),Ie=(k(352),k(8139),k(353)),ce=k(826),ge=k(9054);class Ne{constructor(Kt){this.durationSelector=Kt}call(Kt,Tt){return Tt.subscribe(new Ke(Kt,this.durationSelector))}}class Ke extends ce.L{constructor(Kt,Tt){super(Kt),this.durationSelector=Tt,this.hasValue=!1}_next(Kt){if(this.value=Kt,this.hasValue=!0,!this.throttled){let Tt;try{const{durationSelector:Cn}=this;Tt=Cn(Kt)}catch(Cn){return this.destination.error(Cn)}const Vt=(0,ge.D)(this,Tt);!Vt||Vt.closed?this.clearThrottle():this.add(this.throttled=Vt)}}clearThrottle(){const{value:Kt,hasValue:Tt,throttled:Vt}=this;Vt&&(this.remove(Vt),this.throttled=null,Vt.unsubscribe()),Tt&&(this.value=null,this.hasValue=!1,this.destination.next(Kt))}notifyNext(Kt,Tt,Vt,Cn){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var lt=k(4241),He=k(2866);function pt(Mt){const{index:Kt,period:Tt,subscriber:Vt}=Mt;if(Vt.next(Kt),!Vt.closed){if(-1===Tt)return Vt.complete();Mt.index=Kt+1,this.schedule(Mt,Tt)}}function Ut(Mt,Kt=Ie.P){return function be(Mt){return function(Tt){return Tt.lift(new Ne(Mt))}}(()=>function ot(Mt=0,Kt,Tt){let Vt=-1;return(0,lt.k)(Kt)?Vt=Number(Kt)<1?1:Number(Kt):(0,He.K)(Kt)&&(Tt=Kt),(0,He.K)(Tt)||(Tt=Ie.P),new C.y(Cn=>{const jt=(0,lt.k)(Mt)?Mt:+Mt-Tt.now();return Tt.schedule(pt,jt,{index:0,period:Vt,subscriber:Cn})})}(Mt,Kt))}var ut=k(2198),kt=k(3353),vt=k(6895),Je=k(445);let Ft=(()=>{class Mt{constructor(Tt,Vt,Cn){this._ngZone=Tt,this._platform=Vt,this._scrolled=new v.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Cn}register(Tt){this.scrollContainers.has(Tt)||this.scrollContainers.set(Tt,Tt.elementScrolled().subscribe(()=>this._scrolled.next(Tt)))}deregister(Tt){const Vt=this.scrollContainers.get(Tt);Vt&&(Vt.unsubscribe(),this.scrollContainers.delete(Tt))}scrolled(Tt=20){return this._platform.isBrowser?new C.y(Vt=>{this._globalSubscription||this._addGlobalListener();const Cn=Tt>0?this._scrolled.pipe(Ut(Tt)).subscribe(Vt):this._scrolled.subscribe(Vt);return this._scrolledCount++,()=>{Cn.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,ne.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Tt,Vt)=>this.deregister(Vt)),this._scrolled.complete()}ancestorScrolled(Tt,Vt){const Cn=this.getAncestorScrollContainers(Tt);return this.scrolled(Vt).pipe((0,ut.h)(jt=>!jt||Cn.indexOf(jt)>-1))}getAncestorScrollContainers(Tt){const Vt=[];return this.scrollContainers.forEach((Cn,jt)=>{this._scrollableContainsElement(jt,Tt)&&Vt.push(jt)}),Vt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Tt,Vt){let Cn=(0,m.fI)(Vt),jt=Tt.getElementRef().nativeElement;do{if(Cn==jt)return!0}while(Cn=Cn.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Tt=this._getWindow();return(0,J.R)(Tt.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Mt.\u0275fac=function(Tt){return new(Tt||Mt)(N.LFG(N.R0b),N.LFG(kt.t4),N.LFG(vt.K0,8))},Mt.\u0275prov=N.Yz7({token:Mt,factory:Mt.\u0275fac,providedIn:"root"}),Mt})(),Gn=(()=>{class Mt{constructor(Tt,Vt,Cn){this._platform=Tt,this._change=new v.xQ,this._changeListener=jt=>{this._change.next(jt)},this._document=Cn,Vt.runOutsideAngular(()=>{if(Tt.isBrowser){const jt=this._getWindow();jt.addEventListener("resize",this._changeListener),jt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Tt=this._getWindow();Tt.removeEventListener("resize",this._changeListener),Tt.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Tt={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Tt}getViewportRect(){const Tt=this.getViewportScrollPosition(),{width:Vt,height:Cn}=this.getViewportSize();return{top:Tt.top,left:Tt.left,bottom:Tt.top+Cn,right:Tt.left+Vt,height:Cn,width:Vt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Tt=this._document,Vt=this._getWindow(),Cn=Tt.documentElement,jt=Cn.getBoundingClientRect();return{top:-jt.top||Tt.body.scrollTop||Vt.scrollY||Cn.scrollTop||0,left:-jt.left||Tt.body.scrollLeft||Vt.scrollX||Cn.scrollLeft||0}}change(Tt=20){return Tt>0?this._change.pipe(Ut(Tt)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Tt=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Tt.innerWidth,height:Tt.innerHeight}:{width:0,height:0}}}return Mt.\u0275fac=function(Tt){return new(Tt||Mt)(N.LFG(kt.t4),N.LFG(N.R0b),N.LFG(vt.K0,8))},Mt.\u0275prov=N.Yz7({token:Mt,factory:Mt.\u0275fac,providedIn:"root"}),Mt})(),Xt=(()=>{class Mt{}return Mt.\u0275fac=function(Tt){return new(Tt||Mt)},Mt.\u0275mod=N.oAB({type:Mt}),Mt.\u0275inj=N.cJS({}),Mt})(),Fn=(()=>{class Mt{}return Mt.\u0275fac=function(Tt){return new(Tt||Mt)},Mt.\u0275mod=N.oAB({type:Mt}),Mt.\u0275inj=N.cJS({imports:[Je.vT,Xt,Je.vT,Xt]}),Mt})()},6895:(gn,_t,k)=>{"use strict";k.d(_t,{Do:()=>ut,EM:()=>Qr,HT:()=>C,JF:()=>vs,K0:()=>De,Mx:()=>ns,NF:()=>wa,O5:()=>or,Ov:()=>Nn,PC:()=>no,PM:()=>bo,RF:()=>ko,S$:()=>ot,V_:()=>ce,Ye:()=>kt,b0:()=>Ut,bD:()=>Hs,ez:()=>xs,mk:()=>Vi,n9:()=>as,q:()=>v,sg:()=>qr,w_:()=>J});var m=k(4650);let N=null;function v(){return N}function C(W){N||(N=W)}class J{}const De=new m.OlP("DocumentToken");let fe=(()=>{class W{historyGo(q){throw new Error("Not implemented")}}return W.\u0275fac=function(q){return new(q||W)},W.\u0275prov=m.Yz7({token:W,factory:function(){return function Ie(){return(0,m.LFG)(ge)}()},providedIn:"platform"}),W})();const ce=new m.OlP("Location Initialized");let ge=(()=>{class W extends fe{constructor(q){super(),this._doc=q,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return v().getBaseHref(this._doc)}onPopState(q){const xe=v().getGlobalEventTarget(this._doc,"window");return xe.addEventListener("popstate",q,!1),()=>xe.removeEventListener("popstate",q)}onHashChange(q){const xe=v().getGlobalEventTarget(this._doc,"window");return xe.addEventListener("hashchange",q,!1),()=>xe.removeEventListener("hashchange",q)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(q){this.location.pathname=q}pushState(q,xe,ct){be()?this._history.pushState(q,xe,ct):this.location.hash=ct}replaceState(q,xe,ct){be()?this._history.replaceState(q,xe,ct):this.location.hash=ct}forward(){this._history.forward()}back(){this._history.back()}historyGo(q=0){this._history.go(q)}getState(){return this._history.state}}return W.\u0275fac=function(q){return new(q||W)(m.LFG(De))},W.\u0275prov=m.Yz7({token:W,factory:function(){return function Ne(){return new ge((0,m.LFG)(De))}()},providedIn:"platform"}),W})();function be(){return!!window.history.pushState}function Ke(W,ye){if(0==W.length)return ye;if(0==ye.length)return W;let q=0;return W.endsWith("/")&&q++,ye.startsWith("/")&&q++,2==q?W+ye.substring(1):1==q?W+ye:W+"/"+ye}function lt(W){const ye=W.match(/#|\?|$/),q=ye&&ye.index||W.length;return W.slice(0,q-("/"===W[q-1]?1:0))+W.slice(q)}function He(W){return W&&"?"!==W[0]?"?"+W:W}let ot=(()=>{class W{historyGo(q){throw new Error("Not implemented")}}return W.\u0275fac=function(q){return new(q||W)},W.\u0275prov=m.Yz7({token:W,factory:function(){return(0,m.f3M)(Ut)},providedIn:"root"}),W})();const pt=new m.OlP("appBaseHref");let Ut=(()=>{class W extends ot{constructor(q,xe){var ct,Zt,un;super(),this._platformLocation=q,this._removeListenerFns=[],this._baseHref=null!==(ct=null!==(Zt=xe??this._platformLocation.getBaseHrefFromDOM())&&void 0!==Zt?Zt:null===(un=(0,m.f3M)(De).location)||void 0===un?void 0:un.origin)&&void 0!==ct?ct:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(q){this._removeListenerFns.push(this._platformLocation.onPopState(q),this._platformLocation.onHashChange(q))}getBaseHref(){return this._baseHref}prepareExternalUrl(q){return Ke(this._baseHref,q)}path(q=!1){const xe=this._platformLocation.pathname+He(this._platformLocation.search),ct=this._platformLocation.hash;return ct&&q?`${xe}${ct}`:xe}pushState(q,xe,ct,Zt){const un=this.prepareExternalUrl(ct+He(Zt));this._platformLocation.pushState(q,xe,un)}replaceState(q,xe,ct,Zt){const un=this.prepareExternalUrl(ct+He(Zt));this._platformLocation.replaceState(q,xe,un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(q=0){var xe,ct;null===(xe=(ct=this._platformLocation).historyGo)||void 0===xe||xe.call(ct,q)}}return W.\u0275fac=function(q){return new(q||W)(m.LFG(fe),m.LFG(pt,8))},W.\u0275prov=m.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})(),ut=(()=>{class W extends ot{constructor(q,xe){super(),this._platformLocation=q,this._baseHref="",this._removeListenerFns=[],null!=xe&&(this._baseHref=xe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(q){this._removeListenerFns.push(this._platformLocation.onPopState(q),this._platformLocation.onHashChange(q))}getBaseHref(){return this._baseHref}path(q=!1){let xe=this._platformLocation.hash;return null==xe&&(xe="#"),xe.length>0?xe.substring(1):xe}prepareExternalUrl(q){const xe=Ke(this._baseHref,q);return xe.length>0?"#"+xe:xe}pushState(q,xe,ct,Zt){let un=this.prepareExternalUrl(ct+He(Zt));0==un.length&&(un=this._platformLocation.pathname),this._platformLocation.pushState(q,xe,un)}replaceState(q,xe,ct,Zt){let un=this.prepareExternalUrl(ct+He(Zt));0==un.length&&(un=this._platformLocation.pathname),this._platformLocation.replaceState(q,xe,un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(q=0){var xe,ct;null===(xe=(ct=this._platformLocation).historyGo)||void 0===xe||xe.call(ct,q)}}return W.\u0275fac=function(q){return new(q||W)(m.LFG(fe),m.LFG(pt,8))},W.\u0275prov=m.Yz7({token:W,factory:W.\u0275fac}),W})(),kt=(()=>{class W{constructor(q){this._subject=new m.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=q;const xe=this._locationStrategy.getBaseHref();this._baseHref=lt(Be(xe)),this._locationStrategy.onPopState(ct=>{this._subject.emit({url:this.path(!0),pop:!0,state:ct.state,type:ct.type})})}ngOnDestroy(){var q;null===(q=this._urlChangeSubscription)||void 0===q||q.unsubscribe(),this._urlChangeListeners=[]}path(q=!1){return this.normalize(this._locationStrategy.path(q))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(q,xe=""){return this.path()==this.normalize(q+He(xe))}normalize(q){return W.stripTrailingSlash(function Je(W,ye){return W&&ye.startsWith(W)?ye.substring(W.length):ye}(this._baseHref,Be(q)))}prepareExternalUrl(q){return q&&"/"!==q[0]&&(q="/"+q),this._locationStrategy.prepareExternalUrl(q)}go(q,xe="",ct=null){this._locationStrategy.pushState(ct,"",q,xe),this._notifyUrlChangeListeners(this.prepareExternalUrl(q+He(xe)),ct)}replaceState(q,xe="",ct=null){this._locationStrategy.replaceState(ct,"",q,xe),this._notifyUrlChangeListeners(this.prepareExternalUrl(q+He(xe)),ct)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(q=0){var xe,ct;null===(xe=(ct=this._locationStrategy).historyGo)||void 0===xe||xe.call(ct,q)}onUrlChange(q){return this._urlChangeListeners.push(q),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(xe=>{this._notifyUrlChangeListeners(xe.url,xe.state)})),()=>{const xe=this._urlChangeListeners.indexOf(q);var ct;this._urlChangeListeners.splice(xe,1),0===this._urlChangeListeners.length&&(null===(ct=this._urlChangeSubscription)||void 0===ct||ct.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(q="",xe){this._urlChangeListeners.forEach(ct=>ct(q,xe))}subscribe(q,xe,ct){return this._subject.subscribe({next:q,error:xe,complete:ct})}}return W.normalizeQueryParams=He,W.joinWithSlash=Ke,W.stripTrailingSlash=lt,W.\u0275fac=function(q){return new(q||W)(m.LFG(ot))},W.\u0275prov=m.Yz7({token:W,factory:function(){return function vt(){return new kt((0,m.LFG)(ot))}()},providedIn:"root"}),W})();function Be(W){return W.replace(/\/index.html$/,"")}function ns(W,ye){ye=encodeURIComponent(ye);for(const q of W.split(";")){const xe=q.indexOf("="),[ct,Zt]=-1==xe?[q,""]:[q.slice(0,xe),q.slice(xe+1)];if(ct.trim()===ye)return decodeURIComponent(Zt)}return null}let Vi=(()=>{class W{constructor(q,xe,ct,Zt){this._iterableDiffers=q,this._keyValueDiffers=xe,this._ngEl=ct,this._renderer=Zt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(q){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof q?q.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(q){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof q?q.split(/\s+/):q,this._rawClass&&((0,m.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const q=this._iterableDiffer.diff(this._rawClass);q&&this._applyIterableChanges(q)}else if(this._keyValueDiffer){const q=this._keyValueDiffer.diff(this._rawClass);q&&this._applyKeyValueChanges(q)}}_applyKeyValueChanges(q){q.forEachAddedItem(xe=>this._toggleClass(xe.key,xe.currentValue)),q.forEachChangedItem(xe=>this._toggleClass(xe.key,xe.currentValue)),q.forEachRemovedItem(xe=>{xe.previousValue&&this._toggleClass(xe.key,!1)})}_applyIterableChanges(q){q.forEachAddedItem(xe=>{if("string"!=typeof xe.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,m.AaK)(xe.item)}`);this._toggleClass(xe.item,!0)}),q.forEachRemovedItem(xe=>this._toggleClass(xe.item,!1))}_applyClasses(q){q&&(Array.isArray(q)||q instanceof Set?q.forEach(xe=>this._toggleClass(xe,!0)):Object.keys(q).forEach(xe=>this._toggleClass(xe,!!q[xe])))}_removeClasses(q){q&&(Array.isArray(q)||q instanceof Set?q.forEach(xe=>this._toggleClass(xe,!1)):Object.keys(q).forEach(xe=>this._toggleClass(xe,!1)))}_toggleClass(q,xe){(q=q.trim())&&q.split(/\s+/g).forEach(ct=>{xe?this._renderer.addClass(this._ngEl.nativeElement,ct):this._renderer.removeClass(this._ngEl.nativeElement,ct)})}}return W.\u0275fac=function(q){return new(q||W)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))},W.\u0275dir=m.lG2({type:W,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),W})();class Br{constructor(ye,q,xe,ct){this.$implicit=ye,this.ngForOf=q,this.index=xe,this.count=ct}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qr=(()=>{class W{constructor(q,xe,ct){this._viewContainer=q,this._template=xe,this._differs=ct,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(q){this._ngForOf=q,this._ngForOfDirty=!0}set ngForTrackBy(q){this._trackByFn=q}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(q){q&&(this._template=q)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const q=this._ngForOf;!this._differ&&q&&(this._differ=this._differs.find(q).create(this.ngForTrackBy))}if(this._differ){const q=this._differ.diff(this._ngForOf);q&&this._applyChanges(q)}}_applyChanges(q){const xe=this._viewContainer;q.forEachOperation((ct,Zt,un)=>{if(null==ct.previousIndex)xe.createEmbeddedView(this._template,new Br(ct.item,this._ngForOf,-1,-1),null===un?void 0:un);else if(null==un)xe.remove(null===Zt?void 0:Zt);else if(null!==Zt){const qn=xe.get(Zt);xe.move(qn,un),Vr(qn,ct)}});for(let ct=0,Zt=xe.length;ct<Zt;ct++){const qn=xe.get(ct).context;qn.index=ct,qn.count=Zt,qn.ngForOf=this._ngForOf}q.forEachIdentityChange(ct=>{Vr(xe.get(ct.currentIndex),ct)})}static ngTemplateContextGuard(q,xe){return!0}}return W.\u0275fac=function(q){return new(q||W)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},W.\u0275dir=m.lG2({type:W,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),W})();function Vr(W,ye){W.context.$implicit=ye.item}let or=(()=>{class W{constructor(q,xe){this._viewContainer=q,this._context=new Ao,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=xe}set ngIf(q){this._context.$implicit=this._context.ngIf=q,this._updateView()}set ngIfThen(q){Or("ngIfThen",q),this._thenTemplateRef=q,this._thenViewRef=null,this._updateView()}set ngIfElse(q){Or("ngIfElse",q),this._elseTemplateRef=q,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(q,xe){return!0}}return W.\u0275fac=function(q){return new(q||W)(m.Y36(m.s_b),m.Y36(m.Rgc))},W.\u0275dir=m.lG2({type:W,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),W})();class Ao{constructor(){this.$implicit=null,this.ngIf=null}}function Or(W,ye){if(ye&&!ye.createEmbeddedView)throw new Error(`${W} must be a TemplateRef, but received '${(0,m.AaK)(ye)}'.`)}class Er{constructor(ye,q){this._viewContainerRef=ye,this._templateRef=q,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ye){ye&&!this._created?this.create():!ye&&this._created&&this.destroy()}}let ko=(()=>{class W{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(q){this._ngSwitch=q,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(q){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(q)}_matchCase(q){const xe=q==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||xe,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),xe}_updateDefaultCases(q){if(this._defaultViews&&q!==this._defaultUsed){this._defaultUsed=q;for(let xe=0;xe<this._defaultViews.length;xe++)this._defaultViews[xe].enforceState(q)}}}return W.\u0275fac=function(q){return new(q||W)},W.\u0275dir=m.lG2({type:W,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),W})(),as=(()=>{class W{constructor(q,xe,ct){this.ngSwitch=ct,ct._addCase(),this._view=new Er(q,xe)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return W.\u0275fac=function(q){return new(q||W)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(ko,9))},W.\u0275dir=m.lG2({type:W,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),W})(),no=(()=>{class W{constructor(q,xe,ct){this._ngEl=q,this._differs=xe,this._renderer=ct,this._ngStyle=null,this._differ=null}set ngStyle(q){this._ngStyle=q,!this._differ&&q&&(this._differ=this._differs.find(q).create())}ngDoCheck(){if(this._differ){const q=this._differ.diff(this._ngStyle);q&&this._applyChanges(q)}}_setStyle(q,xe){const[ct,Zt]=q.split("."),un=-1===ct.indexOf("-")?void 0:m.JOm.DashCase;null!=xe?this._renderer.setStyle(this._ngEl.nativeElement,ct,Zt?`${xe}${Zt}`:xe,un):this._renderer.removeStyle(this._ngEl.nativeElement,ct,un)}_applyChanges(q){q.forEachRemovedItem(xe=>this._setStyle(xe.key,null)),q.forEachAddedItem(xe=>this._setStyle(xe.key,xe.currentValue)),q.forEachChangedItem(xe=>this._setStyle(xe.key,xe.currentValue))}}return W.\u0275fac=function(q){return new(q||W)(m.Y36(m.SBq),m.Y36(m.aQg),m.Y36(m.Qsj))},W.\u0275dir=m.lG2({type:W,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),W})();class Ot{createSubscription(ye,q){return ye.subscribe({next:q,error:xe=>{throw xe}})}dispose(ye){ye.unsubscribe()}}class Rt{createSubscription(ye,q){return ye.then(q,xe=>{throw xe})}dispose(ye){}}const zt=new Rt,_n=new Ot;let Nn=(()=>{class W{constructor(q){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=q}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(q){return this._obj?q!==this._obj?(this._dispose(),this.transform(q)):this._latestValue:(q&&this._subscribe(q),this._latestValue)}_subscribe(q){this._obj=q,this._strategy=this._selectStrategy(q),this._subscription=this._strategy.createSubscription(q,xe=>this._updateLatestValue(q,xe))}_selectStrategy(q){if((0,m.QGY)(q))return zt;if((0,m.F4k)(q))return _n;throw function Vs(W,ye){return new m.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(q,xe){q===this._obj&&(this._latestValue=xe,this._ref.markForCheck())}}return W.\u0275fac=function(q){return new(q||W)(m.Y36(m.sBO,16))},W.\u0275pipe=m.Yjl({name:"async",type:W,pure:!1,standalone:!0}),W})(),xs=(()=>{class W{}return W.\u0275fac=function(q){return new(q||W)},W.\u0275mod=m.oAB({type:W}),W.\u0275inj=m.cJS({}),W})();const Hs="browser";function wa(W){return W===Hs}function bo(W){return"server"===W}let Qr=(()=>{class W{}return W.\u0275prov=(0,m.Yz7)({token:W,providedIn:"root",factory:()=>new No((0,m.LFG)(De),window)}),W})();class No{constructor(ye,q){this.document=ye,this.window=q,this.offset=()=>[0,0]}setOffset(ye){this.offset=Array.isArray(ye)?()=>ye:ye}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ye){this.supportsScrolling()&&this.window.scrollTo(ye[0],ye[1])}scrollToAnchor(ye){if(!this.supportsScrolling())return;const q=function Ur(W,ye){const q=W.getElementById(ye)||W.getElementsByName(ye)[0];if(q)return q;if("function"==typeof W.createTreeWalker&&W.body&&(W.body.createShadowRoot||W.body.attachShadow)){const xe=W.createTreeWalker(W.body,NodeFilter.SHOW_ELEMENT);let ct=xe.currentNode;for(;ct;){const Zt=ct.shadowRoot;if(Zt){const un=Zt.getElementById(ye)||Zt.querySelector(`[name="${ye}"]`);if(un)return un}ct=xe.nextNode()}}return null}(this.document,ye);q&&(this.scrollToElement(q),q.focus())}setHistoryScrollRestoration(ye){if(this.supportScrollRestoration()){const q=this.window.history;q&&q.scrollRestoration&&(q.scrollRestoration=ye)}}scrollToElement(ye){const q=ye.getBoundingClientRect(),xe=q.left+this.window.pageXOffset,ct=q.top+this.window.pageYOffset,Zt=this.offset();this.window.scrollTo(xe-Zt[0],ct-Zt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ye=xi(this.window.history)||xi(Object.getPrototypeOf(this.window.history));return!(!ye||!ye.writable&&!ye.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function xi(W){return Object.getOwnPropertyDescriptor(W,"scrollRestoration")}class vs{}},4650:(gn,_t,k)=>{"use strict";k.d(_t,{$8M:()=>vi,$Z:()=>V_,AFp:()=>x0,ALo:()=>Zb,AaK:()=>fe,AsE:()=>E_,BQk:()=>wc,CHM:()=>wo,CRH:()=>o0,CZH:()=>Dy,CqO:()=>ig,D6c:()=>PD,EJc:()=>Zw,EiD:()=>Ma,EpF:()=>lv,F$t:()=>rp,F4k:()=>ip,FYo:()=>Ih,FiY:()=>ms,G48:()=>gD,Gf:()=>r0,GfV:()=>mm,GkF:()=>av,Gpc:()=>ge,Hsn:()=>og,Ikx:()=>k_,JOm:()=>ba,JVY:()=>cp,Jf7:()=>lr,KtG:()=>Da,L6k:()=>up,LAX:()=>Zu,LFG:()=>st,LSH:()=>E,Lbi:()=>zw,Lck:()=>VC,MAs:()=>h_,MMx:()=>Uy,N_p:()=>Oy,NdJ:()=>rg,O4$:()=>qn,OlP:()=>ji,Oqu:()=>D_,PXZ:()=>uD,Q6J:()=>Pa,QGY:()=>f_,QP$:()=>Ct,QbO:()=>Ww,Qsj:()=>nd,QtT:()=>kb,R0b:()=>gh,RDi:()=>bh,Rgc:()=>oy,SBq:()=>pf,SDv:()=>Ab,Sil:()=>Qw,Suo:()=>s0,TTD:()=>Ca,TgZ:()=>Kh,Tol:()=>pv,Udp:()=>ug,VKq:()=>$b,WFA:()=>Dd,X6Q:()=>mD,XFs:()=>mt,Xpm:()=>at,Xts:()=>Dr,Y36:()=>Jd,YKP:()=>Pb,YNc:()=>ep,Yjl:()=>X,Yz7:()=>Fe,Z0I:()=>Fn,ZZ4:()=>ub,_Bn:()=>Ob,_UZ:()=>Cc,_Vd:()=>Ld,_c5:()=>RD,_uU:()=>w_,aQg:()=>db,c2e:()=>Yw,cJS:()=>St,cg1:()=>lm,d8E:()=>su,dDg:()=>oD,dqk:()=>Rn,eBb:()=>df,eFA:()=>j0,ekj:()=>dg,eoX:()=>V0,f3M:()=>an,g9A:()=>k0,h0i:()=>xv,hGG:()=>OD,hij:()=>fg,iGM:()=>n0,ifc:()=>ln,ip1:()=>I0,jDz:()=>Fb,kL8:()=>u,kcU:()=>yi,lG2:()=>G,lcZ:()=>qb,lqb:()=>Cu,lri:()=>L0,mCW:()=>qu,n5z:()=>rl,n_E:()=>vy,oAB:()=>Ht,oJD:()=>R,oxw:()=>sg,pB0:()=>Od,pQV:()=>Py,q3G:()=>ds,q4F:()=>vp,qLn:()=>oc,qOj:()=>Zf,qZA:()=>Io,qzn:()=>mu,rWj:()=>B0,sBO:()=>_D,sIi:()=>ah,s_b:()=>by,soG:()=>Ey,tHW:()=>Ry,tb:()=>R0,tp0:()=>Jo,uIk:()=>Jm,vHH:()=>lt,vpe:()=>ap,wAp:()=>d,xp6:()=>qd,ynx:()=>np,z2F:()=>Sy,z3N:()=>El,zSh:()=>Sh,zs3:()=>T});var m=k(8929),N=k(2654),v=k(6498),ne=k(6787),C=k(2474);function J(n){for(let r in n)if(n[r]===J)return r;throw Error("Could not find renamed property on target object.")}function De(n,r){for(const l in r)r.hasOwnProperty(l)&&!n.hasOwnProperty(l)&&(n[l]=r[l])}function fe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(fe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const l=r.indexOf("\n");return-1===l?r:r.substring(0,l)}function Ie(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ce=J({__forward_ref__:J});function ge(n){return n.__forward_ref__=ge,n.toString=function(){return fe(this())},n}function be(n){return Ne(n)?n():n}function Ne(n){return"function"==typeof n&&n.hasOwnProperty(ce)&&n.__forward_ref__===ge}class lt extends Error{constructor(r,l){super(function He(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,l)),this.code=r}}function ot(n){return"string"==typeof n?n:null==n?"":String(n)}function vt(n,r){throw new lt(-201,!1)}function tn(n,r,l,h){throw new Error(`ASSERTION ERROR: ${n}`+(null==h?"":` [Expected=> ${l} ${h} ${r} <=Actual]`))}function Fe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function St(n){return{providers:n.providers||[],imports:n.imports||[]}}function Xt(n){return Mt(n,Cn)||Mt(n,Hn)}function Fn(n){return null!==Xt(n)}function Mt(n,r){return n.hasOwnProperty(r)?n[r]:null}function Vt(n){return n&&(n.hasOwnProperty(jt)||n.hasOwnProperty(wn))?n[jt]:null}const Cn=J({\u0275prov:J}),jt=J({\u0275inj:J}),Hn=J({ngInjectableDef:J}),wn=J({ngInjectorDef:J});var mt=(()=>((mt=mt||{})[mt.Default=0]="Default",mt[mt.Host=1]="Host",mt[mt.Self=2]="Self",mt[mt.SkipSelf=4]="SkipSelf",mt[mt.Optional=8]="Optional",mt))();let ee;function le(n){const r=ee;return ee=n,r}function Ce(n,r,l){const h=Xt(n);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:l&mt.Optional?null:void 0!==r?r:void vt(fe(n))}function Le(n){return{toString:n}.toString()}var Dt=(()=>((Dt=Dt||{})[Dt.OnPush=0]="OnPush",Dt[Dt.Default=1]="Default",Dt))(),ln=(()=>{return(n=ln||(ln={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ln;var n})();const Rn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ri={},kn=[],Ai=J({\u0275cmp:J}),Tn=J({\u0275dir:J}),$t=J({\u0275pipe:J}),ft=J({\u0275mod:J}),Se=J({\u0275fac:J}),Jt=J({__NG_ELEMENT_ID__:J});let hn=0;function at(n){return Le(()=>{const l=!0===n.standalone,h={},p={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Dt.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||kn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ln.Emulated,id:"c"+hn++,styles:n.styles||kn,_:null,setInput:null,schemas:n.schemas||null,tView:null},D=n.dependencies,x=n.features;return p.inputs=j(n.inputs,h),p.outputs=j(n.outputs),x&&x.forEach(V=>V(p)),p.directiveDefs=D?()=>("function"==typeof D?D():D).map(Xe).filter(Et):null,p.pipeDefs=D?()=>("function"==typeof D?D():D).map(Qe).filter(Et):null,p})}function Xe(n){return K(n)||pe(n)}function Et(n){return null!==n}function Ht(n){return Le(()=>({type:n.type,bootstrap:n.bootstrap||kn,declarations:n.declarations||kn,imports:n.imports||kn,exports:n.exports||kn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function j(n,r){if(null==n)return ri;const l={};for(const h in n)if(n.hasOwnProperty(h)){let p=n[h],D=p;Array.isArray(p)&&(D=p[1],p=p[0]),l[p]=h,r&&(r[p]=D)}return l}const G=at;function X(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function K(n){return n[Ai]||null}function pe(n){return n[Tn]||null}function Qe(n){return n[$t]||null}function Ct(n){const r=K(n)||pe(n)||Qe(n);return null!==r&&r.standalone}function dn(n,r){const l=n[ft]||null;if(!l&&!0===r)throw new Error(`Type ${fe(n)} does not have '\u0275mod' property.`);return l}function Or(n){return Array.isArray(n)&&"object"==typeof n[1]}function Er(n){return Array.isArray(n)&&!0===n[1]}function ko(n){return 0!=(8&n.flags)}function as(n){return 2==(2&n.flags)}function gs(n){return 1==(1&n.flags)}function Yi(n){return null!==n.template}function yo(n){return 0!=(256&n[2])}function Oo(n,r){return n.hasOwnProperty(Se)?n[Se]:null}class Po{constructor(r,l,h){this.previousValue=r,this.currentValue=l,this.firstChange=h}isFirstChange(){return this.firstChange}}function Ca(){return oa}function oa(n){return n.type.prototype.ngOnChanges&&(n.setInput=fr),io}function io(){const n=Is(this),r=n?.current;if(r){const l=n.previous;if(l===ri)n.previous=r;else for(let h in r)l[h]=r[h];n.current=null,this.ngOnChanges(r)}}function fr(n,r,l,h){const p=Is(n)||function xs(n,r){return n[Ms]=r}(n,{previous:ri,current:null}),D=p.current||(p.current={}),x=p.previous,V=this.declaredInputs[l],Y=x[V];D[V]=new Po(Y&&Y.currentValue,r,x===ri),n[h]=r}Ca.ngInherit=!0;const Ms="__ngSimpleChanges__";function Is(n){return n[Ms]||null}function pr(n){for(;Array.isArray(n);)n=n[0];return n}function xi(n,r){return pr(r[n])}function Ur(n,r){return pr(r[n.index])}function vs(n,r){return n.data[r]}function aa(n,r){return n[r]}function Ki(n,r){const l=r[n];return Or(l)?l:l[0]}function ks(n){return 64==(64&n[2])}function Zs(n,r){return null==r?null:n[r]}function la(n){n[18]=0}function mr(n,r){n[5]+=r;let l=n,h=n[3];for(;null!==h&&(1===r&&1===l[5]||-1===r&&0===l[5]);)h[5]+=r,l=h,h=h[3]}const pi={lFrame:lo(null),bindingsEnabled:!0};function $s(){return pi.bindingsEnabled}function En(){return pi.lFrame.lView}function Mi(){return pi.lFrame.tView}function wo(n){return pi.lFrame.contextLView=n,n[8]}function Da(n){return pi.lFrame.contextLView=null,n}function Hr(){let n=se();for(;null!==n&&64===n.type;)n=n.parent;return n}function se(){return pi.lFrame.currentTNode}function Q(){const n=pi.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}function $(n,r){const l=pi.lFrame;l.currentTNode=n,l.isParent=r}function ke(){return pi.lFrame.isParent}function en(){pi.lFrame.isParent=!1}function gr(){const n=pi.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function rs(){return pi.lFrame.bindingIndex}function er(){return pi.lFrame.bindingIndex++}function ao(n){const r=pi.lFrame,l=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,l}function Ba(n){pi.lFrame.inI18n=n}function Ql(n,r){const l=pi.lFrame;l.bindingIndex=l.bindingRootIndex=n,Zo(r)}function Zo(n){pi.lFrame.currentDirectiveIndex=n}function Ua(n){const r=pi.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function Fo(){return pi.lFrame.currentQueryIndex}function Xa(n){pi.lFrame.currentQueryIndex=n}function Yr(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function ml(n,r,l){if(l&mt.SkipSelf){let p=r,D=n;for(;!(p=p.parent,null!==p||l&mt.Host||(p=Yr(D),null===p||(D=D[15],10&p.type))););if(null===p)return!1;r=p,n=D}const h=pi.lFrame=Fl();return h.currentTNode=r,h.lView=n,!0}function da(n){const r=Fl(),l=n[1];pi.lFrame=r,r.currentTNode=l.firstChild,r.lView=n,r.tView=l,r.contextLView=n,r.bindingIndex=l.bindingStartIndex,r.inI18n=!1}function Fl(){const n=pi.lFrame,r=null===n?null:n.child;return null===r?lo(n):r}function lo(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Ja(){const n=pi.lFrame;return pi.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const W=Ja;function ye(){const n=Ja();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ct(){return pi.lFrame.selectedIndex}function Zt(n){pi.lFrame.selectedIndex=n}function un(){const n=pi.lFrame;return vs(n.tView,n.selectedIndex)}function qn(){pi.lFrame.currentNamespace="svg"}function yi(){!function Hi(){pi.lFrame.currentNamespace=null}()}function Ze(n,r){for(let l=r.directiveStart,h=r.directiveEnd;l<h;l++){const D=n.data[l].type.prototype,{ngAfterContentInit:x,ngAfterContentChecked:V,ngAfterViewInit:Y,ngAfterViewChecked:de,ngOnDestroy:Pe}=D;x&&(n.contentHooks||(n.contentHooks=[])).push(-l,x),V&&((n.contentHooks||(n.contentHooks=[])).push(l,V),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(l,V)),Y&&(n.viewHooks||(n.viewHooks=[])).push(-l,Y),de&&((n.viewHooks||(n.viewHooks=[])).push(l,de),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(l,de)),null!=Pe&&(n.destroyHooks||(n.destroyHooks=[])).push(l,Pe)}}function ur(n,r,l){Gs(n,r,3,l)}function Rs(n,r,l,h){(3&n[2])===l&&Gs(n,r,l,h)}function ys(n,r){let l=n[2];(3&l)===r&&(l&=2047,l+=1,n[2]=l)}function Gs(n,r,l,h){const D=h??-1,x=r.length-1;let V=0;for(let Y=void 0!==h?65535&n[18]:0;Y<x;Y++)if("number"==typeof r[Y+1]){if(V=r[Y],null!=h&&V>=h)break}else r[Y]<0&&(n[18]+=65536),(V<D||-1==D)&&(Lo(n,l,r,Y),n[18]=(4294901760&n[18])+Y+2),Y++}function Lo(n,r,l,h){const p=l[h]<0,D=l[h+1],V=n[p?-l[h]:l[h]];if(p){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{D.call(V)}finally{}}}else try{D.call(V)}finally{}}class tr{constructor(r,l,h){this.factory=r,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=h}}function Bl(n,r,l){let h=0;for(;h<l.length;){const p=l[h];if("number"==typeof p){if(0!==p)break;h++;const D=l[h++],x=l[h++],V=l[h++];n.setAttribute(r,x,V,D)}else{const D=p,x=l[++h];Mc(D)?n.setProperty(r,D,x):n.setAttribute(r,D,x),h++}}return h}function fa(n){return 3===n||4===n||6===n}function Mc(n){return 64===n.charCodeAt(0)}function el(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let l=-1;for(let h=0;h<r.length;h++){const p=r[h];"number"==typeof p?l=p:0===l||au(n,l,p,null,-1===l||2===l?r[++h]:null)}}return n}function au(n,r,l,h,p){let D=0,x=n.length;if(-1===r)x=-1;else for(;D<n.length;){const V=n[D++];if("number"==typeof V){if(V===r){x=-1;break}if(V>r){x=D-1;break}}}for(;D<n.length;){const V=n[D];if("number"==typeof V)break;if(V===l){if(null===h)return void(null!==p&&(n[D+1]=p));if(h===n[D+1])return void(n[D+2]=p)}D++,null!==h&&D++,null!==p&&D++}-1!==x&&(n.splice(x,0,r),D=x+1),n.splice(D++,0,l),null!==h&&n.splice(D++,0,h),null!==p&&n.splice(D++,0,p)}function lu(n){return-1!==n}function nr(n){return 32767&n}function Bo(n,r){let l=function pa(n){return n>>16}(n),h=r;for(;l>0;)h=h[15],l--;return h}let _l=!0;function Vo(n){const r=_l;return _l=n,r}let Gu=0;const ti={};function Uo(n,r){const l=cn(n,r);if(-1!==l)return l;const h=r[1];h.firstCreatePass&&(n.injectorIndex=r.length,Qn(h.data,n),Qn(r,null),Qn(h.blueprint,null));const p=Sn(n,r),D=n.injectorIndex;if(lu(p)){const x=nr(p),V=Bo(p,r),Y=V[1].data;for(let de=0;de<8;de++)r[D+de]=V[x+de]|Y[x+de]}return r[D+8]=p,D}function Qn(n,r){n.push(0,0,0,0,0,0,0,0,r)}function cn(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Sn(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let l=0,h=null,p=r;for(;null!==p;){if(h=cs(p),null===h)return-1;if(l++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|l<<16}return-1}function Ar(n,r,l){!function Ei(n,r,l){let h;"string"==typeof l?h=l.charCodeAt(0)||0:l.hasOwnProperty(Jt)&&(h=l[Jt]),null==h&&(h=l[Jt]=Gu++);const p=255&h;r.data[n+(p>>5)]|=1<<p}(n,r,l)}function Eo(n,r,l){if(l&mt.Optional||void 0!==n)return n;vt()}function tl(n,r,l,h){if(l&mt.Optional&&void 0===h&&(h=null),0==(l&(mt.Self|mt.Host))){const p=n[9],D=le(void 0);try{return p?p.get(r,h,l&mt.Optional):Ce(r,h,l&mt.Optional)}finally{le(D)}}return Eo(h,0,l)}function ga(n,r,l,h=mt.Default,p){if(null!==n){if(1024&r[2]){const x=function bi(n,r,l,h,p){let D=n,x=r;for(;null!==D&&null!==x&&1024&x[2]&&!(256&x[2]);){const V=vl(D,x,l,h|mt.Self,ti);if(V!==ti)return V;let Y=D.parent;if(!Y){const de=x[21];if(de){const Pe=de.get(l,ti,h);if(Pe!==ti)return Pe}Y=cs(x),x=x[15]}D=Y}return p}(n,r,l,h,ti);if(x!==ti)return x}const D=vl(n,r,l,h,ti);if(D!==ti)return D}return tl(r,l,h,p)}function vl(n,r,l,h,p){const D=function Id(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Jt)?n[Jt]:void 0;return"number"==typeof r?r>=0?255&r:qo:r}(l);if("function"==typeof D){if(!ml(r,n,h))return h&mt.Host?Eo(p,0,h):tl(r,l,h,p);try{const x=D(h);if(null!=x||h&mt.Optional)return x;vt()}finally{W()}}else if("number"==typeof D){let x=null,V=cn(n,r),Y=-1,de=h&mt.Host?r[16][6]:null;for((-1===V||h&mt.SkipSelf)&&(Y=-1===V?Sn(n,r):r[V+8],-1!==Y&&il(h,!1)?(x=r[1],V=nr(Y),r=Bo(Y,r)):V=-1);-1!==V;){const Pe=r[1];if(Pr(D,V,Pe.data)){const nt=xc(V,r,l,x,h,de);if(nt!==ti)return nt}Y=r[V+8],-1!==Y&&il(h,r[1].data[V+8]===de)&&Pr(D,V,r)?(x=Pe,V=nr(Y),r=Bo(Y,r)):V=-1}}return p}function xc(n,r,l,h,p,D){const x=r[1],V=x.data[n+8],Pe=nl(V,x,l,null==h?as(V)&&_l:h!=x&&0!=(3&V.type),p&mt.Host&&D===V);return null!==Pe?yl(r,x,Pe,V):ti}function nl(n,r,l,h,p){const D=n.providerIndexes,x=r.data,V=1048575&D,Y=n.directiveStart,Pe=D>>20,It=p?V+Pe:n.directiveEnd;for(let Qt=h?V:V+Pe;Qt<It;Qt++){const In=x[Qt];if(Qt<Y&&l===In||Qt>=Y&&In.type===l)return Qt}if(p){const Qt=x[Y];if(Qt&&Yi(Qt)&&Qt.type===l)return Y}return null}function yl(n,r,l,h){let p=n[l];const D=r.data;if(function Os(n){return n instanceof tr}(p)){const x=p;x.resolving&&function Ut(n,r){const l=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new lt(-200,`Circular dependency in DI detected for ${n}${l}`)}(function pt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ot(n)}(D[l]));const V=Vo(x.canSeeViewProviders);x.resolving=!0;const Y=x.injectImpl?le(x.injectImpl):null;ml(n,h,mt.Default);try{p=n[l]=x.factory(void 0,D,n,h),r.firstCreatePass&&l>=h.directiveStart&&function _r(n,r,l){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:D}=r.type.prototype;if(h){const x=oa(r);(l.preOrderHooks||(l.preOrderHooks=[])).push(n,x),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(n,x)}p&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-n,p),D&&((l.preOrderHooks||(l.preOrderHooks=[])).push(n,D),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(n,D))}(l,D[l],r)}finally{null!==Y&&le(Y),Vo(V),x.resolving=!1,W()}}return p}function Pr(n,r,l){return!!(l[r+(n>>5)]&1<<n)}function il(n,r){return!(n&mt.Self||n&mt.Host&&r)}class Si{constructor(r,l){this._tNode=r,this._lView=l}get(r,l,h){return ga(this._tNode,this._lView,r,h,l)}}function qo(){return new Si(Hr(),En())}function rl(n){return Le(()=>{const r=n.prototype.constructor,l=r[Se]||kr(r),h=Object.prototype;let p=Object.getPrototypeOf(n.prototype).constructor;for(;p&&p!==h;){const D=p[Se]||kr(p);if(D&&D!==l)return D;p=Object.getPrototypeOf(p)}return D=>new D})}function kr(n){return Ne(n)?()=>{const r=kr(be(n));return r&&r()}:Oo(n)}function cs(n){const r=n[1],l=r.type;return 2===l?r.declTNode:1===l?n[6]:null}function vi(n){return function Ic(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const l=n.attrs;if(l){const h=l.length;let p=0;for(;p<h;){const D=l[p];if(fa(D))break;if(0===D)p+=2;else if("number"==typeof D)for(p++;p<h&&"string"==typeof l[p];)p++;else{if(D===r)return l[p+1];p+=2}}}return null}(Hr(),n)}const wr="__parameters__";function Xo(n,r,l){return Le(()=>{const h=function Ea(n){return function(...l){if(n){const h=n(...l);for(const p in h)this[p]=h[p]}}}(r);function p(...D){if(this instanceof p)return h.apply(this,D),this;const x=new p(...D);return V.annotation=x,V;function V(Y,de,Pe){const nt=Y.hasOwnProperty(wr)?Y[wr]:Object.defineProperty(Y,wr,{value:[]})[wr];for(;nt.length<=Pe;)nt.push(null);return(nt[Pe]=nt[Pe]||[]).push(x),Y}}return l&&(p.prototype=Object.create(l.prototype)),p.prototype.ngMetadataName=n,p.annotationCls=p,p})}class ji{constructor(r,l){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Fe({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function So(n,r){void 0===r&&(r=n);for(let l=0;l<n.length;l++){let h=n[l];Array.isArray(h)?(r===n&&(r=n.slice(0,l)),So(h,r)):r!==n&&r.push(h)}return r}function ho(n,r){n.forEach(l=>Array.isArray(l)?ho(l,r):r(l))}function ec(n,r,l){r>=n.length?n.push(l):n.splice(r,0,l)}function fo(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function qs(n,r){const l=[];for(let h=0;h<n;h++)l.push(r);return l}function I(n,r,l){let h=te(n,r);return h>=0?n[1|h]=l:(h=~h,function Rc(n,r,l,h){let p=n.length;if(p==r)n.push(l,h);else if(1===p)n.push(h,n[0]),n[0]=l;else{for(p--,n.push(n[p-1],n[p]);p>r;)n[p]=n[p-2],p--;n[r]=l,n[r+1]=h}}(n,h,r,l)),h}function H(n,r){const l=te(n,r);if(l>=0)return n[1|l]}function te(n,r){return function tt(n,r,l){let h=0,p=n.length>>l;for(;p!==h;){const D=h+(p-h>>1),x=n[D<<l];if(r===x)return D<<l;x>r?p=D:h=D+1}return~(p<<l)}(n,r,1)}const jr={},Nr="__NG_DI_FLAG__",Ns="ngTempTokenPath",Jr=/\n/gm,Ul="__source";let Z;function re(n){const r=Z;return Z=n,r}function Ae(n,r=mt.Default){if(void 0===Z)throw new lt(-203,!1);return null===Z?Ce(n,void 0,r):Z.get(n,r&mt.Optional?null:void 0,r)}function st(n,r=mt.Default){return(function he(){return ee}()||Ae)(be(n),r)}function an(n,r=mt.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),st(n,r)}function Mn(n){const r=[];for(let l=0;l<n.length;l++){const h=be(n[l]);if(Array.isArray(h)){if(0===h.length)throw new lt(900,!1);let p,D=mt.Default;for(let x=0;x<h.length;x++){const V=h[x],Y=gi(V);"number"==typeof Y?-1===Y?p=V.token:D|=Y:p=V}r.push(st(p,D))}else r.push(st(h))}return r}function jn(n,r){return n[Nr]=r,n.prototype[Nr]=r,n}function gi(n){return n[Nr]}const ms=jn(Xo("Optional"),8),Jo=jn(Xo("SkipSelf"),4);let Rd,al,Hl;function bh(n){Rd=n}function Dl(){return void 0!==Rd?Rd:typeof document<"u"?document:void 0}function hu(n){var r;return(null===(r=function lf(){if(void 0===al&&(al=null,Rn.trustedTypes))try{al=Rn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return al}())||void 0===r?void 0:r.createHTML(n))||n}function Qs(n){var r;return(null===(r=function Pc(){if(void 0===Hl&&(Hl=null,Rn.trustedTypes))try{Hl=Rn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Hl}())||void 0===r?void 0:r.createHTML(n))||n}class Ls{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ea extends Ls{getTypeName(){return"HTML"}}class Ku extends Ls{getTypeName(){return"Style"}}class fu extends Ls{getTypeName(){return"Script"}}class cf extends Ls{getTypeName(){return"URL"}}class pu extends Ls{getTypeName(){return"ResourceURL"}}function El(n){return n instanceof Ls?n.changingThisBreaksApplicationSecurity:n}function mu(n,r){const l=function uf(n){return n instanceof Ls&&n.getTypeName()||null}(n);if(null!=l&&l!==r){if("ResourceURL"===l&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===r}function cp(n){return new ea(n)}function up(n){return new Ku(n)}function df(n){return new fu(n)}function Zu(n){return new cf(n)}function Od(n){return new pu(n)}function wh(n){const r=new hf(n);return function gu(){try{return!!(new window.DOMParser).parseFromString(hu(""),"text/html")}catch{return!1}}()?new um(r):r}class um{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const l=(new window.DOMParser).parseFromString(hu(r),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(r):(l.removeChild(l.firstChild),l)}catch{return null}}}class hf{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const h=this.inertDocument.createElement("body");l.appendChild(h)}}getInertBodyElement(r){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=hu(r),l;const h=this.inertDocument.createElement("body");return h.innerHTML=hu(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(r){const l=r.attributes;for(let p=l.length-1;0<p;p--){const x=l.item(p).name;("xmlns:ns1"===x||0===x.indexOf("ns1:"))&&r.removeAttribute(x)}let h=r.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const _u=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function qu(n){return(n=String(n)).match(_u)?n:"unsafe:"+n}function $o(n){const r={};for(const l of n.split(","))r[l]=!0;return r}function Nc(...n){const r={};for(const l of n)for(const h in l)l.hasOwnProperty(h)&&(r[h]=!0);return r}const sc=$o("area,br,col,hr,img,wbr"),Qu=$o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Dh=$o("rp,rt"),os=Nc(sc,Nc(Qu,$o("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Nc(Dh,$o("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Nc(Dh,Qu)),Sl=$o("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xu=Nc(Sl,$o("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$o("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ju=$o("script,style,template");class hp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let l=r.firstChild,h=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?h=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,h&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let p=this.checkClobberedElement(l,l.nextSibling);if(p){l=p;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(r){const l=r.nodeName.toLowerCase();if(!os.hasOwnProperty(l))return this.sanitizedSomething=!0,!Ju.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const h=r.attributes;for(let p=0;p<h.length;p++){const D=h.item(p),x=D.name,V=x.toLowerCase();if(!Xu.hasOwnProperty(V)){this.sanitizedSomething=!0;continue}let Y=D.value;Sl[V]&&(Y=qu(Y)),this.buf.push(" ",x,'="',ll(Y),'"')}return this.buf.push(">"),!0}endElement(r){const l=r.nodeName.toLowerCase();os.hasOwnProperty(l)&&!sc.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(r){this.buf.push(ll(r))}checkClobberedElement(r,l){if(l&&(r.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return l}}const fp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Pd=/([^\#-~ |!])/g;function ll(n){return n.replace(/&/g,"&amp;").replace(fp,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Pd,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ya;function Ma(n,r){let l=null;try{ya=ya||wh(n);let h=r?String(r):"";l=ya.getInertBodyElement(h);let p=5,D=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=D,D=l.innerHTML,l=ya.getInertBodyElement(h)}while(h!==D);return hu((new hp).sanitizeChildren(Lc(l)||l))}finally{if(l){const h=Lc(l)||l;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Lc(n){return"content"in n&&function Bc(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ds=(()=>((ds=ds||{})[ds.NONE=0]="NONE",ds[ds.HTML=1]="HTML",ds[ds.STYLE=2]="STYLE",ds[ds.SCRIPT=3]="SCRIPT",ds[ds.URL=4]="URL",ds[ds.RESOURCE_URL=5]="RESOURCE_URL",ds))();function R(n){const r=mi();return r?Qs(r.sanitize(ds.HTML,n)||""):mu(n,"HTML")?Qs(El(n)):Ma(Dl(),ot(n))}function E(n){const r=mi();return r?r.sanitize(ds.URL,n)||"":mu(n,"URL")?El(n):qu(ot(n))}function mi(){const n=En();return n&&n[12]}const Dr=new ji("ENVIRONMENT_INITIALIZER"),Bs=new ji("INJECTOR",-1),Xs=new ji("INJECTOR_DEF_TYPES");class Js{get(r,l=jr){if(l===jr){const h=new Error(`NullInjectorError: No provider for ${fe(r)}!`);throw h.name="NullInjectorError",h}return l}}function $i(...n){return{\u0275providers:ed(0,n)}}function ed(n,...r){const l=[],h=new Set;let p;return ho(r,D=>{const x=D;Mo(x,l,[],h)&&(p||(p=[]),p.push(x))}),void 0!==p&&vu(p,l),l}function vu(n,r){for(let l=0;l<n.length;l++){const{providers:p}=n[l];ho(p,D=>{r.push(D)})}}function Mo(n,r,l,h){if(!(n=be(n)))return!1;let p=null,D=Vt(n);const x=!D&&K(n);if(D||x){if(x&&!x.standalone)return!1;p=n}else{const Y=n.ngModule;if(D=Vt(Y),!D)return!1;p=Y}const V=h.has(p);if(x){if(V)return!1;if(h.add(p),x.dependencies){const Y="function"==typeof x.dependencies?x.dependencies():x.dependencies;for(const de of Y)Mo(de,r,l,h)}}else{if(!D)return!1;{if(null!=D.imports&&!V){let de;h.add(p);try{ho(D.imports,Pe=>{Mo(Pe,r,l,h)&&(de||(de=[]),de.push(Pe))})}finally{}void 0!==de&&vu(de,r)}if(!V){const de=Oo(p)||(()=>new p);r.push({provide:p,useFactory:de,deps:kn},{provide:Xs,useValue:p,multi:!0},{provide:Dr,useValue:()=>st(p),multi:!0})}const Y=D.providers;null==Y||V||ho(Y,Pe=>{r.push(Pe)})}}return p!==n&&void 0!==n.providers}const Ga=J({provide:String,useValue:J});function yu(n){return null!==n&&"object"==typeof n&&Ga in n}function Tl(n){return"function"==typeof n}const Sh=new ji("Set Injector scope."),Th={},N_={};let dm;function td(){return void 0===dm&&(dm=new Js),dm}class Cu{}class Mh extends Cu{constructor(r,l,h,p){super(),this.parent=l,this.source=h,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Il(r,x=>this.processProvider(x)),this.records.set(Bs,Ia(void 0,this)),p.has("environment")&&this.records.set(Cu,Ia(void 0,this));const D=this.records.get(Sh);null!=D&&"string"==typeof D.value&&this.scopes.add(D.value),this.injectorDefTypes=new Set(this.get(Xs.multi,kn,mt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const l=re(this),h=le(void 0);try{return r()}finally{re(l),le(h)}}get(r,l=jr,h=mt.Default){this.assertNotDestroyed();const p=re(this),D=le(void 0);try{if(!(h&mt.SkipSelf)){let V=this.records.get(r);if(void 0===V){const Y=function Du(n){return"function"==typeof n||"object"==typeof n&&n instanceof ji}(r)&&Xt(r);V=Y&&this.injectableDefInScope(Y)?Ia(bs(r),Th):null,this.records.set(r,V)}if(null!=V)return this.hydrate(r,V)}return(h&mt.Self?td():this.parent).get(r,l=h&mt.Optional&&l===jr?null:l)}catch(x){if("NullInjectorError"===x.name){if((x[Ns]=x[Ns]||[]).unshift(fe(r)),p)throw x;return function Li(n,r,l,h){const p=n[Ns];throw r[Ul]&&p.unshift(r[Ul]),n.message=function Ri(n,r,l,h=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let p=fe(r);if(Array.isArray(r))p=r.map(fe).join(" -> ");else if("object"==typeof r){let D=[];for(let x in r)if(r.hasOwnProperty(x)){let V=r[x];D.push(x+":"+("string"==typeof V?JSON.stringify(V):fe(V)))}p=`{${D.join(", ")}}`}return`${l}${h?"("+h+")":""}[${p}]: ${n.replace(Jr,"\n  ")}`}("\n"+n.message,p,l,h),n.ngTokenPath=p,n[Ns]=null,n}(x,r,"R3InjectorError",this.source)}throw x}finally{le(D),re(p)}}resolveInjectorInitializers(){const r=re(this),l=le(void 0);try{const h=this.get(Dr.multi,kn,mt.Self);for(const p of h)p()}finally{re(r),le(l)}}toString(){const r=[],l=this.records;for(const h of l.keys())r.push(fe(h));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new lt(205,!1)}processProvider(r){let l=Tl(r=be(r))?r:be(r&&r.provide);const h=function hm(n){return yu(n)?Ia(void 0,n.useValue):Ia(Ml(n),Th)}(r);if(Tl(r)||!0!==r.multi)this.records.get(l);else{let p=this.records.get(l);p||(p=Ia(void 0,Th,!0),p.factory=()=>Mn(p.multi),this.records.set(l,p)),l=r,p.multi.push(r)}this.records.set(l,h)}hydrate(r,l){return l.value===Th&&(l.value=N_,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Nd(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(r){if(!r.providedIn)return!1;const l=be(r.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function bs(n){const r=Xt(n),l=null!==r?r.factory:Oo(n);if(null!==l)return l;if(n instanceof ji)throw new lt(204,!1);if(n instanceof Function)return function wu(n){const r=n.length;if(r>0)throw qs(r,"?"),new lt(204,!1);const l=function Kt(n){const r=n&&(n[Cn]||n[Hn]);if(r){const l=function Tt(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),r}return null}(n);return null!==l?()=>l.factory(n):()=>new n}(n);throw new lt(204,!1)}function Ml(n,r,l){let h;if(Tl(n)){const p=be(n);return Oo(p)||bs(p)}if(yu(n))h=()=>be(n.useValue);else if(function bu(n){return!(!n||!n.useFactory)}(n))h=()=>n.useFactory(...Mn(n.deps||[]));else if(function $l(n){return!(!n||!n.useExisting)}(n))h=()=>st(be(n.useExisting));else{const p=be(n&&(n.useClass||n.provide));if(!function pp(n){return!!n.deps}(n))return Oo(p)||bs(p);h=()=>new p(...Mn(n.deps))}return h}function Ia(n,r,l=!1){return{factory:n,value:r,multi:l?[]:void 0}}function mp(n){return!!n.\u0275providers}function Il(n,r){for(const l of n)Array.isArray(l)?Il(l,r):mp(l)?Il(l.\u0275providers,r):r(l)}class fm{}class gp{resolveComponentFactory(r){throw function wg(n){const r=Error(`No component factory found for ${fe(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Ld=(()=>{class n{}return n.NULL=new gp,n})();function _p(){return Eu(Hr(),En())}function Eu(n,r){return new pf(Ur(n,r))}let pf=(()=>{class n{constructor(l){this.nativeElement=l}}return n.__NG_ELEMENT_ID__=_p,n})();function mf(n){return n instanceof pf?n.nativeElement:n}class Ih{}let nd=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function id(){const n=En(),l=Ki(Hr().index,n);return(Or(l)?l:n)[11]}(),n})(),F_=(()=>{class n{}return n.\u0275prov=Fe({token:n,providedIn:"root",factory:()=>null}),n})();class mm{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const vp=new mm("14.2.8"),yp={};function Ah(n){return n.ngOriginalError}class oc{constructor(){this._console=console}handleError(r){const l=this._findOriginalError(r);this._console.error("ERROR",r),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(r){let l=r&&Ah(r);for(;l&&Ah(l);)l=Ah(l);return l||null}}const Ag=/^>|^->|<!--|-->|--!>|<!-$/g,kg=/(<|>)/;const Bd=new Map;let ym=0;const Gl="__ngContext__";function _o(n,r){Or(r)?(n[Gl]=r[20],function Tu(n){Bd.set(n[20],n)}(r)):n[Gl]=r}function lr(n){return n.ownerDocument.defaultView}function zs(n){return n instanceof Function?n():n}var ba=(()=>((ba=ba||{})[ba.Important=1]="Important",ba[ba.DashCase=2]="DashCase",ba))();let Hd;function Cf(n,r){return Hd(n,r)}function ac(n){const r=n[3];return Er(r)?r[3]:r}function Ws(n){return jd(n[13])}function od(n){return jd(n[4])}function jd(n){for(;null!==n&&!Er(n);)n=n[4];return n}function xl(n,r,l,h,p){if(null!=h){let D,x=!1;Er(h)?D=h:Or(h)&&(x=!0,h=h[0]);const V=pr(h);0===n&&null!==l?null==p?Wa(r,l,V):uc(r,l,V,p||null,!0):1===n&&null!==l?uc(r,l,V,p||null,!0):2===n?zd(r,V,x):3===n&&r.destroyNode(V),null!=D&&function cd(n,r,l,h,p){const D=l[7];D!==pr(l)&&xl(r,n,h,D,p);for(let V=10;V<l.length;V++){const Y=l[V];Ef(Y[1],Y,n,r,h,D)}}(r,n,D,l,p)}}function Ys(n,r){return n.createText(r)}function ku(n,r,l){n.setValue(r,l)}function na(n,r){return n.createComment(function _m(n){return n.replace(Ag,r=>r.replace(kg,"\u200b$1\u200b"))}(r))}function lc(n,r,l){return n.createElement(r,l)}function Wl(n,r){const l=n[9],h=l.indexOf(r),p=r[3];512&r[2]&&(r[2]&=-513,mr(p,-1)),l.splice(h,1)}function wf(n,r){if(n.length<=10)return;const l=10+r,h=n[l];if(h){const p=h[17];null!==p&&p!==n&&Wl(p,h),r>0&&(n[l-1][4]=h[4]);const D=fo(n,10+r);!function Ph(n,r){Ef(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(h[1],h);const x=D[19];null!==x&&x.detachView(D[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function Ep(n,r){if(!(128&r[2])){const l=r[11];l.destroyNode&&Ef(n,r,l,3,null,null),function zl(n){let r=n[13];if(!r)return cc(n[1],n);for(;r;){let l=null;if(Or(r))l=r[13];else{const h=r[10];h&&(l=h)}if(!l){for(;r&&!r[4]&&r!==n;)Or(r)&&cc(r[1],r),r=r[3];null===r&&(r=n),Or(r)&&cc(r[1],r),l=r&&r[4]}r=l}}(r)}}function cc(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function zc(n,r){let l;if(null!=n&&null!=(l=n.destroyHooks))for(let h=0;h<l.length;h+=2){const p=r[l[h]];if(!(p instanceof tr)){const D=l[h+1];if(Array.isArray(D))for(let x=0;x<D.length;x+=2){const V=p[D[x]],Y=D[x+1];try{Y.call(V)}finally{}}else try{D.call(p)}finally{}}}}(n,r),function Nh(n,r){const l=n.cleanup,h=r[7];let p=-1;if(null!==l)for(let D=0;D<l.length-1;D+=2)if("string"==typeof l[D]){const x=l[D+1],V="function"==typeof x?x(r):pr(r[x]),Y=h[p=l[D+2]],de=l[D+3];"boolean"==typeof de?V.removeEventListener(l[D],Y,de):de>=0?h[p=de]():h[p=-de].unsubscribe(),D+=2}else{const x=h[p=l[D+1]];l[D].call(x)}if(null!==h){for(let D=p+1;D<h.length;D++)(0,h[D])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const l=r[17];if(null!==l&&Er(r[3])){l!==r[3]&&Wl(l,r);const h=r[19];null!==h&&h.detachView(n)}!function bm(n){Bd.delete(n[20])}(r)}}function $r(n,r,l){return Df(n,r.parent,l)}function Df(n,r,l){let h=r;for(;null!==h&&40&h.type;)h=(r=h).parent;if(null===h)return l[0];if(2&h.flags){const p=n.data[h.directiveStart].encapsulation;if(p===ln.None||p===ln.Emulated)return null}return Ur(h,l)}function uc(n,r,l,h,p){n.insertBefore(r,l,h,p)}function Wa(n,r,l){n.appendChild(r,l)}function Wc(n,r,l,h,p){null!==h?uc(n,r,l,h,p):Wa(n,r,l)}function ld(n,r){return n.parentNode(r)}function Ng(n,r,l){return Sp(n,r,l)}function Fh(n,r,l){return 40&n.type?Ur(n,l):null}let Xi,Sp=Fh;function Tp(n,r){Sp=n,Xi=r}function $d(n,r,l,h){const p=$r(n,h,r),D=r[11],V=Ng(h.parent||r[6],h,r);if(null!=p)if(Array.isArray(l))for(let Y=0;Y<l.length;Y++)Wc(D,p,l[Y],V,!1);else Wc(D,p,l,V,!1);void 0!==Xi&&Xi(D,h,r,l,p)}function Gd(n,r){if(null!==r){const l=r.type;if(3&l)return Ur(r,n);if(4&l)return Yc(-1,n[r.index]);if(8&l){const h=r.child;if(null!==h)return Gd(n,h);{const p=n[r.index];return Er(p)?Yc(-1,p):pr(p)}}if(32&l)return Cf(r,n)()||pr(n[r.index]);{const h=dc(n,r);return null!==h?Array.isArray(h)?h[0]:Gd(ac(n[16]),h):Gd(n,r.next)}}return null}function dc(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Yc(n,r){const l=10+n+1;if(l<r.length){const h=r[l],p=h[1].firstChild;if(null!==p)return Gd(h,p)}return r[7]}function zd(n,r,l){const h=ld(n,r);h&&function ad(n,r,l,h){n.removeChild(r,l,h)}(n,h,r,l)}function hc(n,r,l,h,p,D,x){for(;null!=l;){const V=h[l.index],Y=l.type;if(x&&0===r&&(V&&_o(pr(V),h),l.flags|=4),64!=(64&l.flags))if(8&Y)hc(n,r,l.child,h,p,D,!1),xl(r,n,p,V,D);else if(32&Y){const de=Cf(l,h);let Pe;for(;Pe=de();)xl(r,n,p,Pe,D);xl(r,n,p,V,D)}else 16&Y?Ou(n,r,h,l,p,D):xl(r,n,p,V,D);l=x?l.projectionNext:l.next}}function Ef(n,r,l,h,p,D){hc(l,h,n.firstChild,r,p,D,!1)}function Ou(n,r,l,h,p,D){const x=l[16],Y=x[6].projection[h.projection];if(Array.isArray(Y))for(let de=0;de<Y.length;de++)xl(r,n,p,Y[de],D);else hc(n,r,Y,x[3],p,D,!0)}function Pu(n,r,l){n.setAttribute(r,"style",l)}function Kc(n,r,l){""===l?n.removeAttribute(r,"class"):n.setAttribute(r,"class",l)}function Sf(n,r,l){let h=n.length;for(;;){const p=n.indexOf(r,l);if(-1===p)return p;if(0===p||n.charCodeAt(p-1)<=32){const D=r.length;if(p+D===h||n.charCodeAt(p+D)<=32)return p}l=p+1}}const Wd="ng-template";function Tm(n,r,l){let h=0;for(;h<n.length;){let p=n[h++];if(l&&"class"===p){if(p=n[h],-1!==Sf(p.toLowerCase(),r,0))return!0}else if(1===p){for(;h<n.length&&"string"==typeof(p=n[h++]);)if(p.toLowerCase()===r)return!0;return!1}}return!1}function Yd(n){return 4===n.type&&n.value!==Wd}function Ip(n,r,l){return r===(4!==n.type||l?n.value:Wd)}function Mm(n,r,l){let h=4;const p=n.attrs||[],D=function Kd(n){for(let r=0;r<n.length;r++)if(fa(n[r]))return r;return n.length}(p);let x=!1;for(let V=0;V<r.length;V++){const Y=r[V];if("number"!=typeof Y){if(!x)if(4&h){if(h=2|1&h,""!==Y&&!Ip(n,Y,l)||""===Y&&1===r.length){if(ul(h))return!1;x=!0}}else{const de=8&h?Y:r[++V];if(8&h&&null!==n.attrs){if(!Tm(n.attrs,de,l)){if(ul(h))return!1;x=!0}continue}const nt=xp(8&h?"class":Y,p,Yd(n),l);if(-1===nt){if(ul(h))return!1;x=!0;continue}if(""!==de){let It;It=nt>D?"":p[nt+1].toLowerCase();const Qt=8&h?It:null;if(Qt&&-1!==Sf(Qt,de,0)||2&h&&de!==It){if(ul(h))return!1;x=!0}}}}else{if(!x&&!ul(h)&&!ul(Y))return!1;if(x&&ul(Y))continue;x=!1,h=Y|1&h}}return ul(h)||x}function ul(n){return 0==(1&n)}function xp(n,r,l,h){if(null===r)return-1;let p=0;if(h||!l){let D=!1;for(;p<r.length;){const x=r[p];if(x===n)return p;if(3===x||6===x)D=!0;else{if(1===x||2===x){let V=r[++p];for(;"string"==typeof V;)V=r[++p];continue}if(4===x)break;if(0===x){p+=4;continue}}p+=D?1:2}return-1}return function fc(n,r){let l=n.indexOf(4);if(l>-1)for(l++;l<n.length;){const h=n[l];if("number"==typeof h)return-1;if(h===r)return l;l++}return-1}(r,n)}function Tf(n,r,l=!1){for(let h=0;h<r.length;h++)if(Mm(n,r[h],l))return!0;return!1}function If(n,r){e:for(let l=0;l<r.length;l++){const h=r[l];if(n.length===h.length){for(let p=0;p<n.length;p++)if(n[p]!==h[p])continue e;return!0}}return!1}function Zd(n,r){return n?":not("+r.trim()+")":r}function Lh(n){let r=n[0],l=1,h=2,p="",D=!1;for(;l<n.length;){let x=n[l];if("string"==typeof x)if(2&h){const V=n[++l];p+="["+x+(V.length>0?'="'+V+'"':"")+"]"}else 8&h?p+="."+x:4&h&&(p+=" "+x);else""!==p&&!ul(x)&&(r+=Zd(D,p),p=""),h=x,D=D||!ul(h);l++}return""!==p&&(r+=Zd(D,p)),r}const Oi={};function qd(n){xf(Mi(),En(),ct()+n,!1)}function xf(n,r,l,h){if(!h)if(3==(3&r[2])){const D=n.preOrderCheckHooks;null!==D&&ur(r,D,l)}else{const D=n.preOrderHooks;null!==D&&Rs(r,D,0,l)}Zt(l)}function Xd(n,r=null,l=null,h){const p=w(n,r,l,h);return p.resolveInjectorInitializers(),p}function w(n,r=null,l=null,h,p=new Set){const D=[l||kn,$i(n)];return h=h||("object"==typeof n?void 0:fe(n)),new Mh(D,r||td(),h||null,p)}let T=(()=>{class n{static create(l,h){if(Array.isArray(l))return Xd({name:""},h,l,"");{var p;const D=null!==(p=l.name)&&void 0!==p?p:"";return Xd({name:D},l.parent,l.providers,D)}}}return n.THROW_IF_NOT_FOUND=jr,n.NULL=new Js,n.\u0275prov=Fe({token:n,providedIn:"any",factory:()=>st(Bs)}),n.__NG_ELEMENT_ID__=-1,n})();function Jd(n,r=mt.Default){const l=En();return null===l?st(n,r):ga(Hr(),l,be(n),r)}function V_(){throw new Error("invalid")}function Vh(n,r){return n<<17|r<<2}function kl(n){return n>>17&32767}function Fp(n){return 2|n}function fd(n){return(131068&n)>>2}function Bg(n,r){return-131069&n|r<<2}function Om(n){return 1|n}function Y_(n,r){const l=n.contentQueries;if(null!==l)for(let h=0;h<l.length;h+=2){const p=l[h],D=l[h+1];if(-1!==D){const x=n.data[D];Xa(p),x.contentQueries(2,r[D],D)}}}function Kl(n,r,l,h,p,D,x,V,Y,de,Pe){const nt=r.blueprint.slice();return nt[0]=p,nt[2]=76|h,(null!==Pe||n&&1024&n[2])&&(nt[2]|=1024),la(nt),nt[3]=nt[15]=n,nt[8]=l,nt[10]=x||n&&n[10],nt[11]=V||n&&n[11],nt[12]=Y||n&&n[12]||null,nt[9]=de||n&&n[9]||null,nt[6]=D,nt[20]=function wp(){return ym++}(),nt[21]=Pe,nt[16]=2==r.type?n[16]:nt,nt}function nh(n,r,l,h,p){let D=n.data[r];if(null===D)D=Uf(n,r,l,h,p),function Sc(){return pi.lFrame.inI18n}()&&(D.flags|=64);else if(64&D.type){D.type=l,D.value=h,D.attrs=p;const x=Q();D.injectorIndex=null===x?-1:x.injectorIndex}return $(D,!0),D}function Uf(n,r,l,h,p){const D=se(),x=ke(),Y=n.data[r]=function Zg(n,r,l,h,p,D){return{type:l,index:h,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:D,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,x?D:D&&D.parent,l,r,h,p);return null===n.firstChild&&(n.firstChild=Y),null!==D&&(x?null==D.child&&null!==Y.parent&&(D.child=Y):null===D.next&&(D.next=Y)),Y}function Rl(n,r,l,h){if(0===l)return-1;const p=r.length;for(let D=0;D<l;D++)r.push(h),n.blueprint.push(h),n.data.push(null);return p}function Hf(n,r,l){da(r);try{const h=n.viewQuery;null!==h&&Zm(1,h,l);const p=n.template;null!==p&&Z_(n,r,p,1,l),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Y_(n,r),n.staticViewQueries&&Zm(2,n.viewQuery,l);const D=n.components;null!==D&&function K_(n,r){for(let l=0;l<r.length;l++)rh(n,r[l])}(r,D)}catch(h){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),h}finally{r[2]&=-5,ye()}}function _d(n,r,l,h){const p=r[2];if(128!=(128&p)){da(r);try{la(r),function ua(n){return pi.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==l&&Z_(n,r,l,2,h);const x=3==(3&p);if(x){const de=n.preOrderCheckHooks;null!==de&&ur(r,de,null)}else{const de=n.preOrderHooks;null!==de&&Rs(r,de,0,null),ys(r,0)}if(function e_(n){for(let r=Ws(n);null!==r;r=od(r)){if(!r[2])continue;const l=r[9];for(let h=0;h<l.length;h++){const p=l[h],D=p[3];0==(512&p[2])&&mr(D,1),p[2]|=512}}}(r),function Ym(n){for(let r=Ws(n);null!==r;r=od(r))for(let l=10;l<r.length;l++){const h=r[l],p=h[1];ks(h)&&_d(p,h,p.template,h[8])}}(r),null!==n.contentQueries&&Y_(n,r),x){const de=n.contentCheckHooks;null!==de&&ur(r,de)}else{const de=n.contentHooks;null!==de&&Rs(r,de,1),ys(r,1)}!function Um(n,r){const l=n.hostBindingOpCodes;if(null!==l)try{for(let h=0;h<l.length;h++){const p=l[h];if(p<0)Zt(~p);else{const D=p,x=l[++h],V=l[++h];Ql(x,D),V(2,r[D])}}}finally{Zt(-1)}}(n,r);const V=n.components;null!==V&&function Wg(n,r){for(let l=0;l<r.length;l++)Qp(n,r[l])}(r,V);const Y=n.viewQuery;if(null!==Y&&Zm(2,Y,h),x){const de=n.viewCheckHooks;null!==de&&ur(r,de)}else{const de=n.viewHooks;null!==de&&Rs(r,de,2),ys(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,mr(r[3],-1))}finally{ye()}}}function Z_(n,r,l,h,p){const D=ct(),x=2&h;try{Zt(-1),x&&r.length>22&&xf(n,r,22,!1),l(h,p)}finally{Zt(D)}}function Hm(n,r,l){if(ko(r)){const p=r.directiveEnd;for(let D=r.directiveStart;D<p;D++){const x=n.data[D];x.contentQueries&&x.contentQueries(1,l[D],D)}}}function Yg(n,r,l){!$s()||(function $m(n,r,l,h){const p=l.directiveStart,D=l.directiveEnd;n.firstCreatePass||Uo(l,r),_o(h,r);const x=l.initialInputs;for(let V=p;V<D;V++){const Y=n.data[V],de=Yi(Y);de&&Zp(r,l,Y);const Pe=yl(r,n,V,l);_o(Pe,r),null!==x&&zm(0,V-p,Pe,Y,0,x),de&&(Ki(l.index,r)[8]=Pe)}}(n,r,l,Ur(l,r)),128==(128&l.flags)&&function Yp(n,r,l){const h=l.directiveStart,p=l.directiveEnd,D=l.index,x=function Va(){return pi.lFrame.currentDirectiveIndex}();try{Zt(D);for(let V=h;V<p;V++){const Y=n.data[V],de=r[V];Zo(V),(null!==Y.hostBindings||0!==Y.hostVars||null!==Y.hostAttrs)&&Gm(Y,de)}}finally{Zt(-1),Zo(x)}}(n,r,l))}function jf(n,r,l=Ur){const h=r.localNames;if(null!==h){let p=r.index+1;for(let D=0;D<h.length;D+=2){const x=h[D+1],V=-1===x?l(r,n):n[x];n[p++]=V}}}function jm(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=jp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function jp(n,r,l,h,p,D,x,V,Y,de){const Pe=22+h,nt=Pe+p,It=function Fu(n,r){const l=[];for(let h=0;h<r;h++)l.push(h<n?null:Oi);return l}(Pe,nt),Qt="function"==typeof de?de():de;return It[1]={type:n,blueprint:It,template:l,queries:null,viewQuery:V,declTNode:r,data:It.slice().fill(null,Pe),bindingStartIndex:Pe,expandoStartIndex:nt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof D?D():D,pipeRegistry:"function"==typeof x?x():x,firstChild:null,schemas:Y,consts:Qt,incompleteFirstPass:!1}}function Kg(n,r,l,h){const p=sh(r);null===l?p.push(h):(p.push(l),n.firstCreatePass&&t_(n).push(h,p.length-1))}function $p(n,r,l){for(let h in n)if(n.hasOwnProperty(h)){const p=n[h];(l=null===l?{}:l).hasOwnProperty(h)?l[h].push(r,p):l[h]=[r,p]}return l}function Gp(n,r){const h=r.directiveEnd,p=n.data,D=r.attrs,x=[];let V=null,Y=null;for(let de=r.directiveStart;de<h;de++){const Pe=p[de],nt=Pe.inputs,It=null===D||Yd(r)?null:Jg(nt,D);x.push(It),V=$p(nt,de,V),Y=$p(Pe.outputs,de,Y)}null!==V&&(V.hasOwnProperty("class")&&(r.flags|=16),V.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=x,r.inputs=V,r.outputs=Y}function Ra(n,r,l,h,p,D,x,V){const Y=Ur(r,l);let Pe,de=r.inputs;!V&&null!=de&&(Pe=de[h])?(Ol(n,l,Pe,h,p),as(r)&&zp(l,r.index)):3&r.type&&(h=function vd(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(h),p=null!=x?x(p,r.value||"",h):p,D.setProperty(Y,h,p))}function zp(n,r){const l=Ki(r,n);16&l[2]||(l[2]|=32)}function zf(n,r,l,h){let p=!1;if($s()){const D=function Kp(n,r,l){const h=n.directiveRegistry;let p=null;if(h)for(let D=0;D<h.length;D++){const x=h[D];Tf(l,x.selectors,!1)&&(p||(p=[]),Ar(Uo(l,r),n,x.type),Yi(x)?(Xg(n,l),p.unshift(x)):p.push(x))}return p}(n,r,l),x=null===h?null:{"":-1};if(null!==D){p=!0,X_(l,n.data.length,D.length);for(let Pe=0;Pe<D.length;Pe++){const nt=D[Pe];nt.providersResolver&&nt.providersResolver(nt)}let V=!1,Y=!1,de=Rl(n,r,D.length,null);for(let Pe=0;Pe<D.length;Pe++){const nt=D[Pe];l.mergedAttrs=el(l.mergedAttrs,nt.hostAttrs),J_(n,l,r,de,nt),Q_(de,nt,x),null!==nt.contentQueries&&(l.flags|=8),(null!==nt.hostBindings||null!==nt.hostAttrs||0!==nt.hostVars)&&(l.flags|=128);const It=nt.type.prototype;!V&&(It.ngOnChanges||It.ngOnInit||It.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(l.index),V=!0),!Y&&(It.ngOnChanges||It.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(l.index),Y=!0),de++}Gp(n,l)}x&&function jh(n,r,l){if(r){const h=n.localNames=[];for(let p=0;p<r.length;p+=2){const D=l[r[p+1]];if(null==D)throw new lt(-301,!1);h.push(r[p],D)}}}(l,h,x)}return l.mergedAttrs=el(l.mergedAttrs,l.attrs),p}function Qg(n,r,l,h,p,D){const x=D.hostBindings;if(x){let V=n.hostBindingOpCodes;null===V&&(V=n.hostBindingOpCodes=[]);const Y=~r.index;(function Hh(n){let r=n.length;for(;r>0;){const l=n[--r];if("number"==typeof l&&l<0)return l}return 0})(V)!=Y&&V.push(Y),V.push(h,p,x)}}function Gm(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Xg(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Q_(n,r,l){if(l){if(r.exportAs)for(let h=0;h<r.exportAs.length;h++)l[r.exportAs[h]]=n;Yi(r)&&(l[""]=n)}}function X_(n,r,l){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+l,n.providerIndexes=r}function J_(n,r,l,h,p){n.data[h]=p;const D=p.factory||(p.factory=Oo(p.type)),x=new tr(D,Yi(p),Jd);n.blueprint[h]=x,l[h]=x,Qg(n,r,0,h,Rl(n,l,p.hostVars,Oi),p)}function Zp(n,r,l){const h=Ur(r,n),p=jm(l),D=n[10],x=Wf(n,Kl(n,p,null,l.onPush?32:16,h,r,D,D.createRenderer(h,l),null,null,null));n[r.index]=x}function qp(n,r,l,h,p,D,x){if(null==D)n.removeAttribute(r,p,l);else{const V=null==x?ot(D):x(D,h||"",p);n.setAttribute(r,p,V,l)}}function zm(n,r,l,h,p,D){const x=D[r];if(null!==x){const V=h.setInput;for(let Y=0;Y<x.length;){const de=x[Y++],Pe=x[Y++],nt=x[Y++];null!==V?h.setInput(l,nt,de,Pe):l[Pe]=nt}}}function Jg(n,r){let l=null,h=0;for(;h<r.length;){const p=r[h];if(0!==p)if(5!==p){if("number"==typeof p)break;n.hasOwnProperty(p)&&(null===l&&(l=[]),l.push(p,n[p],r[h+1])),h+=2}else h+=2;else h+=4}return l}function Wm(n,r,l,h){return new Array(n,!0,!1,r,null,0,h,l,null,null)}function Qp(n,r){const l=Ki(r,n);if(ks(l)){const h=l[1];48&l[2]?_d(h,l,h.template,l[8]):l[5]>0&&ih(l)}}function ih(n){for(let h=Ws(n);null!==h;h=od(h))for(let p=10;p<h.length;p++){const D=h[p];if(ks(D))if(512&D[2]){const x=D[1];_d(x,D,x.template,D[8])}else D[5]>0&&ih(D)}const l=n[1].components;if(null!==l)for(let h=0;h<l.length;h++){const p=Ki(l[h],n);ks(p)&&p[5]>0&&ih(p)}}function rh(n,r){const l=Ki(r,n),h=l[1];(function Km(n,r){for(let l=r.length;l<n.blueprint.length;l++)r.push(n.blueprint[l])})(h,l),Hf(h,l,l[8])}function Wf(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Yf(n){for(;n;){n[2]|=32;const r=ac(n);if(yo(n)&&!r)return n;n=r}return null}function ir(n,r,l,h=!0){const p=r[10];p.begin&&p.begin();try{_d(n,r,n.template,l)}catch(x){throw h&&Oa(r,x),x}finally{p.end&&p.end()}}function Zm(n,r,l){Xa(0),r(n,l)}function sh(n){return n[7]||(n[7]=[])}function t_(n){return n.cleanup||(n.cleanup=[])}function ws(n,r,l){return(null===n||Yi(n))&&(l=function Qr(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(l[r.index])),l[11]}function Oa(n,r){const l=n[9],h=l?l.get(oc,null):null;h&&h.handleError(r)}function Ol(n,r,l,h,p){for(let D=0;D<l.length;){const x=l[D++],V=l[D++],Y=r[x],de=n.data[x];null!==de.setInput?de.setInput(Y,p,h,V):Y[V]=p}}function Zl(n,r,l){const h=xi(r,n);ku(n[11],h,l)}function Jp(n,r,l){let h=l?n.styles:null,p=l?n.classes:null,D=0;if(null!==r)for(let x=0;x<r.length;x++){const V=r[x];"number"==typeof V?D=V:1==D?p=Ie(p,V):2==D&&(h=Ie(h,V+": "+r[++x]+";"))}l?n.styles=h:n.stylesWithoutHost=h,l?n.classes=p:n.classesWithoutHost=p}function $h(n,r,l,h,p=!1){for(;null!==l;){const D=r[l.index];if(null!==D&&h.push(pr(D)),Er(D))for(let V=10;V<D.length;V++){const Y=D[V],de=Y[1].firstChild;null!==de&&$h(Y[1],Y,de,h)}const x=l.type;if(8&x)$h(n,r,l.child,h);else if(32&x){const V=Cf(l,r);let Y;for(;Y=V();)h.push(Y)}else if(16&x){const V=dc(r,l);if(Array.isArray(V))h.push(...V);else{const Y=ac(r[16]);$h(Y[1],Y,V,h,!0)}}l=p?l.projectionNext:l.next}return h}class Lu{constructor(r,l){this._lView=r,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,l=r[1];return $h(l,r,l.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Er(r)){const l=r[8],h=l?l.indexOf(this):-1;h>-1&&(wf(r,h),fo(l,h))}this._attachedToViewContainer=!1}Ep(this._lView[1],this._lView)}onDestroy(r){Kg(this._lView[1],this._lView,null,r)}markForCheck(){Yf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ir(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new lt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Pg(n,r){Ef(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new lt(902,!1);this._appRef=r}}class gc extends Lu{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;ir(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class oh extends Ld{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const l=K(r);return new yd(l,this.ngModule)}}function em(n){const r=[];for(let l in n)n.hasOwnProperty(l)&&r.push({propName:n[l],templateName:l});return r}class nv{constructor(r,l){this.injector=r,this.parentInjector=l}get(r,l,h){const p=this.injector.get(r,yp,h);return p!==yp||l===yp?p:this.parentInjector.get(r,l,h)}}class yd extends fm{constructor(r,l){super(),this.componentDef=r,this.ngModule=l,this.componentType=r.type,this.selector=function Im(n){return n.map(Lh).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return em(this.componentDef.inputs)}get outputs(){return em(this.componentDef.outputs)}create(r,l,h,p){var D;let x=(p=p||this.ngModule)instanceof Cu?p:null===(D=p)||void 0===D?void 0:D.injector;x&&null!==this.componentDef.getStandaloneInjector&&(x=this.componentDef.getStandaloneInjector(x)||x);const V=x?new nv(r,x):r,Y=V.get(Ih,null);if(null===Y)throw new lt(407,!1);const de=V.get(F_,null),Pe=Y.createRenderer(null,this.componentDef),nt=this.componentDef.selectors[0][0]||"div",It=h?function Gf(n,r,l){return n.selectRootElement(r,l===ln.ShadowDom)}(Pe,h,this.componentDef.encapsulation):lc(Y.createRenderer(null,this.componentDef),nt,function tv(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(nt)),Qt=this.componentDef.onPush?288:272,In=jp(0,null,null,1,0,null,null,null,null,null),Yn=Kl(null,In,null,Qt,null,null,Y,Pe,de,V,null);let li,_i;da(Yn);try{const Gi=function iv(n,r,l,h,p,D){const x=l[1];l[22]=n;const Y=nh(x,22,2,"#host",null),de=Y.mergedAttrs=r.hostAttrs;null!==de&&(Jp(Y,de,!0),null!==n&&(Bl(p,n,de),null!==Y.classes&&Kc(p,n,Y.classes),null!==Y.styles&&Pu(p,n,Y.styles)));const Pe=h.createRenderer(n,r),nt=Kl(l,jm(r),null,r.onPush?32:16,l[22],Y,h,Pe,D||null,null,null);return x.firstCreatePass&&(Ar(Uo(Y,l),x,r.type),Xg(x,Y),X_(Y,l.length,1)),Wf(l,nt),l[22]=nt}(It,this.componentDef,Yn,Y,Pe);if(It)if(h)Bl(Pe,It,["ng-version",vp.full]);else{const{attrs:Bn,classes:Pi}=function Bh(n){const r=[],l=[];let h=1,p=2;for(;h<n.length;){let D=n[h];if("string"==typeof D)2===p?""!==D&&r.push(D,n[++h]):8===p&&l.push(D);else{if(!ul(p))break;p=D}h++}return{attrs:r,classes:l}}(this.componentDef.selectors[0]);Bn&&Bl(Pe,It,Bn),Pi&&Pi.length>0&&Kc(Pe,It,Pi.join(" "))}if(_i=vs(In,22),void 0!==l){const Bn=_i.projection=[];for(let Pi=0;Pi<this.ngContentSelectors.length;Pi++){const Lr=l[Pi];Bn.push(null!=Lr?Array.from(Lr):null)}}li=function Kf(n,r,l,h){const p=l[1],D=function q_(n,r,l){const h=Hr();n.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),J_(n,h,r,Rl(n,r,1,null),l),Gp(n,h));const p=yl(r,n,h.directiveStart,h);_o(p,r);const D=Ur(h,r);return D&&_o(D,r),p}(p,l,r);if(n[8]=l[8]=D,null!==h)for(const V of h)V(D,r);if(r.contentQueries){const V=Hr();r.contentQueries(1,D,V.directiveStart)}const x=Hr();return!p.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Zt(x.index),Qg(l[1],x,0,x.directiveStart,x.directiveEnd,r),Gm(r,D)),D}(Gi,this.componentDef,Yn,[n_]),Hf(In,Yn,null)}finally{ye()}return new _c(this.componentType,li,Eu(_i,Yn),Yn,_i)}}class _c extends class ff{}{constructor(r,l,h,p,D){super(),this.location=h,this._rootLView=p,this._tNode=D,this.instance=l,this.hostView=this.changeDetectorRef=new gc(p),this.componentType=r}setInput(r,l){const h=this._tNode.inputs;let p;if(null!==h&&(p=h[r])){const D=this._rootLView;Ol(D[1],D,p,r,l),zp(D,this._tNode.index)}}get injector(){return new Si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function n_(){const n=Hr();Ze(En()[1],n)}function Zf(n){let r=function Ya(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),l=!0;const h=[n];for(;r;){let p;if(Yi(n))p=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new lt(903,!1);p=r.\u0275dir}if(p){if(l){h.push(p);const x=n;x.inputs=Gh(n.inputs),x.declaredInputs=Gh(n.declaredInputs),x.outputs=Gh(n.outputs);const V=p.hostBindings;V&&qm(n,V);const Y=p.viewQuery,de=p.contentQueries;if(Y&&r_(n,Y),de&&rv(n,de),De(n.inputs,p.inputs),De(n.declaredInputs,p.declaredInputs),De(n.outputs,p.outputs),Yi(p)&&p.data.animation){const Pe=n.data;Pe.animation=(Pe.animation||[]).concat(p.data.animation)}}const D=p.features;if(D)for(let x=0;x<D.length;x++){const V=D[x];V&&V.ngInherit&&V(n),V===Zf&&(l=!1)}}r=Object.getPrototypeOf(r)}!function i_(n){let r=0,l=null;for(let h=n.length-1;h>=0;h--){const p=n[h];p.hostVars=r+=p.hostVars,p.hostAttrs=el(p.hostAttrs,l=el(l,p.hostAttrs))}}(h)}function Gh(n){return n===ri?{}:n===kn?[]:n}function r_(n,r){const l=n.viewQuery;n.viewQuery=l?(h,p)=>{r(h,p),l(h,p)}:r}function rv(n,r){const l=n.contentQueries;n.contentQueries=l?(h,p,D)=>{r(h,p,D),l(h,p,D)}:r}function qm(n,r){const l=n.hostBindings;n.hostBindings=l?(h,p)=>{r(h,p),l(h,p)}:r}let Bu=null;function bd(){if(!Bu){const n=Rn.Symbol;if(n&&n.iterator)Bu=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<r.length;++l){const h=r[l];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Bu=h)}}}return Bu}function ah(n){return!!o_(n)&&(Array.isArray(n)||!(n instanceof Map)&&bd()in n)}function o_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ka(n,r,l){return!Object.is(n[r],l)&&(n[r]=l,!0)}function Jm(n,r,l,h){const p=En();return Ka(p,er(),r)&&(Mi(),function mc(n,r,l,h,p,D){const x=Ur(n,r);qp(r[11],x,D,n.value,l,h,p)}(un(),p,n,r,l,h)),Jm}function vc(n,r,l,h,p,D){const V=function Wh(n,r,l,h){const p=Ka(n,r,l);return Ka(n,r+1,h)||p}(n,rs(),l,p);return ao(2),V?r+ot(l)+h+ot(p)+D:Oi}function ep(n,r,l,h,p,D,x,V){const Y=En(),de=Mi(),Pe=n+22,nt=de.firstCreatePass?function lh(n,r,l,h,p,D,x,V,Y){const de=r.consts,Pe=nh(r,n,4,x||null,Zs(de,V));zf(r,l,Pe,Zs(de,Y)),Ze(r,Pe);const nt=Pe.tViews=jp(2,Pe,h,p,D,r.directiveRegistry,r.pipeRegistry,null,r.schemas,de);return null!==r.queries&&(r.queries.template(r,Pe),nt.queries=r.queries.embeddedTView(Pe)),Pe}(Pe,de,Y,r,l,h,p,D,x):de.data[Pe];$(nt,!1);const It=Y[11].createComment("");$d(de,Y,It,nt),_o(It,Y),Wf(Y,Y[Pe]=Wm(It,Y,It,nt)),gs(nt)&&Yg(de,Y,nt),null!=x&&jf(Y,nt,V)}function h_(n){return aa(function Cr(){return pi.lFrame.contextLView}(),22+n)}function Pa(n,r,l){const h=En();return Ka(h,er(),r)&&Ra(Mi(),un(),h,n,r,h[11],l,!1),Pa}function Yh(n,r,l,h,p){const x=p?"class":"style";Ol(n,l,r.inputs[x],x,h)}function Kh(n,r,l,h){const p=En(),D=Mi(),x=22+n,V=p[11],Y=p[x]=lc(V,r,function Fi(){return pi.lFrame.currentNamespace}()),de=D.firstCreatePass?function Xc(n,r,l,h,p,D,x){const V=r.consts,de=nh(r,n,2,p,Zs(V,D));return zf(r,l,de,Zs(V,x)),null!==de.attrs&&Jp(de,de.attrs,!1),null!==de.mergedAttrs&&Jp(de,de.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,de),de}(x,D,p,0,r,l,h):D.data[x];$(de,!0);const Pe=de.mergedAttrs;null!==Pe&&Bl(V,Y,Pe);const nt=de.classes;null!==nt&&Kc(V,Y,nt);const It=de.styles;return null!==It&&Pu(V,Y,It),64!=(64&de.flags)&&$d(D,p,Y,de),0===function ps(){return pi.lFrame.elementDepthCount}()&&_o(Y,p),function pl(){pi.lFrame.elementDepthCount++}(),gs(de)&&(Yg(D,p,de),Hm(D,de,p)),null!==h&&jf(p,de),Kh}function Io(){let n=Hr();ke()?en():(n=n.parent,$(n,!1));const r=n;!function ca(){pi.lFrame.elementDepthCount--}();const l=Mi();return l.firstCreatePass&&(Ze(l,n),ko(n)&&l.queries.elementEnd(n)),null!=r.classesWithoutHost&&function $u(n){return 0!=(16&n.flags)}(r)&&Yh(l,r,En(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Md(n){return 0!=(32&n.flags)}(r)&&Yh(l,r,En(),r.stylesWithoutHost,!1),Io}function Cc(n,r,l,h){return Kh(n,r,l,h),Io(),Cc}function np(n,r,l){const h=En(),p=Mi(),D=n+22,x=p.firstCreatePass?function tp(n,r,l,h,p){const D=r.consts,x=Zs(D,h),V=nh(r,n,8,"ng-container",x);return null!==x&&Jp(V,x,!0),zf(r,l,V,Zs(D,p)),null!==r.queries&&r.queries.elementStart(r,V),V}(D,p,h,r,l):p.data[D];$(x,!0);const V=h[D]=h[11].createComment("");return $d(p,h,V,x),_o(V,h),gs(x)&&(Yg(p,h,x),Hm(p,x,h)),null!=l&&jf(h,x),np}function wc(){let n=Hr();const r=Mi();return ke()?en():(n=n.parent,$(n,!1)),r.firstCreatePass&&(Ze(r,n),ko(n)&&r.queries.elementEnd(n)),wc}function av(n,r,l){return np(n,r,l),wc(),av}function lv(){return En()}function f_(n){return!!n&&"function"==typeof n.then}function ip(n){return!!n&&"function"==typeof n.subscribe}const ig=ip;function rg(n,r,l,h){const p=En(),D=Mi(),x=Hr();return Zh(D,p,p[11],x,n,r,0,h),rg}function Dd(n,r){const l=Hr(),h=En(),p=Mi();return Zh(p,h,ws(Ua(p.data),l,h),l,n,r),Dd}function Zh(n,r,l,h,p,D,x,V){const Y=gs(h),Pe=n.firstCreatePass&&t_(n),nt=r[8],It=sh(r);let Qt=!0;if(3&h.type||V){const li=Ur(h,r),_i=V?V(li):li,Gi=It.length,Bn=V?Lr=>V(pr(Lr[h.index])):h.index;let Pi=null;if(!V&&Y&&(Pi=function cv(n,r,l,h){const p=n.cleanup;if(null!=p)for(let D=0;D<p.length-1;D+=2){const x=p[D];if(x===l&&p[D+1]===h){const V=r[7],Y=p[D+2];return V.length>Y?V[Y]:null}"string"==typeof x&&(D+=2)}return null}(n,r,p,h.index)),null!==Pi)(Pi.__ngLastListenerFn__||Pi).__ngNextListenerFn__=D,Pi.__ngLastListenerFn__=D,Qt=!1;else{D=ch(h,r,nt,D,!1);const Lr=l.listen(_i,p,D);It.push(D,Lr),Pe&&Pe.push(p,Bn,Gi,Gi+1)}}else D=ch(h,r,nt,D,!1);const In=h.outputs;let Yn;if(Qt&&null!==In&&(Yn=In[p])){const li=Yn.length;if(li)for(let _i=0;_i<li;_i+=2){const Wo=r[Yn[_i]][Yn[_i+1]].subscribe(D),P_=It.length;It.push(D,Wo),Pe&&Pe.push(p,h.index,P_,-(P_+1))}}}function qh(n,r,l,h){try{return!1!==l(h)}catch(p){return Oa(n,p),!1}}function ch(n,r,l,h,p){return function D(x){if(x===Function)return h;Yf(2&n.flags?Ki(n.index,r):r);let Y=qh(r,0,h,x),de=D.__ngNextListenerFn__;for(;de;)Y=qh(r,0,de,x)&&Y,de=de.__ngNextListenerFn__;return p&&!1===Y&&(x.preventDefault(),x.returnValue=!1),Y}}function sg(n=1){return function q(n){return(pi.lFrame.contextLView=function xe(n,r){for(;n>0;)r=r[15],n--;return r}(n,pi.lFrame.contextLView))[8]}(n)}function nm(n,r){let l=null;const h=function Mf(n){const r=n.attrs;if(null!=r){const l=r.indexOf(5);if(0==(1&l))return r[l+1]}return null}(n);for(let p=0;p<r.length;p++){const D=r[p];if("*"!==D){if(null===h?Tf(n,D,!0):If(h,D))return p}else l=p}return l}function rp(n){const r=En()[16][6];if(!r.projection){const h=r.projection=qs(n?n.length:1,null),p=h.slice();let D=r.child;for(;null!==D;){const x=n?nm(D,n):0;null!==x&&(p[x]?p[x].projectionNext=D:h[x]=D,p[x]=D),D=D.next}}}function og(n,r=0,l){const h=En(),p=Mi(),D=nh(p,22+n,16,null,l||null);null===D.projection&&(D.projection=r),en(),64!=(64&D.flags)&&function Sm(n,r,l){Ou(r[11],0,r,l,$r(n,l,r),Ng(l.parent||r[6],l,r))}(p,h,D)}function m_(n,r,l,h,p){const D=n[l+1],x=null===r;let V=h?kl(D):fd(D),Y=!1;for(;0!==V&&(!1===Y||x);){const Pe=n[V+1];$v(n[V],r)&&(Y=!0,n[V+1]=h?Om(Pe):Fp(Pe)),V=h?kl(Pe):fd(Pe)}Y&&(n[l+1]=h?Fp(D):Om(D))}function $v(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&te(n,r)>=0}const ra={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function g_(n){return n.substring(ra.key,ra.keyEnd)}function __(n,r){const l=ra.textEnd;return l===r?-1:(r=ra.keyEnd=function cg(n,r,l){for(;r<l&&n.charCodeAt(r)>32;)r++;return r}(n,ra.key=r,l),uh(n,r,l))}function uh(n,r,l){for(;r<l&&n.charCodeAt(r)<=32;)r++;return r}function ug(n,r,l){return nu(n,r,l,!1),ug}function dg(n,r){return nu(n,r,null,!0),dg}function pv(n){!function iu(n,r,l,h){const p=Mi(),D=ao(2);p.firstUpdatePass&&hg(p,null,D,h);const x=En();if(l!==Oi&&Ka(x,D,l)){const V=p.data[ct()];if(vv(V,h)&&!Wv(p,D)){let Y=h?V.classesWithoutHost:V.stylesWithoutHost;null!==Y&&(l=Ie(Y,l||"")),Yh(p,V,x,l,h)}else!function my(n,r,l,h,p,D,x,V){p===Oi&&(p=kn);let Y=0,de=0,Pe=0<p.length?p[0]:null,nt=0<D.length?D[0]:null;for(;null!==Pe||null!==nt;){const It=Y<p.length?p[Y+1]:void 0,Qt=de<D.length?D[de+1]:void 0;let Yn,In=null;Pe===nt?(Y+=2,de+=2,It!==Qt&&(In=nt,Yn=Qt)):null===nt||null!==Pe&&Pe<nt?(Y+=2,In=Pe):(de+=2,In=nt,Yn=Qt),null!==In&&qv(n,r,l,h,In,Yn,x,V),Pe=Y<p.length?p[Y]:null,nt=de<D.length?D[de]:null}}(p,V,x,x[11],x[D+1],x[D+1]=function C_(n,r,l){if(null==l||""===l)return kn;const h=[],p=El(l);if(Array.isArray(p))for(let D=0;D<p.length;D++)n(h,p[D],!0);else if("object"==typeof p)for(const D in p)p.hasOwnProperty(D)&&n(h,D,p[D]);else"string"==typeof p&&r(h,p);return h}(n,r,l),h,D)}}(I,tu,n,!0)}function tu(n,r){for(let l=function zv(n){return function y_(n){ra.key=0,ra.keyEnd=0,ra.value=0,ra.valueEnd=0,ra.textEnd=n.length}(n),__(n,uh(n,0,ra.textEnd))}(r);l>=0;l=__(r,l))I(n,g_(r),!0)}function nu(n,r,l,h){const p=En(),D=Mi(),x=ao(2);D.firstUpdatePass&&hg(D,n,x,h),r!==Oi&&Ka(p,x,r)&&qv(D,D.data[ct()],p,p[11],n,p[x+1]=function Qv(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=fe(El(n)))),n}(r,l),h,x)}function Wv(n,r){return r>=n.expandoStartIndex}function hg(n,r,l,h){const p=n.data;if(null===p[l+1]){const D=p[ct()],x=Wv(n,l);vv(D,h)&&null===r&&!x&&(r=!1),r=function mv(n,r,l,h){const p=Ua(n);let D=h?r.residualClasses:r.residualStyles;if(null===p)0===(h?r.classBindings:r.styleBindings)&&(l=ju(l=b_(null,n,r,l,h),r.attrs,h),D=null);else{const x=r.directiveStylingLast;if(-1===x||n[x]!==p)if(l=b_(p,n,r,l,h),null===D){let Y=function Yv(n,r,l){const h=l?r.classBindings:r.styleBindings;if(0!==fd(h))return n[kl(h)]}(n,r,h);void 0!==Y&&Array.isArray(Y)&&(Y=b_(null,n,r,Y[1],h),Y=ju(Y,r.attrs,h),function Kv(n,r,l,h){n[kl(l?r.classBindings:r.styleBindings)]=h}(n,r,h,Y))}else D=function gv(n,r,l){let h;const p=r.directiveEnd;for(let D=1+r.directiveStylingLast;D<p;D++)h=ju(h,n[D].hostAttrs,l);return ju(h,r.attrs,l)}(n,r,h)}return void 0!==D&&(h?r.residualClasses=D:r.residualStyles=D),l}(p,D,r,h),function Hv(n,r,l,h,p,D){let x=D?r.classBindings:r.styleBindings,V=kl(x),Y=fd(x);n[h]=l;let Pe,de=!1;if(Array.isArray(l)){const nt=l;Pe=nt[1],(null===Pe||te(nt,Pe)>0)&&(de=!0)}else Pe=l;if(p)if(0!==Y){const It=kl(n[V+1]);n[h+1]=Vh(It,V),0!==It&&(n[It+1]=Bg(n[It+1],h)),n[V+1]=function Of(n,r){return 131071&n|r<<17}(n[V+1],h)}else n[h+1]=Vh(V,0),0!==V&&(n[V+1]=Bg(n[V+1],h)),V=h;else n[h+1]=Vh(Y,0),0===V?V=h:n[Y+1]=Bg(n[Y+1],h),Y=h;de&&(n[h+1]=Fp(n[h+1])),m_(n,Pe,h,!0),m_(n,Pe,h,!1),function jv(n,r,l,h,p){const D=p?n.residualClasses:n.residualStyles;null!=D&&"string"==typeof r&&te(D,r)>=0&&(l[h+1]=Om(l[h+1]))}(r,Pe,n,h,D),x=Vh(V,Y),D?r.classBindings=x:r.styleBindings=x}(p,D,r,l,x,h)}}function b_(n,r,l,h,p){let D=null;const x=l.directiveEnd;let V=l.directiveStylingLast;for(-1===V?V=l.directiveStart:V++;V<x&&(D=r[V],h=ju(h,D.hostAttrs,p),D!==n);)V++;return null!==n&&(l.directiveStylingLast=V),h}function ju(n,r,l){const h=l?1:2;let p=-1;if(null!==r)for(let D=0;D<r.length;D++){const x=r[D];"number"==typeof x?p=x:p===h&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),I(n,x,!!l||r[++D]))}return void 0===n?null:n}function qv(n,r,l,h,p,D,x,V){if(!(3&r.type))return;const Y=n.data,de=Y[V+1];ru(function Vg(n){return 1==(1&n)}(de)?_v(Y,r,l,p,fd(de),x):void 0)||(ru(D)||function Rm(n){return 2==(2&n)}(de)&&(D=_v(Y,null,l,p,V,x)),function Yl(n,r,l,h,p){if(r)p?n.addClass(l,h):n.removeClass(l,h);else{let D=-1===h.indexOf("-")?void 0:ba.DashCase;null==p?n.removeStyle(l,h,D):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),D|=ba.Important),n.setStyle(l,h,p,D))}}(h,x,xi(ct(),l),p,D))}function _v(n,r,l,h,p,D){const x=null===r;let V;for(;p>0;){const Y=n[p],de=Array.isArray(Y),Pe=de?Y[1]:Y,nt=null===Pe;let It=l[p+1];It===Oi&&(It=nt?kn:void 0);let Qt=nt?H(It,h):Pe===h?It:void 0;if(de&&!ru(Qt)&&(Qt=H(Y,h)),ru(Qt)&&(V=Qt,x))return V;const In=n[p+1];p=x?kl(In):fd(In)}if(null!==r){let Y=D?r.residualClasses:r.residualStyles;null!=Y&&(V=H(Y,h))}return V}function ru(n){return void 0!==n}function vv(n,r){return 0!=(n.flags&(r?16:32))}function w_(n,r=""){const l=En(),h=Mi(),p=n+22,D=h.firstCreatePass?nh(h,p,1,r,null):h.data[p],x=l[p]=Ys(l[11],r);$d(h,l,x,D),$(D,!1)}function D_(n){return fg("",n,""),D_}function fg(n,r,l){const h=En(),p=function Uu(n,r,l,h){return Ka(n,er(),l)?r+ot(l)+h:Oi}(h,n,r,l);return p!==Oi&&Zl(h,ct(),p),fg}function E_(n,r,l,h,p){const D=En(),x=vc(D,n,r,l,h,p);return x!==Oi&&Zl(D,ct(),x),E_}function k_(n,r,l){const h=En();return Ka(h,er(),r)&&Ra(Mi(),un(),h,n,r,h[11],l,!0),k_}function su(n,r,l){const h=En();if(Ka(h,er(),r)){const D=Mi(),x=un();Ra(D,x,h,n,r,ws(Ua(D.data),x,h),l,!0)}return su}const mh=void 0;var Xv=["en",[["a","p"],["AM","PM"],mh],[["AM","PM"],mh,mh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mh,"{1} 'at' {0}",mh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Iv(n){const l=Math.floor(Math.abs(n)),h=n.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===h?1:5}];let nf={};function lm(n){const r=function g(n){return n.toLowerCase().replace(/_/g,"-")}(n);let l=i(r);if(l)return l;const h=r.split("-")[0];if(l=i(h),l)return l;if("en"===h)return Xv;throw new lt(701,!1)}function u(n){return lm(n)[d.PluralCase]}function i(n){return n in nf||(nf[n]=Rn.ng&&Rn.ng.common&&Rn.ng.common.locales&&Rn.ng.common.locales[n]),nf[n]}var d=(()=>((d=d||{})[d.LocaleId=0]="LocaleId",d[d.DayPeriodsFormat=1]="DayPeriodsFormat",d[d.DayPeriodsStandalone=2]="DayPeriodsStandalone",d[d.DaysFormat=3]="DaysFormat",d[d.DaysStandalone=4]="DaysStandalone",d[d.MonthsFormat=5]="MonthsFormat",d[d.MonthsStandalone=6]="MonthsStandalone",d[d.Eras=7]="Eras",d[d.FirstDayOfWeek=8]="FirstDayOfWeek",d[d.WeekendRange=9]="WeekendRange",d[d.DateFormat=10]="DateFormat",d[d.TimeFormat=11]="TimeFormat",d[d.DateTimeFormat=12]="DateTimeFormat",d[d.NumberSymbols=13]="NumberSymbols",d[d.NumberFormats=14]="NumberFormats",d[d.CurrencyCode=15]="CurrencyCode",d[d.CurrencySymbol=16]="CurrencySymbol",d[d.CurrencyName=17]="CurrencyName",d[d.Currencies=18]="Currencies",d[d.Directionality=19]="Directionality",d[d.PluralCase=20]="PluralCase",d[d.ExtraData=21]="ExtraData",d))();const S=["zero","one","two","few","many"],z="en-US",Me={marker:"element"},gt={marker:"ICU"};var bt=(()=>((bt=bt||{})[bt.SHIFT=2]="SHIFT",bt[bt.APPEND_EAGERLY=1]="APPEND_EAGERLY",bt[bt.COMMENT=2]="COMMENT",bt))();let pn=z;function bn(n){(function Ln(n,r){null==n&&tn(r,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(pn=n.toLowerCase().replace(/_/g,"-"))}function e(n,r,l){const h=r.insertBeforeIndex,p=Array.isArray(h)?h[0]:h;return null===p?Fh(n,0,l):pr(l[p])}function t(n,r,l,h,p){const D=r.insertBeforeIndex;if(Array.isArray(D)){let x=h,V=null;if(3&r.type||(V=x,x=p),null!==x&&0==(2&r.flags))for(let Y=1;Y<D.length;Y++)uc(n,x,l[D[Y]],V,!1)}}function a(n,r){if(n.push(r),n.length>1)for(let l=n.length-2;l>=0;l--){const h=n[l];f(h)||y(h,r)&&null===M(h)&&U(h,r.index)}}function f(n){return!(64&n.type)}function y(n,r){return f(r)||n.index>r.index}function M(n){const r=n.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function U(n,r){const l=n.insertBeforeIndex;Array.isArray(l)?l[0]=r:(Tp(e,t),n.insertBeforeIndex=r)}function oe(n,r){const l=n.data[r];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function yt(n,r,l){const h=Uf(n,l,64,null,null);return a(r,h),h}function Yt(n,r){const l=r[n.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function vn(n){return n>>>17}function Dn(n){return(131070&n)>>>1}let Un=0,Jn=0;function rr(n,r,l,h){const p=l[11];let x,D=null;for(let V=0;V<r.length;V++){const Y=r[V];if("string"==typeof Y){const de=r[++V];null===l[de]&&(l[de]=Ys(p,Y))}else if("number"==typeof Y)switch(1&Y){case 0:const de=vn(Y);let Pe,nt;if(null===D&&(D=de,x=ld(p,h)),de===D?(Pe=h,nt=x):(Pe=null,nt=pr(l[de])),null!==nt){const Yn=Dn(Y);uc(p,nt,l[Yn],Pe,!1);const _i=oe(n,Yn);if(null!==_i&&"object"==typeof _i){const Gi=Yt(_i,l);null!==Gi&&rr(n,_i.create[Gi],l,l[_i.anchorIdx])}}break;case 1:const Qt=r[++V],In=r[++V];qp(p,xi(Y>>>1,l),null,null,Qt,In,null)}else switch(Y){case gt:const de=r[++V],Pe=r[++V];null===l[Pe]&&_o(l[Pe]=na(p,de),l);break;case Me:const nt=r[++V],It=r[++V];null===l[It]&&_o(l[It]=lc(p,nt,null),l)}}}function Gr(n,r,l,h,p){for(let D=0;D<l.length;D++){const x=l[D],V=l[++D];if(x&p){let Y="";for(let de=D+1;de<=D+V;de++){const Pe=l[de];if("string"==typeof Pe)Y+=Pe;else if("number"==typeof Pe)if(Pe<0)Y+=ot(r[h-Pe]);else{const nt=Pe>>>2;switch(3&Pe){case 1:const It=l[++de],Qt=l[++de],In=n.data[nt];"string"==typeof In?qp(r[11],r[nt],null,In,It,Y,Qt):Ra(n,In,r,It,Y,r[11],Qt,!1);break;case 0:const Yn=r[nt];null!==Yn&&ku(r[11],Yn,Y);break;case 2:xo(n,oe(n,nt),r,Y);break;case 3:ql(n,oe(n,nt),h,r)}}}}else{const Y=l[D+1];if(Y>0&&3==(3&Y)){const Pe=oe(n,Y>>>2);r[Pe.currentCaseLViewIndex]<0&&ql(n,Pe,h,r)}}D+=V}}function ql(n,r,l,h){let p=h[r.currentCaseLViewIndex];if(null!==p){let D=Un;p<0&&(p=h[r.currentCaseLViewIndex]=~p,D=-1),Gr(n,h,r.update[p],l,D)}}function xo(n,r,l,h){const p=function xy(n,r){let l=n.cases.indexOf(r);if(-1===l)switch(n.type){case 1:{const h=function P(n,r){const l=u(r)(parseInt(n,10)),h=S[l];return void 0!==h?h:"other"}(r,function s(){return pn}());l=n.cases.indexOf(h),-1===l&&"other"!==h&&(l=n.cases.indexOf("other"));break}case 0:l=n.cases.indexOf("other")}return-1===l?null:l}(r,h);if(Yt(r,l)!==p&&(ey(n,r,l),l[r.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const x=l[r.anchorIdx];x&&rr(n,r.create[p],l,x)}}function ey(n,r,l){let h=Yt(r,l);if(null!==h){const p=r.remove[h];for(let D=0;D<p.length;D++){const x=p[D];if(x>0){const V=xi(x,l);null!==V&&zd(l[11],V)}else ey(n,oe(n,~x),l)}}}function Nl(){const n=[];let l,h,r=-1;function D(V,Y){r=0;const de=Yt(V,Y);h=null!==de?V.remove[de]:kn}function x(){if(r<h.length){const V=h[r++];return V>0?l[V]:(n.push(r,h),D(l[1].data[~V],l),x())}return 0===n.length?null:(h=n.pop(),r=n.pop(),x())}return function p(V,Y){for(l=Y;n.length;)n.pop();return D(V.value,Y),x}}const _y=/\ufffd(\d+):?\d*\ufffd/gi,lC=/\ufffd(\d+)\ufffd/,wb=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,cC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,uC=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,dC=/\uE500/g;function Db(n,r,l,h,p,D,x){const V=Rl(n,h,1,null);let Y=V<<bt.SHIFT,de=Q();r===de&&(de=null),null===de&&(Y|=bt.APPEND_EAGERLY),x&&(Y|=bt.COMMENT,function Dm(n){void 0===Hd&&(Hd=n())}(Nl)),p.push(Y,null===D?"":D);const Pe=Uf(n,V,x?32:1,null===D?"":D,null);a(l,Pe);const nt=Pe.index;return $(Pe,!1),null!==de&&r!==de&&function $e(n,r){let l=n.insertBeforeIndex;null===l?(Tp(e,t),l=n.insertBeforeIndex=[null,r]):(function qe(n,r,l){n!=r&&tn(l,n,r,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(r))}(de,nt),Pe}function pC(n,r,l,h,p,D,x){const V=x.match(_y),Y=Db(n,r,l,D,h,V?null:x,!1);V&&iy(p,x,Y.index,null,0,null)}function iy(n,r,l,h,p,D){const x=n.length,V=x+1;n.push(null,null);const Y=x+2,de=r.split(_y);let Pe=0;for(let nt=0;nt<de.length;nt++){const It=de[nt];if(1&nt){const Qt=p+parseInt(It,10);n.push(-1-Qt),Pe|=Eb(Qt)}else""!==It&&n.push(It)}return n.push(l<<2|(h?1:0)),h&&n.push(h,D),n[x]=Pe,n[V]=n.length-Y,Pe}function Eb(n){return 1<<Math.min(n,31)}function Sb(n){let r,D,l="",h=0,p=!1;for(;null!==(r=cC.exec(n));)p?r[0]===`\ufffd/*${D}\ufffd`&&(h=r.index,p=!1):(l+=n.substring(h,r.index+r[0].length),D=r[1],p=!0);return l+=n.slice(h),l}function Tb(n,r,l,h,p,D){let x=0;const V={type:p.type,currentCaseLViewIndex:Rl(n,r,1,null),anchorIdx:D,cases:[],create:[],remove:[],update:[]};(function wC(n,r,l){n.push(Eb(r.mainBinding),2,-1-r.mainBinding,l<<2|2)})(l,p,D),function ve(n,r,l){const h=n.data[r];null===h?n.data[r]=l:h.value=l}(n,D,V);const Y=p.values;for(let de=0;de<Y.length;de++){const Pe=Y[de],nt=[];for(let It=0;It<Pe.length;It++){const Qt=Pe[It];if("string"!=typeof Qt){const In=nt.push(Qt)-1;Pe[It]=`\x3c!--\ufffd${In}\ufffd--\x3e`}}x=bC(n,V,r,l,h,p.cases[de],Pe.join(""),nt)|x}x&&function DC(n,r,l){n.push(r,1,l<<2|3)}(l,x,D)}function yC(n){const r=[],l=[];let h=1,p=0;const D=Ay(n=n.replace(wb,function(x,V,Y){return h="select"===Y?0:1,p=parseInt(V.slice(1),10),""}));for(let x=0;x<D.length;){let V=D[x++].trim();1===h&&(V=V.replace(/\s*(?:=)?(\w+)\s*/,"$1")),V.length&&r.push(V);const Y=Ay(D[x++]);r.length>l.length&&l.push(Y)}return{type:h,mainBinding:p,cases:r,values:l}}function Ay(n){if(!n)return[];let r=0;const l=[],h=[],p=/[{}]/g;let D;for(p.lastIndex=0;D=p.exec(n);){const V=D.index;if("}"==D[0]){if(l.pop(),0==l.length){const Y=n.substring(r,V);wb.test(Y)?h.push(yC(Y)):h.push(Y),r=V+1}}else{if(0==l.length){const Y=n.substring(r,V);h.push(Y),r=V+1}l.push("{")}}const x=n.substring(r);return h.push(x),h}function bC(n,r,l,h,p,D,x,V){const Y=[],de=[],Pe=[];r.cases.push(D),r.create.push(Y),r.remove.push(de),r.update.push(Pe);const It=wh(Dl()).getInertBodyElement(x),Qt=Lc(It)||It;return Qt?Mb(n,r,l,h,Y,de,Pe,Qt,p,V,0):0}function Mb(n,r,l,h,p,D,x,V,Y,de,Pe){let nt=0,It=V.firstChild;for(;It;){const Qt=Rl(n,l,1,null);switch(It.nodeType){case Node.ELEMENT_NODE:const In=It,Yn=In.tagName.toLowerCase();if(os.hasOwnProperty(Yn)){ky(p,Me,Yn,Y,Qt),n.data[Qt]=Yn;const Bn=In.attributes;for(let Pi=0;Pi<Bn.length;Pi++){const Lr=Bn.item(Pi),Wo=Lr.name.toLowerCase();Lr.value.match(_y)?Xu.hasOwnProperty(Wo)&&iy(x,Lr.value,Qt,Lr.name,0,Sl[Wo]?qu:null):EC(p,Qt,Lr)}nt=Mb(n,r,l,h,p,D,x,It,Qt,de,Pe+1)|nt,Ib(D,Qt,Pe)}break;case Node.TEXT_NODE:const li=It.textContent||"",_i=li.match(_y);ky(p,null,_i?"":li,Y,Qt),Ib(D,Qt,Pe),_i&&(nt=iy(x,li,Qt,null,0,null)|nt);break;case Node.COMMENT_NODE:const Gi=lC.exec(It.textContent||"");if(Gi){const Pi=de[parseInt(Gi[1],10)];ky(p,gt,"",Y,Qt),Tb(n,l,h,Y,Pi,Qt),CC(D,Qt,Pe)}}It=It.nextSibling}return nt}function Ib(n,r,l){0===l&&n.push(r)}function CC(n,r,l){0===l&&(n.push(~r),n.push(r))}function ky(n,r,l,h,p){null!==r&&n.push(r),n.push(l,p,function fi(n,r,l){return n|r<<17|l<<1}(0,h,p))}function EC(n,r,l){n.push(r<<1|1,l.name,l.value)}function Ry(n,r,l=-1){const h=Mi(),p=En(),D=22+n,x=Zs(h.consts,r),V=Q();h.firstCreatePass&&function fC(n,r,l,h,p,D){const x=Q(),V=[],Y=[],de=[[]];p=function vC(n,r){if(function _C(n){return-1===n}(r))return Sb(n);{const l=n.indexOf(`:${r}\ufffd`)+2+r.toString().length,h=n.search(new RegExp(`\ufffd\\/\\*\\d+:${r}\ufffd`));return Sb(n.substring(l,h))}}(p,D);const Pe=function hC(n){return n.replace(dC," ")}(p).split(uC);for(let nt=0;nt<Pe.length;nt++){let It=Pe[nt];if(0==(1&nt)){const Qt=Ay(It);for(let In=0;In<Qt.length;In++){let Yn=Qt[In];if(0==(1&In)){const li=Yn;""!==li&&pC(n,x,de[0],V,Y,l,li)}else{const li=Yn;if("object"!=typeof li)throw new Error(`Unable to parse ICU expression in "${p}" message.`);Tb(n,l,Y,r,li,Db(n,x,de[0],l,V,"",!0).index)}}}else{const Qt=47===It.charCodeAt(0),Yn=(It.charCodeAt(Qt?1:0),22+Number.parseInt(It.substring(Qt?2:1)));if(Qt)de.shift(),$(Q(),!1);else{const li=yt(n,de[0],Yn);de.unshift([]),$(li,!0)}}}n.data[h]={create:V,update:Y}}(h,null===V?0:V.index,p,D,x,l);const Y=h.data[D],Pe=Df(h,V===p[6]?null:V,p);(function ki(n,r,l,h){const p=n[11];for(let D=0;D<r.length;D++){const x=r[D++],V=r[D],Y=(x&bt.COMMENT)===bt.COMMENT,de=(x&bt.APPEND_EAGERLY)===bt.APPEND_EAGERLY,Pe=x>>>bt.SHIFT;let nt=n[Pe];null===nt&&(nt=n[Pe]=Y?p.createComment(V):Ys(p,V)),de&&null!==l&&uc(p,l,nt,h,!1)}})(p,Y.create,Pe,V&&8&V.type?p[V.index]:null),Ba(!0)}function Oy(){Ba(!1)}function Ab(n,r,l){Ry(n,r,l),Oy()}function Py(n){return function ei(n){n&&(Un|=1<<Math.min(Jn,31)),Jn++}(Ka(En(),er(),n)),Py}function kb(n){!function Ti(n,r,l){if(Jn>0){const h=n.data[l];Gr(n,r,Array.isArray(h)?h:h.update,rs()-Jn-1,Un)}Un=0,Jn=0}(Mi(),En(),n+22)}function Ny(n,r,l,h,p){if(n=be(n),Array.isArray(n))for(let D=0;D<n.length;D++)Ny(n[D],r,l,h,p);else{const D=Mi(),x=En();let V=Tl(n)?n:be(n.provide),Y=Ml(n);const de=Hr(),Pe=1048575&de.providerIndexes,nt=de.directiveStart,It=de.providerIndexes>>20;if(Tl(n)||!n.multi){const Qt=new tr(Y,p,Jd),In=Ly(V,r,p?Pe:Pe+It,nt);-1===In?(Ar(Uo(de,x),D,V),Fy(D,n,r.length),r.push(V),de.directiveStart++,de.directiveEnd++,p&&(de.providerIndexes+=1048576),l.push(Qt),x.push(Qt)):(l[In]=Qt,x[In]=Qt)}else{const Qt=Ly(V,r,Pe+It,nt),In=Ly(V,r,Pe,Pe+It),Yn=Qt>=0&&l[Qt],li=In>=0&&l[In];if(p&&!li||!p&&!Yn){Ar(Uo(de,x),D,V);const _i=function BC(n,r,l,h,p){const D=new tr(n,l,Jd);return D.multi=[],D.index=r,D.componentProviders=0,Rb(D,p,h&&!l),D}(p?LC:FC,l.length,p,h,Y);!p&&li&&(l[In].providerFactory=_i),Fy(D,n,r.length,0),r.push(V),de.directiveStart++,de.directiveEnd++,p&&(de.providerIndexes+=1048576),l.push(_i),x.push(_i)}else Fy(D,n,Qt>-1?Qt:In,Rb(l[p?In:Qt],Y,!p&&h));!p&&h&&li&&l[In].componentProviders++}}}function Fy(n,r,l,h){const p=Tl(r),D=function eo(n){return!!n.useClass}(r);if(p||D){const Y=(D?be(r.useClass):r).prototype.ngOnDestroy;if(Y){const de=n.destroyHooks||(n.destroyHooks=[]);if(!p&&r.multi){const Pe=de.indexOf(l);-1===Pe?de.push(l,[h,Y]):de[Pe+1].push(h,Y)}else de.push(l,Y)}}}function Rb(n,r,l){return l&&n.componentProviders++,n.multi.push(r)-1}function Ly(n,r,l,h){for(let p=l;p<h;p++)if(r[p]===n)return p;return-1}function FC(n,r,l,h){return By(this.multi,[])}function LC(n,r,l,h){const p=this.multi;let D;if(this.providerFactory){const x=this.providerFactory.componentProviders,V=yl(l,l[1],this.providerFactory.index,h);D=V.slice(0,x),By(p,D);for(let Y=x;Y<V.length;Y++)D.push(V[Y])}else D=[],By(p,D);return D}function By(n,r){for(let l=0;l<n.length;l++)r.push((0,n[l])());return r}function Ob(n,r=[]){return l=>{l.providersResolver=(h,p)=>function NC(n,r,l){const h=Mi();if(h.firstCreatePass){const p=Yi(n);Ny(l,h.data,h.blueprint,p,!0),Ny(r,h.data,h.blueprint,p,!1)}}(h,p?p(n):n,r)}}class xv{}class Pb{}function VC(n,r){return new Nb(n,r??null)}class Nb extends xv{constructor(r,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new oh(this);const h=dn(r);this._bootstrapComponents=zs(h.bootstrap),this._r3Injector=w(r,l,[{provide:xv,useValue:this},{provide:Ld,useValue:this.componentFactoryResolver}],fe(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Vy extends Pb{constructor(r){super(),this.moduleType=r}create(r){return new Nb(this.moduleType,r)}}class UC extends xv{constructor(r,l,h){super(),this.componentFactoryResolver=new oh(this),this.instance=null;const p=new Mh([...r,{provide:xv,useValue:this},{provide:Ld,useValue:this.componentFactoryResolver}],l||td(),h,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Uy(n,r,l=null){return new UC(n,r,l).injector}let HC=(()=>{class n{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const h=ed(0,l.type),p=h.length>0?Uy([h],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,p)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Fe({token:n,providedIn:"environment",factory:()=>new n(st(Cu))}),n})();function Fb(n){n.getStandaloneInjector=r=>r.get(HC).getOrCreateStandaloneInjector(n)}function $b(n,r,l,h){return Gb(En(),gr(),n,r,l,h)}function Gb(n,r,l,h,p,D){const x=r+l;return Ka(n,x,p)?function Vu(n,r,l){return n[r]=l}(n,x+1,D?h.call(D,p):h(p)):function ry(n,r){const l=n[r];return l===Oi?void 0:l}(n,x+1)}function Zb(n,r){const l=Mi();let h;const p=n+22;l.firstCreatePass?(h=function sw(n,r){if(r)for(let l=r.length-1;l>=0;l--){const h=r[l];if(n===h.name)return h}}(r,l.pipeRegistry),l.data[p]=h,h.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(p,h.onDestroy)):h=l.data[p];const D=h.factory||(h.factory=Oo(h.type)),x=le(Jd);try{const V=Vo(!1),Y=D();return Vo(V),function d_(n,r,l,h){l>=n.data.length&&(n.data[l]=null,n.blueprint[l]=null),r[l]=h}(l,En(),p,Y),Y}finally{le(x)}}function qb(n,r,l){const h=n+22,p=En(),D=aa(p,h);return function sy(n,r){return n[1].data[r].pure}(p,h)?Gb(p,gr(),r,D.transform,l,D):D.transform(l)}function jy(n){return r=>{setTimeout(n,void 0,r)}}const ap=class uw extends m.xQ{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,l,h){let p=r,D=l||(()=>null),x=h;if(r&&"object"==typeof r){var V,Y,de;const nt=r;p=null===(V=nt.next)||void 0===V?void 0:V.bind(nt),D=null===(Y=nt.error)||void 0===Y?void 0:Y.bind(nt),x=null===(de=nt.complete)||void 0===de?void 0:de.bind(nt)}this.__isAsync&&(D=jy(D),p&&(p=jy(p)),x&&(x=jy(x)));const Pe=super.subscribe({next:p,error:D,complete:x});return r instanceof N.w&&r.add(Pe),Pe}};function dw(){return this._results[bd()]()}class vy{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=bd(),h=vy.prototype;h[l]||(h[l]=dw)}get changes(){return this._changes||(this._changes=new ap)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,l){return this._results.reduce(r,l)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,l){const h=this;h.dirty=!1;const p=So(r);(this._changesDetected=!function Ta(n,r,l){if(n.length!==r.length)return!1;for(let h=0;h<n.length;h++){let p=n[h],D=r[h];if(l&&(p=l(p),D=l(D)),D!==p)return!1}return!0}(h._results,p,l))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let oy=(()=>{class n{}return n.__NG_ELEMENT_ID__=pw,n})();const hw=oy,fw=class extends hw{constructor(r,l,h){super(),this._declarationLView=r,this._declarationTContainer=l,this.elementRef=h}createEmbeddedView(r,l){const h=this._declarationTContainer.tViews,p=Kl(this._declarationLView,h,r,16,null,h.declTNode,null,null,null,null,l||null);p[17]=this._declarationLView[this._declarationTContainer.index];const x=this._declarationLView[19];return null!==x&&(p[19]=x.createEmbeddedView(h)),Hf(h,p,r),new Lu(p)}};function pw(){return yy(Hr(),En())}function yy(n,r){return 4&n.type?new fw(r,n,Eu(n,r)):null}let by=(()=>{class n{}return n.__NG_ELEMENT_ID__=mw,n})();function mw(){return Jb(Hr(),En())}const gw=by,Qb=class extends gw{constructor(r,l,h){super(),this._lContainer=r,this._hostTNode=l,this._hostLView=h}get element(){return Eu(this._hostTNode,this._hostLView)}get injector(){return new Si(this._hostTNode,this._hostLView)}get parentInjector(){const r=Sn(this._hostTNode,this._hostLView);if(lu(r)){const l=Bo(r,this._hostLView),h=nr(r);return new Si(l[1].data[h+8],l)}return new Si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const l=Xb(this._lContainer);return null!==l&&l[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,l,h){let p,D;"number"==typeof h?p=h:null!=h&&(p=h.index,D=h.injector);const x=r.createEmbeddedView(l||{},D);return this.insert(x,p),x}createComponent(r,l,h,p,D){const x=r&&!function kc(n){return"function"==typeof n}(r);let V;if(x)V=l;else{const nt=l||{};V=nt.index,h=nt.injector,p=nt.projectableNodes,D=nt.environmentInjector||nt.ngModuleRef}const Y=x?r:new yd(K(r)),de=h||this.parentInjector;if(!D&&null==Y.ngModule){const It=(x?de:this.parentInjector).get(Cu,null);It&&(D=It)}const Pe=Y.create(de,p,void 0,D);return this.insert(Pe.hostView,V),Pe}insert(r,l){const h=r._lView,p=h[1];if(function Ko(n){return Er(n[3])}(h)){const Pe=this.indexOf(r);if(-1!==Pe)this.detach(Pe);else{const nt=h[3],It=new Qb(nt,nt[6],nt[3]);It.detach(It.indexOf(r))}}const D=this._adjustIndex(l),x=this._lContainer;!function Dp(n,r,l,h){const p=10+h,D=l.length;h>0&&(l[p-1][4]=r),h<D-10?(r[4]=l[p],ec(l,10+h,r)):(l.push(r),r[4]=null),r[3]=l;const x=r[17];null!==x&&l!==x&&function Em(n,r){const l=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===l?n[9]=[r]:l.push(r)}(x,r);const V=r[19];null!==V&&V.insertView(n),r[2]|=64}(p,h,x,D);const V=Yc(D,x),Y=h[11],de=ld(Y,x[7]);return null!==de&&function Gc(n,r,l,h,p,D){h[0]=p,h[6]=r,Ef(n,h,l,1,p,D)}(p,x[6],Y,h,de,V),r.attachToViewContainerRef(),ec($y(x),D,r),r}move(r,l){return this.insert(r,l)}indexOf(r){const l=Xb(this._lContainer);return null!==l?l.indexOf(r):-1}remove(r){const l=this._adjustIndex(r,-1),h=wf(this._lContainer,l);h&&(fo($y(this._lContainer),l),Ep(h[1],h))}detach(r){const l=this._adjustIndex(r,-1),h=wf(this._lContainer,l);return h&&null!=fo($y(this._lContainer),l)?new Lu(h):null}_adjustIndex(r,l=0){return r??this.length+l}};function Xb(n){return n[8]}function $y(n){return n[8]||(n[8]=[])}function Jb(n,r){let l;const h=r[n.index];if(Er(h))l=h;else{let p;if(8&n.type)p=pr(h);else{const D=r[11];p=D.createComment("");const x=Ur(n,r);uc(D,ld(D,x),p,function Zi(n,r){return n.nextSibling(r)}(D,x),!1)}r[n.index]=l=Wm(h,r,p,n),Wf(r,l)}return new Qb(l,n,r)}class Gy{constructor(r){this.queryList=r,this.matches=null}clone(){return new Gy(this.queryList)}setDirty(){this.queryList.setDirty()}}class zy{constructor(r=[]){this.queries=r}createEmbeddedView(r){const l=r.queries;if(null!==l){const h=null!==r.contentQueries?r.contentQueries[0]:l.length,p=[];for(let D=0;D<h;D++){const x=l.getByIndex(D);p.push(this.queries[x.indexInDeclarationView].clone())}return new zy(p)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let l=0;l<this.queries.length;l++)null!==c0(r,l).matches&&this.queries[l].setDirty()}}class e0{constructor(r,l,h=null){this.predicate=r,this.flags=l,this.read=h}}class Wy{constructor(r=[]){this.queries=r}elementStart(r,l){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(r,l)}elementEnd(r){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(r)}embeddedTView(r){let l=null;for(let h=0;h<this.length;h++){const p=null!==l?l.length:0,D=this.getByIndex(h).embeddedTView(r,p);D&&(D.indexInDeclarationView=h,null!==l?l.push(D):l=[D])}return null!==l?new Wy(l):null}template(r,l){for(let h=0;h<this.queries.length;h++)this.queries[h].template(r,l)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Yy{constructor(r,l=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(r,l){this.isApplyingToNode(l)&&this.matchTNode(r,l)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,l){this.elementStart(r,l)}embeddedTView(r,l){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,l),new Yy(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let h=r.parent;for(;null!==h&&8&h.type&&h.index!==l;)h=h.parent;return l===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(r,l){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const D=h[p];this.matchTNodeWithReadOption(r,l,yw(l,D)),this.matchTNodeWithReadOption(r,l,nl(l,r,D,!1,!1))}else h===oy?4&l.type&&this.matchTNodeWithReadOption(r,l,-1):this.matchTNodeWithReadOption(r,l,nl(l,r,h,!1,!1))}matchTNodeWithReadOption(r,l,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===pf||p===by||p===oy&&4&l.type)this.addMatch(l.index,-2);else{const D=nl(l,r,p,!1,!1);null!==D&&this.addMatch(l.index,D)}else this.addMatch(l.index,h)}}addMatch(r,l){null===this.matches?this.matches=[r,l]:this.matches.push(r,l)}}function yw(n,r){const l=n.localNames;if(null!==l)for(let h=0;h<l.length;h+=2)if(l[h]===r)return l[h+1];return null}function Cw(n,r,l,h){return-1===l?function bw(n,r){return 11&n.type?Eu(n,r):4&n.type?yy(n,r):null}(r,n):-2===l?function ww(n,r,l){return l===pf?Eu(r,n):l===oy?yy(r,n):l===by?Jb(r,n):void 0}(n,r,h):yl(n,n[1],l,r)}function t0(n,r,l,h){const p=r[19].queries[h];if(null===p.matches){const D=n.data,x=l.matches,V=[];for(let Y=0;Y<x.length;Y+=2){const de=x[Y];V.push(de<0?null:Cw(r,D[de],x[Y+1],l.metadata.read))}p.matches=V}return p.matches}function Ky(n,r,l,h){const p=n.queries.getByIndex(l),D=p.matches;if(null!==D){const x=t0(n,r,p,l);for(let V=0;V<D.length;V+=2){const Y=D[V];if(Y>0)h.push(x[V/2]);else{const de=D[V+1],Pe=r[-Y];for(let nt=10;nt<Pe.length;nt++){const It=Pe[nt];It[17]===It[3]&&Ky(It[1],It,de,h)}if(null!==Pe[9]){const nt=Pe[9];for(let It=0;It<nt.length;It++){const Qt=nt[It];Ky(Qt[1],Qt,de,h)}}}}}return h}function n0(n){const r=En(),l=Mi(),h=Fo();Xa(h+1);const p=c0(l,h);if(n.dirty&&function Co(n){return 4==(4&n[2])}(r)===(2==(2&p.metadata.flags))){if(null===p.matches)n.reset([]);else{const D=p.crossesNgTemplate?Ky(l,r,h,[]):t0(l,r,p,h);n.reset(D,mf),n.notifyOnChanges()}return!0}return!1}function r0(n,r,l){const h=Mi();h.firstCreatePass&&(l0(h,new e0(n,r,l),-1),2==(2&r)&&(h.staticViewQueries=!0)),a0(h,En(),r)}function s0(n,r,l,h){const p=Mi();if(p.firstCreatePass){const D=Hr();l0(p,new e0(r,l,h),D.index),function Ew(n,r){const l=n.contentQueries||(n.contentQueries=[]);r!==(l.length?l[l.length-1]:-1)&&l.push(n.queries.length-1,r)}(p,n),2==(2&l)&&(p.staticContentQueries=!0)}a0(p,En(),l)}function o0(){return function Dw(n,r){return n[19].queries[r].queryList}(En(),Fo())}function a0(n,r,l){const h=new vy(4==(4&l));Kg(n,r,h,h.destroy),null===r[19]&&(r[19]=new zy),r[19].queries.push(new Gy(h))}function l0(n,r,l){null===n.queries&&(n.queries=new Wy),n.queries.track(new Yy(r,l))}function c0(n,r){return n.queries.getByIndex(r)}function wy(...n){}const I0=new ji("Application Initializer");let Dy=(()=>{class n{constructor(l){this.appInits=l,this.resolve=wy,this.reject=wy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const l=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const D=this.appInits[p]();if(f_(D))l.push(D);else if(ig(D)){const x=new Promise((V,Y)=>{D.subscribe({complete:V,error:Y})});l.push(x)}}Promise.all(l).then(()=>{h()}).catch(p=>{this.reject(p)}),0===l.length&&h(),this.initialized=!0}}return n.\u0275fac=function(l){return new(l||n)(st(I0,8))},n.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const x0=new ji("AppId",{providedIn:"root",factory:function A0(){return`${Jy()}${Jy()}${Jy()}`}});function Jy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const k0=new ji("Platform Initializer"),zw=new ji("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),R0=new ji("appBootstrapListener"),Ww=new ji("AnimationModuleType");let Yw=(()=>{class n{log(l){console.log(l)}warn(l){console.warn(l)}}return n.\u0275fac=function(l){return new(l||n)},n.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ey=new ji("LocaleId",{providedIn:"root",factory:()=>an(Ey,mt.Optional|mt.SkipSelf)||function Kw(){return typeof $localize<"u"&&$localize.locale||z}()}),Zw=new ji("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class qw{constructor(r,l){this.ngModuleFactory=r,this.componentFactories=l}}let Qw=(()=>{class n{compileModuleSync(l){return new Vy(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const h=this.compileModuleSync(l),D=zs(dn(l).declarations).reduce((x,V)=>{const Y=K(V);return Y&&x.push(new yd(Y)),x},[]);return new qw(h,D)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return n.\u0275fac=function(l){return new(l||n)},n.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eD=(()=>Promise.resolve(0))();function eb(n){typeof Zone>"u"?eD.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class gh{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ap(!1),this.onMicrotaskEmpty=new ap(!1),this.onStable=new ap(!1),this.onError=new ap(!1),typeof Zone>"u")throw new lt(908,!1);Zone.assertZonePatched();const p=this;if(p._nesting=0,p._outer=p._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const D=Zone.AsyncStackTaggingZoneSpec;p._inner=p._inner.fork(new D("Angular"))}Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&l,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function tD(){let n=Rn.requestAnimationFrame,r=Rn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const l=n[Zone.__symbol__("OriginalDelegate")];l&&(n=l);const h=r[Zone.__symbol__("OriginalDelegate")];h&&(r=h)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function rD(n){const r=()=>{!function iD(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Rn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,nb(n),n.isCheckStableRunning=!0,tb(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),nb(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,h,p,D,x,V)=>{try{return N0(n),l.invokeTask(p,D,x,V)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===D.type||n.shouldCoalesceRunChangeDetection)&&r(),F0(n)}},onInvoke:(l,h,p,D,x,V,Y)=>{try{return N0(n),l.invoke(p,D,x,V,Y)}finally{n.shouldCoalesceRunChangeDetection&&r(),F0(n)}},onHasTask:(l,h,p,D)=>{l.hasTask(p,D),h===p&&("microTask"==D.change?(n._hasPendingMicrotasks=D.microTask,nb(n),tb(n)):"macroTask"==D.change&&(n.hasPendingMacrotasks=D.macroTask))},onHandleError:(l,h,p,D)=>(l.handleError(p,D),n.runOutsideAngular(()=>n.onError.emit(D)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gh.isInAngularZone())throw new lt(909,!1)}static assertNotInAngularZone(){if(gh.isInAngularZone())throw new lt(909,!1)}run(r,l,h){return this._inner.run(r,l,h)}runTask(r,l,h,p){const D=this._inner,x=D.scheduleEventTask("NgZoneEvent: "+p,r,nD,wy,wy);try{return D.runTask(x,l,h)}finally{D.cancelTask(x)}}runGuarded(r,l,h){return this._inner.runGuarded(r,l,h)}runOutsideAngular(r){return this._outer.run(r)}}const nD={};function tb(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function nb(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function N0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function F0(n){n._nesting--,tb(n)}class sD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ap,this.onMicrotaskEmpty=new ap,this.onStable=new ap,this.onError=new ap}run(r,l,h){return r.apply(l,h)}runGuarded(r,l,h){return r.apply(l,h)}runOutsideAngular(r){return r()}runTask(r,l,h,p){return r.apply(l,h)}}const L0=new ji(""),B0=new ji("");let ib,oD=(()=>{class n{constructor(l,h,p){this._ngZone=l,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ib||(function aD(n){ib=n}(p),p.addToWindow(h)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gh.assertNotInAngularZone(),eb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())eb(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(l)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,h,p){let D=-1;h&&h>0&&(D=setTimeout(()=>{this._callbacks=this._callbacks.filter(x=>x.timeoutId!==D),l(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:l,timeoutId:D,updateCb:p})}whenStable(l,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,h,p){return[]}}return n.\u0275fac=function(l){return new(l||n)(st(gh),st(V0),st(B0))},n.\u0275prov=Fe({token:n,factory:n.\u0275fac}),n})(),V0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(l,h){this._applications.set(l,h)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,h=!0){var p,D;return null!==(p=null===(D=ib)||void 0===D?void 0:D.findTestabilityInTree(this,l,h))&&void 0!==p?p:null}}return n.\u0275fac=function(l){return new(l||n)},n.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),vg=null;const U0=new ji("AllowMultipleToken"),rb=new ji("PlatformDestroyListeners");class uD{constructor(r,l){this.name=r,this.token=l}}function j0(n,r,l=[]){const h=`Platform: ${r}`,p=new ji(h);return(D=[])=>{let x=sb();if(!x||x.injector.get(U0,!1)){const V=[...l,...D,{provide:p,useValue:!0}];n?n(V):function dD(n){if(vg&&!vg.get(U0,!1))throw new lt(400,!1);vg=n;const r=n.get(G0);(function H0(n){const r=n.get(k0,null);r&&r.forEach(l=>l())})(n)}(function $0(n=[],r){return T.create({name:r,providers:[{provide:Sh,useValue:"platform"},{provide:rb,useValue:new Set([()=>vg=null])},...n]})}(V,h))}return function fD(n){const r=sb();if(!r)throw new lt(401,!1);return r}()}}function sb(){var n,r;return null!==(n=null===(r=vg)||void 0===r?void 0:r.get(G0))&&void 0!==n?n:null}let G0=(()=>{class n{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,h){const p=function W0(n,r){let l;return l="noop"===n?new sD:("zone.js"===n?void 0:n)||new gh(r),l}(h?.ngZone,function z0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(h)),D=[{provide:gh,useValue:p}];return p.run(()=>{const x=T.create({providers:D,parent:this.injector,name:l.moduleType.name}),V=l.create(x),Y=V.injector.get(oc,null);if(!Y)throw new lt(402,!1);return p.runOutsideAngular(()=>{const de=p.onError.subscribe({next:Pe=>{Y.handleError(Pe)}});V.onDestroy(()=>{Ty(this._modules,V),de.unsubscribe()})}),function Y0(n,r,l){try{const h=l();return f_(h)?h.catch(p=>{throw r.runOutsideAngular(()=>n.handleError(p)),p}):h}catch(h){throw r.runOutsideAngular(()=>n.handleError(h)),h}}(Y,p,()=>{const de=V.injector.get(Dy);return de.runInitializers(),de.donePromise.then(()=>(bn(V.injector.get(Ey,z)||z),this._moduleDoBootstrap(V),V))})})}bootstrapModule(l,h=[]){const p=K0({},h);return function lD(n,r,l){const h=new Vy(l);return Promise.resolve(h)}(0,0,l).then(D=>this.bootstrapModuleFactory(D,p))}_moduleDoBootstrap(l){const h=l.injector.get(Sy);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!l.instance.ngDoBootstrap)throw new lt(403,!1);l.instance.ngDoBootstrap(h)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new lt(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const l=this._injector.get(rb,null);l&&(l.forEach(h=>h()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(l){return new(l||n)(st(T))},n.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function K0(n,r){return Array.isArray(r)?r.reduce(K0,n):{...n,...r}}let Sy=(()=>{class n{constructor(l,h,p){this._zone=l,this._injector=h,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const D=new v.y(V=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{V.next(this._stable),V.complete()})}),x=new v.y(V=>{let Y;this._zone.runOutsideAngular(()=>{Y=this._zone.onStable.subscribe(()=>{gh.assertNotInAngularZone(),eb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,V.next(!0))})})});const de=this._zone.onUnstable.subscribe(()=>{gh.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{V.next(!1)}))});return()=>{Y.unsubscribe(),de.unsubscribe()}});this.isStable=(0,ne.T)(D,x.pipe((0,C.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,h){const p=l instanceof fm;if(!this._injector.get(Dy).done)throw!p&&Ct(l),new lt(405,false);let x;x=p?l:this._injector.get(Ld).resolveComponentFactory(l),this.componentTypes.push(x.componentType);const V=function cD(n){return n.isBoundToModule}(x)?void 0:this._injector.get(xv),de=x.create(T.NULL,[],h||x.selector,V),Pe=de.location.nativeElement,nt=de.injector.get(L0,null);return nt?.registerApplication(Pe),de.onDestroy(()=>{this.detachView(de.hostView),Ty(this.components,de),nt?.unregisterApplication(Pe)}),this._loadComponent(de),de}tick(){if(this._runningTick)throw new lt(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const h=l;this._views.push(h),h.attachToAppRef(this)}detachView(l){const h=l;Ty(this._views,h),h.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(R0,[]).concat(this._bootstrapListeners).forEach(p=>p(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Ty(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new lt(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(l){return new(l||n)(st(gh),st(Cu),st(oc))},n.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ty(n,r){const l=n.indexOf(r);l>-1&&n.splice(l,1)}let q0=!0,Q0=!1;function mD(){return Q0=!0,q0}function gD(){if(Q0)throw new Error("Cannot enable prod mode after platform setup.");q0=!1}let _D=(()=>{class n{}return n.__NG_ELEMENT_ID__=vD,n})();function vD(n){return function yD(n,r,l){if(as(n)&&!l){const h=Ki(n.index,r);return new Lu(h,h)}return 47&n.type?new Lu(r[16],r):null}(Hr(),En(),16==(16&n))}class tC{constructor(){}supports(r){return ah(r)}create(r){return new SD(r)}}const ED=(n,r)=>r;class SD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||ED}forEachItem(r){let l;for(l=this._itHead;null!==l;l=l._next)r(l)}forEachOperation(r){let l=this._itHead,h=this._removalsHead,p=0,D=null;for(;l||h;){const x=!h||l&&l.currentIndex<iC(h,p,D)?l:h,V=iC(x,p,D),Y=x.currentIndex;if(x===h)p--,h=h._nextRemoved;else if(l=l._next,null==x.previousIndex)p++;else{D||(D=[]);const de=V-p,Pe=Y-p;if(de!=Pe){for(let It=0;It<de;It++){const Qt=It<D.length?D[It]:D[It]=0,In=Qt+It;Pe<=In&&In<de&&(D[It]=Qt+1)}D[x.previousIndex]=Pe-de}}V!==Y&&r(x,V,Y)}}forEachPreviousItem(r){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)r(l)}forEachAddedItem(r){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)r(l)}forEachMovedItem(r){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)r(l)}forEachRemovedItem(r){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)r(l)}forEachIdentityChange(r){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)r(l)}diff(r){if(null==r&&(r=[]),!ah(r))throw new lt(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let p,D,x,l=this._itHead,h=!1;if(Array.isArray(r)){this.length=r.length;for(let V=0;V<this.length;V++)D=r[V],x=this._trackByFn(V,D),null!==l&&Object.is(l.trackById,x)?(h&&(l=this._verifyReinsertion(l,D,x,V)),Object.is(l.item,D)||this._addIdentityChange(l,D)):(l=this._mismatch(l,D,x,V),h=!0),l=l._next}else p=0,function Xm(n,r){if(Array.isArray(n))for(let l=0;l<n.length;l++)r(n[l]);else{const l=n[bd()]();let h;for(;!(h=l.next()).done;)r(h.value)}}(r,V=>{x=this._trackByFn(p,V),null!==l&&Object.is(l.trackById,x)?(h&&(l=this._verifyReinsertion(l,V,x,p)),Object.is(l.item,V)||this._addIdentityChange(l,V)):(l=this._mismatch(l,V,x,p),h=!0),l=l._next,p++}),this.length=p;return this._truncate(l),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,l,h,p){let D;return null===r?D=this._itTail:(D=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(r.item,l)||this._addIdentityChange(r,l),this._reinsertAfter(r,D,p)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(r.item,l)||this._addIdentityChange(r,l),this._moveAfter(r,D,p)):r=this._addAfter(new TD(l,h),D,p),r}_verifyReinsertion(r,l,h,p){let D=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==D?r=this._reinsertAfter(D,r._prev,p):r.currentIndex!=p&&(r.currentIndex=p,this._addToMoves(r,p)),r}_truncate(r){for(;null!==r;){const l=r._next;this._addToRemovals(this._unlink(r)),r=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,l,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const p=r._prevRemoved,D=r._nextRemoved;return null===p?this._removalsHead=D:p._nextRemoved=D,null===D?this._removalsTail=p:D._prevRemoved=p,this._insertAfter(r,l,h),this._addToMoves(r,h),r}_moveAfter(r,l,h){return this._unlink(r),this._insertAfter(r,l,h),this._addToMoves(r,h),r}_addAfter(r,l,h){return this._insertAfter(r,l,h),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,l,h){const p=null===l?this._itHead:l._next;return r._next=p,r._prev=l,null===p?this._itTail=r:p._prev=r,null===l?this._itHead=r:l._next=r,null===this._linkedRecords&&(this._linkedRecords=new nC),this._linkedRecords.put(r),r.currentIndex=h,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const l=r._prev,h=r._next;return null===l?this._itHead=h:l._next=h,null===h?this._itTail=l:h._prev=l,r}_addToMoves(r,l){return r.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nC),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,l){return r.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class TD{constructor(r,l){this.item=r,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class MD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,l){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===l||l<=h.currentIndex)&&Object.is(h.trackById,r))return h;return null}remove(r){const l=r._prevDup,h=r._nextDup;return null===l?this._head=h:l._nextDup=h,null===h?this._tail=l:h._prevDup=l,null===this._head}}class nC{constructor(){this.map=new Map}put(r){const l=r.trackById;let h=this.map.get(l);h||(h=new MD,this.map.set(l,h)),h.add(r)}get(r,l){const p=this.map.get(r);return p?p.get(r,l):null}remove(r){const l=r.trackById;return this.map.get(l).remove(r)&&this.map.delete(l),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iC(n,r,l){const h=n.previousIndex;if(null===h)return h;let p=0;return l&&h<l.length&&(p=l[h]),h+r+p}class rC{constructor(){}supports(r){return r instanceof Map||o_(r)}create(){return new ID}}class ID{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let l;for(l=this._mapHead;null!==l;l=l._next)r(l)}forEachPreviousItem(r){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)r(l)}forEachChangedItem(r){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)r(l)}forEachAddedItem(r){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)r(l)}forEachRemovedItem(r){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)r(l)}diff(r){if(r){if(!(r instanceof Map||o_(r)))throw new lt(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(r,(h,p)=>{if(l&&l.key===p)this._maybeAddToChanges(l,h),this._appendAfter=l,l=l._next;else{const D=this._getOrCreateRecordForKey(p,h);l=this._insertBeforeOrAppend(l,D)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let h=l;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,l){if(r){const h=r._prev;return l._next=r,l._prev=h,r._prev=l,h&&(h._next=l),r===this._mapHead&&(this._mapHead=l),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(r,l){if(this._records.has(r)){const p=this._records.get(r);this._maybeAddToChanges(p,l);const D=p._prev,x=p._next;return D&&(D._next=x),x&&(x._prev=D),p._next=null,p._prev=null,p}const h=new xD(r);return this._records.set(r,h),h.currentValue=l,this._addToAdditions(h),h}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,l){Object.is(l,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=l,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,l){r instanceof Map?r.forEach(l):Object.keys(r).forEach(h=>l(r[h],h))}}class xD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sC(){return new ub([new tC])}let ub=(()=>{class n{constructor(l){this.factories=l}static create(l,h){if(null!=h){const p=h.factories.slice();l=l.concat(p)}return new n(l)}static extend(l){return{provide:n,useFactory:h=>n.create(l,h||sC()),deps:[[n,new Jo,new ms]]}}find(l){const h=this.factories.find(p=>p.supports(l));if(null!=h)return h;throw new lt(901,!1)}}return n.\u0275prov=Fe({token:n,providedIn:"root",factory:sC}),n})();function oC(){return new db([new rC])}let db=(()=>{class n{constructor(l){this.factories=l}static create(l,h){if(h){const p=h.factories.slice();l=l.concat(p)}return new n(l)}static extend(l){return{provide:n,useFactory:h=>n.create(l,h||oC()),deps:[[n,new Jo,new ms]]}}find(l){const h=this.factories.find(p=>p.supports(l));if(h)return h;throw new lt(901,!1)}}return n.\u0275prov=Fe({token:n,providedIn:"root",factory:oC}),n})();const RD=j0(null,"core",[]);let OD=(()=>{class n{constructor(l){}}return n.\u0275fac=function(l){return new(l||n)(st(Sy))},n.\u0275mod=Ht({type:n}),n.\u0275inj=St({}),n})();function PD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},4006:(gn,_t,k)=>{"use strict";k.d(_t,{Cf:()=>pt,EJ:()=>fr,F:()=>Es,Fj:()=>Ke,JJ:()=>mt,JL:()=>ee,JU:()=>fe,Kr:()=>ro,NI:()=>Vr,On:()=>no,Q7:()=>so,UX:()=>ca,YN:()=>Ms,Zs:()=>vs,_Y:()=>La,a5:()=>Cn,cw:()=>K,kI:()=>kt,oH:()=>zr,qu:()=>Mi,sg:()=>Ts,u:()=>Po,u5:()=>pl});var m=k(4650),N=k(6895),v=k(5254),ne=k(567),C=k(4850);let J=(()=>{class se{constructor($,ke){this._renderer=$,this._elementRef=ke,this.onChange=en=>{},this.onTouched=()=>{}}setProperty($,ke){this._renderer.setProperty(this._elementRef.nativeElement,$,ke)}registerOnTouched($){this.onTouched=$}registerOnChange($){this.onChange=$}setDisabledState($){this.setProperty("disabled",$)}}return se.\u0275fac=function($){return new($||se)(m.Y36(m.Qsj),m.Y36(m.SBq))},se.\u0275dir=m.lG2({type:se}),se})(),De=(()=>{class se extends J{}return se.\u0275fac=function(){let Q;return function(ke){return(Q||(Q=m.n5z(se)))(ke||se)}}(),se.\u0275dir=m.lG2({type:se,features:[m.qOj]}),se})();const fe=new m.OlP("NgValueAccessor"),ge={provide:fe,useExisting:(0,m.Gpc)(()=>Ke),multi:!0},Ne=new m.OlP("CompositionEventMode");let Ke=(()=>{class se extends J{constructor($,ke,en){super($,ke),this._compositionMode=en,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function be(){const se=(0,N.q)()?(0,N.q)().getUserAgent():"";return/android (\d+)/.test(se.toLowerCase())}())}writeValue($){this.setProperty("value",$??"")}_handleInput($){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange($)}_compositionStart(){this._composing=!0}_compositionEnd($){this._composing=!1,this._compositionMode&&this.onChange($)}}return se.\u0275fac=function($){return new($||se)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(Ne,8))},se.\u0275dir=m.lG2({type:se,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function($,ke){1&$&&m.NdJ("input",function(Xn){return ke._handleInput(Xn.target.value)})("blur",function(){return ke.onTouched()})("compositionstart",function(){return ke._compositionStart()})("compositionend",function(Xn){return ke._compositionEnd(Xn.target.value)})},features:[m._Bn([ge]),m.qOj]}),se})();function He(se){return null==se||("string"==typeof se||Array.isArray(se))&&0===se.length}function ot(se){return null!=se&&"number"==typeof se.length}const pt=new m.OlP("NgValidators"),Ut=new m.OlP("NgAsyncValidators"),ut=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class kt{static min(Q){return function vt(se){return Q=>{if(He(Q.value)||He(se))return null;const $=parseFloat(Q.value);return!isNaN($)&&$<se?{min:{min:se,actual:Q.value}}:null}}(Q)}static max(Q){return function Je(se){return Q=>{if(He(Q.value)||He(se))return null;const $=parseFloat(Q.value);return!isNaN($)&&$>se?{max:{max:se,actual:Q.value}}:null}}(Q)}static required(Q){return Be(Q)}static requiredTrue(Q){return ht(Q)}static email(Q){return function et(se){return He(se.value)||ut.test(se.value)?null:{email:!0}}(Q)}static minLength(Q){return function qe(se){return Q=>He(Q.value)||!ot(Q.value)?null:Q.value.length<se?{minlength:{requiredLength:se,actualLength:Q.value.length}}:null}(Q)}static maxLength(Q){return function Pt(se){return Q=>ot(Q.value)&&Q.value.length>se?{maxlength:{requiredLength:se,actualLength:Q.value.length}}:null}(Q)}static pattern(Q){return function ze(se){if(!se)return At;let Q,$;return"string"==typeof se?($="","^"!==se.charAt(0)&&($+="^"),$+=se,"$"!==se.charAt(se.length-1)&&($+="$"),Q=new RegExp($)):($=se.toString(),Q=se),ke=>{if(He(ke.value))return null;const en=ke.value;return Q.test(en)?null:{pattern:{requiredPattern:$,actualValue:en}}}}(Q)}static nullValidator(Q){return null}static compose(Q){return tn(Q)}static composeAsync(Q){return Oe(Q)}}function Be(se){return He(se.value)?{required:!0}:null}function ht(se){return!0===se.value?null:{required:!0}}function At(se){return null}function Ft(se){return null!=se}function yn(se){return(0,m.QGY)(se)?(0,v.D)(se):se}function $n(se){let Q={};return se.forEach($=>{Q=null!=$?{...Q,...$}:Q}),0===Object.keys(Q).length?null:Q}function Gn(se,Q){return Q.map($=>$(se))}function Ln(se){return se.map(Q=>function si(se){return!se.validate}(Q)?Q:$=>Q.validate($))}function tn(se){if(!se)return null;const Q=se.filter(Ft);return 0==Q.length?null:function($){return $n(Gn($,Q))}}function mn(se){return null!=se?tn(Ln(se)):null}function Oe(se){if(!se)return null;const Q=se.filter(Ft);return 0==Q.length?null:function($){const ke=Gn($,Q).map(yn);return(0,ne.D)(ke).pipe((0,C.U)($n))}}function Ve(se){return null!=se?Oe(Ln(se)):null}function Fe(se,Q){return null===se?[Q]:Array.isArray(se)?[...se,Q]:[se,Q]}function Ye(se){return se._rawValidators}function St(se){return se._rawAsyncValidators}function Xt(se){return se?Array.isArray(se)?se:[se]:[]}function Fn(se,Q){return Array.isArray(se)?se.includes(Q):se===Q}function Mt(se,Q){const $=Xt(Q);return Xt(se).forEach(en=>{Fn($,en)||$.push(en)}),$}function Kt(se,Q){return Xt(Q).filter($=>!Fn(se,$))}class Tt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Q){this._rawValidators=Q||[],this._composedValidatorFn=mn(this._rawValidators)}_setAsyncValidators(Q){this._rawAsyncValidators=Q||[],this._composedAsyncValidatorFn=Ve(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Q){this._onDestroyCallbacks.push(Q)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Q=>Q()),this._onDestroyCallbacks=[]}reset(Q){this.control&&this.control.reset(Q)}hasError(Q,$){return!!this.control&&this.control.hasError(Q,$)}getError(Q,$){return this.control?this.control.getError(Q,$):null}}class Vt extends Tt{get formDirective(){return null}get path(){return null}}class Cn extends Tt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class jt{constructor(Q){this._cd=Q}get isTouched(){var Q,$;return!(null===(Q=this._cd)||void 0===Q||null===($=Q.control)||void 0===$||!$.touched)}get isUntouched(){var Q,$;return!(null===(Q=this._cd)||void 0===Q||null===($=Q.control)||void 0===$||!$.untouched)}get isPristine(){var Q,$;return!(null===(Q=this._cd)||void 0===Q||null===($=Q.control)||void 0===$||!$.pristine)}get isDirty(){var Q,$;return!(null===(Q=this._cd)||void 0===Q||null===($=Q.control)||void 0===$||!$.dirty)}get isValid(){var Q,$;return!(null===(Q=this._cd)||void 0===Q||null===($=Q.control)||void 0===$||!$.valid)}get isInvalid(){var Q,$;return!(null===(Q=this._cd)||void 0===Q||null===($=Q.control)||void 0===$||!$.invalid)}get isPending(){var Q,$;return!(null===(Q=this._cd)||void 0===Q||null===($=Q.control)||void 0===$||!$.pending)}get isSubmitted(){var Q;return!(null===(Q=this._cd)||void 0===Q||!Q.submitted)}}let mt=(()=>{class se extends jt{constructor($){super($)}}return se.\u0275fac=function($){return new($||se)(m.Y36(Cn,2))},se.\u0275dir=m.lG2({type:se,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function($,ke){2&$&&m.ekj("ng-untouched",ke.isUntouched)("ng-touched",ke.isTouched)("ng-pristine",ke.isPristine)("ng-dirty",ke.isDirty)("ng-valid",ke.isValid)("ng-invalid",ke.isInvalid)("ng-pending",ke.isPending)},features:[m.qOj]}),se})(),ee=(()=>{class se extends jt{constructor($){super($)}}return se.\u0275fac=function($){return new($||se)(m.Y36(Vt,10))},se.\u0275dir=m.lG2({type:se,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function($,ke){2&$&&m.ekj("ng-untouched",ke.isUntouched)("ng-touched",ke.isTouched)("ng-pristine",ke.isPristine)("ng-dirty",ke.isDirty)("ng-valid",ke.isValid)("ng-invalid",ke.isInvalid)("ng-pending",ke.isPending)("ng-submitted",ke.isSubmitted)},features:[m.qOj]}),se})();const Se="VALID",Jt="INVALID",hn="PENDING",at="DISABLED";function it(se){return(_e(se)?se.validators:se)||null}function Xe(se){return Array.isArray(se)?mn(se):se||null}function Et(se,Q){return(_e(Q)?Q.asyncValidators:se)||null}function Ht(se){return Array.isArray(se)?Ve(se):se||null}function _e(se){return null!=se&&!Array.isArray(se)&&"object"==typeof se}function j(se,Q,$){const ke=se.controls;if(!(Q?Object.keys(ke):ke).length)throw new m.vHH(1e3,"");if(!ke[$])throw new m.vHH(1001,"")}function G(se,Q,$){se._forEachChild((ke,en)=>{if(void 0===$[en])throw new m.vHH(1002,"")})}class X{constructor(Q,$){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=Q,this._rawAsyncValidators=$,this._composedValidatorFn=Xe(this._rawValidators),this._composedAsyncValidatorFn=Ht(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(Q){this._rawValidators=this._composedValidatorFn=Q}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Q){this._rawAsyncValidators=this._composedAsyncValidatorFn=Q}get parent(){return this._parent}get valid(){return this.status===Se}get invalid(){return this.status===Jt}get pending(){return this.status==hn}get disabled(){return this.status===at}get enabled(){return this.status!==at}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Q){this._rawValidators=Q,this._composedValidatorFn=Xe(Q)}setAsyncValidators(Q){this._rawAsyncValidators=Q,this._composedAsyncValidatorFn=Ht(Q)}addValidators(Q){this.setValidators(Mt(Q,this._rawValidators))}addAsyncValidators(Q){this.setAsyncValidators(Mt(Q,this._rawAsyncValidators))}removeValidators(Q){this.setValidators(Kt(Q,this._rawValidators))}removeAsyncValidators(Q){this.setAsyncValidators(Kt(Q,this._rawAsyncValidators))}hasValidator(Q){return Fn(this._rawValidators,Q)}hasAsyncValidator(Q){return Fn(this._rawAsyncValidators,Q)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Q={}){this.touched=!0,this._parent&&!Q.onlySelf&&this._parent.markAsTouched(Q)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Q=>Q.markAllAsTouched())}markAsUntouched(Q={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild($=>{$.markAsUntouched({onlySelf:!0})}),this._parent&&!Q.onlySelf&&this._parent._updateTouched(Q)}markAsDirty(Q={}){this.pristine=!1,this._parent&&!Q.onlySelf&&this._parent.markAsDirty(Q)}markAsPristine(Q={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild($=>{$.markAsPristine({onlySelf:!0})}),this._parent&&!Q.onlySelf&&this._parent._updatePristine(Q)}markAsPending(Q={}){this.status=hn,!1!==Q.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Q.onlySelf&&this._parent.markAsPending(Q)}disable(Q={}){const $=this._parentMarkedDirty(Q.onlySelf);this.status=at,this.errors=null,this._forEachChild(ke=>{ke.disable({...Q,onlySelf:!0})}),this._updateValue(),!1!==Q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Q,skipPristineCheck:$}),this._onDisabledChange.forEach(ke=>ke(!0))}enable(Q={}){const $=this._parentMarkedDirty(Q.onlySelf);this.status=Se,this._forEachChild(ke=>{ke.enable({...Q,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Q.emitEvent}),this._updateAncestors({...Q,skipPristineCheck:$}),this._onDisabledChange.forEach(ke=>ke(!1))}_updateAncestors(Q){this._parent&&!Q.onlySelf&&(this._parent.updateValueAndValidity(Q),Q.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Q){this._parent=Q}getRawValue(){return this.value}updateValueAndValidity(Q={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Se||this.status===hn)&&this._runAsyncValidator(Q.emitEvent)),!1!==Q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Q.onlySelf&&this._parent.updateValueAndValidity(Q)}_updateTreeValidity(Q={emitEvent:!0}){this._forEachChild($=>$._updateTreeValidity(Q)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Q.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?at:Se}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Q){if(this.asyncValidator){this.status=hn,this._hasOwnPendingAsyncValidator=!0;const $=yn(this.asyncValidator(this));this._asyncValidationSubscription=$.subscribe(ke=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ke,{emitEvent:Q})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Q,$={}){this.errors=Q,this._updateControlsErrors(!1!==$.emitEvent)}get(Q){let $=Q;return null==$||(Array.isArray($)||($=$.split(".")),0===$.length)?null:$.reduce((ke,en)=>ke&&ke._find(en),this)}getError(Q,$){const ke=$?this.get($):this;return ke&&ke.errors?ke.errors[Q]:null}hasError(Q,$){return!!this.getError(Q,$)}get root(){let Q=this;for(;Q._parent;)Q=Q._parent;return Q}_updateControlsErrors(Q){this.status=this._calculateStatus(),Q&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Q)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?at:this.errors?Jt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hn)?hn:this._anyControlsHaveStatus(Jt)?Jt:Se}_anyControlsHaveStatus(Q){return this._anyControls($=>$.status===Q)}_anyControlsDirty(){return this._anyControls(Q=>Q.dirty)}_anyControlsTouched(){return this._anyControls(Q=>Q.touched)}_updatePristine(Q={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Q.onlySelf&&this._parent._updatePristine(Q)}_updateTouched(Q={}){this.touched=this._anyControlsTouched(),this._parent&&!Q.onlySelf&&this._parent._updateTouched(Q)}_registerOnCollectionChange(Q){this._onCollectionChange=Q}_setUpdateStrategy(Q){_e(Q)&&null!=Q.updateOn&&(this._updateOn=Q.updateOn)}_parentMarkedDirty(Q){return!Q&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Q){return null}}class K extends X{constructor(Q,$,ke){super(it($),Et(ke,$)),this.controls=Q,this._initObservables(),this._setUpdateStrategy($),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Q,$){return this.controls[Q]?this.controls[Q]:(this.controls[Q]=$,$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange),$)}addControl(Q,$,ke={}){this.registerControl(Q,$),this.updateValueAndValidity({emitEvent:ke.emitEvent}),this._onCollectionChange()}removeControl(Q,$={}){this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),delete this.controls[Q],this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}setControl(Q,$,ke={}){this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),delete this.controls[Q],$&&this.registerControl(Q,$),this.updateValueAndValidity({emitEvent:ke.emitEvent}),this._onCollectionChange()}contains(Q){return this.controls.hasOwnProperty(Q)&&this.controls[Q].enabled}setValue(Q,$={}){G(this,0,Q),Object.keys(Q).forEach(ke=>{j(this,!0,ke),this.controls[ke].setValue(Q[ke],{onlySelf:!0,emitEvent:$.emitEvent})}),this.updateValueAndValidity($)}patchValue(Q,$={}){null!=Q&&(Object.keys(Q).forEach(ke=>{const en=this.controls[ke];en&&en.patchValue(Q[ke],{onlySelf:!0,emitEvent:$.emitEvent})}),this.updateValueAndValidity($))}reset(Q={},$={}){this._forEachChild((ke,en)=>{ke.reset(Q[en],{onlySelf:!0,emitEvent:$.emitEvent})}),this._updatePristine($),this._updateTouched($),this.updateValueAndValidity($)}getRawValue(){return this._reduceChildren({},(Q,$,ke)=>(Q[ke]=$.getRawValue(),Q))}_syncPendingControls(){let Q=this._reduceChildren(!1,($,ke)=>!!ke._syncPendingControls()||$);return Q&&this.updateValueAndValidity({onlySelf:!0}),Q}_forEachChild(Q){Object.keys(this.controls).forEach($=>{const ke=this.controls[$];ke&&Q(ke,$)})}_setUpControls(){this._forEachChild(Q=>{Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Q){for(const[$,ke]of Object.entries(this.controls))if(this.contains($)&&Q(ke))return!0;return!1}_reduceValue(){return this._reduceChildren({},($,ke,en)=>((ke.enabled||this.disabled)&&($[en]=ke.value),$))}_reduceChildren(Q,$){let ke=Q;return this._forEachChild((en,Xn)=>{ke=$(ke,en,Xn)}),ke}_allControlsDisabled(){for(const Q of Object.keys(this.controls))if(this.controls[Q].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Q){return this.controls.hasOwnProperty(Q)?this.controls[Q]:null}}class Ct extends K{}function fn(se,Q){return[...Q.path,se]}function Ge(se,Q){var $,ke;Te(se,Q),Q.valueAccessor.writeValue(se.value),se.disabled&&(null===($=(ke=Q.valueAccessor).setDisabledState)||void 0===$||$.call(ke,!0)),function rt(se,Q){Q.valueAccessor.registerOnChange($=>{se._pendingValue=$,se._pendingChange=!0,se._pendingDirty=!0,"change"===se.updateOn&&rn(se,Q)})}(se,Q),function Kn(se,Q){const $=(ke,en)=>{Q.valueAccessor.writeValue(ke),en&&Q.viewToModelUpdate(ke)};se.registerOnChange($),Q._registerOnDestroy(()=>{se._unregisterOnChange($)})}(se,Q),function Lt(se,Q){Q.valueAccessor.registerOnTouched(()=>{se._pendingTouched=!0,"blur"===se.updateOn&&se._pendingChange&&rn(se,Q),"submit"!==se.updateOn&&se.markAsTouched()})}(se,Q),function We(se,Q){if(Q.valueAccessor.setDisabledState){const $=ke=>{Q.valueAccessor.setDisabledState(ke)};se.registerOnDisabledChange($),Q._registerOnDestroy(()=>{se._unregisterOnDisabledChange($)})}}(se,Q)}function je(se,Q,$=!0){const ke=()=>{};Q.valueAccessor&&(Q.valueAccessor.registerOnChange(ke),Q.valueAccessor.registerOnTouched(ke)),we(se,Q),se&&(Q._invokeOnDestroyCallbacks(),se._registerOnCollectionChange(()=>{}))}function Ue(se,Q){se.forEach($=>{$.registerOnValidatorChange&&$.registerOnValidatorChange(Q)})}function Te(se,Q){const $=Ye(se);null!==Q.validator?se.setValidators(Fe($,Q.validator)):"function"==typeof $&&se.setValidators([$]);const ke=St(se);null!==Q.asyncValidator?se.setAsyncValidators(Fe(ke,Q.asyncValidator)):"function"==typeof ke&&se.setAsyncValidators([ke]);const en=()=>se.updateValueAndValidity();Ue(Q._rawValidators,en),Ue(Q._rawAsyncValidators,en)}function we(se,Q){let $=!1;if(null!==se){if(null!==Q.validator){const en=Ye(se);if(Array.isArray(en)&&en.length>0){const Xn=en.filter(Cr=>Cr!==Q.validator);Xn.length!==en.length&&($=!0,se.setValidators(Xn))}}if(null!==Q.asyncValidator){const en=St(se);if(Array.isArray(en)&&en.length>0){const Xn=en.filter(Cr=>Cr!==Q.asyncValidator);Xn.length!==en.length&&($=!0,se.setAsyncValidators(Xn))}}}const ke=()=>{};return Ue(Q._rawValidators,ke),Ue(Q._rawAsyncValidators,ke),$}function rn(se,Q){se._pendingDirty&&se.markAsDirty(),se.setValue(se._pendingValue,{emitModelToViewChange:!1}),Q.viewToModelUpdate(se._pendingValue),se._pendingChange=!1}function Pn(se,Q){Te(se,Q)}function Ji(se,Q){if(!se.hasOwnProperty("model"))return!1;const $=se.model;return!!$.isFirstChange()||!Object.is(Q,$.currentValue)}function Mr(se,Q){se._syncPendingControls(),Q.forEach($=>{const ke=$.control;"submit"===ke.updateOn&&ke._pendingChange&&($.viewToModelUpdate(ke._pendingValue),ke._pendingChange=!1)})}function br(se,Q){if(!Q)return null;let $,ke,en;return Array.isArray(Q),Q.forEach(Xn=>{Xn.constructor===Ke?$=Xn:function hr(se){return Object.getPrototypeOf(se.constructor)===De}(Xn)?ke=Xn:en=Xn}),en||ke||$||null}const to={provide:Vt,useExisting:(0,m.Gpc)(()=>Es)},fs=(()=>Promise.resolve())();let Es=(()=>{class se extends Vt{constructor($,ke){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new m.vpe,this.form=new K({},mn($),Ve(ke))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl($){fs.then(()=>{const ke=this._findContainer($.path);$.control=ke.registerControl($.name,$.control),Ge($.control,$),$.control.updateValueAndValidity({emitEvent:!1}),this._directives.add($)})}getControl($){return this.form.get($.path)}removeControl($){fs.then(()=>{const ke=this._findContainer($.path);ke&&ke.removeControl($.name),this._directives.delete($)})}addFormGroup($){fs.then(()=>{const ke=this._findContainer($.path),en=new K({});Pn(en,$),ke.registerControl($.name,en),en.updateValueAndValidity({emitEvent:!1})})}removeFormGroup($){fs.then(()=>{const ke=this._findContainer($.path);ke&&ke.removeControl($.name)})}getFormGroup($){return this.form.get($.path)}updateModel($,ke){fs.then(()=>{this.form.get($.path).setValue(ke)})}setValue($){this.control.setValue($)}onSubmit($){var ke;return this.submitted=!0,Mr(this.form,this._directives),this.ngSubmit.emit($),"dialog"===(null==$||null===(ke=$.target)||void 0===ke?void 0:ke.method)}onReset(){this.resetForm()}resetForm($){this.form.reset($),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer($){return $.pop(),$.length?this.form.get($):this.form}}return se.\u0275fac=function($){return new($||se)(m.Y36(pt,10),m.Y36(Ut,10))},se.\u0275dir=m.lG2({type:se,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function($,ke){1&$&&m.NdJ("submit",function(Xn){return ke.onSubmit(Xn)})("reset",function(){return ke.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([to]),m.qOj]}),se})();function Br(se,Q){const $=se.indexOf(Q);$>-1&&se.splice($,1)}function qr(se){return"object"==typeof se&&null!==se&&2===Object.keys(se).length&&"value"in se&&"disabled"in se}const Vr=class extends X{constructor(Q=null,$,ke){super(it($),Et(ke,$)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Q),this._setUpdateStrategy($),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_e($)&&($.nonNullable||$.initialValueIsDefault)&&(this.defaultValue=qr(Q)?Q.value:Q)}setValue(Q,$={}){this.value=this._pendingValue=Q,this._onChange.length&&!1!==$.emitModelToViewChange&&this._onChange.forEach(ke=>ke(this.value,!1!==$.emitViewToModelChange)),this.updateValueAndValidity($)}patchValue(Q,$={}){this.setValue(Q,$)}reset(Q=this.defaultValue,$={}){this._applyFormState(Q),this.markAsPristine($),this.markAsUntouched($),this.setValue(this.value,$),this._pendingChange=!1}_updateValue(){}_anyControls(Q){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Q){this._onChange.push(Q)}_unregisterOnChange(Q){Br(this._onChange,Q)}registerOnDisabledChange(Q){this._onDisabledChange.push(Q)}_unregisterOnDisabledChange(Q){Br(this._onDisabledChange,Q)}_forEachChild(Q){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Q){qr(Q)?(this.value=this._pendingValue=Q.value,Q.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Q}},yo={provide:Cn,useExisting:(0,m.Gpc)(()=>no)},Fa=(()=>Promise.resolve())();let no=(()=>{class se extends Cn{constructor($,ke,en,Xn,Cr){super(),this._changeDetectorRef=Cr,this.control=new Vr,this._registered=!1,this.update=new m.vpe,this._parent=$,this._setValidators(ke),this._setAsyncValidators(en),this.valueAccessor=br(0,Xn)}ngOnChanges($){if(this._checkForErrors(),!this._registered||"name"in $){if(this._registered&&(this._checkName(),this.formDirective)){const ke=$.name.previousValue;this.formDirective.removeControl({name:ke,path:this._getPath(ke)})}this._setUpControl()}"isDisabled"in $&&this._updateDisabled($),Ji($,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ge(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue($){Fa.then(()=>{var ke;this.control.setValue($,{emitViewToModelChange:!1}),null===(ke=this._changeDetectorRef)||void 0===ke||ke.markForCheck()})}_updateDisabled($){const ke=$.isDisabled.currentValue,en=0!==ke&&(0,m.D6c)(ke);Fa.then(()=>{var Xn;en&&!this.control.disabled?this.control.disable():!en&&this.control.disabled&&this.control.enable(),null===(Xn=this._changeDetectorRef)||void 0===Xn||Xn.markForCheck()})}_getPath($){return this._parent?fn($,this._parent):[$]}}return se.\u0275fac=function($){return new($||se)(m.Y36(Vt,9),m.Y36(pt,10),m.Y36(Ut,10),m.Y36(fe,10),m.Y36(m.sBO,8))},se.\u0275dir=m.lG2({type:se,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m._Bn([yo]),m.qOj,m.TTD]}),se})(),La=(()=>{class se{}return se.\u0275fac=function($){return new($||se)},se.\u0275dir=m.lG2({type:se,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),se})(),zt=(()=>{class se{}return se.\u0275fac=function($){return new($||se)},se.\u0275mod=m.oAB({type:se}),se.\u0275inj=m.cJS({}),se})();const Ir=new m.OlP("NgModelWithFormControlWarning"),qi={provide:Cn,useExisting:(0,m.Gpc)(()=>zr)};let zr=(()=>{class se extends Cn{constructor($,ke,en,Xn){super(),this._ngModelWarningConfig=Xn,this.update=new m.vpe,this._ngModelWarningSent=!1,this._setValidators($),this._setAsyncValidators(ke),this.valueAccessor=br(0,en)}set isDisabled($){}ngOnChanges($){if(this._isControlChanged($)){const ke=$.form.previousValue;ke&&je(ke,this,!1),Ge(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}Ji($,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&je(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}_isControlChanged($){return $.hasOwnProperty("form")}}return se._ngModelWarningSentOnce=!1,se.\u0275fac=function($){return new($||se)(m.Y36(pt,10),m.Y36(Ut,10),m.Y36(fe,10),m.Y36(Ir,8))},se.\u0275dir=m.lG2({type:se,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[m._Bn([qi]),m.qOj,m.TTD]}),se})();const ls={provide:Vt,useExisting:(0,m.Gpc)(()=>Ts)};let Ts=(()=>{class se extends Vt{constructor($,ke){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.vpe,this._setValidators($),this._setAsyncValidators(ke)}ngOnChanges($){this._checkFormPresent(),$.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(we(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl($){const ke=this.form.get($.path);return Ge(ke,$),ke.updateValueAndValidity({emitEvent:!1}),this.directives.push($),ke}getControl($){return this.form.get($.path)}removeControl($){je($.control||null,$,!1),function ns(se,Q){const $=se.indexOf(Q);$>-1&&se.splice($,1)}(this.directives,$)}addFormGroup($){this._setUpFormContainer($)}removeFormGroup($){this._cleanUpFormContainer($)}getFormGroup($){return this.form.get($.path)}addFormArray($){this._setUpFormContainer($)}removeFormArray($){this._cleanUpFormContainer($)}getFormArray($){return this.form.get($.path)}updateModel($,ke){this.form.get($.path).setValue(ke)}onSubmit($){var ke;return this.submitted=!0,Mr(this.form,this.directives),this.ngSubmit.emit($),"dialog"===(null==$||null===(ke=$.target)||void 0===ke?void 0:ke.method)}onReset(){this.resetForm()}resetForm($){this.form.reset($),this.submitted=!1}_updateDomValue(){this.directives.forEach($=>{const ke=$.control,en=this.form.get($.path);ke!==en&&(je(ke||null,$),(se=>se instanceof Vr)(en)&&(Ge(en,$),$.control=en))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer($){const ke=this.form.get($.path);Pn(ke,$),ke.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer($){if(this.form){const ke=this.form.get($.path);ke&&function hi(se,Q){return we(se,Q)}(ke,$)&&ke.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Te(this.form,this),this._oldForm&&we(this._oldForm,this)}_checkFormPresent(){}}return se.\u0275fac=function($){return new($||se)(m.Y36(pt,10),m.Y36(Ut,10))},se.\u0275dir=m.lG2({type:se,selectors:[["","formGroup",""]],hostBindings:function($,ke){1&$&&m.NdJ("submit",function(Xn){return ke.onSubmit(Xn)})("reset",function(){return ke.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([ls]),m.qOj,m.TTD]}),se})();const Oo={provide:Cn,useExisting:(0,m.Gpc)(()=>Po)};let Po=(()=>{class se extends Cn{constructor($,ke,en,Xn,Cr){super(),this._ngModelWarningConfig=Cr,this._added=!1,this.update=new m.vpe,this._ngModelWarningSent=!1,this._parent=$,this._setValidators(ke),this._setAsyncValidators(en),this.valueAccessor=br(0,Xn)}set isDisabled($){}ngOnChanges($){this._added||this._setUpControl(),Ji($,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}get path(){return fn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return se._ngModelWarningSentOnce=!1,se.\u0275fac=function($){return new($||se)(m.Y36(Vt,13),m.Y36(pt,10),m.Y36(Ut,10),m.Y36(fe,10),m.Y36(Ir,8))},se.\u0275dir=m.lG2({type:se,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[m._Bn([Oo]),m.qOj,m.TTD]}),se})();const Ca={provide:fe,useExisting:(0,m.Gpc)(()=>fr),multi:!0};function oa(se,Q){return null==se?`${Q}`:(Q&&"object"==typeof Q&&(Q="Object"),`${se}: ${Q}`.slice(0,50))}let fr=(()=>{class se extends De{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith($){this._compareWith=$}writeValue($){this.value=$;const en=oa(this._getOptionId($),$);this.setProperty("value",en)}registerOnChange($){this.onChange=ke=>{this.value=this._getOptionValue(ke),$(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId($){for(const ke of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ke),$))return ke;return null}_getOptionValue($){const ke=function io(se){return se.split(":")[0]}($);return this._optionMap.has(ke)?this._optionMap.get(ke):$}}return se.\u0275fac=function(){let Q;return function(ke){return(Q||(Q=m.n5z(se)))(ke||se)}}(),se.\u0275dir=m.lG2({type:se,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function($,ke){1&$&&m.NdJ("change",function(Xn){return ke.onChange(Xn.target.value)})("blur",function(){return ke.onTouched()})},inputs:{compareWith:"compareWith"},features:[m._Bn([Ca]),m.qOj]}),se})(),Ms=(()=>{class se{constructor($,ke,en){this._element=$,this._renderer=ke,this._select=en,this._select&&(this.id=this._select._registerOption())}set ngValue($){null!=this._select&&(this._select._optionMap.set(this.id,$),this._setElementValue(oa(this.id,$)),this._select.writeValue(this._select.value))}set value($){this._setElementValue($),this._select&&this._select.writeValue(this._select.value)}_setElementValue($){this._renderer.setProperty(this._element.nativeElement,"value",$)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return se.\u0275fac=function($){return new($||se)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(fr,9))},se.\u0275dir=m.lG2({type:se,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),se})();const Is={provide:fe,useExisting:(0,m.Gpc)(()=>Wr),multi:!0};function xs(se,Q){return null==se?`${Q}`:("string"==typeof Q&&(Q=`'${Q}'`),Q&&"object"==typeof Q&&(Q="Object"),`${se}: ${Q}`.slice(0,50))}let Wr=(()=>{class se extends De{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith($){this._compareWith=$}writeValue($){let ke;if(this.value=$,Array.isArray($)){const en=$.map(Xn=>this._getOptionId(Xn));ke=(Xn,Cr)=>{Xn._setSelected(en.indexOf(Cr.toString())>-1)}}else ke=(en,Xn)=>{en._setSelected(!1)};this._optionMap.forEach(ke)}registerOnChange($){this.onChange=ke=>{const en=[],Xn=ke.selectedOptions;if(void 0!==Xn){const Cr=Xn;for(let oo=0;oo<Cr.length;oo++){const gr=this._getOptionValue(Cr[oo].value);en.push(gr)}}else{const Cr=ke.options;for(let oo=0;oo<Cr.length;oo++){const Fr=Cr[oo];if(Fr.selected){const gr=this._getOptionValue(Fr.value);en.push(gr)}}}this.value=en,$(en)}}_registerOption($){const ke=(this._idCounter++).toString();return this._optionMap.set(ke,$),ke}_getOptionId($){for(const ke of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ke)._value,$))return ke;return null}_getOptionValue($){const ke=function Hs(se){return se.split(":")[0]}($);return this._optionMap.has(ke)?this._optionMap.get(ke)._value:$}}return se.\u0275fac=function(){let Q;return function(ke){return(Q||(Q=m.n5z(se)))(ke||se)}}(),se.\u0275dir=m.lG2({type:se,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function($,ke){1&$&&m.NdJ("change",function(Xn){return ke.onChange(Xn.target)})("blur",function(){return ke.onTouched()})},inputs:{compareWith:"compareWith"},features:[m._Bn([Is]),m.qOj]}),se})(),ro=(()=>{class se{constructor($,ke,en){this._element=$,this._renderer=ke,this._select=en,this._select&&(this.id=this._select._registerOption(this))}set ngValue($){null!=this._select&&(this._value=$,this._setElementValue(xs(this.id,$)),this._select.writeValue(this._select.value))}set value($){this._select?(this._value=$,this._setElementValue(xs(this.id,$)),this._select.writeValue(this._select.value)):this._setElementValue($)}_setElementValue($){this._renderer.setProperty(this._element.nativeElement,"value",$)}_setSelected($){this._renderer.setProperty(this._element.nativeElement,"selected",$)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return se.\u0275fac=function($){return new($||se)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(Wr,9))},se.\u0275dir=m.lG2({type:se,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),se})(),As=(()=>{class se{constructor(){this._validator=At}ngOnChanges($){if(this.inputName in $){const ke=this.normalizeInput($[this.inputName].currentValue);this._enabled=this.enabled(ke),this._validator=this._enabled?this.createValidator(ke):At,this._onChange&&this._onChange()}}validate($){return this._validator($)}registerOnValidatorChange($){this._onChange=$}enabled($){return null!=$}}return se.\u0275fac=function($){return new($||se)},se.\u0275dir=m.lG2({type:se,features:[m.TTD]}),se})();const xi={provide:pt,useExisting:(0,m.Gpc)(()=>so),multi:!0},Ur={provide:pt,useExisting:(0,m.Gpc)(()=>vs),multi:!0};let so=(()=>{class se extends As{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=m.D6c,this.createValidator=$=>Be}enabled($){return $}}return se.\u0275fac=function(){let Q;return function(ke){return(Q||(Q=m.n5z(se)))(ke||se)}}(),se.\u0275dir=m.lG2({type:se,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function($,ke){2&$&&m.uIk("required",ke._enabled?"":null)},inputs:{required:"required"},features:[m._Bn([xi]),m.qOj]}),se})(),vs=(()=>{class se extends so{constructor(){super(...arguments),this.createValidator=$=>ht}}return se.\u0275fac=function(){let Q;return function(ke){return(Q||(Q=m.n5z(se)))(ke||se)}}(),se.\u0275dir=m.lG2({type:se,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function($,ke){2&$&&m.uIk("required",ke._enabled?"":null)},features:[m._Bn([Ur]),m.qOj]}),se})(),ps=(()=>{class se{}return se.\u0275fac=function($){return new($||se)},se.\u0275mod=m.oAB({type:se}),se.\u0275inj=m.cJS({imports:[zt]}),se})(),pl=(()=>{class se{}return se.\u0275fac=function($){return new($||se)},se.\u0275mod=m.oAB({type:se}),se.\u0275inj=m.cJS({imports:[ps]}),se})(),ca=(()=>{class se{static withConfig($){return{ngModule:se,providers:[{provide:Ir,useValue:$.warnOnNgModelWithFormControl}]}}}return se.\u0275fac=function($){return new($||se)},se.\u0275mod=m.oAB({type:se}),se.\u0275inj=m.cJS({imports:[ps]}),se})();class $s extends X{constructor(Q,$,ke){super(it($),Et(ke,$)),this.controls=Q,this._initObservables(),this._setUpdateStrategy($),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Q){return this.controls[this._adjustIndex(Q)]}push(Q,$={}){this.controls.push(Q),this._registerControl(Q),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}insert(Q,$,ke={}){this.controls.splice(Q,0,$),this._registerControl($),this.updateValueAndValidity({emitEvent:ke.emitEvent})}removeAt(Q,$={}){let ke=this._adjustIndex(Q);ke<0&&(ke=0),this.controls[ke]&&this.controls[ke]._registerOnCollectionChange(()=>{}),this.controls.splice(ke,1),this.updateValueAndValidity({emitEvent:$.emitEvent})}setControl(Q,$,ke={}){let en=this._adjustIndex(Q);en<0&&(en=0),this.controls[en]&&this.controls[en]._registerOnCollectionChange(()=>{}),this.controls.splice(en,1),$&&(this.controls.splice(en,0,$),this._registerControl($)),this.updateValueAndValidity({emitEvent:ke.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Q,$={}){G(this,0,Q),Q.forEach((ke,en)=>{j(this,!1,en),this.at(en).setValue(ke,{onlySelf:!0,emitEvent:$.emitEvent})}),this.updateValueAndValidity($)}patchValue(Q,$={}){null!=Q&&(Q.forEach((ke,en)=>{this.at(en)&&this.at(en).patchValue(ke,{onlySelf:!0,emitEvent:$.emitEvent})}),this.updateValueAndValidity($))}reset(Q=[],$={}){this._forEachChild((ke,en)=>{ke.reset(Q[en],{onlySelf:!0,emitEvent:$.emitEvent})}),this._updatePristine($),this._updateTouched($),this.updateValueAndValidity($)}getRawValue(){return this.controls.map(Q=>Q.getRawValue())}clear(Q={}){this.controls.length<1||(this._forEachChild($=>$._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Q.emitEvent}))}_adjustIndex(Q){return Q<0?Q+this.length:Q}_syncPendingControls(){let Q=this.controls.reduce(($,ke)=>!!ke._syncPendingControls()||$,!1);return Q&&this.updateValueAndValidity({onlySelf:!0}),Q}_forEachChild(Q){this.controls.forEach(($,ke)=>{Q($,ke)})}_updateValue(){this.value=this.controls.filter(Q=>Q.enabled||this.disabled).map(Q=>Q.value)}_anyControls(Q){return this.controls.some($=>$.enabled&&Q($))}_setUpControls(){this._forEachChild(Q=>this._registerControl(Q))}_allControlsDisabled(){for(const Q of this.controls)if(Q.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Q){Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange)}_find(Q){var $;return null!==($=this.at(Q))&&void 0!==$?$:null}}function En(se){return!!se&&(void 0!==se.asyncValidators||void 0!==se.validators||void 0!==se.updateOn)}let Mi=(()=>{class se{constructor(){this.useNonNullable=!1}get nonNullable(){const $=new se;return $.useNonNullable=!0,$}group($,ke=null){const en=this._reduceControls($);let Xn={};return En(ke)?Xn=ke:null!==ke&&(Xn.validators=ke.validator,Xn.asyncValidators=ke.asyncValidator),new K(en,Xn)}record($,ke=null){const en=this._reduceControls($);return new Ct(en,ke)}control($,ke,en){let Xn={};return this.useNonNullable?(En(ke)?Xn=ke:(Xn.validators=ke,Xn.asyncValidators=en),new Vr($,{...Xn,nonNullable:!0})):new Vr($,ke,en)}array($,ke,en){const Xn=$.map(Cr=>this._createControl(Cr));return new $s(Xn,ke,en)}_reduceControls($){const ke={};return Object.keys($).forEach(en=>{ke[en]=this._createControl($[en])}),ke}_createControl($){return $ instanceof Vr||$ instanceof X?$:Array.isArray($)?this.control($[0],$.length>1?$[1]:null,$.length>2?$[2]:null):this.control($)}}return se.\u0275fac=function($){return new($||se)},se.\u0275prov=m.Yz7({token:se,factory:se.\u0275fac,providedIn:ca}),se})()},8242:(gn,_t,k)=>{"use strict";k.d(_t,{OG:()=>Ut,_r:()=>pt,ch:()=>Je,oL:()=>kt});var m=k(7855),N=k(4080),v=k(4650),ne=k(3238),C=k(2687),J=k(2289),De=k(8184),fe=k(6895),Ie=k(7340),ce=k(9521),ge=k(8929),be=k(6787),Ne=k(2198),Ke=k(2986);function lt(Be,ht){}const He={bottomSheetState:(0,Ie.X$)("state",[(0,Ie.SB)("void, hidden",(0,Ie.oB)({transform:"translateY(100%)"})),(0,Ie.SB)("visible",(0,Ie.oB)({transform:"translateY(0%)"})),(0,Ie.eR)("visible => void, visible => hidden",(0,Ie.ru)([(0,Ie.jt)(`${ne.mZ.COMPLEX} ${ne.yN.ACCELERATION_CURVE}`),(0,Ie.IO)("@*",(0,Ie.pV)(),{optional:!0})])),(0,Ie.eR)("void => visible",(0,Ie.ru)([(0,Ie.jt)(`${ne.mZ.EXITING} ${ne.yN.DECELERATION_CURVE}`),(0,Ie.IO)("@*",(0,Ie.pV)(),{optional:!0})]))])};let ot=(()=>{class Be extends m.LL{constructor(et,qe,Pt,ze,At,Ft,yn,$n,Gn,si){super(et,qe,Pt,ze,At,Ft,yn,si),this._changeDetectorRef=Gn,this._animationState="void",this._animationStateChanged=new v.vpe,this._breakpointSubscription=$n.observe([J.u3.Medium,J.u3.Large,J.u3.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",$n.isMatched(J.u3.Medium)),this._toggleClass("mat-bottom-sheet-container-large",$n.isMatched(J.u3.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",$n.isMatched(J.u3.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(et){"visible"===et.toState&&this._trapFocus(),this._animationStateChanged.emit(et)}_onAnimationStart(et){this._animationStateChanged.emit(et)}_captureInitialFocus(){}_toggleClass(et,qe){this._elementRef.nativeElement.classList.toggle(et,qe)}}return Be.\u0275fac=function(et){return new(et||Be)(v.Y36(v.SBq),v.Y36(C.qV),v.Y36(fe.K0,8),v.Y36(m.ib),v.Y36(C.ic),v.Y36(v.R0b),v.Y36(De.Iu),v.Y36(J.Yg),v.Y36(v.sBO),v.Y36(C.tE))},Be.\u0275cmp=v.Xpm({type:Be,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(et,qe){1&et&&v.WFA("@state.start",function(ze){return qe._onAnimationStart(ze)})("@state.done",function(ze){return qe._onAnimationDone(ze)}),2&et&&(v.uIk("role",qe._config.role)("aria-modal",qe._config.ariaModal)("aria-label",qe._config.ariaLabel),v.d8E("@state",qe._animationState))},features:[v.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(et,qe){1&et&&v.YNc(0,lt,0,0,"ng-template",0)},dependencies:[N.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[He.bottomSheetState]}}),Be})(),pt=(()=>{class Be{}return Be.\u0275fac=function(et){return new(et||Be)},Be.\u0275mod=v.oAB({type:Be}),Be.\u0275inj=v.cJS({imports:[m.Su,ne.BQ,N.eL,ne.BQ]}),Be})();const Ut=new v.OlP("MatBottomSheetData");class ut{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class kt{constructor(ht,et,qe){this._ref=ht,this._afterOpened=new ge.xQ,this.containerInstance=qe,this.disableClose=et.disableClose,qe._animationStateChanged.pipe((0,Ne.h)(Pt=>"done"===Pt.phaseName&&"visible"===Pt.toState),(0,Ke.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),qe._animationStateChanged.pipe((0,Ne.h)(Pt=>"done"===Pt.phaseName&&"hidden"===Pt.toState),(0,Ke.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),ht.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),(0,be.T)(this.backdropClick(),this.keydownEvents().pipe((0,Ne.h)(Pt=>Pt.keyCode===ce.hY))).subscribe(Pt=>{!this.disableClose&&("keydown"!==Pt.type||!(0,ce.Vb)(Pt))&&(Pt.preventDefault(),this.dismiss())})}get instance(){return this._ref.componentInstance}dismiss(ht){!this.containerInstance||(this.containerInstance._animationStateChanged.pipe((0,Ne.h)(et=>"start"===et.phaseName),(0,Ke.q)(1)).subscribe(et=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},et.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=ht,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const vt=new v.OlP("mat-bottom-sheet-default-options");let Je=(()=>{class Be{constructor(et,qe,Pt,ze){this._overlay=et,this._parentBottomSheet=Pt,this._defaultOptions=ze,this._bottomSheetRefAtThisLevel=null,this._dialog=qe.get(m.Vq)}get _openedBottomSheetRef(){const et=this._parentBottomSheet;return et?et._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(et){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=et:this._bottomSheetRefAtThisLevel=et}open(et,qe){const Pt={...this._defaultOptions||new ut,...qe};let ze;return this._dialog.open(et,{...Pt,disableClose:!0,maxWidth:"100%",container:ot,scrollStrategy:Pt.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:ze}),providers:(At,Ft,yn)=>(ze=new kt(At,Pt,yn),[{provide:kt,useValue:ze},{provide:Ut,useValue:Pt.data}])}),ze.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===ze&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>{var At;return null===(At=ze.containerInstance)||void 0===At?void 0:At.enter()}),this._openedBottomSheetRef.dismiss()):ze.containerInstance.enter(),this._openedBottomSheetRef=ze,ze}dismiss(et){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(et)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}}return Be.\u0275fac=function(et){return new(et||Be)(v.LFG(De.aV),v.LFG(v.zs3),v.LFG(Be,12),v.LFG(vt,8))},Be.\u0275prov=v.Yz7({token:Be,factory:Be.\u0275fac,providedIn:pt}),Be})()},3546:(gn,_t,k)=>{"use strict";k.d(_t,{QW:()=>Je,a8:()=>ut});var m=k(4650),N=k(3238);const v=["*",[["mat-card-footer"]]],ne=["*","mat-card-footer"];let ut=(()=>{class Be{constructor(et){this._animationMode=et}}return Be.\u0275fac=function(et){return new(et||Be)(m.Y36(m.QbO,8))},Be.\u0275cmp=m.Xpm({type:Be,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(et,qe){2&et&&m.ekj("_mat-animation-noopable","NoopAnimations"===qe._animationMode)},exportAs:["matCard"],ngContentSelectors:ne,decls:2,vars:0,template:function(et,qe){1&et&&(m.F$t(v),m.Hsn(0),m.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),Be})(),Je=(()=>{class Be{}return Be.\u0275fac=function(et){return new(et||Be)},Be.\u0275mod=m.oAB({type:Be}),Be.\u0275inj=m.cJS({imports:[N.BQ,N.BQ]}),Be})()},7331:(gn,_t,k)=>{"use strict";k.d(_t,{EC:()=>Be,HS:()=>et,Hi:()=>Ln,qn:()=>yn});var m=k(9521),N=k(4650),v=k(3238),ne=k(1281),C=k(3353),J=k(6895),De=k(8929),fe=k(6787),Ie=k(2986),ce=k(7625),ge=k(1059),be=k(2687),Ne=k(445),Ke=k(5017),lt=k(4006),He=k(9549);const ot=["*"],Ut=new N.OlP("MatChipRemove"),ut=new N.OlP("MatChipAvatar"),kt=new N.OlP("MatChipTrailingIcon");class vt{constructor(mn){this._elementRef=mn}}const Je=(0,v.sb)((0,v.pj)((0,v.Kr)(vt),"primary"),-1);let Be=(()=>{class tn{}return tn.\u0275fac=function(Oe){return new(Oe||tn)},tn.\u0275dir=N.lG2({type:tn,selectors:[["mat-chip-avatar"],["","matChipAvatar",""]],hostAttrs:[1,"mat-chip-avatar"],features:[N._Bn([{provide:ut,useExisting:tn}])]}),tn})(),et=(()=>{class tn extends Je{constructor(Oe,Ve,Fe,Ye,St,Xt,Fn,Mt){super(Oe),this._ngZone=Ve,this._changeDetectorRef=St,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this.role="option",this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new De.xQ,this._onBlur=new De.xQ,this.selectionChange=new N.vpe,this.destroyed=new N.vpe,this.removed=new N.vpe,this._addHostClassName(),this._chipRippleTarget=Xt.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new v.IR(this,Ve,this._chipRippleTarget,Fe),this._chipRipple.setupTriggerEvents(Oe),this.rippleConfig=Ye||{},this._animationsDisabled="NoopAnimations"===Fn,this.tabIndex=null!=Mt&&parseInt(Mt)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(Oe){const Ve=(0,ne.Ig)(Oe);Ve!==this._selected&&(this._selected=Ve,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(Oe){this._value=Oe}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(Oe){this._selectable=(0,ne.Ig)(Oe)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(Oe){this._disabled=(0,ne.Ig)(Oe)}get removable(){return this._removable}set removable(Oe){this._removable=(0,ne.Ig)(Oe)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const Oe="mat-basic-chip",Ve=this._elementRef.nativeElement;Ve.hasAttribute(Oe)||Ve.tagName.toLowerCase()===Oe?Ve.classList.add(Oe):Ve.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(Oe=!1){return this._selected=!this.selected,this._dispatchSelectionChange(Oe),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(Oe){this.disabled&&Oe.preventDefault()}_handleKeydown(Oe){if(!this.disabled)switch(Oe.keyCode){case m.yY:case m.ZH:this.remove(),Oe.preventDefault();break;case m.L_:this.selectable&&this.toggleSelected(!0),Oe.preventDefault()}}_blur(){this._ngZone.onStable.pipe((0,Ie.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(Oe=!1){this.selectionChange.emit({source:this,isUserInput:Oe,selected:this._selected})}}return tn.\u0275fac=function(Oe){return new(Oe||tn)(N.Y36(N.SBq),N.Y36(N.R0b),N.Y36(C.t4),N.Y36(v.Y2,8),N.Y36(N.sBO),N.Y36(J.K0),N.Y36(N.QbO,8),N.$8M("tabindex"))},tn.\u0275dir=N.lG2({type:tn,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(Oe,Ve,Fe){if(1&Oe&&(N.Suo(Fe,ut,5),N.Suo(Fe,kt,5),N.Suo(Fe,Ut,5)),2&Oe){let Ye;N.iGM(Ye=N.CRH())&&(Ve.avatar=Ye.first),N.iGM(Ye=N.CRH())&&(Ve.trailingIcon=Ye.first),N.iGM(Ye=N.CRH())&&(Ve.removeIcon=Ye.first)}},hostAttrs:[1,"mat-chip","mat-focus-indicator"],hostVars:15,hostBindings:function(Oe,Ve){1&Oe&&N.NdJ("click",function(Ye){return Ve._handleClick(Ye)})("keydown",function(Ye){return Ve._handleKeydown(Ye)})("focus",function(){return Ve.focus()})("blur",function(){return Ve._blur()}),2&Oe&&(N.uIk("tabindex",Ve.disabled?null:Ve.tabIndex)("role",Ve.role)("disabled",Ve.disabled||null)("aria-disabled",Ve.disabled.toString())("aria-selected",Ve.ariaSelected),N.ekj("mat-chip-selected",Ve.selected)("mat-chip-with-avatar",Ve.avatar)("mat-chip-with-trailing-icon",Ve.trailingIcon||Ve.removeIcon)("mat-chip-disabled",Ve.disabled)("_mat-animation-noopable",Ve._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[N.qOj]}),tn})();const Pt=new N.OlP("mat-chips-default-options"),ze=(0,v.FD)(class{constructor(tn,mn,Oe,Ve){this._defaultErrorStateMatcher=tn,this._parentForm=mn,this._parentFormGroup=Oe,this.ngControl=Ve,this.stateChanges=new De.xQ}});let At=0;class Ft{constructor(mn,Oe){this.source=mn,this.value=Oe}}let yn=(()=>{class tn extends ze{constructor(Oe,Ve,Fe,Ye,St,Xt,Fn){super(Xt,Ye,St,Fn),this._elementRef=Oe,this._changeDetectorRef=Ve,this._dir=Fe,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new De.xQ,this._uid="mat-chip-list-"+At++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(Mt,Kt)=>Mt===Kt,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new N.vpe,this.valueChange=new N.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){var Oe,Ve;return this.multiple?(null===(Oe=this._selectionModel)||void 0===Oe?void 0:Oe.selected)||[]:null===(Ve=this._selectionModel)||void 0===Ve?void 0:Ve.selected[0]}get role(){return this._explicitRole?this._explicitRole:this.empty?null:"listbox"}set role(Oe){this._explicitRole=Oe}get multiple(){return this._multiple}set multiple(Oe){this._multiple=(0,ne.Ig)(Oe),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(Oe){this._compareWith=Oe,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(Oe){this.writeValue(Oe),this._value=Oe}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){var Oe,Ve,Fe,Ye;return null!==(Oe=null!==(Ve=this._required)&&void 0!==Ve?Ve:null===(Fe=this.ngControl)||void 0===Fe||null===(Ye=Fe.control)||void 0===Ye?void 0:Ye.hasValidator(lt.kI.required))&&void 0!==Oe&&Oe}set required(Oe){this._required=(0,ne.Ig)(Oe),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(Oe){this._placeholder=Oe,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(Oe){this._disabled=(0,ne.Ig)(Oe),this._syncChipsState()}get selectable(){return this._selectable}set selectable(Oe){this._selectable=(0,ne.Ig)(Oe),this._syncChipsState()}set tabIndex(Oe){this._userTabIndex=Oe,this._tabIndex=Oe}get chipSelectionChanges(){return(0,fe.T)(...this.chips.map(Oe=>Oe.selectionChange))}get chipFocusChanges(){return(0,fe.T)(...this.chips.map(Oe=>Oe._onFocus))}get chipBlurChanges(){return(0,fe.T)(...this.chips.map(Oe=>Oe._onBlur))}get chipRemoveChanges(){return(0,fe.T)(...this.chips.map(Oe=>Oe.destroyed))}ngAfterContentInit(){this._keyManager=new be.Em(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe((0,ce.R)(this._destroyed)).subscribe(Oe=>this._keyManager.withHorizontalOrientation(Oe)),this._keyManager.tabOut.pipe((0,ce.R)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe((0,ge.O)(null),(0,ce.R)(this._destroyed)).subscribe(()=>{(this.disabled||!this.selectable)&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new Ke.Ov(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(Oe){this._chipInput=Oe,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",Oe.id)}setDescribedByIds(Oe){Oe.length?this._elementRef.nativeElement.setAttribute("aria-describedby",Oe.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}writeValue(Oe){this.chips&&this._setSelectionByValue(Oe,!1)}registerOnChange(Oe){this._onChange=Oe}registerOnTouched(Oe){this._onTouched=Oe}setDisabledState(Oe){this.disabled=Oe,this.stateChanges.next()}onContainerClick(Oe){this._originatesFromChip(Oe)||this.focus()}focus(Oe){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(Oe),this.stateChanges.next()))}_focusInput(Oe){this._chipInput&&this._chipInput.focus(Oe)}_keydown(Oe){const Ve=Oe.target;Ve&&Ve.classList.contains("mat-chip")&&(this._keyManager.onKeydown(Oe),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const Oe=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(Oe)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(Oe){return Oe>=0&&Oe<this.chips.length}_setSelectionByValue(Oe,Ve=!0){if(this._clearSelection(),this.chips.forEach(Fe=>Fe.deselect()),Array.isArray(Oe))Oe.forEach(Fe=>this._selectValue(Fe,Ve)),this._sortValues();else{const Fe=this._selectValue(Oe,Ve);Fe&&Ve&&this._keyManager.setActiveItem(Fe)}}_selectValue(Oe,Ve=!0){const Fe=this.chips.find(Ye=>null!=Ye.value&&this._compareWith(Ye.value,Oe));return Fe&&(Ve?Fe.selectViaInteraction():Fe.select(),this._selectionModel.select(Fe)),Fe}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(Oe){this._selectionModel.clear(),this.chips.forEach(Ve=>{Ve!==Oe&&Ve.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(Oe=>{Oe.selected&&this._selectionModel.select(Oe)}),this.stateChanges.next())}_propagateChanges(Oe){let Ve=null;Ve=Array.isArray(this.selected)?this.selected.map(Fe=>Fe.value):this.selected?this.selected.value:Oe,this._value=Ve,this.change.emit(new Ft(this,Ve)),this.valueChange.emit(Ve),this._onChange(Ve),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(Oe=>{Oe.source.selected?this._selectionModel.select(Oe.source):this._selectionModel.deselect(Oe.source),this.multiple||this.chips.forEach(Ve=>{!this._selectionModel.isSelected(Ve)&&Ve.selected&&Ve.deselect()}),Oe.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(Oe=>{let Ve=this.chips.toArray().indexOf(Oe.chip);this._isValidIndex(Ve)&&this._keyManager.updateActiveItem(Ve),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(Oe=>{const Ve=Oe.chip,Fe=this.chips.toArray().indexOf(Oe.chip);this._isValidIndex(Fe)&&Ve._hasFocus&&(this._lastDestroyedChipIndex=Fe)})}_originatesFromChip(Oe){let Ve=Oe.target;for(;Ve&&Ve!==this._elementRef.nativeElement;){if(Ve.classList.contains("mat-chip"))return!0;Ve=Ve.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(Oe=>Oe._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(Oe=>{Oe._chipListDisabled=this._disabled,Oe._chipListMultiple=this.multiple,Oe.chipListSelectable=this._selectable})}}return tn.\u0275fac=function(Oe){return new(Oe||tn)(N.Y36(N.SBq),N.Y36(N.sBO),N.Y36(Ne.Is,8),N.Y36(lt.F,8),N.Y36(lt.sg,8),N.Y36(v.rD),N.Y36(lt.a5,10))},tn.\u0275cmp=N.Xpm({type:tn,selectors:[["mat-chip-list"]],contentQueries:function(Oe,Ve,Fe){if(1&Oe&&N.Suo(Fe,et,5),2&Oe){let Ye;N.iGM(Ye=N.CRH())&&(Ve.chips=Ye)}},hostAttrs:[1,"mat-chip-list"],hostVars:14,hostBindings:function(Oe,Ve){1&Oe&&N.NdJ("focus",function(){return Ve.focus()})("blur",function(){return Ve._blur()})("keydown",function(Ye){return Ve._keydown(Ye)}),2&Oe&&(N.Ikx("id",Ve._uid),N.uIk("tabindex",Ve.disabled?null:Ve._tabIndex)("aria-required",Ve.role?Ve.required:null)("aria-disabled",Ve.disabled.toString())("aria-invalid",Ve.errorState)("aria-multiselectable",Ve.multiple)("role",Ve.role)("aria-orientation",Ve.ariaOrientation),N.ekj("mat-chip-list-disabled",Ve.disabled)("mat-chip-list-invalid",Ve.errorState)("mat-chip-list-required",Ve.required))},inputs:{role:"role",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[N._Bn([{provide:He.Eo,useExisting:tn}]),N.qOj],ngContentSelectors:ot,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(Oe,Ve){1&Oe&&(N.F$t(),N.TgZ(0,"div",0),N.Hsn(1),N.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-chip::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}.mat-standard-chip._mat-animation-noopable{transition:none !important;animation:none !important}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}'],encapsulation:2,changeDetection:0}),tn})(),Ln=(()=>{class tn{}return tn.\u0275fac=function(Oe){return new(Oe||tn)},tn.\u0275mod=N.oAB({type:tn}),tn.\u0275inj=N.cJS({providers:[v.rD,{provide:Pt,useValue:{separatorKeyCodes:[m.K5]}}],imports:[v.BQ]}),tn})()},3238:(gn,_t,k)=>{"use strict";k.d(_t,{yN:()=>He,mZ:()=>ot,_A:()=>yn,rD:()=>Fe,sG:()=>$n,Y2:()=>mt,BQ:()=>ut,X2:()=>Ye,uc:()=>Fn,Ng:()=>Tn,rN:()=>ai,nP:()=>le,us:()=>Ce,wG:()=>ee,si:()=>he,IR:()=>Hn,CB:()=>kn,jH:()=>Ai,pj:()=>ht,Kr:()=>et,Id:()=>Be,FD:()=>Pt,sb:()=>qe,E0:()=>St});var m=k(4650),N=k(2687),v=k(445),C=k(6895),J=k(3353),De=k(1281),fe=k(8929),Ie=k(1059);let He=(()=>{class $t{}return $t.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",$t.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",$t.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",$t.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",$t})(),ot=(()=>{class $t{}return $t.COMPLEX="375ms",$t.ENTERING="225ms",$t.EXITING="195ms",$t})();const Ut=new m.OlP("mat-sanity-checks",{providedIn:"root",factory:function pt(){return!0}});let ut=(()=>{class $t{constructor(Se,Jt,hn){this._sanityChecks=Jt,this._document=hn,this._hasDoneGlobalChecks=!1,Se._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Se){return!(0,J.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Se])}}return $t.\u0275fac=function(Se){return new(Se||$t)(m.LFG(N.qm),m.LFG(Ut,8),m.LFG(C.K0))},$t.\u0275mod=m.oAB({type:$t}),$t.\u0275inj=m.cJS({imports:[v.vT,v.vT]}),$t})();function Be($t){return class extends $t{constructor(...ft){super(...ft),this._disabled=!1}get disabled(){return this._disabled}set disabled(ft){this._disabled=(0,De.Ig)(ft)}}}function ht($t,ft){return class extends $t{constructor(...Se){super(...Se),this.defaultColor=ft,this.color=ft}get color(){return this._color}set color(Se){const Jt=Se||this.defaultColor;Jt!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),Jt&&this._elementRef.nativeElement.classList.add(`mat-${Jt}`),this._color=Jt)}}}function et($t){return class extends $t{constructor(...ft){super(...ft),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(ft){this._disableRipple=(0,De.Ig)(ft)}}}function qe($t,ft=0){return class extends $t{constructor(...Se){super(...Se),this._tabIndex=ft,this.defaultTabIndex=ft}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(Se){this._tabIndex=null!=Se?(0,De.su)(Se):this.defaultTabIndex}}}function Pt($t){return class extends $t{constructor(...ft){super(...ft),this.errorState=!1}updateErrorState(){const ft=this.errorState,at=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);at!==ft&&(this.errorState=at,this.stateChanges.next())}}}class yn{constructor(){this._localeChanges=new fe.xQ,this.localeChanges=this._localeChanges}getValidDateOrNull(ft){return this.isDateInstance(ft)&&this.isValid(ft)?ft:null}deserialize(ft){return null==ft||this.isDateInstance(ft)&&this.isValid(ft)?ft:this.invalid()}setLocale(ft){this.locale=ft,this._localeChanges.next()}compareDate(ft,Se){return this.getYear(ft)-this.getYear(Se)||this.getMonth(ft)-this.getMonth(Se)||this.getDate(ft)-this.getDate(Se)}sameDate(ft,Se){if(ft&&Se){let Jt=this.isValid(ft),hn=this.isValid(Se);return Jt&&hn?!this.compareDate(ft,Se):Jt==hn}return ft==Se}clampDate(ft,Se,Jt){return Se&&this.compareDate(ft,Se)<0?Se:Jt&&this.compareDate(ft,Jt)>0?Jt:ft}}const $n=new m.OlP("mat-date-formats");let Fe=(()=>{class $t{isErrorState(Se,Jt){return!!(Se&&Se.invalid&&(Se.touched||Jt&&Jt.submitted))}}return $t.\u0275fac=function(Se){return new(Se||$t)},$t.\u0275prov=m.Yz7({token:$t,factory:$t.\u0275fac,providedIn:"root"}),$t})(),Ye=(()=>{class $t{}return $t.\u0275fac=function(Se){return new(Se||$t)},$t.\u0275dir=m.lG2({type:$t,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),$t})();function St($t,ft,Se="mat"){$t.changes.pipe((0,Ie.O)($t)).subscribe(({length:Jt})=>{Xt(ft,`${Se}-2-line`,!1),Xt(ft,`${Se}-3-line`,!1),Xt(ft,`${Se}-multi-line`,!1),2===Jt||3===Jt?Xt(ft,`${Se}-${Jt}-line`,!0):Jt>3&&Xt(ft,`${Se}-multi-line`,!0)})}function Xt($t,ft,Se){$t.nativeElement.classList.toggle(ft,Se)}let Fn=(()=>{class $t{}return $t.\u0275fac=function(Se){return new(Se||$t)},$t.\u0275mod=m.oAB({type:$t}),$t.\u0275inj=m.cJS({imports:[ut,ut]}),$t})();class Mt{constructor(ft,Se,Jt,hn=!1){this._renderer=ft,this.element=Se,this.config=Jt,this._animationForciblyDisabledThroughCss=hn,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Kt={enterDuration:225,exitDuration:150},Vt=(0,J.i$)({passive:!0}),Cn=["mousedown","touchstart"],jt=["mouseup","mouseleave","touchend","touchcancel"];class Hn{constructor(ft,Se,Jt,hn){this._target=ft,this._ngZone=Se,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,hn.isBrowser&&(this._containerElement=(0,De.fI)(Jt))}fadeInRipple(ft,Se,Jt={}){const hn=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),at={...Kt,...Jt.animation};Jt.centered&&(ft=hn.left+hn.width/2,Se=hn.top+hn.height/2);const it=Jt.radius||function wn($t,ft,Se){const Jt=Math.max(Math.abs($t-Se.left),Math.abs($t-Se.right)),hn=Math.max(Math.abs(ft-Se.top),Math.abs(ft-Se.bottom));return Math.sqrt(Jt*Jt+hn*hn)}(ft,Se,hn),Xe=ft-hn.left,Et=Se-hn.top,Ht=at.enterDuration,_e=document.createElement("div");_e.classList.add("mat-ripple-element"),_e.style.left=Xe-it+"px",_e.style.top=Et-it+"px",_e.style.height=2*it+"px",_e.style.width=2*it+"px",null!=Jt.color&&(_e.style.backgroundColor=Jt.color),_e.style.transitionDuration=`${Ht}ms`,this._containerElement.appendChild(_e);const j=window.getComputedStyle(_e),X=j.transitionDuration,K="none"===j.transitionProperty||"0s"===X||"0s, 0s"===X,pe=new Mt(this,_e,Jt,K);_e.style.transform="scale3d(1, 1, 1)",pe.state=0,Jt.persistent||(this._mostRecentTransientRipple=pe);let Qe=null;return!K&&(Ht||at.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ct=()=>this._finishRippleTransition(pe),dn=()=>this._destroyRipple(pe);_e.addEventListener("transitionend",Ct),_e.addEventListener("transitioncancel",dn),Qe={onTransitionEnd:Ct,onTransitionCancel:dn}}),this._activeRipples.set(pe,Qe),(K||!Ht)&&this._finishRippleTransition(pe),pe}fadeOutRipple(ft){if(2===ft.state||3===ft.state)return;const Se=ft.element,Jt={...Kt,...ft.config.animation};Se.style.transitionDuration=`${Jt.exitDuration}ms`,Se.style.opacity="0",ft.state=2,(ft._animationForciblyDisabledThroughCss||!Jt.exitDuration)&&this._finishRippleTransition(ft)}fadeOutAll(){this._getActiveRipples().forEach(ft=>ft.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(ft=>{ft.config.persistent||ft.fadeOut()})}setupTriggerEvents(ft){const Se=(0,De.fI)(ft);!Se||Se===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Se,this._registerEvents(Cn))}handleEvent(ft){"mousedown"===ft.type?this._onMousedown(ft):"touchstart"===ft.type?this._onTouchStart(ft):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(jt),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(ft){0===ft.state?this._startFadeOutTransition(ft):2===ft.state&&this._destroyRipple(ft)}_startFadeOutTransition(ft){const Se=ft===this._mostRecentTransientRipple,{persistent:Jt}=ft.config;ft.state=1,!Jt&&(!Se||!this._isPointerDown)&&ft.fadeOut()}_destroyRipple(ft){var Se;const Jt=null!==(Se=this._activeRipples.get(ft))&&void 0!==Se?Se:null;this._activeRipples.delete(ft),this._activeRipples.size||(this._containerRect=null),ft===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),ft.state=3,null!==Jt&&(ft.element.removeEventListener("transitionend",Jt.onTransitionEnd),ft.element.removeEventListener("transitioncancel",Jt.onTransitionCancel)),ft.element.remove()}_onMousedown(ft){const Se=(0,N.X6)(ft),Jt=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Se&&!Jt&&(this._isPointerDown=!0,this.fadeInRipple(ft.clientX,ft.clientY,this._target.rippleConfig))}_onTouchStart(ft){if(!this._target.rippleDisabled&&!(0,N.yG)(ft)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Se=ft.changedTouches;for(let Jt=0;Jt<Se.length;Jt++)this.fadeInRipple(Se[Jt].clientX,Se[Jt].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(ft=>{!ft.config.persistent&&(1===ft.state||ft.config.terminateOnPointerUp&&0===ft.state)&&ft.fadeOut()}))}_registerEvents(ft){this._ngZone.runOutsideAngular(()=>{ft.forEach(Se=>{this._triggerElement.addEventListener(Se,this,Vt)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(Cn.forEach(ft=>{this._triggerElement.removeEventListener(ft,this,Vt)}),this._pointerUpEventsRegistered&&jt.forEach(ft=>{this._triggerElement.removeEventListener(ft,this,Vt)}))}}const mt=new m.OlP("mat-ripple-global-options");let ee=(()=>{class $t{constructor(Se,Jt,hn,at,it){this._elementRef=Se,this._animationMode=it,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=at||{},this._rippleRenderer=new Hn(this,Jt,Se,hn)}get disabled(){return this._disabled}set disabled(Se){Se&&this.fadeOutAllNonPersistent(),this._disabled=Se,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Se){this._trigger=Se,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Se,Jt=0,hn){return"number"==typeof Se?this._rippleRenderer.fadeInRipple(Se,Jt,{...this.rippleConfig,...hn}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Se})}}return $t.\u0275fac=function(Se){return new(Se||$t)(m.Y36(m.SBq),m.Y36(m.R0b),m.Y36(J.t4),m.Y36(mt,8),m.Y36(m.QbO,8))},$t.\u0275dir=m.lG2({type:$t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Se,Jt){2&Se&&m.ekj("mat-ripple-unbounded",Jt.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),$t})(),he=(()=>{class $t{}return $t.\u0275fac=function(Se){return new(Se||$t)},$t.\u0275mod=m.oAB({type:$t}),$t.\u0275inj=m.cJS({imports:[ut,ut]}),$t})(),le=(()=>{class $t{constructor(Se){this._animationMode=Se,this.state="unchecked",this.disabled=!1}}return $t.\u0275fac=function(Se){return new(Se||$t)(m.Y36(m.QbO,8))},$t.\u0275cmp=m.Xpm({type:$t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(Se,Jt){2&Se&&m.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===Jt.state)("mat-pseudo-checkbox-checked","checked"===Jt.state)("mat-pseudo-checkbox-disabled",Jt.disabled)("_mat-animation-noopable","NoopAnimations"===Jt._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(Se,Jt){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),$t})(),Ce=(()=>{class $t{}return $t.\u0275fac=function(Se){return new(Se||$t)},$t.\u0275mod=m.oAB({type:$t}),$t.\u0275inj=m.cJS({imports:[ut]}),$t})();class ai{constructor(ft,Se=!1){this.source=ft,this.isUserInput=Se}}function kn($t,ft,Se){if(Se.length){let Jt=ft.toArray(),hn=Se.toArray(),at=0;for(let it=0;it<$t+1;it++)Jt[it].group&&Jt[it].group===hn[at]&&at++;return at}return 0}function Ai($t,ft,Se,Jt){return $t<Se?$t:$t+ft>Se+Jt?Math.max(0,$t-Jt+ft):Se}let Tn=(()=>{class $t{}return $t.\u0275fac=function(Se){return new(Se||$t)},$t.\u0275mod=m.oAB({type:$t}),$t.\u0275inj=m.cJS({imports:[he,C.ez,ut,Ce]}),$t})()},5938:(gn,_t,k)=>{"use strict";k.d(_t,{Bq:()=>ht,Is:()=>Oe,WI:()=>Be,ZT:()=>Gn,so:()=>vt,uw:()=>yn,xY:()=>Ln});var m=k(7855),N=k(8184),v=k(4080),ne=k(4650),C=k(3238),J=k(6895),De=k(8929),fe=k(6787),Ie=k(8514),ce=k(2198),ge=k(2986),be=k(1059),Ne=k(7340),Ke=k(2687),lt=k(9521);function He(Ve,Fe){}const ot={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},pt={dialogContainer:(0,Ne.X$)("dialogContainer",[(0,Ne.SB)("void, exit",(0,Ne.oB)({opacity:0,transform:"scale(0.7)"})),(0,Ne.SB)("enter",(0,Ne.oB)({transform:"none"})),(0,Ne.eR)("* => enter",(0,Ne.ru)([(0,Ne.jt)("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",(0,Ne.oB)({transform:"none",opacity:1})),(0,Ne.IO)("@*",(0,Ne.pV)(),{optional:!0})]),ot),(0,Ne.eR)("* => void, * => exit",(0,Ne.ru)([(0,Ne.jt)("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",(0,Ne.oB)({opacity:0})),(0,Ne.IO)("@*",(0,Ne.pV)(),{optional:!0})]),ot)])};class Ut{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=ot.params.enterAnimationDuration,this.exitAnimationDuration=ot.params.exitAnimationDuration}}let ut=(()=>{class Ve extends m.LL{constructor(Ye,St,Xt,Fn,Mt,Kt,Tt,Vt){super(Ye,St,Xt,Fn,Mt,Kt,Tt,Vt),this._animationStateChanged=new ne.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(Ye){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:Ye})}}return Ve.\u0275fac=function(Ye){return new(Ye||Ve)(ne.Y36(ne.SBq),ne.Y36(Ke.qV),ne.Y36(J.K0,8),ne.Y36(Ut),ne.Y36(Ke.ic),ne.Y36(ne.R0b),ne.Y36(N.Iu),ne.Y36(Ke.tE))},Ve.\u0275cmp=ne.Xpm({type:Ve,selectors:[["ng-component"]],features:[ne.qOj],decls:0,vars:0,template:function(Ye,St){},encapsulation:2}),Ve})(),kt=(()=>{class Ve extends ut{constructor(Ye,St,Xt,Fn,Mt,Kt,Tt,Vt,Cn){super(Ye,St,Xt,Fn,Mt,Kt,Tt,Cn),this._changeDetectorRef=Vt,this._state="enter"}_onAnimationDone({toState:Ye,totalTime:St}){"enter"===Ye?this._openAnimationDone(St):"exit"===Ye&&this._animationStateChanged.next({state:"closed",totalTime:St})}_onAnimationStart({toState:Ye,totalTime:St}){"enter"===Ye?this._animationStateChanged.next({state:"opening",totalTime:St}):("exit"===Ye||"void"===Ye)&&this._animationStateChanged.next({state:"closing",totalTime:St})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||ot.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||ot.params.exitAnimationDuration}}}}return Ve.\u0275fac=function(Ye){return new(Ye||Ve)(ne.Y36(ne.SBq),ne.Y36(Ke.qV),ne.Y36(J.K0,8),ne.Y36(Ut),ne.Y36(Ke.ic),ne.Y36(ne.R0b),ne.Y36(N.Iu),ne.Y36(ne.sBO),ne.Y36(Ke.tE))},Ve.\u0275cmp=ne.Xpm({type:Ve,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(Ye,St){1&Ye&&ne.WFA("@dialogContainer.start",function(Fn){return St._onAnimationStart(Fn)})("@dialogContainer.done",function(Fn){return St._onAnimationDone(Fn)}),2&Ye&&(ne.Ikx("id",St._config.id),ne.uIk("aria-modal",St._config.ariaModal)("role",St._config.role)("aria-labelledby",St._config.ariaLabel?null:St._ariaLabelledBy)("aria-label",St._config.ariaLabel)("aria-describedby",St._config.ariaDescribedBy||null),ne.d8E("@dialogContainer",St._getAnimationState()))},features:[ne.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Ye,St){1&Ye&&ne.YNc(0,He,0,0,"ng-template",0)},dependencies:[v.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[pt.dialogContainer]}}),Ve})();class vt{constructor(Fe,Ye,St){this._ref=Fe,this._containerInstance=St,this._afterOpened=new De.xQ,this._beforeClosed=new De.xQ,this._state=0,this.disableClose=Ye.disableClose,this.id=Fe.id,St._animationStateChanged.pipe((0,ce.h)(Xt=>"opened"===Xt.state),(0,ge.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),St._animationStateChanged.pipe((0,ce.h)(Xt=>"closed"===Xt.state),(0,ge.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),Fe.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,fe.T)(this.backdropClick(),this.keydownEvents().pipe((0,ce.h)(Xt=>Xt.keyCode===lt.hY&&!this.disableClose&&!(0,lt.Vb)(Xt)))).subscribe(Xt=>{this.disableClose||(Xt.preventDefault(),Je(this,"keydown"===Xt.type?"keyboard":"mouse"))})}close(Fe){this._result=Fe,this._containerInstance._animationStateChanged.pipe((0,ce.h)(Ye=>"closing"===Ye.state),(0,ge.q)(1)).subscribe(Ye=>{this._beforeClosed.next(Fe),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),Ye.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(Fe){let Ye=this._ref.config.positionStrategy;return Fe&&(Fe.left||Fe.right)?Fe.left?Ye.left(Fe.left):Ye.right(Fe.right):Ye.centerHorizontally(),Fe&&(Fe.top||Fe.bottom)?Fe.top?Ye.top(Fe.top):Ye.bottom(Fe.bottom):Ye.centerVertically(),this._ref.updatePosition(),this}updateSize(Fe="",Ye=""){return this._ref.updateSize(Fe,Ye),this}addPanelClass(Fe){return this._ref.addPanelClass(Fe),this}removePanelClass(Fe){return this._ref.removePanelClass(Fe),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function Je(Ve,Fe,Ye){return Ve._closeInteractionType=Fe,Ve.close(Ye)}const Be=new ne.OlP("MatDialogData"),ht=new ne.OlP("mat-dialog-default-options"),et=new ne.OlP("mat-dialog-scroll-strategy"),ze={provide:et,deps:[N.aV],useFactory:function Pt(Ve){return()=>Ve.scrollStrategies.block()}};let At=0,Ft=(()=>{class Ve{constructor(Ye,St,Xt,Fn,Mt,Kt,Tt,Vt,Cn,jt){this._overlay=Ye,this._defaultOptions=Xt,this._parentDialog=Fn,this._dialogRefConstructor=Tt,this._dialogContainerType=Vt,this._dialogDataToken=Cn,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new De.xQ,this._afterOpenedAtThisLevel=new De.xQ,this._idPrefix="mat-dialog-",this.afterAllClosed=(0,Ie.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,be.O)(void 0))),this._scrollStrategy=Kt,this._dialog=St.get(m.Vq)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const Ye=this._parentDialog;return Ye?Ye._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(Ye,St){let Xt;(St={...this._defaultOptions||new Ut,...St}).id=St.id||`${this._idPrefix}${At++}`,St.scrollStrategy=St.scrollStrategy||this._scrollStrategy();const Fn=this._dialog.open(Ye,{...St,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:Ut,useValue:St},{provide:m.ib,useValue:St}]},templateContext:()=>({dialogRef:Xt}),providers:(Mt,Kt,Tt)=>{var Vt;return Xt=new this._dialogRefConstructor(Mt,St,Tt),Xt.updatePosition(null===(Vt=St)||void 0===Vt?void 0:Vt.position),[{provide:this._dialogContainerType,useValue:Tt},{provide:this._dialogDataToken,useValue:Kt.data},{provide:this._dialogRefConstructor,useValue:Xt}]}});return Xt.componentInstance=Fn.componentInstance,this.openDialogs.push(Xt),this.afterOpened.next(Xt),Xt.afterClosed().subscribe(()=>{const Mt=this.openDialogs.indexOf(Xt);Mt>-1&&(this.openDialogs.splice(Mt,1),this.openDialogs.length||this._getAfterAllClosed().next())}),Xt}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(Ye){return this.openDialogs.find(St=>St.id===Ye)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(Ye){let St=Ye.length;for(;St--;)Ye[St].close()}}return Ve.\u0275fac=function(Ye){ne.$Z()},Ve.\u0275prov=ne.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})(),yn=(()=>{class Ve extends Ft{constructor(Ye,St,Xt,Fn,Mt,Kt,Tt,Vt){super(Ye,St,Fn,Kt,Tt,Mt,vt,kt,Be,Vt)}}return Ve.\u0275fac=function(Ye){return new(Ye||Ve)(ne.LFG(N.aV),ne.LFG(ne.zs3),ne.LFG(J.Ye,8),ne.LFG(ht,8),ne.LFG(et),ne.LFG(Ve,12),ne.LFG(N.Xj),ne.LFG(ne.QbO,8))},Ve.\u0275prov=ne.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})(),Gn=(()=>{class Ve{constructor(Ye,St,Xt){this.dialogRef=Ye,this._elementRef=St,this._dialog=Xt,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function mn(Ve,Fe){let Ye=Ve.nativeElement.parentElement;for(;Ye&&!Ye.classList.contains("mat-dialog-container");)Ye=Ye.parentElement;return Ye?Fe.find(St=>St.id===Ye.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(Ye){const St=Ye._matDialogClose||Ye._matDialogCloseResult;St&&(this.dialogResult=St.currentValue)}_onButtonClick(Ye){Je(this.dialogRef,0===Ye.screenX&&0===Ye.screenY?"keyboard":"mouse",this.dialogResult)}}return Ve.\u0275fac=function(Ye){return new(Ye||Ve)(ne.Y36(vt,8),ne.Y36(ne.SBq),ne.Y36(yn))},Ve.\u0275dir=ne.lG2({type:Ve,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(Ye,St){1&Ye&&ne.NdJ("click",function(Fn){return St._onButtonClick(Fn)}),2&Ye&&ne.uIk("aria-label",St.ariaLabel||null)("type",St.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[ne.TTD]}),Ve})(),Ln=(()=>{class Ve{}return Ve.\u0275fac=function(Ye){return new(Ye||Ve)},Ve.\u0275dir=ne.lG2({type:Ve,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),Ve})(),Oe=(()=>{class Ve{}return Ve.\u0275fac=function(Ye){return new(Ye||Ve)},Ve.\u0275mod=ne.oAB({type:Ve}),Ve.\u0275inj=ne.cJS({providers:[yn,ze],imports:[m.Su,N.U8,v.eL,C.BQ,C.BQ]}),Ve})()},9549:(gn,_t,k)=>{"use strict";k.d(_t,{Eo:()=>si,G_:()=>wn,KE:()=>mt,TO:()=>$n,hX:()=>Ye,lN:()=>ee});var m=k(9643),N=k(6895),v=k(4650),ne=k(3238),C=k(445),J=k(1281),De=k(8929),fe=k(6787),Ie=k(3753),ce=k(1059),ge=k(7625),be=k(2986),Ne=k(7340),Ke=k(3353);const lt=["connectionContainer"],He=["inputContainer"],ot=["label"];function pt(he,le){1&he&&(v.ynx(0),v.TgZ(1,"div",14),v._UZ(2,"div",15)(3,"div",16)(4,"div",17),v.qZA(),v.TgZ(5,"div",18),v._UZ(6,"div",15)(7,"div",16)(8,"div",17),v.qZA(),v.BQk())}function Ut(he,le){if(1&he){const Ce=v.EpF();v.TgZ(0,"div",19),v.NdJ("cdkObserveContent",function(){v.CHM(Ce);const Le=v.oxw();return v.KtG(Le.updateOutlineGap())}),v.Hsn(1,1),v.qZA()}if(2&he){const Ce=v.oxw();v.Q6J("cdkObserveContentDisabled","outline"!=Ce.appearance)}}function ut(he,le){if(1&he&&(v.ynx(0),v.Hsn(1,2),v.TgZ(2,"span"),v._uU(3),v.qZA(),v.BQk()),2&he){const Ce=v.oxw(2);v.xp6(3),v.Oqu(Ce._control.placeholder)}}function kt(he,le){1&he&&v.Hsn(0,3,["*ngSwitchCase","true"])}function vt(he,le){1&he&&(v.TgZ(0,"span",23),v._uU(1," *"),v.qZA())}function Je(he,le){if(1&he){const Ce=v.EpF();v.TgZ(0,"label",20,21),v.NdJ("cdkObserveContent",function(){v.CHM(Ce);const Le=v.oxw();return v.KtG(Le.updateOutlineGap())}),v.YNc(2,ut,4,1,"ng-container",12),v.YNc(3,kt,1,0,"ng-content",12),v.YNc(4,vt,2,0,"span",22),v.qZA()}if(2&he){const Ce=v.oxw();v.ekj("mat-empty",Ce._control.empty&&!Ce._shouldAlwaysFloat())("mat-form-field-empty",Ce._control.empty&&!Ce._shouldAlwaysFloat())("mat-accent","accent"==Ce.color)("mat-warn","warn"==Ce.color),v.Q6J("cdkObserveContentDisabled","outline"!=Ce.appearance)("id",Ce._labelId)("ngSwitch",Ce._hasLabel()),v.uIk("for",Ce._control.id)("aria-owns",Ce._control.id),v.xp6(2),v.Q6J("ngSwitchCase",!1),v.xp6(1),v.Q6J("ngSwitchCase",!0),v.xp6(1),v.Q6J("ngIf",!Ce.hideRequiredMarker&&Ce._control.required&&!Ce._control.disabled)}}function Be(he,le){1&he&&(v.TgZ(0,"div",24),v.Hsn(1,4),v.qZA())}function ht(he,le){if(1&he&&(v.TgZ(0,"div",25),v._UZ(1,"span",26),v.qZA()),2&he){const Ce=v.oxw();v.xp6(1),v.ekj("mat-accent","accent"==Ce.color)("mat-warn","warn"==Ce.color)}}function et(he,le){if(1&he&&(v.TgZ(0,"div"),v.Hsn(1,5),v.qZA()),2&he){const Ce=v.oxw();v.Q6J("@transitionMessages",Ce._subscriptAnimationState)}}function qe(he,le){if(1&he&&(v.TgZ(0,"div",30),v._uU(1),v.qZA()),2&he){const Ce=v.oxw(2);v.Q6J("id",Ce._hintLabelId),v.xp6(1),v.Oqu(Ce.hintLabel)}}function Pt(he,le){if(1&he&&(v.TgZ(0,"div",27),v.YNc(1,qe,2,2,"div",28),v.Hsn(2,6),v._UZ(3,"div",29),v.Hsn(4,7),v.qZA()),2&he){const Ce=v.oxw();v.Q6J("@transitionMessages",Ce._subscriptAnimationState),v.xp6(1),v.Q6J("ngIf",Ce.hintLabel)}}const ze=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],At=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let Ft=0;const yn=new v.OlP("MatError");let $n=(()=>{class he{constructor(Ce,ae){this.id="mat-error-"+Ft++,Ce||ae.nativeElement.setAttribute("aria-live","polite")}}return he.\u0275fac=function(Ce){return new(Ce||he)(v.$8M("aria-live"),v.Y36(v.SBq))},he.\u0275dir=v.lG2({type:he,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(Ce,ae){2&Ce&&v.uIk("id",ae.id)},inputs:{id:"id"},features:[v._Bn([{provide:yn,useExisting:he}])]}),he})();const Gn={transitionMessages:(0,Ne.X$)("transitionMessages",[(0,Ne.SB)("enter",(0,Ne.oB)({opacity:1,transform:"translateY(0%)"})),(0,Ne.eR)("void => enter",[(0,Ne.oB)({opacity:0,transform:"translateY(-5px)"}),(0,Ne.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let si=(()=>{class he{}return he.\u0275fac=function(Ce){return new(Ce||he)},he.\u0275dir=v.lG2({type:he}),he})();const Ve=new v.OlP("MatHint");let Ye=(()=>{class he{}return he.\u0275fac=function(Ce){return new(Ce||he)},he.\u0275dir=v.lG2({type:he,selectors:[["mat-label"]]}),he})(),St=(()=>{class he{}return he.\u0275fac=function(Ce){return new(Ce||he)},he.\u0275dir=v.lG2({type:he,selectors:[["mat-placeholder"]]}),he})();const Xt=new v.OlP("MatPrefix"),Mt=new v.OlP("MatSuffix");let Tt=0;const jt=(0,ne.pj)(class{constructor(he){this._elementRef=he}},"primary"),Hn=new v.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),wn=new v.OlP("MatFormField");let mt=(()=>{class he extends jt{constructor(Ce,ae,Le,Dt,Gt,nn,ln){super(Ce),this._changeDetectorRef=ae,this._dir=Le,this._defaults=Dt,this._platform=Gt,this._ngZone=nn,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new De.xQ,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Tt++,this._labelId="mat-form-field-label-"+Tt++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==ln,this.appearance=Dt?.appearance||"legacy",Dt&&(this._hideRequiredMarker=Boolean(Dt.hideRequiredMarker),Dt.color&&(this.color=this.defaultColor=Dt.color))}get appearance(){return this._appearance}set appearance(Ce){var ae;const Le=this._appearance;this._appearance=Ce||(null===(ae=this._defaults)||void 0===ae?void 0:ae.appearance)||"legacy","outline"===this._appearance&&Le!==Ce&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(Ce){this._hideRequiredMarker=(0,J.Ig)(Ce)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(Ce){this._hintLabel=Ce,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(Ce){Ce!==this._floatLabel&&(this._floatLabel=Ce||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(Ce){this._explicitFormFieldControl=Ce}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const Ce=this._control;Ce.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${Ce.controlType}`),Ce.stateChanges.pipe((0,ce.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),Ce.ngControl&&Ce.ngControl.valueChanges&&Ce.ngControl.valueChanges.pipe((0,ge.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,ge.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,fe.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,ce.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,ce.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,ge.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(Ce){const ae=this._control?this._control.ngControl:null;return ae&&ae[Ce]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,Ie.R)(this._label.nativeElement,"transitionend").pipe((0,be.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let Ce=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&Ce.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const ae=this._hintChildren?this._hintChildren.find(Dt=>"start"===Dt.align):null,Le=this._hintChildren?this._hintChildren.find(Dt=>"end"===Dt.align):null;ae?Ce.push(ae.id):this._hintLabel&&Ce.push(this._hintLabelId),Le&&Ce.push(Le.id)}else this._errorChildren&&Ce.push(...this._errorChildren.map(ae=>ae.id));this._control.setDescribedByIds(Ce)}}_validateControlChild(){}updateOutlineGap(){const Ce=this._label?this._label.nativeElement:null,ae=this._connectionContainerRef.nativeElement,Le=".mat-form-field-outline-start",Dt=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!Ce||!Ce.children.length||!Ce.textContent.trim()){const ai=ae.querySelectorAll(`${Le}, ${Dt}`);for(let di=0;di<ai.length;di++)ai[di].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let Gt=0,nn=0;const ln=ae.querySelectorAll(Le),Rn=ae.querySelectorAll(Dt);if(this._label&&this._label.nativeElement.children.length){const ai=ae.getBoundingClientRect();if(0===ai.width&&0===ai.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const di=this._getStartEnd(ai),ri=Ce.children,kn=this._getStartEnd(ri[0].getBoundingClientRect());let Ai=0;for(let Tn=0;Tn<ri.length;Tn++)Ai+=ri[Tn].offsetWidth;Gt=Math.abs(kn-di)-5,nn=Ai>0?.75*Ai+10:0}for(let ai=0;ai<ln.length;ai++)ln[ai].style.width=`${Gt}px`;for(let ai=0;ai<Rn.length;ai++)Rn[ai].style.width=`${nn}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(Ce){return this._dir&&"rtl"===this._dir.value?Ce.right:Ce.left}_isAttachedToDOM(){const Ce=this._elementRef.nativeElement;if(Ce.getRootNode){const ae=Ce.getRootNode();return ae&&ae!==Ce}return document.documentElement.contains(Ce)}}return he.\u0275fac=function(Ce){return new(Ce||he)(v.Y36(v.SBq),v.Y36(v.sBO),v.Y36(C.Is,8),v.Y36(Hn,8),v.Y36(Ke.t4),v.Y36(v.R0b),v.Y36(v.QbO,8))},he.\u0275cmp=v.Xpm({type:he,selectors:[["mat-form-field"]],contentQueries:function(Ce,ae,Le){if(1&Ce&&(v.Suo(Le,si,5),v.Suo(Le,si,7),v.Suo(Le,Ye,5),v.Suo(Le,Ye,7),v.Suo(Le,St,5),v.Suo(Le,yn,5),v.Suo(Le,Ve,5),v.Suo(Le,Xt,5),v.Suo(Le,Mt,5)),2&Ce){let Dt;v.iGM(Dt=v.CRH())&&(ae._controlNonStatic=Dt.first),v.iGM(Dt=v.CRH())&&(ae._controlStatic=Dt.first),v.iGM(Dt=v.CRH())&&(ae._labelChildNonStatic=Dt.first),v.iGM(Dt=v.CRH())&&(ae._labelChildStatic=Dt.first),v.iGM(Dt=v.CRH())&&(ae._placeholderChild=Dt.first),v.iGM(Dt=v.CRH())&&(ae._errorChildren=Dt),v.iGM(Dt=v.CRH())&&(ae._hintChildren=Dt),v.iGM(Dt=v.CRH())&&(ae._prefixChildren=Dt),v.iGM(Dt=v.CRH())&&(ae._suffixChildren=Dt)}},viewQuery:function(Ce,ae){if(1&Ce&&(v.Gf(lt,7),v.Gf(He,5),v.Gf(ot,5)),2&Ce){let Le;v.iGM(Le=v.CRH())&&(ae._connectionContainerRef=Le.first),v.iGM(Le=v.CRH())&&(ae._inputContainerRef=Le.first),v.iGM(Le=v.CRH())&&(ae._label=Le.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(Ce,ae){2&Ce&&v.ekj("mat-form-field-appearance-standard","standard"==ae.appearance)("mat-form-field-appearance-fill","fill"==ae.appearance)("mat-form-field-appearance-outline","outline"==ae.appearance)("mat-form-field-appearance-legacy","legacy"==ae.appearance)("mat-form-field-invalid",ae._control.errorState)("mat-form-field-can-float",ae._canLabelFloat())("mat-form-field-should-float",ae._shouldLabelFloat())("mat-form-field-has-label",ae._hasFloatingLabel())("mat-form-field-hide-placeholder",ae._hideControlPlaceholder())("mat-form-field-disabled",ae._control.disabled)("mat-form-field-autofilled",ae._control.autofilled)("mat-focused",ae._control.focused)("ng-untouched",ae._shouldForward("untouched"))("ng-touched",ae._shouldForward("touched"))("ng-pristine",ae._shouldForward("pristine"))("ng-dirty",ae._shouldForward("dirty"))("ng-valid",ae._shouldForward("valid"))("ng-invalid",ae._shouldForward("invalid"))("ng-pending",ae._shouldForward("pending"))("_mat-animation-noopable",!ae._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[v._Bn([{provide:wn,useExisting:he}]),v.qOj],ngContentSelectors:At,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(Ce,ae){1&Ce&&(v.F$t(ze),v.TgZ(0,"div",0)(1,"div",1,2),v.NdJ("click",function(Dt){return ae._control.onContainerClick&&ae._control.onContainerClick(Dt)}),v.YNc(3,pt,9,0,"ng-container",3),v.YNc(4,Ut,2,1,"div",4),v.TgZ(5,"div",5,6),v.Hsn(7),v.TgZ(8,"span",7),v.YNc(9,Je,5,16,"label",8),v.qZA()(),v.YNc(10,Be,2,0,"div",9),v.qZA(),v.YNc(11,ht,2,4,"div",10),v.TgZ(12,"div",11),v.YNc(13,et,2,1,"div",12),v.YNc(14,Pt,5,2,"div",13),v.qZA()()),2&Ce&&(v.xp6(3),v.Q6J("ngIf","outline"==ae.appearance),v.xp6(1),v.Q6J("ngIf",ae._prefixChildren.length),v.xp6(5),v.Q6J("ngIf",ae._hasFloatingLabel()),v.xp6(1),v.Q6J("ngIf",ae._suffixChildren.length),v.xp6(1),v.Q6J("ngIf","outline"!=ae.appearance),v.xp6(1),v.Q6J("ngSwitch",ae._getDisplayedMessages()),v.xp6(1),v.Q6J("ngSwitchCase","error"),v.xp6(1),v.Q6J("ngSwitchCase","hint"))},dependencies:[N.O5,N.RF,N.n9,m.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[Gn.transitionMessages]},changeDetection:0}),he})(),ee=(()=>{class he{}return he.\u0275fac=function(Ce){return new(Ce||he)},he.\u0275mod=v.oAB({type:he}),he.\u0275inj=v.cJS({imports:[N.ez,ne.BQ,m.Q8,ne.BQ]}),he})()},3336:(gn,_t,k)=>{"use strict";k.d(_t,{Hw:()=>je,Ps:()=>Ue});var m=k(4650),N=k(3238),v=k(1281),ne=k(6895),C=k(1086),J=k(1737),De=k(567),fe=k(2654),Ie=k(2868),ce=k(4850),ge=k(7221),be=k(537),Ne=k(2474),Ke=k(2986),lt=k(1406),He=k(2198);class ot{}class Ut{constructor(Te){this.normalizedNames=new Map,this.lazyUpdate=null,Te?this.lazyInit="string"==typeof Te?()=>{this.headers=new Map,Te.split("\n").forEach(we=>{const rt=we.indexOf(":");if(rt>0){const Lt=we.slice(0,rt),rn=Lt.toLowerCase(),Kn=we.slice(rt+1).trim();this.maybeSetNormalizedName(Lt,rn),this.headers.has(rn)?this.headers.get(rn).push(Kn):this.headers.set(rn,[Kn])}})}:()=>{this.headers=new Map,Object.keys(Te).forEach(we=>{let rt=Te[we];const Lt=we.toLowerCase();"string"==typeof rt&&(rt=[rt]),rt.length>0&&(this.headers.set(Lt,rt),this.maybeSetNormalizedName(we,Lt))})}:this.headers=new Map}has(Te){return this.init(),this.headers.has(Te.toLowerCase())}get(Te){this.init();const we=this.headers.get(Te.toLowerCase());return we&&we.length>0?we[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Te){return this.init(),this.headers.get(Te.toLowerCase())||null}append(Te,we){return this.clone({name:Te,value:we,op:"a"})}set(Te,we){return this.clone({name:Te,value:we,op:"s"})}delete(Te,we){return this.clone({name:Te,value:we,op:"d"})}maybeSetNormalizedName(Te,we){this.normalizedNames.has(we)||this.normalizedNames.set(we,Te)}init(){this.lazyInit&&(this.lazyInit instanceof Ut?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Te=>this.applyUpdate(Te)),this.lazyUpdate=null))}copyFrom(Te){Te.init(),Array.from(Te.headers.keys()).forEach(we=>{this.headers.set(we,Te.headers.get(we)),this.normalizedNames.set(we,Te.normalizedNames.get(we))})}clone(Te){const we=new Ut;return we.lazyInit=this.lazyInit&&this.lazyInit instanceof Ut?this.lazyInit:this,we.lazyUpdate=(this.lazyUpdate||[]).concat([Te]),we}applyUpdate(Te){const we=Te.name.toLowerCase();switch(Te.op){case"a":case"s":let rt=Te.value;if("string"==typeof rt&&(rt=[rt]),0===rt.length)return;this.maybeSetNormalizedName(Te.name,we);const Lt=("a"===Te.op?this.headers.get(we):void 0)||[];Lt.push(...rt),this.headers.set(we,Lt);break;case"d":const rn=Te.value;if(rn){let Kn=this.headers.get(we);if(!Kn)return;Kn=Kn.filter(Pn=>-1===rn.indexOf(Pn)),0===Kn.length?(this.headers.delete(we),this.normalizedNames.delete(we)):this.headers.set(we,Kn)}else this.headers.delete(we),this.normalizedNames.delete(we)}}forEach(Te){this.init(),Array.from(this.normalizedNames.keys()).forEach(we=>Te(this.normalizedNames.get(we),this.headers.get(we)))}}class kt{encodeKey(Te){return ht(Te)}encodeValue(Te){return ht(Te)}decodeKey(Te){return decodeURIComponent(Te)}decodeValue(Te){return decodeURIComponent(Te)}}const Je=/%(\d[a-f0-9])/gi,Be={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ht(We){return encodeURIComponent(We).replace(Je,(Te,we)=>{var rt;return null!==(rt=Be[we])&&void 0!==rt?rt:Te})}function et(We){return`${We}`}class qe{constructor(Te={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Te.encoder||new kt,Te.fromString){if(Te.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function vt(We,Te){const we=new Map;return We.length>0&&We.replace(/^\?/,"").split("&").forEach(Lt=>{const rn=Lt.indexOf("="),[Kn,Pn]=-1==rn?[Te.decodeKey(Lt),""]:[Te.decodeKey(Lt.slice(0,rn)),Te.decodeValue(Lt.slice(rn+1))],hi=we.get(Kn)||[];hi.push(Pn),we.set(Kn,hi)}),we}(Te.fromString,this.encoder)}else Te.fromObject?(this.map=new Map,Object.keys(Te.fromObject).forEach(we=>{const rt=Te.fromObject[we],Lt=Array.isArray(rt)?rt.map(et):[et(rt)];this.map.set(we,Lt)})):this.map=null}has(Te){return this.init(),this.map.has(Te)}get(Te){this.init();const we=this.map.get(Te);return we?we[0]:null}getAll(Te){return this.init(),this.map.get(Te)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Te,we){return this.clone({param:Te,value:we,op:"a"})}appendAll(Te){const we=[];return Object.keys(Te).forEach(rt=>{const Lt=Te[rt];Array.isArray(Lt)?Lt.forEach(rn=>{we.push({param:rt,value:rn,op:"a"})}):we.push({param:rt,value:Lt,op:"a"})}),this.clone(we)}set(Te,we){return this.clone({param:Te,value:we,op:"s"})}delete(Te,we){return this.clone({param:Te,value:we,op:"d"})}toString(){return this.init(),this.keys().map(Te=>{const we=this.encoder.encodeKey(Te);return this.map.get(Te).map(rt=>we+"="+this.encoder.encodeValue(rt)).join("&")}).filter(Te=>""!==Te).join("&")}clone(Te){const we=new qe({encoder:this.encoder});return we.cloneFrom=this.cloneFrom||this,we.updates=(this.updates||[]).concat(Te),we}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Te=>this.map.set(Te,this.cloneFrom.map.get(Te))),this.updates.forEach(Te=>{switch(Te.op){case"a":case"s":const we=("a"===Te.op?this.map.get(Te.param):void 0)||[];we.push(et(Te.value)),this.map.set(Te.param,we);break;case"d":if(void 0===Te.value){this.map.delete(Te.param);break}{let rt=this.map.get(Te.param)||[];const Lt=rt.indexOf(et(Te.value));-1!==Lt&&rt.splice(Lt,1),rt.length>0?this.map.set(Te.param,rt):this.map.delete(Te.param)}}}),this.cloneFrom=this.updates=null)}}class ze{constructor(){this.map=new Map}set(Te,we){return this.map.set(Te,we),this}get(Te){return this.map.has(Te)||this.map.set(Te,Te.defaultValue()),this.map.get(Te)}delete(Te){return this.map.delete(Te),this}has(Te){return this.map.has(Te)}keys(){return this.map.keys()}}function Ft(We){return typeof ArrayBuffer<"u"&&We instanceof ArrayBuffer}function yn(We){return typeof Blob<"u"&&We instanceof Blob}function $n(We){return typeof FormData<"u"&&We instanceof FormData}class si{constructor(Te,we,rt,Lt){let rn;if(this.url=we,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Te.toUpperCase(),function At(We){switch(We){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Lt?(this.body=void 0!==rt?rt:null,rn=Lt):rn=rt,rn&&(this.reportProgress=!!rn.reportProgress,this.withCredentials=!!rn.withCredentials,rn.responseType&&(this.responseType=rn.responseType),rn.headers&&(this.headers=rn.headers),rn.context&&(this.context=rn.context),rn.params&&(this.params=rn.params)),this.headers||(this.headers=new Ut),this.context||(this.context=new ze),this.params){const Kn=this.params.toString();if(0===Kn.length)this.urlWithParams=we;else{const Pn=we.indexOf("?");this.urlWithParams=we+(-1===Pn?"?":Pn<we.length-1?"&":"")+Kn}}else this.params=new qe,this.urlWithParams=we}serializeBody(){return null===this.body?null:Ft(this.body)||yn(this.body)||$n(this.body)||function Gn(We){return typeof URLSearchParams<"u"&&We instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof qe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$n(this.body)?null:yn(this.body)?this.body.type||null:Ft(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Te={}){var we;const rt=Te.method||this.method,Lt=Te.url||this.url,rn=Te.responseType||this.responseType,Kn=void 0!==Te.body?Te.body:this.body,Pn=void 0!==Te.withCredentials?Te.withCredentials:this.withCredentials,hi=void 0!==Te.reportProgress?Te.reportProgress:this.reportProgress;let Bi=Te.headers||this.headers,dr=Te.params||this.params;const sr=null!==(we=Te.context)&&void 0!==we?we:this.context;return void 0!==Te.setHeaders&&(Bi=Object.keys(Te.setHeaders).reduce((zi,Ji)=>zi.set(Ji,Te.setHeaders[Ji]),Bi)),Te.setParams&&(dr=Object.keys(Te.setParams).reduce((zi,Ji)=>zi.set(Ji,Te.setParams[Ji]),dr)),new si(rt,Lt,Kn,{params:dr,headers:Bi,context:sr,reportProgress:hi,responseType:rn,withCredentials:Pn})}}var Ln=(()=>((Ln=Ln||{})[Ln.Sent=0]="Sent",Ln[Ln.UploadProgress=1]="UploadProgress",Ln[Ln.ResponseHeader=2]="ResponseHeader",Ln[Ln.DownloadProgress=3]="DownloadProgress",Ln[Ln.Response=4]="Response",Ln[Ln.User=5]="User",Ln))();class Oe extends class tn{constructor(Te,we=200,rt="OK"){this.headers=Te.headers||new Ut,this.status=void 0!==Te.status?Te.status:we,this.statusText=Te.statusText||rt,this.url=Te.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(Te={}){super(Te),this.type=Ln.Response,this.body=void 0!==Te.body?Te.body:null}clone(Te={}){return new Oe({body:void 0!==Te.body?Te.body:this.body,headers:Te.headers||this.headers,status:void 0!==Te.status?Te.status:this.status,statusText:Te.statusText||this.statusText,url:Te.url||this.url||void 0})}}function Fe(We,Te){return{body:Te,headers:We.headers,context:We.context,observe:We.observe,params:We.params,reportProgress:We.reportProgress,responseType:We.responseType,withCredentials:We.withCredentials}}let Ye=(()=>{class We{constructor(we){this.handler=we}request(we,rt,Lt={}){let rn;if(we instanceof si)rn=we;else{let hi,Bi;hi=Lt.headers instanceof Ut?Lt.headers:new Ut(Lt.headers),Lt.params&&(Bi=Lt.params instanceof qe?Lt.params:new qe({fromObject:Lt.params})),rn=new si(we,rt,void 0!==Lt.body?Lt.body:null,{headers:hi,context:Lt.context,params:Bi,reportProgress:Lt.reportProgress,responseType:Lt.responseType||"json",withCredentials:Lt.withCredentials})}const Kn=(0,C.of)(rn).pipe((0,lt.b)(hi=>this.handler.handle(hi)));if(we instanceof si||"events"===Lt.observe)return Kn;const Pn=Kn.pipe((0,He.h)(hi=>hi instanceof Oe));switch(Lt.observe||"body"){case"body":switch(rn.responseType){case"arraybuffer":return Pn.pipe((0,ce.U)(hi=>{if(null!==hi.body&&!(hi.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return hi.body}));case"blob":return Pn.pipe((0,ce.U)(hi=>{if(null!==hi.body&&!(hi.body instanceof Blob))throw new Error("Response is not a Blob.");return hi.body}));case"text":return Pn.pipe((0,ce.U)(hi=>{if(null!==hi.body&&"string"!=typeof hi.body)throw new Error("Response is not a string.");return hi.body}));default:return Pn.pipe((0,ce.U)(hi=>hi.body))}case"response":return Pn;default:throw new Error(`Unreachable: unhandled observe type ${Lt.observe}}`)}}delete(we,rt={}){return this.request("DELETE",we,rt)}get(we,rt={}){return this.request("GET",we,rt)}head(we,rt={}){return this.request("HEAD",we,rt)}jsonp(we,rt){return this.request("JSONP",we,{params:(new qe).append(rt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(we,rt={}){return this.request("OPTIONS",we,rt)}patch(we,rt,Lt={}){return this.request("PATCH",we,Fe(Lt,rt))}post(we,rt,Lt={}){return this.request("POST",we,Fe(Lt,rt))}put(we,rt,Lt={}){return this.request("PUT",we,Fe(Lt,rt))}}return We.\u0275fac=function(we){return new(we||We)(m.LFG(ot))},We.\u0275prov=m.Yz7({token:We,factory:We.\u0275fac}),We})();var Ai=k(1481);const Tn=["*"];let $t;function Se(We){var Te;return(null===(Te=function ft(){if(void 0===$t&&($t=null,typeof window<"u")){const We=window;void 0!==We.trustedTypes&&($t=We.trustedTypes.createPolicy("angular#components",{createHTML:Te=>Te}))}return $t}())||void 0===Te?void 0:Te.createHTML(We))||We}function Jt(We){return Error(`Unable to find icon with the name "${We}"`)}function at(We){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${We}".`)}function it(We){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${We}".`)}class Xe{constructor(Te,we,rt){this.url=Te,this.svgText=we,this.options=rt}}let Et=(()=>{class We{constructor(we,rt,Lt,rn){this._httpClient=we,this._sanitizer=rt,this._errorHandler=rn,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Lt}addSvgIcon(we,rt,Lt){return this.addSvgIconInNamespace("",we,rt,Lt)}addSvgIconLiteral(we,rt,Lt){return this.addSvgIconLiteralInNamespace("",we,rt,Lt)}addSvgIconInNamespace(we,rt,Lt,rn){return this._addSvgIconConfig(we,rt,new Xe(Lt,null,rn))}addSvgIconResolver(we){return this._resolvers.push(we),this}addSvgIconLiteralInNamespace(we,rt,Lt,rn){const Kn=this._sanitizer.sanitize(m.q3G.HTML,Lt);if(!Kn)throw it(Lt);const Pn=Se(Kn);return this._addSvgIconConfig(we,rt,new Xe("",Pn,rn))}addSvgIconSet(we,rt){return this.addSvgIconSetInNamespace("",we,rt)}addSvgIconSetLiteral(we,rt){return this.addSvgIconSetLiteralInNamespace("",we,rt)}addSvgIconSetInNamespace(we,rt,Lt){return this._addSvgIconSetConfig(we,new Xe(rt,null,Lt))}addSvgIconSetLiteralInNamespace(we,rt,Lt){const rn=this._sanitizer.sanitize(m.q3G.HTML,rt);if(!rn)throw it(rt);const Kn=Se(rn);return this._addSvgIconSetConfig(we,new Xe("",Kn,Lt))}registerFontClassAlias(we,rt=we){return this._fontCssClassesByAlias.set(we,rt),this}classNameForFontAlias(we){return this._fontCssClassesByAlias.get(we)||we}setDefaultFontSetClass(...we){return this._defaultFontSetClass=we,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(we){const rt=this._sanitizer.sanitize(m.q3G.RESOURCE_URL,we);if(!rt)throw at(we);const Lt=this._cachedIconsByUrl.get(rt);return Lt?(0,C.of)(j(Lt)):this._loadSvgIconFromConfig(new Xe(we,null)).pipe((0,Ie.b)(rn=>this._cachedIconsByUrl.set(rt,rn)),(0,ce.U)(rn=>j(rn)))}getNamedSvgIcon(we,rt=""){const Lt=G(rt,we);let rn=this._svgIconConfigs.get(Lt);if(rn)return this._getSvgFromConfig(rn);if(rn=this._getIconConfigFromResolvers(rt,we),rn)return this._svgIconConfigs.set(Lt,rn),this._getSvgFromConfig(rn);const Kn=this._iconSetConfigs.get(rt);return Kn?this._getSvgFromIconSetConfigs(we,Kn):(0,J._)(Jt(Lt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(we){return we.svgText?(0,C.of)(j(this._svgElementFromConfig(we))):this._loadSvgIconFromConfig(we).pipe((0,ce.U)(rt=>j(rt)))}_getSvgFromIconSetConfigs(we,rt){const Lt=this._extractIconWithNameFromAnySet(we,rt);if(Lt)return(0,C.of)(Lt);const rn=rt.filter(Kn=>!Kn.svgText).map(Kn=>this._loadSvgIconSetFromConfig(Kn).pipe((0,ge.K)(Pn=>{const Bi=`Loading icon set URL: ${this._sanitizer.sanitize(m.q3G.RESOURCE_URL,Kn.url)} failed: ${Pn.message}`;return this._errorHandler.handleError(new Error(Bi)),(0,C.of)(null)})));return(0,De.D)(rn).pipe((0,ce.U)(()=>{const Kn=this._extractIconWithNameFromAnySet(we,rt);if(!Kn)throw Jt(we);return Kn}))}_extractIconWithNameFromAnySet(we,rt){for(let Lt=rt.length-1;Lt>=0;Lt--){const rn=rt[Lt];if(rn.svgText&&rn.svgText.toString().indexOf(we)>-1){const Kn=this._svgElementFromConfig(rn),Pn=this._extractSvgIconFromSet(Kn,we,rn.options);if(Pn)return Pn}}return null}_loadSvgIconFromConfig(we){return this._fetchIcon(we).pipe((0,Ie.b)(rt=>we.svgText=rt),(0,ce.U)(()=>this._svgElementFromConfig(we)))}_loadSvgIconSetFromConfig(we){return we.svgText?(0,C.of)(null):this._fetchIcon(we).pipe((0,Ie.b)(rt=>we.svgText=rt))}_extractSvgIconFromSet(we,rt,Lt){const rn=we.querySelector(`[id="${rt}"]`);if(!rn)return null;const Kn=rn.cloneNode(!0);if(Kn.removeAttribute("id"),"svg"===Kn.nodeName.toLowerCase())return this._setSvgAttributes(Kn,Lt);if("symbol"===Kn.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Kn),Lt);const Pn=this._svgElementFromString(Se("<svg></svg>"));return Pn.appendChild(Kn),this._setSvgAttributes(Pn,Lt)}_svgElementFromString(we){const rt=this._document.createElement("DIV");rt.innerHTML=we;const Lt=rt.querySelector("svg");if(!Lt)throw Error("<svg> tag not found");return Lt}_toSvgElement(we){const rt=this._svgElementFromString(Se("<svg></svg>")),Lt=we.attributes;for(let rn=0;rn<Lt.length;rn++){const{name:Kn,value:Pn}=Lt[rn];"id"!==Kn&&rt.setAttribute(Kn,Pn)}for(let rn=0;rn<we.childNodes.length;rn++)we.childNodes[rn].nodeType===this._document.ELEMENT_NODE&&rt.appendChild(we.childNodes[rn].cloneNode(!0));return rt}_setSvgAttributes(we,rt){return we.setAttribute("fit",""),we.setAttribute("height","100%"),we.setAttribute("width","100%"),we.setAttribute("preserveAspectRatio","xMidYMid meet"),we.setAttribute("focusable","false"),rt&&rt.viewBox&&we.setAttribute("viewBox",rt.viewBox),we}_fetchIcon(we){var rt;const{url:Lt,options:rn}=we,Kn=null!==(rt=rn?.withCredentials)&&void 0!==rt&&rt;if(!this._httpClient)throw function hn(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==Lt)throw Error(`Cannot fetch icon from URL "${Lt}".`);const Pn=this._sanitizer.sanitize(m.q3G.RESOURCE_URL,Lt);if(!Pn)throw at(Lt);const hi=this._inProgressUrlFetches.get(Pn);if(hi)return hi;const Bi=this._httpClient.get(Pn,{responseType:"text",withCredentials:Kn}).pipe((0,ce.U)(dr=>Se(dr)),(0,be.x)(()=>this._inProgressUrlFetches.delete(Pn)),(0,Ne.B)());return this._inProgressUrlFetches.set(Pn,Bi),Bi}_addSvgIconConfig(we,rt,Lt){return this._svgIconConfigs.set(G(we,rt),Lt),this}_addSvgIconSetConfig(we,rt){const Lt=this._iconSetConfigs.get(we);return Lt?Lt.push(rt):this._iconSetConfigs.set(we,[rt]),this}_svgElementFromConfig(we){if(!we.svgElement){const rt=this._svgElementFromString(we.svgText);this._setSvgAttributes(rt,we.options),we.svgElement=rt}return we.svgElement}_getIconConfigFromResolvers(we,rt){for(let Lt=0;Lt<this._resolvers.length;Lt++){const rn=this._resolvers[Lt](rt,we);if(rn)return X(rn)?new Xe(rn.url,null,rn.options):new Xe(rn,null)}}}return We.\u0275fac=function(we){return new(we||We)(m.LFG(Ye,8),m.LFG(Ai.H7),m.LFG(ne.K0,8),m.LFG(m.qLn))},We.\u0275prov=m.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})();function j(We){return We.cloneNode(!0)}function G(We,Te){return We+":"+Te}function X(We){return!(!We.url||!We.options)}const K=(0,N.pj)(class{constructor(We){this._elementRef=We}}),pe=new m.OlP("MAT_ICON_DEFAULT_OPTIONS"),Qe=new m.OlP("mat-icon-location",{providedIn:"root",factory:function Ct(){const We=(0,m.f3M)(ne.K0),Te=We?We.location:null;return{getPathname:()=>Te?Te.pathname+Te.search:""}}}),dn=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],fn=dn.map(We=>`[${We}]`).join(", "),Ge=/^url\(['"]?#(.*?)['"]?\)$/;let je=(()=>{class We extends K{constructor(we,rt,Lt,rn,Kn,Pn){super(we),this._iconRegistry=rt,this._location=rn,this._errorHandler=Kn,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=fe.w.EMPTY,Pn&&(Pn.color&&(this.color=this.defaultColor=Pn.color),Pn.fontSet&&(this.fontSet=Pn.fontSet)),Lt||we.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(we){this._inline=(0,v.Ig)(we)}get svgIcon(){return this._svgIcon}set svgIcon(we){we!==this._svgIcon&&(we?this._updateSvgIcon(we):this._svgIcon&&this._clearSvgElement(),this._svgIcon=we)}get fontSet(){return this._fontSet}set fontSet(we){const rt=this._cleanupFontValue(we);rt!==this._fontSet&&(this._fontSet=rt,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(we){const rt=this._cleanupFontValue(we);rt!==this._fontIcon&&(this._fontIcon=rt,this._updateFontIconClasses())}_splitIconName(we){if(!we)return["",""];const rt=we.split(":");switch(rt.length){case 1:return["",rt[0]];case 2:return rt;default:throw Error(`Invalid icon name: "${we}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const we=this._elementsWithExternalReferences;if(we&&we.size){const rt=this._location.getPathname();rt!==this._previousPath&&(this._previousPath=rt,this._prependPathToReferences(rt))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(we){this._clearSvgElement();const rt=this._location.getPathname();this._previousPath=rt,this._cacheChildrenWithExternalReferences(we),this._prependPathToReferences(rt),this._elementRef.nativeElement.appendChild(we)}_clearSvgElement(){const we=this._elementRef.nativeElement;let rt=we.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();rt--;){const Lt=we.childNodes[rt];(1!==Lt.nodeType||"svg"===Lt.nodeName.toLowerCase())&&Lt.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const we=this._elementRef.nativeElement,rt=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Lt=>Lt.length>0);this._previousFontSetClass.forEach(Lt=>we.classList.remove(Lt)),rt.forEach(Lt=>we.classList.add(Lt)),this._previousFontSetClass=rt,this.fontIcon!==this._previousFontIconClass&&!rt.includes("mat-ligature-font")&&(this._previousFontIconClass&&we.classList.remove(this._previousFontIconClass),this.fontIcon&&we.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(we){return"string"==typeof we?we.trim().split(" ")[0]:we}_prependPathToReferences(we){const rt=this._elementsWithExternalReferences;rt&&rt.forEach((Lt,rn)=>{Lt.forEach(Kn=>{rn.setAttribute(Kn.name,`url('${we}#${Kn.value}')`)})})}_cacheChildrenWithExternalReferences(we){const rt=we.querySelectorAll(fn),Lt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let rn=0;rn<rt.length;rn++)dn.forEach(Kn=>{const Pn=rt[rn],hi=Pn.getAttribute(Kn),Bi=hi?hi.match(Ge):null;if(Bi){let dr=Lt.get(Pn);dr||(dr=[],Lt.set(Pn,dr)),dr.push({name:Kn,value:Bi[1]})}})}_updateSvgIcon(we){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),we){const[rt,Lt]=this._splitIconName(we);rt&&(this._svgNamespace=rt),Lt&&(this._svgName=Lt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Lt,rt).pipe((0,Ke.q)(1)).subscribe(rn=>this._setSvgElement(rn),rn=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${rt}:${Lt}! ${rn.message}`))})}}}return We.\u0275fac=function(we){return new(we||We)(m.Y36(m.SBq),m.Y36(Et),m.$8M("aria-hidden"),m.Y36(Qe),m.Y36(m.qLn),m.Y36(pe,8))},We.\u0275cmp=m.Xpm({type:We,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(we,rt){2&we&&(m.uIk("data-mat-icon-type",rt._usingFontIcon()?"font":"svg")("data-mat-icon-name",rt._svgName||rt.fontIcon)("data-mat-icon-namespace",rt._svgNamespace||rt.fontSet)("fontIcon",rt._usingFontIcon()?rt.fontIcon:null),m.ekj("mat-icon-inline",rt.inline)("mat-icon-no-color","primary"!==rt.color&&"accent"!==rt.color&&"warn"!==rt.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[m.qOj],ngContentSelectors:Tn,decls:1,vars:0,template:function(we,rt){1&we&&(m.F$t(),m.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),We})(),Ue=(()=>{class We{}return We.\u0275fac=function(we){return new(we||We)},We.\u0275mod=m.oAB({type:We}),We.\u0275inj=m.cJS({imports:[N.BQ,N.BQ]}),We})()},4144:(gn,_t,k)=>{"use strict";k.d(_t,{Jk:()=>lt,Nt:()=>Ut,c:()=>ut});var m=k(1281),N=k(3353),v=k(4650),ne=k(8896),C=k(8929);const J=(0,N.i$)({passive:!0});let De=(()=>{class kt{constructor(Je,Be){this._platform=Je,this._ngZone=Be,this._monitoredElements=new Map}monitor(Je){if(!this._platform.isBrowser)return ne.E;const Be=(0,m.fI)(Je),ht=this._monitoredElements.get(Be);if(ht)return ht.subject;const et=new C.xQ,qe="cdk-text-field-autofilled",Pt=ze=>{"cdk-text-field-autofill-start"!==ze.animationName||Be.classList.contains(qe)?"cdk-text-field-autofill-end"===ze.animationName&&Be.classList.contains(qe)&&(Be.classList.remove(qe),this._ngZone.run(()=>et.next({target:ze.target,isAutofilled:!1}))):(Be.classList.add(qe),this._ngZone.run(()=>et.next({target:ze.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{Be.addEventListener("animationstart",Pt,J),Be.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(Be,{subject:et,unlisten:()=>{Be.removeEventListener("animationstart",Pt,J)}}),et}stopMonitoring(Je){const Be=(0,m.fI)(Je),ht=this._monitoredElements.get(Be);ht&&(ht.unlisten(),ht.subject.complete(),Be.classList.remove("cdk-text-field-autofill-monitored"),Be.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(Be))}ngOnDestroy(){this._monitoredElements.forEach((Je,Be)=>this.stopMonitoring(Be))}}return kt.\u0275fac=function(Je){return new(Je||kt)(v.LFG(N.t4),v.LFG(v.R0b))},kt.\u0275prov=v.Yz7({token:kt,factory:kt.\u0275fac,providedIn:"root"}),kt})(),ce=(()=>{class kt{}return kt.\u0275fac=function(Je){return new(Je||kt)},kt.\u0275mod=v.oAB({type:kt}),kt.\u0275inj=v.cJS({}),kt})();var ge=k(4006),be=k(3238),Ne=k(9549);const lt=new v.OlP("MAT_INPUT_VALUE_ACCESSOR"),He=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let ot=0;const pt=(0,be.FD)(class{constructor(kt,vt,Je,Be){this._defaultErrorStateMatcher=kt,this._parentForm=vt,this._parentFormGroup=Je,this.ngControl=Be,this.stateChanges=new C.xQ}});let Ut=(()=>{class kt extends pt{constructor(Je,Be,ht,et,qe,Pt,ze,At,Ft,yn){super(Pt,et,qe,ht),this._elementRef=Je,this._platform=Be,this._autofillMonitor=At,this._formField=yn,this._uid="mat-input-"+ot++,this.focused=!1,this.stateChanges=new C.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(si=>(0,N.qK)().has(si)),this._iOSKeyupListener=si=>{const Ln=si.target;!Ln.value&&0===Ln.selectionStart&&0===Ln.selectionEnd&&(Ln.setSelectionRange(1,1),Ln.setSelectionRange(0,0))};const $n=this._elementRef.nativeElement,Gn=$n.nodeName.toLowerCase();this._inputValueAccessor=ze||$n,this._previousNativeValue=this.value,this.id=this.id,Be.IOS&&Ft.runOutsideAngular(()=>{Je.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Gn,this._isTextarea="textarea"===Gn,this._isInFormField=!!yn,this._isNativeSelect&&(this.controlType=$n.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(Je){this._disabled=(0,m.Ig)(Je),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(Je){this._id=Je||this._uid}get required(){var Je,Be,ht,et;return null!==(Je=null!==(Be=this._required)&&void 0!==Be?Be:null===(ht=this.ngControl)||void 0===ht||null===(et=ht.control)||void 0===et?void 0:et.hasValidator(ge.kI.required))&&void 0!==Je&&Je}set required(Je){this._required=(0,m.Ig)(Je)}get type(){return this._type}set type(Je){this._type=Je||"text",this._validateType(),!this._isTextarea&&(0,N.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(Je){Je!==this.value&&(this._inputValueAccessor.value=Je,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(Je){this._readonly=(0,m.Ig)(Je)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(Je=>{this.autofilled=Je.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(Je){this._elementRef.nativeElement.focus(Je)}_focusChanged(Je){Je!==this.focused&&(this.focused=Je,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var Je;const Be=this._formField,ht=!Be||"legacy"!==Be.appearance||null!==(Je=Be._hasLabel)&&void 0!==Je&&Je.call(Be)?this.placeholder:null;if(ht!==this._previousPlaceholder){const et=this._elementRef.nativeElement;this._previousPlaceholder=ht,ht?et.setAttribute("placeholder",ht):et.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const Je=this._elementRef.nativeElement.value;this._previousNativeValue!==Je&&(this._previousNativeValue=Je,this.stateChanges.next())}_validateType(){He.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let Je=this._elementRef.nativeElement.validity;return Je&&Je.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const Je=this._elementRef.nativeElement,Be=Je.options[0];return this.focused||Je.multiple||!this.empty||!!(Je.selectedIndex>-1&&Be&&Be.label)}return this.focused||!this.empty}setDescribedByIds(Je){Je.length?this._elementRef.nativeElement.setAttribute("aria-describedby",Je.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const Je=this._elementRef.nativeElement;return this._isNativeSelect&&(Je.multiple||Je.size>1)}}return kt.\u0275fac=function(Je){return new(Je||kt)(v.Y36(v.SBq),v.Y36(N.t4),v.Y36(ge.a5,10),v.Y36(ge.F,8),v.Y36(ge.sg,8),v.Y36(be.rD),v.Y36(lt,10),v.Y36(De),v.Y36(v.R0b),v.Y36(Ne.G_,8))},kt.\u0275dir=v.lG2({type:kt,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(Je,Be){1&Je&&v.NdJ("focus",function(){return Be._focusChanged(!0)})("blur",function(){return Be._focusChanged(!1)})("input",function(){return Be._onInput()}),2&Je&&(v.Ikx("disabled",Be.disabled)("required",Be.required),v.uIk("id",Be.id)("data-placeholder",Be.placeholder)("name",Be.name||null)("readonly",Be.readonly&&!Be._isNativeSelect||null)("aria-invalid",Be.empty&&Be.required?null:Be.errorState)("aria-required",Be.required),v.ekj("mat-input-server",Be._isServer)("mat-native-select-inline",Be._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[v._Bn([{provide:Ne.Eo,useExisting:kt}]),v.qOj,v.TTD]}),kt})(),ut=(()=>{class kt{}return kt.\u0275fac=function(Je){return new(Je||kt)},kt.\u0275mod=v.oAB({type:kt}),kt.\u0275inj=v.cJS({providers:[be.rD],imports:[ce,Ne.lN,be.BQ,ce,Ne.lN]}),kt})()},8255:(gn,_t,k)=>{"use strict";k.d(_t,{Tx:()=>Hn,VK:()=>Xt,p6:()=>jt});var m=k(2687),N=k(1281),v=k(9521),ne=k(4650),C=k(8929),J=k(2654),De=k(6787),fe=k(1086),Ie=k(8139),ce=k(1059),ge=k(7545),be=k(2986),Ne=k(7625),Ke=k(2198),lt=k(8583),He=k(7340),ot=k(4080),pt=k(6895),Ut=k(3238),ut=k(445),kt=k(8184),vt=k(3353),Je=k(2556);const Be=["mat-menu-item",""];function ht(wn,mt){1&wn&&(ne.O4$(),ne.TgZ(0,"svg",2),ne._UZ(1,"polygon",3),ne.qZA())}const et=["*"];function qe(wn,mt){if(1&wn){const ee=ne.EpF();ne.TgZ(0,"div",0),ne.NdJ("keydown",function(le){ne.CHM(ee);const Ce=ne.oxw();return ne.KtG(Ce._handleKeydown(le))})("click",function(){ne.CHM(ee);const le=ne.oxw();return ne.KtG(le.closed.emit("click"))})("@transformMenu.start",function(le){ne.CHM(ee);const Ce=ne.oxw();return ne.KtG(Ce._onAnimationStart(le))})("@transformMenu.done",function(le){ne.CHM(ee);const Ce=ne.oxw();return ne.KtG(Ce._onAnimationDone(le))}),ne.TgZ(1,"div",1),ne.Hsn(2),ne.qZA()()}if(2&wn){const ee=ne.oxw();ne.Q6J("id",ee.panelId)("ngClass",ee._classList)("@transformMenu",ee._panelAnimationState),ne.uIk("aria-label",ee.ariaLabel||null)("aria-labelledby",ee.ariaLabelledby||null)("aria-describedby",ee.ariaDescribedby||null)}}const Pt={transformMenu:(0,He.X$)("transformMenu",[(0,He.SB)("void",(0,He.oB)({opacity:0,transform:"scale(0.8)"})),(0,He.eR)("void => enter",(0,He.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,He.oB)({opacity:1,transform:"scale(1)"}))),(0,He.eR)("* => void",(0,He.jt)("100ms 25ms linear",(0,He.oB)({opacity:0})))]),fadeInItems:(0,He.X$)("fadeInItems",[(0,He.SB)("showing",(0,He.oB)({opacity:1})),(0,He.eR)("void => *",[(0,He.oB)({opacity:0}),(0,He.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Ft=new ne.OlP("MatMenuContent"),tn=new ne.OlP("MAT_MENU_PANEL"),mn=(0,Ut.Kr)((0,Ut.Id)(class{}));let Oe=(()=>{class wn extends mn{constructor(ee,he,le,Ce,ae){var Le;super(),this._elementRef=ee,this._document=he,this._focusMonitor=le,this._parentMenu=Ce,this._changeDetectorRef=ae,this.role="menuitem",this._hovered=new C.xQ,this._focused=new C.xQ,this._highlighted=!1,this._triggersSubmenu=!1,null==Ce||null===(Le=Ce.addItem)||void 0===Le||Le.call(Ce,this)}focus(ee,he){this._focusMonitor&&ee?this._focusMonitor.focusVia(this._getHostElement(),ee,he):this._getHostElement().focus(he),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(ee){this.disabled&&(ee.preventDefault(),ee.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var ee;const he=this._elementRef.nativeElement.cloneNode(!0),le=he.querySelectorAll("mat-icon, .material-icons");for(let Ce=0;Ce<le.length;Ce++)le[Ce].remove();return(null===(ee=he.textContent)||void 0===ee?void 0:ee.trim())||""}_setHighlighted(ee){var he;this._highlighted=ee,null===(he=this._changeDetectorRef)||void 0===he||he.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return wn.\u0275fac=function(ee){return new(ee||wn)(ne.Y36(ne.SBq),ne.Y36(pt.K0),ne.Y36(m.tE),ne.Y36(tn,8),ne.Y36(ne.sBO))},wn.\u0275cmp=ne.Xpm({type:wn,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(ee,he){1&ee&&ne.NdJ("click",function(Ce){return he._checkDisabled(Ce)})("mouseenter",function(){return he._handleMouseEnter()}),2&ee&&(ne.uIk("role",he.role)("tabindex",he._getTabIndex())("aria-disabled",he.disabled.toString())("disabled",he.disabled||null),ne.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",he._highlighted)("mat-menu-item-submenu-trigger",he._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[ne.qOj],attrs:Be,ngContentSelectors:et,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(ee,he){1&ee&&(ne.F$t(),ne.Hsn(0),ne._UZ(1,"div",0),ne.YNc(2,ht,2,0,"svg",1)),2&ee&&(ne.xp6(1),ne.Q6J("matRippleDisabled",he.disableRipple||he.disabled)("matRippleTrigger",he._getHostElement()),ne.xp6(1),ne.Q6J("ngIf",he._triggersSubmenu))},dependencies:[pt.O5,Ut.wG],encapsulation:2,changeDetection:0}),wn})();const Ve=new ne.OlP("mat-menu-default-options",{providedIn:"root",factory:function Fe(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Ye=0,St=(()=>{class wn{constructor(ee,he,le,Ce){this._elementRef=ee,this._ngZone=he,this._defaultOptions=le,this._changeDetectorRef=Ce,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new ne.n_E,this._tabSubscription=J.w.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new C.xQ,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new ne.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+Ye++}get xPosition(){return this._xPosition}set xPosition(ee){this._xPosition=ee,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(ee){this._yPosition=ee,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(ee){this._overlapTrigger=(0,N.Ig)(ee)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(ee){this._hasBackdrop=(0,N.Ig)(ee)}set panelClass(ee){const he=this._previousPanelClass;he&&he.length&&he.split(" ").forEach(le=>{this._classList[le]=!1}),this._previousPanelClass=ee,ee&&ee.length&&(ee.split(" ").forEach(le=>{this._classList[le]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(ee){this.panelClass=ee}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new m.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,ce.O)(this._directDescendantItems),(0,ge.w)(ee=>(0,De.T)(...ee.map(he=>he._focused)))).subscribe(ee=>this._keyManager.updateActiveItem(ee)),this._directDescendantItems.changes.subscribe(ee=>{var he;const le=this._keyManager;if("enter"===this._panelAnimationState&&null!==(he=le.activeItem)&&void 0!==he&&he._hasFocus()){const Ce=ee.toArray(),ae=Math.max(0,Math.min(Ce.length-1,le.activeItemIndex||0));Ce[ae]&&!Ce[ae].disabled?le.setActiveItem(ae):le.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe((0,ce.O)(this._directDescendantItems),(0,ge.w)(he=>(0,De.T)(...he.map(le=>le._hovered))))}addItem(ee){}removeItem(ee){}_handleKeydown(ee){const he=ee.keyCode,le=this._keyManager;switch(he){case v.hY:(0,v.Vb)(ee)||(ee.preventDefault(),this.closed.emit("keydown"));break;case v.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case v.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(he===v.LH||he===v.JH)&&le.setFocusOrigin("keyboard"),void le.onKeydown(ee)}ee.stopPropagation()}focusFirstItem(ee="program"){this._ngZone.onStable.pipe((0,be.q)(1)).subscribe(()=>{let he=null;if(this._directDescendantItems.length&&(he=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!he||!he.contains(document.activeElement)){const le=this._keyManager;le.setFocusOrigin(ee).setFirstItemActive(),!le.activeItem&&he&&he.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(ee){const he=Math.min(this._baseElevation+ee,24),le=`${this._elevationPrefix}${he}`,Ce=Object.keys(this._classList).find(ae=>ae.startsWith(this._elevationPrefix));(!Ce||Ce===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[le]=!0,this._previousElevation=le)}setPositionClasses(ee=this.xPosition,he=this.yPosition){var le;const Ce=this._classList;Ce["mat-menu-before"]="before"===ee,Ce["mat-menu-after"]="after"===ee,Ce["mat-menu-above"]="above"===he,Ce["mat-menu-below"]="below"===he,null===(le=this._changeDetectorRef)||void 0===le||le.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(ee){this._animationDone.next(ee),this._isAnimating=!1}_onAnimationStart(ee){this._isAnimating=!0,"enter"===ee.toState&&0===this._keyManager.activeItemIndex&&(ee.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,ce.O)(this._allItems)).subscribe(ee=>{this._directDescendantItems.reset(ee.filter(he=>he._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return wn.\u0275fac=function(ee){return new(ee||wn)(ne.Y36(ne.SBq),ne.Y36(ne.R0b),ne.Y36(Ve),ne.Y36(ne.sBO))},wn.\u0275dir=ne.lG2({type:wn,contentQueries:function(ee,he,le){if(1&ee&&(ne.Suo(le,Ft,5),ne.Suo(le,Oe,5),ne.Suo(le,Oe,4)),2&ee){let Ce;ne.iGM(Ce=ne.CRH())&&(he.lazyContent=Ce.first),ne.iGM(Ce=ne.CRH())&&(he._allItems=Ce),ne.iGM(Ce=ne.CRH())&&(he.items=Ce)}},viewQuery:function(ee,he){if(1&ee&&ne.Gf(ne.Rgc,5),2&ee){let le;ne.iGM(le=ne.CRH())&&(he.templateRef=le.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),wn})(),Xt=(()=>{class wn extends St{constructor(ee,he,le,Ce){super(ee,he,le,Ce),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return wn.\u0275fac=function(ee){return new(ee||wn)(ne.Y36(ne.SBq),ne.Y36(ne.R0b),ne.Y36(Ve),ne.Y36(ne.sBO))},wn.\u0275cmp=ne.Xpm({type:wn,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(ee,he){2&ee&&ne.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[ne._Bn([{provide:tn,useExisting:wn}]),ne.qOj],ngContentSelectors:et,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(ee,he){1&ee&&(ne.F$t(),ne.YNc(0,qe,3,6,"ng-template"))},dependencies:[pt.mk],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Pt.transformMenu,Pt.fadeInItems]},changeDetection:0}),wn})();const Fn=new ne.OlP("mat-menu-scroll-strategy"),Kt={provide:Fn,deps:[kt.aV],useFactory:function Mt(wn){return()=>wn.scrollStrategies.reposition()}},Vt=(0,vt.i$)({passive:!0});let Cn=(()=>{class wn{constructor(ee,he,le,Ce,ae,Le,Dt,Gt,nn){this._overlay=ee,this._element=he,this._viewContainerRef=le,this._menuItemInstance=Le,this._dir=Dt,this._focusMonitor=Gt,this._ngZone=nn,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=J.w.EMPTY,this._hoverSubscription=J.w.EMPTY,this._menuCloseSubscription=J.w.EMPTY,this._handleTouchStart=ln=>{(0,m.yG)(ln)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new ne.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new ne.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=Ce,this._parentMaterialMenu=ae instanceof St?ae:void 0,he.nativeElement.addEventListener("touchstart",this._handleTouchStart,Vt),Le&&(Le._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(ee){this.menu=ee}get menu(){return this._menu}set menu(ee){ee!==this._menu&&(this._menu=ee,this._menuCloseSubscription.unsubscribe(),ee&&(this._menuCloseSubscription=ee.close.subscribe(he=>{this._destroyMenu(he),("click"===he||"tab"===he)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(he)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Vt),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const ee=this.menu;if(this._menuOpen||!ee)return;const he=this._createOverlay(ee),le=he.getConfig(),Ce=le.positionStrategy;this._setPosition(ee,Ce),le.hasBackdrop=ee.hasBackdrop??!this.triggersSubmenu(),he.attach(this._getPortal(ee)),ee.lazyContent&&ee.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(ee),ee instanceof St&&(ee._startAnimation(),ee._directDescendantItems.changes.pipe((0,Ne.R)(ee.close)).subscribe(()=>{Ce.withLockedPosition(!1).reapplyLastPosition(),Ce.withLockedPosition(!0)}))}closeMenu(){var ee;null===(ee=this.menu)||void 0===ee||ee.close.emit()}focus(ee,he){this._focusMonitor&&ee?this._focusMonitor.focusVia(this._element,ee,he):this._element.nativeElement.focus(he)}updatePosition(){var ee;null===(ee=this._overlayRef)||void 0===ee||ee.updatePosition()}_destroyMenu(ee){if(!this._overlayRef||!this.menuOpen)return;const he=this.menu;var le;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===ee||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,he instanceof St?(he._resetAnimation(),he.lazyContent?he._animationDone.pipe((0,Ke.h)(Ce=>"void"===Ce.toState),(0,be.q)(1),(0,Ne.R)(he.lazyContent._attached)).subscribe({next:()=>he.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),null==he||null===(le=he.lazyContent)||void 0===le||le.detach())}_initMenu(ee){ee.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,ee.direction=this.dir,this._setMenuElevation(ee),ee.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(ee){if(ee.setElevation){let he=0,le=ee.parentMenu;for(;le;)he++,le=le.parentMenu;ee.setElevation(he)}}_setIsMenuOpen(ee){this._menuOpen=ee,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(ee)}_createOverlay(ee){if(!this._overlayRef){const he=this._getOverlayConfig(ee);this._subscribeToPositions(ee,he.positionStrategy),this._overlayRef=this._overlay.create(he),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(ee){return new kt.X_({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:ee.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:ee.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(ee,he){ee.setPositionClasses&&he.positionChanges.subscribe(le=>{const Ce="start"===le.connectionPair.overlayX?"after":"before",ae="top"===le.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>ee.setPositionClasses(Ce,ae)):ee.setPositionClasses(Ce,ae)})}_setPosition(ee,he){let[le,Ce]="before"===ee.xPosition?["end","start"]:["start","end"],[ae,Le]="above"===ee.yPosition?["bottom","top"]:["top","bottom"],[Dt,Gt]=[ae,Le],[nn,ln]=[le,Ce],Rn=0;if(this.triggersSubmenu()){if(ln=le="before"===ee.xPosition?"start":"end",Ce=nn="end"===le?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const ai=this._parentMaterialMenu.items.first;this._parentInnerPadding=ai?ai._getHostElement().offsetTop:0}Rn="bottom"===ae?this._parentInnerPadding:-this._parentInnerPadding}}else ee.overlapTrigger||(Dt="top"===ae?"bottom":"top",Gt="top"===Le?"bottom":"top");he.withPositions([{originX:le,originY:Dt,overlayX:nn,overlayY:ae,offsetY:Rn},{originX:Ce,originY:Dt,overlayX:ln,overlayY:ae,offsetY:Rn},{originX:le,originY:Gt,overlayX:nn,overlayY:Le,offsetY:-Rn},{originX:Ce,originY:Gt,overlayX:ln,overlayY:Le,offsetY:-Rn}])}_menuClosingActions(){const ee=this._overlayRef.backdropClick(),he=this._overlayRef.detachments(),le=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,fe.of)(),Ce=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,Ke.h)(ae=>ae!==this._menuItemInstance),(0,Ke.h)(()=>this._menuOpen)):(0,fe.of)();return(0,De.T)(ee,le,Ce,he)}_handleMousedown(ee){(0,m.X6)(ee)||(this._openedBy=0===ee.button?"mouse":void 0,this.triggersSubmenu()&&ee.preventDefault())}_handleKeydown(ee){const he=ee.keyCode;(he===v.K5||he===v.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(he===v.SV&&"ltr"===this.dir||he===v.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(ee){this.triggersSubmenu()?(ee.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,Ke.h)(ee=>ee===this._menuItemInstance&&!ee.disabled),(0,lt.g)(0,Ie.e)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof St&&this.menu._isAnimating?this.menu._animationDone.pipe((0,be.q)(1),(0,lt.g)(0,Ie.e),(0,Ne.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(ee){return(!this._portal||this._portal.templateRef!==ee.templateRef)&&(this._portal=new ot.UE(ee.templateRef,this._viewContainerRef)),this._portal}}return wn.\u0275fac=function(ee){return new(ee||wn)(ne.Y36(kt.aV),ne.Y36(ne.SBq),ne.Y36(ne.s_b),ne.Y36(Fn),ne.Y36(tn,8),ne.Y36(Oe,10),ne.Y36(ut.Is,8),ne.Y36(m.tE),ne.Y36(ne.R0b))},wn.\u0275dir=ne.lG2({type:wn,hostVars:3,hostBindings:function(ee,he){1&ee&&ne.NdJ("click",function(Ce){return he._handleClick(Ce)})("mousedown",function(Ce){return he._handleMousedown(Ce)})("keydown",function(Ce){return he._handleKeydown(Ce)}),2&ee&&ne.uIk("aria-haspopup",he.menu?"menu":null)("aria-expanded",he.menuOpen||null)("aria-controls",he.menuOpen?he.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),wn})(),jt=(()=>{class wn extends Cn{}return wn.\u0275fac=function(){let mt;return function(he){return(mt||(mt=ne.n5z(wn)))(he||wn)}}(),wn.\u0275dir=ne.lG2({type:wn,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[ne.qOj]}),wn})(),Hn=(()=>{class wn{}return wn.\u0275fac=function(ee){return new(ee||wn)},wn.\u0275mod=ne.oAB({type:wn}),wn.\u0275inj=ne.cJS({providers:[Kt],imports:[pt.ez,Ut.BQ,Ut.si,kt.U8,Je.ZD,Ut.BQ]}),wn})()},1481:(gn,_t,k)=>{"use strict";k.d(_t,{Dx:()=>Dt,H7:()=>Qe,b2:()=>he,q6:()=>Hn,se:()=>Ft});var m=k(6895),N=k(4650);class v extends m.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ne extends v{static makeCurrent(){(0,m.HT)(new ne)}onAndCancel(je,Ue,We){return je.addEventListener(Ue,We,!1),()=>{je.removeEventListener(Ue,We,!1)}}dispatchEvent(je,Ue){je.dispatchEvent(Ue)}remove(je){je.parentNode&&je.parentNode.removeChild(je)}createElement(je,Ue){return(Ue=Ue||this.getDefaultDocument()).createElement(je)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(je){return je.nodeType===Node.ELEMENT_NODE}isShadowRoot(je){return je instanceof DocumentFragment}getGlobalEventTarget(je,Ue){return"window"===Ue?window:"document"===Ue?je:"body"===Ue?je.body:null}getBaseHref(je){const Ue=function J(){return C=C||document.querySelector("base"),C?C.getAttribute("href"):null}();return null==Ue?null:function fe(Ge){De=De||document.createElement("a"),De.setAttribute("href",Ge);const je=De.pathname;return"/"===je.charAt(0)?je:`/${je}`}(Ue)}resetBaseElement(){C=null}getUserAgent(){return window.navigator.userAgent}getCookie(je){return(0,m.Mx)(document.cookie,je)}}let De,C=null;const Ie=new N.OlP("TRANSITION_ID"),ge=[{provide:N.ip1,useFactory:function ce(Ge,je,Ue){return()=>{Ue.get(N.CZH).donePromise.then(()=>{const We=(0,m.q)(),Te=je.querySelectorAll(`style[ng-transition="${Ge}"]`);for(let we=0;we<Te.length;we++)We.remove(Te[we])})}},deps:[Ie,m.K0,N.zs3],multi:!0}];let Ne=(()=>{class Ge{build(){return new XMLHttpRequest}}return Ge.\u0275fac=function(Ue){return new(Ue||Ge)},Ge.\u0275prov=N.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})();const Ke=new N.OlP("EventManagerPlugins");let lt=(()=>{class Ge{constructor(Ue,We){this._zone=We,this._eventNameToPlugin=new Map,Ue.forEach(Te=>Te.manager=this),this._plugins=Ue.slice().reverse()}addEventListener(Ue,We,Te){return this._findPluginFor(We).addEventListener(Ue,We,Te)}addGlobalEventListener(Ue,We,Te){return this._findPluginFor(We).addGlobalEventListener(Ue,We,Te)}getZone(){return this._zone}_findPluginFor(Ue){const We=this._eventNameToPlugin.get(Ue);if(We)return We;const Te=this._plugins;for(let we=0;we<Te.length;we++){const rt=Te[we];if(rt.supports(Ue))return this._eventNameToPlugin.set(Ue,rt),rt}throw new Error(`No event manager plugin found for event ${Ue}`)}}return Ge.\u0275fac=function(Ue){return new(Ue||Ge)(N.LFG(Ke),N.LFG(N.R0b))},Ge.\u0275prov=N.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})();class He{constructor(je){this._doc=je}addGlobalEventListener(je,Ue,We){const Te=(0,m.q)().getGlobalEventTarget(this._doc,je);if(!Te)throw new Error(`Unsupported event target ${Te} for event ${Ue}`);return this.addEventListener(Te,Ue,We)}}let ot=(()=>{class Ge{constructor(){this._stylesSet=new Set}addStyles(Ue){const We=new Set;Ue.forEach(Te=>{this._stylesSet.has(Te)||(this._stylesSet.add(Te),We.add(Te))}),this.onStylesAdded(We)}onStylesAdded(Ue){}getAllStyles(){return Array.from(this._stylesSet)}}return Ge.\u0275fac=function(Ue){return new(Ue||Ge)},Ge.\u0275prov=N.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})(),pt=(()=>{class Ge extends ot{constructor(Ue){super(),this._doc=Ue,this._hostNodes=new Map,this._hostNodes.set(Ue.head,[])}_addStylesToHost(Ue,We,Te){Ue.forEach(we=>{const rt=this._doc.createElement("style");rt.textContent=we,Te.push(We.appendChild(rt))})}addHost(Ue){const We=[];this._addStylesToHost(this._stylesSet,Ue,We),this._hostNodes.set(Ue,We)}removeHost(Ue){const We=this._hostNodes.get(Ue);We&&We.forEach(Ut),this._hostNodes.delete(Ue)}onStylesAdded(Ue){this._hostNodes.forEach((We,Te)=>{this._addStylesToHost(Ue,Te,We)})}ngOnDestroy(){this._hostNodes.forEach(Ue=>Ue.forEach(Ut))}}return Ge.\u0275fac=function(Ue){return new(Ue||Ge)(N.LFG(m.K0))},Ge.\u0275prov=N.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})();function Ut(Ge){(0,m.q)().remove(Ge)}const ut={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kt=/%COMP%/g;function Pt(Ge,je,Ue){for(let We=0;We<je.length;We++){let Te=je[We];Array.isArray(Te)?Pt(Ge,Te,Ue):(Te=Te.replace(kt,Ge),Ue.push(Te))}return Ue}function ze(Ge){return je=>{if("__ngUnwrap__"===je)return Ge;!1===Ge(je)&&(je.preventDefault(),je.returnValue=!1)}}let Ft=(()=>{class Ge{constructor(Ue,We,Te){this.eventManager=Ue,this.sharedStylesHost=We,this.appId=Te,this.rendererByCompId=new Map,this.defaultRenderer=new yn(Ue)}createRenderer(Ue,We){if(!Ue||!We)return this.defaultRenderer;switch(We.encapsulation){case N.ifc.Emulated:{let Te=this.rendererByCompId.get(We.id);return Te||(Te=new Ln(this.eventManager,this.sharedStylesHost,We,this.appId),this.rendererByCompId.set(We.id,Te)),Te.applyToHost(Ue),Te}case 1:case N.ifc.ShadowDom:return new tn(this.eventManager,this.sharedStylesHost,Ue,We);default:if(!this.rendererByCompId.has(We.id)){const Te=Pt(We.id,We.styles,[]);this.sharedStylesHost.addStyles(Te),this.rendererByCompId.set(We.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ge.\u0275fac=function(Ue){return new(Ue||Ge)(N.LFG(lt),N.LFG(pt),N.LFG(N.AFp))},Ge.\u0275prov=N.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})();class yn{constructor(je){this.eventManager=je,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(je,Ue){return Ue?document.createElementNS(ut[Ue]||Ue,je):document.createElement(je)}createComment(je){return document.createComment(je)}createText(je){return document.createTextNode(je)}appendChild(je,Ue){(si(je)?je.content:je).appendChild(Ue)}insertBefore(je,Ue,We){je&&(si(je)?je.content:je).insertBefore(Ue,We)}removeChild(je,Ue){je&&je.removeChild(Ue)}selectRootElement(je,Ue){let We="string"==typeof je?document.querySelector(je):je;if(!We)throw new Error(`The selector "${je}" did not match any elements`);return Ue||(We.textContent=""),We}parentNode(je){return je.parentNode}nextSibling(je){return je.nextSibling}setAttribute(je,Ue,We,Te){if(Te){Ue=Te+":"+Ue;const we=ut[Te];we?je.setAttributeNS(we,Ue,We):je.setAttribute(Ue,We)}else je.setAttribute(Ue,We)}removeAttribute(je,Ue,We){if(We){const Te=ut[We];Te?je.removeAttributeNS(Te,Ue):je.removeAttribute(`${We}:${Ue}`)}else je.removeAttribute(Ue)}addClass(je,Ue){je.classList.add(Ue)}removeClass(je,Ue){je.classList.remove(Ue)}setStyle(je,Ue,We,Te){Te&(N.JOm.DashCase|N.JOm.Important)?je.style.setProperty(Ue,We,Te&N.JOm.Important?"important":""):je.style[Ue]=We}removeStyle(je,Ue,We){We&N.JOm.DashCase?je.style.removeProperty(Ue):je.style[Ue]=""}setProperty(je,Ue,We){je[Ue]=We}setValue(je,Ue){je.nodeValue=Ue}listen(je,Ue,We){return"string"==typeof je?this.eventManager.addGlobalEventListener(je,Ue,ze(We)):this.eventManager.addEventListener(je,Ue,ze(We))}}function si(Ge){return"TEMPLATE"===Ge.tagName&&void 0!==Ge.content}class Ln extends yn{constructor(je,Ue,We,Te){super(je),this.component=We;const we=Pt(Te+"-"+We.id,We.styles,[]);Ue.addStyles(we),this.contentAttr=function et(Ge){return"_ngcontent-%COMP%".replace(kt,Ge)}(Te+"-"+We.id),this.hostAttr=function qe(Ge){return"_nghost-%COMP%".replace(kt,Ge)}(Te+"-"+We.id)}applyToHost(je){super.setAttribute(je,this.hostAttr,"")}createElement(je,Ue){const We=super.createElement(je,Ue);return super.setAttribute(We,this.contentAttr,""),We}}class tn extends yn{constructor(je,Ue,We,Te){super(je),this.sharedStylesHost=Ue,this.hostEl=We,this.shadowRoot=We.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const we=Pt(Te.id,Te.styles,[]);for(let rt=0;rt<we.length;rt++){const Lt=document.createElement("style");Lt.textContent=we[rt],this.shadowRoot.appendChild(Lt)}}nodeOrShadowRoot(je){return je===this.hostEl?this.shadowRoot:je}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(je,Ue){return super.appendChild(this.nodeOrShadowRoot(je),Ue)}insertBefore(je,Ue,We){return super.insertBefore(this.nodeOrShadowRoot(je),Ue,We)}removeChild(je,Ue){return super.removeChild(this.nodeOrShadowRoot(je),Ue)}parentNode(je){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(je)))}}let mn=(()=>{class Ge extends He{constructor(Ue){super(Ue)}supports(Ue){return!0}addEventListener(Ue,We,Te){return Ue.addEventListener(We,Te,!1),()=>this.removeEventListener(Ue,We,Te)}removeEventListener(Ue,We,Te){return Ue.removeEventListener(We,Te)}}return Ge.\u0275fac=function(Ue){return new(Ue||Ge)(N.LFG(m.K0))},Ge.\u0275prov=N.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})();const Oe=["alt","control","meta","shift"],Ve={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fe={alt:Ge=>Ge.altKey,control:Ge=>Ge.ctrlKey,meta:Ge=>Ge.metaKey,shift:Ge=>Ge.shiftKey};let Ye=(()=>{class Ge extends He{constructor(Ue){super(Ue)}supports(Ue){return null!=Ge.parseEventName(Ue)}addEventListener(Ue,We,Te){const we=Ge.parseEventName(We),rt=Ge.eventCallback(we.fullKey,Te,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,m.q)().onAndCancel(Ue,we.domEventName,rt))}static parseEventName(Ue){const We=Ue.toLowerCase().split("."),Te=We.shift();if(0===We.length||"keydown"!==Te&&"keyup"!==Te)return null;const we=Ge._normalizeKey(We.pop());let rt="",Lt=We.indexOf("code");if(Lt>-1&&(We.splice(Lt,1),rt="code."),Oe.forEach(Kn=>{const Pn=We.indexOf(Kn);Pn>-1&&(We.splice(Pn,1),rt+=Kn+".")}),rt+=we,0!=We.length||0===we.length)return null;const rn={};return rn.domEventName=Te,rn.fullKey=rt,rn}static matchEventFullKeyCode(Ue,We){let Te=Ve[Ue.key]||Ue.key,we="";return We.indexOf("code.")>-1&&(Te=Ue.code,we="code."),!(null==Te||!Te)&&(Te=Te.toLowerCase()," "===Te?Te="space":"."===Te&&(Te="dot"),Oe.forEach(rt=>{rt!==Te&&(0,Fe[rt])(Ue)&&(we+=rt+".")}),we+=Te,we===We)}static eventCallback(Ue,We,Te){return we=>{Ge.matchEventFullKeyCode(we,Ue)&&Te.runGuarded(()=>We(we))}}static _normalizeKey(Ue){return"esc"===Ue?"escape":Ue}}return Ge.\u0275fac=function(Ue){return new(Ue||Ge)(N.LFG(m.K0))},Ge.\u0275prov=N.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})();const Hn=(0,N.eFA)(N._c5,"browser",[{provide:N.Lbi,useValue:m.bD},{provide:N.g9A,useValue:function Tt(){ne.makeCurrent()},multi:!0},{provide:m.K0,useFactory:function Cn(){return(0,N.RDi)(document),document},deps:[]}]),wn=new N.OlP(""),mt=[{provide:N.rWj,useClass:class be{addToWindow(je){N.dqk.getAngularTestability=(We,Te=!0)=>{const we=je.findTestabilityInTree(We,Te);if(null==we)throw new Error("Could not find testability for element.");return we},N.dqk.getAllAngularTestabilities=()=>je.getAllTestabilities(),N.dqk.getAllAngularRootElements=()=>je.getAllRootElements(),N.dqk.frameworkStabilizers||(N.dqk.frameworkStabilizers=[]),N.dqk.frameworkStabilizers.push(We=>{const Te=N.dqk.getAllAngularTestabilities();let we=Te.length,rt=!1;const Lt=function(rn){rt=rt||rn,we--,0==we&&We(rt)};Te.forEach(function(rn){rn.whenStable(Lt)})})}findTestabilityInTree(je,Ue,We){return null==Ue?null:je.getTestability(Ue)??(We?(0,m.q)().isShadowRoot(Ue)?this.findTestabilityInTree(je,Ue.host,!0):this.findTestabilityInTree(je,Ue.parentElement,!0):null)}},deps:[]},{provide:N.lri,useClass:N.dDg,deps:[N.R0b,N.eoX,N.rWj]},{provide:N.dDg,useClass:N.dDg,deps:[N.R0b,N.eoX,N.rWj]}],ee=[{provide:N.zSh,useValue:"root"},{provide:N.qLn,useFactory:function Vt(){return new N.qLn},deps:[]},{provide:Ke,useClass:mn,multi:!0,deps:[m.K0,N.R0b,N.Lbi]},{provide:Ke,useClass:Ye,multi:!0,deps:[m.K0]},{provide:Ft,useClass:Ft,deps:[lt,pt,N.AFp]},{provide:N.FYo,useExisting:Ft},{provide:ot,useExisting:pt},{provide:pt,useClass:pt,deps:[m.K0]},{provide:lt,useClass:lt,deps:[Ke,N.R0b]},{provide:m.JF,useClass:Ne,deps:[]},[]];let he=(()=>{class Ge{constructor(Ue){}static withServerTransition(Ue){return{ngModule:Ge,providers:[{provide:N.AFp,useValue:Ue.appId},{provide:Ie,useExisting:N.AFp},ge]}}}return Ge.\u0275fac=function(Ue){return new(Ue||Ge)(N.LFG(wn,12))},Ge.\u0275mod=N.oAB({type:Ge}),Ge.\u0275inj=N.cJS({providers:[...ee,...mt],imports:[m.ez,N.hGG]}),Ge})(),Dt=(()=>{class Ge{constructor(Ue){this._doc=Ue}getTitle(){return this._doc.title}setTitle(Ue){this._doc.title=Ue||""}}return Ge.\u0275fac=function(Ue){return new(Ue||Ge)(N.LFG(m.K0))},Ge.\u0275prov=N.Yz7({token:Ge,factory:function(Ue){let We=null;return We=Ue?new Ue:function Le(){return new Dt((0,N.LFG)(m.K0))}(),We},providedIn:"root"}),Ge})();typeof window<"u"&&window;let Qe=(()=>{class Ge{}return Ge.\u0275fac=function(Ue){return new(Ue||Ge)},Ge.\u0275prov=N.Yz7({token:Ge,factory:function(Ue){let We=null;return We=Ue?new(Ue||Ge):N.LFG(dn),We},providedIn:"root"}),Ge})(),dn=(()=>{class Ge extends Qe{constructor(Ue){super(),this._doc=Ue}sanitize(Ue,We){if(null==We)return null;switch(Ue){case N.q3G.NONE:return We;case N.q3G.HTML:return(0,N.qzn)(We,"HTML")?(0,N.z3N)(We):(0,N.EiD)(this._doc,String(We)).toString();case N.q3G.STYLE:return(0,N.qzn)(We,"Style")?(0,N.z3N)(We):We;case N.q3G.SCRIPT:if((0,N.qzn)(We,"Script"))return(0,N.z3N)(We);throw new Error("unsafe value used in a script context");case N.q3G.URL:return(0,N.qzn)(We,"URL")?(0,N.z3N)(We):(0,N.mCW)(String(We));case N.q3G.RESOURCE_URL:if((0,N.qzn)(We,"ResourceURL"))return(0,N.z3N)(We);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${Ue} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(Ue){return(0,N.JVY)(Ue)}bypassSecurityTrustStyle(Ue){return(0,N.L6k)(Ue)}bypassSecurityTrustScript(Ue){return(0,N.eBb)(Ue)}bypassSecurityTrustUrl(Ue){return(0,N.LAX)(Ue)}bypassSecurityTrustResourceUrl(Ue){return(0,N.pB0)(Ue)}}return Ge.\u0275fac=function(Ue){return new(Ue||Ge)(N.LFG(m.K0))},Ge.\u0275prov=N.Yz7({token:Ge,factory:function(Ue){let We=null;return We=Ue?new Ue:function Ct(Ge){return new dn(Ge.get(m.K0))}(N.LFG(N.zs3)),We},providedIn:"root"}),Ge})()},7868:(gn,_t,k)=>{"use strict";k.d(_t,{F0:()=>Pr,rH:()=>qo,yS:()=>rl,Bz:()=>So,lC:()=>No});var m=k(4650),N=k(5254),v=k(1086),ne=k(591),C=k(4450),J=k(6053),De=k(1221),fe=k(8514),Ie=k(4843),ce=k(1737),ge=k(6498),be=k(8896),Ne=k(1762),Ke=k(8929),lt=k(6895),He=k(4850),ot=k(7545),pt=k(2986),Ut=k(1059),ut=k(2198),kt=k(1709),vt=k(7224),Je=k(1406),Be=k(2868),ht=k(7221),et=k(2014),qe=k(3489),Pt=k(4231);function ze(F){return function(I){return 0===F?(0,be.c)():I.lift(new At(F))}}class At{constructor(L){if(this.total=L,this.total<0)throw new Pt.W}call(L,I){return I.subscribe(new Ft(L,this.total))}}class Ft extends qe.L{constructor(L,I){super(L),this.total=I,this.ring=new Array,this.count=0}_next(L){const I=this.ring,H=this.total,te=this.count++;I.length<H?I.push(L):I[te%H]=L}_complete(){const L=this.destination;let I=this.count;if(I>0){const H=this.count>=this.total?this.total:this.count,te=this.ring;for(let Re=0;Re<H;Re++){const tt=I++%H;L.next(te[tt])}}L.complete()}}var yn=k(4907),$n=k(7314),Gn=k(5379);function si(F,L){const I=arguments.length>=2;return H=>H.pipe(F?(0,ut.h)((te,Re)=>F(te,Re,H)):Gn.y,ze(1),I?(0,$n.d)(L):(0,yn.T)(()=>new C.K))}class tn{constructor(L,I){this.predicate=L,this.inclusive=I}call(L,I){return I.subscribe(new mn(L,this.predicate,this.inclusive))}}class mn extends qe.L{constructor(L,I,H){super(L),this.predicate=I,this.inclusive=H,this.index=0}_next(L){const I=this.destination;let H;try{H=this.predicate(L,this.index++)}catch(te){return void I.error(te)}this.nextOrComplete(L,H)}nextOrComplete(L,I){const H=this.destination;Boolean(I)?H.next(L):(this.inclusive&&H.next(L),H.complete())}}class Ve{constructor(L){this.value=L}call(L,I){return I.subscribe(new Fe(L,this.value))}}class Fe extends qe.L{constructor(L,I){super(L),this.value=I}_next(L){this.destination.next(this.value)}}var Ye=k(537),St=k(4327),Xt=k(9146),Fn=k(1481);const Mt="primary",Kt=Symbol("RouteTitle");class Tt{constructor(L){this.params=L||{}}has(L){return Object.prototype.hasOwnProperty.call(this.params,L)}get(L){if(this.has(L)){const I=this.params[L];return Array.isArray(I)?I[0]:I}return null}getAll(L){if(this.has(L)){const I=this.params[L];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function Vt(F){return new Tt(F)}function Cn(F,L,I){const H=I.path.split("/");if(H.length>F.length||"full"===I.pathMatch&&(L.hasChildren()||H.length<F.length))return null;const te={};for(let Re=0;Re<H.length;Re++){const tt=H[Re],dt=F[Re];if(tt.startsWith(":"))te[tt.substring(1)]=dt;else if(tt!==dt.path)return null}return{consumed:F.slice(0,H.length),posParams:te}}function Hn(F,L){const I=F?Object.keys(F):void 0,H=L?Object.keys(L):void 0;if(!I||!H||I.length!=H.length)return!1;let te;for(let Re=0;Re<I.length;Re++)if(te=I[Re],!wn(F[te],L[te]))return!1;return!0}function wn(F,L){if(Array.isArray(F)&&Array.isArray(L)){if(F.length!==L.length)return!1;const I=[...F].sort(),H=[...L].sort();return I.every((te,Re)=>H[Re]===te)}return F===L}function mt(F){return Array.prototype.concat.apply([],F)}function ee(F){return F.length>0?F[F.length-1]:null}function le(F,L){for(const I in F)F.hasOwnProperty(I)&&L(F[I],I)}function Ce(F){return(0,m.CqO)(F)?F:(0,m.QGY)(F)?(0,N.D)(Promise.resolve(F)):(0,v.of)(F)}const Dt={exact:function Rn(F,L,I){if(!Se(F.segments,L.segments)||!kn(F.segments,L.segments,I)||F.numberOfChildren!==L.numberOfChildren)return!1;for(const H in L.children)if(!F.children[H]||!Rn(F.children[H],L.children[H],I))return!1;return!0},subset:di},Gt={exact:function ln(F,L){return Hn(F,L)},subset:function ai(F,L){return Object.keys(L).length<=Object.keys(F).length&&Object.keys(L).every(I=>wn(F[I],L[I]))},ignored:()=>!0};function nn(F,L,I){return Dt[I.paths](F.root,L.root,I.matrixParams)&&Gt[I.queryParams](F.queryParams,L.queryParams)&&!("exact"===I.fragment&&F.fragment!==L.fragment)}function di(F,L,I){return ri(F,L,L.segments,I)}function ri(F,L,I,H){if(F.segments.length>I.length){const te=F.segments.slice(0,I.length);return!(!Se(te,I)||L.hasChildren()||!kn(te,I,H))}if(F.segments.length===I.length){if(!Se(F.segments,I)||!kn(F.segments,I,H))return!1;for(const te in L.children)if(!F.children[te]||!di(F.children[te],L.children[te],H))return!1;return!0}{const te=I.slice(0,F.segments.length),Re=I.slice(F.segments.length);return!!(Se(F.segments,te)&&kn(F.segments,te,H)&&F.children[Mt])&&ri(F.children[Mt],L,Re,H)}}function kn(F,L,I){return L.every((H,te)=>Gt[I](F[te].parameters,H.parameters))}class Ai{constructor(L,I,H){this.root=L,this.queryParams=I,this.fragment=H}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vt(this.queryParams)),this._queryParamMap}toString(){return it.serialize(this)}}class Tn{constructor(L,I){this.segments=L,this.children=I,this.parent=null,le(I,(H,te)=>H.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xe(this)}}class $t{constructor(L,I){this.path=L,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=Vt(this.parameters)),this._parameterMap}toString(){return pe(this)}}function Se(F,L){return F.length===L.length&&F.every((I,H)=>I.path===L[H].path)}let hn=(()=>{class F{}return F.\u0275fac=function(I){return new(I||F)},F.\u0275prov=m.Yz7({token:F,factory:function(){return new at},providedIn:"root"}),F})();class at{parse(L){const I=new Te(L);return new Ai(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(L){const I=`/${Et(L.root,!0)}`,H=function Ct(F){const L=Object.keys(F).map(I=>{const H=F[I];return Array.isArray(H)?H.map(te=>`${_e(I)}=${_e(te)}`).join("&"):`${_e(I)}=${_e(H)}`}).filter(I=>!!I);return L.length?`?${L.join("&")}`:""}(L.queryParams);return`${I}${H}${"string"==typeof L.fragment?`#${function j(F){return encodeURI(F)}(L.fragment)}`:""}`}}const it=new at;function Xe(F){return F.segments.map(L=>pe(L)).join("/")}function Et(F,L){if(!F.hasChildren())return Xe(F);if(L){const I=F.children[Mt]?Et(F.children[Mt],!1):"",H=[];return le(F.children,(te,Re)=>{Re!==Mt&&H.push(`${Re}:${Et(te,!1)}`)}),H.length>0?`${I}(${H.join("//")})`:I}{const I=function Jt(F,L){let I=[];return le(F.children,(H,te)=>{te===Mt&&(I=I.concat(L(H,te)))}),le(F.children,(H,te)=>{te!==Mt&&(I=I.concat(L(H,te)))}),I}(F,(H,te)=>te===Mt?[Et(F.children[Mt],!1)]:[`${te}:${Et(H,!1)}`]);return 1===Object.keys(F.children).length&&null!=F.children[Mt]?`${Xe(F)}/${I[0]}`:`${Xe(F)}/(${I.join("//")})`}}function Ht(F){return encodeURIComponent(F).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _e(F){return Ht(F).replace(/%3B/gi,";")}function G(F){return Ht(F).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function X(F){return decodeURIComponent(F)}function K(F){return X(F.replace(/\+/g,"%20"))}function pe(F){return`${G(F.path)}${function Qe(F){return Object.keys(F).map(L=>`;${G(L)}=${G(F[L])}`).join("")}(F.parameters)}`}const dn=/^[^\/()?;=#]+/;function fn(F){const L=F.match(dn);return L?L[0]:""}const Ge=/^[^=?&#]+/,Ue=/^[^&#]+/;class Te{constructor(L){this.url=L,this.remaining=L}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tn([],{}):new Tn([],this.parseChildren())}parseQueryParams(){const L={};if(this.consumeOptional("?"))do{this.parseQueryParam(L)}while(this.consumeOptional("&"));return L}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const L=[];for(this.peekStartsWith("(")||L.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),L.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let H={};return this.peekStartsWith("(")&&(H=this.parseParens(!1)),(L.length>0||Object.keys(I).length>0)&&(H[Mt]=new Tn(L,I)),H}parseSegment(){const L=fn(this.remaining);if(""===L&&this.peekStartsWith(";"))throw new m.vHH(4009,!1);return this.capture(L),new $t(X(L),this.parseMatrixParams())}parseMatrixParams(){const L={};for(;this.consumeOptional(";");)this.parseParam(L);return L}parseParam(L){const I=fn(this.remaining);if(!I)return;this.capture(I);let H="";if(this.consumeOptional("=")){const te=fn(this.remaining);te&&(H=te,this.capture(H))}L[X(I)]=X(H)}parseQueryParam(L){const I=function je(F){const L=F.match(Ge);return L?L[0]:""}(this.remaining);if(!I)return;this.capture(I);let H="";if(this.consumeOptional("=")){const tt=function We(F){const L=F.match(Ue);return L?L[0]:""}(this.remaining);tt&&(H=tt,this.capture(H))}const te=K(I),Re=K(H);if(L.hasOwnProperty(te)){let tt=L[te];Array.isArray(tt)||(tt=[tt],L[te]=tt),tt.push(Re)}else L[te]=Re}parseParens(L){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const H=fn(this.remaining),te=this.remaining[H.length];if("/"!==te&&")"!==te&&";"!==te)throw new m.vHH(4010,!1);let Re;H.indexOf(":")>-1?(Re=H.slice(0,H.indexOf(":")),this.capture(Re),this.capture(":")):L&&(Re=Mt);const tt=this.parseChildren();I[Re]=1===Object.keys(tt).length?tt[Mt]:new Tn([],tt),this.consumeOptional("//")}return I}peekStartsWith(L){return this.remaining.startsWith(L)}consumeOptional(L){return!!this.peekStartsWith(L)&&(this.remaining=this.remaining.substring(L.length),!0)}capture(L){if(!this.consumeOptional(L))throw new m.vHH(4011,!1)}}function we(F){return F.segments.length>0?new Tn([],{[Mt]:F}):F}function rt(F){const L={};for(const H of Object.keys(F.children)){const Re=rt(F.children[H]);(Re.segments.length>0||Re.hasChildren())&&(L[H]=Re)}return function Lt(F){if(1===F.numberOfChildren&&F.children[Mt]){const L=F.children[Mt];return new Tn(F.segments.concat(L.segments),L.children)}return F}(new Tn(F.segments,L))}function rn(F){return F instanceof Ai}function dr(F,L,I,H,te){var Re;if(0===I.length)return Ji(L.root,L.root,L.root,H,te);const tt=function br(F){if("string"==typeof F[0]&&1===F.length&&"/"===F[0])return new Mr(!0,0,F);let L=0,I=!1;const H=F.reduce((te,Re,tt)=>{if("object"==typeof Re&&null!=Re){if(Re.outlets){const dt={};return le(Re.outlets,(Wt,xn)=>{dt[xn]="string"==typeof Wt?Wt.split("/"):Wt}),[...te,{outlets:dt}]}if(Re.segmentPath)return[...te,Re.segmentPath]}return"string"!=typeof Re?[...te,Re]:0===tt?(Re.split("/").forEach((dt,Wt)=>{0==Wt&&"."===dt||(0==Wt&&""===dt?I=!0:".."===dt?L++:""!=dt&&te.push(dt))}),te):[...te,Re]},[]);return new Mr(I,L,H)}(I);if(tt.toRoot())return Ji(L.root,L.root,new Tn([],{}),H,te);const Wt=function dt(oi){var Wn;const ci=function to(F,L,I,H){if(F.isAbsolute)return new ns(L.root,!0,0);if(-1===H)return new ns(I,I===L.root,0);return function fs(F,L,I){let H=F,te=L,Re=I;for(;Re>te;){if(Re-=te,H=H.parent,!H)throw new m.vHH(4005,!1);te=H.segments.length}return new ns(H,!1,te-Re)}(I,H+(sr(F.commands[0])?0:1),F.numberOfDoubleDots)}(tt,L,null===(Wn=F.snapshot)||void 0===Wn?void 0:Wn._urlSegment,oi),Ui=ci.processChildren?qr(ci.segmentGroup,ci.index,tt.commands):Br(ci.segmentGroup,ci.index,tt.commands);return Ji(L.root,ci.segmentGroup,Ui,H,te)}(null===(Re=F.snapshot)||void 0===Re?void 0:Re._lastPathIndex);return Wt}function sr(F){return"object"==typeof F&&null!=F&&!F.outlets&&!F.segmentPath}function zi(F){return"object"==typeof F&&null!=F&&F.outlets}function Ji(F,L,I,H,te){let tt,Re={};H&&le(H,(Wt,xn)=>{Re[xn]=Array.isArray(Wt)?Wt.map(oi=>`${oi}`):`${Wt}`}),tt=F===L?I:hr(F,L,I);const dt=we(rt(tt));return new Ai(dt,Re,te)}function hr(F,L,I){const H={};return le(F.children,(te,Re)=>{H[Re]=te===L?I:hr(te,L,I)}),new Tn(F.segments,H)}class Mr{constructor(L,I,H){if(this.isAbsolute=L,this.numberOfDoubleDots=I,this.commands=H,L&&H.length>0&&sr(H[0]))throw new m.vHH(4003,!1);const te=H.find(zi);if(te&&te!==ee(H))throw new m.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ns{constructor(L,I,H){this.segmentGroup=L,this.processChildren=I,this.index=H}}function Br(F,L,I){if(F||(F=new Tn([],{})),0===F.segments.length&&F.hasChildren())return qr(F,L,I);const H=function Vr(F,L,I){let H=0,te=L;const Re={match:!1,pathIndex:0,commandIndex:0};for(;te<F.segments.length;){if(H>=I.length)return Re;const tt=F.segments[te],dt=I[H];if(zi(dt))break;const Wt=`${dt}`,xn=H<I.length-1?I[H+1]:null;if(te>0&&void 0===Wt)break;if(Wt&&xn&&"object"==typeof xn&&void 0===xn.outlets){if(!Or(Wt,xn,tt))return Re;H+=2}else{if(!Or(Wt,{},tt))return Re;H++}te++}return{match:!0,pathIndex:te,commandIndex:H}}(F,L,I),te=I.slice(H.commandIndex);if(H.match&&H.pathIndex<F.segments.length){const Re=new Tn(F.segments.slice(0,H.pathIndex),{});return Re.children[Mt]=new Tn(F.segments.slice(H.pathIndex),F.children),qr(Re,0,te)}return H.match&&0===te.length?new Tn(F.segments,{}):H.match&&!F.hasChildren()?Ss(F,L,I):H.match?qr(F,0,te):Ss(F,L,I)}function qr(F,L,I){if(0===I.length)return new Tn(F.segments,{});{const H=function Es(F){return zi(F[0])?F[0].outlets:{[Mt]:F}}(I),te={};return le(H,(Re,tt)=>{"string"==typeof Re&&(Re=[Re]),null!==Re&&(te[tt]=Br(F.children[tt],L,Re))}),le(F.children,(Re,tt)=>{void 0===H[tt]&&(te[tt]=Re)}),new Tn(F.segments,te)}}function Ss(F,L,I){const H=F.segments.slice(0,L);let te=0;for(;te<I.length;){const Re=I[te];if(zi(Re)){const Wt=or(Re.outlets);return new Tn(H,Wt)}if(0===te&&sr(I[0])){H.push(new $t(F.segments[L].path,Ao(I[0]))),te++;continue}const tt=zi(Re)?Re.outlets[Mt]:`${Re}`,dt=te<I.length-1?I[te+1]:null;tt&&dt&&sr(dt)?(H.push(new $t(tt,Ao(dt))),te+=2):(H.push(new $t(tt,{})),te++)}return new Tn(H,{})}function or(F){const L={};return le(F,(I,H)=>{"string"==typeof I&&(I=[I]),null!==I&&(L[H]=Ss(new Tn([],{}),0,I))}),L}function Ao(F){const L={};return le(F,(I,H)=>L[H]=`${I}`),L}function Or(F,L,I){return F==I.path&&Hn(L,I.parameters)}class Er{constructor(L,I){this.id=L,this.url=I}}class ko extends Er{constructor(L,I,H="imperative",te=null){super(L,I),this.type=0,this.navigationTrigger=H,this.restoredState=te}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class as extends Er{constructor(L,I,H){super(L,I),this.urlAfterRedirects=H,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gs extends Er{constructor(L,I,H,te){super(L,I),this.reason=H,this.code=te,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Yi extends Er{constructor(L,I,H,te){super(L,I),this.error=H,this.target=te,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yo extends Er{constructor(L,I,H,te){super(L,I),this.urlAfterRedirects=H,this.state=te,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fa extends Er{constructor(L,I,H,te){super(L,I),this.urlAfterRedirects=H,this.state=te,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class no extends Er{constructor(L,I,H,te,Re){super(L,I),this.urlAfterRedirects=H,this.state=te,this.shouldActivate=Re,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class La extends Er{constructor(L,I,H,te){super(L,I),this.urlAfterRedirects=H,this.state=te,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _s extends Er{constructor(L,I,H,te){super(L,I),this.urlAfterRedirects=H,this.state=te,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vs{constructor(L){this.route=L,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ot{constructor(L){this.route=L,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Rt{constructor(L){this.snapshot=L,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zt{constructor(L){this.snapshot=L,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _n{constructor(L){this.snapshot=L,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nn{constructor(L){this.snapshot=L,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ii{constructor(L,I,H){this.routerEvent=L,this.position=I,this.anchor=H,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ir{constructor(L){this._root=L}get root(){return this._root.value}parent(L){const I=this.pathFromRoot(L);return I.length>1?I[I.length-2]:null}children(L){const I=qi(L,this._root);return I?I.children.map(H=>H.value):[]}firstChild(L){const I=qi(L,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(L){const I=zr(L,this._root);return I.length<2?[]:I[I.length-2].children.map(te=>te.value).filter(te=>te!==L)}pathFromRoot(L){return zr(L,this._root).map(I=>I.value)}}function qi(F,L){if(F===L.value)return L;for(const I of L.children){const H=qi(F,I);if(H)return H}return null}function zr(F,L){if(F===L.value)return[L];for(const I of L.children){const H=zr(F,I);if(H.length)return H.unshift(L),H}return[]}class ls{constructor(L,I){this.value=L,this.children=I}toString(){return`TreeNode(${this.value})`}}function Ts(F){const L={};return F&&F.children.forEach(I=>L[I.value.outlet]=I),L}class Ro extends Ir{constructor(L,I){super(L),this.snapshot=I,oa(this,L)}toString(){return this.snapshot.toString()}}function Us(F,L){const I=function Yo(F,L){const tt=new Po([],{},{},"",{},Mt,L,null,F.root,-1,{});return new Ca("",new ls(tt,[]))}(F,L),H=new ne.X([new $t("",{})]),te=new ne.X({}),Re=new ne.X({}),tt=new ne.X({}),dt=new ne.X(""),Wt=new Ks(H,te,tt,dt,Re,Mt,L,I.root);return Wt.snapshot=I.root,new Ro(new ls(Wt,[]),I)}class Ks{constructor(L,I,H,te,Re,tt,dt,Wt){var xn,oi;this.url=L,this.params=I,this.queryParams=H,this.fragment=te,this.data=Re,this.outlet=tt,this.component=dt,this.title=null!==(xn=null===(oi=this.data)||void 0===oi?void 0:oi.pipe((0,He.U)(Wn=>Wn[Kt])))&&void 0!==xn?xn:(0,v.of)(void 0),this._futureSnapshot=Wt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,He.U)(L=>Vt(L)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,He.U)(L=>Vt(L)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function sa(F,L="emptyOnly"){const I=F.pathFromRoot;let H=0;if("always"!==L)for(H=I.length-1;H>=1;){const te=I[H],Re=I[H-1];if(te.routeConfig&&""===te.routeConfig.path)H--;else{if(Re.component)break;H--}}return function Oo(F){return F.reduce((L,I)=>{var H;return{params:{...L.params,...I.params},data:{...L.data,...I.data},resolve:{...I.data,...L.resolve,...null===(H=I.routeConfig)||void 0===H?void 0:H.data,...I._resolvedData}}},{params:{},data:{},resolve:{}})}(I.slice(H))}class Po{constructor(L,I,H,te,Re,tt,dt,Wt,xn,oi,Wn,ci){var Ui;this.url=L,this.params=I,this.queryParams=H,this.fragment=te,this.data=Re,this.outlet=tt,this.component=dt,this.title=null===(Ui=this.data)||void 0===Ui?void 0:Ui[Kt],this.routeConfig=Wt,this._urlSegment=xn,this._lastPathIndex=oi,this._correctedLastPathIndex=ci??oi,this._resolve=Wn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(H=>H.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ca extends Ir{constructor(L,I){super(I),this.url=L,oa(this,I)}toString(){return io(this._root)}}function oa(F,L){L.value._routerState=F,L.children.forEach(I=>oa(F,I))}function io(F){const L=F.children.length>0?` { ${F.children.map(io).join(", ")} } `:"";return`${F.value}${L}`}function fr(F){if(F.snapshot){const L=F.snapshot,I=F._futureSnapshot;F.snapshot=I,Hn(L.queryParams,I.queryParams)||F.queryParams.next(I.queryParams),L.fragment!==I.fragment&&F.fragment.next(I.fragment),Hn(L.params,I.params)||F.params.next(I.params),function jt(F,L){if(F.length!==L.length)return!1;for(let I=0;I<F.length;++I)if(!Hn(F[I],L[I]))return!1;return!0}(L.url,I.url)||F.url.next(I.url),Hn(L.data,I.data)||F.data.next(I.data)}else F.snapshot=F._futureSnapshot,F.data.next(F._futureSnapshot.data)}function Ms(F,L){const I=Hn(F.params,L.params)&&function ft(F,L){return Se(F,L)&&F.every((I,H)=>Hn(I.parameters,L[H].parameters))}(F.url,L.url);return I&&!(!F.parent!=!L.parent)&&(!F.parent||Ms(F.parent,L.parent))}function xs(F,L,I){if(I&&F.shouldReuseRoute(L.value,I.value.snapshot)){const H=I.value;H._futureSnapshot=L.value;const te=function Hs(F,L,I){return L.children.map(H=>{for(const te of I.children)if(F.shouldReuseRoute(H.value,te.value.snapshot))return xs(F,H,te);return xs(F,H)})}(F,L,I);return new ls(H,te)}{if(F.shouldAttach(L.value)){const Re=F.retrieve(L.value);if(null!==Re){const tt=Re.route;return tt.value._futureSnapshot=L.value,tt.children=L.children.map(dt=>xs(F,dt)),tt}}const H=function is(F){return new Ks(new ne.X(F.url),new ne.X(F.params),new ne.X(F.queryParams),new ne.X(F.fragment),new ne.X(F.data),F.outlet,F.component,F)}(L.value),te=L.children.map(Re=>xs(F,Re));return new ls(H,te)}}const Wr="ngNavigationCancelingError";function ro(F,L){const{redirectTo:I,navigationBehaviorOptions:H}=rn(L)?{redirectTo:L,navigationBehaviorOptions:void 0}:L,te=wa(!1,0,L);return te.url=I,te.navigationBehaviorOptions=H,te}function wa(F,L,I){const H=new Error("NavigationCancelingError: "+(F||""));return H[Wr]=!0,H.cancellationCode=L,I&&(H.url=I),H}function bo(F){return As(F)&&rn(F.url)}function As(F){return F&&F[Wr]}class js{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new pr,this.attachRef=null}}let pr=(()=>{class F{constructor(){this.contexts=new Map}onChildOutletCreated(I,H){const te=this.getOrCreateContext(I);te.outlet=H,this.contexts.set(I,te)}onChildOutletDestroyed(I){const H=this.getContext(I);H&&(H.outlet=null,H.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let H=this.getContext(I);return H||(H=new js,this.contexts.set(I,H)),H}getContext(I){return this.contexts.get(I)||null}}return F.\u0275fac=function(I){return new(I||F)},F.\u0275prov=m.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();const Qr=!1;let No=(()=>{class F{constructor(I,H,te,Re,tt){this.parentContexts=I,this.location=H,this.changeDetector=Re,this.environmentInjector=tt,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.name=te||Mt,I.onChildOutletCreated(this.name,this)}ngOnDestroy(){var I;(null===(I=this.parentContexts.getContext(this.name))||void 0===I?void 0:I.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const I=this.parentContexts.getContext(this.name);I&&I.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new m.vHH(4012,Qr);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new m.vHH(4012,Qr);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new m.vHH(4012,Qr);this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,H){this.activated=I,this._activatedRoute=H,this.location.insert(I.hostView),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,H){if(this.isActivated)throw new m.vHH(4013,Qr);this._activatedRoute=I;const te=this.location,tt=I._futureSnapshot.component,dt=this.parentContexts.getOrCreateContext(this.name).children,Wt=new xi(I,dt,te.injector);if(H&&function Ur(F){return!!F.resolveComponentFactory}(H)){const xn=H.resolveComponentFactory(tt);this.activated=te.createComponent(xn,te.length,Wt)}else this.activated=te.createComponent(tt,{index:te.length,injector:Wt,environmentInjector:H??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return F.\u0275fac=function(I){return new(I||F)(m.Y36(pr),m.Y36(m.s_b),m.$8M("name"),m.Y36(m.sBO),m.Y36(m.lqb))},F.\u0275dir=m.lG2({type:F,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),F})();class xi{constructor(L,I,H){this.route=L,this.childContexts=I,this.parent=H}get(L,I){return L===Ks?this.route:L===pr?this.childContexts:this.parent.get(L,I)}}let so=(()=>{class F{}return F.\u0275fac=function(I){return new(I||F)},F.\u0275cmp=m.Xpm({type:F,selectors:[["ng-component"]],standalone:!0,features:[m.jDz],decls:1,vars:0,template:function(I,H){1&I&&m._UZ(0,"router-outlet")},dependencies:[No],encapsulation:2}),F})();function vs(F,L){var I;return F.providers&&!F._injector&&(F._injector=(0,m.MMx)(F.providers,L,`Route: ${F.path}`)),null!==(I=F._injector)&&void 0!==I?I:L}function pi(F){const L=F.children&&F.children.map(pi),I=L?{...F,children:L}:{...F};return!I.component&&!I.loadComponent&&(L||I.loadChildren)&&I.outlet&&I.outlet!==Mt&&(I.component=so),I}function xr(F){return F.outlet||Mt}function Ec(F,L){const I=F.filter(H=>xr(H)===L);return I.push(...F.filter(H=>xr(H)!==L)),I}function ps(F){var L;if(!F)return null;if(null!==(L=F.routeConfig)&&void 0!==L&&L._injector)return F.routeConfig._injector;for(let I=F.parent;I;I=I.parent){const H=I.routeConfig;if(null!=H&&H._loadedInjector)return H._loadedInjector;if(null!=H&&H._injector)return H._injector}return null}class ca{constructor(L,I,H,te){this.routeReuseStrategy=L,this.futureState=I,this.currState=H,this.forwardEvent=te}activate(L){const I=this.futureState._root,H=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,H,L),fr(this.futureState.root),this.activateChildRoutes(I,H,L)}deactivateChildRoutes(L,I,H){const te=Ts(I);L.children.forEach(Re=>{const tt=Re.value.outlet;this.deactivateRoutes(Re,te[tt],H),delete te[tt]}),le(te,(Re,tt)=>{this.deactivateRouteAndItsChildren(Re,H)})}deactivateRoutes(L,I,H){const te=L.value,Re=I?I.value:null;if(te===Re)if(te.component){const tt=H.getContext(te.outlet);tt&&this.deactivateChildRoutes(L,I,tt.children)}else this.deactivateChildRoutes(L,I,H);else Re&&this.deactivateRouteAndItsChildren(I,H)}deactivateRouteAndItsChildren(L,I){L.value.component&&this.routeReuseStrategy.shouldDetach(L.value.snapshot)?this.detachAndStoreRouteSubtree(L,I):this.deactivateRouteAndOutlet(L,I)}detachAndStoreRouteSubtree(L,I){const H=I.getContext(L.value.outlet),te=H&&L.value.component?H.children:I,Re=Ts(L);for(const tt of Object.keys(Re))this.deactivateRouteAndItsChildren(Re[tt],te);if(H&&H.outlet){const tt=H.outlet.detach(),dt=H.children.onOutletDeactivated();this.routeReuseStrategy.store(L.value.snapshot,{componentRef:tt,route:L,contexts:dt})}}deactivateRouteAndOutlet(L,I){const H=I.getContext(L.value.outlet),te=H&&L.value.component?H.children:I,Re=Ts(L);for(const tt of Object.keys(Re))this.deactivateRouteAndItsChildren(Re[tt],te);H&&H.outlet&&(H.outlet.deactivate(),H.children.onOutletDeactivated(),H.attachRef=null,H.resolver=null,H.route=null)}activateChildRoutes(L,I,H){const te=Ts(I);L.children.forEach(Re=>{this.activateRoutes(Re,te[Re.value.outlet],H),this.forwardEvent(new Nn(Re.value.snapshot))}),L.children.length&&this.forwardEvent(new zt(L.value.snapshot))}activateRoutes(L,I,H){const te=L.value,Re=I?I.value:null;if(fr(te),te===Re)if(te.component){const dt=H.getOrCreateContext(te.outlet);this.activateChildRoutes(L,I,dt.children)}else this.activateChildRoutes(L,I,H);else if(te.component){const dt=H.getOrCreateContext(te.outlet);if(this.routeReuseStrategy.shouldAttach(te.snapshot)){const Wt=this.routeReuseStrategy.retrieve(te.snapshot);this.routeReuseStrategy.store(te.snapshot,null),dt.children.onOutletReAttached(Wt.contexts),dt.attachRef=Wt.componentRef,dt.route=Wt.route.value,dt.outlet&&dt.outlet.attach(Wt.componentRef,Wt.route.value),fr(Wt.route.value),this.activateChildRoutes(L,null,dt.children)}else{var tt;const Wt=ps(te.snapshot),xn=null!==(tt=Wt?.get(m._Vd))&&void 0!==tt?tt:null;dt.attachRef=null,dt.route=te,dt.resolver=xn,dt.injector=Wt,dt.outlet&&dt.outlet.activateWith(te,dt.injector),this.activateChildRoutes(L,null,dt.children)}}else this.activateChildRoutes(L,null,H)}}class $s{constructor(L){this.path=L,this.route=this.path[this.path.length-1]}}class Xr{constructor(L,I){this.component=L,this.route=I}}function Qa(F,L,I){const H=F._root;return wo(H,L?L._root:null,I,[H.value])}function Mi(F,L){const I=Symbol(),H=L.get(F,I);return H===I?"function"!=typeof F||(0,m.Z0I)(F)?L.get(F):F:H}function wo(F,L,I,H,te={canDeactivateChecks:[],canActivateChecks:[]}){const Re=Ts(L);return F.children.forEach(tt=>{(function Da(F,L,I,H,te={canDeactivateChecks:[],canActivateChecks:[]}){const Re=F.value,tt=L?L.value:null,dt=I?I.getContext(F.value.outlet):null;if(tt&&Re.routeConfig===tt.routeConfig){const Wt=function Hr(F,L,I){if("function"==typeof I)return I(F,L);switch(I){case"pathParamsChange":return!Se(F.url,L.url);case"pathParamsOrQueryParamsChange":return!Se(F.url,L.url)||!Hn(F.queryParams,L.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ms(F,L)||!Hn(F.queryParams,L.queryParams);default:return!Ms(F,L)}}(tt,Re,Re.routeConfig.runGuardsAndResolvers);Wt?te.canActivateChecks.push(new $s(H)):(Re.data=tt.data,Re._resolvedData=tt._resolvedData),wo(F,L,Re.component?dt?dt.children:null:I,H,te),Wt&&dt&&dt.outlet&&dt.outlet.isActivated&&te.canDeactivateChecks.push(new Xr(dt.outlet.component,tt))}else tt&&se(L,dt,te),te.canActivateChecks.push(new $s(H)),wo(F,null,Re.component?dt?dt.children:null:I,H,te)})(tt,Re[tt.value.outlet],I,H.concat([tt.value]),te),delete Re[tt.value.outlet]}),le(Re,(tt,dt)=>se(tt,I.getContext(dt),te)),te}function se(F,L,I){const H=Ts(F),te=F.value;le(H,(Re,tt)=>{se(Re,te.component?L?L.children.getContext(tt):null:L,I)}),I.canDeactivateChecks.push(new Xr(te.component&&L&&L.outlet&&L.outlet.isActivated?L.outlet.component:null,te))}function Q(F){return"function"==typeof F}function rs(F){return F instanceof C.K||"EmptyError"===F?.name}const ua=Symbol("INITIAL_VALUE");function er(){return(0,ot.w)(F=>(0,J.aj)(F.map(L=>L.pipe((0,pt.q)(1),(0,Ut.O)(ua)))).pipe((0,He.U)(L=>{for(const I of L)if(!0!==I){if(I===ua)return ua;if(!1===I||I instanceof Ai)return I}return!0}),(0,ut.h)(L=>L!==ua),(0,pt.q)(1)))}function Yr(F){return(0,Ie.z)((0,Be.b)(L=>{if(rn(L))throw ro(0,L)}),(0,He.U)(L=>!0===L))}const da={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fl(F,L,I,H,te){const Re=lo(F,L,I);return Re.matched?function ml(F,L,I,H){const te=L.canMatch;if(!te||0===te.length)return(0,v.of)(!0);const Re=te.map(tt=>{const dt=Mi(tt,F);return Ce(function oo(F){return F&&Q(F.canMatch)}(dt)?dt.canMatch(L,I):F.runInContext(()=>dt(L,I)))});return(0,v.of)(Re).pipe(er(),Yr())}(H=vs(L,H),L,I).pipe((0,He.U)(tt=>!0===tt?Re:{...da})):(0,v.of)(Re)}function lo(F,L,I){var H;if(""===L.path)return"full"===L.pathMatch&&(F.hasChildren()||I.length>0)?{...da}:{matched:!0,consumedSegments:[],remainingSegments:I,parameters:{},positionalParamSegments:{}};const Re=(L.matcher||Cn)(I,F,L);if(!Re)return{...da};const tt={};le(Re.posParams,(Wt,xn)=>{tt[xn]=Wt.path});const dt=Re.consumed.length>0?{...tt,...Re.consumed[Re.consumed.length-1].parameters}:tt;return{matched:!0,consumedSegments:Re.consumed,remainingSegments:I.slice(Re.consumed.length),parameters:dt,positionalParamSegments:null!==(H=Re.posParams)&&void 0!==H?H:{}}}function Ja(F,L,I,H,te="corrected"){if(I.length>0&&function q(F,L,I){return I.some(H=>ct(F,L,H)&&xr(H)!==Mt)}(F,I,H)){const tt=new Tn(L,function ye(F,L,I,H){const te={};te[Mt]=H,H._sourceSegment=F,H._segmentIndexShift=L.length;for(const Re of I)if(""===Re.path&&xr(Re)!==Mt){const tt=new Tn([],{});tt._sourceSegment=F,tt._segmentIndexShift=L.length,te[xr(Re)]=tt}return te}(F,L,H,new Tn(I,F.children)));return tt._sourceSegment=F,tt._segmentIndexShift=L.length,{segmentGroup:tt,slicedSegments:[]}}if(0===I.length&&function xe(F,L,I){return I.some(H=>ct(F,L,H))}(F,I,H)){const tt=new Tn(F.segments,function W(F,L,I,H,te,Re){const tt={};for(const dt of H)if(ct(F,I,dt)&&!te[xr(dt)]){const Wt=new Tn([],{});Wt._sourceSegment=F,Wt._segmentIndexShift="legacy"===Re?F.segments.length:L.length,tt[xr(dt)]=Wt}return{...te,...tt}}(F,L,I,H,F.children,te));return tt._sourceSegment=F,tt._segmentIndexShift=L.length,{segmentGroup:tt,slicedSegments:I}}const Re=new Tn(F.segments,F.children);return Re._sourceSegment=F,Re._segmentIndexShift=L.length,{segmentGroup:Re,slicedSegments:I}}function ct(F,L,I){return(!(F.hasChildren()||L.length>0)||"full"!==I.pathMatch)&&""===I.path}function Zt(F,L,I,H){return!!(xr(F)===H||H!==Mt&&ct(L,I,F))&&("**"===F.path||lo(L,F,I).matched)}function un(F,L,I){return 0===L.length&&!F.children[I]}const qn=!1;class Ni{constructor(L){this.segmentGroup=L||null}}class yi{constructor(L){this.urlTree=L}}function Hi(F){return(0,ce._)(new Ni(F))}function Fi(F){return(0,ce._)(new yi(F))}class Rs{constructor(L,I,H,te,Re){this.injector=L,this.configLoader=I,this.urlSerializer=H,this.urlTree=te,this.config=Re,this.allowRedirects=!0}apply(){const L=Ja(this.urlTree.root,[],[],this.config).segmentGroup,I=new Tn(L.segments,L.children);return this.expandSegmentGroup(this.injector,this.config,I,Mt).pipe((0,He.U)(Re=>this.createUrlTree(rt(Re),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,ht.K)(Re=>{if(Re instanceof yi)return this.allowRedirects=!1,this.match(Re.urlTree);throw Re instanceof Ni?this.noMatchError(Re):Re}))}match(L){return this.expandSegmentGroup(this.injector,this.config,L.root,Mt).pipe((0,He.U)(te=>this.createUrlTree(rt(te),L.queryParams,L.fragment))).pipe((0,ht.K)(te=>{throw te instanceof Ni?this.noMatchError(te):te}))}noMatchError(L){return new m.vHH(4002,qn)}createUrlTree(L,I,H){const te=we(L);return new Ai(te,I,H)}expandSegmentGroup(L,I,H,te){return 0===H.segments.length&&H.hasChildren()?this.expandChildren(L,I,H).pipe((0,He.U)(Re=>new Tn([],Re))):this.expandSegment(L,H,I,H.segments,te,!0)}expandChildren(L,I,H){const te=[];for(const Re of Object.keys(H.children))"primary"===Re?te.unshift(Re):te.push(Re);return(0,N.D)(te).pipe((0,Je.b)(Re=>{const tt=H.children[Re],dt=Ec(I,Re);return this.expandSegmentGroup(L,dt,tt,Re).pipe((0,He.U)(Wt=>({segment:Wt,outlet:Re})))}),(0,et.R)((Re,tt)=>(Re[tt.outlet]=tt.segment,Re),{}),si())}expandSegment(L,I,H,te,Re,tt){return(0,N.D)(H).pipe((0,Je.b)(dt=>this.expandSegmentAgainstRoute(L,I,H,dt,te,Re,tt).pipe((0,ht.K)(xn=>{if(xn instanceof Ni)return(0,v.of)(null);throw xn}))),(0,vt.P)(dt=>!!dt),(0,ht.K)((dt,Wt)=>{if(rs(dt))return un(I,te,Re)?(0,v.of)(new Tn([],{})):Hi(I);throw dt}))}expandSegmentAgainstRoute(L,I,H,te,Re,tt,dt){return Zt(te,I,Re,tt)?void 0===te.redirectTo?this.matchSegmentAgainstRoute(L,I,te,Re,tt):dt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(L,I,H,te,Re,tt):Hi(I):Hi(I)}expandSegmentAgainstRouteUsingRedirect(L,I,H,te,Re,tt){return"**"===te.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(L,H,te,tt):this.expandRegularSegmentAgainstRouteUsingRedirect(L,I,H,te,Re,tt)}expandWildCardWithParamsAgainstRouteUsingRedirect(L,I,H,te){const Re=this.applyRedirectCommands([],H.redirectTo,{});return H.redirectTo.startsWith("/")?Fi(Re):this.lineralizeSegments(H,Re).pipe((0,kt.zg)(tt=>{const dt=new Tn(tt,{});return this.expandSegment(L,dt,I,tt,te,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(L,I,H,te,Re,tt){const{matched:dt,consumedSegments:Wt,remainingSegments:xn,positionalParamSegments:oi}=lo(I,te,Re);if(!dt)return Hi(I);const Wn=this.applyRedirectCommands(Wt,te.redirectTo,oi);return te.redirectTo.startsWith("/")?Fi(Wn):this.lineralizeSegments(te,Wn).pipe((0,kt.zg)(ci=>this.expandSegment(L,I,H,ci.concat(xn),tt,!1)))}matchSegmentAgainstRoute(L,I,H,te,Re){return"**"===H.path?(L=vs(H,L),H.loadChildren?(H._loadedRoutes?(0,v.of)({routes:H._loadedRoutes,injector:H._loadedInjector}):this.configLoader.loadChildren(L,H)).pipe((0,He.U)(dt=>(H._loadedRoutes=dt.routes,H._loadedInjector=dt.injector,new Tn(te,{})))):(0,v.of)(new Tn(te,{}))):Fl(I,H,te,L).pipe((0,ot.w)(({matched:tt,consumedSegments:dt,remainingSegments:Wt})=>{var xn;return tt?(L=null!==(xn=H._injector)&&void 0!==xn?xn:L,this.getChildConfig(L,H,te).pipe((0,kt.zg)(Wn=>{var ci;const Ui=null!==(ci=Wn.injector)&&void 0!==ci?ci:L,Sr=Wn.routes,{segmentGroup:To,slicedSegments:jr}=Ja(I,dt,Wt,Sr),Nr=new Tn(To.segments,To.children);if(0===jr.length&&Nr.hasChildren())return this.expandChildren(Ui,Sr,Nr).pipe((0,He.U)(tc=>new Tn(dt,tc)));if(0===Sr.length&&0===jr.length)return(0,v.of)(new Tn(dt,{}));const Ns=xr(H)===Re;return this.expandSegment(Ui,Nr,Sr,jr,Ns?Mt:Re,!0).pipe((0,He.U)(Jr=>new Tn(dt.concat(Jr.segments),Jr.children)))}))):Hi(I)}))}getChildConfig(L,I,H){return I.children?(0,v.of)({routes:I.children,injector:L}):I.loadChildren?void 0!==I._loadedRoutes?(0,v.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):function Xa(F,L,I,H){const te=L.canLoad;if(void 0===te||0===te.length)return(0,v.of)(!0);const Re=te.map(tt=>{const dt=Mi(tt,F);return Ce(function ke(F){return F&&Q(F.canLoad)}(dt)?dt.canLoad(L,I):F.runInContext(()=>dt(L,I)))});return(0,v.of)(Re).pipe(er(),Yr())}(L,I,H).pipe((0,kt.zg)(te=>te?this.configLoader.loadChildren(L,I).pipe((0,Be.b)(Re=>{I._loadedRoutes=Re.routes,I._loadedInjector=Re.injector})):function Ze(F){return(0,ce._)(wa(qn,3))}())):(0,v.of)({routes:[],injector:L})}lineralizeSegments(L,I){let H=[],te=I.root;for(;;){if(H=H.concat(te.segments),0===te.numberOfChildren)return(0,v.of)(H);if(te.numberOfChildren>1||!te.children[Mt])return(0,ce._)(new m.vHH(4e3,qn));te=te.children[Mt]}}applyRedirectCommands(L,I,H){return this.applyRedirectCreateUrlTree(I,this.urlSerializer.parse(I),L,H)}applyRedirectCreateUrlTree(L,I,H,te){const Re=this.createSegmentGroup(L,I.root,H,te);return new Ai(Re,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(L,I){const H={};return le(L,(te,Re)=>{if("string"==typeof te&&te.startsWith(":")){const dt=te.substring(1);H[Re]=I[dt]}else H[Re]=te}),H}createSegmentGroup(L,I,H,te){const Re=this.createSegments(L,I.segments,H,te);let tt={};return le(I.children,(dt,Wt)=>{tt[Wt]=this.createSegmentGroup(L,dt,H,te)}),new Tn(Re,tt)}createSegments(L,I,H,te){return I.map(Re=>Re.path.startsWith(":")?this.findPosParam(L,Re,te):this.findOrReturn(Re,H))}findPosParam(L,I,H){const te=H[I.path.substring(1)];if(!te)throw new m.vHH(4001,qn);return te}findOrReturn(L,I){let H=0;for(const te of I){if(te.path===L.path)return I.splice(H),te;H++}return L}}class Lo{}class Os{constructor(L,I,H,te,Re,tt,dt,Wt){this.injector=L,this.rootComponentType=I,this.config=H,this.urlTree=te,this.url=Re,this.paramsInheritanceStrategy=tt,this.relativeLinkResolution=dt,this.urlSerializer=Wt}recognize(){const L=Ja(this.urlTree.root,[],[],this.config.filter(I=>void 0===I.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,L,Mt).pipe((0,He.U)(I=>{if(null===I)return null;const H=new Po([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Mt,this.rootComponentType,null,this.urlTree.root,-1,{}),te=new ls(H,I),Re=new Ca(this.url,te);return this.inheritParamsAndData(Re._root),Re}))}inheritParamsAndData(L){const I=L.value,H=sa(I,this.paramsInheritanceStrategy);I.params=Object.freeze(H.params),I.data=Object.freeze(H.data),L.children.forEach(te=>this.inheritParamsAndData(te))}processSegmentGroup(L,I,H,te){return 0===H.segments.length&&H.hasChildren()?this.processChildren(L,I,H):this.processSegment(L,I,H,H.segments,te)}processChildren(L,I,H){return(0,N.D)(Object.keys(H.children)).pipe((0,Je.b)(te=>{const Re=H.children[te],tt=Ec(I,te);return this.processSegmentGroup(L,tt,Re,te)}),(0,et.R)((te,Re)=>te&&Re?(te.push(...Re),te):null),function Ln(F,L=!1){return I=>I.lift(new tn(F,L))}(te=>null!==te),(0,$n.d)(null),si(),(0,He.U)(te=>{if(null===te)return null;const Re=$u(te);return function gl(F){F.sort((L,I)=>L.value.outlet===Mt?-1:I.value.outlet===Mt?1:L.value.outlet.localeCompare(I.value.outlet))}(Re),Re}))}processSegment(L,I,H,te,Re){return(0,N.D)(I).pipe((0,Je.b)(tt=>{var dt;return this.processSegmentAgainstRoute(null!==(dt=tt._injector)&&void 0!==dt?dt:L,tt,H,te,Re)}),(0,vt.P)(tt=>!!tt),(0,ht.K)(tt=>{if(rs(tt))return un(H,te,Re)?(0,v.of)([]):(0,v.of)(null);throw tt}))}processSegmentAgainstRoute(L,I,H,te,Re){if(I.redirectTo||!Zt(I,H,te,Re))return(0,v.of)(null);let tt;if("**"===I.path){var dt,Wt;const xn=te.length>0?ee(te).parameters:{},oi=Ll(H)+te.length,Wn=new Po(te,xn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fa(I),xr(I),null!==(dt=null!==(Wt=I.component)&&void 0!==Wt?Wt:I._loadedComponent)&&void 0!==dt?dt:null,I,Tc(H),oi,Mc(I),oi);tt=(0,v.of)({snapshot:Wn,consumedSegments:[],remainingSegments:[]})}else tt=Fl(H,I,te,L).pipe((0,He.U)(({matched:xn,consumedSegments:oi,remainingSegments:Wn,parameters:ci})=>{var Ui,Sr;if(!xn)return null;const To=Ll(H)+oi.length;return{snapshot:new Po(oi,ci,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fa(I),xr(I),null!==(Ui=null!==(Sr=I.component)&&void 0!==Sr?Sr:I._loadedComponent)&&void 0!==Ui?Ui:null,I,Tc(H),To,Mc(I),To),consumedSegments:oi,remainingSegments:Wn}}));return tt.pipe((0,ot.w)(xn=>{var oi,Wn;if(null===xn)return(0,v.of)(null);const{snapshot:ci,consumedSegments:Ui,remainingSegments:Sr}=xn;L=null!==(oi=I._injector)&&void 0!==oi?oi:L;const To=null!==(Wn=I._loadedInjector)&&void 0!==Wn?Wn:L,jr=function ss(F){return F.children?F.children:F.loadChildren?F._loadedRoutes:[]}(I),{segmentGroup:Nr,slicedSegments:Ns}=Ja(H,Ui,Sr,jr.filter(Jr=>void 0===Jr.redirectTo),this.relativeLinkResolution);if(0===Ns.length&&Nr.hasChildren())return this.processChildren(To,jr,Nr).pipe((0,He.U)(Jr=>null===Jr?null:[new ls(ci,Jr)]));if(0===jr.length&&0===Ns.length)return(0,v.of)([new ls(ci,[])]);const va=xr(I)===Re;return this.processSegment(To,jr,Nr,Ns,va?Mt:Re).pipe((0,He.U)(Jr=>null===Jr?null:[new ls(ci,Jr)]))}))}}function ha(F){const L=F.value.routeConfig;return L&&""===L.path&&void 0===L.redirectTo}function $u(F){const L=[],I=new Set;for(const H of F){if(!ha(H)){L.push(H);continue}const te=L.find(Re=>H.value.routeConfig===Re.value.routeConfig);void 0!==te?(te.children.push(...H.children),I.add(te)):L.push(H)}for(const H of I){const te=$u(H.children);L.push(new ls(H.value,te))}return L.filter(H=>!I.has(H))}function Tc(F){let L=F;for(;L._sourceSegment;)L=L._sourceSegment;return L}function Ll(F){var L;let I=F,H=null!==(L=I._segmentIndexShift)&&void 0!==L?L:0;for(;I._sourceSegment;){var te;I=I._sourceSegment,H+=null!==(te=I._segmentIndexShift)&&void 0!==te?te:0}return H-1}function fa(F){return F.data||{}}function Mc(F){return F.resolve||{}}function _l(F){return"string"==typeof F.title||null===F.title}function Vo(F){return(0,ot.w)(L=>{const I=F(L);return I?(0,N.D)(I).pipe((0,He.U)(()=>L)):(0,v.of)(L)})}let On=(()=>{class F{buildTitle(I){let H,te=I.root;for(;void 0!==te;){var Re;H=null!==(Re=this.getResolvedTitleForRoute(te))&&void 0!==Re?Re:H,te=te.children.find(tt=>tt.outlet===Mt)}return H}getResolvedTitleForRoute(I){return I.data[Kt]}}return F.\u0275fac=function(I){return new(I||F)},F.\u0275prov=m.Yz7({token:F,factory:function(){return(0,m.f3M)(Qi)},providedIn:"root"}),F})(),Qi=(()=>{class F extends On{constructor(I){super(),this.title=I}updateTitle(I){const H=this.buildTitle(I);void 0!==H&&this.title.setTitle(H)}}return F.\u0275fac=function(I){return new(I||F)(m.LFG(Fn.Dx))},F.\u0275prov=m.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();class Gu{}class Ei extends class ti{shouldDetach(L){return!1}store(L,I){}shouldAttach(L){return!1}retrieve(L){return null}shouldReuseRoute(L,I){return L.routeConfig===I.routeConfig}}{}const Qn=new m.OlP("",{providedIn:"root",factory:()=>({})}),Sn=new m.OlP("ROUTES");let Ar=(()=>{class F{constructor(I,H){this.injector=I,this.compiler=H,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(I){if(this.componentLoaders.get(I))return this.componentLoaders.get(I);if(I._loadedComponent)return(0,v.of)(I._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(I);const H=Ce(I.loadComponent()).pipe((0,Be.b)(Re=>{this.onLoadEndListener&&this.onLoadEndListener(I),I._loadedComponent=Re}),(0,Ye.x)(()=>{this.componentLoaders.delete(I)})),te=new Ne.c(H,()=>new Ke.xQ).pipe((0,St.x)());return this.componentLoaders.set(I,te),te}loadChildren(I,H){if(this.childrenLoaders.get(H))return this.childrenLoaders.get(H);if(H._loadedRoutes)return(0,v.of)({routes:H._loadedRoutes,injector:H._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(H);const Re=this.loadModuleFactoryOrRoutes(H.loadChildren).pipe((0,He.U)(dt=>{this.onLoadEndListener&&this.onLoadEndListener(H);let Wt,xn,oi=!1;Array.isArray(dt)?xn=dt:(Wt=dt.create(I).injector,xn=mt(Wt.get(Sn,[],m.XFs.Self|m.XFs.Optional)));return{routes:xn.map(pi),injector:Wt}}),(0,Ye.x)(()=>{this.childrenLoaders.delete(H)})),tt=new Ne.c(Re,()=>new Ke.xQ).pipe((0,St.x)());return this.childrenLoaders.set(H,tt),tt}loadModuleFactoryOrRoutes(I){return Ce(I()).pipe((0,kt.zg)(H=>H instanceof m.YKP||Array.isArray(H)?(0,v.of)(H):(0,N.D)(this.compiler.compileModuleAsync(H))))}}return F.\u0275fac=function(I){return new(I||F)(m.LFG(m.zs3),m.LFG(m.Sil))},F.\u0275prov=m.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();class Ic{}class Eo{shouldProcessUrl(L){return!0}extract(L){return L}merge(L,I){return L}}function ga(F){throw F}function vl(F,L,I){return L.parse("/")}const xc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Id(){var F,L;const I=(0,m.f3M)(hn),H=(0,m.f3M)(pr),te=(0,m.f3M)(lt.Ye),Re=(0,m.f3M)(m.zs3),tt=(0,m.f3M)(m.Sil),dt=null!==(F=(0,m.f3M)(Sn,{optional:!0}))&&void 0!==F?F:[],Wt=null!==(L=(0,m.f3M)(Qn,{optional:!0}))&&void 0!==L?L:{},xn=(0,m.f3M)(Qi),oi=(0,m.f3M)(On,{optional:!0}),Wn=(0,m.f3M)(Ic,{optional:!0}),ci=(0,m.f3M)(Gu,{optional:!0}),Ui=new Pr(null,I,H,te,Re,tt,mt(dt));return Wn&&(Ui.urlHandlingStrategy=Wn),ci&&(Ui.routeReuseStrategy=ci),Ui.titleStrategy=oi??xn,function yl(F,L){F.errorHandler&&(L.errorHandler=F.errorHandler),F.malformedUriErrorHandler&&(L.malformedUriErrorHandler=F.malformedUriErrorHandler),F.onSameUrlNavigation&&(L.onSameUrlNavigation=F.onSameUrlNavigation),F.paramsInheritanceStrategy&&(L.paramsInheritanceStrategy=F.paramsInheritanceStrategy),F.relativeLinkResolution&&(L.relativeLinkResolution=F.relativeLinkResolution),F.urlUpdateStrategy&&(L.urlUpdateStrategy=F.urlUpdateStrategy),F.canceledNavigationResolution&&(L.canceledNavigationResolution=F.canceledNavigationResolution)}(Wt,Ui),Ui}let Pr=(()=>{class F{constructor(I,H,te,Re,tt,dt,Wt){this.rootComponentType=I,this.urlSerializer=H,this.rootContexts=te,this.location=Re,this.config=Wt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ke.xQ,this.errorHandler=ga,this.malformedUriErrorHandler=vl,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,v.of)(void 0),this.urlHandlingStrategy=new Eo,this.routeReuseStrategy=new Ei,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=tt.get(Ar),this.configLoader.onLoadEndListener=ci=>this.triggerEvent(new Ot(ci)),this.configLoader.onLoadStartListener=ci=>this.triggerEvent(new Vs(ci)),this.ngModule=tt.get(m.h0i),this.console=tt.get(m.c2e);const Wn=tt.get(m.R0b);this.isNgZoneEnabled=Wn instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(Wt),this.currentUrlTree=function Le(){return new Ai(new Tn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Us(this.currentUrlTree,this.rootComponentType),this.transitions=new ne.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var I;return null===(I=this.location.getState())||void 0===I?void 0:I.\u0275routerPageId}setupNavigations(I){const H=this.events;return I.pipe((0,ut.h)(te=>0!==te.id),(0,He.U)(te=>({...te,extractedUrl:this.urlHandlingStrategy.extract(te.rawUrl)})),(0,ot.w)(te=>{let Re=!1,tt=!1;return(0,v.of)(te).pipe((0,Be.b)(dt=>{this.currentNavigation={id:dt.id,initialUrl:dt.rawUrl,extractedUrl:dt.extractedUrl,trigger:dt.source,extras:dt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ot.w)(dt=>{const Wt=this.browserUrlTree.toString(),xn=!this.navigated||dt.extractedUrl.toString()!==Wt||Wt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||xn)&&this.urlHandlingStrategy.shouldProcessUrl(dt.rawUrl))return Si(dt.source)&&(this.browserUrlTree=dt.extractedUrl),(0,v.of)(dt).pipe((0,ot.w)(Wn=>{const ci=this.transitions.getValue();return H.next(new ko(Wn.id,this.serializeUrl(Wn.extractedUrl),Wn.source,Wn.restoredState)),ci!==this.transitions.getValue()?be.E:Promise.resolve(Wn)}),function ys(F,L,I,H){return(0,ot.w)(te=>function ur(F,L,I,H,te){return new Rs(F,L,I,H,te).apply()}(F,L,I,te.extractedUrl,H).pipe((0,He.U)(Re=>({...te,urlAfterRedirects:Re}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Be.b)(Wn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Wn.urlAfterRedirects},te.urlAfterRedirects=Wn.urlAfterRedirects}),function el(F,L,I,H,te,Re){return(0,kt.zg)(tt=>function tr(F,L,I,H,te,Re,tt="emptyOnly",dt="legacy"){return new Os(F,L,I,H,te,tt,dt,Re).recognize().pipe((0,ot.w)(Wt=>null===Wt?function Do(F){return new ge.y(L=>L.error(F))}(new Lo):(0,v.of)(Wt)))}(F,L,I,tt.urlAfterRedirects,H.serialize(tt.urlAfterRedirects),H,te,Re).pipe((0,He.U)(dt=>({...tt,targetSnapshot:dt}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Be.b)(Wn=>{if(te.targetSnapshot=Wn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Wn.extras.skipLocationChange){const Ui=this.urlHandlingStrategy.merge(Wn.urlAfterRedirects,Wn.rawUrl);this.setBrowserUrl(Ui,Wn)}this.browserUrlTree=Wn.urlAfterRedirects}const ci=new yo(Wn.id,this.serializeUrl(Wn.extractedUrl),this.serializeUrl(Wn.urlAfterRedirects),Wn.targetSnapshot);H.next(ci)}));if(xn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ci,extractedUrl:Ui,source:Sr,restoredState:To,extras:jr}=dt,Nr=new ko(ci,this.serializeUrl(Ui),Sr,To);H.next(Nr);const Ns=Us(Ui,this.rootComponentType).snapshot;return te={...dt,targetSnapshot:Ns,urlAfterRedirects:Ui,extras:{...jr,skipLocationChange:!1,replaceUrl:!1}},(0,v.of)(te)}return this.rawUrlTree=dt.rawUrl,dt.resolve(null),be.E}),(0,Be.b)(dt=>{const Wt=new Fa(dt.id,this.serializeUrl(dt.extractedUrl),this.serializeUrl(dt.urlAfterRedirects),dt.targetSnapshot);this.triggerEvent(Wt)}),(0,He.U)(dt=>te={...dt,guards:Qa(dt.targetSnapshot,dt.currentSnapshot,this.rootContexts)}),function ao(F,L){return(0,kt.zg)(I=>{const{targetSnapshot:H,currentSnapshot:te,guards:{canActivateChecks:Re,canDeactivateChecks:tt}}=I;return 0===tt.length&&0===Re.length?(0,v.of)({...I,guardsResult:!0}):function Sc(F,L,I,H){return(0,N.D)(F).pipe((0,kt.zg)(te=>function Fo(F,L,I,H,te){const Re=L&&L.routeConfig?L.routeConfig.canDeactivate:null;if(!Re||0===Re.length)return(0,v.of)(!0);const tt=Re.map(dt=>{var Wt;const xn=null!==(Wt=ps(L))&&void 0!==Wt?Wt:te,oi=Mi(dt,xn);return Ce(function Cr(F){return F&&Q(F.canDeactivate)}(oi)?oi.canDeactivate(F,L,I,H):xn.runInContext(()=>oi(F,L,I,H))).pipe((0,vt.P)())});return(0,v.of)(tt).pipe(er())}(te.component,te.route,I,L,H)),(0,vt.P)(te=>!0!==te,!0))}(tt,H,te,F).pipe((0,kt.zg)(dt=>dt&&function $(F){return"boolean"==typeof F}(dt)?function Ba(F,L,I,H){return(0,N.D)(L).pipe((0,Je.b)(te=>(0,De.z)(function Va(F,L){return null!==F&&L&&L(new Rt(F)),(0,v.of)(!0)}(te.route.parent,H),function Ql(F,L){return null!==F&&L&&L(new _n(F)),(0,v.of)(!0)}(te.route,H),function Ua(F,L,I){const H=L[L.length-1],Re=L.slice(0,L.length-1).reverse().map(tt=>function En(F){const L=F.routeConfig?F.routeConfig.canActivateChild:null;return L&&0!==L.length?{node:F,guards:L}:null}(tt)).filter(tt=>null!==tt).map(tt=>(0,fe.P)(()=>{const dt=tt.guards.map(Wt=>{var xn;const oi=null!==(xn=ps(tt.node))&&void 0!==xn?xn:I,Wn=Mi(Wt,oi);return Ce(function Xn(F){return F&&Q(F.canActivateChild)}(Wn)?Wn.canActivateChild(H,F):oi.runInContext(()=>Wn(H,F))).pipe((0,vt.P)())});return(0,v.of)(dt).pipe(er())}));return(0,v.of)(Re).pipe(er())}(F,te.path,I),function Zo(F,L,I){const H=L.routeConfig?L.routeConfig.canActivate:null;if(!H||0===H.length)return(0,v.of)(!0);const te=H.map(Re=>(0,fe.P)(()=>{var tt;const dt=null!==(tt=ps(L))&&void 0!==tt?tt:I,Wt=Mi(Re,dt);return Ce(function en(F){return F&&Q(F.canActivate)}(Wt)?Wt.canActivate(L,F):dt.runInContext(()=>Wt(L,F))).pipe((0,vt.P)())}));return(0,v.of)(te).pipe(er())}(F,te.route,I))),(0,vt.P)(te=>!0!==te,!0))}(H,Re,F,L):(0,v.of)(dt)),(0,He.U)(dt=>({...I,guardsResult:dt})))})}(this.ngModule.injector,dt=>this.triggerEvent(dt)),(0,Be.b)(dt=>{if(te.guardsResult=dt.guardsResult,rn(dt.guardsResult))throw ro(0,dt.guardsResult);const Wt=new no(dt.id,this.serializeUrl(dt.extractedUrl),this.serializeUrl(dt.urlAfterRedirects),dt.targetSnapshot,!!dt.guardsResult);this.triggerEvent(Wt)}),(0,ut.h)(dt=>!!dt.guardsResult||(this.restoreHistory(dt),this.cancelNavigationTransition(dt,"",3),!1)),Vo(dt=>{if(dt.guards.canActivateChecks.length)return(0,v.of)(dt).pipe((0,Be.b)(Wt=>{const xn=new La(Wt.id,this.serializeUrl(Wt.extractedUrl),this.serializeUrl(Wt.urlAfterRedirects),Wt.targetSnapshot);this.triggerEvent(xn)}),(0,ot.w)(Wt=>{let xn=!1;return(0,v.of)(Wt).pipe(function au(F,L){return(0,kt.zg)(I=>{const{targetSnapshot:H,guards:{canActivateChecks:te}}=I;if(!te.length)return(0,v.of)(I);let Re=0;return(0,N.D)(te).pipe((0,Je.b)(tt=>function lu(F,L,I,H){const te=F.routeConfig,Re=F._resolve;return void 0!==te?.title&&!_l(te)&&(Re[Kt]=te.title),function nr(F,L,I,H){const te=function pa(F){return[...Object.keys(F),...Object.getOwnPropertySymbols(F)]}(F);if(0===te.length)return(0,v.of)({});const Re={};return(0,N.D)(te).pipe((0,kt.zg)(tt=>function Bo(F,L,I,H){var te;const Re=null!==(te=ps(L))&&void 0!==te?te:H,tt=Mi(F,Re);return Ce(tt.resolve?tt.resolve(L,I):Re.runInContext(()=>tt(L,I)))}(F[tt],L,I,H).pipe((0,vt.P)(),(0,Be.b)(dt=>{Re[tt]=dt}))),ze(1),function Oe(F){return L=>L.lift(new Ve(F))}(Re),(0,ht.K)(tt=>rs(tt)?be.E:(0,ce._)(tt)))}(Re,F,L,H).pipe((0,He.U)(tt=>(F._resolvedData=tt,F.data=sa(F,I).resolve,te&&_l(te)&&(F.data[Kt]=te.title),null)))}(tt.route,H,F,L)),(0,Be.b)(()=>Re++),ze(1),(0,kt.zg)(tt=>Re===te.length?(0,v.of)(I):be.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Be.b)({next:()=>xn=!0,complete:()=>{xn||(this.restoreHistory(Wt),this.cancelNavigationTransition(Wt,"",2))}}))}),(0,Be.b)(Wt=>{const xn=new _s(Wt.id,this.serializeUrl(Wt.extractedUrl),this.serializeUrl(Wt.urlAfterRedirects),Wt.targetSnapshot);this.triggerEvent(xn)}))}),Vo(dt=>{const Wt=xn=>{var oi;const Wn=[];null!==(oi=xn.routeConfig)&&void 0!==oi&&oi.loadComponent&&!xn.routeConfig._loadedComponent&&Wn.push(this.configLoader.loadComponent(xn.routeConfig).pipe((0,Be.b)(ci=>{xn.component=ci}),(0,He.U)(()=>{})));for(const ci of xn.children)Wn.push(...Wt(ci));return Wn};return(0,J.aj)(Wt(dt.targetSnapshot.root)).pipe((0,$n.d)(),(0,pt.q)(1))}),Vo(()=>this.afterPreactivation()),(0,He.U)(dt=>{const Wt=function Is(F,L,I){const H=xs(F,L._root,I?I._root:void 0);return new Ro(H,L)}(this.routeReuseStrategy,dt.targetSnapshot,dt.currentRouterState);return te={...dt,targetRouterState:Wt}}),(0,Be.b)(dt=>{this.currentUrlTree=dt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(dt.urlAfterRedirects,dt.rawUrl),this.routerState=dt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(dt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,dt),this.browserUrlTree=dt.urlAfterRedirects)}),((F,L,I)=>(0,He.U)(H=>(new ca(L,H.targetRouterState,H.currentRouterState,I).activate(F),H)))(this.rootContexts,this.routeReuseStrategy,dt=>this.triggerEvent(dt)),(0,Be.b)({next(){Re=!0},complete(){Re=!0}}),(0,Ye.x)(()=>{var dt;Re||tt||this.cancelNavigationTransition(te,"",1),(null===(dt=this.currentNavigation)||void 0===dt?void 0:dt.id)===te.id&&(this.currentNavigation=null)}),(0,ht.K)(dt=>{if(tt=!0,As(dt)){bo(dt)||(this.navigated=!0,this.restoreHistory(te,!0));const xn=new gs(te.id,this.serializeUrl(te.extractedUrl),dt.message,dt.cancellationCode);if(H.next(xn),bo(dt)){const oi=this.urlHandlingStrategy.merge(dt.url,this.rawUrlTree),Wn={skipLocationChange:te.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Si(te.source)};this.scheduleNavigation(oi,"imperative",null,Wn,{resolve:te.resolve,reject:te.reject,promise:te.promise})}else te.resolve(!1)}else{var Wt;this.restoreHistory(te,!0);const xn=new Yi(te.id,this.serializeUrl(te.extractedUrl),dt,null!==(Wt=te.targetSnapshot)&&void 0!==Wt?Wt:void 0);H.next(xn);try{te.resolve(this.errorHandler(dt))}catch(oi){te.reject(oi)}}return be.E}))}))}resetRootComponentType(I){this.rootComponentType=I,this.routerState.root.component=this.rootComponentType}setTransition(I){this.transitions.next({...this.transitions.value,...I})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const H="popstate"===I.type?"popstate":"hashchange";"popstate"===H&&setTimeout(()=>{var te;const Re={replaceUrl:!0},tt=null!==(te=I.state)&&void 0!==te&&te.navigationId?I.state:null;if(tt){const Wt={...tt};delete Wt.navigationId,delete Wt.\u0275routerPageId,0!==Object.keys(Wt).length&&(Re.state=Wt)}const dt=this.parseUrl(I.url);this.scheduleNavigation(dt,H,tt,Re)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(I){this.events.next(I)}resetConfig(I){this.config=I.map(pi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(I,H={}){const{relativeTo:te,queryParams:Re,fragment:tt,queryParamsHandling:dt,preserveFragment:Wt}=H,xn=te||this.routerState.root,oi=Wt?this.currentUrlTree.fragment:tt;let Wn=null;switch(dt){case"merge":Wn={...this.currentUrlTree.queryParams,...Re};break;case"preserve":Wn=this.currentUrlTree.queryParams;break;default:Wn=Re||null}return null!==Wn&&(Wn=this.removeEmptyProps(Wn)),dr(xn,this.currentUrlTree,I,Wn,oi??null)}navigateByUrl(I,H={skipLocationChange:!1}){const te=rn(I)?I:this.parseUrl(I),Re=this.urlHandlingStrategy.merge(te,this.rawUrlTree);return this.scheduleNavigation(Re,"imperative",null,H)}navigate(I,H={skipLocationChange:!1}){return function il(F){for(let L=0;L<F.length;L++){if(null==F[L])throw new m.vHH(4008,false)}}(I),this.navigateByUrl(this.createUrlTree(I,H),H)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let H;try{H=this.urlSerializer.parse(I)}catch(te){H=this.malformedUriErrorHandler(te,this.urlSerializer,I)}return H}isActive(I,H){let te;if(te=!0===H?{...xc}:!1===H?{...nl}:H,rn(I))return nn(this.currentUrlTree,I,te);const Re=this.parseUrl(I);return nn(this.currentUrlTree,Re,te)}removeEmptyProps(I){return Object.keys(I).reduce((H,te)=>{const Re=I[te];return null!=Re&&(H[te]=Re),H},{})}processNavigations(){this.navigations.subscribe(I=>{var H;this.navigated=!0,this.lastSuccessfulId=I.id,this.currentPageId=I.targetPageId,this.events.next(new as(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(H=this.titleStrategy)||void 0===H||H.updateTitle(this.routerState.snapshot),I.resolve(!0)},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)})}scheduleNavigation(I,H,te,Re,tt){if(this.disposed)return Promise.resolve(!1);let dt,Wt,xn;tt?(dt=tt.resolve,Wt=tt.reject,xn=tt.promise):xn=new Promise((Sr,To)=>{dt=Sr,Wt=To});const oi=++this.navigationId;let Wn;if("computed"===this.canceledNavigationResolution)if(0===this.currentPageId&&(te=this.location.getState()),te&&te.\u0275routerPageId)Wn=te.\u0275routerPageId;else if(Re.replaceUrl||Re.skipLocationChange){var ci;Wn=null!==(ci=this.browserPageId)&&void 0!==ci?ci:0}else{var Ui;Wn=(null!==(Ui=this.browserPageId)&&void 0!==Ui?Ui:0)+1}else Wn=0;return this.setTransition({id:oi,targetPageId:Wn,source:H,restoredState:te,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:I,extras:Re,resolve:dt,reject:Wt,promise:xn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),xn.catch(Sr=>Promise.reject(Sr))}setBrowserUrl(I,H){const te=this.urlSerializer.serialize(I),Re={...H.extras.state,...this.generateNgRouterState(H.id,H.targetPageId)};this.location.isCurrentPathEqualTo(te)||H.extras.replaceUrl?this.location.replaceState(te,"",Re):this.location.go(te,"",Re)}restoreHistory(I,H=!1){if("computed"===this.canceledNavigationResolution){var te,Re;const tt=this.currentPageId-I.targetPageId;"popstate"!==I.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(te=this.currentNavigation)||void 0===te?void 0:te.finalUrl)||0===tt?this.currentUrlTree===(null===(Re=this.currentNavigation)||void 0===Re?void 0:Re.finalUrl)&&0===tt&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(tt)}else"replace"===this.canceledNavigationResolution&&(H&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(I,H,te){const Re=new gs(I.id,this.serializeUrl(I.extractedUrl),H,te);this.triggerEvent(Re),I.resolve(!1)}generateNgRouterState(I,H){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:H}:{navigationId:I}}}return F.\u0275fac=function(I){m.$Z()},F.\u0275prov=m.Yz7({token:F,factory:function(){return Id()},providedIn:"root"}),F})();function Si(F){return"imperative"!==F}let qo=(()=>{class F{constructor(I,H,te,Re,tt){this.router=I,this.route=H,this.tabIndexAttribute=te,this.renderer=Re,this.el=tt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Ke.xQ,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(I){this._preserveFragment=(0,m.D6c)(I)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(I){this._skipLocationChange=(0,m.D6c)(I)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(I){this._replaceUrl=(0,m.D6c)(I)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(I){if(null!=this.tabIndexAttribute)return;const H=this.renderer,te=this.el.nativeElement;null!==I?H.setAttribute(te,"tabindex",I):H.removeAttribute(te,"tabindex")}ngOnChanges(I){this.onChanges.next(this)}set routerLink(I){null!=I?(this.commands=Array.isArray(I)?I:[I],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return F.\u0275fac=function(I){return new(I||F)(m.Y36(Pr),m.Y36(Ks),m.$8M("tabindex"),m.Y36(m.Qsj),m.Y36(m.SBq))},F.\u0275dir=m.lG2({type:F,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(I,H){1&I&&m.NdJ("click",function(){return H.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[m.TTD]}),F})(),rl=(()=>{class F{constructor(I,H,te){this.router=I,this.route=H,this.locationStrategy=te,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Ke.xQ,this.subscription=I.events.subscribe(Re=>{Re instanceof as&&this.updateTargetUrlAndHref()})}set preserveFragment(I){this._preserveFragment=(0,m.D6c)(I)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(I){this._skipLocationChange=(0,m.D6c)(I)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(I){this._replaceUrl=(0,m.D6c)(I)}get replaceUrl(){return this._replaceUrl}set routerLink(I){this.commands=null!=I?Array.isArray(I)?I:[I]:null}ngOnChanges(I){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(I,H,te,Re,tt){return!!(0!==I||H||te||Re||tt||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return F.\u0275fac=function(I){return new(I||F)(m.Y36(Pr),m.Y36(Ks),m.Y36(lt.S$))},F.\u0275dir=m.lG2({type:F,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(I,H){1&I&&m.NdJ("click",function(Re){return H.onClick(Re.button,Re.ctrlKey,Re.shiftKey,Re.altKey,Re.metaKey)}),2&I&&m.uIk("target",H.target)("href",H.href,m.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[m.TTD]}),F})();class cs{}let wr=(()=>{class F{constructor(I,H,te,Re,tt){this.router=I,this.injector=te,this.preloadingStrategy=Re,this.loader=tt}setUpPreloading(){this.subscription=this.router.events.pipe((0,ut.h)(I=>I instanceof as),(0,Je.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,H){const te=[];for(const Wt of H){var Re,tt;Wt.providers&&!Wt._injector&&(Wt._injector=(0,m.MMx)(Wt.providers,I,`Route: ${Wt.path}`));const xn=null!==(Re=Wt._injector)&&void 0!==Re?Re:I,oi=null!==(tt=Wt._loadedInjector)&&void 0!==tt?tt:xn;if(Wt.loadChildren&&!Wt._loadedRoutes&&void 0===Wt.canLoad||Wt.loadComponent&&!Wt._loadedComponent)te.push(this.preloadConfig(xn,Wt));else if(Wt.children||Wt._loadedRoutes){var dt;te.push(this.processRoutes(oi,null!==(dt=Wt.children)&&void 0!==dt?dt:Wt._loadedRoutes))}}return(0,N.D)(te).pipe((0,Xt.J)())}preloadConfig(I,H){return this.preloadingStrategy.preload(H,()=>{let te;te=H.loadChildren&&void 0===H.canLoad?this.loader.loadChildren(I,H):(0,v.of)(null);const Re=te.pipe((0,kt.zg)(tt=>{var dt;return null===tt?(0,v.of)(void 0):(H._loadedRoutes=tt.routes,H._loadedInjector=tt.injector,this.processRoutes(null!==(dt=tt.injector)&&void 0!==dt?dt:I,tt.routes))}));if(H.loadComponent&&!H._loadedComponent){const tt=this.loader.loadComponent(H);return(0,N.D)([Re,tt]).pipe((0,Xt.J)())}return Re})}}return F.\u0275fac=function(I){return new(I||F)(m.LFG(Pr),m.LFG(m.Sil),m.LFG(m.lqb),m.LFG(cs),m.LFG(Ar))},F.\u0275prov=m.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();const zn=new m.OlP("");let Qo=(()=>{class F{constructor(I,H,te={}){this.router=I,this.viewportScroller=H,this.options=te,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},te.scrollPositionRestoration=te.scrollPositionRestoration||"disabled",te.anchorScrolling=te.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(I=>{I instanceof ko?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof as&&(this.lastId=I.id,this.scheduleScrollEvent(I,this.router.parseUrl(I.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(I=>{I instanceof ii&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,H){this.router.triggerEvent(new ii(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,H))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return F.\u0275fac=function(I){m.$Z()},F.\u0275prov=m.Yz7({token:F,factory:F.\u0275fac}),F})();function _a(F,L){return{\u0275kind:F,\u0275providers:L}}function ji(F){return[{provide:Sn,multi:!0,useValue:F}]}function Cl(){const F=(0,m.f3M)(m.zs3);return L=>{var I,H;const te=F.get(m.z2F);if(L!==te.components[0])return;const Re=F.get(Pr),tt=F.get(Xl);1===F.get(uo)&&Re.initialNavigation(),null===(I=F.get(Ho,null,m.XFs.Optional))||void 0===I||I.setUpPreloading(),null===(H=F.get(zn,null,m.XFs.Optional))||void 0===H||H.init(),Re.resetRootComponentType(te.componentTypes[0]),tt.next(),tt.complete()}}const Xl=new m.OlP("",{factory:()=>new Ke.xQ}),uo=new m.OlP("",{providedIn:"root",factory:()=>1});const Ho=new m.OlP("");function wl(F){return _a(0,[{provide:Ho,useExisting:wr},{provide:cs,useExisting:F}])}const kc=new m.OlP("ROUTER_FORROOT_GUARD"),sl=[lt.Ye,{provide:hn,useClass:at},{provide:Pr,useFactory:Id},pr,{provide:Ks,useFactory:function Sa(F){return F.routerState.root},deps:[Pr]},Ar];function Ta(){return new m.PXZ("Router",Pr)}let So=(()=>{class F{constructor(I){}static forRoot(I,H){return{ngModule:F,providers:[sl,[],ji(I),{provide:kc,useFactory:qs,deps:[[Pr,new m.FiY,new m.tp0]]},{provide:Qn,useValue:H||{}},null!=H&&H.useHash?{provide:lt.S$,useClass:lt.Do}:{provide:lt.S$,useClass:lt.b0},{provide:zn,useFactory:()=>{const F=(0,m.f3M)(Pr),L=(0,m.f3M)(lt.EM),I=(0,m.f3M)(Qn);return I.scrollOffset&&L.setOffset(I.scrollOffset),new Qo(F,L,I)}},null!=H&&H.preloadingStrategy?wl(H.preloadingStrategy).\u0275providers:[],{provide:m.PXZ,multi:!0,useFactory:Ta},null!=H&&H.initialNavigation?Vl(H):[],[{provide:po,useFactory:Cl},{provide:m.tb,multi:!0,useExisting:po}]]}}static forChild(I){return{ngModule:F,providers:[ji(I)]}}}return F.\u0275fac=function(I){return new(I||F)(m.LFG(kc,8))},F.\u0275mod=m.oAB({type:F}),F.\u0275inj=m.cJS({imports:[so]}),F})();function qs(F){return"guarded"}function Vl(F){return["disabled"===F.initialNavigation?_a(3,[{provide:m.ip1,multi:!0,useFactory:()=>{const L=(0,m.f3M)(Pr);return()=>{L.setUpLocationChangeListener()}}},{provide:uo,useValue:2}]).\u0275providers:[],"enabledBlocking"===F.initialNavigation?_a(2,[{provide:uo,useValue:0},{provide:m.ip1,multi:!0,deps:[m.zs3],useFactory:L=>{const I=L.get(lt.V_,Promise.resolve());let H=!1;return()=>I.then(()=>new Promise(Re=>{const tt=L.get(Pr),dt=L.get(Xl);(function te(Re){L.get(Pr).events.pipe((0,ut.h)(dt=>dt instanceof as||dt instanceof gs||dt instanceof Yi),(0,He.U)(dt=>dt instanceof as||dt instanceof gs&&(0===dt.code||1===dt.code)&&null),(0,ut.h)(dt=>null!==dt),(0,pt.q)(1)).subscribe(()=>{Re()})})(()=>{Re(!0),H=!0}),tt.afterPreactivation=()=>(Re(!0),H||dt.closed?(0,v.of)(void 0):dt),tt.initialNavigation()}))}}]).\u0275providers:[]]}const po=new m.OlP("")},3942:(gn,_t,k)=>{"use strict";k.d(_t,{Z:()=>lt});var m=k(2090),N=k(4859),v=k(9681),ne=k(1877);class C{constructor(ot,pt){this._delegate=ot,this.firebase=pt,(0,v._addComponent)(ot,new N.wA("app-compat",()=>this,"PUBLIC")),this.container=ot.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ot){this._delegate.automaticDataCollectionEnabled=ot}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ot=>{this._delegate.checkDestroyed(),ot()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,v.deleteApp)(this._delegate)))}_getService(ot,pt=v._DEFAULT_ENTRY_NAME){var Ut;this._delegate.checkDestroyed();const ut=this._delegate.container.getProvider(ot);return!ut.isInitialized()&&"EXPLICIT"===(null===(Ut=ut.getComponent())||void 0===Ut?void 0:Ut.instantiationMode)&&ut.initialize(),ut.getImmediate({identifier:pt})}_removeServiceInstance(ot,pt=v._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ot).clearInstance(pt)}_addComponent(ot){(0,v._addComponent)(this._delegate,ot)}_addOrOverwriteComponent(ot){(0,v._addOrOverwriteComponent)(this._delegate,ot)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const De=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ce=function Ie(){const He=function fe(He){const ot={},pt={__esModule:!0,initializeApp:function kt(ht,et={}){const qe=v.initializeApp(ht,et);if((0,m.r3)(ot,qe.name))return ot[qe.name];const Pt=new He(qe,pt);return ot[qe.name]=Pt,Pt},app:ut,registerVersion:v.registerVersion,setLogLevel:v.setLogLevel,onLog:v.onLog,apps:null,SDK_VERSION:v.SDK_VERSION,INTERNAL:{registerComponent:function Je(ht){const et=ht.name,qe=et.replace("-compat","");if(v._registerComponent(ht)&&"PUBLIC"===ht.type){const Pt=(ze=ut())=>{if("function"!=typeof ze[qe])throw De.create("invalid-app-argument",{appName:et});return ze[qe]()};void 0!==ht.serviceProps&&(0,m.ZB)(Pt,ht.serviceProps),pt[qe]=Pt,He.prototype[qe]=function(...ze){return this._getService.bind(this,et).apply(this,ht.multipleInstances?ze:[])}}return"PUBLIC"===ht.type?pt[qe]:null},removeApp:function Ut(ht){delete ot[ht]},useAsService:function Be(ht,et){return"serverAuth"===et?null:et},modularAPIs:v}};function ut(ht){if(!(0,m.r3)(ot,ht=ht||v._DEFAULT_ENTRY_NAME))throw De.create("no-app",{appName:ht});return ot[ht]}return pt.default=pt,Object.defineProperty(pt,"apps",{get:function vt(){return Object.keys(ot).map(ht=>ot[ht])}}),ut.App=He,pt}(C);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:Ie,extendNamespace:function ot(pt){(0,m.ZB)(He,pt)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),He}(),ge=new ne.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){ge.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&ge.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const lt=ce;!function Ke(He){(0,v.registerVersion)("@firebase/app-compat","0.1.38",He)}()},9681:(gn,_t,k)=>{"use strict";k.r(_t),k.d(_t,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>Vt,_DEFAULT_ENTRY_NAME:()=>Ln,_addComponent:()=>Ve,_addOrOverwriteComponent:()=>Fe,_apps:()=>mn,_clearComponents:()=>Fn,_components:()=>Oe,_getProvider:()=>St,_registerComponent:()=>Ye,_removeServiceInstance:()=>Xt,deleteApp:()=>wn,getApp:()=>jt,getApps:()=>Hn,initializeApp:()=>Cn,onLog:()=>he,registerVersion:()=>ee,setLogLevel:()=>le});var m=k(5861),N=k(4859),v=k(1877),ne=k(2090),C=k(8766);class J{constructor(at){this.container=at}getPlatformInfoString(){return this.container.getProviders().map(it=>{if(function De(hn){return"VERSION"===hn.getComponent()?.type}(it)){const Xe=it.getImmediate();return`${Xe.library}/${Xe.version}`}return null}).filter(it=>it).join(" ")}}const fe="@firebase/app",ce=new v.Yd("@firebase/app"),Ln="[DEFAULT]",tn={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mn=new Map,Oe=new Map;function Ve(hn,at){try{hn.container.addComponent(at)}catch(it){ce.debug(`Component ${at.name} failed to register with FirebaseApp ${hn.name}`,it)}}function Fe(hn,at){hn.container.addOrOverwriteComponent(at)}function Ye(hn){const at=hn.name;if(Oe.has(at))return ce.debug(`There were multiple attempts to register component ${at}.`),!1;Oe.set(at,hn);for(const it of mn.values())Ve(it,hn);return!0}function St(hn,at){const it=hn.container.getProvider("heartbeat").getImmediate({optional:!0});return it&&it.triggerHeartbeat(),hn.container.getProvider(at)}function Xt(hn,at,it=Ln){St(hn,at).clearInstance(it)}function Fn(){Oe.clear()}const Kt=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Tt{constructor(at,it,Xe){this._isDeleted=!1,this._options=Object.assign({},at),this._config=Object.assign({},it),this._name=it.name,this._automaticDataCollectionEnabled=it.automaticDataCollectionEnabled,this._container=Xe,this.container.addComponent(new N.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(at){this.checkDestroyed(),this._automaticDataCollectionEnabled=at}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(at){this._isDeleted=at}checkDestroyed(){if(this.isDeleted)throw Kt.create("app-deleted",{appName:this._name})}}const Vt="9.13.0";function Cn(hn,at={}){let it=hn;"object"!=typeof at&&(at={name:at});const Xe=Object.assign({name:Ln,automaticDataCollectionEnabled:!1},at),Et=Xe.name;if("string"!=typeof Et||!Et)throw Kt.create("bad-app-name",{appName:String(Et)});if(it||(it=(0,ne.aH)()),!it)throw Kt.create("no-options");const Ht=mn.get(Et);if(Ht){if((0,ne.vZ)(it,Ht.options)&&(0,ne.vZ)(Xe,Ht.config))return Ht;throw Kt.create("duplicate-app",{appName:Et})}const _e=new N.H0(Et);for(const G of Oe.values())_e.addComponent(G);const j=new Tt(it,Xe,_e);return mn.set(Et,j),j}function jt(hn=Ln){const at=mn.get(hn);if(!at&&hn===Ln)return Cn();if(!at)throw Kt.create("no-app",{appName:hn});return at}function Hn(){return Array.from(mn.values())}function wn(hn){return mt.apply(this,arguments)}function mt(){return(mt=(0,m.Z)(function*(hn){const at=hn.name;mn.has(at)&&(mn.delete(at),yield Promise.all(hn.container.getProviders().map(it=>it.delete())),hn.isDeleted=!0)})).apply(this,arguments)}function ee(hn,at,it){var Xe;let Et=null!==(Xe=tn[hn])&&void 0!==Xe?Xe:hn;it&&(Et+=`-${it}`);const Ht=Et.match(/\s|\//),_e=at.match(/\s|\//);if(Ht||_e){const j=[`Unable to register library "${Et}" with version "${at}":`];return Ht&&j.push(`library name "${Et}" contains illegal characters (whitespace or "/")`),Ht&&_e&&j.push("and"),_e&&j.push(`version name "${at}" contains illegal characters (whitespace or "/")`),void ce.warn(j.join(" "))}Ye(new N.wA(`${Et}-version`,()=>({library:Et,version:at}),"VERSION"))}function he(hn,at){if(null!==hn&&"function"!=typeof hn)throw Kt.create("invalid-log-argument");(0,v.Am)(hn,at)}function le(hn){(0,v.Ub)(hn)}const Le="firebase-heartbeat-store";let Dt=null;function Gt(){return Dt||(Dt=(0,C.X3)("firebase-heartbeat-database",1,{upgrade:(hn,at)=>{0===at&&hn.createObjectStore(Le)}}).catch(hn=>{throw Kt.create("idb-open",{originalErrorMessage:hn.message})})),Dt}function ln(){return(ln=(0,m.Z)(function*(hn){var at;try{return(yield Gt()).transaction(Le).objectStore(Le).get(di(hn))}catch(it){if(it instanceof ne.ZR)ce.warn(it.message);else{const Xe=Kt.create("idb-get",{originalErrorMessage:null===(at=it)||void 0===at?void 0:at.message});ce.warn(Xe.message)}}})).apply(this,arguments)}function Rn(hn,at){return ai.apply(this,arguments)}function ai(){return(ai=(0,m.Z)(function*(hn,at){var it;try{const Et=(yield Gt()).transaction(Le,"readwrite");return yield Et.objectStore(Le).put(at,di(hn)),Et.done}catch(Xe){if(Xe instanceof ne.ZR)ce.warn(Xe.message);else{const Et=Kt.create("idb-set",{originalErrorMessage:null===(it=Xe)||void 0===it?void 0:it.message});ce.warn(Et.message)}}})).apply(this,arguments)}function di(hn){return`${hn.name}!${hn.options.appId}`}class Ai{constructor(at){this.container=at,this._heartbeatsCache=null;const it=this.container.getProvider("app").getImmediate();this._storage=new ft(it),this._heartbeatsCachePromise=this._storage.read().then(Xe=>(this._heartbeatsCache=Xe,Xe))}triggerHeartbeat(){var at=this;return(0,m.Z)(function*(){const Xe=at.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Et=Tn();if(null===at._heartbeatsCache&&(at._heartbeatsCache=yield at._heartbeatsCachePromise),at._heartbeatsCache.lastSentHeartbeatDate!==Et&&!at._heartbeatsCache.heartbeats.some(Ht=>Ht.date===Et))return at._heartbeatsCache.heartbeats.push({date:Et,agent:Xe}),at._heartbeatsCache.heartbeats=at._heartbeatsCache.heartbeats.filter(Ht=>{const _e=new Date(Ht.date).valueOf();return Date.now()-_e<=2592e6}),at._storage.overwrite(at._heartbeatsCache)})()}getHeartbeatsHeader(){var at=this;return(0,m.Z)(function*(){if(null===at._heartbeatsCache&&(yield at._heartbeatsCachePromise),null===at._heartbeatsCache||0===at._heartbeatsCache.heartbeats.length)return"";const it=Tn(),{heartbeatsToSend:Xe,unsentEntries:Et}=function $t(hn,at=1024){const it=[];let Xe=hn.slice();for(const Et of hn){const Ht=it.find(_e=>_e.agent===Et.agent);if(Ht){if(Ht.dates.push(Et.date),Se(it)>at){Ht.dates.pop();break}}else if(it.push({agent:Et.agent,dates:[Et.date]}),Se(it)>at){it.pop();break}Xe=Xe.slice(1)}return{heartbeatsToSend:it,unsentEntries:Xe}}(at._heartbeatsCache.heartbeats),Ht=(0,ne.L)(JSON.stringify({version:2,heartbeats:Xe}));return at._heartbeatsCache.lastSentHeartbeatDate=it,Et.length>0?(at._heartbeatsCache.heartbeats=Et,yield at._storage.overwrite(at._heartbeatsCache)):(at._heartbeatsCache.heartbeats=[],at._storage.overwrite(at._heartbeatsCache)),Ht})()}}function Tn(){return(new Date).toISOString().substring(0,10)}class ft{constructor(at){this.app=at,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var at=this;return(0,m.Z)(function*(){return(yield at._canUseIndexedDBPromise)&&(yield function nn(hn){return ln.apply(this,arguments)}(at.app))||{heartbeats:[]}})()}overwrite(at){var it=this;return(0,m.Z)(function*(){var Xe;if(yield it._canUseIndexedDBPromise){const Ht=yield it.read();return Rn(it.app,{lastSentHeartbeatDate:null!==(Xe=at.lastSentHeartbeatDate)&&void 0!==Xe?Xe:Ht.lastSentHeartbeatDate,heartbeats:at.heartbeats})}})()}add(at){var it=this;return(0,m.Z)(function*(){var Xe;if(yield it._canUseIndexedDBPromise){const Ht=yield it.read();return Rn(it.app,{lastSentHeartbeatDate:null!==(Xe=at.lastSentHeartbeatDate)&&void 0!==Xe?Xe:Ht.lastSentHeartbeatDate,heartbeats:[...Ht.heartbeats,...at.heartbeats]})}})()}}function Se(hn){return(0,ne.L)(JSON.stringify({version:2,heartbeats:hn})).length}!function Jt(hn){Ye(new N.wA("platform-logger",at=>new J(at),"PRIVATE")),Ye(new N.wA("heartbeat",at=>new Ai(at),"PRIVATE")),ee(fe,"0.8.3",hn),ee(fe,"0.8.3","esm2017"),ee("fire-js","")}("")},4859:(gn,_t,k)=>{"use strict";k.d(_t,{H0:()=>fe,wA:()=>v,zt:()=>C});var m=k(5861),N=k(2090);class v{constructor(ce,ge,be){this.name=ce,this.instanceFactory=ge,this.type=be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ce){return this.instantiationMode=ce,this}setMultipleInstances(ce){return this.multipleInstances=ce,this}setServiceProps(ce){return this.serviceProps=ce,this}setInstanceCreatedCallback(ce){return this.onInstanceCreated=ce,this}}const ne="[DEFAULT]";class C{constructor(ce,ge){this.name=ce,this.container=ge,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ce){const ge=this.normalizeInstanceIdentifier(ce);if(!this.instancesDeferred.has(ge)){const be=new N.BH;if(this.instancesDeferred.set(ge,be),this.isInitialized(ge)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:ge});Ne&&be.resolve(Ne)}catch{}}return this.instancesDeferred.get(ge).promise}getImmediate(ce){var ge;const be=this.normalizeInstanceIdentifier(ce?.identifier),Ne=null!==(ge=ce?.optional)&&void 0!==ge&&ge;if(!this.isInitialized(be)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:be})}catch(Ke){if(Ne)return null;throw Ke}}getComponent(){return this.component}setComponent(ce){if(ce.name!==this.name)throw Error(`Mismatching Component ${ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ce,this.shouldAutoInitialize()){if(function De(Ie){return"EAGER"===Ie.instantiationMode}(ce))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[ge,be]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier(ge);try{const Ke=this.getOrInitializeService({instanceIdentifier:Ne});be.resolve(Ke)}catch{}}}}clearInstance(ce=ne){this.instancesDeferred.delete(ce),this.instancesOptions.delete(ce),this.instances.delete(ce)}delete(){var ce=this;return(0,m.Z)(function*(){const ge=Array.from(ce.instances.values());yield Promise.all([...ge.filter(be=>"INTERNAL"in be).map(be=>be.INTERNAL.delete()),...ge.filter(be=>"_delete"in be).map(be=>be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ce=ne){return this.instances.has(ce)}getOptions(ce=ne){return this.instancesOptions.get(ce)||{}}initialize(ce={}){const{options:ge={}}=ce,be=this.normalizeInstanceIdentifier(ce.instanceIdentifier);if(this.isInitialized(be))throw Error(`${this.name}(${be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:be,options:ge});for(const[Ke,lt]of this.instancesDeferred.entries())be===this.normalizeInstanceIdentifier(Ke)&&lt.resolve(Ne);return Ne}onInit(ce,ge){var be;const Ne=this.normalizeInstanceIdentifier(ge),Ke=null!==(be=this.onInitCallbacks.get(Ne))&&void 0!==be?be:new Set;Ke.add(ce),this.onInitCallbacks.set(Ne,Ke);const lt=this.instances.get(Ne);return lt&&ce(lt,Ne),()=>{Ke.delete(ce)}}invokeOnInitCallbacks(ce,ge){const be=this.onInitCallbacks.get(ge);if(be)for(const Ne of be)try{Ne(ce,ge)}catch{}}getOrInitializeService({instanceIdentifier:ce,options:ge={}}){let be=this.instances.get(ce);if(!be&&this.component&&(be=this.component.instanceFactory(this.container,{instanceIdentifier:(Ie=ce,Ie===ne?void 0:Ie),options:ge}),this.instances.set(ce,be),this.instancesOptions.set(ce,ge),this.invokeOnInitCallbacks(be,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,be)}catch{}var Ie;return be||null}normalizeInstanceIdentifier(ce=ne){return this.component?this.component.multipleInstances?ce:ne:ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(ce){this.name=ce,this.providers=new Map}addComponent(ce){const ge=this.getProvider(ce.name);if(ge.isComponentSet())throw new Error(`Component ${ce.name} has already been registered with ${this.name}`);ge.setComponent(ce)}addOrOverwriteComponent(ce){this.getProvider(ce.name).isComponentSet()&&this.providers.delete(ce.name),this.addComponent(ce)}getProvider(ce){if(this.providers.has(ce))return this.providers.get(ce);const ge=new C(ce,this);return this.providers.set(ce,ge),ge}getProviders(){return Array.from(this.providers.values())}}},1877:(gn,_t,k)=>{"use strict";k.d(_t,{Am:()=>Ie,Ub:()=>fe,Yd:()=>De,in:()=>N});const m=[];var N=(()=>{return(ce=N||(N={}))[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT",N;var ce})();const v={debug:N.DEBUG,verbose:N.VERBOSE,info:N.INFO,warn:N.WARN,error:N.ERROR,silent:N.SILENT},ne=N.INFO,C={[N.DEBUG]:"log",[N.VERBOSE]:"log",[N.INFO]:"info",[N.WARN]:"warn",[N.ERROR]:"error"},J=(ce,ge,...be)=>{if(ge<ce.logLevel)return;const Ne=(new Date).toISOString(),Ke=C[ge];if(!Ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${ge})`);console[Ke](`[${Ne}]  ${ce.name}:`,...be)};class De{constructor(ge){this.name=ge,this._logLevel=ne,this._logHandler=J,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(ge){if(!(ge in N))throw new TypeError(`Invalid value "${ge}" assigned to \`logLevel\``);this._logLevel=ge}setLogLevel(ge){this._logLevel="string"==typeof ge?v[ge]:ge}get logHandler(){return this._logHandler}set logHandler(ge){if("function"!=typeof ge)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ge}get userLogHandler(){return this._userLogHandler}set userLogHandler(ge){this._userLogHandler=ge}debug(...ge){this._userLogHandler&&this._userLogHandler(this,N.DEBUG,...ge),this._logHandler(this,N.DEBUG,...ge)}log(...ge){this._userLogHandler&&this._userLogHandler(this,N.VERBOSE,...ge),this._logHandler(this,N.VERBOSE,...ge)}info(...ge){this._userLogHandler&&this._userLogHandler(this,N.INFO,...ge),this._logHandler(this,N.INFO,...ge)}warn(...ge){this._userLogHandler&&this._userLogHandler(this,N.WARN,...ge),this._logHandler(this,N.WARN,...ge)}error(...ge){this._userLogHandler&&this._userLogHandler(this,N.ERROR,...ge),this._logHandler(this,N.ERROR,...ge)}}function fe(ce){m.forEach(ge=>{ge.setLogLevel(ce)})}function Ie(ce,ge){for(const be of m){let Ne=null;ge&&ge.level&&(Ne=v[ge.level]),be.userLogHandler=null===ce?null:(Ke,lt,...He)=>{const ot=He.map(pt=>{if(null==pt)return null;if("string"==typeof pt)return pt;if("number"==typeof pt||"boolean"==typeof pt)return pt.toString();if(pt instanceof Error)return pt.message;try{return JSON.stringify(pt)}catch{return null}}).filter(pt=>pt).join(" ");lt>=(Ne??Ke.logLevel)&&ce({level:N[lt].toLowerCase(),message:ot,args:He,type:Ke.name})}}}},8766:(gn,_t,k)=>{"use strict";k.d(_t,{Lj:()=>kt,X3:()=>ut});var m=k(5861);let v,ne;const De=new WeakMap,fe=new WeakMap,Ie=new WeakMap,ce=new WeakMap,ge=new WeakMap;let Ke={get(et,qe,Pt){if(et instanceof IDBTransaction){if("done"===qe)return fe.get(et);if("objectStoreNames"===qe)return et.objectStoreNames||Ie.get(et);if("store"===qe)return Pt.objectStoreNames[1]?void 0:Pt.objectStore(Pt.objectStoreNames[0])}return pt(et[qe])},set:(et,qe,Pt)=>(et[qe]=Pt,!0),has:(et,qe)=>et instanceof IDBTransaction&&("done"===qe||"store"===qe)||qe in et};function ot(et){return"function"==typeof et?function He(et){return et!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function J(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(et)?function(...qe){return et.apply(Ut(this),qe),pt(De.get(this))}:function(...qe){return pt(et.apply(Ut(this),qe))}:function(qe,...Pt){const ze=et.call(Ut(this),qe,...Pt);return Ie.set(ze,qe.sort?qe.sort():[qe]),pt(ze)}}(et):(et instanceof IDBTransaction&&function Ne(et){if(fe.has(et))return;const qe=new Promise((Pt,ze)=>{const At=()=>{et.removeEventListener("complete",Ft),et.removeEventListener("error",yn),et.removeEventListener("abort",yn)},Ft=()=>{Pt(),At()},yn=()=>{ze(et.error||new DOMException("AbortError","AbortError")),At()};et.addEventListener("complete",Ft),et.addEventListener("error",yn),et.addEventListener("abort",yn)});fe.set(et,qe)}(et),((et,qe)=>qe.some(Pt=>et instanceof Pt))(et,function C(){return v||(v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(et,Ke):et)}function pt(et){if(et instanceof IDBRequest)return function be(et){const qe=new Promise((Pt,ze)=>{const At=()=>{et.removeEventListener("success",Ft),et.removeEventListener("error",yn)},Ft=()=>{Pt(pt(et.result)),At()},yn=()=>{ze(et.error),At()};et.addEventListener("success",Ft),et.addEventListener("error",yn)});return qe.then(Pt=>{Pt instanceof IDBCursor&&De.set(Pt,et)}).catch(()=>{}),ge.set(qe,et),qe}(et);if(ce.has(et))return ce.get(et);const qe=ot(et);return qe!==et&&(ce.set(et,qe),ge.set(qe,et)),qe}const Ut=et=>ge.get(et);function ut(et,qe,{blocked:Pt,upgrade:ze,blocking:At,terminated:Ft}={}){const yn=indexedDB.open(et,qe),$n=pt(yn);return ze&&yn.addEventListener("upgradeneeded",Gn=>{ze(pt(yn.result),Gn.oldVersion,Gn.newVersion,pt(yn.transaction))}),Pt&&yn.addEventListener("blocked",()=>Pt()),$n.then(Gn=>{Ft&&Gn.addEventListener("close",()=>Ft()),At&&Gn.addEventListener("versionchange",()=>At())}).catch(()=>{}),$n}function kt(et,{blocked:qe}={}){const Pt=indexedDB.deleteDatabase(et);return qe&&Pt.addEventListener("blocked",()=>qe()),pt(Pt).then(()=>{})}const vt=["get","getKey","getAll","getAllKeys","count"],Je=["put","add","delete","clear"],Be=new Map;function ht(et,qe){if(!(et instanceof IDBDatabase)||qe in et||"string"!=typeof qe)return;if(Be.get(qe))return Be.get(qe);const Pt=qe.replace(/FromIndex$/,""),ze=qe!==Pt,At=Je.includes(Pt);if(!(Pt in(ze?IDBIndex:IDBObjectStore).prototype)||!At&&!vt.includes(Pt))return;const Ft=function(){var yn=(0,m.Z)(function*($n,...Gn){const si=this.transaction($n,At?"readwrite":"readonly");let Ln=si.store;return ze&&(Ln=Ln.index(Gn.shift())),(yield Promise.all([Ln[Pt](...Gn),At&&si.done]))[0]});return function(Gn){return yn.apply(this,arguments)}}();return Be.set(qe,Ft),Ft}!function lt(et){Ke=et(Ke)}(et=>({...et,get:(qe,Pt,ze)=>ht(qe,Pt)||et.get(qe,Pt,ze),has:(qe,Pt)=>!!ht(qe,Pt)||et.has(qe,Pt)}))},7185:(gn,_t,k)=>{"use strict";k.d(_t,{Rh:()=>Gn,_W:()=>Ft});var m=k(4650),N=k(7340),v=k(8929),ne=k(6895),C=k(1481);const J=["toast-component",""];function De(Oe,Ve){if(1&Oe){const Fe=m.EpF();m.TgZ(0,"button",5),m.NdJ("click",function(){m.CHM(Fe);const St=m.oxw();return m.KtG(St.remove())}),m.TgZ(1,"span",6),m._uU(2,"\xd7"),m.qZA()()}}function fe(Oe,Ve){if(1&Oe&&(m.ynx(0),m._uU(1),m.BQk()),2&Oe){const Fe=m.oxw(2);m.xp6(1),m.hij("[",Fe.duplicatesCount+1,"]")}}function Ie(Oe,Ve){if(1&Oe&&(m.TgZ(0,"div"),m._uU(1),m.YNc(2,fe,2,1,"ng-container",4),m.qZA()),2&Oe){const Fe=m.oxw();m.Tol(Fe.options.titleClass),m.uIk("aria-label",Fe.title),m.xp6(1),m.hij(" ",Fe.title," "),m.xp6(1),m.Q6J("ngIf",Fe.duplicatesCount)}}function ce(Oe,Ve){if(1&Oe&&m._UZ(0,"div",7),2&Oe){const Fe=m.oxw();m.Tol(Fe.options.messageClass),m.Q6J("innerHTML",Fe.message,m.oJD)}}function ge(Oe,Ve){if(1&Oe&&(m.TgZ(0,"div",8),m._uU(1),m.qZA()),2&Oe){const Fe=m.oxw();m.Tol(Fe.options.messageClass),m.uIk("aria-label",Fe.message),m.xp6(1),m.hij(" ",Fe.message," ")}}function be(Oe,Ve){if(1&Oe&&(m.TgZ(0,"div"),m._UZ(1,"div",9),m.qZA()),2&Oe){const Fe=m.oxw();m.xp6(1),m.Udp("width",Fe.width+"%")}}class kt{constructor(Ve,Fe){this.component=Ve,this.injector=Fe}attach(Ve,Fe){return this._attachedHost=Ve,Ve.attach(this,Fe)}detach(){const Ve=this._attachedHost;if(Ve)return this._attachedHost=void 0,Ve.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(Ve){this._attachedHost=Ve}}class Je{constructor(Ve){this._overlayRef=Ve,this.duplicatesCount=0,this._afterClosed=new v.xQ,this._activate=new v.xQ,this._manualClose=new v.xQ,this._resetTimeout=new v.xQ,this._countDuplicate=new v.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(Ve,Fe){Ve&&this._resetTimeout.next(),Fe&&this._countDuplicate.next(++this.duplicatesCount)}}class Be{constructor(Ve,Fe,Ye,St,Xt,Fn){this.toastId=Ve,this.config=Fe,this.message=Ye,this.title=St,this.toastType=Xt,this.toastRef=Fn,this._onTap=new v.xQ,this._onAction=new v.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(Ve){this._onAction.next(Ve)}onAction(){return this._onAction.asObservable()}}const et=new m.OlP("ToastConfig");class qe extends class vt{attach(Ve,Fe){return this._attachedPortal=Ve,this.attachComponentPortal(Ve,Fe)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(Ve){this._disposeFn=Ve}}{constructor(Ve,Fe,Ye){super(),this._hostDomElement=Ve,this._componentFactoryResolver=Fe,this._appRef=Ye}attachComponentPortal(Ve,Fe){const Ye=this._componentFactoryResolver.resolveComponentFactory(Ve.component);let St;return St=Ye.create(Ve.injector),this._appRef.attachView(St.hostView),this.setDisposeFn(()=>{this._appRef.detachView(St.hostView),St.destroy()}),Fe?this._hostDomElement.insertBefore(this._getComponentRootNode(St),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(St)),St}_getComponentRootNode(Ve){return Ve.hostView.rootNodes[0]}}class Pt{constructor(Ve){this._portalHost=Ve}attach(Ve,Fe=!0){return this._portalHost.attach(Ve,Fe)}detach(){return this._portalHost.detach()}}let ze=(()=>{class Oe{constructor(Fe){this._document=Fe}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Fe=this._document.createElement("div");Fe.classList.add("overlay-container"),Fe.setAttribute("aria-live","polite"),this._document.body.appendChild(Fe),this._containerElement=Fe}}return Oe.\u0275fac=function(Fe){return new(Fe||Oe)(m.LFG(ne.K0))},Oe.\u0275prov=m.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe})(),At=(()=>{class Oe{constructor(Fe,Ye,St,Xt){this._overlayContainer=Fe,this._componentFactoryResolver=Ye,this._appRef=St,this._document=Xt,this._paneElements=new Map}create(Fe,Ye){return this._createOverlayRef(this.getPaneElement(Fe,Ye))}getPaneElement(Fe="",Ye){return this._paneElements.get(Ye)||this._paneElements.set(Ye,{}),this._paneElements.get(Ye)[Fe]||(this._paneElements.get(Ye)[Fe]=this._createPaneElement(Fe,Ye)),this._paneElements.get(Ye)[Fe]}_createPaneElement(Fe,Ye){const St=this._document.createElement("div");return St.id="toast-container",St.classList.add(Fe),St.classList.add("toast-container"),Ye?Ye.getContainerElement().appendChild(St):this._overlayContainer.getContainerElement().appendChild(St),St}_createPortalHost(Fe){return new qe(Fe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Fe){return new Pt(this._createPortalHost(Fe))}}return Oe.\u0275fac=function(Fe){return new(Fe||Oe)(m.LFG(ze),m.LFG(m._Vd),m.LFG(m.z2F),m.LFG(ne.K0))},Oe.\u0275prov=m.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe})(),Ft=(()=>{class Oe{constructor(Fe,Ye,St,Xt,Fn){this.overlay=Ye,this._injector=St,this.sanitizer=Xt,this.ngZone=Fn,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...Fe.default,...Fe.config},Fe.config.iconClasses&&(this.toastrConfig.iconClasses={...Fe.default.iconClasses,...Fe.config.iconClasses})}show(Fe,Ye,St={},Xt=""){return this._preBuildNotification(Xt,Fe,Ye,this.applyConfig(St))}success(Fe,Ye,St={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Fe,Ye,this.applyConfig(St))}error(Fe,Ye,St={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Fe,Ye,this.applyConfig(St))}info(Fe,Ye,St={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Fe,Ye,this.applyConfig(St))}warning(Fe,Ye,St={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Fe,Ye,this.applyConfig(St))}clear(Fe){for(const Ye of this.toasts)if(void 0!==Fe){if(Ye.toastId===Fe)return void Ye.toastRef.manualClose()}else Ye.toastRef.manualClose()}remove(Fe){const Ye=this._findToast(Fe);if(!Ye||(Ye.activeToast.toastRef.close(),this.toasts.splice(Ye.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const St=this.toasts[this.currentlyActive].toastRef;St.isInactive()||(this.currentlyActive=this.currentlyActive+1,St.activate())}return!0}findDuplicate(Fe="",Ye="",St,Xt){const{includeTitleDuplicates:Fn}=this.toastrConfig;for(const Mt of this.toasts){const Kt=Fn&&Mt.title===Fe;if((!Fn||Kt)&&Mt.message===Ye)return Mt.toastRef.onDuplicate(St,Xt),Mt}return null}applyConfig(Fe={}){return{...this.toastrConfig,...Fe}}_findToast(Fe){for(let Ye=0;Ye<this.toasts.length;Ye++)if(this.toasts[Ye].toastId===Fe)return{index:Ye,activeToast:this.toasts[Ye]};return null}_preBuildNotification(Fe,Ye,St,Xt){return Xt.onActivateTick?this.ngZone.run(()=>this._buildNotification(Fe,Ye,St,Xt)):this._buildNotification(Fe,Ye,St,Xt)}_buildNotification(Fe,Ye,St,Xt){if(!Xt.toastComponent)throw new Error("toastComponent required");const Fn=this.findDuplicate(St,Ye,this.toastrConfig.resetTimeoutOnDuplicate&&Xt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&St||Ye)&&this.toastrConfig.preventDuplicates&&null!==Fn)return Fn;this.previousToastMessage=Ye;let Mt=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Mt=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Kt=this.overlay.create(Xt.positionClass,this.overlayContainer);this.index=this.index+1;let Tt=Ye;Ye&&Xt.enableHtml&&(Tt=this.sanitizer.sanitize(m.q3G.HTML,Ye));const Vt=new Je(Kt),Cn=new Be(this.index,Xt,Tt,St,Fe,Vt),Hn=m.zs3.create({providers:[{provide:Be,useValue:Cn}],parent:this._injector}),wn=new kt(Xt.toastComponent,Hn),mt=Kt.attach(wn,Xt.newestOnTop);Vt.componentInstance=mt.instance;const ee={toastId:this.index,title:St||"",message:Ye||"",toastRef:Vt,onShown:Vt.afterActivate(),onHidden:Vt.afterClosed(),onTap:Cn.onTap(),onAction:Cn.onAction(),portal:mt};return Mt||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ee.toastRef.activate()})),this.toasts.push(ee),ee}}return Oe.\u0275fac=function(Fe){return new(Fe||Oe)(m.LFG(et),m.LFG(At),m.LFG(m.zs3),m.LFG(C.H7),m.LFG(m.R0b))},Oe.\u0275prov=m.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe})();const $n={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class Oe{constructor(Fe,Ye,St){this.toastrService=Fe,this.toastPackage=Ye,this.ngZone=St,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Ye.message,this.title=Ye.title,this.options=Ye.config,this.originalTimeout=Ye.config.timeOut,this.toastClasses=`${Ye.toastType} ${Ye.config.toastClass}`,this.sub=Ye.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ye.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ye.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ye.toastRef.countDuplicate().subscribe(Xt=>{this.duplicatesCount=Xt})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Fe=(new Date).getTime();this.width=(this.hideTime-Fe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Fe,Ye){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Fe),Ye)):this.timeout=setTimeout(()=>Fe(),Ye)}outsideInterval(Fe,Ye){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Fe),Ye)):this.intervalId=setInterval(()=>Fe(),Ye)}runInsideAngular(Fe){this.ngZone?this.ngZone.run(()=>Fe()):Fe()}}return Oe.\u0275fac=function(Fe){return new(Fe||Oe)(m.Y36(Ft),m.Y36(Be),m.Y36(m.R0b))},Oe.\u0275cmp=m.Xpm({type:Oe,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Fe,Ye){1&Fe&&m.NdJ("click",function(){return Ye.tapToast()})("mouseenter",function(){return Ye.stickAround()})("mouseleave",function(){return Ye.delayedHideToast()}),2&Fe&&(m.d8E("@flyInOut",Ye.state),m.Tol(Ye.toastClasses),m.Udp("display",Ye.displayStyle))},attrs:J,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Fe,Ye){1&Fe&&(m.YNc(0,De,3,0,"button",0),m.YNc(1,Ie,3,5,"div",1),m.YNc(2,ce,1,3,"div",2),m.YNc(3,ge,2,4,"div",3),m.YNc(4,be,2,2,"div",4)),2&Fe&&(m.Q6J("ngIf",Ye.options.closeButton),m.xp6(1),m.Q6J("ngIf",Ye.title),m.xp6(1),m.Q6J("ngIf",Ye.message&&Ye.options.enableHtml),m.xp6(1),m.Q6J("ngIf",Ye.message&&!Ye.options.enableHtml),m.xp6(1),m.Q6J("ngIf",Ye.options.progressBar))},dependencies:[ne.O5],encapsulation:2,data:{animation:[(0,N.X$)("flyInOut",[(0,N.SB)("inactive",(0,N.oB)({opacity:0})),(0,N.SB)("active",(0,N.oB)({opacity:1})),(0,N.SB)("removed",(0,N.oB)({opacity:0})),(0,N.eR)("inactive => active",(0,N.jt)("{{ easeTime }}ms {{ easing }}")),(0,N.eR)("active => removed",(0,N.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),Oe})()};let Gn=(()=>{class Oe{static forRoot(Fe={}){return{ngModule:Oe,providers:[{provide:et,useValue:{default:$n,config:Fe}}]}}}return Oe.\u0275fac=function(Fe){return new(Fe||Oe)},Oe.\u0275mod=m.oAB({type:Oe}),Oe.\u0275inj=m.cJS({imports:[ne.ez]}),Oe})()},5861:(gn,_t,k)=>{"use strict";function m(v,ne,C,J,De,fe,Ie){try{var ce=v[fe](Ie),ge=ce.value}catch(be){return void C(be)}ce.done?ne(ge):Promise.resolve(ge).then(J,De)}function N(v){return function(){var ne=this,C=arguments;return new Promise(function(J,De){var fe=v.apply(ne,C);function Ie(ge){m(fe,J,De,Ie,ce,"next",ge)}function ce(ge){m(fe,J,De,Ie,ce,"throw",ge)}Ie(void 0)})}}k.d(_t,{Z:()=>N})}},gn=>{gn(gn.s=8100)}]);