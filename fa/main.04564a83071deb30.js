var $localize=Object.assign(void 0===$localize?{}:$localize,{locale:"fa"});
"use strict";(function(global){global.ng=global.ng||{};global.ng.common=global.ng.common||{};global.ng.common.locales=global.ng.common.locales||{};const u=undefined;function plural(val){const n=val,i=Math.floor(Math.abs(val));if(i===0||n===1)return 1;return 5}global.ng.common.locales["fa"]=["fa",[["\u0642","\u0628"],["\u0642.\u0638.","\u0628.\u0638."],["\u0642\u0628\u0644\u200C\u0627\u0632\u0638\u0647\u0631","\u0628\u0639\u062F\u0627\u0632\u0638\u0647\u0631"]],u,[["\u06CC","\u062F","\u0633","\u0686","\u067E","\u062C","\u0634"],["\u06CC\u06A9\u0634\u0646\u0628\u0647","\u062F\u0648\u0634\u0646\u0628\u0647","\u0633\u0647\u200C\u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067E\u0646\u062C\u0634\u0646\u0628\u0647","\u062C\u0645\u0639\u0647","\u0634\u0646\u0628\u0647"],u,["\u06F1\u0634","\u06F2\u0634","\u06F3\u0634","\u06F4\u0634","\u06F5\u0634","\u062C","\u0634"]],u,[["\u0698","\u0641","\u0645","\u0622","\u0645","\u0698","\u0698","\u0627","\u0633","\u0627","\u0646","\u062F"],["\u0698\u0627\u0646\u0648\u06CC\u0647","\u0641\u0648\u0631\u06CC\u0647","\u0645\u0627\u0631\u0633","\u0622\u0648\u0631\u06CC\u0644","\u0645\u0647","\u0698\u0648\u0626\u0646","\u0698\u0648\u0626\u06CC\u0647","\u0627\u0648\u062A","\u0633\u067E\u062A\u0627\u0645\u0628\u0631","\u0627\u06A9\u062A\u0628\u0631","\u0646\u0648\u0627\u0645\u0628\u0631","\u062F\u0633\u0627\u0645\u0628\u0631"],["\u0698\u0627\u0646\u0648\u06CC\u0647\u0654","\u0641\u0648\u0631\u06CC\u0647\u0654","\u0645\u0627\u0631\u0633","\u0622\u0648\u0631\u06CC\u0644","\u0645\u0647\u0654","\u0698\u0648\u0626\u0646","\u0698\u0648\u0626\u06CC\u0647\u0654","\u0627\u0648\u062A","\u0633\u067E\u062A\u0627\u0645\u0628\u0631","\u0627\u06A9\u062A\u0628\u0631","\u0646\u0648\u0627\u0645\u0628\u0631","\u062F\u0633\u0627\u0645\u0628\u0631"]],[["\u0698","\u0641","\u0645","\u0622","\u0645","\u0698","\u0698","\u0627","\u0633","\u0627","\u0646","\u062F"],["\u0698\u0627\u0646\u0648\u06CC\u0647","\u0641\u0648\u0631\u06CC\u0647","\u0645\u0627\u0631\u0633","\u0622\u0648\u0631\u06CC\u0644","\u0645\u0647","\u0698\u0648\u0626\u0646","\u0698\u0648\u0626\u06CC\u0647","\u0627\u0648\u062A","\u0633\u067E\u062A\u0627\u0645\u0628\u0631","\u0627\u06A9\u062A\u0628\u0631","\u0646\u0648\u0627\u0645\u0628\u0631","\u062F\u0633\u0627\u0645\u0628\u0631"],u],[["\u0642","\u0645"],["\u0642.\u0645.","\u0645."],["\u0642\u0628\u0644 \u0627\u0632 \u0645\u06CC\u0644\u0627\u062F","\u0645\u06CC\u0644\u0627\u062F\u06CC"]],6,[5,5],["y/M/d","d MMM y","d MMMM y","EEEE d MMMM y"],["H:mm","H:mm:ss","H:mm:ss (z)","H:mm:ss (zzzz)"],["{1}\u060C\u200F {0}",u,"{1}\u060C \u0633\u0627\u0639\u062A {0}",u],[".",",",";","%","\u200E+","\u200E\u2212","E","\xD7","\u2030","\u221E","\u0646\u0627\u0639\u062F\u062F",":"],["#,##0.###","#,##0%","\u200E\xA4\xA0#,##0.00","#E0"],"IRR","\u0631\u06CC\u0627\u0644","\u0631\u06CC\u0627\u0644 \u0627\u06CC\u0631\u0627\u0646",{"AFN":["\u060B"],"BYN":[u,"\u0440."],"CAD":["$CA","$"],"CNY":["\xA5CN","\xA5"],"HKD":["$HK","$"],"IRR":["\u0631\u06CC\u0627\u0644"],"MXN":["$MX","$"],"NZD":["$NZ","$"],"PHP":[u,"\u20B1"],"THB":["\u0E3F"],"XCD":["$EC","$"],"XOF":["\u0641\u0631\u0627\u0646\u06A9\u202FCFA"]},"rtl",plural,[[["\u0628","\u0635","\u0638","\u0639","\u0634","\u0646"],["\u0628\u0627\u0645\u062F\u0627\u062F","\u0635\u0628\u062D","\u0638\u0647\u0631","\u0639\u0635\u0631","\u0634\u0628","\u0646\u06CC\u0645\u0647\u200C\u0634\u0628"],["\u0628\u0627\u0645\u062F\u0627\u062F","\u0635\u0628\u062D","\u0628\u0639\u062F\u0627\u0632\u0638\u0647\u0631","\u0639\u0635\u0631","\u0634\u0628","\u0646\u06CC\u0645\u0647\u200C\u0634\u0628"]],[["\u0628","\u0635","\u0638","\u0639","\u0634","\u0646"],["\u0628\u0627\u0645\u062F\u0627\u062F","\u0635\u0628\u062D","\u0638\u0647\u0631","\u0639\u0635\u0631","\u0634\u0628","\u0646\u06CC\u0645\u0647\u200C\u0634\u0628"],u],[["01:00","04:00"],["04:00","12:00"],["12:00","13:00"],["13:00","19:00"],["19:00","24:00"],["00:00","01:00"]]]]})(typeof globalThis!=="undefined"&&globalThis||typeof global!=="undefined"&&global||typeof window!=="undefined"&&window);;
(self.webpackChunksadad=self.webpackChunksadad||[]).push([[179],{440:(gn,_t,x)=>{"use strict";x.d(_t,{nm:()=>Br});var p=x(6351);x(4650),x(5867);var kt=x(5861),vt=x(9681),et=x(4859),Le=x(2090),ft=x(1877);const tt=new Map,qe={activated:!1,tokenObservers:[]},Lt={initialized:!1,enabled:!1};function Ge(Pt){return tt.get(Pt)||qe}function Ot(Pt,Rt){tt.set(Pt,Rt)}function Bt(){return Lt}class _n{constructor(Rt,qt,vn,Fn,si){if(this.operation=Rt,this.retryPolicy=qt,this.getWaitDuration=vn,this.lowerBound=Fn,this.upperBound=si,this.pending=null,this.nextErrorWaitInterval=Fn,Fn>si)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Rt){var qt=this;return(0,kt.Z)(function*(){qt.stop();try{qt.pending=new Le.BH,yield function ke(Pt){return new Promise(Rt=>{setTimeout(Rt,Pt)})}(qt.getNextRun(Rt)),qt.pending.resolve(),yield qt.pending.promise,qt.pending=new Le.BH,yield qt.operation(),qt.pending.resolve(),yield qt.pending.promise,qt.process(!0).catch(()=>{})}catch(vn){qt.retryPolicy(vn)?qt.process(!1).catch(()=>{}):qt.stop()}})()}getNextRun(Rt){if(Rt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const qt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),qt}}}const Ne=new Le.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Tt(Pt){if(!Ge(Pt).activated)throw Ne.create("use-before-activation",{appName:Pt.name})}function It(Pt,Rt){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,kt.Z)(function*({url:Pt,body:Rt},qt){var vn,Fn;const si={"Content-Type":"application/json"},Di=qt.getImmediate({optional:!0});if(Di){const vs=yield Di.getHeartbeatsHeader();vs&&(si["X-Firebase-Client"]=vs)}const Nr={method:"POST",body:JSON.stringify(Rt),headers:si};let Ki,jr;try{Ki=yield fetch(Pt,Nr)}catch(vs){throw Ne.create("fetch-network-error",{originalErrorMessage:null===(vn=vs)||void 0===vn?void 0:vn.message})}if(200!==Ki.status)throw Ne.create("fetch-status-error",{httpStatus:Ki.status});try{jr=yield Ki.json()}catch(vs){throw Ne.create("fetch-parse-error",{originalErrorMessage:null===(Fn=vs)||void 0===Fn?void 0:Fn.message})}const ls=jr.ttl.match(/^([\d.]+)(s)$/);if(!ls||!ls[2]||isNaN(Number(ls[1])))throw Ne.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${jr.ttl}`});const xs=1e3*Number(ls[1]),ko=Date.now();return{token:jr.token,expireTimeMillis:ko+xs,issuedAtTimeMillis:ko}})).apply(this,arguments)}function wn(Pt,Rt){const{projectId:qt,appId:vn,apiKey:Fn}=Pt.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${qt}/apps/${vn}:exchangeDebugToken?key=${Fn}`,body:{debug_token:Rt}}}const Dn="firebase-app-check-store";let J=null;function de(){return J||(J=new Promise((Pt,Rt)=>{var qt;try{const vn=indexedDB.open("firebase-app-check-database",1);vn.onsuccess=Fn=>{Pt(Fn.target.result)},vn.onerror=Fn=>{var si;Rt(Ne.create("storage-open",{originalErrorMessage:null===(si=Fn.target.error)||void 0===si?void 0:si.message}))},vn.onupgradeneeded=Fn=>{0===Fn.oldVersion&&Fn.target.result.createObjectStore(Dn,{keyPath:"compositeKey"})}}catch(vn){Rt(Ne.create("storage-open",{originalErrorMessage:null===(qt=vn)||void 0===qt?void 0:qt.message}))}}),J)}function Ut(){return(Ut=(0,kt.Z)(function*(Pt,Rt){const vn=(yield de()).transaction(Dn,"readwrite"),si=vn.objectStore(Dn).put({compositeKey:Pt,value:Rt});return new Promise((Di,Nr)=>{si.onsuccess=Ki=>{Di()},vn.onerror=Ki=>{var jr;Nr(Ne.create("storage-set",{originalErrorMessage:null===(jr=Ki.target.error)||void 0===jr?void 0:jr.message}))}})})).apply(this,arguments)}const Dt=new ft.Yd("@firebase/app-check");function On(Pt,Rt){return(0,Le.hl)()?function ce(Pt,Rt){return function We(Pt,Rt){return Ut.apply(this,arguments)}(function Sn(Pt){return`${Pt.options.appId}-${Pt.name}`}(Pt),Rt)}(Pt,Rt).catch(qt=>{Dt.warn(`Failed to write token to IndexedDB. Error: ${qt}`)}):Promise.resolve()}function Wt(){return Bt().enabled}function gt(){return Et.apply(this,arguments)}function Et(){return(Et=(0,kt.Z)(function*(){const Pt=Bt();if(Pt.enabled&&Pt.token)return Pt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const fn={error:"UNKNOWN_ERROR"};function lt(Pt){return Le.US.encodeString(JSON.stringify(Pt),!1)}function st(Pt){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,kt.Z)(function*(Pt,Rt=!1){const qt=Pt.app;Tt(qt);const vn=Ge(qt);let si,Fn=vn.token;if(Fn&&!X(Fn)&&(Ot(qt,Object.assign(Object.assign({},vn),{token:void 0})),Fn=void 0),!Fn){const Ki=yield vn.cachedTokenPromise;Ki&&(X(Ki)?Fn=Ki:yield On(qt,void 0))}if(!Rt&&Fn&&X(Fn))return{token:Fn.token};let Nr,Di=!1;if(Wt()){vn.exchangeTokenPromise||(vn.exchangeTokenPromise=It(wn(qt,yield gt()),Pt.heartbeatServiceProvider).finally(()=>{vn.exchangeTokenPromise=void 0}),Di=!0);const Ki=yield vn.exchangeTokenPromise;return yield On(qt,Ki),Ot(qt,Object.assign(Object.assign({},vn),{token:Ki})),{token:Ki.token}}try{vn.exchangeTokenPromise||(vn.exchangeTokenPromise=vn.provider.getToken().finally(()=>{vn.exchangeTokenPromise=void 0}),Di=!0),Fn=yield vn.exchangeTokenPromise}catch(Ki){"appCheck/throttled"===Ki.code?Dt.warn(Ki.message):Dt.error(Ki),si=Ki}return Fn?si?Nr=X(Fn)?{token:Fn.token,internalError:si}:K(si):(Nr={token:Fn.token},Ot(qt,Object.assign(Object.assign({},vn),{token:Fn})),yield On(qt,Fn)):Nr=K(si),Di&&G(qt,Nr),Nr})).apply(this,arguments)}function Gt(Pt,Rt){const qt=Ge(Pt),vn=qt.tokenObservers.filter(Fn=>Fn.next!==Rt);0===vn.length&&qt.tokenRefresher&&qt.tokenRefresher.isRunning()&&qt.tokenRefresher.stop(),Ot(Pt,Object.assign(Object.assign({},qt),{tokenObservers:vn}))}function ge(Pt){const{app:Rt}=Pt,qt=Ge(Rt);let vn=qt.tokenRefresher;vn||(vn=function j(Pt){const{app:Rt}=Pt;return new _n((0,kt.Z)(function*(){let vn;if(vn=Ge(Rt).token?yield st(Pt,!0):yield st(Pt),vn.error)throw vn.error;if(vn.internalError)throw vn.internalError}),()=>!0,()=>{const qt=Ge(Rt);if(qt.token){let vn=qt.token.issuedAtTimeMillis+.5*(qt.token.expireTimeMillis-qt.token.issuedAtTimeMillis)+3e5;return vn=Math.min(vn,qt.token.expireTimeMillis-3e5),Math.max(0,vn-Date.now())}return 0},3e4,96e4)}(Pt),Ot(Rt,Object.assign(Object.assign({},qt),{tokenRefresher:vn}))),!vn.isRunning()&&qt.isTokenAutoRefreshEnabled&&vn.start()}function G(Pt,Rt){const qt=Ge(Pt).tokenObservers;for(const vn of qt)try{"EXTERNAL"===vn.type&&null!=Rt.error?vn.error(Rt.error):vn.next(Rt)}catch{}}function X(Pt){return Pt.expireTimeMillis-Date.now()>0}function K(Pt){return{token:lt(fn),error:Pt}}class fe{constructor(Rt,qt){this.app=Rt,this.heartbeatServiceProvider=qt}_delete(){const{tokenObservers:Rt}=Ge(this.app);for(const qt of Rt)Gt(this.app,qt.next);return Promise.resolve()}}const ss="app-check-internal";!function Ts(){(0,vt._registerComponent)(new et.wA("app-check",Pt=>function Qe(Pt,Rt){return new fe(Pt,Rt)}(Pt.getProvider("app").getImmediate(),Pt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Pt,Rt,qt)=>{Pt.getProvider(ss).initialize()})),(0,vt._registerComponent)(new et.wA(ss,Pt=>function Ct(Pt){return{getToken:Rt=>st(Pt,Rt),addTokenListener:Rt=>function St(Pt,Rt,qt,vn){const{app:Fn}=Pt,si=Ge(Fn),Di={next:qt,error:vn,type:Rt};if(Ot(Fn,Object.assign(Object.assign({},si),{tokenObservers:[...si.tokenObservers,Di]})),si.token&&X(si.token)){const Nr=si.token;Promise.resolve().then(()=>{qt({token:Nr.token}),ge(Pt)}).catch(()=>{})}si.cachedTokenPromise.then(()=>ge(Pt))}(Pt,"INTERNAL",Rt),removeTokenListener:Rt=>Gt(Pt.app,Rt)}}(Pt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,vt.registerVersion)("@firebase/app-check","0.5.16")}();class Br{constructor(){return(0,p.vb)("app-check")}}typeof window<"u"&&window},4941:(gn,_t,x)=>{"use strict";x.d(_t,{zQ:()=>ai,ww:()=>Vn,rT:()=>Bt,f7:()=>qn,L6:()=>Ge,_Q:()=>Ot,lh:()=>bn,Qv:()=>Lt,nw:()=>jn});var p=x(4650),N=x(8929),v=x(1086),ne=x(6498),C=x(5254),te=x(6787),we=x(7770),he=x(7545),Se=x(4850),ae=x(341),me=x(2654),ye=x(5279),Ie=x(5283);class Ue extends N.xQ{constructor(_n=Number.POSITIVE_INFINITY,ke=Number.POSITIVE_INFINITY,Be){super(),this.scheduler=Be,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=_n<1?1:_n,this._windowTime=ke<1?1:ke,ke===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(_n){const ke=this._events;ke.push(_n),ke.length>this._bufferSize&&ke.shift(),super.next(_n)}nextTimeWindow(_n){this._events.push(new Je(this._getNow(),_n)),this._trimBufferThenGetEvents(),super.next(_n)}_subscribe(_n){const ke=this._infiniteTimeWindow,Be=ke?this._events:this._trimBufferThenGetEvents(),Ne=this.scheduler,Ke=Be.length;let Tt;if(this.closed)throw new ye.N;if(this.isStopped||this.hasError?Tt=me.w.EMPTY:(this.observers.push(_n),Tt=new Ie.W(this,_n)),Ne&&_n.add(_n=new we.ht(_n,Ne)),ke)for(let en=0;en<Ke&&!_n.closed;en++)_n.next(Be[en]);else for(let en=0;en<Ke&&!_n.closed;en++)_n.next(Be[en].value);return this.hasError?_n.error(this.thrownError):this.isStopped&&_n.complete(),Tt}_getNow(){return(this.scheduler||ae.c).now()}_trimBufferThenGetEvents(){const _n=this._getNow(),ke=this._bufferSize,Be=this._windowTime,Ne=this._events,Ke=Ne.length;let Tt=0;for(;Tt<Ke&&!(_n-Ne[Tt].time<Be);)Tt++;return Ke>ke&&(Tt=Math.max(Tt,Ke-ke)),Tt>0&&Ne.splice(0,Tt),Ne}}class Je{constructor(_n,ke){this.time=_n,this.value=ke}}function Fe(rn,_n,ke){let Be;return Be=rn&&"object"==typeof rn?rn:{bufferSize:rn,windowTime:_n,refCount:!1,scheduler:ke},Ne=>Ne.lift(function ot({bufferSize:rn=Number.POSITIVE_INFINITY,windowTime:_n=Number.POSITIVE_INFINITY,refCount:ke,scheduler:Be}){let Ne,Tt,Ke=0,en=!1,Ln=!1;return function(Qt){Ke++,(!Ne||en)&&(en=!1,Ne=new Ue(rn,_n,Be),Tt=Qt.subscribe({next($t){Ne.next($t)},error($t){en=!0,Ne.error($t)},complete(){Ln=!0,Tt=void 0,Ne.complete()}}));const Mt=Ne.subscribe(this);this.add(()=>{Ke--,Mt.unsubscribe(),Tt&&!Ln&&ke&&0===Ke&&(Tt.unsubscribe(),Tt=void 0,Ne=void 0)})}}(Be))}var ht=x(7224);function jt(rn,_n){return _n?(0,he.w)(()=>rn,_n):(0,he.w)(()=>rn)}var ut=x(3334),kt=x(2198),vt=x(6351),et=x(2011),Le=x(6895),ft=x(440),tt=x(127);const Lt=new p.OlP("angularfire2.auth.use-emulator"),Ge=new p.OlP("angularfire2.auth.settings"),Ot=new p.OlP("angularfire2.auth.tenant-id"),Bt=new p.OlP("angularfire2.auth.langugage-code"),bn=new p.OlP("angularfire2.auth.use-device-language"),qn=new p.OlP("angularfire.auth.persistence"),jn=(rn,_n,ke,Be,Ne,Ke,Tt,en)=>(0,et.cc)(`${rn.name}.auth`,"AngularFireAuth",rn.name,()=>{const Ln=_n.runOutsideAngular(()=>rn.auth());if(ke&&Ln.useEmulator(...ke),Be&&(Ln.tenantId=Be),Ln.languageCode=Ne,Ke&&Ln.useDeviceLanguage(),Tt)for(const[It,Qt]of Object.entries(Tt))Ln.settings[It]=Qt;return en&&Ln.setPersistence(en),Ln},[ke,Be,Ne,Ke,Tt,en]);let ai=(()=>{class rn{constructor(ke,Be,Ne,Ke,Tt,en,Ln,It,Qt,Mt,$t,wn){const zt=new N.xQ,Gn=(0,v.of)(void 0).pipe((0,we.QV)(Tt.outsideAngular),(0,he.w)(()=>Ke.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,5881)))),(0,Se.U)(()=>(0,et.on)(ke,Ke,Be)),(0,Se.U)(Dn=>jn(Dn,Ke,en,It,Qt,Mt,Ln,$t)),Fe({bufferSize:1,refCount:!1}));if((0,Le.PM)(Ne))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,v.of)(null);else{Gn.pipe((0,ht.P)()).subscribe();const pt=Gn.pipe((0,he.w)(Pe=>Pe.getRedirectResult().then(ce=>ce,()=>null)),vt.iC,Fe({bufferSize:1,refCount:!1})),J=Gn.pipe((0,he.w)(Pe=>new ne.y(ce=>({unsubscribe:Ke.runOutsideAngular(()=>Pe.onAuthStateChanged(Ye=>ce.next(Ye),Ye=>ce.error(Ye),()=>ce.complete()))})))),de=Gn.pipe((0,he.w)(Pe=>new ne.y(ce=>({unsubscribe:Ke.runOutsideAngular(()=>Pe.onIdTokenChanged(Ye=>ce.next(Ye),Ye=>ce.error(Ye),()=>ce.complete()))}))));this.authState=pt.pipe(jt(J),(0,ut.R)(Tt.outsideAngular),(0,we.QV)(Tt.insideAngular)),this.user=pt.pipe(jt(de),(0,ut.R)(Tt.outsideAngular),(0,we.QV)(Tt.insideAngular)),this.idToken=this.user.pipe((0,he.w)(Pe=>Pe?(0,C.D)(Pe.getIdToken()):(0,v.of)(null))),this.idTokenResult=this.user.pipe((0,he.w)(Pe=>Pe?(0,C.D)(Pe.getIdTokenResult()):(0,v.of)(null))),this.credential=(0,te.T)(pt,zt,this.authState.pipe((0,kt.h)(Pe=>!Pe))).pipe((0,Se.U)(Pe=>Pe?.user?Pe:null),(0,ut.R)(Tt.outsideAngular),(0,we.QV)(Tt.insideAngular))}return(0,et.pX)(this,Gn,Ke,{spy:{apply:(Dn,pt,J)=>{(Dn.startsWith("signIn")||Dn.startsWith("createUser"))&&J.then(de=>zt.next(de))}}})}}return rn.\u0275fac=function(ke){return new(ke||rn)(p.LFG(et.Dh),p.LFG(et.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(vt.HU),p.LFG(Lt,8),p.LFG(Ge,8),p.LFG(Ot,8),p.LFG(Bt,8),p.LFG(bn,8),p.LFG(qn,8),p.LFG(ft.nm,8))},rn.\u0275prov=p.Yz7({token:rn,factory:rn.\u0275fac,providedIn:"any"}),rn})(),Vn=(()=>{class rn{constructor(){tt.Z.registerVersion("angularfire",vt.q4.full,"auth-compat")}}return rn.\u0275fac=function(ke){return new(ke||rn)},rn.\u0275mod=p.oAB({type:rn}),rn.\u0275inj=p.cJS({providers:[ai]}),rn})()},2796:(gn,_t,x)=>{"use strict";x.d(_t,{ST:()=>mn,yb:()=>Cn});var p=x(4650),N=x(353),v=x(6498),ne=x(5254),C=x(1086),te=x(6351),we=x(1059),he=x(3489);function Se(){return s=>s.lift(new ae)}class ae{call(e,t){return t.subscribe(new me(e))}}class me extends he.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var qe,ye=x(4850),Ie=x(2014),Ue=x(5778),Je=x(2198),Fe=x(2011),ot=x(6895),jt=(x(5881),x(3942)),ut=x(5861),kt=x(9681),vt=x(4859),et=x(1877),Le=x(2090),ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tt={},Lt=Lt||{},Ge=ft||self;function Ot(){}function Bt(s){var e=typeof s;return"array"==(e="object"!=e?e:s?Array.isArray(s)?"array":e:"null")||"object"==e&&"number"==typeof s.length}function bn(s){var e=typeof s;return"object"==e&&null!=s||"function"==e}var jn="closure_uid_"+(1e9*Math.random()>>>0),ai=0;function Vn(s,e,t){return s.call.apply(s.bind,arguments)}function rn(s,e,t){if(!s)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(f,a),s.apply(e,f)}}return function(){return s.apply(e,arguments)}}function _n(s,e,t){return(_n=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Vn:rn).apply(null,arguments)}function ke(s,e){var t=Array.prototype.slice.call(arguments,1);return function(){var a=t.slice();return a.push.apply(a,arguments),s.apply(this,a)}}function Be(s,e){function t(){}t.prototype=e.prototype,s.X=e.prototype,s.prototype=new t,s.prototype.constructor=s,s.Wb=function(a,f,y){for(var M=Array(arguments.length-2),U=2;U<arguments.length;U++)M[U-2]=arguments[U];return e.prototype[f].apply(a,M)}}function Ne(){this.s=this.s,this.o=this.o}Ne.prototype.s=!1,Ne.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function qn(s){Object.prototype.hasOwnProperty.call(s,jn)&&s[jn]||(s[jn]=++ai)}(this)},Ne.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Tt=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if("string"==typeof s)return"string"!=typeof e||1!=e.length?-1:s.indexOf(e,0);for(let t=0;t<s.length;t++)if(t in s&&s[t]===e)return t;return-1};function en(s){const e=s.length;if(0<e){const t=Array(e);for(let a=0;a<e;a++)t[a]=s[a];return t}return[]}function Ln(s,e){for(let t=1;t<arguments.length;t++){const a=arguments[t];if(Bt(a)){const f=s.length||0,y=a.length||0;s.length=f+y;for(let M=0;M<y;M++)s[f+M]=a[M]}else s.push(a)}}function It(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}It.prototype.h=function(){this.defaultPrevented=!0};var Qt=function(){if(!Ge.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{Ge.addEventListener("test",Ot,e),Ge.removeEventListener("test",Ot,e)}catch{}return s}();function Mt(s){return/^[\s\xa0]*$/.test(s)}var $t=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function wn(s,e){return s<e?-1:s>e?1:0}function zt(){var s=Ge.navigator;return s&&(s=s.userAgent)?s:""}function Gn(s){return-1!=zt().indexOf(s)}function Dn(s){return Dn[" "](s),s}Dn[" "]=Ot;var Ut,s,J=Gn("Opera"),de=Gn("Trident")||Gn("MSIE"),Pe=Gn("Edge"),ce=Pe||de,Ye=Gn("Gecko")&&!(-1!=zt().toLowerCase().indexOf("webkit")&&!Gn("Edge"))&&!(Gn("Trident")||Gn("MSIE"))&&!Gn("Edge"),be=-1!=zt().toLowerCase().indexOf("webkit")&&!Gn("Edge");function We(){var s=Ge.document;return s?s.documentMode:void 0}e:{var Nt="",Yt=(s=zt(),Ye?/rv:([^\);]+)(\)|;)/.exec(s):Pe?/Edge\/([\d\.]+)/.exec(s):de?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):be?/WebKit\/(\S+)/.exec(s):J?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(Yt&&(Nt=Yt?Yt[1]:""),de){var Sn=We();if(null!=Sn&&Sn>parseFloat(Nt)){Ut=String(Sn);break e}}Ut=Nt}var Dt={};var Ii=Ge.document&&de&&(We()||parseInt(Ut,10))||void 0;function Tn(s,e){if(It.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var t=this.type=s.type,a=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(Ye){e:{try{Dn(e.nodeName);var f=!0;break e}catch{}f=!1}f||(e=null)}}else"mouseover"==t?e=s.fromElement:"mouseout"==t&&(e=s.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:Wt[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Tn.X.h.call(this)}}Be(Tn,It);var Wt={2:"touch",3:"pen",4:"mouse"};Tn.prototype.h=function(){Tn.X.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),Et=0;function ln(s,e,t,a,f){this.listener=s,this.proxy=null,this.src=e,this.type=t,this.capture=!!a,this.ha=f,this.key=++Et,this.ba=this.ea=!1}function fn(s){s.ba=!0,s.listener=null,s.proxy=null,s.src=null,s.ha=null}function lt(s,e,t){for(const a in s)e.call(t,s[a],a,s)}function st(s){const e={};for(const t in s)e[t]=s[t];return e}const Xe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function St(s,e){let t,a;for(let f=1;f<arguments.length;f++){for(t in a=arguments[f],a)s[t]=a[t];for(let y=0;y<Xe.length;y++)t=Xe[y],Object.prototype.hasOwnProperty.call(a,t)&&(s[t]=a[t])}}function Gt(s){this.src=s,this.g={},this.h=0}function ge(s,e){var t=e.type;if(t in s.g){var y,a=s.g[t],f=Tt(a,e);(y=0<=f)&&Array.prototype.splice.call(a,f,1),y&&(fn(e),0==s.g[t].length&&(delete s.g[t],s.h--))}}function j(s,e,t,a){for(var f=0;f<s.length;++f){var y=s[f];if(!y.ba&&y.listener==e&&y.capture==!!t&&y.ha==a)return f}return-1}Gt.prototype.add=function(s,e,t,a,f){var y=s.toString();(s=this.g[y])||(s=this.g[y]=[],this.h++);var M=j(s,e,a,f);return-1<M?(e=s[M],t||(e.ea=!1)):((e=new ln(e,this.src,y,!!a,f)).ea=t,s.push(e)),e};var G="closure_lm_"+(1e6*Math.random()|0),X={};function K(s,e,t,a,f){if(a&&a.once)return Ct(s,e,t,a,f);if(Array.isArray(e)){for(var y=0;y<e.length;y++)K(s,e[y],t,a,f);return null}return t=De(t),s&&s[gt]?s.N(e,t,bn(a)?!!a.capture:!!a,f):fe(s,e,t,!1,a,f)}function fe(s,e,t,a,f,y){if(!e)throw Error("Invalid event type");var M=bn(f)?!!f.capture:!!f,U=Ve(s);if(U||(s[G]=U=new Gt(s)),(t=U.add(e,t,a,M,y)).proxy)return t;if(a=function Qe(){const e=He;return function s(t){return e.call(s.src,s.listener,t)}}(),t.proxy=a,a.src=s,a.listener=t,s.addEventListener)Qt||(f=M),void 0===f&&(f=!1),s.addEventListener(e.toString(),a,f);else if(s.attachEvent)s.attachEvent(ze(e.toString()),a);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(a)}return t}function Ct(s,e,t,a,f){if(Array.isArray(e)){for(var y=0;y<e.length;y++)Ct(s,e[y],t,a,f);return null}return t=De(t),s&&s[gt]?s.O(e,t,bn(a)?!!a.capture:!!a,f):fe(s,e,t,!0,a,f)}function dn(s,e,t,a,f){if(Array.isArray(e))for(var y=0;y<e.length;y++)dn(s,e[y],t,a,f);else a=bn(a)?!!a.capture:!!a,t=De(t),s&&s[gt]?(s=s.i,(e=String(e).toString())in s.g&&-1<(t=j(y=s.g[e],t,a,f))&&(fn(y[t]),Array.prototype.splice.call(y,t,1),0==y.length&&(delete s.g[e],s.h--))):s&&(s=Ve(s))&&(e=s.g[e.toString()],s=-1,e&&(s=j(e,t,a,f)),(t=-1<s?e[s]:null)&&pn(t))}function pn(s){if("number"!=typeof s&&s&&!s.ba){var e=s.src;if(e&&e[gt])ge(e.i,s);else{var t=s.type,a=s.proxy;e.removeEventListener?e.removeEventListener(t,a,s.capture):e.detachEvent?e.detachEvent(ze(t),a):e.addListener&&e.removeListener&&e.removeListener(a),(t=Ve(e))?(ge(t,s),0==t.h&&(t.src=null,e[G]=null)):fn(s)}}}function ze(s){return s in X?X[s]:X[s]="on"+s}function He(s,e){if(s.ba)s=!0;else{e=new Tn(e,this);var t=s.listener,a=s.ha||s.src;s.ea&&pn(s),s=t.call(a,e)}return s}function Ve(s){return(s=s[G])instanceof Gt?s:null}var je="__closure_events_fn_"+(1e9*Math.random()>>>0);function De(s){return"function"==typeof s?s:(s[je]||(s[je]=function(e){return s.handleEvent(e)}),s[je])}function Ce(){Ne.call(this),this.i=new Gt(this),this.P=this,this.I=null}function rt(s,e){var t,a=s.I;if(a)for(t=[];a;a=a.I)t.push(a);if(s=s.P,a=e.type||e,"string"==typeof e)e=new It(e,s);else if(e instanceof It)e.target=e.target||s;else{var f=e;St(e=new It(a,s),f)}if(f=!0,t)for(var y=t.length-1;0<=y;y--){var M=e.g=t[y];f=Vt(M,a,!0,e)&&f}if(f=Vt(M=e.g=s,a,!0,e)&&f,f=Vt(M,a,!1,e)&&f,t)for(y=0;y<t.length;y++)f=Vt(M=e.g=t[y],a,!1,e)&&f}function Vt(s,e,t,a){if(!(e=s.i.g[String(e)]))return!0;e=e.concat();for(var f=!0,y=0;y<e.length;++y){var M=e[y];if(M&&!M.ba&&M.capture==t){var U=M.listener,oe=M.ha||M.src;M.ea&&ge(s.i,M),f=!1!==U.call(oe,a)&&f}}return f&&!a.defaultPrevented}Be(Ce,Ne),Ce.prototype[gt]=!0,Ce.prototype.removeEventListener=function(s,e,t,a){dn(this,s,e,t,a)},Ce.prototype.M=function(){if(Ce.X.M.call(this),this.i){var e,s=this.i;for(e in s.g){for(var t=s.g[e],a=0;a<t.length;a++)fn(t[a]);delete s.g[e],s.h--}}this.I=null},Ce.prototype.N=function(s,e,t,a){return this.i.add(String(s),e,!1,t,a)},Ce.prototype.O=function(s,e,t,a){return this.i.add(String(s),e,!0,t,a)};var sn=Ge.JSON.stringify;function Yn(){var s=Mr;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}var Wi,pi=new class{constructor(s,e){this.i=s,this.j=e,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}(()=>new Xi,s=>s.reset());class Xi{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function pr(s){Ge.setTimeout(()=>{throw s},0)}function dr(s,e){Wi||function nr(){var s=Ge.Promise.resolve(void 0);Wi=function(){s.then(wr)}}(),ir||(Wi(),ir=!0),Mr.add(s,e)}var ir=!1,Mr=new class Pn{constructor(){this.h=this.g=null}add(e,t){const a=pi.get();a.set(e,t),this.h?this.h.next=a:this.g=a,this.h=a}};function wr(){for(var s;s=Yn();){try{s.h.call(s.g)}catch(t){pr(t)}var e=pi;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}ir=!1}function rs(s,e){Ce.call(this),this.h=s||1,this.g=e||Ge,this.j=_n(this.lb,this),this.l=Date.now()}function $i(s){s.ca=!1,s.R&&(s.g.clearTimeout(s.R),s.R=null)}function js(s,e,t){if("function"==typeof s)t&&(s=_n(s,t));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=_n(s.handleEvent,s)}return 2147483647<Number(e)?-1:Ge.setTimeout(s,e||0)}function ss(s){s.g=js(()=>{s.g=null,s.i&&(s.i=!1,ss(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}Be(rs,Ce),(qe=rs.prototype).ca=!1,qe.R=null,qe.lb=function(){if(this.ca){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-s):(this.R&&(this.g.clearTimeout(this.R),this.R=null),rt(this,"tick"),this.ca&&($i(this),this.start()))}},qe.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qe.M=function(){rs.X.M.call(this),$i(this),delete this.g};class Ts extends Ne{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ss(this)}M(){super.M(),this.g&&(Ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(s){Ne.call(this),this.h=s,this.g={}}Be(os,Ne);var zr=[];function Br(s,e,t,a){Array.isArray(t)||(t&&(zr[0]=t.toString()),t=zr);for(var f=0;f<t.length;f++){var y=K(e,t[f],a||s.handleEvent,!1,s.h||s);if(!y)break;s.g[y.key]=y}}function Ms(s){lt(s.g,function(e,t){this.g.hasOwnProperty(t)&&pn(e)},s),s.g={}}function lr(){this.g=!0}function Cr(s,e,t,a){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+function as(s,e){if(!s.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(s=0;s<t.length;s++)if(Array.isArray(t[s])){var a=t[s];if(!(2>a.length)){var f=a[1];if(Array.isArray(f)&&!(1>f.length)){var y=f[0];if("noop"!=y&&"stop"!=y&&"close"!=y)for(var M=1;M<f.length;M++)f[M]=""}}}return sn(t)}catch{return e}}(s,t)+(a?" "+a:"")})}os.prototype.M=function(){os.X.M.call(this),Ms(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},lr.prototype.Aa=function(){this.g=!1},lr.prototype.info=function(){};var gs={},Yi=null;function Is(){return Yi=Yi||new Ce}function Ra(s){It.call(this,gs.Pa,s)}function to(s){const e=Is();rt(e,new Ra(e))}function Oa(s,e){It.call(this,gs.STAT_EVENT,s),this.stat=e}function fs(s){const e=Is();rt(e,new Oa(e,s))}function _s(s,e){It.call(this,gs.Qa,s),this.size=e}function Pt(s,e){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return Ge.setTimeout(function(){s()},e)}gs.Pa="serverreachability",Be(Ra,It),gs.STAT_EVENT="statevent",Be(Oa,It),gs.Qa="timingevent",Be(_s,It);var Rt={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},qt={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function vn(){}function si(){}vn.prototype.h=null;var jr,Di={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Nr(){It.call(this,"d")}function Ki(){It.call(this,"c")}function ls(){}function xs(s,e,t,a){this.l=s,this.j=e,this.m=t,this.U=a||1,this.S=new os(this),this.O=vs,this.T=new rs(s=ce?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ko}function ko(){this.i=null,this.g="",this.h=!1}Be(Nr,It),Be(Ki,It),Be(ls,vn),ls.prototype.g=function(){return new XMLHttpRequest},ls.prototype.i=function(){return{}},jr=new ls;var vs=45e3,Dr={},$s={};function Go(s,e,t){s.K=1,s.v=Kr(Qs(e)),s.s=t,s.P=!0,bo(s,null)}function bo(s,e){s.F=Date.now(),wo(s),s.A=Qs(s.v);var t=s.A,a=s.U;Array.isArray(a)||(a=[String(a)]),ql(t.i,"t",a),s.C=0,t=s.l.H,s.h=new ko,s.g=Fo(s.l,t?e:null,!s.s),0<s.N&&(s.L=new Ts(_n(s.La,s,s.g),s.N)),Br(s.S,s.g,"readystatechange",s.ib),e=s.H?st(s.H):{},s.s?(s.u||(s.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.da(s.A,s.u,s.s,e)):(s.u="GET",s.g.da(s.A,s.u,null,e)),to(),function $o(s,e,t,a,f,y){s.info(function(){if(s.g)if(y)for(var M="",U=y.split("&"),oe=0;oe<U.length;oe++){var ve=U[oe].split("=");if(1<ve.length){var $e=ve[0];ve=ve[1];var yt=$e.split("_");M=2<=yt.length&&"type"==yt[1]?M+($e+"=")+ve+"&":M+($e+"=redacted&")}}else M=null;else M=y;return"XMLHTTP REQ ("+a+") [attempt "+f+"]: "+e+"\n"+t+"\n"+M})}(s.j,s.u,s.A,s.m,s.U,s.s)}function Co(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Da}function aa(s,e,t){let f,a=!0;for(;!s.I&&s.C<t.length;){if(f=Ro(s,t),f==$s){4==e&&(s.o=4,fs(14),a=!1),Cr(s.j,s.m,null,"[Incomplete Response]");break}if(f==Dr){s.o=4,fs(15),Cr(s.j,s.m,t,"[Invalid Chunk]"),a=!1;break}Cr(s.j,s.m,f,null),zs(s,f)}Co(s)&&f!=$s&&f!=Dr&&(s.h.g="",s.C=0),4!=e||0!=t.length||s.h.h||(s.o=1,fs(16),a=!1),s.i=s.i&&a,a?0<t.length&&!s.$&&(s.$=!0,(e=s.l).g==s&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Gi(e),e.K=!0,fs(11))):(Cr(s.j,s.m,t,"[Invalid Chunked Response]"),ks(s),As(s))}function Ro(s,e){var t=s.C,a=e.indexOf("\n",t);return-1==a?$s:(t=Number(e.substring(t,a)),isNaN(t)?Dr:(a+=1)+t>e.length?$s:(e=e.substr(a,t),s.C=a+t,e))}function wo(s){s.V=Date.now()+s.O,Gs(s,s.O)}function Gs(s,e){if(null!=s.B)throw Error("WatchDog timer not null");s.B=Pt(_n(s.gb,s),e)}function ys(s){s.B&&(Ge.clearTimeout(s.B),s.B=null)}function As(s){0==s.l.G||s.I||Ze(s.l,s)}function ks(s){ys(s);var e=s.L;e&&"function"==typeof e.na&&e.na(),s.L=null,$i(s.T),Ms(s.S),s.g&&(e=s.g,s.g=null,e.abort(),e.na())}function zs(s,e){try{var t=s.l;if(0!=t.G&&(t.g==s||xi(t.h,s)))if(!s.J&&xi(t.h,s)&&3==t.G){try{var a=t.Fa.g.parse(e)}catch{a=null}if(Array.isArray(a)&&3==a.length){var f=a;if(0==f[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<s.F))break e;_r(t),_e(t)}Ei(t),fs(18)}}else t.Ba=f[1],0<t.Ba-t.T&&37500>f[2]&&t.L&&0==t.A&&!t.v&&(t.v=Pt(_n(t.cb,t),6e3));if(1>=Mn(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Ps(t,11)}else if((s.J||t.g==s)&&_r(t),!Mt(e))for(f=t.Fa.g.parse(e),e=0;e<f.length;e++){let ve=f[e];if(t.T=ve[0],ve=ve[1],2==t.G)if("c"==ve[0]){t.I=ve[1],t.ka=ve[2];const $e=ve[3];null!=$e&&(t.ma=$e,t.j.info("VER="+t.ma));const yt=ve[4];null!=yt&&(t.Ca=yt,t.j.info("SVER="+t.Ca));const Zt=ve[5];null!=Zt&&"number"==typeof Zt&&0<Zt&&(t.J=a=1.5*Zt,t.j.info("backChannelRequestTimeoutMs_="+a)),a=t;const yn=s.g;if(yn){const En=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(En){var y=a.h;y.g||-1==En.indexOf("spdy")&&-1==En.indexOf("quic")&&-1==En.indexOf("h2")||(y.j=y.l,y.g=new Set,y.h&&(Po(y,y.h),y.h=null))}if(a.D){const ri=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;ri&&(a.za=ri,Ai(a.F,a.D,ri))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-s.F,t.j.info("Handshake RTT: "+t.P+"ms"));var M=s;if((a=t).sa=Zs(a,a.H?a.ka:null,a.V),M.J){No(a.h,M);var U=M,oe=a.J;oe&&U.setTimeout(oe),U.B&&(ys(U),wo(U)),a.g=M}else Pi(a);0<t.i.length&&xe(t)}else"stop"!=ve[0]&&"close"!=ve[0]||Ps(t,7);else 3==t.G&&("stop"==ve[0]||"close"==ve[0]?"stop"==ve[0]?Ps(t,7):W(t):"noop"!=ve[0]&&t.l&&t.l.wa(ve),t.A=0)}to()}catch{}}function no(s,e){if(s.forEach&&"function"==typeof s.forEach)s.forEach(e,void 0);else if(Bt(s)||"string"==typeof s)Array.prototype.forEach.call(s,e,void 0);else for(var t=function Wr(s){if(s.oa&&"function"==typeof s.oa)return s.oa();if(!s.W||"function"!=typeof s.W){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(Bt(s)||"string"==typeof s){var e=[];s=s.length;for(var t=0;t<s;t++)e.push(t);return e}e=[],t=0;for(const a in s)e[t++]=a;return e}}}(s),a=function es(s){if(s.W&&"function"==typeof s.W)return s.W();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if("string"==typeof s)return s.split("");if(Bt(s)){for(var e=[],t=s.length,a=0;a<t;a++)e.push(s[a]);return e}for(a in e=[],t=0,s)e[t++]=s[a];return e}(s),f=a.length,y=0;y<f;y++)e.call(void 0,a[y],t&&t[y],s)}(qe=xs.prototype).setTimeout=function(s){this.O=s},qe.ib=function(s){s=s.target;const e=this.L;e&&3==qr(s)?e.l():this.La(s)},qe.La=function(s){try{if(s==this.g)e:{const $e=qr(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>$e)&&(3!=$e||ce||this.g&&(this.h.h||this.g.fa()||hl(this.g)))){this.I||4!=$e||7==e||to(),ys(this);var t=this.g.aa();this.Y=t;t:if(Co(this)){var a=hl(this.g);s="";var f=a.length,y=4==qr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ks(this),As(this);var M="";break t}this.h.i=new Ge.TextDecoder}for(e=0;e<f;e++)this.h.h=!0,s+=this.h.i.decode(a[e],{stream:y&&e==f-1});a.splice(0,f),this.h.g+=s,this.C=0,M=this.h.g}else M=this.g.fa();if(this.i=200==t,function Rr(s,e,t,a,f,y,M){s.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+f+"]: "+e+"\n"+t+"\n"+y+" "+M})}(this.j,this.u,this.A,this.m,this.U,$e,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var U,oe=this.g;if((U=oe.g?oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mt(U)){var ve=U;break t}}ve=null}if(!(t=ve)){this.i=!1,this.o=3,fs(12),ks(this),As(this);break e}Cr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zs(this,t)}this.P?(aa(this,$e,M),ce&&this.i&&3==$e&&(Br(this.S,this.T,"tick",this.hb),this.T.start())):(Cr(this.j,this.m,M,null),zs(this,M)),4==$e&&ks(this),this.i&&!this.I&&(4==$e?Ze(this.l,this):(this.i=!1,wo(this)))}else 400==t&&0<M.indexOf("Unknown SID")?(this.o=3,fs(12)):(this.o=0,fs(13)),ks(this),As(this)}}}catch{}},qe.hb=function(){if(this.g){var s=qr(this.g),e=this.g.fa();this.C<e.length&&(ys(this),aa(this,s,e),this.i&&4!=s&&wo(this))}},qe.cancel=function(){this.I=!0,ks(this)},qe.gb=function(){this.B=null;const s=Date.now();0<=s-this.V?(function Ao(s,e){s.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(to(),fs(17)),ks(this),this.o=2,As(this)):Gs(this,this.V-s)};var ba=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ws(s,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,s instanceof Ws){this.h=void 0!==e?e:s.h,mr(this,s.j),this.s=s.s,this.g=s.g,Yr(this,s.m),this.l=s.l,e=s.i;var t=new ca;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Wo(this,t),this.o=s.o}else s&&(t=String(s).match(ba))?(this.h=!!e,mr(this,t[1]||"",!0),this.s=io(t[2]||""),this.g=io(t[3]||"",!0),Yr(this,t[4]),this.l=io(t[5]||"",!0),Wo(this,t[6]||"",!0),this.o=io(t[7]||"")):(this.h=!!e,this.i=new ca(null,this.h))}function Qs(s){return new Ws(s)}function mr(s,e,t){s.j=t?io(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function Yr(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function Wo(s,e,t){e instanceof ca?(s.i=e,function dl(s,e){e&&!s.j&&(gr(s),s.i=null,s.g.forEach(function(t,a){var f=a.toLowerCase();a!=f&&(fi(this,a),ql(this,f,t))},s)),s.j=e}(s.i,s.h)):(t||(e=bs(e,Yo)),s.i=new ca(e,s.h))}function Ai(s,e,t){s.i.set(e,t)}function Kr(s){return Ai(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function io(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function bs(s,e,t){return"string"==typeof s?(s=encodeURI(s).replace(e,la),t&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function la(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}Ws.prototype.toString=function(){var s=[],e=this.j;e&&s.push(bs(e,Zi,!0),":");var t=this.g;return(t||"file"==e)&&(s.push("//"),(e=this.s)&&s.push(bs(e,Zi,!0),"@"),s.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&s.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&s.push("/"),s.push(bs(t,"/"==t.charAt(0)?Rs:Oo,!0))),(t=this.i.toString())&&s.push("?",t),(t=this.o)&&s.push("#",bs(t,Os)),s.join("")};var Zi=/[#\/\?@]/g,Oo=/[#\?:]/g,Rs=/[#\?]/g,Yo=/[#\?@]/g,Os=/#/g;function ca(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function gr(s){s.g||(s.g=new Map,s.h=0,s.i&&function zo(s,e){if(s){s=s.split("&");for(var t=0;t<s.length;t++){var a=s[t].indexOf("="),f=null;if(0<=a){var y=s[t].substring(0,a);f=s[t].substring(a+1)}else y=s[t];e(y,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}}(s.i,function(e,t){s.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function fi(s,e){gr(s),e=cs(s,e),s.g.has(e)&&(s.i=null,s.h-=s.g.get(e).length,s.g.delete(e))}function Ir(s,e){return gr(s),e=cs(s,e),s.g.has(e)}function ql(s,e,t){fi(s,e),0<t.length&&(s.i=null,s.g.set(cs(s,e),en(t)),s.h+=t.length)}function cs(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}function Ys(s){this.l=s||Zr,s=Ge.PerformanceNavigationTiming?0<(s=Ge.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(Ge.g&&Ge.g.Ga&&Ge.g.Ga()&&Ge.g.Ga().$b),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(qe=ca.prototype).add=function(s,e){gr(this),this.i=null,s=cs(this,s);var t=this.g.get(s);return t||this.g.set(s,t=[]),t.push(e),this.h+=1,this},qe.forEach=function(s,e){gr(this),this.g.forEach(function(t,a){t.forEach(function(f){s.call(e,f,a,this)},this)},this)},qe.oa=function(){gr(this);const s=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let a=0;a<e.length;a++){const f=s[a];for(let y=0;y<f.length;y++)t.push(e[a])}return t},qe.W=function(s){gr(this);let e=[];if("string"==typeof s)Ir(this,s)&&(e=e.concat(this.g.get(cs(this,s))));else{s=Array.from(this.g.values());for(let t=0;t<s.length;t++)e=e.concat(s[t])}return e},qe.set=function(s,e){return gr(this),this.i=null,Ir(this,s=cs(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this},qe.get=function(s,e){return s&&0<(s=this.W(s)).length?String(s[0]):e},qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const s=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var a=e[t];const y=encodeURIComponent(String(a)),M=this.W(a);for(a=0;a<M.length;a++){var f=y;""!==M[a]&&(f+="="+encodeURIComponent(String(M[a]))),s.push(f)}}return this.i=s.join("&")};var Zr=10;function qa(s){return!!s.h||!!s.g&&s.g.size>=s.j}function Mn(s){return s.h?1:s.g?s.g.size:0}function xi(s,e){return s.h?s.h==e:!!s.g&&s.g.has(e)}function Po(s,e){s.g?s.g.add(e):s.h=e}function No(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}function Vr(s){if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){let e=s.i;for(const t of s.g.values())e=e.concat(t.D);return e}return en(s.i)}function re(){}function Q(){this.g=new re}function $(s,e,t){const a=t||"";try{no(s,function(f,y){let M=f;bn(f)&&(M=sn(f)),e.push(a+y+"="+encodeURIComponent(M))})}catch(f){throw e.push(a+"type="+encodeURIComponent("_badmap")),f}}function nn(s,e,t,a,f){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,f(a)}catch{}}function Jn(s){this.l=s.ac||null,this.j=s.jb||!1}function Er(s,e){Ce.call(this),this.D=s,this.u=e,this.m=void 0,this.readyState=ro,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ys.prototype.cancel=function(){if(this.i=Vr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}},re.prototype.stringify=function(s){return Ge.JSON.stringify(s,void 0)},re.prototype.parse=function(s){return Ge.JSON.parse(s,void 0)},Be(Jn,vn),Jn.prototype.g=function(){return new Er(this.l,this.j)},Jn.prototype.i=function(s){return function(){return s}}({}),Be(Er,Ce);var ro=0;function so(s){s.j.read().then(s.Ta.bind(s)).catch(s.ga.bind(s))}function hr(s){s.readyState=4,s.l=null,s.j=null,s.A=null,Fr(s)}function Fr(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(qe=Er.prototype).open=function(s,e){if(this.readyState!=ro)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,Fr(this)},qe.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.D||Ge).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hr(this)),this.readyState=ro},qe.Wa=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,Fr(this)),this.g&&(this.readyState=3,Fr(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Ge.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;so(this)}else s.text().then(this.Va.bind(this),this.ga.bind(this))},qe.Ta=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?hr(this):Fr(this),3==this.readyState&&so(this)}},qe.Va=function(s){this.g&&(this.response=this.responseText=s,hr(this))},qe.Ua=function(s){this.g&&(this.response=s,hr(this))},qe.ga=function(){this.g&&hr(this)},qe.setRequestHeader=function(s,e){this.v.append(s,e)},qe.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},qe.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var t=e.next();!t.done;)s.push((t=t.value)[0]+": "+t[1]),t=e.next();return s.join("\r\n")},Object.defineProperty(Er.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var Ko=Ge.JSON.parse;function qi(s){Ce.call(this),this.headers=new Map,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=oo,this.K=this.L=!1}Be(qi,Ce);var oo="",Ql=/^https?$/i,Pa=["POST","PUT"];function Qa(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,Xa(s),ua(s)}function Xa(s){s.D||(s.D=!0,rt(s,"complete"),rt(s,"error"))}function Ja(s){if(s.h&&typeof Lt<"u"&&(!s.C[1]||4!=qr(s)||2!=s.aa()))if(s.v&&4==qr(s))js(s.Ha,0,s);else if(rt(s,"readystatechange"),4==qr(s)){s.h=!1;try{const U=s.aa();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var a;if(a=0===U){var f=String(s.H).match(ba)[1]||null;if(!f&&Ge.self&&Ge.self.location){var y=Ge.self.location.protocol;f=y.substr(0,y.length-1)}a=!Ql.test(f?f.toLowerCase():"")}t=a}if(t)rt(s,"complete"),rt(s,"success");else{s.m=6;try{var M=2<qr(s)?s.g.statusText:""}catch{M=""}s.j=M+" ["+s.aa()+"]",Xa(s)}}finally{ua(s)}}}function ua(s,e){if(s.g){el(s);const t=s.g,a=s.C[0]?Ot:null;s.g=null,s.C=null,e||rt(s,"ready");try{t.onreadystatechange=a}catch{}}}function el(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(Ge.clearTimeout(s.A),s.A=null)}function qr(s){return s.g?s.g.readyState:0}function hl(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case oo:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function da(s){let e="";return lt(s,function(t,a){e+=a,e+=":",e+=t,e+="\r\n"}),e}function Al(s,e,t){e:{for(a in t){var a=!1;break e}a=!0}a||(t=da(t),"string"==typeof s?null!=t&&encodeURIComponent(String(t)):Ai(s,e,t))}function ao(s,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[s]||e}function Na(s){this.Ca=0,this.i=[],this.j=new lr,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ao("failFast",!1,s),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ao("baseRetryDelayMs",5e3,s),this.bb=ao("retryDelaySeedMs",1e4,s),this.$a=ao("forwardChannelMaxRetries",2,s),this.ta=ao("forwardChannelRequestTimeoutMs",2e4,s),this.ra=s&&s.xmlHttpFactory||void 0,this.Da=s&&s.Zb||!1,this.J=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.I="",this.h=new Ys(s&&s.concurrentRequestLimit),this.Fa=new Q,this.O=s&&s.fastHandshake||!1,this.N=s&&s.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=s&&s.Xb||!1,s&&s.Aa&&this.j.Aa(),s&&s.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&s&&s.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function W(s){if(q(s),3==s.G){var e=s.U++,t=Qs(s.F);Ai(t,"SID",s.I),Ai(t,"RID",e),Ai(t,"TYPE","terminate"),hn(s,t),(e=new xs(s,s.j,e,void 0)).K=2,e.v=Kr(Qs(t)),t=!1,Ge.navigator&&Ge.navigator.sendBeacon&&(t=Ge.navigator.sendBeacon(e.v.toString(),"")),!t&&Ge.Image&&((new Image).src=e.v,t=!0),t||(e.g=Fo(e.l,null),e.g.da(e.v)),e.F=Date.now(),wo(e)}Ks(s)}function _e(s){s.g&&(Gi(s),s.g.cancel(),s.g=null)}function q(s){_e(s),s.u&&(Ge.clearTimeout(s.u),s.u=null),_r(s),s.h.cancel(),s.m&&("number"==typeof s.m&&Ge.clearTimeout(s.m),s.m=null)}function xe(s){qa(s.h)||s.m||(s.m=!0,dr(s.Ja,s),s.C=0)}function Xt(s,e){var t;t=e?e.m:s.U++;const a=Qs(s.F);Ai(a,"SID",s.I),Ai(a,"RID",t),Ai(a,"AID",s.T),hn(s,a),s.o&&s.s&&Al(a,s.o,s.s),t=new xs(s,s.j,t,s.C+1),null===s.o&&(t.H=s.s),e&&(s.i=e.D.concat(s.i)),e=Xn(s,t,1e3),t.setTimeout(Math.round(.5*s.ta)+Math.round(.5*s.ta*Math.random())),Po(s.h,t),Go(t,a,e)}function hn(s,e){s.ia&&lt(s.ia,function(t,a){Ai(e,a,t)}),s.l&&no({},function(t,a){Ai(e,a,t)})}function Xn(s,e,t){t=Math.min(s.i.length,t);var a=s.l?_n(s.l.Ra,s.l,s):null;e:{var f=s.i;let y=-1;for(;;){const M=["count="+t];-1==y?0<t?(y=f[0].h,M.push("ofs="+y)):y=0:M.push("ofs="+y);let U=!0;for(let oe=0;oe<t;oe++){let ve=f[oe].h;const $e=f[oe].g;if(ve-=y,0>ve)y=Math.max(0,f[oe].h-100),U=!1;else try{$($e,M,"req"+ve+"_")}catch{a&&a($e)}}if(U){a=M.join("&");break e}}}return s=s.i.splice(0,t),e.D=s,a}function Pi(s){s.g||s.u||(s.Z=1,dr(s.Ia,s),s.A=0)}function Ei(s){return!(s.g||s.u||3<=s.A||(s.Z++,s.u=Pt(_n(s.Ia,s),fr(s,s.A)),s.A++,0))}function Gi(s){null!=s.B&&(Ge.clearTimeout(s.B),s.B=null)}function Ni(s){s.g=new xs(s,s.j,"rpc",s.Z),null===s.o&&(s.g.H=s.s),s.g.N=0;var e=Qs(s.sa);Ai(e,"RID","rpc"),Ai(e,"SID",s.I),Ai(e,"CI",s.L?"0":"1"),Ai(e,"AID",s.T),Ai(e,"TYPE","xmlhttp"),hn(s,e),s.o&&s.s&&Al(e,s.o,s.s),s.J&&s.g.setTimeout(s.J);var t=s.g;s=s.ka,t.K=1,t.v=Kr(Qs(e)),t.s=null,t.P=!0,bo(t,s)}function _r(s){null!=s.v&&(Ge.clearTimeout(s.v),s.v=null)}function Ze(s,e){var t=null;if(s.g==e){_r(s),Gi(s),s.g=null;var a=2}else{if(!xi(s.h,e))return;t=e.D,No(s.h,e),a=1}if(0!=s.G)if(s.pa=e.Y,e.i)if(1==a){t=e.s?e.s.length:0,e=Date.now()-e.F;var f=s.C;rt(a=Is(),new _s(a,t)),xe(s)}else Pi(s);else if(3==(f=e.o)||0==f&&0<s.pa||!(1==a&&function ct(s,e){return!(Mn(s.h)>=s.h.j-(s.m?1:0)||(s.m?(s.i=e.D.concat(s.i),0):1==s.G||2==s.G||s.C>=(s.Za?0:s.$a)||(s.m=Pt(_n(s.Ja,s,e),fr(s,s.C)),s.C++,0)))}(s,e)||2==a&&Ei(s)))switch(t&&0<t.length&&(e=s.h,e.i=e.i.concat(t)),f){case 1:Ps(s,5);break;case 4:Ps(s,10);break;case 3:Ps(s,6);break;default:Ps(s,2)}}function fr(s,e){let t=s.Xa+Math.floor(Math.random()*s.bb);return s.l||(t*=2),t*e}function Ps(s,e){if(s.j.info("Error code "+e),2==e){var t=null;s.l&&(t=null);var a=_n(s.kb,s);t||(t=new Ws("//www.google.com/images/cleardot.gif"),Ge.location&&"http"==Ge.location.protocol||mr(t,"https"),Kr(t)),function Ae(s,e){const t=new lr;if(Ge.Image){const a=new Image;a.onload=ke(nn,t,a,"TestLoadImage: loaded",!0,e),a.onerror=ke(nn,t,a,"TestLoadImage: error",!1,e),a.onabort=ke(nn,t,a,"TestLoadImage: abort",!1,e),a.ontimeout=ke(nn,t,a,"TestLoadImage: timeout",!1,e),Ge.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=s}else e(!1)}(t.toString(),a)}else fs(2);s.G=0,s.l&&s.l.va(e),Ks(s),q(s)}function Ks(s){if(s.G=0,s.la=[],s.l){const e=Vr(s.h);(0!=e.length||0!=s.i.length)&&(Ln(s.la,e),Ln(s.la,s.i),s.h.i.length=0,en(s.i),s.i.length=0),s.l.ua()}}function Zs(s,e,t){var a=t instanceof Ws?Qs(t):new Ws(t,void 0);if(""!=a.g)e&&(a.g=e+"."+a.g),Yr(a,a.m);else{var f=Ge.location;a=f.protocol,e=e?e+"."+f.hostname:f.hostname,f=+f.port;var y=new Ws(null,void 0);a&&mr(y,a),e&&(y.g=e),f&&Yr(y,f),t&&(y.l=t),a=y}return e=s.za,(t=s.D)&&e&&Ai(a,t,e),Ai(a,"VER",s.ma),hn(s,a),a}function Fo(s,e,t){if(e&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qi(t&&s.Da&&!s.ra?new Jn({jb:!0}):s.ra)).Ka(s.H),e}function Do(){}function rr(){if(de&&!(10<=Number(Ii)))throw Error("Environmental error: no available transport.")}function Ns(s,e){Ce.call(this),this.g=new Na(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(s?s["X-WebChannel-Client-Profile"]=e.ya:s={"X-WebChannel-Client-Profile":e.ya}),this.g.S=s,(s=e&&e.Yb)&&!Mt(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Mt(e)&&(this.g.D=e,null!==(s=this.h)&&e in s&&e in(s=this.h)&&delete s[e]),this.j=new Zo(this)}function fl(s){Nr.call(this);var e=s.__sm__;if(e){e:{for(const t in e){s=t;break e}s=void 0}(this.i=s)&&(s=this.i,e=null!==e&&s in e?e[s]:void 0),this.data=e}else this.data=s}function ts(){Ki.call(this),this.status=1}function Zo(s){this.g=s}(qe=qi.prototype).Ka=function(s){this.L=s},qe.da=function(s,e,t,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);e=e?e.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():jr.g(),this.C=function Fn(s){return s.h||(s.h=s.i())}(this.u?this.u:jr),this.g.onreadystatechange=_n(this.Ha,this);try{this.F=!0,this.g.open(e,String(s),!0),this.F=!1}catch(y){return void Qa(this,y)}if(s=t||"",t=new Map(this.headers),a)if(Object.getPrototypeOf(a)===Object.prototype)for(var f in a)t.set(f,a[f]);else{if("function"!=typeof a.keys||"function"!=typeof a.get)throw Error("Unknown input type for opt_headers: "+String(a));for(const y of a.keys())t.set(y,a.get(y))}a=Array.from(t.keys()).find(y=>"content-type"==y.toLowerCase()),f=Ge.FormData&&s instanceof Ge.FormData,!(0<=Tt(Pa,e))||a||f||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[y,M]of t)this.g.setRequestHeader(y,M);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{el(this),0<this.B&&((this.K=function Xl(s){return de&&function oi(){return function pt(s){var e=Dt;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=s(9)}(function(){let s=0;const e=$t(String(Ut)).split("."),t=$t("9").split("."),a=Math.max(e.length,t.length);for(let M=0;0==s&&M<a;M++){var f=e[M]||"",y=t[M]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],y=/(\d*)(\D*)(.*)/.exec(y)||["","","",""],0==f[0].length&&0==y[0].length)break;s=wn(0==f[1].length?0:parseInt(f[1],10),0==y[1].length?0:parseInt(y[1],10))||wn(0==f[2].length,0==y[2].length)||wn(f[2],y[2]),f=f[3],y=y[3]}while(0==s)}return 0<=s})}()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_n(this.qa,this)):this.A=js(this.qa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(y){Qa(this,y)}},qe.qa=function(){typeof Lt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rt(this,"timeout"),this.abort(8))},qe.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,rt(this,"complete"),rt(this,"abort"),ua(this))},qe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ua(this,!0)),qi.X.M.call(this)},qe.Ha=function(){this.s||(this.F||this.v||this.l?Ja(this):this.fb())},qe.fb=function(){Ja(this)},qe.aa=function(){try{return 2<qr(this)?this.g.status:-1}catch{return-1}},qe.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},qe.Sa=function(s){if(this.g){var e=this.g.responseText;return s&&0==e.indexOf(s)&&(e=e.substring(s.length)),Ko(e)}},qe.Ea=function(){return this.m},qe.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(qe=Na.prototype).ma=8,qe.G=1,qe.Ja=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.U=Math.floor(1e5*Math.random()),s=this.U++;const f=new xs(this,this.j,s,void 0);let y=this.s;if(this.S&&(y?(y=st(y),St(y,this.S)):y=this.S),null!==this.o||this.N||(f.H=y,y=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var a=this.i[t];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(e+=a)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Xn(this,f,e),Ai(t=Qs(this.F),"RID",s),Ai(t,"CVER",22),this.D&&Ai(t,"X-HTTP-Session-Id",this.D),hn(this,t),y&&(this.N?e="headers="+encodeURIComponent(String(da(y)))+"&"+e:this.o&&Al(t,this.o,y)),Po(this.h,f),this.Ya&&Ai(t,"TYPE","init"),this.O?(Ai(t,"$req",e),Ai(t,"SID","null"),f.Z=!0,Go(f,t,null)):Go(f,t,e),this.G=2}}else 3==this.G&&(s?Xt(this,s):0==this.i.length||qa(this.h)||Xt(this))},qe.Ia=function(){if(this.u=null,Ni(this),this.$&&!(this.K||null==this.g||0>=this.P)){var s=2*this.P;this.j.info("BP detection timer enabled: "+s),this.B=Pt(_n(this.eb,this),s)}},qe.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,fs(10),_e(this),Ni(this))},qe.cb=function(){null!=this.v&&(this.v=null,_e(this),Ei(this),fs(19))},qe.kb=function(s){s?(this.j.info("Successfully pinged google.com"),fs(2)):(this.j.info("Failed to ping google.com"),fs(1))},(qe=Do.prototype).xa=function(){},qe.wa=function(){},qe.va=function(){},qe.ua=function(){},qe.Ra=function(){},rr.prototype.g=function(s,e){return new Ns(s,e)},Be(Ns,Ce),Ns.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var s=this.g,e=this.l,t=this.h||void 0;fs(0),s.V=e,s.ia=t||{},s.L=s.Y,s.F=Zs(s,null,s.V),xe(s)},Ns.prototype.close=function(){W(this.g)},Ns.prototype.u=function(s){var e=this.g;if("string"==typeof s){var t={};t.__data__=s,s=t}else this.v&&((t={}).__data__=sn(s),s=t);e.i.push(new class{constructor(s,e){this.h=s,this.g=e}}(e.ab++,s)),3==e.G&&xe(e)},Ns.prototype.M=function(){this.g.l=null,delete this.j,W(this.g),delete this.g,Ns.X.M.call(this)},Be(fl,Nr),Be(ts,Ki),Be(Zo,Do),Zo.prototype.xa=function(){rt(this.g,"a")},Zo.prototype.wa=function(s){rt(this.g,new fl(s))},Zo.prototype.va=function(s){rt(this.g,new ts)},Zo.prototype.ua=function(){rt(this.g,"b")},rr.prototype.createWebChannel=rr.prototype.g,Ns.prototype.send=Ns.prototype.u,Ns.prototype.open=Ns.prototype.m,Ns.prototype.close=Ns.prototype.close,Rt.NO_ERROR=0,Rt.TIMEOUT=8,Rt.HTTP_ERROR=6,qt.COMPLETE="complete",si.EventType=Di,Di.OPEN="a",Di.CLOSE="b",Di.ERROR="c",Di.MESSAGE="d",Ce.prototype.listen=Ce.prototype.N,qi.prototype.listenOnce=qi.prototype.O,qi.prototype.getLastError=qi.prototype.Oa,qi.prototype.getLastErrorCode=qi.prototype.Ea,qi.prototype.getStatus=qi.prototype.aa,qi.prototype.getResponseJson=qi.prototype.Sa,qi.prototype.getResponseText=qi.prototype.fa,qi.prototype.send=qi.prototype.da,qi.prototype.setWithCredentials=qi.prototype.Ka;var Nu=tt.createWebChannelTransport=function(){return new rr},Sd=tt.getStatEventTarget=function(){return Is()},Cc=tt.ErrorCode=Rt,kl=tt.EventType=qt,Rl=tt.Event=gs,ha=tt.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Ol=tt.FetchXmlHttpFactory=Jn,Fa=tt.WebChannel=si,ou=tt.XhrIo=qi;const Pl="@firebase/firestore";class sr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sr.UNAUTHENTICATED=new sr(null),sr.GOOGLE_CREDENTIALS=new sr("google-credentials-uid"),sr.FIRST_PARTY=new sr("first-party-uid"),sr.MOCK_USER=new sr("mock-user");let fa="9.13.0";const Lo=new et.Yd("@firebase/firestore");function pl(){return Lo.logLevel}function Nn(s,...e){if(Lo.logLevel<=et.in.DEBUG){const t=e.map(Fu);Lo.debug(`Firestore (${fa}): ${s}`,...t)}}function Qi(s,...e){if(Lo.logLevel<=et.in.ERROR){const t=e.map(Fu);Lo.error(`Firestore (${fa}): ${s}`,...t)}}function tl(s,...e){if(Lo.logLevel<=et.in.WARN){const t=e.map(Fu);Lo.warn(`Firestore (${fa}): ${s}`,...t)}}function Fu(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch{return s}}function ii(s="Unexpected state"){const e=`FIRESTORE (${fa}) INTERNAL ASSERTION FAILED: `+s;throw Qi(e),new Error(e)}function wi(s,e){s||ii()}function Zn(s,e){return s}const un={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class In extends Le.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class wc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class us{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(sr.UNAUTHENTICATED))}shutdown(){}}class wa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ma{constructor(e){this.t=e,this.currentUser=sr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var a=this;let f=this.i;const y=ve=>this.i!==f?(f=this.i,t(ve)):Promise.resolve();let M=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),M.resolve(),M=new xr,e.enqueueRetryable(()=>y(this.currentUser))};const U=()=>{const ve=M;e.enqueueRetryable((0,ut.Z)(function*(){yield ve.promise,yield y(a.currentUser)}))},oe=ve=>{Nn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ve,this.auth.addAuthTokenListener(this.o),U()};this.t.onInit(ve=>oe(ve)),setTimeout(()=>{if(!this.auth){const ve=this.t.getImmediate({optional:!0});ve?oe(ve):(Nn("FirebaseAuthCredentialsProvider","Auth not yet detected"),M.resolve(),M=new xr)}},0),U()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(Nn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(wi("string"==typeof a.accessToken),new wc(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wi(null===e||"string"==typeof e),new sr(e)}}class Nl{constructor(e,t,a,f){this.h=e,this.l=t,this.m=a,this.g=f,this.type="FirstParty",this.user=sr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(wi(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Fl{constructor(e,t,a,f){this.h=e,this.l=t,this.m=a,this.g=f}getToken(){return Promise.resolve(new Nl(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(sr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ml{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const a=y=>{null!=y.error&&Nn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const M=y.token!==this.A;return this.A=y.token,Nn("FirebaseAppCheckTokenProvider",`Received ${M?"new":"existing"} token.`),M?t(y.token):Promise.resolve()};this.o=y=>{e.enqueueRetryable(()=>a(y))};const f=y=>{Nn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.appCheck.addTokenListener(this.o)};this.T.onInit(y=>f(y)),setTimeout(()=>{if(!this.appCheck){const y=this.T.getImmediate({optional:!0});y?f(y):Nn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(wi("string"==typeof t.token),this.A=t.token,new nl(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ps(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let a=0;a<s;a++)t[a]=Math.floor(256*Math.random());return t}class Ll{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const f=ps(40);for(let y=0;y<f.length;++y)a.length<20&&f[y]<t&&(a+=e.charAt(f[y]%e.length))}return a}}function Ti(s,e){return s<e?-1:s>e?1:0}function qo(s,e,t){return s.length===e.length&&s.every((a,f)=>t(a,e[f]))}function Bl(s){return s+"\0"}class Ar{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new In(un.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new In(un.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new In(un.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new In(un.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ar.fromMillis(Date.now())}static fromDate(e){return Ar.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*t));return new Ar(t,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ti(this.nanoseconds,e.nanoseconds):Ti(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bi{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bi(e)}static min(){return new bi(new Ar(0,0))}static max(){return new bi(new Ar(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ds{constructor(e,t,a){void 0===t?t=0:t>e.length&&ii(),void 0===a?a=e.length-t:a>e.length-t&&ii(),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return 0===ds.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ds?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let f=0;f<a;f++){const y=e.get(f),M=t.get(f);if(y<M)return-1;if(y>M)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class yi extends ds{construct(e,t,a){return new yi(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new In(un.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(f=>f.length>0))}return new yi(t)}static emptyPath(){return new yi([])}}const lo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vr extends ds{construct(e,t,a){return new vr(e,t,a)}static isValidIdentifier(e){return lo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vr(["__name__"])}static fromServerFormat(e){const t=[];let a="",f=0;const y=()=>{if(0===a.length)throw new In(un.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let M=!1;for(;f<e.length;){const U=e[f];if("\\"===U){if(f+1===e.length)throw new In(un.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const oe=e[f+1];if("\\"!==oe&&"."!==oe&&"`"!==oe)throw new In(un.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=oe,f+=2}else"`"===U?(M=!M,f++):"."!==U||M?(a+=U,f++):(y(),f++)}if(y(),M)throw new In(un.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vr(t)}static emptyPath(){return new vr([])}}class zn{constructor(e){this.path=e}static fromPath(e){return new zn(yi.fromString(e))}static fromName(e){return new zn(yi.fromString(e).popFirst(5))}static empty(){return new zn(yi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zn(new yi(e.slice()))}}class Vo{constructor(e,t,a,f){this.indexId=e,this.collectionGroup=t,this.fields=a,this.indexState=f}}function Da(s){return s.fields.find(e=>2===e.kind)}function Qo(s){return s.fields.filter(e=>2!==e.kind)}Vo.UNKNOWN_ID=-1;class ga{constructor(e,t){this.fieldPath=e,this.kind=t}}class Vl{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Vl(0,co.min())}}function Ul(s,e){const t=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,f=bi.fromTimestamp(1e9===a?new Ar(t+1,0):new Ar(t,a));return new co(f,zn.empty(),e)}function Dc(s){return new co(s.readTime,s.key,-1)}class co{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new co(bi.min(),zn.empty(),-1)}static max(){return new co(bi.max(),zn.empty(),-1)}}function Ec(s,e){let t=s.readTime.compareTo(e.readTime);return 0!==t?t:(t=zn.comparator(s.documentKey,e.documentKey),0!==t?t:Ti(s.largestBatchId,e.largestBatchId))}const Fs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Xo(s){return gl.apply(this,arguments)}function gl(){return gl=(0,ut.Z)(function*(s){if(s.code!==un.FAILED_PRECONDITION||s.message!==Fs)throw s;Nn("LocalStore","Unexpectedly lost primary lease")}),gl.apply(this,arguments)}class cn{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ii(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new cn((a,f)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(a,f)},this.catchCallback=y=>{this.wrapFailure(t,y).next(a,f)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof cn?t:cn.resolve(t)}catch(t){return cn.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):cn.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):cn.reject(t)}static resolve(e){return new cn((t,a)=>{t(e)})}static reject(e){return new cn((t,a)=>{a(e)})}static waitFor(e){return new cn((t,a)=>{let f=0,y=0,M=!1;e.forEach(U=>{++f,U.next(()=>{++y,M&&y===f&&t()},oe=>a(oe))}),M=!0,y===f&&t()})}static or(e){let t=cn.resolve(!1);for(const a of e)t=t.next(f=>f?cn.resolve(f):a());return t}static forEach(e,t){const a=[];return e.forEach((f,y)=>{a.push(t.call(this,f,y))}),this.waitFor(a)}static mapArray(e,t){return new cn((a,f)=>{const y=e.length,M=new Array(y);let U=0;for(let oe=0;oe<y;oe++){const ve=oe;t(e[ve]).next($e=>{M[ve]=$e,++U,U===y&&a(M)},$e=>f($e))}})}static doWhile(e,t){return new cn((a,f)=>{const y=()=>{!0===e()?t().next(()=>{y()},f):a()};y()})}}class $r{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new xr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new il(e,t.error)):this.P.resolve()},this.transaction.onerror=a=>{const f=ho(a.target.error);this.P.reject(new il(e,f))}}static open(e,t,a,f){try{return new $r(t,e.transaction(f,a))}catch(y){throw new il(t,y)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Nn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Eo(t)}}class Uo{constructor(e,t,a){this.name=e,this.version=t,this.S=a,12.2===Uo.D((0,Le.z$)())&&Qi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Nn("SimpleDb","Removing database:",e),uo(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Le.hl)())return!1;if(Uo.N())return!0;const e=(0,Le.z$)(),t=Uo.D(e),a=0<t&&t<10,f=Uo.k(e),y=0<f&&f<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||y)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static k(e){const t=e.match(/Android ([\d.]+)/i),a=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(a)}F(e){var t=this;return(0,ut.Z)(function*(){return t.db||(Nn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((a,f)=>{const y=indexedDB.open(t.name,t.version);y.onsuccess=M=>{a(M.target.result)},y.onblocked=()=>{f(new il(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=M=>{const U=M.target.error;f("VersionError"===U.name?new In(un.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===U.name?new In(un.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+U):new il(e,U))},y.onupgradeneeded=M=>{Nn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',M.oldVersion),t.S.$(M.target.result,y.transaction,M.oldVersion,t.version).next(()=>{Nn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=a=>t.B(a)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,a,f){var y=this;return(0,ut.Z)(function*(){const M="readonly"===t;let U=0;for(;;){++U;try{y.db=yield y.F(e);const oe=$r.open(y.db,e,M?"readonly":"readwrite",a),ve=f(oe).next($e=>(oe.V(),$e)).catch($e=>(oe.abort($e),cn.reject($e))).toPromise();return ve.catch(()=>{}),yield oe.v,ve}catch(oe){const ve=oe,$e="FirebaseError"!==ve.name&&U<3;if(Nn("SimpleDb","Transaction failed with error:",ve.message,"Retrying:",$e),y.close(),!$e)return Promise.reject(ve)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Sc{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return uo(this.U.delete())}}class il extends In{constructor(e,t){super(un.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Sa(s){return"IndexedDbTransactionError"===s.name}class Eo{constructor(e){this.store=e}put(e,t){let a;return void 0!==t?(Nn("SimpleDb","PUT",this.store.name,e,t),a=this.store.put(t,e)):(Nn("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),uo(a)}add(e){return Nn("SimpleDb","ADD",this.store.name,e,e),uo(this.store.add(e))}get(e){return uo(this.store.get(e)).next(t=>(void 0===t&&(t=null),Nn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Nn("SimpleDb","DELETE",this.store.name,e),uo(this.store.delete(e))}count(){return Nn("SimpleDb","COUNT",this.store.name),uo(this.store.count())}W(e,t){const a=this.options(e,t);if(a.index||"function"!=typeof this.store.getAll){const f=this.cursor(a),y=[];return this.H(f,(M,U)=>{y.push(U)}).next(()=>y)}{const f=this.store.getAll(a.range);return new cn((y,M)=>{f.onerror=U=>{M(U.target.error)},f.onsuccess=U=>{y(U.target.result)}})}}J(e,t){const a=this.store.getAll(e,null===t?void 0:t);return new cn((f,y)=>{a.onerror=M=>{y(M.target.error)},a.onsuccess=M=>{f(M.target.result)}})}Y(e,t){Nn("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,t);a.X=!1;const f=this.cursor(a);return this.H(f,(y,M,U)=>U.delete())}Z(e,t){let a;t?a=e:(a={},t=e);const f=this.cursor(a);return this.H(f,t)}tt(e){const t=this.cursor({});return new cn((a,f)=>{t.onerror=y=>{const M=ho(y.target.error);f(M)},t.onsuccess=y=>{const M=y.target.result;M?e(M.primaryKey,M.value).next(U=>{U?M.continue():a()}):a()}})}H(e,t){const a=[];return new cn((f,y)=>{e.onerror=M=>{y(M.target.error)},e.onsuccess=M=>{const U=M.target.result;if(!U)return void f();const oe=new Sc(U),ve=t(U.primaryKey,U.value,oe);if(ve instanceof cn){const $e=ve.catch(yt=>(oe.done(),cn.reject(yt)));a.push($e)}oe.isDone?f():null===oe.G?U.continue():U.continue(oe.G)}}).next(()=>cn.waitFor(a))}options(e,t){let a;return void 0!==e&&("string"==typeof e?a=e:t=e),{index:a,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const a=this.store.index(e.index);return e.X?a.openKeyCursor(e.range,t):a.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function uo(s){return new cn((e,t)=>{s.onsuccess=a=>{e(a.target.result)},s.onerror=a=>{const f=ho(a.target.error);t(f)}})}let ec=!1;function ho(s){const e=Uo.D((0,Le.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(t)>=0){const a=new In("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ec||(ec=!0,setTimeout(()=>{throw a},0)),a}}return s}class Xs{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Nn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ut.Z)(function*(){t.task=null;try{Nn("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(a){Sa(a)?Nn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",a):yield Xo(a)}yield t.nt(6e4)}))}}class Hl{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ut.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>t.it(a,e))})()}it(e,t){const a=new Set;let f=t,y=!0;return cn.doWhile(()=>!0===y&&f>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(M=>{if(null!==M&&!a.has(M))return Nn("IndexBackiller",`Processing collection: ${M}`),this.rt(e,M,f).next(U=>{f-=U,a.add(M)});y=!1})).next(()=>t-f)}rt(e,t,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(f=>this.localStore.localDocuments.getNextDocuments(e,t,f,a).next(y=>{const M=y.changes;return this.localStore.indexManager.updateIndexEntries(e,M).next(()=>this.ot(f,y)).next(U=>(Nn("IndexBackiller",`Updating offset: ${U}`),this.localStore.indexManager.updateCollectionGroup(e,t,U))).next(()=>M.size)}))}ot(e,t){let a=e;return t.changes.forEach((f,y)=>{const M=Dc(y);Ec(M,a)>0&&(a=M)}),new co(a.readTime,a.documentKey,Math.max(t.batchId,e.largestBatchId))}}class fo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.ut(a),this.ct=a=>t.writeSequenceNumber(a))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Tc(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function po(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function F(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}fo.at=-1;class L{constructor(e,t){this.comparator=e,this.root=t||H.EMPTY}insert(e,t){return new L(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,H.BLACK,null,null))}remove(e){return new L(this.comparator,this.root.remove(e,this.comparator).copy(null,null,H.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(0===a)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const f=this.comparator(e,a.key);if(0===f)return t+a.left.size;f<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new I(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new I(this.root,e,this.comparator,!1)}getReverseIterator(){return new I(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new I(this.root,e,this.comparator,!0)}}class I{constructor(e,t,a,f){this.isReverse=f,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=t?a(e.key,t):1,t&&f&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class H{constructor(e,t,a,f,y){this.key=e,this.value=t,this.color=a??H.RED,this.left=f??H.EMPTY,this.right=y??H.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,f,y){return new H(e??this.key,t??this.value,a??this.color,f??this.left,y??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let f=this;const y=a(e,f.key);return f=y<0?f.copy(null,null,null,f.left.insert(e,t,a),null):0===y?f.copy(null,t,null,null,null):f.copy(null,null,null,null,f.right.insert(e,t,a)),f.fixUp()}removeMin(){if(this.left.isEmpty())return H.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,f=this;if(t(e,f.key)<0)f.left.isEmpty()||f.left.isRed()||f.left.left.isRed()||(f=f.moveRedLeft()),f=f.copy(null,null,null,f.left.remove(e,t),null);else{if(f.left.isRed()&&(f=f.rotateRight()),f.right.isEmpty()||f.right.isRed()||f.right.left.isRed()||(f=f.moveRedRight()),0===t(e,f.key)){if(f.right.isEmpty())return H.EMPTY;a=f.right.min(),f=f.copy(a.key,a.value,null,null,f.right.removeMin())}f=f.copy(null,null,null,null,f.right.remove(e,t))}return f.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,H.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,H.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ii();const e=this.left.check();if(e!==this.right.check())throw ii();return e+(this.isRed()?0:1)}}H.EMPTY=null,H.RED=!0,H.BLACK=!1,H.EMPTY=new class{constructor(){this.size=0}get key(){throw ii()}get value(){throw ii()}get color(){throw ii()}get left(){throw ii()}get right(){throw ii()}copy(s,e,t,a,f){return this}insert(s,e,t){return new H(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ee{constructor(e){this.comparator=e,this.data=new L(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const f=a.getNext();if(this.comparator(f.key,e[1])>=0)return;t(f.key)}}forEachWhile(e,t){let a;for(a=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Re(this.data.getIterator())}getIteratorFrom(e){return new Re(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof ee)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const f=t.getNext().key,y=a.getNext().key;if(0!==this.comparator(f,y))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ee(this.comparator);return t.data=e,t}}class Re{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function nt(s){return s.hasNext()?s.getNext():void 0}class dt{constructor(e){this.fields=e,e.sort(vr.comparator)}static empty(){return new dt([])}unionWith(e){let t=new ee(vr.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new dt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qo(this.fields,e.fields,(t,a)=>t.isEqual(a))}}class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new kn(t)}static fromUint8Array(e){const t=function(a){let f="";for(let y=0;y<a.length;++y)f+=String.fromCharCode(a[y]);return f}(e);return new kn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let a=0;a<e.length;a++)t[a]=e.charCodeAt(a);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ti(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const li=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wn(s){if(wi(!!s),"string"==typeof s){let e=0;const t=li.exec(s);if(wi(!!t),t[1]){let f=t[1];f=(f+"000000000").substr(0,9),e=Number(f)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:di(s.seconds),nanos:di(s.nanos)}}function di(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function ji(s){return"string"==typeof s?kn.fromBase64String(s):kn.fromUint8Array(s)}function Sr(s){var e,t;return"server_timestamp"===(null===(t=((null===(e=s?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function So(s){const e=s.mapValue.fields.__previous_value__;return Sr(e)?So(e):e}function Ur(s){const e=Wn(s.mapValue.fields.__local_write_time__.timestampValue);return new Ar(e.seconds,e.nanos)}class Or{constructor(e,t,a,f,y,M,U,oe){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=f,this.ssl=y,this.forceLongPolling=M,this.autoDetectLongPolling=U,this.useFetchStreams=oe}}class Ls{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ls("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ls&&e.projectId===this.projectId&&e.database===this.database}}function La(s){return null==s}function Qr(s){return 0===s&&1/s==-1/0}function tc(s){return"number"==typeof s&&Number.isInteger(s)&&!Qr(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const jl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Z={nullValue:"NULL_VALUE"};function se(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Sr(s)?4:rl(s)?9007199254740991:10:ii()}function Me(s,e){if(s===e)return!0;const t=se(s);if(t!==se(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Ur(s).isEqual(Ur(e));case 3:return function(a,f){if("string"==typeof a.timestampValue&&"string"==typeof f.timestampValue&&a.timestampValue.length===f.timestampValue.length)return a.timestampValue===f.timestampValue;const y=Wn(a.timestampValue),M=Wn(f.timestampValue);return y.seconds===M.seconds&&y.nanos===M.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return f=e,ji(s.bytesValue).isEqual(ji(f.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(a,f){return di(a.geoPointValue.latitude)===di(f.geoPointValue.latitude)&&di(a.geoPointValue.longitude)===di(f.geoPointValue.longitude)}(s,e);case 2:return function(a,f){if("integerValue"in a&&"integerValue"in f)return di(a.integerValue)===di(f.integerValue);if("doubleValue"in a&&"doubleValue"in f){const y=di(a.doubleValue),M=di(f.doubleValue);return y===M?Qr(y)===Qr(M):isNaN(y)&&isNaN(M)}return!1}(s,e);case 9:return qo(s.arrayValue.values||[],e.arrayValue.values||[],Me);case 10:return function(a,f){const y=a.mapValue.fields||{},M=f.mapValue.fields||{};if(Tc(y)!==Tc(M))return!1;for(const U in y)if(y.hasOwnProperty(U)&&(void 0===M[U]||!Me(y[U],M[U])))return!1;return!0}(s,e);default:return ii()}var f}function at(s,e){return void 0!==(s.values||[]).find(t=>Me(t,e))}function Ft(s,e){if(s===e)return 0;const t=se(s),a=se(e);if(t!==a)return Ti(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ti(s.booleanValue,e.booleanValue);case 2:return function(f,y){const M=di(f.integerValue||f.doubleValue),U=di(y.integerValue||y.doubleValue);return M<U?-1:M>U?1:M===U?0:isNaN(M)?isNaN(U)?0:-1:1}(s,e);case 3:return on(s.timestampValue,e.timestampValue);case 4:return on(Ur(s),Ur(e));case 5:return Ti(s.stringValue,e.stringValue);case 6:return function(f,y){const M=ji(f),U=ji(y);return M.compareTo(U)}(s.bytesValue,e.bytesValue);case 7:return function(f,y){const M=f.split("/"),U=y.split("/");for(let oe=0;oe<M.length&&oe<U.length;oe++){const ve=Ti(M[oe],U[oe]);if(0!==ve)return ve}return Ti(M.length,U.length)}(s.referenceValue,e.referenceValue);case 8:return function(f,y){const M=Ti(di(f.latitude),di(y.latitude));return 0!==M?M:Ti(di(f.longitude),di(y.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(f,y){const M=f.values||[],U=y.values||[];for(let oe=0;oe<M.length&&oe<U.length;++oe){const ve=Ft(M[oe],U[oe]);if(ve)return ve}return Ti(M.length,U.length)}(s.arrayValue,e.arrayValue);case 10:return function(f,y){if(f===jl.mapValue&&y===jl.mapValue)return 0;if(f===jl.mapValue)return 1;if(y===jl.mapValue)return-1;const M=f.fields||{},U=Object.keys(M),oe=y.fields||{},ve=Object.keys(oe);U.sort(),ve.sort();for(let $e=0;$e<U.length&&$e<ve.length;++$e){const yt=Ti(U[$e],ve[$e]);if(0!==yt)return yt;const Zt=Ft(M[U[$e]],oe[ve[$e]]);if(0!==Zt)return Zt}return Ti(U.length,ve.length)}(s.mapValue,e.mapValue);default:throw ii()}}function on(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return Ti(s,e);const t=Wn(s),a=Wn(e),f=Ti(t.seconds,a.seconds);return 0!==f?f:Ti(t.nanos,a.nanos)}function xn(s){return $n(s)}function $n(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(a){const f=Wn(a);return`time(${f.seconds},${f.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?ji(s.bytesValue).toBase64():"referenceValue"in s?zn.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(e=s.geoPointValue).latitude},${e.longitude})`:"arrayValue"in s?function(a){let f="[",y=!0;for(const M of a.values||[])y?y=!1:f+=",",f+=$n(M);return f+"]"}(s.arrayValue):"mapValue"in s?function(a){const f=Object.keys(a.fields||{}).sort();let y="{",M=!0;for(const U of f)M?M=!1:y+=",",y+=`${U}:${$n(a.fields[U])}`;return y+"}"}(s.mapValue):ii();var e}function _i(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Fi(s){return!!s&&"integerValue"in s}function Li(s){return!!s&&"arrayValue"in s}function Ci(s){return!!s&&"nullValue"in s}function Cs(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Bs(s){return!!s&&"mapValue"in s}function _a(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return po(s.mapValue.fields,(t,a)=>e.mapValue.fields[t]=_a(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_a(s.arrayValue.values[t]);return e}return Object.assign({},s)}function rl(s){return"__max__"===(((s.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ba(s){return"nullValue"in s?Z:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?_i(Ls.empty(),zn.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?{mapValue:{}}:ii()}function nc(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?_i(Ls.empty(),zn.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?{mapValue:{}}:"mapValue"in s?jl:ii()}function Ta(s,e){const t=Ft(s.value,e.value);return 0!==t?t:s.inclusive&&!e.inclusive?-1:!s.inclusive&&e.inclusive?1:0}function _l(s,e){const t=Ft(s.value,e.value);return 0!==t?t:s.inclusive&&!e.inclusive?1:!s.inclusive&&e.inclusive?-1:0}class Xr{constructor(e){this.value=e}static empty(){return new Xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!Bs(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_a(t)}setAll(e){let t=vr.emptyPath(),a={},f=[];e.forEach((M,U)=>{if(!t.isImmediateParentOf(U)){const oe=this.getFieldsMap(t);this.applyChanges(oe,a,f),a={},f=[],t=U.popLast()}M?a[U.lastSegment()]=_a(M):f.push(U.lastSegment())});const y=this.getFieldsMap(t);this.applyChanges(y,a,f)}delete(e){const t=this.field(e.popLast());Bs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Me(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let f=t.mapValue.fields[e.get(a)];Bs(f)&&f.mapValue.fields||(f={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=f),t=f}return t.mapValue.fields}applyChanges(e,t,a){po(t,(f,y)=>e[f]=y);for(const f of a)delete e[f]}clone(){return new Xr(_a(this.value))}}function Va(s){const e=[];return po(s.fields,(t,a)=>{const f=new vr([t]);if(Bs(a)){const y=Va(a.mapValue).fields;if(0===y.length)e.push(f);else for(const M of y)e.push(f.child(M))}else e.push(f)}),new dt(e)}class yr{constructor(e,t,a,f,y,M){this.key=e,this.documentType=t,this.version=a,this.readTime=f,this.data=y,this.documentState=M}static newInvalidDocument(e){return new yr(e,0,bi.min(),bi.min(),Xr.empty(),0)}static newFoundDocument(e,t,a){return new yr(e,1,t,bi.min(),a,0)}static newNoDocument(e,t){return new yr(e,2,t,bi.min(),Xr.empty(),0)}static newUnknownDocument(e,t){return new yr(e,3,t,bi.min(),Xr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bi.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mc{constructor(e,t=null,a=[],f=[],y=null,M=null,U=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=f,this.limit=y,this.startAt=M,this.endAt=U,this.ht=null}}function sf(s,e=null,t=[],a=[],f=null,y=null,M=null){return new Mc(s,e,t,a,f,y,M)}function au(s){const e=Zn(s);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>{return(f=a).field.canonicalString()+f.op.toString()+xn(f.value);var f}).join(","),t+="|ob:",t+=e.orderBy.map(a=>{return(f=a).field.canonicalString()+f.dir;var f}).join(","),La(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>xn(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>xn(a)).join(",")),e.ht=t}return e.ht}function ic(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let f=0;f<s.orderBy.length;f++)if(!mh(s.orderBy[f],e.orderBy[f]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let f=0;f<s.filters.length;f++)if((t=s.filters[f]).op!==(a=e.filters[f]).op||!t.field.isEqual(a.field)||!Me(t.value,a.value))return!1;var t,a;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!gh(s.startAt,e.startAt)&&gh(s.endAt,e.endAt)}function Lu(s){return zn.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}function Bu(s,e){return s.filters.filter(t=>t instanceof Js&&t.field.isEqual(e))}function Md(s,e,t){let a=Z,f=!0;for(const y of Bu(s,e)){let M=Z,U=!0;switch(y.op){case"<":case"<=":M=Ba(y.value);break;case"==":case"in":case">=":M=y.value;break;case">":M=y.value,U=!1;break;case"!=":case"not-in":M=Z}Ta({value:a,inclusive:f},{value:M,inclusive:U})<0&&(a=M,f=U)}if(null!==t)for(let y=0;y<s.orderBy.length;++y)if(s.orderBy[y].field.isEqual(e)){const M=t.position[y];Ta({value:a,inclusive:f},{value:M,inclusive:t.inclusive})<0&&(a=M,f=t.inclusive);break}return{value:a,inclusive:f}}function af(s,e,t){let a=jl,f=!0;for(const y of Bu(s,e)){let M=jl,U=!0;switch(y.op){case">=":case">":M=nc(y.value),U=!1;break;case"==":case"in":case"<=":M=y.value;break;case"<":M=y.value,U=!1;break;case"!=":case"not-in":M=jl}_l({value:a,inclusive:f},{value:M,inclusive:U})>0&&(a=M,f=U)}if(null!==t)for(let y=0;y<s.orderBy.length;++y)if(s.orderBy[y].field.isEqual(e)){const M=t.position[y];_l({value:a,inclusive:f},{value:M,inclusive:t.inclusive})>0&&(a=M,f=t.inclusive);break}return{value:a,inclusive:f}}class Js extends class{}{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,a):new ph(e,t,a):"array-contains"===t?new hp(e,a):"in"===t?new fp(e,a):"not-in"===t?new Id(e,a):"array-contains-any"===t?new cf(e,a):new Js(e,t,a)}static lt(e,t,a){return"in"===t?new bg(e,a):new dp(e,a)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Ft(t,this.value)):null!==t&&se(this.value)===se(t)&&this.ft(Ft(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ii()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class ph extends Js{constructor(e,t,a){super(e,t,a),this.key=zn.fromName(a.referenceValue)}matches(e){const t=zn.comparator(e.key,this.key);return this.ft(t)}}class bg extends Js{constructor(e,t){super(e,"in",t),this.keys=lf(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class dp extends Js{constructor(e,t){super(e,"not-in",t),this.keys=lf(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function lf(s,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(a=>zn.fromName(a.referenceValue))}class hp extends Js{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Li(t)&&at(t.arrayValue,this.value)}}class fp extends Js{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&at(this.value.arrayValue,t)}}class Id extends Js{constructor(e,t){super(e,"not-in",t)}matches(e){if(at(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!at(this.value.arrayValue,t)}}class cf extends Js{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Li(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>at(this.value.arrayValue,a))}}class sl{constructor(e,t){this.position=e,this.inclusive=t}}class hs{constructor(e,t="asc"){this.field=e,this.dir=t}}function mh(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}function Ic(s,e,t){let a=0;for(let f=0;f<s.position.length;f++){const y=e[f],M=s.position[f];if(a=y.field.isKeyField()?zn.comparator(zn.fromName(M.referenceValue),t.key):Ft(M,t.data.field(y.field)),"desc"===y.dir&&(a*=-1),0!==a)break}return a}function gh(s,e){if(null===s)return null===e;if(null===e||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!Me(s.position[t],e.position[t]))return!1;return!0}class rc{constructor(e,t=null,a=[],f=[],y=null,M="F",U=null,oe=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=f,this.limit=y,this.limitType=M,this.startAt=U,this.endAt=oe,this._t=null,this.wt=null}}function hm(s,e,t,a,f,y,M,U){return new rc(s,e,t,a,f,y,M,U)}function vl(s){return new rc(s)}function lu(s){return 0===s.filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())}function xc(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function xd(s){for(const e of s.filters)if(e.dt())return e.field;return null}function Ad(s){return null!==s.collectionGroup}function Vs(s){const e=Zn(s);if(null===e._t){e._t=[];const t=xd(e),a=xc(e);if(null!==t&&null===a)t.isKeyField()||e._t.push(new hs(t)),e._t.push(new hs(vr.keyField(),"asc"));else{let f=!1;for(const y of e.explicitOrderBy)e._t.push(y),y.field.isKeyField()&&(f=!0);if(!f){const y=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new hs(vr.keyField(),y))}}}return e._t}function Jo(s){const e=Zn(s);if(!e.wt)if("F"===e.limitType)e.wt=sf(e.path,e.collectionGroup,Vs(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const y of Vs(e))t.push(new hs(y.field,"desc"===y.dir?"asc":"desc"));const a=e.endAt?new sl(e.endAt.position,e.endAt.inclusive):null,f=e.startAt?new sl(e.startAt.position,e.startAt.inclusive):null;e.wt=sf(e.path,e.collectionGroup,t,e.filters,e.limit,a,f)}return e.wt}function kd(s,e,t){return new rc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function Vu(s,e){return ic(Jo(s),Jo(e))&&s.limitType===e.limitType}function uf(s){return`${au(Jo(s))}|lt:${s.limitType}`}function cu(s){return`Query(target=${function fh(s){let e=s.path.canonicalString();return null!==s.collectionGroup&&(e+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(e+=`, filters: [${s.filters.map(t=>{return`${(a=t).field.canonicalString()} ${a.op} ${xn(a.value)}`;var a}).join(", ")}]`),La(s.limit)||(e+=", limit: "+s.limit),s.orderBy.length>0&&(e+=`, orderBy: [${s.orderBy.map(t=>{return`${(a=t).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),s.startAt&&(e+=", startAt: ",e+=s.startAt.inclusive?"b:":"a:",e+=s.startAt.position.map(t=>xn(t)).join(",")),s.endAt&&(e+=", endAt: ",e+=s.endAt.inclusive?"a:":"b:",e+=s.endAt.position.map(t=>xn(t)).join(",")),`Target(${e})`}(Jo(s))}; limitType=${s.limitType})`}function yl(s,e){return e.isFoundDocument()&&function(t,a){const f=a.key.path;return null!==t.collectionGroup?a.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(f):zn.isDocumentKey(t.path)?t.path.isEqual(f):t.path.isImmediateParentOf(f)}(s,e)&&function(t,a){for(const f of t.explicitOrderBy)if(!f.field.isKeyField()&&null===a.data.field(f.field))return!1;return!0}(s,e)&&function(t,a){for(const f of t.filters)if(!f.matches(a))return!1;return!0}(s,e)&&(a=e,!((t=s).startAt&&!function(f,y,M){const U=Ic(f,y,M);return f.inclusive?U<=0:U<0}(t.startAt,Vs(t),a)||t.endAt&&!function(f,y,M){const U=Ic(f,y,M);return f.inclusive?U>=0:U>0}(t.endAt,Vs(t),a)));var t,a}function uu(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function _h(s){return(e,t)=>{let a=!1;for(const f of Vs(s)){const y=df(f,e,t);if(0!==y)return y;a=a||f.field.isKeyField()}return 0}}function df(s,e,t){const a=s.field.isKeyField()?zn.comparator(e.key,t.key):function(f,y,M){const U=y.data.field(f),oe=M.data.field(f);return null!==U&&null!==oe?Ft(U,oe):ii()}(s.field,e,t);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ii()}}function hf(s,e){if(s.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qr(e)?"-0":e}}function vh(s){return{integerValue:""+s}}function Uu(s,e){return tc(e)?vh(e):hf(s,e)}class Hu{constructor(){this._=void 0}}function ju(s,e,t){return s instanceof sc?function(a,f){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return f&&(y.fields.__previous_value__=f),{mapValue:y}}(t,e):s instanceof $u?Rd(s,e):s instanceof ea?$l(s,e):function(a,f){const y=pf(a,f),M=Od(y)+Od(a.yt);return Fi(y)&&Fi(a.yt)?vh(M):hf(a.It,M)}(s,e)}function ff(s,e,t){return s instanceof $u?Rd(s,e):s instanceof ea?$l(s,e):t}function pf(s,e){return s instanceof ol?Fi(t=e)||(a=t)&&"doubleValue"in a?e:{integerValue:0}:null;var a,t}class sc extends Hu{}class $u extends Hu{constructor(e){super(),this.elements=e}}function Rd(s,e){const t=du(e);for(const a of s.elements)t.some(f=>Me(f,a))||t.push(a);return{arrayValue:{values:t}}}class ea extends Hu{constructor(e){super(),this.elements=e}}function $l(s,e){let t=du(e);for(const a of s.elements)t=t.filter(f=>!Me(f,a));return{arrayValue:{values:t}}}class ol extends Hu{constructor(e,t){super(),this.It=e,this.yt=t}}function Od(s){return di(s.integerValue||s.doubleValue)}function du(s){return Li(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class hu{constructor(e,t){this.field=e,this.transform=t}}class pp{constructor(e,t){this.version=e,this.transformResults=t}}class ns{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ns}static exists(e){return new ns(void 0,e)}static updateTime(e){return new ns(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fu(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class al{}function Ua(s,e){if(!s.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return s.isNoDocument()?new Rc(s.key,ns.none()):new Ac(s.key,s.data,ns.none());{const t=s.data,a=Xr.empty();let f=new ee(vr.comparator);for(let y of e.fields)if(!f.has(y)){let M=t.field(y);null===M&&y.length>1&&(y=y.popLast(),M=t.field(y)),null===M?a.delete(y):a.set(y,M),f=f.add(y)}return new va(s.key,a,new dt(f.toArray()),ns.none())}}function mf(s,e,t){s instanceof Ac?function(a,f,y){const M=a.value.clone(),U=Nd(a.fieldTransforms,f,y.transformResults);M.setAll(U),f.convertToFoundDocument(y.version,M).setHasCommittedMutations()}(s,e,t):s instanceof va?function(a,f,y){if(!fu(a.precondition,f))return void f.convertToUnknownDocument(y.version);const M=Nd(a.fieldTransforms,f,y.transformResults),U=f.data;U.setAll(Gu(a)),U.setAll(M),f.convertToFoundDocument(y.version,U).setHasCommittedMutations()}(s,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function pu(s,e,t,a){return s instanceof Ac?function(f,y,M,U){if(!fu(f.precondition,y))return M;const oe=f.value.clone(),ve=kc(f.fieldTransforms,U,y);return oe.setAll(ve),y.convertToFoundDocument(y.version,oe).setHasLocalMutations(),null}(s,e,t,a):s instanceof va?function(f,y,M,U){if(!fu(f.precondition,y))return M;const oe=kc(f.fieldTransforms,U,y),ve=y.data;return ve.setAll(Gu(f)),ve.setAll(oe),y.convertToFoundDocument(y.version,ve).setHasLocalMutations(),null===M?null:M.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map($e=>$e.field))}(s,e,t,a):(M=t,fu(s.precondition,y=e)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):M);var y,M}function Pd(s,e){let t=null;for(const a of s.fieldTransforms){const f=e.data.field(a.field),y=pf(a.transform,f||null);null!=y&&(null===t&&(t=Xr.empty()),t.set(a.field,y))}return t||null}function gf(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(t=s.fieldTransforms)&&void 0===a||t&&a&&qo(t,a,(f,y)=>function Cg(s,e){return s.field.isEqual(e.field)&&(a=e.transform,(t=s.transform)instanceof $u&&a instanceof $u||t instanceof ea&&a instanceof ea?qo(t.elements,a.elements,Me):t instanceof ol&&a instanceof ol?Me(t.yt,a.yt):t instanceof sc&&a instanceof sc);var t,a}(f,y))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var t,a}class Ac extends al{constructor(e,t,a,f=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=f,this.type=0}getFieldMask(){return null}}class va extends al{constructor(e,t,a,f,y=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=f,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function Gu(s){const e=new Map;return s.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=s.data.field(t);e.set(t,a)}}),e}function Nd(s,e,t){const a=new Map;wi(s.length===t.length);for(let f=0;f<t.length;f++){const y=s[f],M=y.transform,U=e.data.field(y.field);a.set(y.field,ff(M,U,t[f]))}return a}function kc(s,e,t){const a=new Map;for(const f of s){const y=f.transform,M=t.data.field(f.field);a.set(f.field,ju(y,M,e))}return a}class Rc extends al{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ws extends al{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class R{constructor(e){this.count=e}}var b,E;function B(s){switch(s){default:return ii();case un.CANCELLED:case un.UNKNOWN:case un.DEADLINE_EXCEEDED:case un.RESOURCE_EXHAUSTED:case un.INTERNAL:case un.UNAVAILABLE:case un.UNAUTHENTICATED:return!1;case un.INVALID_ARGUMENT:case un.NOT_FOUND:case un.ALREADY_EXISTS:case un.PERMISSION_DENIED:case un.FAILED_PRECONDITION:case un.ABORTED:case un.OUT_OF_RANGE:case un.UNIMPLEMENTED:case un.DATA_LOSS:return!0}}function pe(s){if(void 0===s)return Qi("GRPC error has no .code"),un.UNKNOWN;switch(s){case b.OK:return un.OK;case b.CANCELLED:return un.CANCELLED;case b.UNKNOWN:return un.UNKNOWN;case b.DEADLINE_EXCEEDED:return un.DEADLINE_EXCEEDED;case b.RESOURCE_EXHAUSTED:return un.RESOURCE_EXHAUSTED;case b.INTERNAL:return un.INTERNAL;case b.UNAVAILABLE:return un.UNAVAILABLE;case b.UNAUTHENTICATED:return un.UNAUTHENTICATED;case b.INVALID_ARGUMENT:return un.INVALID_ARGUMENT;case b.NOT_FOUND:return un.NOT_FOUND;case b.ALREADY_EXISTS:return un.ALREADY_EXISTS;case b.PERMISSION_DENIED:return un.PERMISSION_DENIED;case b.FAILED_PRECONDITION:return un.FAILED_PRECONDITION;case b.ABORTED:return un.ABORTED;case b.OUT_OF_RANGE:return un.OUT_OF_RANGE;case b.UNIMPLEMENTED:return un.UNIMPLEMENTED;case b.DATA_LOSS:return un.DATA_LOSS;default:return ii()}}(E=b||(b={}))[E.OK=0]="OK",E[E.CANCELLED=1]="CANCELLED",E[E.UNKNOWN=2]="UNKNOWN",E[E.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",E[E.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",E[E.NOT_FOUND=5]="NOT_FOUND",E[E.ALREADY_EXISTS=6]="ALREADY_EXISTS",E[E.PERMISSION_DENIED=7]="PERMISSION_DENIED",E[E.UNAUTHENTICATED=16]="UNAUTHENTICATED",E[E.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",E[E.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",E[E.ABORTED=10]="ABORTED",E[E.OUT_OF_RANGE=11]="OUT_OF_RANGE",E[E.UNIMPLEMENTED=12]="UNIMPLEMENTED",E[E.INTERNAL=13]="INTERNAL",E[E.UNAVAILABLE=14]="UNAVAILABLE",E[E.DATA_LOSS=15]="DATA_LOSS";class Ee{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0!==a)for(const[f,y]of a)if(this.equalsFn(f,e))return y}has(e){return void 0!==this.get(e)}set(e,t){const a=this.mapKeyFn(e),f=this.inner[a];if(void 0===f)return this.inner[a]=[[e,t]],void this.innerSize++;for(let y=0;y<f.length;y++)if(this.equalsFn(f[y][0],e))return void(f[y]=[e,t]);f.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0===a)return!1;for(let f=0;f<a.length;f++)if(this.equalsFn(a[f][0],e))return 1===a.length?delete this.inner[t]:a.splice(f,1),this.innerSize--,!0;return!1}forEach(e){po(this.inner,(t,a)=>{for(const[f,y]of a)e(f,y)})}isEmpty(){return F(this.inner)}size(){return this.innerSize}}const At=new L(zn.comparator);function an(){return At}const Qn=new L(zn.comparator);function Un(...s){let e=Qn;for(const t of s)e=e.insert(t.key,t);return e}function Si(s){let e=Qn;return s.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function mi(){return ms()}function br(){return ms()}function ms(){return new Ee(s=>s.toString(),(s,e)=>s.isEqual(e))}const mo=new L(zn.comparator),Us=new ee(zn.comparator);function Bi(...s){let e=Us;for(const t of s)e=e.add(t);return e}const mu=new ee(Ti);function gu(){return mu}class To{constructor(e,t,a,f,y){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=f,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const f=new Map;return f.set(e,ta.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new To(bi.min(),f,gu(),an(),Bi())}}class ta{constructor(e,t,a,f,y){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=f,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new ta(a,t,Bi(),Bi(),Bi())}}class bl{constructor(e,t,a,f){this.Tt=e,this.removedTargetIds=t,this.key=a,this.Et=f}}class zu{constructor(e,t){this.targetId=e,this.At=t}}class Oc{constructor(e,t,a=kn.EMPTY_BYTE_STRING,f=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=f}}class Fd{constructor(){this.Rt=0,this.bt=yh(),this.Pt=kn.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Bi(),t=Bi(),a=Bi();return this.bt.forEach((f,y)=>{switch(y){case 0:e=e.add(f);break;case 2:t=t.add(f);break;case 1:a=a.add(f);break;default:ii()}}),new ta(this.Pt,this.vt,e,t,a)}Nt(){this.Vt=!1,this.bt=yh()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class ll{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=an(),this.qt=qs(),this.Kt=new ee(Ti)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const a=this.zt(t);switch(e.state){case 0:this.Ht(t)&&a.Ct(e.resumeToken);break;case 1:a.Ft(),a.St||a.Nt(),a.Ct(e.resumeToken);break;case 2:a.Ft(),a.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(a.$t(),a.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),a.Ct(e.resumeToken));break;default:ii()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((a,f)=>{this.Ht(f)&&t(f)})}Yt(e){const t=e.targetId,a=e.At.count,f=this.Xt(t);if(f){const y=f.target;if(Lu(y))if(0===a){const M=new zn(y.path);this.jt(t,M,yr.newNoDocument(M,bi.min()))}else wi(1===a);else this.Zt(t)!==a&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((y,M)=>{const U=this.Xt(M);if(U){if(y.current&&Lu(U.target)){const oe=new zn(U.target.path);null!==this.Ut.get(oe)||this.ee(M,oe)||this.jt(M,oe,yr.newNoDocument(oe,e))}y.Dt&&(t.set(M,y.xt()),y.Nt())}});let a=Bi();this.qt.forEach((y,M)=>{let U=!0;M.forEachWhile(oe=>{const ve=this.Xt(oe);return!ve||2===ve.purpose||(U=!1,!1)}),U&&(a=a.add(y))}),this.Ut.forEach((y,M)=>M.setReadTime(e));const f=new To(e,t,this.Kt,this.Ut,a);return this.Ut=an(),this.qt=qs(),this.Kt=new ee(Ti),f}Qt(e,t){if(!this.Ht(e))return;const a=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,a),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,a){if(!this.Ht(e))return;const f=this.zt(e);this.ee(e,t)?f.kt(t,1):f.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),a&&(this.Ut=this.Ut.insert(t,a))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new Fd,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new ee(Ti),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Nn("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Fd),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function qs(){return new L(zn.comparator)}function yh(){return new L(zn.comparator)}const _f={asc:"ASCENDING",desc:"DESCENDING"},mp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class gp{constructor(e,t){this.databaseId=e,this.gt=t}}function _u(s,e){return s.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pc(s,e){return s.gt?e.toBase64():e.toUint8Array()}function vf(s,e){return _u(s,e.toTimestamp())}function Hs(s){return wi(!!s),bi.fromTimestamp(function(e){const t=Wn(e);return new Ar(t.seconds,t.nanos)}(s))}function Ma(s,e){return(t=s,new yi(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function _p(s){const e=yi.fromString(s);return wi(wp(e)),e}function Nc(s,e){return Ma(s.databaseId,e.path)}function Ha(s,e){const t=_p(e);if(t.get(1)!==s.databaseId.projectId)throw new In(un.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new In(un.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new zn(pm(t))}function fm(s,e){return Ma(s.databaseId,e)}function bh(s){const e=_p(s);return 4===e.length?yi.emptyPath():pm(e)}function vu(s){return new yi(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function pm(s){return wi(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function yf(s,e,t){return{name:Nc(s,e),fields:t.value.mapValue.fields}}function mm(s,e,t){const a=Ha(s,e.name),f=Hs(e.updateTime),y=new Xr({mapValue:{fields:e.fields}}),M=yr.newFoundDocument(a,f,y);return t&&M.setHasCommittedMutations(),t?M.setHasCommittedMutations():M}function yu(s,e){let t;if(e instanceof Ac)t={update:yf(s,e.key,e.value)};else if(e instanceof Rc)t={delete:Nc(s,e.key)};else if(e instanceof va)t={update:yf(s,e.key,e.data),updateMask:Cp(e.fieldMask)};else{if(!(e instanceof ws))return ii();t={verify:Nc(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(f,y){const M=y.transform;if(M instanceof sc)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(M instanceof $u)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:M.elements}};if(M instanceof ea)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:M.elements}};if(M instanceof ol)return{fieldPath:y.field.canonicalString(),increment:M.yt};throw ii()}(0,a))),e.precondition.isNone||(t.currentDocument=void 0!==(f=e.precondition).updateTime?{updateTime:vf(s,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:ii()),t;var f}function bf(s,e){const t=e.currentDocument?void 0!==(f=e.currentDocument).updateTime?ns.updateTime(Hs(f.updateTime)):void 0!==f.exists?ns.exists(f.exists):ns.none():ns.none(),a=e.updateTransforms?e.updateTransforms.map(f=>function(y,M){let U=null;"setToServerValue"in M?(wi("REQUEST_TIME"===M.setToServerValue),U=new sc):"appendMissingElements"in M?U=new $u(M.appendMissingElements.values||[]):"removeAllFromArray"in M?U=new ea(M.removeAllFromArray.values||[]):"increment"in M?U=new ol(y,M.increment):ii();const oe=vr.fromServerFormat(M.fieldPath);return new hu(oe,U)}(s,f)):[];var f;if(e.update){const f=Ha(s,e.update.name),y=new Xr({mapValue:{fields:e.update.fields}});if(e.updateMask){const M=new dt((e.updateMask.fieldPaths||[]).map(ve=>vr.fromServerFormat(ve)));return new va(f,y,M,t,a)}return new Ac(f,y,t,a)}if(e.delete){const f=Ha(s,e.delete);return new Rc(f,t)}if(e.verify){const f=Ha(s,e.verify);return new ws(f,t)}return ii()}function Ld(s,e){return{documents:[fm(s,e.path)]}}function yp(s,e){const t={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(t.parent=fm(s,a),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=fm(s,a.popLast()),t.structuredQuery.from=[{collectionId:a.lastSegment()}]);const f=function(oe){if(0===oe.length)return;const ve=oe.map($e=>function(yt){if("=="===yt.op){if(Cs(yt.value))return{unaryFilter:{field:Wu(yt.field),op:"IS_NAN"}};if(Ci(yt.value))return{unaryFilter:{field:Wu(yt.field),op:"IS_NULL"}}}else if("!="===yt.op){if(Cs(yt.value))return{unaryFilter:{field:Wu(yt.field),op:"IS_NOT_NAN"}};if(Ci(yt.value))return{unaryFilter:{field:Wu(yt.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wu(yt.field),op:bp(yt.op),value:yt.value}}}($e));return 1===ve.length?ve[0]:{compositeFilter:{op:"AND",filters:ve}}}(e.filters);f&&(t.structuredQuery.where=f);const y=function(oe){if(0!==oe.length)return oe.map(ve=>{return{field:Wu(($e=ve).field),direction:Ov($e.dir)};var $e})}(e.orderBy);y&&(t.structuredQuery.orderBy=y);const M=(ve=e.limit,s.gt||La(ve)?ve:{value:ve});var ve,U,oe;return null!==M&&(t.structuredQuery.limit=M),e.startAt&&(t.structuredQuery.startAt={before:(U=e.startAt).inclusive,values:U.position}),e.endAt&&(t.structuredQuery.endAt={before:!(oe=e.endAt).inclusive,values:oe.position}),t}function Fc(s){let e=bh(s.parent);const t=s.structuredQuery,a=t.from?t.from.length:0;let f=null;if(a>0){wi(1===a);const $e=t.from[0];$e.allDescendants?f=$e.collectionId:e=e.child($e.collectionId)}let y=[];t.where&&(y=vm(t.where));let M=[];t.orderBy&&(M=t.orderBy.map($e=>{return new hs(Yu((yt=$e).field),function(Zt){switch(Zt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(yt.direction));var yt}));let U=null;t.limit&&(U=function($e){let yt;return yt="object"==typeof $e?$e.value:$e,La(yt)?null:yt}(t.limit));let oe=null;var $e;t.startAt&&(oe=new sl(($e=t.startAt).values||[],!!$e.before));let ve=null;return t.endAt&&(ve=function($e){return new sl($e.values||[],!$e.before)}(t.endAt)),hm(e,f,M,y,U,"F",oe,ve)}function vm(s){return s?void 0!==s.unaryFilter?[wg(s)]:void 0!==s.fieldFilter?[ym(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(e=>vm(e)).reduce((e,t)=>e.concat(t)):ii():[]}function Ov(s){return _f[s]}function bp(s){return mp[s]}function Wu(s){return{fieldPath:s.canonicalString()}}function Yu(s){return vr.fromServerFormat(s.fieldPath)}function ym(s){return Js.create(Yu(s.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ii()}}(s.fieldFilter.op),s.fieldFilter.value)}function wg(s){switch(s.unaryFilter.op){case"IS_NAN":const e=Yu(s.unaryFilter.field);return Js.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Yu(s.unaryFilter.field);return Js.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Yu(s.unaryFilter.field);return Js.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Yu(s.unaryFilter.field);return Js.create(f,"!=",{nullValue:"NULL_VALUE"});default:return ii()}}function Cp(s){const e=[];return s.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function wp(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function ja(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=wh(e)),e=O_(s.get(t),e);return wh(e)}function O_(s,e){let t=e;const a=s.length;for(let f=0;f<a;f++){const y=s.charAt(f);switch(y){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=y}}return t}function wh(s){return s+"\x01\x01"}function Lc(s){const e=s.length;if(wi(e>=2),2===e)return wi("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),yi.emptyPath();const t=e-2,a=[];let f="";for(let y=0;y<e;){const M=s.indexOf("\x01",y);switch((M<0||M>t)&&ii(),s.charAt(M+1)){case"\x01":const U=s.substring(y,M);let oe;0===f.length?oe=U:(f+=U,oe=f,f=""),a.push(oe);break;case"\x10":f+=s.substring(y,M),f+="\0";break;case"\x11":f+=s.substring(y,M+1);break;default:ii()}y=M+2}return new yi(a)}const Dg=["userId","batchId"];function Dh(s,e){return[s,ja(e)]}function P_(s,e,t){return[s,ja(e),t]}const Pv={},N_=["prefixPath","collectionGroup","readTime","documentId"],F_=["prefixPath","collectionGroup","documentId"],Eg=["collectionGroup","readTime","prefixPath","documentId"],Sg=["canonicalId","targetId"],bm=["targetId","path"],Cm=["path","targetId"],Tg=["collectionId","parent"],bu=["indexId","uid"],Dp=["uid","sequenceNumber"],Eh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],L_=["indexId","uid","orderedDocumentKey"],Bd=["userId","collectionPath","documentId"],oc=["userId","collectionPath","largestBatchId"],wm=["userId","collectionGroup","largestBatchId"],Mg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],B_=[...Mg,"documentOverlays"],Dm=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Cf=Dm,Ep=[...Cf,"indexConfiguration","indexState","indexEntries"];class wf extends Jl{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function na(s,e){const t=Zn(s);return Uo.M(t.ie,e)}class Sh{constructor(e,t,a,f){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=f}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let f=0;f<this.mutations.length;f++){const y=this.mutations[f];y.key.isEqual(e.key)&&mf(y,e,a[f])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=pu(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=pu(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=br();return this.mutations.forEach(f=>{const y=e.get(f.key),M=y.overlayedDocument;let U=this.applyToLocalView(M,y.mutatedFields);U=t.has(f.key)?null:U;const oe=Ua(M,U);null!==oe&&a.set(f.key,oe),M.isValidDocument()||M.convertToNoDocument(bi.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Bi())}isEqual(e){return this.batchId===e.batchId&&qo(this.mutations,e.mutations,(t,a)=>gf(t,a))&&qo(this.baseMutations,e.baseMutations,(t,a)=>gf(t,a))}}class Em{constructor(e,t,a,f){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=f}static from(e,t,a){wi(e.mutations.length===a.length);let f=mo;const y=e.mutations;for(let M=0;M<y.length;M++)f=f.insert(y[M].key,a[M].version);return new Em(e,t,a,f)}}class Sp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Cu{constructor(e,t,a,f,y=bi.min(),M=bi.min(),U=kn.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=f,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=M,this.resumeToken=U}withSequenceNumber(e){return new Cu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Tp{constructor(e){this.re=e}}function Ig(s,e){const t=e.key,a={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ho(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:Nc(f=s.re,(y=e).key),fields:y.data.value.mapValue.fields,updateTime:_u(f,y.version.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:t.path.toArray(),readTime:Bc(e.version)};else{if(!e.isUnknownDocument())return ii();a.unknownDocument={path:t.path.toArray(),version:Bc(e.version)}}var f,y;return a}function Ho(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function Bc(s){const e=s.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function wu(s){const e=new Ar(s.seconds,s.nanoseconds);return bi.fromTimestamp(e)}function Gl(s,e){const t=(e.baseMutations||[]).map(y=>bf(s.re,y));for(let y=0;y<e.mutations.length-1;++y){const M=e.mutations[y];y+1<e.mutations.length&&void 0!==e.mutations[y+1].transform&&(M.updateTransforms=e.mutations[y+1].transform.fieldTransforms,e.mutations.splice(y+1,1),++y)}const a=e.mutations.map(y=>bf(s.re,y)),f=Ar.fromMillis(e.localWriteTimeMs);return new Sh(e.batchId,f,t,a)}function go(s){const e=wu(s.readTime),t=void 0!==s.lastLimboFreeSnapshotVersion?wu(s.lastLimboFreeSnapshotVersion):bi.min();let a;var f;return void 0!==s.query.documents?(wi(1===(f=s.query).documents.length),a=Jo(vl(bh(f.documents[0])))):a=Jo(Fc(s.query)),new Cu(a,s.targetId,0,s.lastListenSequenceNumber,e,t,kn.fromBase64String(s.resumeToken))}function Vd(s,e){const t=Bc(e.snapshotVersion),a=Bc(e.lastLimboFreeSnapshotVersion);let f;f=Lu(e.target)?Ld(s.re,e.target):yp(s.re,e.target);const y=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:au(e.target),readTime:t,resumeToken:y,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:f}}function Pr(s){const e=Fc({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?kd(e,e.limit,"L"):e}function kr(s,e){return new Sp(e.largestBatchId,bf(s.re,e.overlayMutation))}function cr(s,e){const t=e.path.lastSegment();return[s,ja(e.path.popLast()),t]}function Vc(s,e,t,a){return{indexId:s,uid:e.uid||"",sequenceNumber:t,readTime:Bc(a.readTime),documentKey:ja(a.documentKey.path),largestBatchId:a.largestBatchId}}class Tr{getBundleMetadata(e,t){return Df(e).get(t).next(a=>{if(a)return{id:(f=a).bundleId,createTime:wu(f.createTime),version:f.version};var f})}saveBundleMetadata(e,t){return Df(e).put({bundleId:(a=t).id,createTime:Bc(Hs(a.createTime)),version:a.version});var a}getNamedQuery(e,t){return Ef(e).get(t).next(a=>{if(a)return{name:(f=a).name,query:Pr(f.bundledQuery),readTime:wu(f.readTime)};var f})}saveNamedQuery(e,t){return Ef(e).put({name:(a=t).name,readTime:Bc(Hs(a.readTime)),bundledQuery:a.bundledQuery});var a}}function Df(s){return na(s,"bundles")}function Ef(s){return na(s,"namedQueries")}class Uc{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Uc(e,t.uid||"")}getOverlay(e,t){return Ud(e).get(cr(this.userId,t)).next(a=>a?kr(this.It,a):null)}getOverlays(e,t){const a=mi();return cn.forEach(t,f=>this.getOverlay(e,f).next(y=>{null!==y&&a.set(f,y)})).next(()=>a)}saveOverlays(e,t,a){const f=[];return a.forEach((y,M)=>{const U=new Sp(t,M);f.push(this.ue(e,U))}),cn.waitFor(f)}removeOverlaysForBatchId(e,t,a){const f=new Set;t.forEach(M=>f.add(ja(M.getCollectionPath())));const y=[];return f.forEach(M=>{const U=IDBKeyRange.bound([this.userId,M,a],[this.userId,M,a+1],!1,!0);y.push(Ud(e).Y("collectionPathOverlayIndex",U))}),cn.waitFor(y)}getOverlaysForCollection(e,t,a){const f=mi(),y=ja(t),M=IDBKeyRange.bound([this.userId,y,a],[this.userId,y,Number.POSITIVE_INFINITY],!0);return Ud(e).W("collectionPathOverlayIndex",M).next(U=>{for(const oe of U){const ve=kr(this.It,oe);f.set(ve.getKey(),ve)}return f})}getOverlaysForCollectionGroup(e,t,a,f){const y=mi();let M;const U=IDBKeyRange.bound([this.userId,t,a],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ud(e).Z({index:"collectionGroupOverlayIndex",range:U},(oe,ve,$e)=>{const yt=kr(this.It,ve);y.size()<f||yt.largestBatchId===M?(y.set(yt.getKey(),yt),M=yt.largestBatchId):$e.done()}).next(()=>y)}ue(e,t){return Ud(e).put(function(a,f,y){const[M,U,oe]=cr(f,y.mutation.key);return{userId:f,collectionPath:U,documentId:oe,collectionGroup:y.mutation.key.getCollectionGroup(),largestBatchId:y.largestBatchId,overlayMutation:yu(a.re,y.mutation)}}(this.It,this.userId,t))}}function Ud(s){return na(s,"documentOverlays")}class Gr{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(di(e.integerValue));else if("doubleValue"in e){const a=di(e.doubleValue);isNaN(a)?this.le(t,13):(this.le(t,15),Qr(a)?t.fe(0):t.fe(a))}else if("timestampValue"in e){const a=e.timestampValue;this.le(t,20),"string"==typeof a?t.de(a):(t.de(`${a.seconds||""}`),t.fe(a.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(ji(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const a=e.geoPointValue;this.le(t,45),t.fe(a.latitude||0),t.fe(a.longitude||0)}else"mapValue"in e?rl(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):ii()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const a=e.fields||{};this.le(t,55);for(const f of Object.keys(a))this._e(f,t),this.ae(a[f],t)}pe(e,t){const a=e.values||[];this.le(t,50);for(const f of a)this.ae(f,t)}ge(e,t){this.le(t,37),zn.fromName(e).path.forEach(a=>{this.le(t,60),this.Ie(a,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function ur(s){if(0===s)return 8;let e=0;return s>>4==0&&(e+=4,s<<=4),s>>6==0&&(e+=2,s<<=2),s>>7==0&&(e+=1),e}function ia(s){const e=64-function(t){let a=0;for(let f=0;f<8;++f){const y=ur(255&t[f]);if(a+=y,8!==y)break}return a}(s);return Math.ceil(e/8)}Gr.Te=new Gr;class xg{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this.Ae(a.value),a=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this.Pe(a.value),a=t.next();this.ve()}Ve(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this.Ae(a);else if(a<2048)this.Ae(960|a>>>6),this.Ae(128|63&a);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a);else{const f=t.codePointAt(0);this.Ae(240|f>>>18),this.Ae(128|63&f>>>12),this.Ae(128|63&f>>>6),this.Ae(128|63&f)}}this.Re()}Se(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this.Pe(a);else if(a<2048)this.Pe(960|a>>>6),this.Pe(128|63&a);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a);else{const f=t.codePointAt(0);this.Pe(240|f>>>18),this.Pe(128|63&f>>>12),this.Pe(128|63&f>>>6),this.Pe(128|63&f)}}this.ve()}De(e){const t=this.Ce(e),a=ia(t);this.xe(1+a),this.buffer[this.position++]=255&a;for(let f=t.length-a;f<t.length;++f)this.buffer[this.position++]=255&t[f]}Ne(e){const t=this.Ce(e),a=ia(t);this.xe(1+a),this.buffer[this.position++]=~(255&a);for(let f=t.length-a;f<t.length;++f)this.buffer[this.position++]=~(255&t[f])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(f){const y=new DataView(new ArrayBuffer(8));return y.setFloat64(0,f,!1),new Uint8Array(y.buffer)}(e),a=0!=(128&t[0]);t[0]^=a?255:128;for(let f=1;f<t.length;++f)t[f]^=a?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let a=2*this.buffer.length;a<t&&(a=t);const f=new Uint8Array(a);f.set(this.buffer),this.buffer=f}}class Du{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class _o{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Th{constructor(){this.Be=new xg,this.Le=new Du(this.Be),this.Ue=new _o(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Ku{constructor(e,t,a,f){this.indexId=e,this.documentKey=t,this.arrayValue=a,this.directionalValue=f}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(t);return a.set(this.directionalValue,0),t!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new Ku(this.indexId,this.documentKey,this.arrayValue,a)}}function Eu(s,e){let t=s.indexId-e.indexId;return 0!==t?t:(t=Zu(s.arrayValue,e.arrayValue),0!==t?t:(t=Zu(s.directionalValue,e.directionalValue),0!==t?t:zn.comparator(s.documentKey,e.documentKey)))}function Zu(s,e){for(let t=0;t<s.length&&t<e.length;++t){const a=s[t]-e[t];if(0!==a)return a}return s.length-e.length}class Su{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const a=t;a.dt()?this.je=a:this.Qe.push(a)}}We(e){const t=Da(e);if(void 0!==t&&!this.ze(t))return!1;const a=Qo(e);let f=0,y=0;for(;f<a.length&&this.ze(a[f]);++f);if(f===a.length)return!0;if(void 0!==this.je){const M=a[f];if(!this.He(this.je,M)||!this.Je(this.Ge[y++],M))return!1;++f}for(;f<a.length;++f){const M=a[f];if(y>=this.Ge.length||!this.Je(this.Ge[y++],M))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class qu{constructor(){this.Ye=new eo}addToCollectionParentIndex(e,t){return this.Ye.add(t),cn.resolve()}getCollectionParents(e,t){return cn.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return cn.resolve()}deleteFieldIndex(e,t){return cn.resolve()}getDocumentsMatchingTarget(e,t){return cn.resolve(null)}getIndexType(e,t){return cn.resolve(0)}getFieldIndexes(e,t){return cn.resolve([])}getNextCollectionGroupToUpdate(e){return cn.resolve(null)}getMinOffset(e,t){return cn.resolve(co.min())}getMinOffsetFromCollectionGroup(e,t){return cn.resolve(co.min())}updateCollectionGroup(e,t,a){return cn.resolve()}updateIndexEntries(e,t){return cn.resolve()}}class eo{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),f=this.index[t]||new ee(yi.comparator),y=!f.has(a);return this.index[t]=f.add(a),y}has(e){const t=e.lastSegment(),a=e.popLast(),f=this.index[t];return f&&f.has(a)}getEntries(e){return(this.index[e]||new ee(yi.comparator)).toArray()}}const Hc=new Uint8Array(0);class Sf{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new eo,this.Ze=new Ee(a=>au(a),(a,f)=>ic(a,f)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const a=t.lastSegment(),f=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const y={collectionId:a,parent:ja(f)};return Sm(e).put(y)}return cn.resolve()}getCollectionParents(e,t){const a=[],f=IDBKeyRange.bound([t,""],[Bl(t),""],!1,!0);return Sm(e).W(f).next(y=>{for(const M of y){if(M.collectionId!==t)break;a.push(Lc(M.parent))}return a})}addFieldIndex(e,t){const a=Hd(e),f={indexId:(M=t).indexId,collectionGroup:M.collectionGroup,fields:M.fields.map(U=>[U.fieldPath.canonicalString(),U.kind])};var M;delete f.indexId;const y=a.add(f);if(t.indexState){const M=Cl(e);return y.next(U=>{M.put(Vc(U,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return y.next()}deleteFieldIndex(e,t){const a=Hd(e),f=Cl(e),y=$a(e);return a.delete(t.indexId).next(()=>f.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const a=$a(e);let f=!0;const y=new Map;return cn.forEach(this.tn(t),M=>this.en(e,M).next(U=>{f&&(f=!!U),y.set(M,U)})).next(()=>{if(f){let M=Bi();const U=[];return cn.forEach(y,(oe,ve)=>{var $e;Nn("IndexedDbIndexManager",`Using index ${$e=oe,`id=${$e.indexId}|cg=${$e.collectionGroup}|f=${$e.fields.map(ti=>`${ti.fieldPath}:${ti.kind}`).join(",")}`} to execute ${au(t)}`);const yt=function(ti,Mi){const ki=Da(Mi);if(void 0===ki)return null;for(const ar of Bu(ti,ki.fieldPath))switch(ar.op){case"array-contains-any":return ar.value.arrayValue.values||[];case"array-contains":return[ar.value]}return null}(ve,oe),Zt=function(ti,Mi){const ki=new Map;for(const ar of Qo(Mi))for(const Hr of Bu(ti,ar.fieldPath))switch(Hr.op){case"==":case"in":ki.set(ar.fieldPath.canonicalString(),Hr.value);break;case"not-in":case"!=":return ki.set(ar.fieldPath.canonicalString(),Hr.value),Array.from(ki.values())}return null}(ve,oe),yn=function(ti,Mi){const ki=[];let ar=!0;for(const Hr of Qo(Mi)){const Zl=0===Hr.kind?Md(ti,Hr.fieldPath,ti.startAt):af(ti,Hr.fieldPath,ti.startAt);ki.push(Zl.value),ar&&(ar=Zl.inclusive)}return new sl(ki,ar)}(ve,oe),En=function(ti,Mi){const ki=[];let ar=!0;for(const Hr of Qo(Mi)){const Zl=0===Hr.kind?af(ti,Hr.fieldPath,ti.endAt):Md(ti,Hr.fieldPath,ti.endAt);ki.push(Zl.value),ar&&(ar=Zl.inclusive)}return new sl(ki,ar)}(ve,oe),ri=this.nn(oe,ve,yn),hi=this.nn(oe,ve,En),Hn=this.sn(oe,ve,Zt),ei=this.rn(oe.indexId,yt,ri,yn.inclusive,hi,En.inclusive,Hn);return cn.forEach(ei,ti=>a.J(ti,t.limit).next(Mi=>{Mi.forEach(ki=>{const ar=zn.fromSegments(ki.documentKey);M.has(ar)||(M=M.add(ar),U.push(ar))})}))}).next(()=>U)}return cn.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,a,f,y,M,U){const oe=(null!=t?t.length:1)*Math.max(a.length,y.length),ve=oe/(null!=t?t.length:1),$e=[];for(let yt=0;yt<oe;++yt){const Zt=t?this.on(t[yt/ve]):Hc,yn=this.un(e,Zt,a[yt%ve],f),En=this.cn(e,Zt,y[yt%ve],M),ri=U.map(hi=>this.un(e,Zt,hi,!0));$e.push(...this.createRange(yn,En,ri))}return $e}un(e,t,a,f){const y=new Ku(e,zn.empty(),t,a);return f?y:y.Ke()}cn(e,t,a,f){const y=new Ku(e,zn.empty(),t,a);return f?y.Ke():y}en(e,t){const a=new Su(t),f=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,f).next(y=>{let M=null;for(const U of y)a.We(U)&&(!M||U.fields.length>M.fields.length)&&(M=U);return M})}getIndexType(e,t){let a=2;return cn.forEach(this.tn(t),f=>this.en(e,f).next(y=>{y?0!==a&&y.fields.length<function(M){let U=new ee(vr.comparator),oe=!1;for(const ve of M.filters){const $e=ve;$e.field.isKeyField()||("array-contains"===$e.op||"array-contains-any"===$e.op?oe=!0:U=U.add($e.field))}for(const ve of M.orderBy)ve.field.isKeyField()||(U=U.add(ve.field));return U.size+(oe?1:0)}(f)&&(a=1):a=0})).next(()=>a)}an(e,t){const a=new Th;for(const f of Qo(e)){const y=t.data.field(f.fieldPath);if(null==y)return null;const M=a.qe(f.kind);Gr.Te.ce(y,M)}return a.$e()}on(e){const t=new Th;return Gr.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const a=new Th;return Gr.Te.ce(_i(this.databaseId,t),a.qe(function(f){const y=Qo(f);return 0===y.length?0:y[y.length-1].kind}(e))),a.$e()}sn(e,t,a){if(null===a)return[];let f=[];f.push(new Th);let y=0;for(const M of Qo(e)){const U=a[y++];for(const oe of f)if(this.ln(t,M.fieldPath)&&Li(U))f=this.fn(f,M,U);else{const ve=oe.qe(M.kind);Gr.Te.ce(U,ve)}}return this.dn(f)}nn(e,t,a){return this.sn(e,t,a.position)}dn(e){const t=[];for(let a=0;a<e.length;++a)t[a]=e[a].$e();return t}fn(e,t,a){const f=[...e],y=[];for(const M of a.arrayValue.values||[])for(const U of f){const oe=new Th;oe.seed(U.$e()),Gr.Te.ce(M,oe.qe(t.kind)),y.push(oe)}return y}ln(e,t){return!!e.filters.find(a=>a instanceof Js&&a.field.isEqual(t)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,t){const a=Hd(e),f=Cl(e);return(t?a.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):a.W()).next(y=>{const M=[];return cn.forEach(y,U=>f.get([U.indexId,this.uid]).next(oe=>{M.push(function(ve,$e){const yt=$e?new Vl($e.sequenceNumber,new co(wu($e.readTime),new zn(Lc($e.documentKey)),$e.largestBatchId)):Vl.empty(),Zt=ve.fields.map(([yn,En])=>new ga(vr.fromServerFormat(yn),En));return new Vo(ve.indexId,ve.collectionGroup,Zt,yt)}(U,oe))})).next(()=>M)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((a,f)=>{const y=a.indexState.sequenceNumber-f.indexState.sequenceNumber;return 0!==y?y:Ti(a.collectionGroup,f.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,a){const f=Hd(e),y=Cl(e);return this._n(e).next(M=>f.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(U=>cn.forEach(U,oe=>y.put(Vc(oe.indexId,this.user,M,a)))))}updateIndexEntries(e,t){const a=new Map;return cn.forEach(t,(f,y)=>{const M=a.get(f.collectionGroup);return(M?cn.resolve(M):this.getFieldIndexes(e,f.collectionGroup)).next(U=>(a.set(f.collectionGroup,U),cn.forEach(U,oe=>this.wn(e,f,oe).next(ve=>{const $e=this.mn(y,oe);return ve.isEqual($e)?cn.resolve():this.gn(e,y,oe,ve,$e)}))))})}yn(e,t,a,f){return $a(e).put({indexId:f.indexId,uid:this.uid,arrayValue:f.arrayValue,directionalValue:f.directionalValue,orderedDocumentKey:this.hn(a,t.key),documentKey:t.key.path.toArray()})}pn(e,t,a,f){return $a(e).delete([f.indexId,this.uid,f.arrayValue,f.directionalValue,this.hn(a,t.key),t.key.path.toArray()])}wn(e,t,a){const f=$a(e);let y=new ee(Eu);return f.Z({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.hn(a,t)])},(M,U)=>{y=y.add(new Ku(a.indexId,t,U.arrayValue,U.directionalValue))}).next(()=>y)}mn(e,t){let a=new ee(Eu);const f=this.an(t,e);if(null==f)return a;const y=Da(t);if(null!=y){const M=e.data.field(y.fieldPath);if(Li(M))for(const U of M.arrayValue.values||[])a=a.add(new Ku(t.indexId,e.key,this.on(U),f))}else a=a.add(new Ku(t.indexId,e.key,Hc,f));return a}gn(e,t,a,f,y){Nn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const M=[];return function(U,oe,ve,$e,yt){const Zt=U.getIterator(),yn=oe.getIterator();let En=nt(Zt),ri=nt(yn);for(;En||ri;){let hi=!1,Hn=!1;if(En&&ri){const ei=ve(En,ri);ei<0?Hn=!0:ei>0&&(hi=!0)}else null!=En?Hn=!0:hi=!0;hi?($e(ri),ri=nt(yn)):Hn?(yt(En),En=nt(Zt)):(En=nt(Zt),ri=nt(yn))}}(f,y,Eu,U=>{M.push(this.yn(e,t,a,U))},U=>{M.push(this.pn(e,t,a,U))}),cn.waitFor(M)}_n(e){let t=1;return Cl(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,f,y)=>{y.done(),t=f.sequenceNumber+1}).next(()=>t)}createRange(e,t,a){a=a.sort((M,U)=>Eu(M,U)).filter((M,U,oe)=>!U||0!==Eu(M,oe[U-1]));const f=[];f.push(e);for(const M of a){const U=Eu(M,e),oe=Eu(M,t);if(0===U)f[0]=e.Ke();else if(U>0&&oe<0)f.push(M),f.push(M.Ke());else if(oe>0)break}f.push(t);const y=[];for(let M=0;M<f.length;M+=2)y.push(IDBKeyRange.bound([f[M].indexId,this.uid,f[M].arrayValue,f[M].directionalValue,Hc,[]],[f[M+1].indexId,this.uid,f[M+1].arrayValue,f[M+1].directionalValue,Hc,[]]));return y}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(jc)}getMinOffset(e,t){return cn.mapArray(this.tn(t),a=>this.en(e,a).next(f=>f||ii())).next(jc)}}function Sm(s){return na(s,"collectionParents")}function $a(s){return na(s,"indexEntries")}function Hd(s){return na(s,"indexConfiguration")}function Cl(s){return na(s,"indexState")}function jc(s){wi(0!==s.length);let e=s[0].indexState.offset,t=e.largestBatchId;for(let a=1;a<s.length;a++){const f=s[a].indexState.offset;Ec(f,e)<0&&(e=f),t<f.largestBatchId&&(t=f.largestBatchId)}return new co(e.readTime,e.documentKey,t)}const Ji={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vo{constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new vo(e,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $c(s,e,t){const a=s.store("mutations"),f=s.store("documentMutations"),y=[],M=IDBKeyRange.only(t.batchId);let U=0;const oe=a.Z({range:M},($e,yt,Zt)=>(U++,Zt.delete()));y.push(oe.next(()=>{wi(1===U)}));const ve=[];for(const $e of t.mutations){const yt=P_(e,$e.key.path,t.batchId);y.push(f.delete(yt)),ve.push($e.key)}return cn.waitFor(y).next(()=>ve)}function Qu(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw ii();e=s.noDocument}return JSON.stringify(e).length}vo.DEFAULT_COLLECTION_PERCENTILE=10,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vo.DEFAULT=new vo(41943040,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vo.DISABLED=new vo(-1,0,0);class zl{constructor(e,t,a,f){this.userId=e,this.It=t,this.indexManager=a,this.referenceDelegate=f,this.In={}}static oe(e,t,a,f){wi(""!==e.uid);const y=e.isAuthenticated()?e.uid:"";return new zl(y,t,a,f)}checkEmpty(e){let t=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yo(e).Z({index:"userMutationsIndex",range:a},(f,y,M)=>{t=!1,M.done()}).next(()=>t)}addMutationBatch(e,t,a,f){const y=Xu(e),M=yo(e);return M.add({}).next(U=>{wi("number"==typeof U);const oe=new Sh(U,t,a,f),ve=function(Zt,yn,En){const ri=En.baseMutations.map(Hn=>yu(Zt.re,Hn)),hi=En.mutations.map(Hn=>yu(Zt.re,Hn));return{userId:yn,batchId:En.batchId,localWriteTimeMs:En.localWriteTime.toMillis(),baseMutations:ri,mutations:hi}}(this.It,this.userId,oe),$e=[];let yt=new ee((Zt,yn)=>Ti(Zt.canonicalString(),yn.canonicalString()));for(const Zt of f){const yn=P_(this.userId,Zt.key.path,U);yt=yt.add(Zt.key.path.popLast()),$e.push(M.put(ve)),$e.push(y.put(yn,Pv))}return yt.forEach(Zt=>{$e.push(this.indexManager.addToCollectionParentIndex(e,Zt))}),e.addOnCommittedListener(()=>{this.In[U]=oe.keys()}),cn.waitFor($e).next(()=>oe)})}lookupMutationBatch(e,t){return yo(e).get(t).next(a=>a?(wi(a.userId===this.userId),Gl(this.It,a)):null)}Tn(e,t){return this.In[t]?cn.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(a=>{if(a){const f=a.keys();return this.In[t]=f,f}return null})}getNextMutationBatchAfterBatchId(e,t){const a=t+1,f=IDBKeyRange.lowerBound([this.userId,a]);let y=null;return yo(e).Z({index:"userMutationsIndex",range:f},(M,U,oe)=>{U.userId===this.userId&&(wi(U.batchId>=a),y=Gl(this.It,U)),oe.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return yo(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(f,y,M)=>{a=y.batchId,M.done()}).next(()=>a)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yo(e).W("userMutationsIndex",t).next(a=>a.map(f=>Gl(this.It,f)))}getAllMutationBatchesAffectingDocumentKey(e,t){const a=Dh(this.userId,t.path),f=IDBKeyRange.lowerBound(a),y=[];return Xu(e).Z({range:f},(M,U,oe)=>{const[ve,$e,yt]=M,Zt=Lc($e);if(ve===this.userId&&t.path.isEqual(Zt))return yo(e).get(yt).next(yn=>{if(!yn)throw ii();wi(yn.userId===this.userId),y.push(Gl(this.It,yn))});oe.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new ee(Ti);const f=[];return t.forEach(y=>{const M=Dh(this.userId,y.path),U=IDBKeyRange.lowerBound(M),oe=Xu(e).Z({range:U},(ve,$e,yt)=>{const[Zt,yn,En]=ve,ri=Lc(yn);Zt===this.userId&&y.path.isEqual(ri)?a=a.add(En):yt.done()});f.push(oe)}),cn.waitFor(f).next(()=>this.En(e,a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,f=a.length+1,y=Dh(this.userId,a),M=IDBKeyRange.lowerBound(y);let U=new ee(Ti);return Xu(e).Z({range:M},(oe,ve,$e)=>{const[yt,Zt,yn]=oe,En=Lc(Zt);yt===this.userId&&a.isPrefixOf(En)?En.length===f&&(U=U.add(yn)):$e.done()}).next(()=>this.En(e,U))}En(e,t){const a=[],f=[];return t.forEach(y=>{f.push(yo(e).get(y).next(M=>{if(null===M)throw ii();wi(M.userId===this.userId),a.push(Gl(this.It,M))}))}),cn.waitFor(f).next(()=>a)}removeMutationBatch(e,t){return $c(e.ie,this.userId,t).next(a=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),cn.forEach(a,f=>this.referenceDelegate.markPotentiallyOrphaned(e,f))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return cn.resolve();const a=IDBKeyRange.lowerBound([this.userId]),f=[];return Xu(e).Z({range:a},(y,M,U)=>{if(y[0]===this.userId){const oe=Lc(y[1]);f.push(oe)}else U.done()}).next(()=>{wi(0===f.length)})})}containsKey(e,t){return wl(e,this.userId,t)}Rn(e){return Mo(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function wl(s,e,t){const a=Dh(e,t.path),f=a[1],y=IDBKeyRange.lowerBound(a);let M=!1;return Xu(s).Z({range:y,X:!0},(U,oe,ve)=>{const[$e,yt,Zt]=U;$e===e&&yt===f&&(M=!0),ve.done()}).next(()=>M)}function yo(s){return na(s,"mutations")}function Xu(s){return na(s,"documentMutations")}function Mo(s){return na(s,"mutationQueues")}class Gc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Gc(0)}static vn(){return new Gc(-1)}}class Ip{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const a=new Gc(t.highestTargetId);return t.highestTargetId=a.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>bi.fromTimestamp(new Ar(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,a){return this.Vn(e).next(f=>(f.highestListenSequenceNumber=t,a&&(f.lastRemoteSnapshotVersion=a.toTimestamp()),t>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=t),this.Sn(e,f)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(a=>(a.targetCount+=1,this.Cn(t,a),this.Sn(e,a))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Dl(e).delete(t.targetId)).next(()=>this.Vn(e)).next(a=>(wi(a.targetCount>0),a.targetCount-=1,this.Sn(e,a)))}removeTargets(e,t,a){let f=0;const y=[];return Dl(e).Z((M,U)=>{const oe=go(U);oe.sequenceNumber<=t&&null===a.get(oe.targetId)&&(f++,y.push(this.removeTargetData(e,oe)))}).next(()=>cn.waitFor(y)).next(()=>f)}forEachTarget(e,t){return Dl(e).Z((a,f)=>{const y=go(f);t(y)})}Vn(e){return Mh(e).get("targetGlobalKey").next(t=>(wi(null!==t),t))}Sn(e,t){return Mh(e).put("targetGlobalKey",t)}Dn(e,t){return Dl(e).put(Vd(this.It,t))}Cn(e,t){let a=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,a=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const a=au(t),f=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let y=null;return Dl(e).Z({range:f,index:"queryTargetsIndex"},(M,U,oe)=>{const ve=go(U);ic(t,ve.target)&&(y=ve,oe.done())}).next(()=>y)}addMatchingKeys(e,t,a){const f=[],y=ra(e);return t.forEach(M=>{const U=ja(M.path);f.push(y.put({targetId:a,path:U})),f.push(this.referenceDelegate.addReference(e,a,M))}),cn.waitFor(f)}removeMatchingKeys(e,t,a){const f=ra(e);return cn.forEach(t,y=>{const M=ja(y.path);return cn.waitFor([f.delete([a,M]),this.referenceDelegate.removeReference(e,a,y)])})}removeMatchingKeysForTargetId(e,t){const a=ra(e),f=IDBKeyRange.bound([t],[t+1],!1,!0);return a.delete(f)}getMatchingKeysForTargetId(e,t){const a=IDBKeyRange.bound([t],[t+1],!1,!0),f=ra(e);let y=Bi();return f.Z({range:a,X:!0},(M,U,oe)=>{const ve=Lc(M[1]),$e=new zn(ve);y=y.add($e)}).next(()=>y)}containsKey(e,t){const a=ja(t.path),f=IDBKeyRange.bound([a],[Bl(a)],!1,!0);let y=0;return ra(e).Z({index:"documentTargetsIndex",X:!0,range:f},([M,U],oe,ve)=>{0!==M&&(y++,ve.done())}).next(()=>y>0)}se(e,t){return Dl(e).get(t).next(a=>a?go(a):null)}}function Dl(s){return na(s,"targets")}function Mh(s){return na(s,"targetGlobal")}function ra(s){return na(s,"targetDocuments")}function Ih([s,e],[t,a]){const f=Ti(s,t);return 0===f?Ti(e,a):f}class Tf{constructor(e){this.xn=e,this.buffer=new ee(Ih),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();Ih(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class zc{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Nn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ut.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(a){Sa(a)?Nn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Xo(a)}yield t.Fn(3e5)}))}}class Ju{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(0===t)return cn.resolve(fo.at);const a=new Tf(t);return this.$n.forEachTarget(e,f=>a.On(f.sequenceNumber)).next(()=>this.$n.Ln(e,f=>a.On(f))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.$n.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Nn("LruGarbageCollector","Garbage collection skipped; disabled"),cn.resolve(Ji)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(Nn("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ji):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let a,f,y,M,U,oe,ve;const $e=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(yt=>(yt>this.params.maximumSequenceNumbersToCollect?(Nn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${yt}`),f=this.params.maximumSequenceNumbersToCollect):f=yt,M=Date.now(),this.nthSequenceNumber(e,f))).next(yt=>(a=yt,U=Date.now(),this.removeTargets(e,a,t))).next(yt=>(y=yt,oe=Date.now(),this.removeOrphanedDocuments(e,a))).next(yt=>(ve=Date.now(),pl()<=et.in.DEBUG&&Nn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${M-$e}ms\n\tDetermined least recently used ${f} in `+(U-M)+`ms\n\tRemoved ${y} targets in `+(oe-U)+`ms\n\tRemoved ${yt} documents in `+(ve-oe)+`ms\nTotal Duration: ${ve-$e}ms`),cn.resolve({didRun:!0,sequenceNumbersCollected:f,targetsRemoved:y,documentsRemoved:yt})))}}class Mf{constructor(e,t){this.db=e,this.garbageCollector=new Ju(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(a=>t.next(f=>a+f))}qn(e){let t=0;return this.Ln(e,a=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(a,f)=>t(f))}addReference(e,t,a){return jd(e,a)}removeReference(e,t,a){return jd(e,a)}removeTargets(e,t,a){return this.db.getTargetCache().removeTargets(e,t,a)}markPotentiallyOrphaned(e,t){return jd(e,t)}Gn(e,t){return function(a,f){let y=!1;return Mo(a).tt(M=>wl(a,M,f).next(U=>(U&&(y=!0),cn.resolve(!U)))).next(()=>y)}(e,t)}removeOrphanedDocuments(e,t){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),f=[];let y=0;return this.Kn(e,(M,U)=>{if(U<=t){const oe=this.Gn(e,M).next(ve=>{if(!ve)return y++,a.getEntry(e,M).next(()=>(a.removeEntry(M,bi.min()),ra(e).delete([0,ja(M.path)])))});f.push(oe)}}).next(()=>cn.waitFor(f)).next(()=>a.apply(e)).next(()=>y)}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,t){return jd(e,t)}Kn(e,t){const a=ra(e);let f,y=fo.at;return a.Z({index:"documentTargetsIndex"},([M,U],{path:oe,sequenceNumber:ve})=>{0===M?(y!==fo.at&&t(new zn(Lc(f)),y),y=ve,f=oe):y=fo.at}).next(()=>{y!==fo.at&&t(new zn(Lc(f)),y)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jd(s,e){return ra(s).put((a=s.currentSequenceNumber,{targetId:0,path:ja(e.path),sequenceNumber:a}));var a}class Ag{constructor(){this.changes=new Ee(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return void 0!==a?cn.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class V_{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,a){return ac(e).put(a)}removeEntry(e,t,a){return ac(e).delete(function(f,y){const M=f.path.toArray();return[M.slice(0,M.length-2),M[M.length-2],Ho(y),M[M.length-1]]}(t,a))}updateMetadata(e,t){return this.getMetadata(e).next(a=>(a.byteSize+=t,this.Qn(e,a)))}getEntry(e,t){let a=yr.newInvalidDocument(t);return ac(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(td(t))},(f,y)=>{a=this.jn(t,y)}).next(()=>a)}Wn(e,t){let a={size:0,document:yr.newInvalidDocument(t)};return ac(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(td(t))},(f,y)=>{a={document:this.jn(t,y),size:Qu(y)}}).next(()=>a)}getEntries(e,t){let a=an();return this.zn(e,t,(f,y)=>{const M=this.jn(f,y);a=a.insert(f,M)}).next(()=>a)}Hn(e,t){let a=an(),f=new L(zn.comparator);return this.zn(e,t,(y,M)=>{const U=this.jn(y,M);a=a.insert(y,U),f=f.insert(y,Qu(M))}).next(()=>({documents:a,Jn:f}))}zn(e,t,a){if(t.isEmpty())return cn.resolve();let f=new ee(Wl);t.forEach(oe=>f=f.add(oe));const y=IDBKeyRange.bound(td(f.first()),td(f.last())),M=f.getIterator();let U=M.getNext();return ac(e).Z({index:"documentKeyIndex",range:y},(oe,ve,$e)=>{const yt=zn.fromSegments([...ve.prefixPath,ve.collectionGroup,ve.documentId]);for(;U&&Wl(U,yt)<0;)a(U,null),U=M.getNext();U&&U.isEqual(yt)&&(a(U,ve),U=M.hasNext()?M.getNext():null),U?$e.j(td(U)):$e.done()}).next(()=>{for(;U;)a(U,null),U=M.hasNext()?M.getNext():null})}getAllFromCollection(e,t,a){const f=[t.popLast().toArray(),t.lastSegment(),Ho(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],y=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ac(e).W(IDBKeyRange.bound(f,y,!0)).next(M=>{let U=an();for(const oe of M){const ve=this.jn(zn.fromSegments(oe.prefixPath.concat(oe.collectionGroup,oe.documentId)),oe);U=U.insert(ve.key,ve)}return U})}getAllFromCollectionGroup(e,t,a,f){let y=an();const M=$d(t,a),U=$d(t,co.max());return ac(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(M,U,!0)},(oe,ve,$e)=>{const yt=this.jn(zn.fromSegments(ve.prefixPath.concat(ve.collectionGroup,ve.documentId)),ve);y=y.insert(yt.key,yt),y.size===f&&$e.done()}).next(()=>y)}newChangeBuffer(e){return new kg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ed(e).get("remoteDocumentGlobalKey").next(t=>(wi(!!t),t))}Qn(e,t){return ed(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const a=function Mp(s,e){let t;if(e.document)t=mm(s.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=zn.fromSegments(e.noDocument.path),f=wu(e.noDocument.readTime);t=yr.newNoDocument(a,f),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ii();{const a=zn.fromSegments(e.unknownDocument.path),f=wu(e.unknownDocument.version);t=yr.newUnknownDocument(a,f)}}return e.readTime&&t.setReadTime(function(a){const f=new Ar(a[0],a[1]);return bi.fromTimestamp(f)}(e.readTime)),t}(this.It,t);if(!a.isNoDocument()||!a.version.isEqual(bi.min()))return a}return yr.newInvalidDocument(e)}}function is(s){return new V_(s)}class kg extends Ag{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Ee(a=>a.toString(),(a,f)=>a.isEqual(f))}applyChanges(e){const t=[];let a=0,f=new ee((y,M)=>Ti(y.canonicalString(),M.canonicalString()));return this.changes.forEach((y,M)=>{const U=this.Xn.get(y);if(t.push(this.Yn.removeEntry(e,y,U.readTime)),M.isValidDocument()){const oe=Ig(this.Yn.It,M);f=f.add(y.path.popLast()),a+=Qu(oe)-U.size,t.push(this.Yn.addEntry(e,y,oe))}else if(a-=U.size,this.trackRemovals){const oe=Ig(this.Yn.It,M.convertToNoDocument(bi.min()));t.push(this.Yn.addEntry(e,y,oe))}}),f.forEach(y=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,y))}),t.push(this.Yn.updateMetadata(e,a)),cn.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(a=>(this.Xn.set(t,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:a,Jn:f})=>(f.forEach((y,M)=>{this.Xn.set(y,{size:M,readTime:a.get(y).readTime})}),a))}}function ed(s){return na(s,"remoteDocumentGlobal")}function ac(s){return na(s,"remoteDocumentsV14")}function td(s){const e=s.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function $d(s,e){const t=e.documentKey.path.toArray();return[s,Ho(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Wl(s,e){const t=s.path.toArray(),a=e.path.toArray();let f=0;for(let y=0;y<t.length-2&&y<a.length-2;++y)if(f=Ti(t[y],a[y]),f)return f;return f=Ti(t.length,a.length),f||(f=Ti(t[t.length-2],a[a.length-2]),f||Ti(t[t.length-1],a[a.length-1]))}class Tu{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Vi{constructor(e,t,a,f){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=f}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(f=>(a=f,this.getBaseDocument(e,t,a))).next(f=>(null!==a&&pu(a.mutation,f,dt.empty(),Ar.now()),f))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,Bi()).next(()=>a))}getLocalViewOfDocuments(e,t,a=Bi()){const f=mi();return this.populateOverlays(e,f,t).next(()=>this.computeViews(e,t,f,a).next(y=>{let M=Un();return y.forEach((U,oe)=>{M=M.insert(U,oe.overlayedDocument)}),M}))}getOverlayedDocuments(e,t){const a=mi();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,Bi()))}populateOverlays(e,t,a){const f=[];return a.forEach(y=>{t.has(y)||f.push(y)}),this.documentOverlayCache.getOverlays(e,f).next(y=>{y.forEach((M,U)=>{t.set(M,U)})})}computeViews(e,t,a,f){let y=an();const M=ms(),U=ms();return t.forEach((oe,ve)=>{const $e=a.get(ve.key);f.has(ve.key)&&(void 0===$e||$e.mutation instanceof va)?y=y.insert(ve.key,ve):void 0!==$e&&(M.set(ve.key,$e.mutation.getFieldMask()),pu($e.mutation,ve,$e.mutation.getFieldMask(),Ar.now()))}),this.recalculateAndSaveOverlays(e,y).next(oe=>(oe.forEach((ve,$e)=>M.set(ve,$e)),t.forEach((ve,$e)=>{var yt;return U.set(ve,new Tu($e,null!==(yt=M.get(ve))&&void 0!==yt?yt:null))}),U))}recalculateAndSaveOverlays(e,t){const a=ms();let f=new L((M,U)=>M-U),y=Bi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(M=>{for(const U of M)U.keys().forEach(oe=>{const ve=t.get(oe);if(null===ve)return;let $e=a.get(oe)||dt.empty();$e=U.applyToLocalView(ve,$e),a.set(oe,$e);const yt=(f.get(U.batchId)||Bi()).add(oe);f=f.insert(U.batchId,yt)})}).next(()=>{const M=[],U=f.getReverseIterator();for(;U.hasNext();){const oe=U.getNext(),ve=oe.key,$e=oe.value,yt=br();$e.forEach(Zt=>{if(!y.has(Zt)){const yn=Ua(t.get(Zt),a.get(Zt));null!==yn&&yt.set(Zt,yn),y=y.add(Zt)}}),M.push(this.documentOverlayCache.saveOverlays(e,ve,yt))}return cn.waitFor(M)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a){return zn.isDocumentKey((f=t).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Ad(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a):this.getDocumentsMatchingCollectionQuery(e,t,a);var f}getNextDocuments(e,t,a,f){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,f).next(y=>{const M=f-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,f-y.size):cn.resolve(mi());let U=-1,oe=y;return M.next(ve=>cn.forEach(ve,($e,yt)=>(U<yt.largestBatchId&&(U=yt.largestBatchId),y.get($e)?cn.resolve():this.getBaseDocument(e,$e,yt).next(Zt=>{oe=oe.insert($e,Zt)}))).next(()=>this.populateOverlays(e,ve,y)).next(()=>this.computeViews(e,oe,ve,Bi())).next($e=>({batchId:U,changes:Si($e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new zn(t)).next(a=>{let f=Un();return a.isFoundDocument()&&(f=f.insert(a.key,a)),f})}getDocumentsMatchingCollectionGroupQuery(e,t,a){const f=t.collectionGroup;let y=Un();return this.indexManager.getCollectionParents(e,f).next(M=>cn.forEach(M,U=>{const oe=(ve=t,$e=U.child(f),new rc($e,null,ve.explicitOrderBy.slice(),ve.filters.slice(),ve.limit,ve.limitType,ve.startAt,ve.endAt));var ve,$e;return this.getDocumentsMatchingCollectionQuery(e,oe,a).next(ve=>{ve.forEach(($e,yt)=>{y=y.insert($e,yt)})})}).next(()=>y))}getDocumentsMatchingCollectionQuery(e,t,a){let f;return this.remoteDocumentCache.getAllFromCollection(e,t.path,a).next(y=>(f=y,this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId))).next(y=>{y.forEach((U,oe)=>{const ve=oe.getKey();null===f.get(ve)&&(f=f.insert(ve,yr.newInvalidDocument(ve)))});let M=Un();return f.forEach((U,oe)=>{const ve=y.get(U);void 0!==ve&&pu(ve.mutation,oe,dt.empty(),Ar.now()),yl(t,oe)&&(M=M.insert(U,oe))}),M})}getBaseDocument(e,t,a){return null===a||1===a.mutation.type?this.remoteDocumentCache.getEntry(e,t):cn.resolve(yr.newInvalidDocument(t))}}class xh{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return cn.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var a;return this.Zn.set(t.id,{id:(a=t).id,version:a.version,createTime:Hs(a.createTime)}),cn.resolve()}getNamedQuery(e,t){return cn.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(a=t).name,query:Pr(a.bundledQuery),readTime:Hs(a.readTime)}),cn.resolve();var a}}class Wc{constructor(){this.overlays=new L(zn.comparator),this.es=new Map}getOverlay(e,t){return cn.resolve(this.overlays.get(t))}getOverlays(e,t){const a=mi();return cn.forEach(t,f=>this.getOverlay(e,f).next(y=>{null!==y&&a.set(f,y)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((f,y)=>{this.ue(e,t,y)}),cn.resolve()}removeOverlaysForBatchId(e,t,a){const f=this.es.get(a);return void 0!==f&&(f.forEach(y=>this.overlays=this.overlays.remove(y)),this.es.delete(a)),cn.resolve()}getOverlaysForCollection(e,t,a){const f=mi(),y=t.length+1,M=new zn(t.child("")),U=this.overlays.getIteratorFrom(M);for(;U.hasNext();){const oe=U.getNext().value,ve=oe.getKey();if(!t.isPrefixOf(ve.path))break;ve.path.length===y&&oe.largestBatchId>a&&f.set(oe.getKey(),oe)}return cn.resolve(f)}getOverlaysForCollectionGroup(e,t,a,f){let y=new L((ve,$e)=>ve-$e);const M=this.overlays.getIterator();for(;M.hasNext();){const ve=M.getNext().value;if(ve.getKey().getCollectionGroup()===t&&ve.largestBatchId>a){let $e=y.get(ve.largestBatchId);null===$e&&($e=mi(),y=y.insert(ve.largestBatchId,$e)),$e.set(ve.getKey(),ve)}}const U=mi(),oe=y.getIterator();for(;oe.hasNext()&&(oe.getNext().value.forEach((ve,$e)=>U.set(ve,$e)),!(U.size()>=f)););return cn.resolve(U)}ue(e,t,a){const f=this.overlays.get(a.key);if(null!==f){const M=this.es.get(f.largestBatchId).delete(a.key);this.es.set(f.largestBatchId,M)}this.overlays=this.overlays.insert(a.key,new Sp(t,a));let y=this.es.get(t);void 0===y&&(y=Bi(),this.es.set(t,y)),this.es.set(t,y.add(a.key))}}class nd{constructor(){this.ns=new ee(er.ss),this.rs=new ee(er.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const a=new er(e,t);this.ns=this.ns.add(a),this.rs=this.rs.add(a)}us(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.cs(new er(e,t))}hs(e,t){e.forEach(a=>this.removeReference(a,t))}ls(e){const t=new zn(new yi([])),a=new er(t,e),f=new er(t,e+1),y=[];return this.rs.forEachInRange([a,f],M=>{this.cs(M),y.push(M.key)}),y}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new zn(new yi([])),a=new er(t,e),f=new er(t,e+1);let y=Bi();return this.rs.forEachInRange([a,f],M=>{y=y.add(M.key)}),y}containsKey(e){const t=new er(e,0),a=this.ns.firstAfterOrEqual(t);return null!==a&&e.isEqual(a.key)}}class er{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return zn.comparator(e.key,t.key)||Ti(e._s,t._s)}static os(e,t){return Ti(e._s,t._s)||zn.comparator(e.key,t.key)}}class xp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new ee(er.ss)}checkEmpty(e){return cn.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,a,f){const y=this.ws;this.ws++;const M=new Sh(y,t,a,f);this.mutationQueue.push(M);for(const U of f)this.gs=this.gs.add(new er(U.key,y)),this.indexManager.addToCollectionParentIndex(e,U.key.path.popLast());return cn.resolve(M)}lookupMutationBatch(e,t){return cn.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const f=this.ps(t+1),y=f<0?0:f;return cn.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return cn.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return cn.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new er(t,0),f=new er(t,Number.POSITIVE_INFINITY),y=[];return this.gs.forEachInRange([a,f],M=>{const U=this.ys(M._s);y.push(U)}),cn.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new ee(Ti);return t.forEach(f=>{const y=new er(f,0),M=new er(f,Number.POSITIVE_INFINITY);this.gs.forEachInRange([y,M],U=>{a=a.add(U._s)})}),cn.resolve(this.Is(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,f=a.length+1;let y=a;zn.isDocumentKey(y)||(y=y.child(""));const M=new er(new zn(y),0);let U=new ee(Ti);return this.gs.forEachWhile(oe=>{const ve=oe.key.path;return!!a.isPrefixOf(ve)&&(ve.length===f&&(U=U.add(oe._s)),!0)},M),cn.resolve(this.Is(U))}Is(e){const t=[];return e.forEach(a=>{const f=this.ys(a);null!==f&&t.push(f)}),t}removeMutationBatch(e,t){wi(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let a=this.gs;return cn.forEach(t.mutations,f=>{const y=new er(f.key,t.batchId);return a=a.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,f.key)}).next(()=>{this.gs=a})}An(e){}containsKey(e,t){const a=new er(t,0),f=this.gs.firstAfterOrEqual(a);return cn.resolve(t.isEqual(f&&f.key))}performConsistencyCheck(e){return cn.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class id{constructor(e){this.Es=e,this.docs=new L(zn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,f=this.docs.get(a),y=f?f.size:0,M=this.Es(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:M}),this.size+=M-y,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return cn.resolve(a?a.document.mutableCopy():yr.newInvalidDocument(t))}getEntries(e,t){let a=an();return t.forEach(f=>{const y=this.docs.get(f);a=a.insert(f,y?y.document.mutableCopy():yr.newInvalidDocument(f))}),cn.resolve(a)}getAllFromCollection(e,t,a){let f=an();const y=new zn(t.child("")),M=this.docs.getIteratorFrom(y);for(;M.hasNext();){const{key:U,value:{document:oe}}=M.getNext();if(!t.isPrefixOf(U.path))break;U.path.length>t.length+1||Ec(Dc(oe),a)<=0||(f=f.insert(oe.key,oe.mutableCopy()))}return cn.resolve(f)}getAllFromCollectionGroup(e,t,a,f){ii()}As(e,t){return cn.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new Yc(this)}getSize(e){return cn.resolve(this.size)}}class Yc extends Ag{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((a,f)=>{f.isValidDocument()?t.push(this.Yn.addEntry(e,f)):this.Yn.removeEntry(a)}),cn.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Mu{constructor(e){this.persistence=e,this.Rs=new Ee(t=>au(t),ic),this.lastRemoteSnapshotVersion=bi.min(),this.highestTargetId=0,this.bs=0,this.Ps=new nd,this.targetCount=0,this.vs=Gc.Pn()}forEachTarget(e,t){return this.Rs.forEach((a,f)=>t(f)),cn.resolve()}getLastRemoteSnapshotVersion(e){return cn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return cn.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),cn.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.bs&&(this.bs=t),cn.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Gc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,cn.resolve()}updateTargetData(e,t){return this.Dn(t),cn.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,cn.resolve()}removeTargets(e,t,a){let f=0;const y=[];return this.Rs.forEach((M,U)=>{U.sequenceNumber<=t&&null===a.get(U.targetId)&&(this.Rs.delete(M),y.push(this.removeMatchingKeysForTargetId(e,U.targetId)),f++)}),cn.waitFor(y).next(()=>f)}getTargetCount(e){return cn.resolve(this.targetCount)}getTargetData(e,t){const a=this.Rs.get(t)||null;return cn.resolve(a)}addMatchingKeys(e,t,a){return this.Ps.us(t,a),cn.resolve()}removeMatchingKeys(e,t,a){this.Ps.hs(t,a);const f=this.persistence.referenceDelegate,y=[];return f&&t.forEach(M=>{y.push(f.markPotentiallyOrphaned(e,M))}),cn.waitFor(y)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),cn.resolve()}getMatchingKeysForTargetId(e,t){const a=this.Ps.ds(t);return cn.resolve(a)}containsKey(e,t){return cn.resolve(this.Ps.containsKey(t))}}class Ah{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new fo(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Mu(this),this.indexManager=new qu,this.remoteDocumentCache=new id(a=>this.referenceDelegate.xs(a)),this.It=new Tp(t),this.Ns=new xh(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Wc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.Vs[e.toKey()];return a||(a=new xp(t,this.referenceDelegate),this.Vs[e.toKey()]=a),a}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,a){Nn("MemoryPersistence","Starting transaction:",e);const f=new Ap(this.Ss.next());return this.referenceDelegate.ks(),a(f).next(y=>this.referenceDelegate.Os(f).next(()=>y)).toPromise().then(y=>(f.raiseOnCommittedEvent(),y))}Ms(e,t){return cn.or(Object.values(this.Vs).map(a=>()=>a.containsKey(e,t)))}}class Ap extends Jl{constructor(e){super(),this.currentSequenceNumber=e}}class rd{constructor(e){this.persistence=e,this.Fs=new nd,this.$s=null}static Bs(e){return new rd(e)}get Ls(){if(this.$s)return this.$s;throw ii()}addReference(e,t,a){return this.Fs.addReference(a,t),this.Ls.delete(a.toString()),cn.resolve()}removeReference(e,t,a){return this.Fs.removeReference(a,t),this.Ls.add(a.toString()),cn.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),cn.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(f=>this.Ls.add(f.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(f=>{f.forEach(y=>this.Ls.add(y.toString()))}).next(()=>a.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return cn.forEach(this.Ls,a=>{const f=zn.fromPath(a);return this.Us(e,f).next(y=>{y||t.removeEntry(f,bi.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(a=>{a?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return cn.or([()=>cn.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class kh{constructor(e){this.It=e}$(e,t,a,f){const y=new $r("createOrUpgrade",t);var U;a<1&&f>=1&&(e.createObjectStore("owner"),(U=e).createObjectStore("mutationQueues",{keyPath:"userId"}),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Dg,{unique:!0}),U.createObjectStore("documentMutations"),kp(e),function(U){U.createObjectStore("remoteDocuments")}(e));let M=cn.resolve();return a<3&&f>=3&&(0!==a&&(function(U){U.deleteObjectStore("targetDocuments"),U.deleteObjectStore("targets"),U.deleteObjectStore("targetGlobal")}(e),kp(e)),M=M.next(()=>function(U){const oe=U.store("targetGlobal"),ve={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bi.min().toTimestamp(),targetCount:0};return oe.put("targetGlobalKey",ve)}(y))),a<4&&f>=4&&(0!==a&&(M=M.next(()=>function(U,oe){return oe.store("mutations").W().next(ve=>{U.deleteObjectStore("mutations"),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Dg,{unique:!0});const $e=oe.store("mutations"),yt=ve.map(Zt=>$e.put(Zt));return cn.waitFor(yt)})}(e,y))),M=M.next(()=>{!function(U){U.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&f>=5&&(M=M.next(()=>this.qs(y))),a<6&&f>=6&&(M=M.next(()=>(function(U){U.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(y)))),a<7&&f>=7&&(M=M.next(()=>this.Gs(y))),a<8&&f>=8&&(M=M.next(()=>this.Qs(e,y))),a<9&&f>=9&&(M=M.next(()=>{!function(U){U.objectStoreNames.contains("remoteDocumentChanges")&&U.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&f>=10&&(M=M.next(()=>this.js(y))),a<11&&f>=11&&(M=M.next(()=>{(function(U){U.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(U){U.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&f>=12&&(M=M.next(()=>{!function(U){const oe=U.createObjectStore("documentOverlays",{keyPath:Bd});oe.createIndex("collectionPathOverlayIndex",oc,{unique:!1}),oe.createIndex("collectionGroupOverlayIndex",wm,{unique:!1})}(e)})),a<13&&f>=13&&(M=M.next(()=>function(U){const oe=U.createObjectStore("remoteDocumentsV14",{keyPath:N_});oe.createIndex("documentKeyIndex",F_),oe.createIndex("collectionGroupIndex",Eg)}(e)).next(()=>this.Ws(e,y)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&f>=14&&(M=M.next(()=>this.zs(e,y))),a<15&&f>=15&&(M=M.next(()=>function(U){U.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),U.createObjectStore("indexState",{keyPath:bu}).createIndex("sequenceNumberIndex",Dp,{unique:!1}),U.createObjectStore("indexEntries",{keyPath:Eh}).createIndex("documentKeyIndex",L_,{unique:!1})}(e))),M}Ks(e){let t=0;return e.store("remoteDocuments").Z((a,f)=>{t+=Qu(f)}).next(()=>{const a={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}qs(e){const t=e.store("mutationQueues"),a=e.store("mutations");return t.W().next(f=>cn.forEach(f,y=>{const M=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return a.W("userMutationsIndex",M).next(U=>cn.forEach(U,oe=>{wi(oe.userId===y.userId);const ve=Gl(this.It,oe);return $c(e,y.userId,ve).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(f=>{const y=[];return a.Z((M,U)=>{const oe=new yi(M),ve=[0,ja(oe)];y.push(t.get(ve).next($e=>$e?cn.resolve():t.put({targetId:0,path:ja(oe),sequenceNumber:f.highestListenSequenceNumber})))}).next(()=>cn.waitFor(y))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Tg});const a=t.store("collectionParents"),f=new eo,y=M=>{if(f.add(M)){const U=M.lastSegment(),oe=M.popLast();return a.put({collectionId:U,parent:ja(oe)})}};return t.store("remoteDocuments").Z({X:!0},(M,U)=>{const oe=new yi(M);return y(oe.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([M,U,oe],ve)=>{const $e=Lc(U);return y($e.popLast())}))}js(e){const t=e.store("targets");return t.Z((a,f)=>{const y=go(f),M=Vd(this.It,y);return t.put(M)})}Ws(e,t){const a=t.store("remoteDocuments"),f=[];return a.Z((y,M)=>{const U=t.store("remoteDocumentsV14"),oe=(ve=M,ve.document?new zn(yi.fromString(ve.document.name).popFirst(5)):ve.noDocument?zn.fromSegments(ve.noDocument.path):ve.unknownDocument?zn.fromSegments(ve.unknownDocument.path):ii()).path.toArray();var ve;const $e={prefixPath:oe.slice(0,oe.length-2),collectionGroup:oe[oe.length-2],documentId:oe[oe.length-1],readTime:M.readTime||[0,0],unknownDocument:M.unknownDocument,noDocument:M.noDocument,document:M.document,hasCommittedMutations:!!M.hasCommittedMutations};f.push(U.put($e))}).next(()=>cn.waitFor(f))}zs(e,t){const a=t.store("mutations"),f=is(this.It),y=new Ah(rd.Bs,this.It.re);return a.W().next(M=>{const U=new Map;return M.forEach(oe=>{var ve;let $e=null!==(ve=U.get(oe.userId))&&void 0!==ve?ve:Bi();Gl(this.It,oe).keys().forEach(yt=>$e=$e.add(yt)),U.set(oe.userId,$e)}),cn.forEach(U,(oe,ve)=>{const $e=new sr(ve),yt=Uc.oe(this.It,$e),Zt=y.getIndexManager($e),yn=zl.oe($e,this.It,Zt,y.referenceDelegate);return new Vi(f,yn,yt,Zt).recalculateAndSaveOverlaysForDocumentKeys(new wf(t,fo.at),oe).next()})})}}function kp(s){s.createObjectStore("targetDocuments",{keyPath:bm}).createIndex("documentTargetsIndex",Cm,{unique:!0}),s.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Sg,{unique:!0}),s.createObjectStore("targetGlobal")}const Rh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class If{constructor(e,t,a,f,y,M,U,oe,ve,$e,yt=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=a,this.Hs=y,this.window=M,this.document=U,this.Js=ve,this.Ys=$e,this.Xs=yt,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=Zt=>Promise.resolve(),!If.C())throw new In(un.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Mf(this,f),this.ii=t+"main",this.It=new Tp(oe),this.ri=new Uo(this.ii,this.Xs,new kh(this.It)),this.Cs=new Ip(this.referenceDelegate,this.It),this.remoteDocumentCache=is(this.It),this.Ns=new Tr,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===$e&&Qi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new In(un.FAILED_PRECONDITION,Rh);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new fo(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var a=(0,ut.Z)(function*(f){if(t.started)return e(f)});return function(f){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ut.Z)(function*(a){null===a.newVersion&&(yield e())});return function(a){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ut.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>cc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Sa(e))return Nn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Nn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return lc(e).get("owner").next(t=>cn.resolve(this.mi(t)))}gi(e){return cc(e).delete(this.clientId)}yi(){var e=this;return(0,ut.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const f=na(a,"clientMetadata");return f.W().next(y=>{const M=e.Ii(y,18e5),U=y.filter(oe=>-1===M.indexOf(oe));return cn.forEach(U,oe=>f.delete(oe.clientId)).next(()=>U)})}).catch(()=>[]);if(e.oi)for(const a of t)e.oi.removeItem(e.Ti(a.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?cn.resolve(!0):lc(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new In(un.FAILED_PRECONDITION,Rh);return!1}}return!(!this.networkEnabled||!this.inForeground)||cc(e).W().next(a=>void 0===this.Ii(a,5e3).find(f=>{if(this.clientId!==f.clientId){const M=!this.inForeground&&f.inForeground,U=this.networkEnabled===f.networkEnabled;if(!this.networkEnabled&&f.networkEnabled||M&&U)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Nn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ut.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const a=new wf(t,fo.at);return e._i(a).next(()=>e.gi(a))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(a=>this.pi(a.updateTimeMs,t)&&!this.Ei(a.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>cc(e).W().next(t=>this.Ii(t,18e5).map(a=>a.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return zl.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Sf(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Uc.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,a){Nn("IndexedDbPersistence","Starting transaction:",e);const f="readonly"===t?"readonly":"readwrite",y=15===(M=this.Xs)?Ep:14===M?Cf:13===M?Dm:12===M?B_:11===M?Mg:void ii();var M;let U;return this.ri.runTransaction(e,f,y,oe=>(U=new wf(oe,this.Ss?this.Ss.next():fo.at),"readwrite-primary"===t?this.fi(U).next(ve=>!!ve||this.di(U)).next(ve=>{if(!ve)throw Qi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new In(un.FAILED_PRECONDITION,Fs);return a(U)}).next(ve=>this.wi(U).next(()=>ve)):this.Vi(U).next(()=>a(U)))).then(oe=>(U.raiseOnCommittedEvent(),oe))}Vi(e){return lc(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new In(un.FAILED_PRECONDITION,Rh)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lc(e).put("owner",t)}static C(){return Uo.C()}_i(e){const t=lc(e);return t.get("owner").next(a=>this.mi(a)?(Nn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):cn.resolve())}pi(e,t){const a=Date.now();return!(e<a-t||e>a&&(Qi(`Detected an update time that is in the future: ${e} > ${a}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Le.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const a=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Nn("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Qi("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Qi("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function lc(s){return na(s,"owner")}function cc(s){return na(s,"clientMetadata")}function uc(s,e){let t=s.projectId;return s.isDefaultDatabase||(t+="."+s.database),"firestore/"+e+"/"+t+"/"}class xf{constructor(e,t,a,f){this.targetId=e,this.fromCache=t,this.Si=a,this.Di=f}static Ci(e,t){let a=Bi(),f=Bi();for(const y of t.docChanges)switch(y.type){case 0:a=a.add(y.doc.key);break;case 1:f=f.add(y.doc.key)}return new xf(e,t.fromCache,a,f)}}class Af{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,a,f){return this.ki(e,t).next(y=>y||this.Oi(e,t,f,a)).next(y=>y||this.Mi(e,t))}ki(e,t){if(lu(t))return cn.resolve(null);let a=Jo(t);return this.indexManager.getIndexType(e,a).next(f=>0===f?null:(null!==t.limit&&1===f&&(t=kd(t,null,"F"),a=Jo(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(y=>{const M=Bi(...y);return this.Ni.getDocuments(e,M).next(U=>this.indexManager.getMinOffset(e,a).next(oe=>{const ve=this.Fi(t,U);return this.$i(t,ve,M,oe.readTime)?this.ki(e,kd(t,null,"F")):this.Bi(e,ve,t,oe)}))})))}Oi(e,t,a,f){return lu(t)||f.isEqual(bi.min())?this.Mi(e,t):this.Ni.getDocuments(e,a).next(y=>{const M=this.Fi(t,y);return this.$i(t,M,a,f)?this.Mi(e,t):(pl()<=et.in.DEBUG&&Nn("QueryEngine","Re-using previous result from %s to execute query: %s",f.toString(),cu(t)),this.Bi(e,M,t,Ul(f,-1)))})}Fi(e,t){let a=new ee(_h(e));return t.forEach((f,y)=>{yl(e,y)&&(a=a.add(y))}),a}$i(e,t,a,f){if(null===e.limit)return!1;if(a.size!==t.size)return!0;const y="F"===e.limitType?t.last():t.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(f)>0)}Mi(e,t){return pl()<=et.in.DEBUG&&Nn("QueryEngine","Using full collection scan to execute query:",cu(t)),this.Ni.getDocumentsMatchingQuery(e,t,co.min())}Bi(e,t,a,f){return this.Ni.getDocumentsMatchingQuery(e,a,f).next(y=>(t.forEach(M=>{y=y.insert(M.key,M)}),y))}}class sd{constructor(e,t,a,f){this.persistence=e,this.Li=t,this.It=f,this.Ui=new L(Ti),this.qi=new Ee(y=>au(y),ic),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(a)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vi(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Tm(s,e,t,a){return new sd(s,e,t,a)}function od(s,e){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,ut.Z)(function*(s,e){const t=Zn(s);return yield t.persistence.runTransaction("Handle user change","readonly",a=>{let f;return t.mutationQueue.getAllMutationBatches(a).next(y=>(f=y,t.Qi(e),t.mutationQueue.getAllMutationBatches(a))).next(y=>{const M=[],U=[];let oe=Bi();for(const ve of f){M.push(ve.batchId);for(const $e of ve.mutations)oe=oe.add($e.key)}for(const ve of y){U.push(ve.batchId);for(const $e of ve.mutations)oe=oe.add($e.key)}return t.localDocuments.getDocuments(a,oe).next(ve=>({ji:ve,removedBatchIds:M,addedBatchIds:U}))})})}),Rp.apply(this,arguments)}function Rg(s,e){const t=Zn(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const f=e.batch.keys(),y=t.Gi.newChangeBuffer({trackRemovals:!0});return function(M,U,oe,ve){const $e=oe.batch,yt=$e.keys();let Zt=cn.resolve();return yt.forEach(yn=>{Zt=Zt.next(()=>ve.getEntry(U,yn)).next(En=>{const ri=oe.docVersions.get(yn);wi(null!==ri),En.version.compareTo(ri)<0&&($e.applyToRemoteDocument(En,oe),En.isValidDocument()&&(En.setReadTime(oe.commitVersion),ve.addEntry(En)))})}),Zt.next(()=>M.mutationQueue.removeMutationBatch(U,$e))}(t,a,e,y).next(()=>y.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,f,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(M){let U=Bi();for(let oe=0;oe<M.mutationResults.length;++oe)M.mutationResults[oe].transformResults.length>0&&(U=U.add(M.batch.mutations[oe].key));return U}(e))).next(()=>t.localDocuments.getDocuments(a,f))})}function El(s){const e=Zn(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Op(s,e){const t=Zn(s),a=e.snapshotVersion;let f=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const M=t.Gi.newChangeBuffer({trackRemovals:!0});f=t.Ui;const U=[];e.targetChanges.forEach(($e,yt)=>{const Zt=f.get(yt);if(!Zt)return;U.push(t.Cs.removeMatchingKeys(y,$e.removedDocuments,yt).next(()=>t.Cs.addMatchingKeys(y,$e.addedDocuments,yt)));let yn=Zt.withSequenceNumber(y.currentSequenceNumber);var En,ri,hi;e.targetMismatches.has(yt)?yn=yn.withResumeToken(kn.EMPTY_BYTE_STRING,bi.min()).withLastLimboFreeSnapshotVersion(bi.min()):$e.resumeToken.approximateByteSize()>0&&(yn=yn.withResumeToken($e.resumeToken,a)),f=f.insert(yt,yn),ri=yn,hi=$e,(0===(En=Zt).resumeToken.approximateByteSize()||ri.snapshotVersion.toMicroseconds()-En.snapshotVersion.toMicroseconds()>=3e8||hi.addedDocuments.size+hi.modifiedDocuments.size+hi.removedDocuments.size>0)&&U.push(t.Cs.updateTargetData(y,yn))});let oe=an(),ve=Bi();if(e.documentUpdates.forEach($e=>{e.resolvedLimboDocuments.has($e)&&U.push(t.persistence.referenceDelegate.updateLimboDocument(y,$e))}),U.push(Pp(y,M,e.documentUpdates).next($e=>{oe=$e.Wi,ve=$e.zi})),!a.isEqual(bi.min())){const $e=t.Cs.getLastRemoteSnapshotVersion(y).next(yt=>t.Cs.setTargetsMetadata(y,y.currentSequenceNumber,a));U.push($e)}return cn.waitFor(U).next(()=>M.apply(y)).next(()=>t.localDocuments.getLocalViewOfDocuments(y,oe,ve)).next(()=>oe)}).then(y=>(t.Ui=f,y))}function Pp(s,e,t){let a=Bi(),f=Bi();return t.forEach(y=>a=a.add(y)),e.getEntries(s,a).next(y=>{let M=an();return t.forEach((U,oe)=>{const ve=y.get(U);oe.isFoundDocument()!==ve.isFoundDocument()&&(f=f.add(U)),oe.isNoDocument()&&oe.version.isEqual(bi.min())?(e.removeEntry(U,oe.readTime),M=M.insert(U,oe)):!ve.isValidDocument()||oe.version.compareTo(ve.version)>0||0===oe.version.compareTo(ve.version)&&ve.hasPendingWrites?(e.addEntry(oe),M=M.insert(U,oe)):Nn("LocalStore","Ignoring outdated watch update for ",U,". Current version:",ve.version," Watch version:",oe.version)}),{Wi:M,zi:f}})}function Np(s,e){const t=Zn(s);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function Gd(s,e){const t=Zn(s);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let f;return t.Cs.getTargetData(a,e).next(y=>y?(f=y,cn.resolve(f)):t.Cs.allocateTargetId(a).next(M=>(f=new Cu(e,M,0,a.currentSequenceNumber),t.Cs.addTargetData(a,f).next(()=>f))))}).then(a=>{const f=t.Ui.get(a.targetId);return(null===f||a.snapshotVersion.compareTo(f.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(a.targetId,a),t.qi.set(e,a.targetId)),a})}function Kc(s,e,t){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,ut.Z)(function*(s,e,t){const a=Zn(s),f=a.Ui.get(e),y=t?"readwrite":"readwrite-primary";try{t||(yield a.persistence.runTransaction("Release target",y,M=>a.persistence.referenceDelegate.removeTarget(M,f)))}catch(M){if(!Sa(M))throw M;Nn("LocalStore",`Failed to update sequence numbers for target ${e}: ${M}`)}a.Ui=a.Ui.remove(e),a.qi.delete(f.target)}),Fp.apply(this,arguments)}function ad(s,e,t){const a=Zn(s);let f=bi.min(),y=Bi();return a.persistence.runTransaction("Execute query","readonly",M=>function(U,oe,ve){const $e=Zn(U),yt=$e.qi.get(ve);return void 0!==yt?cn.resolve($e.Ui.get(yt)):$e.Cs.getTargetData(oe,ve)}(a,M,Jo(e)).next(U=>{if(U)return f=U.lastLimboFreeSnapshotVersion,a.Cs.getMatchingKeysForTargetId(M,U.targetId).next(oe=>{y=oe})}).next(()=>a.Li.getDocumentsMatchingQuery(M,e,t?f:bi.min(),t?y:Bi())).next(U=>(kf(a,uu(e),U),{documents:U,Hi:y})))}function Oh(s,e){const t=Zn(s),a=Zn(t.Cs),f=t.Ui.get(e);return f?Promise.resolve(f.target):t.persistence.runTransaction("Get target data","readonly",y=>a.se(y,e).next(M=>M?M.target:null))}function Og(s,e){const t=Zn(s),a=t.Ki.get(e)||bi.min();return t.persistence.runTransaction("Get new document changes","readonly",f=>t.Gi.getAllFromCollectionGroup(f,e,Ul(a,-1),Number.MAX_SAFE_INTEGER)).then(f=>(kf(t,e,f),f))}function kf(s,e,t){let a=s.Ki.get(e)||bi.min();t.forEach((f,y)=>{y.readTime.compareTo(a)>0&&(a=y.readTime)}),s.Ki.set(e,a)}function zd(){return zd=(0,ut.Z)(function*(s,e,t,a){const f=Zn(s);let y=Bi(),M=an();for(const ve of t){const $e=e.Ji(ve.metadata.name);ve.document&&(y=y.add($e));const yt=e.Yi(ve);yt.setReadTime(e.Xi(ve.metadata.readTime)),M=M.insert($e,yt)}const U=f.Gi.newChangeBuffer({trackRemovals:!0}),oe=yield Gd(f,(ve=a,Jo(vl(yi.fromString(`__bundle__/docs/${ve}`)))));var ve;return f.persistence.runTransaction("Apply bundle documents","readwrite",ve=>Pp(ve,U,M).next($e=>(U.apply(ve),$e)).next($e=>f.Cs.removeMatchingKeysForTargetId(ve,oe.targetId).next(()=>f.Cs.addMatchingKeys(ve,y,oe.targetId)).next(()=>f.localDocuments.getLocalViewOfDocuments(ve,$e.Wi,$e.zi)).next(()=>$e.Wi)))}),zd.apply(this,arguments)}function Ph(s,e){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,ut.Z)(function*(s,e,t=Bi()){const a=yield Gd(s,Jo(Pr(e.bundledQuery))),f=Zn(s);return f.persistence.runTransaction("Save named query","readwrite",y=>{const M=Hs(e.readTime);if(a.snapshotVersion.compareTo(M)>=0)return f.Ns.saveNamedQuery(y,e);const U=a.withResumeToken(kn.EMPTY_BYTE_STRING,M);return f.Ui=f.Ui.insert(U.targetId,U),f.Cs.updateTargetData(y,U).next(()=>f.Cs.removeMatchingKeysForTargetId(y,a.targetId)).next(()=>f.Cs.addMatchingKeys(y,t,a.targetId)).next(()=>f.Ns.saveNamedQuery(y,e))})}),Rf.apply(this,arguments)}function Mm(s,e){return`firestore_clients_${s}_${e}`}function D(s,e,t){let a=`firestore_mutations_${s}_${t}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function T(s,e){return`firestore_targets_${s}_${e}`}class u{constructor(e,t,a,f){this.user=e,this.batchId=t,this.state=a,this.error=f}static Zi(e,t,a){const f=JSON.parse(a);let y,M="object"==typeof f&&-1!==["pending","acknowledged","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error);return M&&f.error&&(M="string"==typeof f.error.message&&"string"==typeof f.error.code,M&&(y=new In(f.error.code,f.error.message))),M?new u(e,t,f.state,y):(Qi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${a}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _{constructor(e,t,a){this.targetId=e,this.state=t,this.error=a}static Zi(e,t){const a=JSON.parse(t);let f,y="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return y&&a.error&&(y="string"==typeof a.error.message&&"string"==typeof a.error.code,y&&(f=new In(a.error.code,a.error.message))),y?new _(e,a.state,f):(Qi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class O{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const a=JSON.parse(t);let f="object"==typeof a&&a.activeTargetIds instanceof Array,y=gu();for(let M=0;f&&M<a.activeTargetIds.length;++M)f=tc(a.activeTargetIds[M]),y=y.add(a.activeTargetIds[M]);return f?new O(e,y):(Qi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class ie{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ie(t.clientId,t.onlineState):(Qi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class wt{constructor(){this.activeTargetIds=gu()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jt{constructor(e,t,a,f,y){this.window=e,this.Hs=t,this.persistenceKey=a,this.sr=f,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new L(Ti),this.started=!1,this.cr=[];const M=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.ar=Mm(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new wt),this.lr=new RegExp(`^firestore_clients_${M}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${M}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${M}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(U){return`firestore_bundle_loaded_v2_${U}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ut.Z)(function*(){const t=yield e.syncEngine.vi();for(const f of t){if(f===e.sr)continue;const y=e.getItem(Mm(e.persistenceKey,f));if(y){const M=O.Zi(f,y);M&&(e.ur=e.ur.insert(M.clientId,M))}}e.gr();const a=e.storage.getItem(e.wr);if(a){const f=e.yr(a);f&&e.pr(f)}for(const f of e.cr)e.rr(f);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((a,f)=>{f.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,a){this.Tr(e,t,a),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(T(this.persistenceKey,e));if(a){const f=_.Zi(e,a);f&&(t=f.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(T(this.persistenceKey,e))}updateQueryState(e,t,a){this.Rr(e,t,a)}handleUserChange(e,t,a){t.forEach(f=>{this.Er(f)}),this.currentUser=e,a.forEach(f=>{this.addPendingMutation(f)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Nn("SharedClientState","READ",e,t),t}setItem(e,t){Nn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Nn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const a=e;if(a.storageArea===this.storage){if(Nn("SharedClientState","EVENT",a.key,a.newValue),a.key===this.ar)return void Qi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ut.Z)(function*(){if(t.started){if(null!==a.key)if(t.lr.test(a.key)){if(null==a.newValue){const f=t.vr(a.key);return t.Vr(f,null)}{const f=t.Sr(a.key,a.newValue);if(f)return t.Vr(f.clientId,f)}}else if(t.dr.test(a.key)){if(null!==a.newValue){const f=t.Dr(a.key,a.newValue);if(f)return t.Cr(f)}}else if(t._r.test(a.key)){if(null!==a.newValue){const f=t.Nr(a.key,a.newValue);if(f)return t.kr(f)}}else if(a.key===t.wr){if(null!==a.newValue){const f=t.yr(a.newValue);if(f)return t.pr(f)}}else if(a.key===t.hr){const f=function(y){let M=fo.at;if(null!=y)try{const U=JSON.parse(y);wi("number"==typeof U),M=U}catch(U){Qi("SharedClientState","Failed to read sequence number from WebStorage",U)}return M}(a.newValue);f!==fo.at&&t.sequenceNumberHandler(f)}else if(a.key===t.mr){const f=t.Or(a.newValue);yield Promise.all(f.map(y=>t.syncEngine.Mr(y)))}}else t.cr.push(a)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,a){const f=new u(this.currentUser,e,t,a),y=D(this.persistenceKey,this.currentUser,e);this.setItem(y,f.tr())}Er(e){const t=D(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,a){const f=T(this.persistenceKey,e),y=new _(e,t,a);this.setItem(f,y.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const a=this.vr(e);return O.Zi(a,t)}Dr(e,t){const a=this.dr.exec(e),f=Number(a[1]);return u.Zi(new sr(void 0!==a[2]?a[2]:null),f,t)}Nr(e,t){const a=this._r.exec(e),f=Number(a[1]);return _.Zi(f,t)}yr(e){return ie.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ut.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Nn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const a=t?this.ur.insert(e,t):this.ur.remove(e),f=this.Ir(this.ur),y=this.Ir(a),M=[],U=[];return y.forEach(oe=>{f.has(oe)||M.push(oe)}),f.forEach(oe=>{y.has(oe)||U.push(oe)}),this.syncEngine.Br(M,U).then(()=>{this.ur=a})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=gu();return e.forEach((a,f)=>{t=t.unionWith(f.activeTargetIds)}),t}}class Rn{constructor(){this.Lr=new wt,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,a){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new wt,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gi{qr(e){}shutdown(){}}class ci{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Nn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Nn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const tr={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ui{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class ya extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,a,f,y){const M=this.ho(e,t);Nn("RestConnection","Sending: ",M,a);const U={};return this.lo(U,f,y),this.fo(e,M,U,a).then(oe=>(Nn("RestConnection","Received: ",oe),oe),oe=>{throw tl("RestConnection",`${e} failed with error: `,oe,"url: ",M,"request:",a),oe})}_o(e,t,a,f,y,M){return this.ao(e,t,a,f,y)}lo(e,t,a){e["X-Goog-Api-Client"]="gl-js/ fire/"+fa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((f,y)=>e[y]=f),a&&a.headers.forEach((f,y)=>e[y]=f)}ho(e,t){return`${this.oo}/v1/${t}:${tr[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,a,f){return new Promise((y,M)=>{const U=new ou;U.setWithCredentials(!0),U.listenOnce(kl.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case Cc.NO_ERROR:const ve=U.getResponseJson();Nn("Connection","XHR received:",JSON.stringify(ve)),y(ve);break;case Cc.TIMEOUT:Nn("Connection",'RPC "'+e+'" timed out'),M(new In(un.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const $e=U.getStatus();if(Nn("Connection",'RPC "'+e+'" failed with status:',$e,"response text:",U.getResponseText()),$e>0){const yt=U.getResponseJson().error;if(yt&&yt.status&&yt.message){const Zt=function(yn){const En=yn.toLowerCase().replace(/_/g,"-");return Object.values(un).indexOf(En)>=0?En:un.UNKNOWN}(yt.status);M(new In(Zt,yt.message))}else M(new In(un.UNKNOWN,"Server responded with status "+U.getStatus()))}else M(new In(un.UNAVAILABLE,"Connection failed."));break;default:ii()}}finally{Nn("Connection",'RPC "'+e+'" completed.')}});const oe=JSON.stringify(f);U.send(t,"POST",oe,a,15)})}wo(e,t,a){const f=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],y=Nu(),M=Sd(),U={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(U.xmlHttpFactory=new Ol({})),this.lo(U.initMessageHeaders,t,a),U.encodeInitMessageHeaders=!0;const oe=f.join("");Nn("Connection","Creating WebChannel: "+oe,U);const ve=y.createWebChannel(oe,U);let $e=!1,yt=!1;const Zt=new Ui({Hr:En=>{yt?Nn("Connection","Not sending because WebChannel is closed:",En):($e||(Nn("Connection","Opening WebChannel transport."),ve.open(),$e=!0),Nn("Connection","WebChannel sending:",En),ve.send(En))},Jr:()=>ve.close()}),yn=(En,ri,hi)=>{En.listen(ri,Hn=>{try{hi(Hn)}catch(ei){setTimeout(()=>{throw ei},0)}})};return yn(ve,Fa.EventType.OPEN,()=>{yt||Nn("Connection","WebChannel transport opened.")}),yn(ve,Fa.EventType.CLOSE,()=>{yt||(yt=!0,Nn("Connection","WebChannel transport closed"),Zt.io())}),yn(ve,Fa.EventType.ERROR,En=>{yt||(yt=!0,tl("Connection","WebChannel transport errored:",En),Zt.io(new In(un.UNAVAILABLE,"The operation could not be completed")))}),yn(ve,Fa.EventType.MESSAGE,En=>{var ri;if(!yt){const hi=En.data[0];wi(!!hi);const Hn=hi,ei=Hn.error||(null===(ri=Hn[0])||void 0===ri?void 0:ri.error);if(ei){Nn("Connection","WebChannel received error:",ei);const ti=ei.status;let Mi=function(ar){const Hr=b[ar];if(void 0!==Hr)return pe(Hr)}(ti),ki=ei.message;void 0===Mi&&(Mi=un.INTERNAL,ki="Unknown error status: "+ti+" with message "+ei.message),yt=!0,Zt.io(new In(Mi,ki)),ve.close()}else Nn("Connection","WebChannel received:",hi),Zt.ro(hi)}}),yn(M,Rl.STAT_EVENT,En=>{En.stat===ha.PROXY?Nn("Connection","Detected buffering proxy"):En.stat===ha.NOPROXY&&Nn("Connection","Detected no buffering proxy")}),setTimeout(()=>{Zt.so()},0),Zt}}function Wd(){return typeof window<"u"?window:null}function Ga(){return typeof document<"u"?document:null}function sa(s){return new gp(s,!0)}class Nh{constructor(e,t,a=1e3,f=1.5,y=6e4){this.Hs=e,this.timerId=t,this.mo=a,this.yo=f,this.po=y,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),a=Math.max(0,Date.now()-this.Eo),f=Math.max(0,t-a);f>0&&Nn("ExponentialBackoff",`Backing off for ${f} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,f,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Fh{constructor(e,t,a,f,y,M,U,oe){this.Hs=e,this.vo=a,this.Vo=f,this.connection=y,this.authCredentialsProvider=M,this.appCheckCredentialsProvider=U,this.listener=oe,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Nh(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,ut.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ut.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var a=this;return(0,ut.Z)(function*(){a.Lo(),a.Uo(),a.xo.cancel(),a.So++,4!==e?a.xo.reset():t&&t.code===un.RESOURCE_EXHAUSTED?(Qi(t.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),a.xo.Ao()):t&&t.code===un.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.qo(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,f])=>{this.So===t&&this.Go(a,f)},a=>{e(()=>{const f=new In(un.UNKNOWN,"Fetching auth token failed: "+a.message);return this.Qo(f)})})}Go(e,t){const a=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{a(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(f=>{a(()=>this.Qo(f))}),this.stream.onMessage(f=>{a(()=>this.onMessage(f))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,ut.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Nn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Nn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Yd extends Fh{constructor(e,t,a,f,y,M){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,f,M),this.It=y}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function vp(s,e){let t;if("targetChange"in e){const a="NO_CHANGE"===(oe=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===oe?1:"REMOVE"===oe?2:"CURRENT"===oe?3:"RESET"===oe?4:ii(),f=e.targetChange.targetIds||[],y=function(oe,ve){return oe.gt?(wi(void 0===ve||"string"==typeof ve),kn.fromBase64String(ve||"")):(wi(void 0===ve||ve instanceof Uint8Array),kn.fromUint8Array(ve||new Uint8Array))}(s,e.targetChange.resumeToken),M=e.targetChange.cause,U=M&&function(oe){const ve=void 0===oe.code?un.UNKNOWN:pe(oe.code);return new In(ve,oe.message||"")}(M);t=new Oc(a,f,y,U||null)}else if("documentChange"in e){const a=e.documentChange,f=Ha(s,a.document.name),y=Hs(a.document.updateTime),M=new Xr({mapValue:{fields:a.document.fields}}),U=yr.newFoundDocument(f,y,M);t=new bl(a.targetIds||[],a.removedTargetIds||[],U.key,U)}else if("documentDelete"in e){const a=e.documentDelete,f=Ha(s,a.document),y=a.readTime?Hs(a.readTime):bi.min(),M=yr.newNoDocument(f,y);t=new bl([],a.removedTargetIds||[],M.key,M)}else if("documentRemove"in e){const a=e.documentRemove,f=Ha(s,a.document);t=new bl([],a.removedTargetIds||[],f,null)}else{if(!("filter"in e))return ii();{const a=e.filter,y=new R(a.count||0);t=new zu(a.targetId,y)}}var oe;return t}(this.It,e),a=function(f){if(!("targetChange"in f))return bi.min();const y=f.targetChange;return y.targetIds&&y.targetIds.length?bi.min():y.readTime?Hs(y.readTime):bi.min()}(e);return this.listener.Wo(t,a)}zo(e){const t={};t.database=vu(this.It),t.addTarget=function(f,y){let M;const U=y.target;return M=Lu(U)?{documents:Ld(f,U)}:{query:yp(f,U)},M.targetId=y.targetId,y.resumeToken.approximateByteSize()>0?M.resumeToken=Pc(f,y.resumeToken):y.snapshotVersion.compareTo(bi.min())>0&&(M.readTime=_u(f,y.snapshotVersion.toTimestamp())),M}(this.It,e);const a=function Ch(s,e){const t=function(a,f){switch(f){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ii()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);a&&(t.labels=a),this.Bo(t)}Ho(e){const t={};t.database=vu(this.It),t.removeTarget=e,this.Bo(t)}}class Im extends Fh{constructor(e,t,a,f,y,M){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,f,M),this.It=y,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(wi(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function _m(s,e){return s&&s.length>0?(wi(void 0!==e),s.map(t=>function(a,f){let y=Hs(a.updateTime?a.updateTime:f);return y.isEqual(bi.min())&&(y=Hs(f)),new pp(y,a.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),a=Hs(e.commitTime);return this.listener.Zo(a,t)}return wi(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=vu(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>yu(this.It,a))};this.Bo(t)}}class ld extends class{}{constructor(e,t,a,f){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.It=f,this.nu=!1}su(){if(this.nu)throw new In(un.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,a){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,y])=>this.connection.ao(e,t,a,f,y)).catch(f=>{throw"FirebaseError"===f.name?(f.code===un.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new In(un.UNKNOWN,f.toString())})}_o(e,t,a,f){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,M])=>this.connection._o(e,t,a,y,M,f)).catch(y=>{throw"FirebaseError"===y.name?(y.code===un.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new In(un.UNKNOWN,y.toString())})}terminate(){this.nu=!0}}class xm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Qi(t),this.ou=!1):Nn("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Ds{constructor(e,t,a,f,y){var M=this;this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=y,this.mu.qr(U=>{a.enqueueAndForget((0,ut.Z)(function*(){var oe;dc(M)&&(Nn("RemoteStore","Restarting streams for network reachability change."),yield(oe=(0,ut.Z)(function*(ve){const $e=Zn(ve);$e._u.add(4),yield Kd($e),$e.gu.set("Unknown"),$e._u.delete(4),yield za($e)}),function(ve){return oe.apply(this,arguments)})(M))}))}),this.gu=new xm(a,f)}}function za(s){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,ut.Z)(function*(s){if(dc(s))for(const e of s.wu)yield e(!0)}),Bh.apply(this,arguments)}function Kd(s){return Am.apply(this,arguments)}function Am(){return Am=(0,ut.Z)(function*(s){for(const e of s.wu)yield e(!1)}),Am.apply(this,arguments)}function Pf(s,e){const t=Zn(s);t.du.has(e.targetId)||(t.du.set(e.targetId,e),ud(t)?Nf(t):Vf(t).ko()&&Lp(t,e))}function Zc(s,e){const t=Zn(s),a=Vf(t);t.du.delete(e),a.ko()&&cd(t,e),0===t.du.size&&(a.ko()?a.Fo():dc(t)&&t.gu.set("Unknown"))}function Lp(s,e){s.yu.Mt(e.targetId),Vf(s).zo(e)}function cd(s,e){s.yu.Mt(e),Vf(s).Ho(e)}function Nf(s){s.yu=new ll({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),se:e=>s.du.get(e)||null}),Vf(s).start(),s.gu.uu()}function ud(s){return dc(s)&&!Vf(s).No()&&s.du.size>0}function dc(s){return 0===Zn(s)._u.size}function km(s){s.yu=void 0}function Pg(s){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,ut.Z)(function*(s){s.du.forEach((e,t)=>{Lp(s,e)})}),Ng.apply(this,arguments)}function ly(s,e){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,ut.Z)(function*(s,e){km(s),ud(s)?(s.gu.hu(e),Nf(s)):s.gu.set("Unknown")}),Zd.apply(this,arguments)}function U_(s,e,t){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,ut.Z)(function*(s,e,t){if(s.gu.set("Online"),e instanceof Oc&&2===e.state&&e.cause)try{yield(a=(0,ut.Z)(function*(f,y){const M=y.cause;for(const U of y.targetIds)f.du.has(U)&&(yield f.remoteSyncer.rejectListen(U,M),f.du.delete(U),f.yu.removeTarget(U))}),function(f,y){return a.apply(this,arguments)})(s,e)}catch(a){Nn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Vh(s,a)}else if(e instanceof bl?s.yu.Gt(e):e instanceof zu?s.yu.Yt(e):s.yu.Wt(e),!t.isEqual(bi.min()))try{const a=yield El(s.localStore);t.compareTo(a)>=0&&(yield function(f,y){const M=f.yu.te(y);return M.targetChanges.forEach((U,oe)=>{if(U.resumeToken.approximateByteSize()>0){const ve=f.du.get(oe);ve&&f.du.set(oe,ve.withResumeToken(U.resumeToken,y))}}),M.targetMismatches.forEach(U=>{const oe=f.du.get(U);if(!oe)return;f.du.set(U,oe.withResumeToken(kn.EMPTY_BYTE_STRING,oe.snapshotVersion)),cd(f,U);const ve=new Cu(oe.target,U,1,oe.sequenceNumber);Lp(f,ve)}),f.remoteSyncer.applyRemoteEvent(M)}(s,t))}catch(a){Nn("RemoteStore","Failed to raise snapshot:",a),yield Vh(s,a)}var a}),Rm.apply(this,arguments)}function Vh(s,e,t){return Sl.apply(this,arguments)}function Sl(){return Sl=(0,ut.Z)(function*(s,e,t){if(!Sa(e))throw e;s._u.add(1),yield Kd(s),s.gu.set("Offline"),t||(t=()=>El(s.localStore)),s.asyncQueue.enqueueRetryable((0,ut.Z)(function*(){Nn("RemoteStore","Retrying IndexedDB access"),yield t(),s._u.delete(1),yield za(s)}))}),Sl.apply(this,arguments)}function Om(s,e){return e().catch(t=>Vh(s,t,e))}function Ff(s){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,ut.Z)(function*(s){const e=Zn(s),t=fd(e);let a=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;dd(e);)try{const f=yield Np(e.localStore,a);if(null===f){0===e.fu.length&&t.Fo();break}a=f.batchId,Fg(e,f)}catch(f){yield Vh(e,f)}Lg(e)&&Pm(e)}),Bp.apply(this,arguments)}function dd(s){return dc(s)&&s.fu.length<10}function Fg(s,e){s.fu.push(e);const t=fd(s);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Lg(s){return dc(s)&&!fd(s).No()&&s.fu.length>0}function Pm(s){fd(s).start()}function Bg(s){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,ut.Z)(function*(s){fd(s).eu()}),Lf.apply(this,arguments)}function Nv(s){return hd.apply(this,arguments)}function hd(){return hd=(0,ut.Z)(function*(s){const e=fd(s);for(const t of s.fu)e.Xo(t.mutations)}),hd.apply(this,arguments)}function Nm(s,e,t){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,ut.Z)(function*(s,e,t){const a=s.fu.shift(),f=Em.from(a,e,t);yield Om(s,()=>s.remoteSyncer.applySuccessfulWrite(f)),yield Ff(s)}),Uh.apply(this,arguments)}function Fm(s,e){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,ut.Z)(function*(s,e){var t;e&&fd(s).Yo&&(yield(t=(0,ut.Z)(function*(a,f){if(B(y=f.code)&&y!==un.ABORTED){const M=a.fu.shift();fd(a).Mo(),yield Om(a,()=>a.remoteSyncer.rejectFailedWrite(M.batchId,f)),yield Ff(a)}var y}),function(a,f){return t.apply(this,arguments)})(s,e)),Lg(s)&&Pm(s)}),Bf.apply(this,arguments)}function Fv(s,e){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,ut.Z)(function*(s,e){const t=Zn(s);t.asyncQueue.verifyOperationInProgress(),Nn("RemoteStore","RemoteStore received new credentials");const a=dc(t);t._u.add(3),yield Kd(t),a&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield za(t)}),Vg.apply(this,arguments)}function Lm(s,e){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,ut.Z)(function*(s,e){const t=Zn(s);e?(t._u.delete(2),yield za(t)):e||(t._u.add(2),yield Kd(t),t.gu.set("Unknown"))}),Vp.apply(this,arguments)}function Vf(s){return s.pu||(s.pu=function(e,t,a){const f=Zn(e);return f.su(),new Yd(t,f.connection,f.authCredentials,f.appCheckCredentials,f.It,a)}(s.datastore,s.asyncQueue,{Yr:Pg.bind(null,s),Zr:ly.bind(null,s),Wo:U_.bind(null,s)}),s.wu.push(function(){var e=(0,ut.Z)(function*(t){t?(s.pu.Mo(),ud(s)?Nf(s):s.gu.set("Unknown")):(yield s.pu.stop(),km(s))});return function(t){return e.apply(this,arguments)}}())),s.pu}function fd(s){return s.Iu||(s.Iu=function(e,t,a){const f=Zn(e);return f.su(),new Im(t,f.connection,f.authCredentials,f.appCheckCredentials,f.It,a)}(s.datastore,s.asyncQueue,{Yr:Bg.bind(null,s),Zr:Fm.bind(null,s),tu:Nv.bind(null,s),Zo:Nm.bind(null,s)}),s.wu.push(function(){var e=(0,ut.Z)(function*(t){t?(s.Iu.Mo(),yield Ff(s)):(yield s.Iu.stop(),s.fu.length>0&&(Nn("RemoteStore",`Stopping write stream with ${s.fu.length} pending writes`),s.fu=[]))});return function(t){return e.apply(this,arguments)}}())),s.Iu}class H_{constructor(e,t,a,f,y){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=f,this.removalCallback=y,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(M=>{})}static createAndSchedule(e,t,a,f,y){const M=Date.now()+a,U=new H_(e,t,M,f,y);return U.start(a),U}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new In(un.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uf(s,e){if(Qi("AsyncQueue",`${e}: ${s}`),Sa(s))return new In(un.UNAVAILABLE,`${e}: ${s}`);throw s}class Hf{constructor(e){this.comparator=e?(t,a)=>e(t,a)||zn.comparator(t.key,a.key):(t,a)=>zn.comparator(t.key,a.key),this.keyedMap=Un(),this.sortedSet=new L(this.comparator)}static emptySet(e){return new Hf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Hf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const f=t.getNext().key,y=a.getNext().key;if(!f.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const a=new Hf;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}class jf{constructor(){this.Tu=new L(zn.comparator)}track(e){const t=e.doc.key,a=this.Tu.get(t);a?0!==e.type&&3===a.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==a.type?this.Tu=this.Tu.insert(t,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Tu=this.Tu.remove(t):1===e.type&&2===a.type?this.Tu=this.Tu.insert(t,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):ii():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,a)=>{e.push(a)}),e}}class pd{constructor(e,t,a,f,y,M,U,oe,ve){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=f,this.mutatedKeys=y,this.fromCache=M,this.syncStateChanged=U,this.excludesMetadataChanges=oe,this.hasCachedResults=ve}static fromInitialDocuments(e,t,a,f,y){const M=[];return t.forEach(U=>{M.push({type:0,doc:U})}),new pd(e,t,Hf.emptySet(t),M,a,f,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let f=0;f<t.length;f++)if(t[f].type!==a[f].type||!t[f].doc.isEqual(a[f].doc))return!1;return!0}}class j_{constructor(){this.Au=void 0,this.listeners=[]}}class Ug{constructor(){this.queries=new Ee(e=>uf(e),Vu),this.onlineState="Unknown",this.Ru=new Set}}function Hg(s,e){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,ut.Z)(function*(s,e){const t=Zn(s),a=e.query;let f=!1,y=t.queries.get(a);if(y||(f=!0,y=new j_),f)try{y.Au=yield t.onListen(a)}catch(M){const U=Uf(M,`Initialization of query '${cu(e.query)}' failed`);return void e.onError(U)}t.queries.set(a,y),y.listeners.push(e),e.bu(t.onlineState),y.Au&&e.Pu(y.Au)&&z_(t)}),Bm.apply(this,arguments)}function $_(s,e){return G_.apply(this,arguments)}function G_(){return G_=(0,ut.Z)(function*(s,e){const t=Zn(s),a=e.query;let f=!1;const y=t.queries.get(a);if(y){const M=y.listeners.indexOf(e);M>=0&&(y.listeners.splice(M,1),f=0===y.listeners.length)}if(f)return t.queries.delete(a),t.onUnlisten(a)}),G_.apply(this,arguments)}function cy(s,e){const t=Zn(s);let a=!1;for(const f of e){const M=t.queries.get(f.query);if(M){for(const U of M.listeners)U.Pu(f)&&(a=!0);M.Au=f}}a&&z_(t)}function uy(s,e,t){const a=Zn(s),f=a.queries.get(e);if(f)for(const y of f.listeners)y.onError(t);a.queries.delete(e)}function z_(s){s.Ru.forEach(e=>{e.next()})}class W_{constructor(e,t,a){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=a||{}}Pu(e){if(!this.options.includeMetadataChanges){const a=[];for(const f of e.docChanges)3!==f.type&&a.push(f);e=new pd(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=pd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class dy{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class Y_{constructor(e){this.It=e}Ji(e){return Ha(this.It,e)}Yi(e){return e.metadata.exists?mm(this.It,e.document,!1):yr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Hs(e)}}class qd{constructor(e,t,a){this.Mu=e,this.localStore=t,this.It=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Up(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const a=yi.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,a=new Y_(this.It);for(const f of e)if(f.metadata.queries){const y=a.Ji(f.metadata.name);for(const M of f.metadata.queries){const U=(t.get(M)||Bi()).add(y);t.set(M,U)}}return t}complete(){var e=this;return(0,ut.Z)(function*(){const t=yield function Ri(s,e,t,a){return zd.apply(this,arguments)}(e.localStore,new Y_(e.It),e.documents,e.Mu.id),a=e.$u(e.documents);for(const f of e.queries)yield Ph(e.localStore,f,a.get(f.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Up(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class jg{constructor(e){this.key=e}}class $g{constructor(e){this.key=e}}class Hp{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Bi(),this.mutatedKeys=Bi(),this.Gu=_h(e),this.Qu=new Hf(this.Gu)}get ju(){return this.Uu}Wu(e,t){const a=t?t.zu:new jf,f=t?t.Qu:this.Qu;let y=t?t.mutatedKeys:this.mutatedKeys,M=f,U=!1;const oe="F"===this.query.limitType&&f.size===this.query.limit?f.last():null,ve="L"===this.query.limitType&&f.size===this.query.limit?f.first():null;if(e.inorderTraversal(($e,yt)=>{const Zt=f.get($e),yn=yl(this.query,yt)?yt:null,En=!!Zt&&this.mutatedKeys.has(Zt.key),ri=!!yn&&(yn.hasLocalMutations||this.mutatedKeys.has(yn.key)&&yn.hasCommittedMutations);let hi=!1;Zt&&yn?Zt.data.isEqual(yn.data)?En!==ri&&(a.track({type:3,doc:yn}),hi=!0):this.Hu(Zt,yn)||(a.track({type:2,doc:yn}),hi=!0,(oe&&this.Gu(yn,oe)>0||ve&&this.Gu(yn,ve)<0)&&(U=!0)):!Zt&&yn?(a.track({type:0,doc:yn}),hi=!0):Zt&&!yn&&(a.track({type:1,doc:Zt}),hi=!0,(oe||ve)&&(U=!0)),hi&&(yn?(M=M.add(yn),y=ri?y.add($e):y.delete($e)):(M=M.delete($e),y=y.delete($e)))}),null!==this.query.limit)for(;M.size>this.query.limit;){const $e="F"===this.query.limitType?M.last():M.first();M=M.delete($e.key),y=y.delete($e.key),a.track({type:1,doc:$e})}return{Qu:M,zu:a,$i:U,mutatedKeys:y}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a){const f=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const y=e.zu.Eu();y.sort((ve,$e)=>function(yt,Zt){const yn=En=>{switch(En){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ii()}};return yn(yt)-yn(Zt)}(ve.type,$e.type)||this.Gu(ve.doc,$e.doc)),this.Ju(a);const M=t?this.Yu():[],U=0===this.Ku.size&&this.current?1:0,oe=U!==this.qu;return this.qu=U,0!==y.length||oe?{snapshot:new pd(this.query,e.Qu,f,y,e.mutatedKeys,0===U,oe,!1,!!a&&a.resumeToken.approximateByteSize()>0),Xu:M}:{Xu:M}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new jf,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Bi(),this.Qu.forEach(a=>{this.Zu(a.key)&&(this.Ku=this.Ku.add(a.key))});const t=[];return e.forEach(a=>{this.Ku.has(a)||t.push(new $g(a))}),this.Ku.forEach(a=>{e.has(a)||t.push(new jg(a))}),t}tc(e){this.Uu=e.Hi,this.Ku=Bi();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return pd.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class jp{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class Vm{constructor(e){this.key=e,this.nc=!1}}class Lv{constructor(e,t,a,f,y,M){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=f,this.currentUser=y,this.maxConcurrentLimboResolutions=M,this.sc={},this.ic=new Ee(U=>uf(U),Vu),this.rc=new Map,this.oc=new Set,this.uc=new L(zn.comparator),this.cc=new Map,this.ac=new nd,this.hc={},this.lc=new Map,this.fc=Gc.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Qd(s,e){return Um.apply(this,arguments)}function Um(){return Um=(0,ut.Z)(function*(s,e){const t=Wm(s);let a,f;const y=t.ic.get(e);if(y)a=y.targetId,t.sharedClientState.addLocalQueryTarget(a),f=y.view.ec();else{const M=yield Gd(t.localStore,Jo(e));t.isPrimaryClient&&Pf(t.remoteStore,M);const U=t.sharedClientState.addLocalQueryTarget(M.targetId);a=M.targetId,f=yield $p(t,e,a,"current"===U,M.resumeToken)}return f}),Um.apply(this,arguments)}function $p(s,e,t,a,f){return Hm.apply(this,arguments)}function Hm(){return Hm=(0,ut.Z)(function*(s,e,t,a,f){s._c=(yt,Zt,yn)=>{return(En=(0,ut.Z)(function*(ri,hi,Hn,ei){let ti=hi.view.Wu(Hn);ti.$i&&(ti=yield ad(ri.localStore,hi.query,!1).then(({documents:ar})=>hi.view.Wu(ar,ti)));const Mi=ei&&ei.targetChanges.get(hi.targetId),ki=hi.view.applyChanges(ti,ri.isPrimaryClient,Mi);return Yg(ri,hi.targetId,ki.Xu),ki.snapshot}),function(ri,hi,Hn,ei){return En.apply(this,arguments)})(s,yt,Zt,yn);var En};const y=yield ad(s.localStore,e,!0),M=new Hp(e,y.Hi),U=M.Wu(y.documents),oe=ta.createSynthesizedTargetChangeForCurrentChange(t,a&&"Offline"!==s.onlineState,f),ve=M.applyChanges(U,s.isPrimaryClient,oe);Yg(s,t,ve.Xu);const $e=new jp(e,t,M);return s.ic.set(e,$e),s.rc.has(t)?s.rc.get(t).push(e):s.rc.set(t,[e]),ve.snapshot}),Hm.apply(this,arguments)}function K_(s,e){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,ut.Z)(function*(s,e){const t=Zn(s),a=t.ic.get(e),f=t.rc.get(a.targetId);if(f.length>1)return t.rc.set(a.targetId,f.filter(y=>!Vu(y,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(a.targetId),t.sharedClientState.isActiveQueryTarget(a.targetId)||(yield Kc(t.localStore,a.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(a.targetId),Zc(t.remoteStore,a.targetId),Yf(t,a.targetId)}).catch(Xo))):(Yf(t,a.targetId),yield Kc(t.localStore,a.targetId,!0))}),Gg.apply(this,arguments)}function Yl(){return Yl=(0,ut.Z)(function*(s,e,t){const a=Qg(s);try{const f=yield function(y,M){const U=Zn(y),oe=Ar.now(),ve=M.reduce((Zt,yn)=>Zt.add(yn.key),Bi());let $e,yt;return U.persistence.runTransaction("Locally write mutations","readwrite",Zt=>{let yn=an(),En=Bi();return U.Gi.getEntries(Zt,ve).next(ri=>{yn=ri,yn.forEach((hi,Hn)=>{Hn.isValidDocument()||(En=En.add(hi))})}).next(()=>U.localDocuments.getOverlayedDocuments(Zt,yn)).next(ri=>{$e=ri;const hi=[];for(const Hn of M){const ei=Pd(Hn,$e.get(Hn.key).overlayedDocument);null!=ei&&hi.push(new va(Hn.key,ei,Va(ei.value.mapValue),ns.exists(!0)))}return U.mutationQueue.addMutationBatch(Zt,oe,hi,M)}).next(ri=>{yt=ri;const hi=ri.applyToLocalDocumentSet($e,En);return U.documentOverlayCache.saveOverlays(Zt,ri.batchId,hi)})}).then(()=>({batchId:yt.batchId,changes:Si($e)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(f.batchId),function(y,M,U){let oe=y.hc[y.currentUser.toKey()];oe||(oe=new L(Ti)),oe=oe.insert(M,U),y.hc[y.currentUser.toKey()]=oe}(a,f.batchId,t),yield gd(a,f.changes),yield Ff(a.remoteStore)}catch(f){const y=Uf(f,"Failed to persist write");t.reject(y)}}),Yl.apply(this,arguments)}function Xd(s,e){return $f.apply(this,arguments)}function $f(){return $f=(0,ut.Z)(function*(s,e){const t=Zn(s);try{const a=yield Op(t.localStore,e);e.targetChanges.forEach((f,y)=>{const M=t.cc.get(y);M&&(wi(f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size<=1),f.addedDocuments.size>0?M.nc=!0:f.modifiedDocuments.size>0?wi(M.nc):f.removedDocuments.size>0&&(wi(M.nc),M.nc=!1))}),yield gd(t,a,e)}catch(a){yield Xo(a)}}),$f.apply(this,arguments)}function Tl(s,e,t){const a=Zn(s);if(a.isPrimaryClient&&0===t||!a.isPrimaryClient&&1===t){const f=[];a.ic.forEach((y,M)=>{const U=M.view.bu(e);U.snapshot&&f.push(U.snapshot)}),function(y,M){const U=Zn(y);U.onlineState=M;let oe=!1;U.queries.forEach((ve,$e)=>{for(const yt of $e.listeners)yt.bu(M)&&(oe=!0)}),oe&&z_(U)}(a.eventManager,e),f.length&&a.sc.Wo(f),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function Gf(s,e,t){return md.apply(this,arguments)}function md(){return md=(0,ut.Z)(function*(s,e,t){const a=Zn(s);a.sharedClientState.updateQueryState(e,"rejected",t);const f=a.cc.get(e),y=f&&f.key;if(y){let M=new L(zn.comparator);M=M.insert(y,yr.newNoDocument(y,bi.min()));const U=Bi().add(y),oe=new To(bi.min(),new Map,new ee(Ti),M,U);yield Xd(a,oe),a.uc=a.uc.remove(y),a.cc.delete(e),Wp(a)}else yield Kc(a.localStore,e,!1).then(()=>Yf(a,e,t)).catch(Xo)}),md.apply(this,arguments)}function q_(s,e){return jm.apply(this,arguments)}function jm(){return jm=(0,ut.Z)(function*(s,e){const t=Zn(s),a=e.batch.batchId;try{const f=yield Rg(t.localStore,e);Wf(t,a,null),Iu(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),yield gd(t,f)}catch(f){yield Xo(f)}}),jm.apply(this,arguments)}function zg(s,e,t){return zf.apply(this,arguments)}function zf(){return zf=(0,ut.Z)(function*(s,e,t){const a=Zn(s);try{const f=yield function(y,M){const U=Zn(y);return U.persistence.runTransaction("Reject batch","readwrite-primary",oe=>{let ve;return U.mutationQueue.lookupMutationBatch(oe,M).next($e=>(wi(null!==$e),ve=$e.keys(),U.mutationQueue.removeMutationBatch(oe,$e))).next(()=>U.mutationQueue.performConsistencyCheck(oe)).next(()=>U.documentOverlayCache.removeOverlaysForBatchId(oe,ve,M)).next(()=>U.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(oe,ve)).next(()=>U.localDocuments.getDocuments(oe,ve))})}(a.localStore,e);Wf(a,e,t),Iu(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),yield gd(a,f)}catch(f){yield Xo(f)}}),zf.apply(this,arguments)}function Gp(){return Gp=(0,ut.Z)(function*(s,e){const t=Zn(s);dc(t.remoteStore)||Nn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(y){const M=Zn(y);return M.persistence.runTransaction("Get highest unacknowledged batch id","readonly",U=>M.mutationQueue.getHighestUnacknowledgedBatchId(U))}(t.localStore);if(-1===a)return void e.resolve();const f=t.lc.get(a)||[];f.push(e),t.lc.set(a,f)}catch(a){const f=Uf(a,"Initialization of waitForPendingWrites() operation failed");e.reject(f)}}),Gp.apply(this,arguments)}function Iu(s,e){(s.lc.get(e)||[]).forEach(t=>{t.resolve()}),s.lc.delete(e)}function Wf(s,e,t){const a=Zn(s);let f=a.hc[a.currentUser.toKey()];if(f){const y=f.get(e);y&&(t?y.reject(t):y.resolve(),f=f.remove(e)),a.hc[a.currentUser.toKey()]=f}}function Yf(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.rc.get(e))s.ic.delete(a),t&&s.sc.wc(a,t);s.rc.delete(e),s.isPrimaryClient&&s.ac.ls(e).forEach(a=>{s.ac.containsKey(a)||Wg(s,a)})}function Wg(s,e){s.oc.delete(e.path.canonicalString());const t=s.uc.get(e);null!==t&&(Zc(s.remoteStore,t),s.uc=s.uc.remove(e),s.cc.delete(t),Wp(s))}function Yg(s,e,t){for(const a of t)a instanceof jg?(s.ac.addReference(a.key,e),zp(s,a)):a instanceof $g?(Nn("SyncEngine","Document no longer in limbo: "+a.key),s.ac.removeReference(a.key,e),s.ac.containsKey(a.key)||Wg(s,a.key)):ii()}function zp(s,e){const t=e.key,a=t.path.canonicalString();s.uc.get(t)||s.oc.has(a)||(Nn("SyncEngine","New document in limbo: "+t),s.oc.add(a),Wp(s))}function Wp(s){for(;s.oc.size>0&&s.uc.size<s.maxConcurrentLimboResolutions;){const e=s.oc.values().next().value;s.oc.delete(e);const t=new zn(yi.fromString(e)),a=s.fc.next();s.cc.set(a,new Vm(t)),s.uc=s.uc.insert(t,a),Pf(s.remoteStore,new Cu(Jo(vl(t.path)),a,2,fo.at))}}function gd(s,e,t){return Ia.apply(this,arguments)}function Ia(){return Ia=(0,ut.Z)(function*(s,e,t){const a=Zn(s),f=[],y=[],M=[];var U;a.ic.isEmpty()||(a.ic.forEach((U,oe)=>{M.push(a._c(oe,e,t).then(ve=>{if((ve||t)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(oe.targetId,ve?.fromCache?"not-current":"current"),ve){f.push(ve);const $e=xf.Ci(oe.targetId,ve);y.push($e)}}))}),yield Promise.all(M),a.sc.Wo(f),yield(U=(0,ut.Z)(function*(oe,ve){const $e=Zn(oe);try{yield $e.persistence.runTransaction("notifyLocalViewChanges","readwrite",yt=>cn.forEach(ve,Zt=>cn.forEach(Zt.Si,yn=>$e.persistence.referenceDelegate.addReference(yt,Zt.targetId,yn)).next(()=>cn.forEach(Zt.Di,yn=>$e.persistence.referenceDelegate.removeReference(yt,Zt.targetId,yn)))))}catch(yt){if(!Sa(yt))throw yt;Nn("LocalStore","Failed to update sequence numbers: "+yt)}for(const yt of ve){const Zt=yt.targetId;if(!yt.fromCache){const yn=$e.Ui.get(Zt),ri=yn.withLastLimboFreeSnapshotVersion(yn.snapshotVersion);$e.Ui=$e.Ui.insert(Zt,ri)}}}),function(oe,ve){return U.apply(this,arguments)})(a.localStore,y))}),Ia.apply(this,arguments)}function Yp(s,e){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,ut.Z)(function*(s,e){const t=Zn(s);if(!t.currentUser.isEqual(e)){Nn("SyncEngine","User change. New user:",e.toKey());const a=yield od(t.localStore,e);t.currentUser=e,(f=t).lc.forEach(M=>{M.forEach(U=>{U.reject(new In(un.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.lc.clear(),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield gd(t,a.ji)}var f}),Kg.apply(this,arguments)}function Kp(s,e){const t=Zn(s),a=t.cc.get(e);if(a&&a.nc)return Bi().add(a.key);{let f=Bi();const y=t.rc.get(e);if(!y)return f;for(const M of y){const U=t.ic.get(M);f=f.unionWith(U.view.ju)}return f}}function Q_(s,e){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,ut.Z)(function*(s,e){const t=Zn(s),a=yield ad(t.localStore,e.query,!0),f=e.view.tc(a);return t.isPrimaryClient&&Yg(t,e.targetId,f.Xu),f}),Kf.apply(this,arguments)}function Zg(s,e){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,ut.Z)(function*(s,e){const t=Zn(s);return Og(t.localStore,e).then(a=>gd(t,a))}),Hh.apply(this,arguments)}function Gm(s,e,t,a){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,ut.Z)(function*(s,e,t,a){const f=Zn(s),y=yield function(M,U){const oe=Zn(M),ve=Zn(oe.mutationQueue);return oe.persistence.runTransaction("Lookup mutation documents","readonly",$e=>ve.Tn($e,U).next(yt=>yt?oe.localDocuments.getDocuments($e,yt):cn.resolve(null)))}(f.localStore,e);var U;null!==y?("pending"===t?yield Ff(f.remoteStore):"acknowledged"===t||"rejected"===t?(Wf(f,e,a||null),Iu(f,e),U=e,Zn(Zn(f.localStore).mutationQueue).An(U)):ii(),yield gd(f,y)):Nn("SyncEngine","Cannot apply mutation batch with id: "+e)}),Zp.apply(this,arguments)}function qp(){return qp=(0,ut.Z)(function*(s,e){const t=Zn(s);if(Wm(t),Qg(t),!0===e&&!0!==t.dc){const a=t.sharedClientState.getAllActiveQueryTargets(),f=yield qg(t,a.toArray());t.dc=!0,yield Lm(t.remoteStore,!0);for(const y of f)Pf(t.remoteStore,y)}else if(!1===e&&!1!==t.dc){const a=[];let f=Promise.resolve();t.rc.forEach((y,M)=>{t.sharedClientState.isLocalQueryTarget(M)?a.push(M):f=f.then(()=>(Yf(t,M),Kc(t.localStore,M,!0))),Zc(t.remoteStore,M)}),yield f,yield qg(t,a),function(y){const M=Zn(y);M.cc.forEach((U,oe)=>{Zc(M.remoteStore,oe)}),M.ac.fs(),M.cc=new Map,M.uc=new L(zn.comparator)}(t),t.dc=!1,yield Lm(t.remoteStore,!1)}}),qp.apply(this,arguments)}function qg(s,e,t){return jh.apply(this,arguments)}function jh(){return jh=(0,ut.Z)(function*(s,e,t){const a=Zn(s),f=[],y=[];for(const M of e){let U;const oe=a.rc.get(M);if(oe&&0!==oe.length){U=yield Gd(a.localStore,Jo(oe[0]));for(const ve of oe){const $e=a.ic.get(ve),yt=yield Q_(a,$e);yt.snapshot&&y.push(yt.snapshot)}}else{const ve=yield Oh(a.localStore,M);U=yield Gd(a.localStore,ve),yield $p(a,X_(ve),M,!1,U.resumeToken)}f.push(U)}return a.sc.Wo(y),f}),jh.apply(this,arguments)}function X_(s){return hm(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function J_(s){const e=Zn(s);return Zn(Zn(e.localStore).persistence).vi()}function ev(s,e,t,a){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,ut.Z)(function*(s,e,t,a){const f=Zn(s);if(f.dc)return void Nn("SyncEngine","Ignoring unexpected query state notification.");const y=f.rc.get(e);if(y&&y.length>0)switch(t){case"current":case"not-current":{const M=yield Og(f.localStore,uu(y[0])),U=To.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,kn.EMPTY_BYTE_STRING);yield gd(f,M,U);break}case"rejected":yield Kc(f.localStore,e,!0),Yf(f,e,a);break;default:ii()}}),Qp.apply(this,arguments)}function hc(s,e,t){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,ut.Z)(function*(s,e,t){const a=Wm(s);if(a.dc){for(const f of e){if(a.rc.has(f)){Nn("SyncEngine","Adding an already active target "+f);continue}const y=yield Oh(a.localStore,f),M=yield Gd(a.localStore,y);yield $p(a,X_(y),M.targetId,!1,M.resumeToken),Pf(a.remoteStore,M)}for(const f of t)a.rc.has(f)&&(yield Kc(a.localStore,f,!1).then(()=>{Zc(a.remoteStore,f),Yf(a,f)}).catch(Xo))}}),Xp.apply(this,arguments)}function Wm(s){const e=Zn(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Xd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kp.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Gf.bind(null,e),e.sc.Wo=cy.bind(null,e.eventManager),e.sc.wc=uy.bind(null,e.eventManager),e}function Qg(s){const e=Zn(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zg.bind(null,e),e}class Ym{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ut.Z)(function*(){t.It=sa(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Tm(this.persistence,new Af,e.initialUser,this.It)}yc(e){return new Ah(rd.Bs,this.It)}gc(e){return new Rn}terminate(){var e=this;return(0,ut.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Km extends Ym{constructor(e,t,a){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,a=this;return(0,ut.Z)(function*(){yield t().call(a,e),yield a.Ac.initialize(a,e),yield Qg(a.Ac.syncEngine),yield Ff(a.Ac.remoteStore),yield a.persistence.li(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Tm(this.persistence,new Af,e.initialUser,this.It)}Tc(e,t){return new zc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const a=new Hl(t,this.persistence);return new Xs(e.asyncQueue,a)}yc(e){const t=uc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?vo.withCacheSize(this.cacheSizeBytes):vo.DEFAULT;return new If(this.synchronizeTabs,t,e.clientId,a,e.asyncQueue,Wd(),Ga(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Rn}}class Xg extends Km{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,a=this;return(0,ut.Z)(function*(){yield t().call(a,e);const f=a.Ac.syncEngine;a.sharedClientState instanceof Jt&&(a.sharedClientState.syncEngine={Fr:Gm.bind(null,f),$r:ev.bind(null,f),Br:hc.bind(null,f),vi:J_.bind(null,f),Mr:Zg.bind(null,f)},yield a.sharedClientState.start()),yield a.persistence.li(function(){var y=(0,ut.Z)(function*(M){yield function zm(s,e){return qp.apply(this,arguments)}(a.Ac.syncEngine,M),a.gcScheduler&&(M&&!a.gcScheduler.started?a.gcScheduler.start():M||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(M&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():M||a.indexBackfillerScheduler.stop())});return function(M){return y.apply(this,arguments)}}())})()}gc(e){const t=Wd();if(!Jt.C(t))throw new In(un.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=uc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Jt(t,e.asyncQueue,a,e.clientId,e.initialUser)}}class Jp{initialize(e,t){var a=this;return(0,ut.Z)(function*(){a.localStore||(a.localStore=e.localStore,a.sharedClientState=e.sharedClientState,a.datastore=a.createDatastore(t),a.remoteStore=a.createRemoteStore(t),a.eventManager=a.createEventManager(t),a.syncEngine=a.createSyncEngine(t,!e.synchronizeTabs),a.sharedClientState.onlineStateHandler=f=>Tl(a.syncEngine,f,1),a.remoteStore.remoteSyncer.handleCredentialChange=Yp.bind(null,a.syncEngine),yield Lm(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ug}createDatastore(e){const t=sa(e.databaseInfo.databaseId),a=new ya(e.databaseInfo);return new ld(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return t=this.localStore,a=this.datastore,f=e.asyncQueue,y=U=>Tl(this.syncEngine,U,0),M=ci.C()?new ci:new gi,new Ds(t,a,f,y,M);var t,a,f,y,M}createSyncEngine(e,t){return function(a,f,y,M,U,oe,ve){const $e=new Lv(a,f,y,M,U,oe);return ve&&($e.dc=!0),$e}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ut.Z)(function*(t){const a=Zn(t);Nn("RemoteStore","RemoteStore shutting down."),a._u.add(5),yield Kd(a),a.mu.shutdown(),a.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Jd(s,e,t){if(!t)throw new In(un.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function eh(s,e,t,a){if(!0===e&&!0===a)throw new In(un.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function Zm(s){if(!zn.isDocumentKey(s))throw new In(un.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Zf(s){if(zn.isDocumentKey(s))throw new In(un.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function qf(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(t=s).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof s?"a function":ii()}function or(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new In(un.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qf(s);throw new In(un.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}function tv(s,e){if(e<=0)throw new In(un.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}const qm=new Map;class em{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new In(un.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new In(un.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,eh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class th{constructor(e,t,a,f){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=f,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new em({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new In(un.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new In(un.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new em(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new us;switch(t.type){case"gapi":return new Fl(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new In(un.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=qm.get(e);t&&(Nn("ComponentProvider","Removing Datastore"),qm.delete(e),t.terminate())}(this),Promise.resolve()}}class Es{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ml(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Es(this.firestore,e,this._key)}}class xa{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new xa(this.firestore,e,this._query)}}class Ml extends xa{constructor(e,t,a){super(e,t,vl(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Es(this.firestore,null,new zn(e))}withConverter(e){return new Ml(this.firestore,e,this._path)}}function Kl(s,e,...t){if(s=(0,Le.m9)(s),Jd("collection","path",e),s instanceof th){const a=yi.fromString(e,...t);return Zf(a),new Ml(s,null,a)}{if(!(s instanceof Es||s instanceof Ml))throw new In(un.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(yi.fromString(e,...t));return Zf(a),new Ml(s.firestore,null,a)}}function $h(s,e,...t){if(s=(0,Le.m9)(s),1===arguments.length&&(e=Ll.R()),Jd("doc","path",e),s instanceof th){const a=yi.fromString(e,...t);return Zm(a),new Es(s,null,new zn(a))}{if(!(s instanceof Es||s instanceof Ml))throw new In(un.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(yi.fromString(e,...t));return Zm(a),new Es(s.firestore,s instanceof Ml?s.converter:null,new zn(a))}}function xu(s,e){return s=(0,Le.m9)(s),e=(0,Le.m9)(e),(s instanceof Es||s instanceof Ml)&&(e instanceof Es||e instanceof Ml)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function fc(s,e){return s=(0,Le.m9)(s),e=(0,Le.m9)(e),s instanceof xa&&e instanceof xa&&s.firestore===e.firestore&&Vu(s._query,e._query)&&s.converter===e.converter}function nh(s,e=10240){let t=0;return{read:()=>(0,ut.Z)(function*(){if(t<s.byteLength){const a={value:s.slice(t,t+e),done:!1};return t+=e,a}return{done:!0}})(),cancel:()=>(0,ut.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class nm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Qi("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class nv{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new xr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(a=>{a&&a.Ou()?this.metadata.resolve(a.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(a?.ku)}`))},a=>this.metadata.reject(a))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,ut.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,ut.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,ut.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const a=e.vc.decode(t),f=Number(a);isNaN(f)&&e.Dc(`length string (${a}) is not valid number`);const y=yield e.Cc(f);return new dy(JSON.parse(y),t.length+f)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,ut.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),a})()}Cc(e){var t=this;return(0,ut.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const a=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),a})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,ut.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const a=new Uint8Array(e.buffer.length+t.value.length);a.set(e.buffer),a.set(t.value,e.buffer.length),e.buffer=a}return t.done})()}}class fy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ut.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new In(un.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(f=(0,ut.Z)(function*(y,M){const U=Zn(y),oe=vu(U.It)+"/documents",ve={documents:M.map(yn=>Nc(U.It,yn))},$e=yield U._o("BatchGetDocuments",oe,ve,M.length),yt=new Map;$e.forEach(yn=>{const En=function gm(s,e){return"found"in e?function(t,a){wi(!!a.found);const f=Ha(t,a.found.name),y=Hs(a.found.updateTime),M=new Xr({mapValue:{fields:a.found.fields}});return yr.newFoundDocument(f,y,M)}(s,e):"missing"in e?function(t,a){wi(!!a.missing),wi(!!a.readTime);const f=Ha(t,a.missing),y=Hs(a.readTime);return yr.newNoDocument(f,y)}(s,e):ii()}(U.It,yn);yt.set(En.key.toString(),En)});const Zt=[];return M.forEach(yn=>{const En=yt.get(yn.toString());wi(!!En),Zt.push(En)}),Zt}),function(y,M){return f.apply(this,arguments)})(t.datastore,e);var f;return a.forEach(f=>t.recordVersion(f)),a})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new Rc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ut.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var a;e.mutations.forEach(a=>{t.delete(a.key.toString())}),t.forEach((a,f)=>{const y=zn.fromPath(f);e.mutations.push(new ws(y,e.precondition(y)))}),yield(a=(0,ut.Z)(function*(f,y){const M=Zn(f),U=vu(M.It)+"/documents",oe={writes:y.map(ve=>yu(M.It,ve))};yield M.ao("Commit",U,oe)}),function(f,y){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ii();t=bi.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!t.isEqual(a))throw new In(un.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(bi.min())?ns.exists(!1):ns.updateTime(t):ns.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(bi.min()))throw new In(un.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ns.updateTime(t)}return ns.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class pc{constructor(e,t,a,f,y){this.asyncQueue=e,this.datastore=t,this.options=a,this.updateFunction=f,this.deferred=y,this.kc=a.maxAttempts,this.xo=new Nh(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,ut.Z)(function*(){const t=new fy(e.datastore),a=e.Mc(t);a&&a.then(f=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(f)}).catch(y=>{e.Fc(y)}))}).catch(f=>{e.Fc(f)})}))}Mc(e){try{const t=this.updateFunction(e);return!La(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!B(t)}return!1}}class Bv{constructor(e,t,a,f){var y=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=f,this.user=sr.UNAUTHENTICATED,this.clientId=Ll.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var M=(0,ut.Z)(function*(U){Nn("FirestoreClient","Received user=",U.uid),yield y.authCredentialListener(U),y.user=U});return function(U){return M.apply(this,arguments)}}()),this.appCheckCredentials.start(a,M=>(Nn("FirestoreClient","Received new app check token=",M),this.appCheckCredentialListener(M,this.user)))}getConfiguration(){var e=this;return(0,ut.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new In(un.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ut.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(a){const f=Uf(a,"Failed to shutdown persistence");t.reject(f)}})),t.promise}}function rv(s,e){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,ut.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),Nn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield s.getConfiguration();yield e.initialize(t);let a=t.initialUser;s.setCredentialChangeListener(function(){var f=(0,ut.Z)(function*(y){a.isEqual(y)||(yield od(e.localStore,y),a=y)});return function(y){return f.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=e}),Qf.apply(this,arguments)}function e_(s,e){return Wa.apply(this,arguments)}function Wa(){return Wa=(0,ut.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const t=yield Xf(s);Nn("FirestoreClient","Initializing OnlineComponentProvider");const a=yield s.getConfiguration();yield e.initialize(t,a),s.setCredentialChangeListener(f=>Fv(e.remoteStore,f)),s.setAppCheckTokenChangeListener((f,y)=>Fv(e.remoteStore,y)),s.onlineComponents=e}),Wa.apply(this,arguments)}function Xf(s){return t_.apply(this,arguments)}function t_(){return t_=(0,ut.Z)(function*(s){return s.offlineComponents||(Nn("FirestoreClient","Using default OfflineComponentProvider"),yield rv(s,new Ym)),s.offlineComponents}),t_.apply(this,arguments)}function Gh(s){return n_.apply(this,arguments)}function n_(){return n_=(0,ut.Z)(function*(s){return s.onlineComponents||(Nn("FirestoreClient","Using default OnlineComponentProvider"),yield e_(s,new Jp)),s.onlineComponents}),n_.apply(this,arguments)}function sv(s){return Xf(s).then(e=>e.persistence)}function Qm(s){return Xf(s).then(e=>e.localStore)}function Xm(s){return Gh(s).then(e=>e.remoteStore)}function zh(s){return Gh(s).then(e=>e.syncEngine)}function Au(s){return vd.apply(this,arguments)}function vd(){return vd=(0,ut.Z)(function*(s){const e=yield Gh(s),t=e.eventManager;return t.onListen=Qd.bind(null,e.syncEngine),t.onUnlisten=K_.bind(null,e.syncEngine),t}),vd.apply(this,arguments)}function Jm(s,e,t={}){const a=new xr;return s.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return function(f,y,M,U,oe){const ve=new nm({next:yt=>{y.enqueueAndForget(()=>$_(f,$e));const Zt=yt.docs.has(M);!Zt&&yt.fromCache?oe.reject(new In(un.UNAVAILABLE,"Failed to get document because the client is offline.")):Zt&&yt.fromCache&&U&&"server"===U.source?oe.reject(new In(un.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):oe.resolve(yt)},error:yt=>oe.reject(yt)}),$e=new W_(vl(M.path),ve,{includeMetadataChanges:!0,Nu:!0});return Hg(f,$e)}(yield Au(s),s.asyncQueue,e,t,a)})),a.promise}function av(s,e,t={}){const a=new xr;return s.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return function(f,y,M,U,oe){const ve=new nm({next:yt=>{y.enqueueAndForget(()=>$_(f,$e)),yt.fromCache&&"server"===U.source?oe.reject(new In(un.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):oe.resolve(yt)},error:yt=>oe.reject(yt)}),$e=new W_(M,ve,{includeMetadataChanges:!0,Nu:!0});return Hg(f,$e)}(yield Au(s),s.asyncQueue,e,t,a)})),a.promise}class Wh{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Nh(this,"async_queue_retry"),this.Wc=()=>{const t=Ga();t&&Nn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Ga();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=Ga();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new xr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,ut.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Sa(t))throw t;Nn("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(a=>{throw this.Kc=a,this.Gc=!1,Qi("INTERNAL UNHANDLED ERROR: ",function(y){let M=y.message||"";return y.stack&&(M=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),M}(a)),a}).then(a=>(this.Gc=!1,a))));return this.Bc=t,t}enqueueAfterDelay(e,t,a){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const f=H_.createAndSchedule(this,e,t,a,y=>this.Yc(y));return this.qc.push(f),f}zc(){this.Kc&&ii()}verifyOperationInProgress(){}Xc(){var e=this;return(0,ut.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function ep(s){return function(e,t){if("object"!=typeof e||null===e)return!1;const a=e;for(const f of["next","error","complete"])if(f in a&&"function"==typeof a[f])return!0;return!1}(s)}class Il{constructor(){this._progressObserver={},this._taskCompletionResolver=new xr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,a){this._progressObserver={next:e,error:t,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Jr extends th{constructor(e,t,a,f){super(e,t,a,f),this.type="firestore",this._queue=new Wh,this._persistenceKey=f?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||yd(this),this._firestoreClient.terminate()}}function Ss(s){return s._firestoreClient||yd(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function yd(s){var e;const t=s._freezeSettings(),a=(y=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new Or(s._databaseId,y,s._persistenceKey,(U=t).host,U.ssl,U.experimentalForceLongPolling,U.experimentalAutoDetectLongPolling,U.useFetchStreams));var y,U;s._firestoreClient=new Bv(s._authCredentials,s._appCheckCredentials,s._queue,a)}function gc(s,e,t){const a=new xr;return s.asyncQueue.enqueue((0,ut.Z)(function*(){try{yield rv(s,t),yield e_(s,e),a.resolve()}catch(f){const y=f;if(!("FirebaseError"===(M=y).name?M.code===un.FAILED_PRECONDITION||M.code===un.UNIMPLEMENTED:!(typeof DOMException<"u"&&M instanceof DOMException)||22===M.code||20===M.code||11===M.code))throw y;tl("Error enabling offline persistence. Falling back to persistence disabled: "+y),a.reject(y)}var M})).then(()=>a.promise)}function l_(s){if(s._initialized||s._terminated)throw new In(un.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class qc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qc(kn.fromBase64String(e))}catch(t){throw new In(un.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qc(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _c{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new In(un.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rh{constructor(e){this._methodName=e}}class ip{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new In(un.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new In(un.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ti(this._lat,e._lat)||Ti(this._long,e._long)}}const c_=/^__.*__$/;class u_{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return null!==this.fieldMask?new va(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ac(e,this.data,t,this.fieldTransforms)}}class Aa{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new va(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Yh(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ii()}}class Qc{constructor(e,t,a,f,y,M){this.settings=e,this.databaseId=t,this.It=a,this.ignoreUndefinedProperties=f,void 0===y&&this.na(),this.fieldTransforms=y||[],this.fieldMask=M||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Qc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),f=this.ia({path:a,oa:!1});return f.ua(e),f}ca(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),f=this.ia({path:a,oa:!1});return f.na(),f}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return ap(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Yh(this.sa)&&c_.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Kh{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=a||sa(e)}da(e,t,a,f=!1){return new Qc({sa:e,methodName:t,fa:a,path:vr.emptyPath(),oa:!1,la:f},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Io(s){const e=s._freezeSettings(),t=sa(s._databaseId);return new Kh(s._databaseId,!!e.ignoreUndefinedProperties,t)}function vc(s,e,t,a,f,y={}){const M=s.da(y.merge||y.mergeFields?2:0,e,t,f);qh("Data must be an object, but it was:",M,a);const U=uv(a,M);let oe,ve;if(y.merge)oe=new dt(M.fieldMask),ve=M.fieldTransforms;else if(y.mergeFields){const $e=[];for(const yt of y.mergeFields){const Zt=sh(e,yt,t);if(!M.contains(Zt))throw new In(un.INVALID_ARGUMENT,`Field '${Zt}' is specified in your field mask but missing from your input data.`);ag($e,Zt)||$e.push(Zt)}oe=new dt($e),ve=M.fieldTransforms.filter(yt=>oe.covers(yt.field))}else oe=null,ve=M.fieldTransforms;return new u_(new Xr(U),oe,ve)}class rp extends rh{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rp}}function sp(s,e,t){return new Qc({sa:3,fa:e.settings.fa,methodName:s._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class yc extends rh{_toFieldTransform(e){return new hu(e.path,new sc)}isEqual(e){return e instanceof yc}}class lv extends rh{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=sp(this,e,!0),a=this._a.map(y=>Cd(y,t)),f=new $u(a);return new hu(e.path,f)}isEqual(e){return this===e}}class cv extends rh{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=sp(this,e,!0),a=this._a.map(y=>Cd(y,t)),f=new ea(a);return new hu(e.path,f)}isEqual(e){return this===e}}class d_ extends rh{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new ol(e.It,Uu(e.It,this.wa));return new hu(e.path,t)}isEqual(e){return this===e}}function op(s,e,t,a){const f=s.da(1,e,t);qh("Data must be an object, but it was:",f,a);const y=[],M=Xr.empty();po(a,(oe,ve)=>{const $e=rm(e,oe,t);ve=(0,Le.m9)(ve);const yt=f.ca($e);if(ve instanceof rp)y.push($e);else{const Zt=Cd(ve,yt);null!=Zt&&(y.push($e),M.set($e,Zt))}});const U=new dt(y);return new Aa(M,U,f.fieldTransforms)}function rg(s,e,t,a,f,y){const M=s.da(1,e,t),U=[sh(e,a,t)],oe=[f];if(y.length%2!=0)throw new In(un.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Zt=0;Zt<y.length;Zt+=2)U.push(sh(e,y[Zt])),oe.push(y[Zt+1]);const ve=[],$e=Xr.empty();for(let Zt=U.length-1;Zt>=0;--Zt)if(!ag(ve,U[Zt])){const yn=U[Zt];let En=oe[Zt];En=(0,Le.m9)(En);const ri=M.ca(yn);if(En instanceof rp)ve.push(yn);else{const hi=Cd(En,ri);null!=hi&&(ve.push(yn),$e.set(yn,hi))}}const yt=new dt(ve);return new Aa($e,yt,M.fieldTransforms)}function sg(s,e,t,a=!1){return Cd(t,s.da(a?4:3,e))}function Cd(s,e){if(Zh(s=(0,Le.m9)(s)))return qh("Unsupported field value:",e,s),uv(s,e);if(s instanceof rh)return function(t,a){if(!Yh(a.sa))throw a.ha(`${t._methodName}() can only be used with update() and set()`);if(!a.path)throw a.ha(`${t._methodName}() is not currently supported inside arrays`);const f=t._toFieldTransform(a);f&&a.fieldTransforms.push(f)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,a){const f=[];let y=0;for(const M of t){let U=Cd(M,a.aa(y));null==U&&(U={nullValue:"NULL_VALUE"}),f.push(U),y++}return{arrayValue:{values:f}}}(s,e)}return function(t,a){if(null===(t=(0,Le.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Uu(a.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const f=Ar.fromDate(t);return{timestampValue:_u(a.It,f)}}if(t instanceof Ar){const f=new Ar(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:_u(a.It,f)}}if(t instanceof ip)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof qc)return{bytesValue:Pc(a.It,t._byteString)};if(t instanceof Es){const f=a.databaseId,y=t.firestore._databaseId;if(!y.isEqual(f))throw a.ha(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Ma(t.firestore._databaseId||a.databaseId,t._key.path)}}throw a.ha(`Unsupported field value: ${qf(t)}`)}(s,e)}function uv(s,e){const t={};return F(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):po(s,(a,f)=>{const y=Cd(f,e.ra(a));null!=y&&(t[a]=y)}),{mapValue:{fields:t}}}function Zh(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof Ar||s instanceof ip||s instanceof qc||s instanceof Es||s instanceof rh)}function qh(s,e,t){if(!Zh(t)||"object"!=typeof(a=t)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=qf(t);throw e.ha("an object"===a?s+" a custom object":s+" "+a)}var a}function sh(s,e,t){if((e=(0,Le.m9)(e))instanceof _c)return e._internalPath;if("string"==typeof e)return rm(s,e);throw ap("Field path arguments must be of type string or ",s,!1,void 0,t)}const og=new RegExp("[~\\*/\\[\\]]");function rm(s,e,t){if(e.search(og)>=0)throw ap(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new _c(...e.split("."))._internalPath}catch{throw ap(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function ap(s,e,t,a,f){const y=a&&!a.isEmpty(),M=void 0!==f;let U=`Function ${e}() called with invalid data`;t&&(U+=" (via `toFirestore()`)"),U+=". ";let oe="";return(y||M)&&(oe+=" (found",y&&(oe+=` in field ${a}`),M&&(oe+=` in document ${f}`),oe+=")"),new In(un.INVALID_ARGUMENT,U+s+oe)}function ag(s,e){return s.some(t=>t.isEqual(e))}class Qh{constructor(e,t,a,f,y){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=f,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new Es(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new lg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(cl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class lg extends Qh{data(){return super.data()}}function cl(s,e){return"string"==typeof e?rm(s,e):e instanceof _c?e._internalPath:e._delegate._internalPath}function cg(s){if("L"===s.limitType&&0===s.explicitOrderBy.length)throw new In(un.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lp{}function wd(s,...e){for(const t of e)s=t._apply(s);return s}class dv extends lp{constructor(e,t,a){super(),this.ma=e,this.ga=t,this.ya=a,this.type="where"}_apply(e){const t=Io(e.firestore),a=function(f,y,M,U,oe,ve,$e){let yt;if(oe.isKeyField()){if("array-contains"===ve||"array-contains-any"===ve)throw new In(un.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ve}' queries on documentId().`);if("in"===ve||"not-in"===ve){g_($e,ve);const yn=[];for(const En of $e)yn.push(pv(U,f,En));yt={arrayValue:{values:yn}}}else yt=pv(U,f,$e)}else"in"!==ve&&"not-in"!==ve&&"array-contains-any"!==ve||g_($e,ve),yt=sg(M,"where",$e,"in"===ve||"not-in"===ve);const Zt=Js.create(oe,ve,yt);return function(yn,En){if(En.dt()){const hi=xd(yn);if(null!==hi&&!hi.isEqual(En.field))throw new In(un.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${hi.toString()}' and '${En.field.toString()}'`);const Hn=xc(yn);null!==Hn&&__(0,En.field,Hn)}const ri=function(hi,Hn){for(const ei of hi.filters)if(Hn.indexOf(ei.op)>=0)return ei.op;return null}(yn,function(hi){switch(hi){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(En.op));if(null!==ri)throw new In(un.INVALID_ARGUMENT,ri===En.op?`Invalid query. You cannot use more than one '${En.op.toString()}' filter.`:`Invalid query. You cannot use '${En.op.toString()}' filters with '${ri.toString()}' filters.`)}(f,Zt),Zt}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new xa(e.firestore,e.converter,function(f,y){const M=f.filters.concat([y]);return new rc(f.path,f.collectionGroup,f.explicitOrderBy.slice(),M,f.limit,f.limitType,f.startAt,f.endAt)}(e._query,a))}}class hv extends lp{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(a,f,y){if(null!==a.startAt)throw new In(un.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new In(un.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const M=new hs(f,y);return function(U,oe){if(null===xc(U)){const ve=xd(U);null!==ve&&__(0,ve,oe.field)}}(a,M),M}(e._query,this.ma,this.pa);return new xa(e.firestore,e.converter,function(a,f){const y=a.explicitOrderBy.concat([f]);return new rc(a.path,a.collectionGroup,y,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}class Uv extends lp{constructor(e,t,a){super(),this.type=e,this.Ia=t,this.Ta=a}_apply(e){return new xa(e.firestore,e.converter,kd(e._query,this.Ia,this.Ta))}}class f_ extends lp{constructor(e,t,a){super(),this.type=e,this.Ea=t,this.Aa=a}_apply(e){const t=m_(e,this.type,this.Ea,this.Aa);return new xa(e.firestore,e.converter,(f=t,new rc((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,f,a.endAt)));var a,f}}class p_ extends lp{constructor(e,t,a){super(),this.type=e,this.Ea=t,this.Aa=a}_apply(e){const t=m_(e,this.type,this.Ea,this.Aa);return new xa(e.firestore,e.converter,(f=t,new rc((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,f)));var a,f}}function m_(s,e,t,a){if(t[0]=(0,Le.m9)(t[0]),t[0]instanceof Qh)return function(f,y,M,U,oe){if(!U)throw new In(un.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${M}().`);const ve=[];for(const $e of Vs(f))if($e.field.isKeyField())ve.push(_i(y,U.key));else{const yt=U.data.field($e.field);if(Sr(yt))throw new In(un.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+$e.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===yt){const Zt=$e.field.canonicalString();throw new In(un.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Zt}' (used as the orderBy) does not exist.`)}ve.push(yt)}return new sl(ve,oe)}(s._query,s.firestore._databaseId,e,t[0]._document,a);{const f=Io(s.firestore);return function(y,M,U,oe,ve,$e){const yt=y.explicitOrderBy;if(ve.length>yt.length)throw new In(un.INVALID_ARGUMENT,`Too many arguments provided to ${oe}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Zt=[];for(let yn=0;yn<ve.length;yn++){const En=ve[yn];if(yt[yn].field.isKeyField()){if("string"!=typeof En)throw new In(un.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${oe}(), but got a ${typeof En}`);if(!Ad(y)&&-1!==En.indexOf("/"))throw new In(un.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${oe}() must be a plain document ID, but '${En}' contains a slash.`);const ri=y.path.child(yi.fromString(En));if(!zn.isDocumentKey(ri))throw new In(un.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${oe}() must result in a valid document path, but '${ri}' is not because it contains an odd number of segments.`);const hi=new zn(ri);Zt.push(_i(M,hi))}else{const ri=sg(U,oe,En);Zt.push(ri)}}return new sl(Zt,$e)}(s._query,s.firestore._databaseId,f,e,t,a)}}function pv(s,e,t){if("string"==typeof(t=(0,Le.m9)(t))){if(""===t)throw new In(un.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ad(e)&&-1!==t.indexOf("/"))throw new In(un.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(yi.fromString(t));if(!zn.isDocumentKey(a))throw new In(un.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return _i(s,new zn(a))}if(t instanceof Es)return _i(s,t._key);throw new In(un.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qf(t)}.`)}function g_(s,e){if(!Array.isArray(s)||0===s.length)throw new In(un.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(s.length>10)throw new In(un.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function __(s,e,t){if(!t.isEqual(e))throw new In(un.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class oh{convertValue(e,t="none"){switch(se(e)){case 0:return null;case 1:return e.booleanValue;case 2:return di(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ii()}}convertObject(e,t){const a={};return po(e.fields,(f,y)=>{a[f]=this.convertValue(y,t)}),a}convertGeoPoint(e){return new ip(di(e.latitude),di(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=So(e);return null==a?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(Ur(e));default:return null}}convertTimestamp(e){const t=Wn(e);return new Ar(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=yi.fromString(e);wi(wp(a));const f=new Ls(a.get(1),a.get(3)),y=new zn(a.popFirst(5));return f.isEqual(t)||Qi(`Document ${y} contains a document reference within a different database (${f.projectId}/${f.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),y}}function ug(s,e,t){let a;return a=s?t&&(t.merge||t.mergeFields)?s.toFirestore(e,t):s.toFirestore(e):e,a}class Xc extends oh{constructor(e){super(),this.firestore=e}convertBytes(e){return new qc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Es(this.firestore,null,t)}}class ah{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jc extends Qh{constructor(e,t,a,f,y,M){super(e,t,a,f,M),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(cl("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}}class Xh extends Jc{data(e={}){return super.data(e)}}class Jh{constructor(e,t,a,f){this._firestore=e,this._userDataWriter=t,this._snapshot=f,this.metadata=new ah(f.hasPendingWrites,f.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new Xh(this._firestore,this._userDataWriter,a.key,a,new ah(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new In(un.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,f){if(a._snapshot.oldDocs.isEmpty()){let y=0;return a._snapshot.docChanges.map(M=>({type:"added",doc:new Xh(a._firestore,a._userDataWriter,M.doc.key,M.doc,new ah(a._snapshot.mutatedKeys.has(M.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:y++}))}{let y=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(M=>f||3!==M.type).map(M=>{const U=new Xh(a._firestore,a._userDataWriter,M.doc.key,M.doc,new ah(a._snapshot.mutatedKeys.has(M.doc.key),a._snapshot.fromCache),a.query.converter);let oe=-1,ve=-1;return 0!==M.type&&(oe=y.indexOf(M.doc.key),y=y.delete(M.doc.key)),1!==M.type&&(y=y.add(M.doc),ve=y.indexOf(M.doc.key)),{type:dg(M.type),doc:U,oldIndex:oe,newIndex:ve}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function dg(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ii()}}function hg(s,e){return s instanceof Jc&&e instanceof Jc?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(null===s._document?null===e._document:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof Jh&&e instanceof Jh&&s._firestore===e._firestore&&fc(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}class lh extends oh{constructor(e){super(),this.firestore=e}convertBytes(e){return new qc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Es(this.firestore,null,t)}}function fg(s,e,t){s=or(s,Es);const a=or(s.firestore,Jr),f=ug(s.converter,e,t);return Pu(a,[vc(Io(a),"setDoc",s._key,f,null!==s.converter,t).toMutation(s._key,ns.none())])}function gv(s,e,t,...a){s=or(s,Es);const f=or(s.firestore,Jr),y=Io(f);let M;return M="string"==typeof(e=(0,Le.m9)(e))||e instanceof _c?rg(y,"updateDoc",s._key,e,t,a):op(y,"updateDoc",s._key,e),Pu(f,[M.toMutation(s._key,ns.exists(!0))])}function _v(s,...e){var t,a,f;s=(0,Le.m9)(s);let y={includeMetadataChanges:!1},M=0;"object"!=typeof e[M]||ep(e[M])||(y=e[M],M++);const U={includeMetadataChanges:y.includeMetadataChanges};if(ep(e[M])){const yt=e[M];e[M]=null===(t=yt.next)||void 0===t?void 0:t.bind(yt),e[M+1]=null===(a=yt.error)||void 0===a?void 0:a.bind(yt),e[M+2]=null===(f=yt.complete)||void 0===f?void 0:f.bind(yt)}let oe,ve,$e;if(s instanceof Es)ve=or(s.firestore,Jr),$e=vl(s._key.path),oe={next:yt=>{e[M]&&e[M](y_(ve,s,yt))},error:e[M+1],complete:e[M+2]};else{const yt=or(s,xa);ve=or(yt.firestore,Jr),$e=yt._query;const Zt=new lh(ve);oe={next:yn=>{e[M]&&e[M](new Jh(ve,Zt,yt,yn))},error:e[M+1],complete:e[M+2]},cg(s._query)}return function(yt,Zt,yn,En){const ri=new nm(En),hi=new W_(Zt,ri,yn);return yt.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return Hg(yield Au(yt),hi)})),()=>{ri.bc(),yt.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return $_(yield Au(yt),hi)}))}}(Ss(ve),$e,U,oe)}function Pu(s,e){return function(t,a){const f=new xr;return t.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return function Z_(s,e,t){return Yl.apply(this,arguments)}(yield zh(t),a,f)})),f.promise}(Ss(s),e)}function y_(s,e,t){const a=t.docs.get(e._key),f=new lh(s);return new Jc(s,f,e._key,a,new ah(t.hasPendingWrites,t.fromCache),e.converter)}const qv={maxAttempts:5};class vv{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Io(e)}set(e,t,a){this._verifyNotCommitted();const f=iu(e,this._firestore),y=ug(f.converter,t,a),M=vc(this._dataReader,"WriteBatch.set",f._key,y,null!==f.converter,a);return this._mutations.push(M.toMutation(f._key,ns.none())),this}update(e,t,a,...f){this._verifyNotCommitted();const y=iu(e,this._firestore);let M;return M="string"==typeof(t=(0,Le.m9)(t))||t instanceof _c?rg(this._dataReader,"WriteBatch.update",y._key,t,a,f):op(this._dataReader,"WriteBatch.update",y._key,t),this._mutations.push(M.toMutation(y._key,ns.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=iu(e,this._firestore);return this._mutations=this._mutations.concat(new Rc(t._key,ns.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new In(un.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function iu(s,e){if((s=(0,Le.m9)(s)).firestore!==e)throw new In(un.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class Qv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Io(e)}get(e){const t=iu(e,this._firestore),a=new Xc(this._firestore);return this._transaction.lookup([t._key]).then(f=>{if(!f||1!==f.length)return ii();const y=f[0];if(y.isFoundDocument())return new Qh(this._firestore,a,y.key,y,t.converter);if(y.isNoDocument())return new Qh(this._firestore,a,t._key,null,t.converter);throw ii()})}set(e,t,a){const f=iu(e,this._firestore),y=ug(f.converter,t,a),M=vc(this._dataReader,"Transaction.set",f._key,y,null!==f.converter,a);return this._transaction.set(f._key,M),this}update(e,t,a,...f){const y=iu(e,this._firestore);let M;return M="string"==typeof(t=(0,Le.m9)(t))||t instanceof _c?rg(this._dataReader,"Transaction.update",y._key,t,a,f):op(this._dataReader,"Transaction.update",y._key,t),this._transaction.update(y._key,M),this}delete(e){const t=iu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=iu(e,this._firestore),a=new lh(this._firestore);return super.get(e).then(f=>new Jc(this._firestore,a,t._key,f._document,new ah(!1,!1),t.converter))}}function mg(s,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new In("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return e}function wv(){if(typeof Uint8Array>"u")throw new In("unimplemented","Uint8Arrays are not available in this environment.")}function Dv(){if(!function Kt(){return typeof atob<"u"}())throw new In("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(s,e=!0){fa=kt.SDK_VERSION,(0,kt._registerComponent)(new vt.wA("firestore",(t,{instanceIdentifier:a,options:f})=>{const y=t.getProvider("app").getImmediate(),M=new Jr(new ma(t.getProvider("auth-internal")),new ml(t.getProvider("app-check-internal")),function(U,oe){if(!Object.prototype.hasOwnProperty.apply(U.options,["projectId"]))throw new In(un.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ls(U.options.projectId,oe)}(y,a),y);return f=Object.assign({useFetchStreams:e},f),M._setSettings(f),M},"PUBLIC").setMultipleInstances(!0)),(0,kt.registerVersion)(Pl,"3.7.2",s),(0,kt.registerVersion)(Pl,"3.7.2","esm2017")}();class sm{constructor(e){this._delegate=e}static fromBase64String(e){return Dv(),new sm(qc.fromBase64String(e))}static fromUint8Array(e){return wv(),new sm(qc.fromUint8Array(e))}toBase64(){return Dv(),this._delegate.toBase64()}toUint8Array(){return wv(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function D_(s){return function Ev(s,e){if("object"!=typeof s||null===s)return!1;const t=s;for(const a of e)if(a in t&&"function"==typeof t[a])return!0;return!1}(s,["next","error","complete"])}class Sv{enableIndexedDbPersistence(e,t){return function bd(s,e){l_(s=or(s,Jr));const t=Ss(s),a=s._freezeSettings(),f=new Jp;return gc(t,f,new Km(f,a.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function tp(s){l_(s=or(s,Jr));const e=Ss(s),t=s._freezeSettings(),a=new Jp;return gc(e,a,new Xg(a,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function np(s){if(s._initialized&&!s._terminated)throw new In(un.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new xr;return s._queue.enqueueAndForgetEvenWhileRestricted((0,ut.Z)(function*(){try{yield(t=(0,ut.Z)(function*(a){if(!Uo.C())return Promise.resolve();const f=a+"main";yield Uo.delete(f)}),function(a){return t.apply(this,arguments)})(uc(s._databaseId,s._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class E_{constructor(e,t,a){this._delegate=t,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ls||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&tl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,a={}){!function Jg(s,e,t,a={}){var f;const y=(s=or(s,th))._getSettings();if("firestore.googleapis.com"!==y.host&&y.host!==e&&tl("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},y),{host:`${e}:${t}`,ssl:!1})),a.mockUserToken){let M,U;if("string"==typeof a.mockUserToken)M=a.mockUserToken,U=sr.MOCK_USER;else{M=(0,Le.Sg)(a.mockUserToken,null===(f=s._app)||void 0===f?void 0:f.options.projectId);const oe=a.mockUserToken.sub||a.mockUserToken.user_id;if(!oe)throw new In(un.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");U=new sr(oe)}s._authCredentials=new wa(new wc(M,U))}}(this._delegate,e,t,a)}enableNetwork(){return function o_(s){return function ov(s){return s.asyncQueue.enqueue((0,ut.Z)(function*(){const e=yield sv(s),t=yield Xm(s);return e.setNetworkEnabled(!0),function(a){const f=Zn(a);return f._u.delete(0),za(f)}(t)}))}(Ss(s=or(s,Jr)))}(this._delegate)}disableNetwork(){return function a_(s){return function ih(s){return s.asyncQueue.enqueue((0,ut.Z)(function*(){const e=yield sv(s),t=yield Xm(s);return e.setNetworkEnabled(!1),(a=(0,ut.Z)(function*(f){const y=Zn(f);y._u.add(0),yield Kd(y),y.gu.set("Offline")}),function(f){return a.apply(this,arguments)})(t);var a}))}(Ss(s=or(s,Jr)))}(this._delegate)}enablePersistence(e){let t=!1,a=!1;return e&&(t=!!e.synchronizeTabs,a=!!e.experimentalForceOwningTab,eh("synchronizeTabs",t,"experimentalForceOwningTab",a)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function s_(s){return function(e){const t=new xr;return e.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return function $m(s,e){return Gp.apply(this,arguments)}(yield zh(e),t)})),t.promise}(Ss(s=or(s,Jr)))}(this._delegate)}onSnapshotsInSync(e){return function v_(s,e){return function ku(s,e){const t=new nm(e);return s.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return a=yield Au(s),f=t,Zn(a).Ru.add(f),void f.next();var a,f})),()=>{t.bc(),s.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return a=yield Au(s),f=t,void Zn(a).Ru.delete(f);var a,f}))}}(Ss(s=or(s,Jr)),ep(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new In("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new tf(this,Kl(this._delegate,e))}catch(t){throw Ka(t,"collection()","Firestore.collection()")}}doc(e){try{return new bc(this,$h(this._delegate,e))}catch(t){throw Ka(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Za(this,function tm(s,e){if(s=or(s,th),Jd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new In(un.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xa(s,null,(t=e,new rc(yi.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ka(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function yv(s,e,t){s=or(s,Jr);const a=Object.assign(Object.assign({},qv),t);return function(f){if(f.maxAttempts<1)throw new In(un.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(f,y,M){const U=new xr;return f.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){const oe=yield function i_(s){return Gh(s).then(e=>e.datastore)}(f);new pc(f.asyncQueue,oe,M,y,U).run()})),U.promise}(Ss(s),f=>e(new Qv(s,f)),a)}(this._delegate,t=>e(new Tv(this,t)))}batch(){return Ss(this._delegate),new S_(new vv(this._delegate,e=>Pu(this._delegate,e)))}loadBundle(e){return function ng(s,e){const t=Ss(s=or(s,Jr)),a=new Il;return function Jf(s,e,t,a){const f=function(y,M){let U;return U="string"==typeof y?(new TextEncoder).encode(y):y,oe=function(oe,ve){if(oe instanceof Uint8Array)return nh(oe,void 0);if(oe instanceof ArrayBuffer)return nh(new Uint8Array(oe),void 0);if(oe instanceof ReadableStream)return oe.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(U),new nv(oe,M);var oe}(t,sa(e));s.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){!function hy(s,e,t){const a=Zn(s);var f;(f=(0,ut.Z)(function*(y,M,U){try{const oe=yield M.getMetadata();if(yield function(Zt,yn){const En=Zn(Zt),ri=Hs(yn.createTime);return En.persistence.runTransaction("hasNewerBundle","readonly",hi=>En.Ns.getBundleMetadata(hi,yn.id)).then(hi=>!!hi&&hi.createTime.compareTo(ri)>=0)}(y.localStore,oe))return yield M.close(),U._completeWith({taskState:"Success",documentsLoaded:(Zt=oe).totalDocuments,bytesLoaded:Zt.totalBytes,totalDocuments:Zt.totalDocuments,totalBytes:Zt.totalBytes}),Promise.resolve(new Set);U._updateProgress(Up(oe));const ve=new qd(oe,y.localStore,M.It);let $e=yield M.mc();for(;$e;){const Zt=yield ve.Fu($e);Zt&&U._updateProgress(Zt),$e=yield M.mc()}const yt=yield ve.complete();return yield gd(y,yt.Lu,void 0),yield function(Zt,yn){const En=Zn(Zt);return En.persistence.runTransaction("Save bundle","readwrite",ri=>En.Ns.saveBundleMetadata(ri,yn))}(y.localStore,oe),U._completeWith(yt.progress),Promise.resolve(yt.Bu)}catch(oe){return tl("SyncEngine",`Loading bundle failed with ${oe}`),U._failWith(oe),Promise.resolve(new Set)}var Zt}),function(y,M,U){return f.apply(this,arguments)})(a,e,t).then(f=>{a.sharedClientState.notifyBundleLoaded(f)})}(yield zh(s),f,a)}))}(t,s._databaseId,e,a),a}(this._delegate,e)}namedQuery(e){return function ig(s,e){return function Ya(s,e){return s.asyncQueue.enqueue((0,ut.Z)(function*(){return function(t,a){const f=Zn(t);return f.persistence.runTransaction("Get named query","readonly",y=>f.Ns.getNamedQuery(y,a))}(yield Qm(s),e)}))}(Ss(s=or(s,Jr)),e).then(t=>t?new xa(s,null,t.query):null)}(this._delegate,e).then(t=>t?new Za(this,t):null)}}class om extends oh{constructor(e){super(),this.firestore=e}convertBytes(e){return new sm(new qc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return bc.forKey(t,this.firestore,null)}}class Tv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new om(e)}get(e){const t=Dd(e);return this._delegate.get(t).then(a=>new lm(this._firestore,new Jc(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,t.converter)))}set(e,t,a){const f=Dd(e);return a?(mg("Transaction.set",a),this._delegate.set(f,t,a)):this._delegate.set(f,t),this}update(e,t,a,...f){const y=Dd(e);return 2===arguments.length?this._delegate.update(y,t):this._delegate.update(y,t,a,...f),this}delete(e){const t=Dd(e);return this._delegate.delete(t),this}}class S_{constructor(e){this._delegate=e}set(e,t,a){const f=Dd(e);return a?(mg("WriteBatch.set",a),this._delegate.set(f,t,a)):this._delegate.set(f,t),this}update(e,t,a,...f){const y=Dd(e);return 2===arguments.length?this._delegate.update(y,t):this._delegate.update(y,t,a,...f),this}delete(e){const t=Dd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ef{constructor(e,t,a){this._firestore=e,this._userDataWriter=t,this._delegate=a}fromFirestore(e,t){const a=new Xh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new cm(this._firestore,a),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const a=ef.INSTANCES;let f=a.get(e);f||(f=new WeakMap,a.set(e,f));let y=f.get(t);return y||(y=new ef(e,new om(e),t),f.set(t,y)),y}}ef.INSTANCES=new WeakMap;class bc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new om(e)}static forPath(e,t,a){if(e.length%2!=0)throw new In("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new bc(t,new Es(t._delegate,a,new zn(e)))}static forKey(e,t,a){return new bc(t,new Es(t._delegate,a,e))}get id(){return this._delegate.id}get parent(){return new tf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new tf(this.firestore,Kl(this._delegate,e))}catch(t){throw Ka(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Le.m9)(e))instanceof Es&&xu(this._delegate,e)}set(e,t){t=mg("DocumentReference.set",t);try{return t?fg(this._delegate,e,t):fg(this._delegate,e)}catch(a){throw Ka(a,"setDoc()","DocumentReference.set()")}}update(e,t,...a){try{return 1===arguments.length?gv(this._delegate,e):gv(this._delegate,e,t,...a)}catch(f){throw Ka(f,"updateDoc()","DocumentReference.update()")}}delete(){return function Yv(s){return Pu(or(s.firestore,Jr),[new Rc(s._key,ns.none())])}(this._delegate)}onSnapshot(...e){const t=T_(e),a=M_(e,f=>new lm(this.firestore,new Jc(this.firestore._delegate,this._userDataWriter,f._key,f._document,f.metadata,this._delegate.converter)));return _v(this._delegate,t,a)}get(e){let t;return t="cache"===e?.source?function mv(s){s=or(s,Es);const e=or(s.firestore,Jr),t=Ss(e),a=new lh(e);return function Vv(s,e){const t=new xr;return s.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return(a=(0,ut.Z)(function*(f,y,M){try{const U=yield function(oe,ve){const $e=Zn(oe);return $e.persistence.runTransaction("read document","readonly",yt=>$e.localDocuments.getDocument(yt,ve))}(f,y);U.isFoundDocument()?M.resolve(U):U.isNoDocument()?M.resolve(null):M.reject(new In(un.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(U){const oe=Uf(U,`Failed to get document '${y} from cache`);M.reject(oe)}}),function(f,y,M){return a.apply(this,arguments)})(yield Qm(s),e,t);var a})),t.promise}(t,s._key).then(f=>new Jc(e,a,s._key,f,new ah(null!==f&&f.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===e?.source?function eu(s){s=or(s,Es);const e=or(s.firestore,Jr);return Jm(Ss(e),s._key,{source:"server"}).then(t=>y_(e,s,t))}(this._delegate):function Ou(s){s=or(s,Es);const e=or(s.firestore,Jr);return Jm(Ss(e),s._key).then(t=>y_(e,s,t))}(this._delegate),t.then(a=>new lm(this.firestore,new Jc(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(e){return new bc(this.firestore,this._delegate.withConverter(e?ef.getInstance(this.firestore,e):null))}}function Ka(s,e,t){return s.message=s.message.replace(e,t),s}function T_(s){for(const e of s)if("object"==typeof e&&!D_(e))return e;return{}}function M_(s,e){var t,a;let f;return f=D_(s[0])?s[0]:D_(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:y=>{f.next&&f.next(e(y))},error:null===(t=f.error)||void 0===t?void 0:t.bind(f),complete:null===(a=f.complete)||void 0===a?void 0:a.bind(f)}}class lm{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new bc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return hg(this._delegate,e._delegate)}}class cm extends lm{data(e){const t=this._delegate.data(e);return function Bo(s,e){s||ii()}(void 0!==t),t}}class Za{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new om(e)}where(e,t,a){try{return new Za(this.firestore,wd(this._delegate,function h_(s,e,t){const a=e,f=cl("where",s);return new dv(f,a,t)}(e,t,a)))}catch(f){throw Ka(f,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Za(this.firestore,wd(this._delegate,function fv(s,e="asc"){const t=e,a=cl("orderBy",s);return new hv(a,t)}(e,t)))}catch(a){throw Ka(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Za(this.firestore,wd(this._delegate,function Hv(s){return tv("limit",s),new Uv("limit",s,"F")}(e)))}catch(t){throw Ka(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Za(this.firestore,wd(this._delegate,function jv(s){return tv("limitToLast",s),new Uv("limitToLast",s,"L")}(e)))}catch(t){throw Ka(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Za(this.firestore,wd(this._delegate,function $v(...s){return new f_("startAt",s,!0)}(...e)))}catch(t){throw Ka(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Za(this.firestore,wd(this._delegate,function oa(...s){return new f_("startAfter",s,!1)}(...e)))}catch(t){throw Ka(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Za(this.firestore,wd(this._delegate,function Gv(...s){return new p_("endBefore",s,!1)}(...e)))}catch(t){throw Ka(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Za(this.firestore,wd(this._delegate,function zv(...s){return new p_("endAt",s,!0)}(...e)))}catch(t){throw Ka(t,"endAt()","Query.endAt()")}}isEqual(e){return fc(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function nu(s){s=or(s,xa);const e=or(s.firestore,Jr),t=Ss(e),a=new lh(e);return function r_(s,e){const t=new xr;return s.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return(a=(0,ut.Z)(function*(f,y,M){try{const U=yield ad(f,y,!0),oe=new Hp(y,U.Hi),ve=oe.Wu(U.documents),$e=oe.applyChanges(ve,!1);M.resolve($e.snapshot)}catch(U){const oe=Uf(U,`Failed to execute query '${y} against cache`);M.reject(oe)}}),function(f,y,M){return a.apply(this,arguments)})(yield Qm(s),e,t);var a})),t.promise}(t,s._query).then(f=>new Jh(e,a,s,f))}(this._delegate):"server"===e?.source?function Wv(s){s=or(s,xa);const e=or(s.firestore,Jr),t=Ss(e),a=new lh(e);return av(t,s._query,{source:"server"}).then(f=>new Jh(e,a,s,f))}(this._delegate):function tu(s){s=or(s,xa);const e=or(s.firestore,Jr),t=Ss(e),a=new lh(e);return cg(s._query),av(t,s._query).then(f=>new Jh(e,a,s,f))}(this._delegate),t.then(a=>new gg(this.firestore,new Jh(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...e){const t=T_(e),a=M_(e,f=>new gg(this.firestore,new Jh(this.firestore._delegate,this._userDataWriter,this._delegate,f._snapshot)));return _v(this._delegate,t,a)}withConverter(e){return new Za(this.firestore,this._delegate.withConverter(e?ef.getInstance(this.firestore,e):null))}}class I_{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new cm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class gg{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Za(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new cm(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new I_(this._firestore,t))}forEach(e,t){this._delegate.forEach(a=>{e.call(t,new cm(this._firestore,a))})}isEqual(e){return hg(this._delegate,e._delegate)}}class tf extends Za{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new bc(this.firestore,e):null}doc(e){try{return new bc(this.firestore,void 0===e?$h(this._delegate):$h(this._delegate,e))}catch(t){throw Ka(t,"doc()","CollectionReference.doc()")}}add(e){return function Kv(s,e){const t=or(s.firestore,Jr),a=$h(s),f=ug(s.converter,e);return Pu(t,[vc(Io(s.firestore),"addDoc",a._key,f,null!==s.converter,{}).toMutation(a._key,ns.exists(!1))]).then(()=>a)}(this._delegate,e).then(t=>new bc(this.firestore,t))}isEqual(e){return xu(this._delegate,e._delegate)}withConverter(e){return new tf(this.firestore,this._delegate.withConverter(e?ef.getInstance(this.firestore,e):null))}}function Dd(s){return or(s,Es)}class _g{constructor(...e){this._delegate=new _c(...e)}static documentId(){return new _g(vr.keyField().canonicalString())}isEqual(e){return(e=(0,Le.m9)(e))instanceof _c&&this._delegate._internalPath.isEqual(e._internalPath)}}class uh{constructor(e){this._delegate=e}static serverTimestamp(){const e=function C_(){return new yc("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new uh(e)}static delete(){const e=function b_(){return new rp("deleteField")}();return e._methodName="FieldValue.delete",new uh(e)}static arrayUnion(...e){const t=function pg(...s){return new lv("arrayUnion",s)}(...e);return t._methodName="FieldValue.arrayUnion",new uh(t)}static arrayRemove(...e){const t=function w_(...s){return new cv("arrayRemove",s)}(...e);return t._methodName="FieldValue.arrayRemove",new uh(t)}static increment(e){const t=function bv(s){return new d_("increment",s)}(e);return t._methodName="FieldValue.increment",new uh(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Mv={Firestore:E_,GeoPoint:ip,Timestamp:Ar,Blob:sm,Transaction:Tv,WriteBatch:S_,DocumentReference:bc,DocumentSnapshot:lm,Query:Za,QueryDocumentSnapshot:cm,QuerySnapshot:gg,CollectionReference:tf,FieldPath:_g,FieldValue:uh,setLogLevel:function am(s){!function pa(s){Lo.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};!function x_(s){(function Iv(s,e){s.INTERNAL.registerComponent(new vt.wA("firestore-compat",t=>{const a=t.getProvider("app-compat").getImmediate(),f=t.getProvider("firestore").getImmediate();return e(a,f)},"PUBLIC").setServiceProps(Object.assign({},Mv)))})(s,(e,t)=>new E_(e,t,new Sv)),s.registerVersion("@firebase/firestore-compat","0.2.2")}(jt.Z);var ru=x(4941),dh=x(440),xv=x(127);function nf(s,e){return function Xv(s,e=N.P){return new v.y(t=>{let a;return null!=e?e.schedule(()=>{a=s.onSnapshot({includeMetadataChanges:!0},t)}):a=s.onSnapshot({includeMetadataChanges:!0},t),()=>{a?.()}})}(s,e)}function um(s,e){return nf(s,e).pipe((0,ye.U)(t=>({payload:t,type:"query"})))}function A_(s,e){return um(s,e).pipe((0,we.O)(void 0),Se(),(0,ye.U)(([t,a])=>{const f=a.payload.docChanges(),y=f.map(M=>({type:M.type,payload:M}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((M,U)=>{const oe=f.find($e=>$e.doc.ref.isEqual(M.ref)),ve=t?.payload.docs.find($e=>$e.ref.isEqual(M.ref));oe&&JSON.stringify(oe.doc.metadata)===JSON.stringify(M.metadata)||!oe&&ve&&JSON.stringify(ve.metadata)===JSON.stringify(M.metadata)||y.push({type:"modified",payload:{oldIndex:U,newIndex:U,type:"modified",doc:M}})}),y}))}function c(s,e,t){return A_(s,t).pipe((0,Ie.R)((a,f)=>function i(s,e,t){return e.forEach(a=>{t.indexOf(a.type)>-1&&(s=function d(s,e){switch(e.type){case"added":if(!s[e.newIndex]||!s[e.newIndex].doc.ref.isEqual(e.doc.ref))return o(s,e.newIndex,0,e);break;case"modified":if(null==s[e.oldIndex]||s[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=s.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return o(s,e.newIndex,1,e)}break;case"removed":if(s[e.oldIndex]&&s[e.oldIndex].doc.ref.isEqual(e.doc.ref))return o(s,e.oldIndex,1)}return s}(s,a))}),s}(a,f.map(y=>y.payload),e),[]),(0,Ue.x)(),(0,ye.U)(a=>a.map(f=>({type:f.type,payload:f}))))}function o(s,e,t,...a){const f=s.slice();return f.splice(e,t,...a),f}function g(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}class S{constructor(e,t,a){this.ref=e,this.query=t,this.afs=a}stateChanges(e){let t=A_(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ye.U)(a=>a.filter(f=>e.indexOf(f.type)>-1)))),t.pipe((0,we.O)(void 0),Se(),(0,Je.h)(([a,f])=>f.length>0||!a),(0,ye.U)(([a,f])=>f),te.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ie.R)((t,a)=>[...t,...a],[]))}snapshotChanges(e){const t=g(e);return c(this.query,t,this.afs.schedulers.outsideAngular).pipe(te.iC)}valueChanges(e={}){return um(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(t=>t.payload.docs.map(a=>e.idField?Object.assign(Object.assign({},a.data()),{[e.idField]:a.id}):a.data())),te.iC)}get(e){return(0,ne.D)(this.query.get(e)).pipe(te.iC)}add(e){return this.ref.add(e)}doc(e){return new P(this.ref.doc(e),this.afs)}}class P{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const a=this.ref.collection(e),{ref:f,query:y}=Ht(a,t);return new S(f,y,this.afs)}snapshotChanges(){return function Jv(s,e){return nf(s,e).pipe((0,we.O)(void 0),Se(),(0,ye.U)(([t,a])=>a.exists?t?.exists?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(te.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ye.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ne.D)(this.ref.get(e)).pipe(te.iC)}}class z{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?A_(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(t=>t.filter(a=>e.indexOf(a.type)>-1)),(0,Je.h)(t=>t.length>0),te.iC):A_(this.query,this.afs.schedulers.outsideAngular).pipe(te.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ie.R)((t,a)=>[...t,...a],[]))}snapshotChanges(e){const t=g(e);return c(this.query,t,this.afs.schedulers.outsideAngular).pipe(te.iC)}valueChanges(e={}){return um(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(a=>a.payload.docs.map(f=>e.idField?Object.assign({[e.idField]:f.id},f.data()):f.data())),te.iC)}get(e){return(0,ne.D)(this.query.get(e)).pipe(te.iC)}}const le=new p.OlP("angularfire2.enableFirestorePersistence"),Te=new p.OlP("angularfire2.firestore.persistenceSettings"),mt=new p.OlP("angularfire2.firestore.settings"),bt=new p.OlP("angularfire2.firestore.use-emulator");function Ht(s,e=(t=>t)){return{query:e(s),ref:s}}let mn=(()=>{class s{constructor(t,a,f,y,M,U,oe,ve,$e,yt,Zt,yn,En,ri,hi,Hn,ei){this.schedulers=oe;const ti=(0,Fe.on)(t,U,a),Mi=$e;yt&&(0,ru.nw)(ti,U,Zt,En,ri,hi,yn,Hn),[this.firestore,this.persistenceEnabled$]=(0,Fe.cc)(`${ti.name}.firestore`,"AngularFirestore",ti.name,()=>{const ki=U.runOutsideAngular(()=>ti.firestore());if(y&&ki.settings(y),Mi&&ki.useEmulator(...Mi),f&&!(0,ot.PM)(M)){const ar=()=>{try{return(0,ne.D)(ki.enablePersistence(ve||void 0).then(()=>!0,()=>!1))}catch(Hr){return typeof console<"u"&&console.warn(Hr),(0,C.of)(!1)}};return[ki,U.runOutsideAngular(ar)]}return[ki,(0,C.of)(!1)]},[y,Mi,f])}collection(t,a){let f;f="string"==typeof t?this.firestore.collection(t):t;const{ref:y,query:M}=Ht(f,a),U=this.schedulers.ngZone.run(()=>y);return new S(U,M,this)}collectionGroup(t,a){const f=a||(M=>M),y=this.firestore.collectionGroup(t);return new z(f(y),this)}doc(t){let a;a="string"==typeof t?this.firestore.doc(t):t;const f=this.schedulers.ngZone.run(()=>a);return new P(f,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(t){return new(t||s)(p.LFG(Fe.Dh),p.LFG(Fe.xv,8),p.LFG(le,8),p.LFG(mt,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(te.HU),p.LFG(Te,8),p.LFG(bt,8),p.LFG(ru.zQ,8),p.LFG(ru.Qv,8),p.LFG(ru.L6,8),p.LFG(ru._Q,8),p.LFG(ru.rT,8),p.LFG(ru.lh,8),p.LFG(ru.f7,8),p.LFG(dh.nm,8))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),Cn=(()=>{class s{constructor(){xv.Z.registerVersion("angularfire",te.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:s,providers:[{provide:le,useValue:!0},{provide:Te,useValue:t}]}}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({providers:[mn]}),s})()},2011:(gn,_t,x)=>{"use strict";x.d(_t,{Dh:()=>he,GT:()=>te,cc:()=>Ue,hO:()=>Ie,on:()=>ae,pX:()=>C,xv:()=>Se});var p=x(4650),N=x(127),v=x(6351);gn=x.hmd(gn);const ne=["ngOnDestroy"],C=(ht,jt,ut,kt={})=>new Proxy(ht,{get:(vt,et)=>ut.runOutsideAngular(()=>{var Le;if(ht[et])return!(null===(Le=kt?.spy)||void 0===Le)&&Le.get&&kt.spy.get(et,ht[et]),ht[et];if(ne.indexOf(et)>-1)return()=>{};const ft=jt.toPromise().then(tt=>{const qe=tt&&tt[et];return"function"==typeof qe?qe.bind(tt):qe&&qe.then?qe.then(Lt=>ut.run(()=>Lt)):ut.run(()=>qe)});return new Proxy(()=>{},{get:(tt,qe)=>ft[qe],apply:(tt,qe,Lt)=>ft.then(Ge=>{var Ot;const Bt=Ge&&Ge(...Lt);return!(null===(Ot=kt?.spy)||void 0===Ot)&&Ot.apply&&kt.spy.apply(et,Lt,Bt),Bt})})})}),te=(ht,jt)=>{jt.forEach(ut=>{Object.getOwnPropertyNames(ut.prototype||ut).forEach(kt=>{Object.defineProperty(ht.prototype,kt,Object.getOwnPropertyDescriptor(ut.prototype||ut,kt))})})};class we{constructor(jt){return jt}}const he=new p.OlP("angularfire2.app.options"),Se=new p.OlP("angularfire2.app.name");function ae(ht,jt,ut){const vt="object"==typeof ut&&ut||{};vt.name=vt.name||"string"==typeof ut&&ut||"[DEFAULT]";const Le=N.Z.apps.filter(ft=>ft&&ft.name===vt.name)[0]||jt.runOutsideAngular(()=>N.Z.initializeApp(ht,vt));try{JSON.stringify(ht)!==JSON.stringify(Le.options)&&me("error",`${Le.name} Firebase App already initialized with different options${gn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new we(Le)}const me=(ht,...jt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[ht](...jt)},ye={provide:we,useFactory:ae,deps:[he,p.R0b,[new p.FiY,Se]]};let Ie=(()=>{class ht{constructor(ut){N.Z.registerVersion("angularfire",v.q4.full,"core"),N.Z.registerVersion("angularfire",v.q4.full,"app-compat"),N.Z.registerVersion("angular",p.q4F.full,ut.toString())}static initializeApp(ut,kt){return{ngModule:ht,providers:[{provide:he,useValue:ut},{provide:Se,useValue:kt}]}}}return ht.\u0275fac=function(ut){return new(ut||ht)(p.LFG(p.Lbi))},ht.\u0275mod=p.oAB({type:ht}),ht.\u0275inj=p.cJS({providers:[ye]}),ht})();function Ue(ht,jt,ut,kt,vt){const[,et,Le]=globalThis.\u0275AngularfireInstanceCache.find(ft=>ft[0]===ht)||[];if(et)return function Je(ht,jt){try{return ht.toString()===jt.toString()}catch{return ht===jt}}(vt,Le)||(ot("error",`${jt} was already initialized on the ${ut} Firebase App with different settings.${Fe?" You may need to reload as Firebase is not HMR aware.":""}`),ot("warn",{is:vt,was:Le})),et;{const ft=kt();return globalThis.\u0275AngularfireInstanceCache.push([ht,ft,vt]),ft}}const Fe=!!gn.hot,ot=(ht,...jt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[ht](...jt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(gn,_t,x)=>{"use strict";x.d(_t,{q4:()=>fo,iC:()=>La,fc:()=>Or,HU:()=>ji,vb:()=>kn,JM:()=>Kt});var p=x(4650),N=x(5867),v=x(5861),ne=x(9681),C=x(2090),te=x(4859),we=x(1877),he=x(8766);const Se="@firebase/installations",ae="0.5.16",ye=`w:${ae}`,Ie="FIS_v2",jt=new C.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ut(Z){return Z instanceof C.ZR&&Z.code.includes("request-failed")}function kt({projectId:Z}){return`https://firebaseinstallations.googleapis.com/v1/projects/${Z}/installations`}function vt(Z){return{token:Z.token,requestStatus:2,expiresIn:Ge(Z.expiresIn),creationTime:Date.now()}}function et(Z,se){return Le.apply(this,arguments)}function Le(){return(Le=(0,v.Z)(function*(Z,se){const at=(yield se.json()).error;return jt.create("request-failed",{requestName:Z,serverCode:at.code,serverMessage:at.message,serverStatus:at.status})})).apply(this,arguments)}function ft({apiKey:Z}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Z})}function tt(Z,{refreshToken:se}){const Me=ft(Z);return Me.append("Authorization",function Ot(Z){return`${Ie} ${Z}`}(se)),Me}function qe(Z){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,v.Z)(function*(Z){const se=yield Z();return se.status>=500&&se.status<600?Z():se})).apply(this,arguments)}function Ge(Z){return Number(Z.replace("s","000"))}function Bt(Z,se){return bn.apply(this,arguments)}function bn(){return(bn=(0,v.Z)(function*({appConfig:Z,heartbeatServiceProvider:se},{fid:Me}){const at=kt(Z),Ft=ft(Z),on=se.getImmediate({optional:!0});if(on){const Fi=yield on.getHeartbeatsHeader();Fi&&Ft.append("x-firebase-client",Fi)}const $n={method:"POST",headers:Ft,body:JSON.stringify({fid:Me,authVersion:Ie,appId:Z.appId,sdkVersion:ye})},_i=yield qe(()=>fetch(at,$n));if(_i.ok){const Fi=yield _i.json();return{fid:Fi.fid||Me,registrationStatus:2,refreshToken:Fi.refreshToken,authToken:vt(Fi.authToken)}}throw yield et("Create Installation",_i)})).apply(this,arguments)}function qn(Z){return new Promise(se=>{setTimeout(se,Z)})}const ai=/^[cdef][\w-]{21}$/;function rn(){try{const Z=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Z),Z[0]=112+Z[0]%16;const Me=function _n(Z){return function jn(Z){return btoa(String.fromCharCode(...Z)).replace(/\+/g,"-").replace(/\//g,"_")}(Z).substr(0,22)}(Z);return ai.test(Me)?Me:""}catch{return""}}function ke(Z){return`${Z.appName}!${Z.appId}`}const Be=new Map;function Ne(Z,se){const Me=ke(Z);en(Me,se),function Ln(Z,se){const Me=function Qt(){return!It&&"BroadcastChannel"in self&&(It=new BroadcastChannel("[Firebase] FID Change"),It.onmessage=Z=>{en(Z.data.key,Z.data.fid)}),It}();Me&&Me.postMessage({key:Z,fid:se}),function Mt(){0===Be.size&&It&&(It.close(),It=null)}()}(Me,se)}function en(Z,se){const Me=Be.get(Z);if(Me)for(const at of Me)at(se)}let It=null;const zt="firebase-installations-store";let Gn=null;function Dn(){return Gn||(Gn=(0,he.X3)("firebase-installations-database",1,{upgrade:(Z,se)=>{0===se&&Z.createObjectStore(zt)}})),Gn}function pt(Z,se){return J.apply(this,arguments)}function J(){return(J=(0,v.Z)(function*(Z,se){const Me=ke(Z),Ft=(yield Dn()).transaction(zt,"readwrite"),on=Ft.objectStore(zt),xn=yield on.get(Me);return yield on.put(se,Me),yield Ft.done,(!xn||xn.fid!==se.fid)&&Ne(Z,se.fid),se})).apply(this,arguments)}function de(Z){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,v.Z)(function*(Z){const se=ke(Z),at=(yield Dn()).transaction(zt,"readwrite");yield at.objectStore(zt).delete(se),yield at.done})).apply(this,arguments)}function ce(Z,se){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,v.Z)(function*(Z,se){const Me=ke(Z),Ft=(yield Dn()).transaction(zt,"readwrite"),on=Ft.objectStore(zt),xn=yield on.get(Me),$n=se(xn);return void 0===$n?yield on.delete(Me):yield on.put($n,Me),yield Ft.done,$n&&(!xn||xn.fid!==$n.fid)&&Ne(Z,$n.fid),$n})).apply(this,arguments)}function be(Z){return We.apply(this,arguments)}function We(){return(We=(0,v.Z)(function*(Z){let se;const Me=yield ce(Z.appConfig,at=>{const Ft=Ut(at),on=Nt(Z,Ft);return se=on.registrationPromise,on.installationEntry});return""===Me.fid?{installationEntry:yield se}:{installationEntry:Me,registrationPromise:se}})).apply(this,arguments)}function Ut(Z){return On(Z||{fid:rn(),registrationStatus:0})}function Nt(Z,se){if(0===se.registrationStatus){if(!navigator.onLine)return{installationEntry:se,registrationPromise:Promise.reject(jt.create("app-offline"))};const Me={fid:se.fid,registrationStatus:1,registrationTime:Date.now()},at=function Yt(Z,se){return Sn.apply(this,arguments)}(Z,Me);return{installationEntry:Me,registrationPromise:at}}return 1===se.registrationStatus?{installationEntry:se,registrationPromise:Dt(Z)}:{installationEntry:se}}function Sn(){return(Sn=(0,v.Z)(function*(Z,se){try{const Me=yield Bt(Z,se);return pt(Z.appConfig,Me)}catch(Me){throw ut(Me)&&409===Me.customData.serverCode?yield de(Z.appConfig):yield pt(Z.appConfig,{fid:se.fid,registrationStatus:0}),Me}})).apply(this,arguments)}function Dt(Z){return oi.apply(this,arguments)}function oi(){return(oi=(0,v.Z)(function*(Z){let se=yield ni(Z.appConfig);for(;1===se.registrationStatus;)yield qn(100),se=yield ni(Z.appConfig);if(0===se.registrationStatus){const{installationEntry:Me,registrationPromise:at}=yield be(Z);return at||Me}return se})).apply(this,arguments)}function ni(Z){return ce(Z,se=>{if(!se)throw jt.create("installation-not-found");return On(se)})}function On(Z){return function Ii(Z){return 1===Z.registrationStatus&&Z.registrationTime+1e4<Date.now()}(Z)?{fid:Z.fid,registrationStatus:0}:Z}function Tn(Z,se){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,v.Z)(function*({appConfig:Z,heartbeatServiceProvider:se},Me){const at=gt(Z,Me),Ft=tt(Z,Me),on=se.getImmediate({optional:!0});if(on){const Fi=yield on.getHeartbeatsHeader();Fi&&Ft.append("x-firebase-client",Fi)}const $n={method:"POST",headers:Ft,body:JSON.stringify({installation:{sdkVersion:ye,appId:Z.appId}})},_i=yield qe(()=>fetch(at,$n));if(_i.ok)return vt(yield _i.json());throw yield et("Generate Auth Token",_i)})).apply(this,arguments)}function gt(Z,{fid:se}){return`${kt(Z)}/${se}/authTokens:generate`}function Et(Z){return ln.apply(this,arguments)}function ln(){return(ln=(0,v.Z)(function*(Z,se=!1){let Me;const at=yield ce(Z.appConfig,on=>{if(!Gt(on))throw jt.create("not-registered");const xn=on.authToken;if(!se&&ge(xn))return on;if(1===xn.requestStatus)return Me=fn(Z,se),on;{if(!navigator.onLine)throw jt.create("app-offline");const $n=G(on);return Me=Xe(Z,$n),$n}});return Me?yield Me:at.authToken})).apply(this,arguments)}function fn(Z,se){return lt.apply(this,arguments)}function lt(){return(lt=(0,v.Z)(function*(Z,se){let Me=yield st(Z.appConfig);for(;1===Me.authToken.requestStatus;)yield qn(100),Me=yield st(Z.appConfig);const at=Me.authToken;return 0===at.requestStatus?Et(Z,se):at})).apply(this,arguments)}function st(Z){return ce(Z,se=>{if(!Gt(se))throw jt.create("not-registered");return function X(Z){return 1===Z.requestStatus&&Z.requestTime+1e4<Date.now()}(se.authToken)?Object.assign(Object.assign({},se),{authToken:{requestStatus:0}}):se})}function Xe(Z,se){return St.apply(this,arguments)}function St(){return(St=(0,v.Z)(function*(Z,se){try{const Me=yield Tn(Z,se),at=Object.assign(Object.assign({},se),{authToken:Me});return yield pt(Z.appConfig,at),Me}catch(Me){if(!ut(Me)||401!==Me.customData.serverCode&&404!==Me.customData.serverCode){const at=Object.assign(Object.assign({},se),{authToken:{requestStatus:0}});yield pt(Z.appConfig,at)}else yield de(Z.appConfig);throw Me}})).apply(this,arguments)}function Gt(Z){return void 0!==Z&&2===Z.registrationStatus}function ge(Z){return 2===Z.requestStatus&&!function j(Z){const se=Date.now();return se<Z.creationTime||Z.creationTime+Z.expiresIn<se+36e5}(Z)}function G(Z){const se={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},Z),{authToken:se})}function fe(){return(fe=(0,v.Z)(function*(Z){const se=Z,{installationEntry:Me,registrationPromise:at}=yield be(se);return at?at.catch(console.error):Et(se).catch(console.error),Me.fid})).apply(this,arguments)}function Ct(){return(Ct=(0,v.Z)(function*(Z,se=!1){const Me=Z;return yield dn(Me),(yield Et(Me,se)).token})).apply(this,arguments)}function dn(Z){return pn.apply(this,arguments)}function pn(){return(pn=(0,v.Z)(function*(Z){const{registrationPromise:se}=yield be(Z);se&&(yield se)})).apply(this,arguments)}function sn(Z){return jt.create("missing-app-config-values",{valueName:Z})}const Yn="installations",pi=Z=>{const se=Z.getProvider("app").getImmediate(),Me=function Vt(Z){if(!Z||!Z.options)throw sn("App Configuration");if(!Z.name)throw sn("App Name");const se=["projectId","apiKey","appId"];for(const Me of se)if(!Z.options[Me])throw sn(Me);return{appName:Z.name,projectId:Z.options.projectId,apiKey:Z.options.apiKey,appId:Z.options.appId}}(se);return{app:se,appConfig:Me,heartbeatServiceProvider:(0,ne._getProvider)(se,"heartbeat"),_delete:()=>Promise.resolve()}},Xi=Z=>{const se=Z.getProvider("app").getImmediate(),Me=(0,ne._getProvider)(se,Yn).getImmediate();return{getId:()=>function K(Z){return fe.apply(this,arguments)}(Me),getToken:Ft=>function Qe(Z){return Ct.apply(this,arguments)}(Me,Ft)}};(function pr(){(0,ne._registerComponent)(new te.wA(Yn,pi,"PUBLIC")),(0,ne._registerComponent)(new te.wA("installations-internal",Xi,"PRIVATE"))})(),(0,ne.registerVersion)(Se,ae),(0,ne.registerVersion)(Se,ae,"esm2017");const dr="@firebase/remote-config",wr=new C.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class to{constructor(se,Me,at,Ft){this.client=se,this.storage=Me,this.storageCache=at,this.logger=Ft}isCachedDataFresh(se,Me){if(!Me)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const at=Date.now()-Me,Ft=at<=se;return this.logger.debug(`Config fetch cache check. Cache age millis: ${at}. Cache max age millis (minimumFetchIntervalMillis setting): ${se}. Is cache hit: ${Ft}.`),Ft}fetch(se){var Me=this;return(0,v.Z)(function*(){const[at,Ft]=yield Promise.all([Me.storage.getLastSuccessfulFetchTimestampMillis(),Me.storage.getLastSuccessfulFetchResponse()]);if(Ft&&Me.isCachedDataFresh(se.cacheMaxAgeMillis,at))return Ft;se.eTag=Ft&&Ft.eTag;const on=yield Me.client.fetch(se),xn=[Me.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===on.status&&xn.push(Me.storage.setLastSuccessfulFetchResponse(on)),yield Promise.all(xn),on})()}}function Oa(Z=navigator){return Z.languages&&Z.languages[0]||Z.language}class fs{constructor(se,Me,at,Ft,on,xn){this.firebaseInstallations=se,this.sdkVersion=Me,this.namespace=at,this.projectId=Ft,this.apiKey=on,this.appId=xn}fetch(se){var Me=this;return(0,v.Z)(function*(){var at,Ft,on;const[xn,$n]=yield Promise.all([Me.firebaseInstallations.getId(),Me.firebaseInstallations.getToken()]),Fi=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Me.projectId}/namespaces/${Me.namespace}:fetch?key=${Me.apiKey}`,Li={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":se.eTag||"*"},Ci={sdk_version:Me.sdkVersion,app_instance_id:xn,app_instance_id_token:$n,app_id:Me.appId,language_code:Oa()},Cs={method:"POST",headers:Li,body:JSON.stringify(Ci)},Bs=fetch(Fi,Cs),_a=new Promise((Xr,Va)=>{se.signal.addEventListener(()=>{const yr=new Error("The operation was aborted.");yr.name="AbortError",Va(yr)})});let rl;try{yield Promise.race([Bs,_a]),rl=yield Bs}catch(Xr){let Va="fetch-client-network";throw"AbortError"===(null===(at=Xr)||void 0===at?void 0:at.name)&&(Va="fetch-timeout"),wr.create(Va,{originalErrorMessage:null===(Ft=Xr)||void 0===Ft?void 0:Ft.message})}let Ba=rl.status;const nc=rl.headers.get("ETag")||void 0;let Ta,_l;if(200===rl.status){let Xr;try{Xr=yield rl.json()}catch(Va){throw wr.create("fetch-client-parse",{originalErrorMessage:null===(on=Va)||void 0===on?void 0:on.message})}Ta=Xr.entries,_l=Xr.state}if("INSTANCE_STATE_UNSPECIFIED"===_l?Ba=500:"NO_CHANGE"===_l?Ba=304:("NO_TEMPLATE"===_l||"EMPTY_CONFIG"===_l)&&(Ta={}),304!==Ba&&200!==Ba)throw wr.create("fetch-status",{httpStatus:Ba});return{status:Ba,eTag:nc,config:Ta}})()}}class Rt{constructor(se,Me){this.client=se,this.storage=Me}fetch(se){var Me=this;return(0,v.Z)(function*(){const at=(yield Me.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Me.attemptFetch(se,at)})()}attemptFetch(se,{throttleEndTimeMillis:Me,backoffCount:at}){var Ft=this;return(0,v.Z)(function*(){yield function _s(Z,se){return new Promise((Me,at)=>{const Ft=Math.max(se-Date.now(),0),on=setTimeout(Me,Ft);Z.addEventListener(()=>{clearTimeout(on),at(wr.create("fetch-throttle",{throttleEndTimeMillis:se}))})})}(se.signal,Me);try{const on=yield Ft.client.fetch(se);return yield Ft.storage.deleteThrottleMetadata(),on}catch(on){if(!function Pt(Z){if(!(Z instanceof C.ZR&&Z.customData))return!1;const se=Number(Z.customData.httpStatus);return 429===se||500===se||503===se||504===se}(on))throw on;const xn={throttleEndTimeMillis:Date.now()+(0,C.$s)(at),backoffCount:at+1};return yield Ft.storage.setThrottleMetadata(xn),Ft.attemptFetch(se,xn)}})()}}class Fn{constructor(se,Me,at,Ft,on){this.app=se,this._client=Me,this._storageCache=at,this._storage=Ft,this._logger=on,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function si(Z,se){var Me;const at=Z.target.error||void 0;return wr.create(se,{originalErrorMessage:at&&(null===(Me=at)||void 0===Me?void 0:Me.message)})}const Di="app_namespace_store";class ls{constructor(se,Me,at,Ft=function jr(){return new Promise((Z,se)=>{var Me;try{const at=indexedDB.open("firebase_remote_config",1);at.onerror=Ft=>{se(si(Ft,"storage-open"))},at.onsuccess=Ft=>{Z(Ft.target.result)},at.onupgradeneeded=Ft=>{0===Ft.oldVersion&&Ft.target.result.createObjectStore(Di,{keyPath:"compositeKey"})}}catch(at){se(wr.create("storage-open",{originalErrorMessage:null===(Me=at)||void 0===Me?void 0:Me.message}))}})}()){this.appId=se,this.appName=Me,this.namespace=at,this.openDbPromise=Ft}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(se){return this.set("last_fetch_status",se)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(se){return this.set("last_successful_fetch_timestamp_millis",se)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(se){return this.set("last_successful_fetch_response",se)}getActiveConfig(){return this.get("active_config")}setActiveConfig(se){return this.set("active_config",se)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(se){return this.set("active_config_etag",se)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(se){return this.set("throttle_metadata",se)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(se){var Me=this;return(0,v.Z)(function*(){const at=yield Me.openDbPromise;return new Promise((Ft,on)=>{var xn;const _i=at.transaction([Di],"readonly").objectStore(Di),Fi=Me.createCompositeKey(se);try{const Li=_i.get(Fi);Li.onerror=Ci=>{on(si(Ci,"storage-get"))},Li.onsuccess=Ci=>{const Cs=Ci.target.result;Ft(Cs?Cs.value:void 0)}}catch(Li){on(wr.create("storage-get",{originalErrorMessage:null===(xn=Li)||void 0===xn?void 0:xn.message}))}})})()}set(se,Me){var at=this;return(0,v.Z)(function*(){const Ft=yield at.openDbPromise;return new Promise((on,xn)=>{var $n;const Fi=Ft.transaction([Di],"readwrite").objectStore(Di),Li=at.createCompositeKey(se);try{const Ci=Fi.put({compositeKey:Li,value:Me});Ci.onerror=Cs=>{xn(si(Cs,"storage-set"))},Ci.onsuccess=()=>{on()}}catch(Ci){xn(wr.create("storage-set",{originalErrorMessage:null===($n=Ci)||void 0===$n?void 0:$n.message}))}})})()}delete(se){var Me=this;return(0,v.Z)(function*(){const at=yield Me.openDbPromise;return new Promise((Ft,on)=>{var xn;const _i=at.transaction([Di],"readwrite").objectStore(Di),Fi=Me.createCompositeKey(se);try{const Li=_i.delete(Fi);Li.onerror=Ci=>{on(si(Ci,"storage-delete"))},Li.onsuccess=()=>{Ft()}}catch(Li){on(wr.create("storage-delete",{originalErrorMessage:null===(xn=Li)||void 0===xn?void 0:xn.message}))}})})()}createCompositeKey(se){return[this.appId,this.appName,this.namespace,se].join()}}class xs{constructor(se){this.storage=se}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var se=this;return(0,v.Z)(function*(){const Me=se.storage.getLastFetchStatus(),at=se.storage.getLastSuccessfulFetchTimestampMillis(),Ft=se.storage.getActiveConfig(),on=yield Me;on&&(se.lastFetchStatus=on);const xn=yield at;xn&&(se.lastSuccessfulFetchTimestampMillis=xn);const $n=yield Ft;$n&&(se.activeConfig=$n)})()}setLastFetchStatus(se){return this.lastFetchStatus=se,this.storage.setLastFetchStatus(se)}setLastSuccessfulFetchTimestampMillis(se){return this.lastSuccessfulFetchTimestampMillis=se,this.storage.setLastSuccessfulFetchTimestampMillis(se)}setActiveConfig(se){return this.activeConfig=se,this.storage.setActiveConfig(se)}}function $s(){return Go.apply(this,arguments)}function Go(){return(Go=(0,v.Z)(function*(){if(!(0,C.hl)())return!1;try{return yield(0,C.eu)()}catch{return!1}})).apply(this,arguments)}!function ko(){(0,ne._registerComponent)(new te.wA("remote-config",function Z(se,{instanceIdentifier:Me}){const at=se.getProvider("app").getImmediate(),Ft=se.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw wr.create("registration-window");if(!(0,C.hl)())throw wr.create("indexed-db-unavailable");const{projectId:on,apiKey:xn,appId:$n}=at.options;if(!on)throw wr.create("registration-project-id");if(!xn)throw wr.create("registration-api-key");if(!$n)throw wr.create("registration-app-id");const _i=new ls($n,at.name,Me=Me||"firebase"),Fi=new xs(_i),Li=new we.Yd(dr);Li.logLevel=we.in.ERROR;const Ci=new fs(Ft,ne.SDK_VERSION,Me,on,xn,$n),Cs=new Rt(Ci,_i),Bs=new to(Cs,_i,Fi,Li),_a=new Fn(at,Bs,Fi,_i,Li);return function lr(Z){const se=(0,C.m9)(Z);se._initializePromise||(se._initializePromise=se._storageCache.loadFromStorage().then(()=>{se._isInitializationComplete=!0}))}(_a),_a},"PUBLIC").setMultipleInstances(!0)),(0,ne.registerVersion)(dr,"0.3.15"),(0,ne.registerVersion)(dr,"0.3.15","esm2017")}();const bo="/firebase-messaging-sw.js",Co="/firebase-cloud-messaging-push-scope",aa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wo="google.c.a.c_id",Gs="google.c.a.c_l",ys="google.c.a.ts",As="google.c.a.e";var zs=(()=>{return(Z=zs||(zs={})).PUSH_RECEIVED="push-received",Z.NOTIFICATION_CLICKED="notification-clicked",zs;var Z})();function es(Z){const se=new Uint8Array(Z);return btoa(String.fromCharCode(...se)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Wr(Z){const Me=(Z+"=".repeat((4-Z.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),at=atob(Me),Ft=new Uint8Array(at.length);for(let on=0;on<at.length;++on)Ft[on]=at.charCodeAt(on);return Ft}const no="fcm_token_details_db",zo="fcm_token_object_Store";function Ws(Z){return Qs.apply(this,arguments)}function Qs(){return Qs=(0,v.Z)(function*(Z){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(on=>on.name).includes(no))return null;let se=null;return(yield(0,he.X3)(no,5,{upgrade:(at=(0,v.Z)(function*(Ft,on,xn,$n){var _i;if(on<2||!Ft.objectStoreNames.contains(zo))return;const Fi=$n.objectStore(zo),Li=yield Fi.index("fcmSenderId").get(Z);if(yield Fi.clear(),Li)if(2===on){const Ci=Li;if(!Ci.auth||!Ci.p256dh||!Ci.endpoint)return;se={token:Ci.fcmToken,createTime:null!==(_i=Ci.createTime)&&void 0!==_i?_i:Date.now(),subscriptionOptions:{auth:Ci.auth,p256dh:Ci.p256dh,endpoint:Ci.endpoint,swScope:Ci.swScope,vapidKey:"string"==typeof Ci.vapidKey?Ci.vapidKey:es(Ci.vapidKey)}}}else if(3===on){const Ci=Li;se={token:Ci.fcmToken,createTime:Ci.createTime,subscriptionOptions:{auth:es(Ci.auth),p256dh:es(Ci.p256dh),endpoint:Ci.endpoint,swScope:Ci.swScope,vapidKey:es(Ci.vapidKey)}}}else if(4===on){const Ci=Li;se={token:Ci.fcmToken,createTime:Ci.createTime,subscriptionOptions:{auth:es(Ci.auth),p256dh:es(Ci.p256dh),endpoint:Ci.endpoint,swScope:Ci.swScope,vapidKey:es(Ci.vapidKey)}}}}),function(on,xn,$n,_i){return at.apply(this,arguments)})})).close(),yield(0,he.Lj)(no),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),mr(se)?se:null;var at}),Qs.apply(this,arguments)}function mr(Z){if(!Z||!Z.subscriptionOptions)return!1;const{subscriptionOptions:se}=Z;return"number"==typeof Z.createTime&&Z.createTime>0&&"string"==typeof Z.token&&Z.token.length>0&&"string"==typeof se.auth&&se.auth.length>0&&"string"==typeof se.p256dh&&se.p256dh.length>0&&"string"==typeof se.endpoint&&se.endpoint.length>0&&"string"==typeof se.swScope&&se.swScope.length>0&&"string"==typeof se.vapidKey&&se.vapidKey.length>0}const Ai="firebase-messaging-store";let Kr=null;function io(){return Kr||(Kr=(0,he.X3)("firebase-messaging-database",1,{upgrade:(Z,se)=>{0===se&&Z.createObjectStore(Ai)}})),Kr}function bs(Z){return la.apply(this,arguments)}function la(){return(la=(0,v.Z)(function*(Z){const se=Os(Z),at=yield(yield io()).transaction(Ai).objectStore(Ai).get(se);if(at)return at;{const Ft=yield Ws(Z.appConfig.senderId);if(Ft)return yield Zi(Z,Ft),Ft}})).apply(this,arguments)}function Zi(Z,se){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,v.Z)(function*(Z,se){const Me=Os(Z),Ft=(yield io()).transaction(Ai,"readwrite");return yield Ft.objectStore(Ai).put(se,Me),yield Ft.done,se})).apply(this,arguments)}function Rs(Z){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,v.Z)(function*(Z){const se=Os(Z),at=(yield io()).transaction(Ai,"readwrite");yield at.objectStore(Ai).delete(se),yield at.done})).apply(this,arguments)}function Os({appConfig:Z}){return Z.appId}const gr=new C.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fi(Z,se){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,v.Z)(function*(Z,se){var Me;const at=yield Zr(Z),Ft=Mn(se),on={method:"POST",headers:at,body:JSON.stringify(Ft)};let xn;try{xn=yield(yield fetch(Ys(Z.appConfig),on)).json()}catch($n){throw gr.create("token-subscribe-failed",{errorInfo:null===(Me=$n)||void 0===Me?void 0:Me.toString()})}if(xn.error)throw gr.create("token-subscribe-failed",{errorInfo:xn.error.message});if(!xn.token)throw gr.create("token-subscribe-no-token");return xn.token})).apply(this,arguments)}function ql(Z,se){return cs.apply(this,arguments)}function cs(){return(cs=(0,v.Z)(function*(Z,se){var Me;const at=yield Zr(Z),Ft=Mn(se.subscriptionOptions),on={method:"PATCH",headers:at,body:JSON.stringify(Ft)};let xn;try{xn=yield(yield fetch(`${Ys(Z.appConfig)}/${se.token}`,on)).json()}catch($n){throw gr.create("token-update-failed",{errorInfo:null===(Me=$n)||void 0===Me?void 0:Me.toString()})}if(xn.error)throw gr.create("token-update-failed",{errorInfo:xn.error.message});if(!xn.token)throw gr.create("token-update-no-token");return xn.token})).apply(this,arguments)}function dl(Z,se){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,v.Z)(function*(Z,se){var Me;const Ft={method:"DELETE",headers:yield Zr(Z)};try{const xn=yield(yield fetch(`${Ys(Z.appConfig)}/${se}`,Ft)).json();if(xn.error)throw gr.create("token-unsubscribe-failed",{errorInfo:xn.error.message})}catch(on){throw gr.create("token-unsubscribe-failed",{errorInfo:null===(Me=on)||void 0===Me?void 0:Me.toString()})}})).apply(this,arguments)}function Ys({projectId:Z}){return`https://fcmregistrations.googleapis.com/v1/projects/${Z}/registrations`}function Zr(Z){return qa.apply(this,arguments)}function qa(){return(qa=(0,v.Z)(function*({appConfig:Z,installations:se}){const Me=yield se.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Z.apiKey,"x-goog-firebase-installations-auth":`FIS ${Me}`})})).apply(this,arguments)}function Mn({p256dh:Z,auth:se,endpoint:Me,vapidKey:at}){const Ft={web:{endpoint:Me,auth:se,p256dh:Z}};return at!==aa&&(Ft.web.applicationPubKey=at),Ft}const xi=6048e5;function Po(Z){return No.apply(this,arguments)}function No(){return(No=(0,v.Z)(function*(Z){const se=yield Jn(Z.swRegistration,Z.vapidKey),Me={vapidKey:Z.vapidKey,swScope:Z.swRegistration.scope,endpoint:se.endpoint,auth:es(se.getKey("auth")),p256dh:es(se.getKey("p256dh"))},at=yield bs(Z.firebaseDependencies);if(at){if(ro(at.subscriptionOptions,Me))return Date.now()>=at.createTime+xi?Q(Z,{token:at.token,createTime:Date.now(),subscriptionOptions:Me}):at.token;try{yield dl(Z.firebaseDependencies,at.token)}catch(Ft){console.warn(Ft)}return Ae(Z.firebaseDependencies,Me)}return Ae(Z.firebaseDependencies,Me)})).apply(this,arguments)}function Vr(Z){return re.apply(this,arguments)}function re(){return(re=(0,v.Z)(function*(Z){const se=yield bs(Z.firebaseDependencies);se&&(yield dl(Z.firebaseDependencies,se.token),yield Rs(Z.firebaseDependencies));const Me=yield Z.swRegistration.pushManager.getSubscription();return!Me||Me.unsubscribe()})).apply(this,arguments)}function Q(Z,se){return $.apply(this,arguments)}function $(){return($=(0,v.Z)(function*(Z,se){try{const Me=yield ql(Z.firebaseDependencies,se),at=Object.assign(Object.assign({},se),{token:Me,createTime:Date.now()});return yield Zi(Z.firebaseDependencies,at),Me}catch(Me){throw yield Vr(Z),Me}})).apply(this,arguments)}function Ae(Z,se){return nn.apply(this,arguments)}function nn(){return(nn=(0,v.Z)(function*(Z,se){const at={token:yield fi(Z,se),createTime:Date.now(),subscriptionOptions:se};return yield Zi(Z,at),at.token})).apply(this,arguments)}function Jn(Z,se){return Er.apply(this,arguments)}function Er(){return(Er=(0,v.Z)(function*(Z,se){return(yield Z.pushManager.getSubscription())||Z.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Wr(se)})})).apply(this,arguments)}function ro(Z,se){return se.vapidKey===Z.vapidKey&&se.endpoint===Z.endpoint&&se.auth===Z.auth&&se.p256dh===Z.p256dh}function so(Z){const se={from:Z.from,collapseKey:Z.collapse_key,messageId:Z.fcmMessageId};return function hr(Z,se){if(!se.notification)return;Z.notification={};const Me=se.notification.title;Me&&(Z.notification.title=Me);const at=se.notification.body;at&&(Z.notification.body=at);const Ft=se.notification.image;Ft&&(Z.notification.image=Ft);const on=se.notification.icon;on&&(Z.notification.icon=on)}(se,Z),function Fr(Z,se){!se.data||(Z.data=se.data)}(se,Z),function Ko(Z,se){var Me,at,Ft,on,xn;if(!(se.fcmOptions||null!==(Me=se.notification)&&void 0!==Me&&Me.click_action))return;Z.fcmOptions={};const $n=null!==(Ft=null===(at=se.fcmOptions)||void 0===at?void 0:at.link)&&void 0!==Ft?Ft:null===(on=se.notification)||void 0===on?void 0:on.click_action;$n&&(Z.fcmOptions.link=$n);const _i=null===(xn=se.fcmOptions)||void 0===xn?void 0:xn.analytics_label;_i&&(Z.fcmOptions.analyticsLabel=_i)}(se,Z),se}function qi(Z){return"object"==typeof Z&&!!Z&&wo in Z}function oo(Z,se){const Me=[];for(let at=0;at<Z.length;at++)Me.push(Z.charAt(at)),at<se.length&&Me.push(se.charAt(at));return Me.join("")}function Pa(Z){return gr.create("missing-app-config-values",{valueName:Z})}oo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),oo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xl{constructor(se,Me,at){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ft=function Ql(Z){if(!Z||!Z.options)throw Pa("App Configuration Object");if(!Z.name)throw Pa("App Name");const se=["projectId","apiKey","appId","messagingSenderId"],{options:Me}=Z;for(const at of se)if(!Me[at])throw Pa(at);return{appName:Z.name,projectId:Me.projectId,apiKey:Me.apiKey,appId:Me.appId,senderId:Me.messagingSenderId}}(se);this.firebaseDependencies={app:se,appConfig:Ft,installations:Me,analyticsProvider:at}}_delete(){return Promise.resolve()}}function Qa(Z){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,v.Z)(function*(Z){var se;try{Z.swRegistration=yield navigator.serviceWorker.register(bo,{scope:Co}),Z.swRegistration.update().catch(()=>{})}catch(Me){throw gr.create("failed-service-worker-registration",{browserErrorMessage:null===(se=Me)||void 0===se?void 0:se.message})}})).apply(this,arguments)}function Ja(Z,se){return ua.apply(this,arguments)}function ua(){return(ua=(0,v.Z)(function*(Z,se){if(!se&&!Z.swRegistration&&(yield Qa(Z)),se||!Z.swRegistration){if(!(se instanceof ServiceWorkerRegistration))throw gr.create("invalid-sw-registration");Z.swRegistration=se}})).apply(this,arguments)}function el(Z,se){return qr.apply(this,arguments)}function qr(){return(qr=(0,v.Z)(function*(Z,se){se?Z.vapidKey=se:Z.vapidKey||(Z.vapidKey=aa)})).apply(this,arguments)}function da(){return(da=(0,v.Z)(function*(Z,se){if(!navigator)throw gr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw gr.create("permission-blocked");return yield el(Z,se?.vapidKey),yield Ja(Z,se?.serviceWorkerRegistration),Po(Z)})).apply(this,arguments)}function Al(Z,se,Me){return ao.apply(this,arguments)}function ao(){return(ao=(0,v.Z)(function*(Z,se,Me){const at=Na(se);(yield Z.firebaseDependencies.analyticsProvider.get()).logEvent(at,{message_id:Me[wo],message_name:Me[Gs],message_time:Me[ys],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Na(Z){switch(Z){case zs.NOTIFICATION_CLICKED:return"notification_open";case zs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function _e(){return(_e=(0,v.Z)(function*(Z,se){const Me=se.data;if(!Me.isFirebaseMessaging)return;Z.onMessageHandler&&Me.messageType===zs.PUSH_RECEIVED&&("function"==typeof Z.onMessageHandler?Z.onMessageHandler(so(Me)):Z.onMessageHandler.next(so(Me)));const at=Me.data;qi(at)&&"1"===at[As]&&(yield Al(Z,Me.messageType,at))})).apply(this,arguments)}const q="@firebase/messaging",ct=Z=>{const se=new Xl(Z.getProvider("app").getImmediate(),Z.getProvider("installations-internal").getImmediate(),Z.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Me=>function W(Z,se){return _e.apply(this,arguments)}(se,Me)),se},Xt=Z=>{const se=Z.getProvider("messaging").getImmediate();return{getToken:at=>function hl(Z,se){return da.apply(this,arguments)}(se,at)}};function Xn(){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,v.Z)(function*(){try{yield(0,C.eu)()}catch{return!1}return typeof window<"u"&&(0,C.hl)()&&(0,C.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function hn(){(0,ne._registerComponent)(new te.wA("messaging",ct,"PUBLIC")),(0,ne._registerComponent)(new te.wA("messaging-internal",Xt,"PRIVATE")),(0,ne.registerVersion)(q,"0.10.0"),(0,ne.registerVersion)(q,"0.10.0","esm2017")}();const Zs="analytics",Fo="firebase_id",Ns="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",fl="https://www.googletagmanager.com/gtag/js",ts=new we.Yd("@firebase/analytics");function Zo(Z){return Promise.all(Z.map(se=>se.catch(Me=>Me)))}function Nu(Z,se){const Me=document.createElement("script");Me.src=`${fl}?l=${Z}&id=${se}`,Me.async=!0,document.head.appendChild(Me)}function Cc(Z,se,Me,at,Ft,on){return kl.apply(this,arguments)}function kl(){return(kl=(0,v.Z)(function*(Z,se,Me,at,Ft,on){const xn=at[Ft];try{if(xn)yield se[xn];else{const _i=(yield Zo(Me)).find(Fi=>Fi.measurementId===Ft);_i&&(yield se[_i.appId])}}catch($n){ts.error($n)}Z("config",Ft,on)})).apply(this,arguments)}function Rl(Z,se,Me,at,Ft){return ha.apply(this,arguments)}function ha(){return(ha=(0,v.Z)(function*(Z,se,Me,at,Ft){try{let on=[];if(Ft&&Ft.send_to){let xn=Ft.send_to;Array.isArray(xn)||(xn=[xn]);const $n=yield Zo(Me);for(const _i of xn){const Fi=$n.find(Ci=>Ci.measurementId===_i),Li=Fi&&se[Fi.appId];if(!Li){on=[];break}on.push(Li)}}0===on.length&&(on=Object.values(se)),yield Promise.all(on),Z("event",at,Ft||{})}catch(on){ts.error(on)}})).apply(this,arguments)}function ou(Z){const se=window.document.getElementsByTagName("script");for(const Me of Object.values(se))if(Me.src&&Me.src.includes(fl)&&Me.src.includes(Z))return Me;return null}const sr=new C.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),pa=new class pl{constructor(se={},Me=1e3){this.throttleMetadata=se,this.intervalMillis=Me}getThrottleMetadata(se){return this.throttleMetadata[se]}setThrottleMetadata(se,Me){this.throttleMetadata[se]=Me}deleteThrottleMetadata(se){delete this.throttleMetadata[se]}};function Nn(Z){return new Headers({Accept:"application/json","x-goog-api-key":Z})}function Qi(Z){return tl.apply(this,arguments)}function tl(){return(tl=(0,v.Z)(function*(Z){var se;const{appId:Me,apiKey:at}=Z,Ft={method:"GET",headers:Nn(at)},on=Ns.replace("{app-id}",Me),xn=yield fetch(on,Ft);if(200!==xn.status&&304!==xn.status){let $n="";try{const _i=yield xn.json();null!==(se=_i.error)&&void 0!==se&&se.message&&($n=_i.error.message)}catch{}throw sr.create("config-fetch-failed",{httpStatus:xn.status,responseMessage:$n})}return xn.json()})).apply(this,arguments)}function Fu(Z){return ii.apply(this,arguments)}function ii(){return(ii=(0,v.Z)(function*(Z,se=pa,Me){const{appId:at,apiKey:Ft,measurementId:on}=Z.options;if(!at)throw sr.create("no-app-id");if(!Ft){if(on)return{measurementId:on,appId:at};throw sr.create("no-api-key")}const xn=se.getThrottleMetadata(at)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$n=new In;return setTimeout((0,v.Z)(function*(){$n.abort()}),void 0!==Me?Me:6e4),wi({appId:at,apiKey:Ft,measurementId:on},xn,$n,se)})).apply(this,arguments)}function wi(Z,se,Me){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,v.Z)(function*(Z,{throttleEndTimeMillis:se,backoffCount:Me},at,Ft=pa){var on,xn;const{appId:$n,measurementId:_i}=Z;try{yield Zn(at,se)}catch(Fi){if(_i)return ts.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_i} provided in the "measurementId" field in the local Firebase config. [${null===(on=Fi)||void 0===on?void 0:on.message}]`),{appId:$n,measurementId:_i};throw Fi}try{const Fi=yield Qi(Z);return Ft.deleteThrottleMetadata($n),Fi}catch(Fi){const Li=Fi;if(!un(Li)){if(Ft.deleteThrottleMetadata($n),_i)return ts.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_i} provided in the "measurementId" field in the local Firebase config. [${Li?.message}]`),{appId:$n,measurementId:_i};throw Fi}const Ci=503===Number(null===(xn=Li?.customData)||void 0===xn?void 0:xn.httpStatus)?(0,C.$s)(Me,Ft.intervalMillis,30):(0,C.$s)(Me,Ft.intervalMillis),Cs={throttleEndTimeMillis:Date.now()+Ci,backoffCount:Me+1};return Ft.setThrottleMetadata($n,Cs),ts.debug(`Calling attemptFetch again in ${Ci} millis`),wi(Z,Cs,at,Ft)}})).apply(this,arguments)}function Zn(Z,se){return new Promise((Me,at)=>{const Ft=Math.max(se-Date.now(),0),on=setTimeout(Me,Ft);Z.addEventListener(()=>{clearTimeout(on),at(sr.create("fetch-throttle",{throttleEndTimeMillis:se}))})})}function un(Z){if(!(Z instanceof C.ZR&&Z.customData))return!1;const se=Number(Z.customData.httpStatus);return 429===se||500===se||503===se||504===se}class In{constructor(){this.listeners=[]}addEventListener(se){this.listeners.push(se)}abort(){this.listeners.forEach(se=>se())}}let xr,Ll;function us(){return(us=(0,v.Z)(function*(Z,se,Me,at,Ft){if(Ft&&Ft.global)Z("event",Me,at);else{const on=yield se;Z("event",Me,Object.assign(Object.assign({},at),{send_to:on}))}})).apply(this,arguments)}function Ti(Z){Ll=Z}function qo(Z){xr=Z}function Bl(){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,v.Z)(function*(){var Z;if(!(0,C.hl)())return ts.warn(sr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,C.eu)()}catch(se){return ts.warn(sr.create("indexeddb-unavailable",{errorInfo:null===(Z=se)||void 0===Z?void 0:Z.toString()}).message),!1}return!0})).apply(this,arguments)}function ds(){return(ds=(0,v.Z)(function*(Z,se,Me,at,Ft,on,xn){var $n;const _i=Fu(Z);_i.then(Bs=>{Me[Bs.measurementId]=Bs.appId,Z.options.measurementId&&Bs.measurementId!==Z.options.measurementId&&ts.warn(`The measurement ID in the local Firebase config (${Z.options.measurementId}) does not match the measurement ID fetched from the server (${Bs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Bs=>ts.error(Bs)),se.push(_i);const Fi=Bl().then(Bs=>{if(Bs)return at.getId()}),[Li,Ci]=yield Promise.all([_i,Fi]);ou(on)||Nu(on,Li.measurementId),Ll&&(Ft("consent","default",Ll),Ti(void 0)),Ft("js",new Date);const Cs=null!==($n=xn?.config)&&void 0!==$n?$n:{};return Cs.origin="firebase",Cs.update=!0,null!=Ci&&(Cs[Fo]=Ci),Ft("config",Li.measurementId,Cs),xr&&(Ft("set",xr),qo(void 0)),Li.measurementId})).apply(this,arguments)}class yi{constructor(se){this.app=se}_delete(){return delete lo[this.app.options.appId],Promise.resolve()}}let lo={},vr=[];const zn={};let Qo,Ea,Vo="dataLayer",ga=!1;function Ul(Z,se,Me){!function Vl(){const Z=[];if((0,C.ru)()&&Z.push("This is a browser extension environment."),(0,C.zI)()||Z.push("Cookies are not available."),Z.length>0){const se=Z.map((at,Ft)=>`(${Ft+1}) ${at}`).join(" "),Me=sr.create("invalid-analytics-context",{errorInfo:se});ts.warn(Me.message)}}();const at=Z.options.appId;if(!at)throw sr.create("no-app-id");if(!Z.options.apiKey){if(!Z.options.measurementId)throw sr.create("no-api-key");ts.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Z.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=lo[at])throw sr.create("already-exists",{id:at});if(!ga){!function Sd(Z){let se=[];Array.isArray(window[Z])?se=window[Z]:window[Z]=se}(Vo);const{wrappedGtag:on,gtagCore:xn}=function Fa(Z,se,Me,at,Ft){let on=function(...xn){window[at].push(arguments)};return window[Ft]&&"function"==typeof window[Ft]&&(on=window[Ft]),window[Ft]=function Ol(Z,se,Me,at){function on(){return(on=(0,v.Z)(function*(xn,$n,_i){try{"event"===xn?yield Rl(Z,se,Me,$n,_i):"config"===xn?yield Cc(Z,se,Me,at,$n,_i):"consent"===xn?Z("consent","update",_i):Z("set",$n)}catch(Fi){ts.error(Fi)}})).apply(this,arguments)}return function Ft(xn,$n,_i){return on.apply(this,arguments)}}(on,Z,se,Me),{gtagCore:on,wrappedGtag:window[Ft]}}(lo,vr,zn,Vo,"gtag");Ea=on,Qo=xn,ga=!0}return lo[at]=function bi(Z,se,Me,at,Ft,on,xn){return ds.apply(this,arguments)}(Z,vr,zn,se,Qo,Vo,Me),new yi(Z)}function Ec(){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,v.Z)(function*(){if((0,C.ru)()||!(0,C.zI)()||!(0,C.hl)())return!1;try{return yield(0,C.eu)()}catch{return!1}})).apply(this,arguments)}const il="@firebase/analytics";!function Eo(){(0,ne._registerComponent)(new te.wA(Zs,(se,{options:Me})=>Ul(se.getProvider("app").getImmediate(),se.getProvider("installations-internal").getImmediate(),Me),"PUBLIC")),(0,ne._registerComponent)(new te.wA("analytics-internal",function Z(se){try{const Me=se.getProvider(Zs).getImmediate();return{logEvent:(at,Ft,on)=>function Uo(Z,se,Me,at){Z=(0,C.m9)(Z),function wc(Z,se,Me,at,Ft){return us.apply(this,arguments)}(Ea,lo[Z.app.options.appId],se,Me,at).catch(Ft=>ts.error(Ft))}(Me,at,Ft,on)}}catch(Me){throw sr.create("interop-component-reg-failed",{reason:Me})}},"PRIVATE")),(0,ne.registerVersion)(il,"0.8.4"),(0,ne.registerVersion)(il,"0.8.4","esm2017")}();var uo=x(341),ec=x(353),ho=x(2868),Xs=x(7770),Hl=x(3334);const fo=new p.GfV("7.4.1"),Tc="__angularfire_symbol__analyticsIsSupportedValue",po="__angularfire_symbol__analyticsIsSupported",F="__angularfire_symbol__remoteConfigIsSupportedValue",L="__angularfire_symbol__remoteConfigIsSupported",I="__angularfire_symbol__messagingIsSupportedValue",H="__angularfire_symbol__messagingIsSupported";function Kt(Z,se,Me){if(se){if(1===se.length)return se[0];const on=se.filter(xn=>xn.app===Me);if(1===on.length)return on[0]}return Me.container.getProvider(Z).getImmediate({optional:!0})}globalThis[po]||(globalThis[po]=Ec().then(Z=>globalThis[Tc]=Z).catch(()=>globalThis[Tc]=!1)),globalThis[H]||(globalThis[H]=Xn().then(Z=>globalThis[I]=Z).catch(()=>globalThis[I]=!1)),globalThis[L]||(globalThis[L]=$s().then(Z=>globalThis[F]=Z).catch(()=>globalThis[F]=!1));const kn=(Z,se)=>{const Me=se?[se]:(0,N.C6)(),at=[];return Me.forEach(Ft=>{Ft.container.getProvider(Z).instances.forEach(xn=>{at.includes(xn)||at.push(xn)})}),at};function li(){}class Wn{constructor(se,Me=uo.c){this.zone=se,this.delegate=Me}now(){return this.delegate.now()}schedule(se,Me,at){const Ft=this.zone;return this.delegate.schedule(function(xn){Ft.runGuarded(()=>{se.apply(this,[xn])})},Me,at)}}class di{constructor(se){this.zone=se,this.task=null}call(se,Me){const at=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",li,{},li,li)),Me.pipe((0,ho.b)({next:at,complete:at,error:at})).subscribe(se).add(at)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ji=(()=>{class Z{constructor(Me){this.ngZone=Me,this.outsideAngular=Me.runOutsideAngular(()=>new Wn(Zone.current)),this.insideAngular=Me.run(()=>new Wn(Zone.current,ec.P)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Z.\u0275fac=function(Me){return new(Me||Z)(p.LFG(p.R0b))},Z.\u0275prov=p.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})();function Sr(){const Z=globalThis.\u0275AngularFireScheduler;if(!Z)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Z}function Or(Z){return Z.pipe((0,Xs.QV)(Sr().outsideAngular))}function La(Z){return Sr(),function Qr(Z){return function(Me){return(Me=Me.lift(new di(Z.ngZone))).pipe((0,Hl.R)(Z.outsideAngular),(0,Xs.QV)(Z.insideAngular))}}(Sr())(Z)}},732:(gn,_t,x)=>{"use strict";x.d(_t,{$:()=>Xa,A:()=>rn,B:()=>Be,G:()=>Ra,H:()=>Pt,J:()=>es,L:()=>nr,M:()=>Zi,N:()=>Os,P:()=>se,Q:()=>ca,R:()=>Wn,T:()=>gr,U:()=>Yo,V:()=>cs,W:()=>dl,X:()=>Mn,Y:()=>Fr,Z:()=>qi,_:()=>Ql,a:()=>qo,a0:()=>hl,a1:()=>Al,a2:()=>Na,a3:()=>_e,a4:()=>xe,a5:()=>Xt,a6:()=>Xn,a7:()=>Pi,a8:()=>Gi,a9:()=>Ni,aA:()=>ir,aB:()=>Id,aC:()=>au,aD:()=>sf,aE:()=>Yi,aI:()=>bi,aL:()=>Ir,aa:()=>Ps,ab:()=>Zs,ac:()=>Do,af:()=>ts,ag:()=>Nu,ah:()=>Sd,ak:()=>re,al:()=>fa,an:()=>un,ao:()=>ma,ap:()=>Dn,aq:()=>Br,ar:()=>Ts,as:()=>It,at:()=>hu,au:()=>vl,av:()=>Ms,aw:()=>Qt,ax:()=>zt,ay:()=>Ic,az:()=>J,b:()=>Ll,c:()=>Li,d:()=>_a,e:()=>Cs,f:()=>Lu,g:()=>bg,h:()=>af,i:()=>il,j:()=>hp,k:()=>fu,l:()=>Ur,m:()=>mf,o:()=>jn,r:()=>Ls,s:()=>Sr,u:()=>jl});var p=x(5861),N=x(2090),v=x(9681),ne=x(1877);function he(R,b){var E={};for(var B in R)Object.prototype.hasOwnProperty.call(R,B)&&b.indexOf(B)<0&&(E[B]=R[B]);if(null!=R&&"function"==typeof Object.getOwnPropertySymbols){var pe=0;for(B=Object.getOwnPropertySymbols(R);pe<B.length;pe++)b.indexOf(B[pe])<0&&Object.prototype.propertyIsEnumerable.call(R,B[pe])&&(E[B[pe]]=R[B[pe]])}return E}var bn=x(4859);const jn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},rn={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Be=function _n(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ne=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ke=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),en=new ne.Yd("@firebase/auth");function Ln(R,...b){en.logLevel<=ne.in.ERROR&&en.error(`Auth (${v.SDK_VERSION}): ${R}`,...b)}function It(R,...b){throw wn(R,...b)}function Qt(R,...b){return wn(R,...b)}function Mt(R,b,E){const B=Object.assign(Object.assign({},Ne()),{[b]:E});return new N.LL("auth","Firebase",B).create(b,{appName:R.name})}function $t(R,b,E){if(!(b instanceof E))throw E.name!==b.constructor.name&&It(R,"argument-error"),Mt(R,"argument-error",`Type of ${b.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wn(R,...b){if("string"!=typeof R){const E=b[0],B=[...b.slice(1)];return B[0]&&(B[0].appName=R.name),R._errorFactory.create(E,...B)}return Ke.create(R,...b)}function zt(R,b,...E){if(!R)throw wn(b,...E)}function Gn(R){const b="INTERNAL ASSERTION FAILED: "+R;throw Ln(b),new Error(b)}function Dn(R,b){R||Gn(b)}const pt=new Map;function J(R){Dn(R instanceof Function,"Expected a class definition");let b=pt.get(R);return b?(Dn(b instanceof R,"Instance stored in cache mismatched with class"),b):(b=new R,pt.set(R,b),b)}function ce(){var R;return typeof self<"u"&&(null===(R=self.location)||void 0===R?void 0:R.href)||""}function Ye(){return"http:"===be()||"https:"===be()}function be(){var R;return typeof self<"u"&&(null===(R=self.location)||void 0===R?void 0:R.protocol)||null}class Nt{constructor(b,E){this.shortDelay=b,this.longDelay=E,Dn(E>b,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function We(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ye()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Yt(R,b){Dn(R.emulator,"Emulator should always be set here");const{url:E}=R.emulator;return b?`${E}${b.startsWith("/")?b.slice(1):b}`:E}class Sn{static initialize(b,E,B){this.fetchImpl=b,E&&(this.headersImpl=E),B&&(this.responseImpl=B)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Dt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},oi=new Nt(3e4,6e4);function ni(R,b){return R.tenantId&&!b.tenantId?Object.assign(Object.assign({},b),{tenantId:R.tenantId}):b}function On(R,b,E,B){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,p.Z)(function*(R,b,E,B,pe={}){return Tn(R,pe,(0,p.Z)(function*(){let Ee={},At={};B&&("GET"===b?At=B:Ee={body:JSON.stringify(B)});const an=(0,N.xO)(Object.assign({key:R.config.apiKey},At)).slice(1),Qn=yield R._getAdditionalHeaders();return Qn["Content-Type"]="application/json",R.languageCode&&(Qn["X-Firebase-Locale"]=R.languageCode),Sn.fetch()(ln(R,R.config.apiHost,E,an),Object.assign({method:b,headers:Qn,referrerPolicy:"no-referrer"},Ee))}))})).apply(this,arguments)}function Tn(R,b,E){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,p.Z)(function*(R,b,E){R._canInitEmulator=!1;const B=Object.assign(Object.assign({},Dt),b);try{const pe=new fn(R),Ee=yield Promise.race([E(),pe.promise]);pe.clearNetworkTimeout();const At=yield Ee.json();if("needConfirmation"in At)throw lt(R,"account-exists-with-different-credential",At);if(Ee.ok&&!("errorMessage"in At))return At;{const an=Ee.ok?At.errorMessage:At.error.message,[Qn,Un]=an.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Qn)throw lt(R,"credential-already-in-use",At);if("EMAIL_EXISTS"===Qn)throw lt(R,"email-already-in-use",At);if("USER_DISABLED"===Qn)throw lt(R,"user-disabled",At);const Si=B[Qn]||Qn.toLowerCase().replace(/[_\s]+/g,"-");if(Un)throw Mt(R,Si,Un);It(R,Si)}}catch(pe){if(pe instanceof N.ZR)throw pe;It(R,"network-request-failed")}})).apply(this,arguments)}function gt(R,b,E,B){return Et.apply(this,arguments)}function Et(){return(Et=(0,p.Z)(function*(R,b,E,B,pe={}){const Ee=yield On(R,b,E,B,pe);return"mfaPendingCredential"in Ee&&It(R,"multi-factor-auth-required",{_serverResponse:Ee}),Ee})).apply(this,arguments)}function ln(R,b,E,B){const pe=`${b}${E}?${B}`;return R.config.emulator?Yt(R.config,pe):`${R.config.apiScheme}://${pe}`}class fn{constructor(b){this.auth=b,this.timer=null,this.promise=new Promise((E,B)=>{this.timer=setTimeout(()=>B(Qt(this.auth,"network-request-failed")),oi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lt(R,b,E){const B={appName:R.name};E.email&&(B.email=E.email),E.phoneNumber&&(B.phoneNumber=E.phoneNumber);const pe=Qt(R,b,B);return pe.customData._tokenResponse=E,pe}function Xe(){return(Xe=(0,p.Z)(function*(R,b){return On(R,"POST","/v1/accounts:delete",b)})).apply(this,arguments)}function St(R,b){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,p.Z)(function*(R,b){return On(R,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function ge(R,b){return j.apply(this,arguments)}function j(){return(j=(0,p.Z)(function*(R,b){return On(R,"POST","/v1/accounts:lookup",b)})).apply(this,arguments)}function G(R){if(R)try{const b=new Date(Number(R));if(!isNaN(b.getTime()))return b.toUTCString()}catch{}}function fe(){return(fe=(0,p.Z)(function*(R,b=!1){const E=(0,N.m9)(R),B=yield E.getIdToken(b),pe=Ct(B);zt(pe&&pe.exp&&pe.auth_time&&pe.iat,E.auth,"internal-error");const Ee="object"==typeof pe.firebase?pe.firebase:void 0,At=Ee?.sign_in_provider;return{claims:pe,token:B,authTime:G(Qe(pe.auth_time)),issuedAtTime:G(Qe(pe.iat)),expirationTime:G(Qe(pe.exp)),signInProvider:At||null,signInSecondFactor:Ee?.sign_in_second_factor||null}})).apply(this,arguments)}function Qe(R){return 1e3*Number(R)}function Ct(R){var b;const[E,B,pe]=R.split(".");if(void 0===E||void 0===B||void 0===pe)return Ln("JWT malformed, contained fewer than 3 sections"),null;try{const Ee=(0,N.tV)(B);return Ee?JSON.parse(Ee):(Ln("Failed to decode base64 JWT payload"),null)}catch(Ee){return Ln("Caught error parsing JWT payload as JSON",null===(b=Ee)||void 0===b?void 0:b.toString()),null}}function pn(R,b){return ze.apply(this,arguments)}function ze(){return(ze=(0,p.Z)(function*(R,b,E=!1){if(E)return b;try{return yield b}catch(B){throw B instanceof N.ZR&&He(B)&&R.auth.currentUser===R&&(yield R.auth.signOut()),B}})).apply(this,arguments)}function He({code:R}){return"auth/user-disabled"===R||"auth/user-token-expired"===R}class Ve{constructor(b){this.user=b,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(b){var E;if(b){const B=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),B}{this.errorBackoff=3e4;const pe=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,pe)}}schedule(b=!1){var E=this;if(!this.isRunning)return;const B=this.getInterval(b);this.timerId=setTimeout((0,p.Z)(function*(){yield E.iteration()}),B)}iteration(){var b=this;return(0,p.Z)(function*(){var E;try{yield b.user.getIdToken(!0)}catch(B){return void("auth/network-request-failed"===(null===(E=B)||void 0===E?void 0:E.code)&&b.schedule(!0))}b.schedule()})()}}class je{constructor(b,E){this.createdAt=b,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=G(this.lastLoginAt),this.creationTime=G(this.createdAt)}_copy(b){this.createdAt=b.createdAt,this.lastLoginAt=b.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function De(R){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,p.Z)(function*(R){var b;const E=R.auth,B=yield R.getIdToken(),pe=yield pn(R,ge(E,{idToken:B}));zt(pe?.users.length,E,"internal-error");const Ee=pe.users[0];R._notifyReloadListener(Ee);const At=null!==(b=Ee.providerUserInfo)&&void 0!==b&&b.length?Yn(Ee.providerUserInfo):[],an=sn(R.providerData,At),Si=!!R.isAnonymous&&!(R.email&&Ee.passwordHash||an?.length),mi={uid:Ee.localId,displayName:Ee.displayName||null,photoURL:Ee.photoUrl||null,email:Ee.email||null,emailVerified:Ee.emailVerified||!1,phoneNumber:Ee.phoneNumber||null,tenantId:Ee.tenantId||null,providerData:an,metadata:new je(Ee.createdAt,Ee.lastLoginAt),isAnonymous:Si};Object.assign(R,mi)})).apply(this,arguments)}function Vt(){return(Vt=(0,p.Z)(function*(R){const b=(0,N.m9)(R);yield De(b),yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)})).apply(this,arguments)}function sn(R,b){return[...R.filter(B=>!b.some(pe=>pe.providerId===B.providerId)),...b]}function Yn(R){return R.map(b=>{var{providerId:E}=b,B=he(b,["providerId"]);return{providerId:E,uid:B.rawId||"",displayName:B.displayName||null,email:B.email||null,phoneNumber:B.phoneNumber||null,photoURL:B.photoUrl||null}})}function pi(){return(pi=(0,p.Z)(function*(R,b){const E=yield Tn(R,{},(0,p.Z)(function*(){const B=(0,N.xO)({grant_type:"refresh_token",refresh_token:b}).slice(1),{tokenApiHost:pe,apiKey:Ee}=R.config,At=ln(R,pe,"/v1/token",`key=${Ee}`),an=yield R._getAdditionalHeaders();return an["Content-Type"]="application/x-www-form-urlencoded",Sn.fetch()(At,{method:"POST",headers:an,body:B})}));return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}class Xi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(b){zt(b.idToken,"internal-error"),zt(typeof b.idToken<"u","internal-error"),zt(typeof b.refreshToken<"u","internal-error");const E="expiresIn"in b&&typeof b.expiresIn<"u"?Number(b.expiresIn):function dn(R){const b=Ct(R);return zt(b,"internal-error"),zt(typeof b.exp<"u","internal-error"),zt(typeof b.iat<"u","internal-error"),Number(b.exp)-Number(b.iat)}(b.idToken);this.updateTokensAndExpiration(b.idToken,b.refreshToken,E)}getToken(b,E=!1){var B=this;return(0,p.Z)(function*(){return zt(!B.accessToken||B.refreshToken,b,"user-token-expired"),E||!B.accessToken||B.isExpired?B.refreshToken?(yield B.refresh(b,B.refreshToken),B.accessToken):null:B.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(b,E){var B=this;return(0,p.Z)(function*(){const{accessToken:pe,refreshToken:Ee,expiresIn:At}=yield function Pn(R,b){return pi.apply(this,arguments)}(b,E);B.updateTokensAndExpiration(pe,Ee,Number(At))})()}updateTokensAndExpiration(b,E,B){this.refreshToken=E||null,this.accessToken=b||null,this.expirationTime=Date.now()+1e3*B}static fromJSON(b,E){const{refreshToken:B,accessToken:pe,expirationTime:Ee}=E,At=new Xi;return B&&(zt("string"==typeof B,"internal-error",{appName:b}),At.refreshToken=B),pe&&(zt("string"==typeof pe,"internal-error",{appName:b}),At.accessToken=pe),Ee&&(zt("number"==typeof Ee,"internal-error",{appName:b}),At.expirationTime=Ee),At}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(b){this.accessToken=b.accessToken,this.refreshToken=b.refreshToken,this.expirationTime=b.expirationTime}_clone(){return Object.assign(new Xi,this.toJSON())}_performRefresh(){return Gn("not implemented")}}function pr(R,b){zt("string"==typeof R||typeof R>"u","internal-error",{appName:b})}class dr{constructor(b){var{uid:E,auth:B,stsTokenManager:pe}=b,Ee=he(b,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ve(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=B,this.stsTokenManager=pe,this.accessToken=pe.accessToken,this.displayName=Ee.displayName||null,this.email=Ee.email||null,this.emailVerified=Ee.emailVerified||!1,this.phoneNumber=Ee.phoneNumber||null,this.photoURL=Ee.photoURL||null,this.isAnonymous=Ee.isAnonymous||!1,this.tenantId=Ee.tenantId||null,this.providerData=Ee.providerData?[...Ee.providerData]:[],this.metadata=new je(Ee.createdAt||void 0,Ee.lastLoginAt||void 0)}getIdToken(b){var E=this;return(0,p.Z)(function*(){const B=yield pn(E,E.stsTokenManager.getToken(E.auth,b));return zt(B,E.auth,"internal-error"),E.accessToken!==B&&(E.accessToken=B,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),B})()}getIdTokenResult(b){return function K(R){return fe.apply(this,arguments)}(this,b)}reload(){return function rt(R){return Vt.apply(this,arguments)}(this)}_assign(b){this!==b&&(zt(this.uid===b.uid,this.auth,"internal-error"),this.displayName=b.displayName,this.photoURL=b.photoURL,this.email=b.email,this.emailVerified=b.emailVerified,this.phoneNumber=b.phoneNumber,this.isAnonymous=b.isAnonymous,this.tenantId=b.tenantId,this.providerData=b.providerData.map(E=>Object.assign({},E)),this.metadata._copy(b.metadata),this.stsTokenManager._assign(b.stsTokenManager))}_clone(b){return new dr(Object.assign(Object.assign({},this),{auth:b,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(b){zt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=b,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(b){this.reloadListener?this.reloadListener(b):this.reloadUserInfo=b}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(b,E=!1){var B=this;return(0,p.Z)(function*(){let pe=!1;b.idToken&&b.idToken!==B.stsTokenManager.accessToken&&(B.stsTokenManager.updateFromServerResponse(b),pe=!0),E&&(yield De(B)),yield B.auth._persistUserIfCurrent(B),pe&&B.auth._notifyListenersIfCurrent(B)})()}delete(){var b=this;return(0,p.Z)(function*(){const E=yield b.getIdToken();return yield pn(b,function st(R,b){return Xe.apply(this,arguments)}(b.auth,{idToken:E})),b.stsTokenManager.clearRefreshToken(),b.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(b=>Object.assign({},b)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(b,E){var B,pe,Ee,At,an,Qn,Un,Si;const mi=null!==(B=E.displayName)&&void 0!==B?B:void 0,br=null!==(pe=E.email)&&void 0!==pe?pe:void 0,ms=null!==(Ee=E.phoneNumber)&&void 0!==Ee?Ee:void 0,mo=null!==(At=E.photoURL)&&void 0!==At?At:void 0,Us=null!==(an=E.tenantId)&&void 0!==an?an:void 0,Bi=null!==(Qn=E._redirectEventId)&&void 0!==Qn?Qn:void 0,mu=null!==(Un=E.createdAt)&&void 0!==Un?Un:void 0,gu=null!==(Si=E.lastLoginAt)&&void 0!==Si?Si:void 0,{uid:To,emailVerified:ta,isAnonymous:bl,providerData:zu,stsTokenManager:Oc}=E;zt(To&&Oc,b,"internal-error");const Fd=Xi.fromJSON(this.name,Oc);zt("string"==typeof To,b,"internal-error"),pr(mi,b.name),pr(br,b.name),zt("boolean"==typeof ta,b,"internal-error"),zt("boolean"==typeof bl,b,"internal-error"),pr(ms,b.name),pr(mo,b.name),pr(Us,b.name),pr(Bi,b.name),pr(mu,b.name),pr(gu,b.name);const ll=new dr({uid:To,auth:b,email:br,emailVerified:ta,displayName:mi,isAnonymous:bl,photoURL:mo,phoneNumber:ms,tenantId:Us,stsTokenManager:Fd,createdAt:mu,lastLoginAt:gu});return zu&&Array.isArray(zu)&&(ll.providerData=zu.map(qs=>Object.assign({},qs))),Bi&&(ll._redirectEventId=Bi),ll}static _fromIdTokenResponse(b,E,B=!1){return(0,p.Z)(function*(){const pe=new Xi;pe.updateFromServerResponse(E);const Ee=new dr({uid:E.localId,auth:b,stsTokenManager:pe,isAnonymous:B});return yield De(Ee),Ee})()}}const nr=(()=>{class R{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(E,B){var pe=this;return(0,p.Z)(function*(){pe.storage[E]=B})()}_get(E){var B=this;return(0,p.Z)(function*(){const pe=B.storage[E];return void 0===pe?null:pe})()}_remove(E){var B=this;return(0,p.Z)(function*(){delete B.storage[E]})()}_addListener(E,B){}_removeListener(E,B){}}return R.type="NONE",R})();function ir(R,b,E){return`firebase:${R}:${b}:${E}`}class Mr{constructor(b,E,B){this.persistence=b,this.auth=E,this.userKey=B;const{config:pe,name:Ee}=this.auth;this.fullUserKey=ir(this.userKey,pe.apiKey,Ee),this.fullPersistenceKey=ir("persistence",pe.apiKey,Ee),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(b){return this.persistence._set(this.fullUserKey,b.toJSON())}getCurrentUser(){var b=this;return(0,p.Z)(function*(){const E=yield b.persistence._get(b.fullUserKey);return E?dr._fromJSON(b.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(b){var E=this;return(0,p.Z)(function*(){if(E.persistence===b)return;const B=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=b,B?E.setCurrentUser(B):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(b,E,B="authUser"){return(0,p.Z)(function*(){if(!E.length)return new Mr(J(nr),b,B);const pe=(yield Promise.all(E.map(function(){var Un=(0,p.Z)(function*(Si){if(yield Si._isAvailable())return Si});return function(Si){return Un.apply(this,arguments)}}()))).filter(Un=>Un);let Ee=pe[0]||J(nr);const At=ir(B,b.config.apiKey,b.name);let an=null;for(const Un of E)try{const Si=yield Un._get(At);if(Si){const mi=dr._fromJSON(b,Si);Un!==Ee&&(an=mi),Ee=Un;break}}catch{}const Qn=pe.filter(Un=>Un._shouldAllowMigration);return Ee._shouldAllowMigration&&Qn.length?(Ee=Qn[0],an&&(yield Ee._set(At,an.toJSON())),yield Promise.all(E.map(function(){var Un=(0,p.Z)(function*(Si){if(Si!==Ee)try{yield Si._remove(At)}catch{}});return function(Si){return Un.apply(this,arguments)}}())),new Mr(Ee,b,B)):new Mr(Ee,b,B)})()}}function wr(R){const b=R.toLowerCase();if(b.includes("opera/")||b.includes("opr/")||b.includes("opios/"))return"Opera";if(ss(b))return"IEMobile";if(b.includes("msie")||b.includes("trident/"))return"IE";if(b.includes("edge/"))return"Edge";if(rs(b))return"Firefox";if(b.includes("silk/"))return"Silk";if(os(b))return"Blackberry";if(zr(b))return"Webos";if($i(b))return"Safari";if((b.includes("chrome/")||js(b))&&!b.includes("edge/"))return"Chrome";if(Ts(b))return"Android";{const B=R.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===B?.length)return B[1]}return"Other"}function rs(R=(0,N.z$)()){return/firefox\//i.test(R)}function $i(R=(0,N.z$)()){const b=R.toLowerCase();return b.includes("safari/")&&!b.includes("chrome/")&&!b.includes("crios/")&&!b.includes("android")}function js(R=(0,N.z$)()){return/crios\//i.test(R)}function ss(R=(0,N.z$)()){return/iemobile/i.test(R)}function Ts(R=(0,N.z$)()){return/android/i.test(R)}function os(R=(0,N.z$)()){return/blackberry/i.test(R)}function zr(R=(0,N.z$)()){return/webos/i.test(R)}function Br(R=(0,N.z$)()){return/iphone|ipad|ipod/i.test(R)||/macintosh/i.test(R)&&/mobile/i.test(R)}function Ms(R=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(R)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(R)}function Rr(R=(0,N.z$)()){return Br(R)||Ts(R)||zr(R)||os(R)||/windows phone/i.test(R)||ss(R)}function Ao(R,b=[]){let E;switch(R){case"Browser":E=wr((0,N.z$)());break;case"Worker":E=`${wr((0,N.z$)())}-${R}`;break;default:E=R}const B=b.length?b.join(","):"FirebaseCore-web";return`${E}/JsCore/${v.SDK_VERSION}/${B}`}class as{constructor(b){this.auth=b,this.queue=[]}pushCallback(b,E){const B=Ee=>new Promise((At,an)=>{try{At(b(Ee))}catch(Qn){an(Qn)}});B.onAbort=E,this.queue.push(B);const pe=this.queue.length-1;return()=>{this.queue[pe]=()=>Promise.resolve()}}runMiddleware(b){var E=this;return(0,p.Z)(function*(){var B;if(E.auth.currentUser===b)return;const pe=[];try{for(const Ee of E.queue)yield Ee(b),Ee.onAbort&&pe.push(Ee.onAbort)}catch(Ee){pe.reverse();for(const At of pe)try{At()}catch{}throw E.auth._errorFactory.create("login-blocked",{originalMessage:null===(B=Ee)||void 0===B?void 0:B.message})}})()}}class gs{constructor(b,E,B){this.app=b,this.heartbeatServiceProvider=E,this.config=B,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Is(this),this.idTokenSubscription=new Is(this),this.beforeStateQueue=new as(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ke,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=b.name,this.clientVersion=B.sdkClientVersion}_initializeWithPersistence(b,E){var B=this;return E&&(this._popupRedirectResolver=J(E)),this._initializationPromise=this.queue((0,p.Z)(function*(){var pe,Ee;if(!B._deleted&&(B.persistenceManager=yield Mr.create(B,b),!B._deleted)){if(null!==(pe=B._popupRedirectResolver)&&void 0!==pe&&pe._shouldInitProactively)try{yield B._popupRedirectResolver._initialize(B)}catch{}yield B.initializeCurrentUser(E),B.lastNotifiedUid=(null===(Ee=B.currentUser)||void 0===Ee?void 0:Ee.uid)||null,!B._deleted&&(B._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var b=this;return(0,p.Z)(function*(){if(b._deleted)return;const E=yield b.assertedPersistence.getCurrentUser();if(b.currentUser||E){if(b.currentUser&&E&&b.currentUser.uid===E.uid)return b._currentUser._assign(E),void(yield b.currentUser.getIdToken());yield b._updateCurrentUser(E,!0)}})()}initializeCurrentUser(b){var E=this;return(0,p.Z)(function*(){var B;const pe=yield E.assertedPersistence.getCurrentUser();let Ee=pe,At=!1;if(b&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const an=null===(B=E.redirectUser)||void 0===B?void 0:B._redirectEventId,Qn=Ee?._redirectEventId,Un=yield E.tryRedirectSignIn(b);(!an||an===Qn)&&Un?.user&&(Ee=Un.user,At=!0)}if(!Ee)return E.directlySetCurrentUser(null);if(!Ee._redirectEventId){if(At)try{yield E.beforeStateQueue.runMiddleware(Ee)}catch(an){Ee=pe,E._popupRedirectResolver._overrideRedirectResult(E,()=>Promise.reject(an))}return Ee?E.reloadAndSetCurrentUserOrClear(Ee):E.directlySetCurrentUser(null)}return zt(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===Ee._redirectEventId?E.directlySetCurrentUser(Ee):E.reloadAndSetCurrentUserOrClear(Ee)})()}tryRedirectSignIn(b){var E=this;return(0,p.Z)(function*(){let B=null;try{B=yield E._popupRedirectResolver._completeRedirectFn(E,b,!0)}catch{yield E._setRedirectUser(null)}return B})()}reloadAndSetCurrentUserOrClear(b){var E=this;return(0,p.Z)(function*(){var B;try{yield De(b)}catch(pe){if("auth/network-request-failed"!==(null===(B=pe)||void 0===B?void 0:B.code))return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(b)})()}useDeviceLanguage(){this.languageCode=function Ut(){if(typeof navigator>"u")return null;const R=navigator;return R.languages&&R.languages[0]||R.language||null}()}_delete(){var b=this;return(0,p.Z)(function*(){b._deleted=!0})()}updateCurrentUser(b){var E=this;return(0,p.Z)(function*(){const B=b?(0,N.m9)(b):null;return B&&zt(B.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(B&&B._clone(E))})()}_updateCurrentUser(b,E=!1){var B=this;return(0,p.Z)(function*(){if(!B._deleted)return b&&zt(B.tenantId===b.tenantId,B,"tenant-id-mismatch"),E||(yield B.beforeStateQueue.runMiddleware(b)),B.queue((0,p.Z)(function*(){yield B.directlySetCurrentUser(b),B.notifyAuthListeners()}))})()}signOut(){var b=this;return(0,p.Z)(function*(){return yield b.beforeStateQueue.runMiddleware(null),(b.redirectPersistenceManager||b._popupRedirectResolver)&&(yield b._setRedirectUser(null)),b._updateCurrentUser(null,!0)})()}setPersistence(b){var E=this;return this.queue((0,p.Z)(function*(){yield E.assertedPersistence.setPersistence(J(b))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(b){this._errorFactory=new N.LL("auth","Firebase",b())}onAuthStateChanged(b,E,B){return this.registerStateListener(this.authStateSubscription,b,E,B)}beforeAuthStateChanged(b,E){return this.beforeStateQueue.pushCallback(b,E)}onIdTokenChanged(b,E,B){return this.registerStateListener(this.idTokenSubscription,b,E,B)}toJSON(){var b;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(b=this._currentUser)||void 0===b?void 0:b.toJSON()}}_setRedirectUser(b,E){var B=this;return(0,p.Z)(function*(){const pe=yield B.getOrInitRedirectPersistenceManager(E);return null===b?pe.removeCurrentUser():pe.setCurrentUser(b)})()}getOrInitRedirectPersistenceManager(b){var E=this;return(0,p.Z)(function*(){if(!E.redirectPersistenceManager){const B=b&&J(b)||E._popupRedirectResolver;zt(B,E,"argument-error"),E.redirectPersistenceManager=yield Mr.create(E,[J(B._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(b){var E=this;return(0,p.Z)(function*(){var B,pe;return E._isInitialized&&(yield E.queue((0,p.Z)(function*(){}))),(null===(B=E._currentUser)||void 0===B?void 0:B._redirectEventId)===b?E._currentUser:(null===(pe=E.redirectUser)||void 0===pe?void 0:pe._redirectEventId)===b?E.redirectUser:null})()}_persistUserIfCurrent(b){var E=this;return(0,p.Z)(function*(){if(b===E.currentUser)return E.queue((0,p.Z)(function*(){return E.directlySetCurrentUser(b)}))})()}_notifyListenersIfCurrent(b){b===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var b,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const B=null!==(E=null===(b=this.currentUser)||void 0===b?void 0:b.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==B&&(this.lastNotifiedUid=B,this.authStateSubscription.next(this.currentUser))}registerStateListener(b,E,B,pe){if(this._deleted)return()=>{};const Ee="function"==typeof E?E:E.next.bind(E),At=this._isInitialized?Promise.resolve():this._initializationPromise;return zt(At,this,"internal-error"),At.then(()=>Ee(this.currentUser)),"function"==typeof E?b.addObserver(E,B,pe):b.addObserver(E)}directlySetCurrentUser(b){var E=this;return(0,p.Z)(function*(){E.currentUser&&E.currentUser!==b&&E._currentUser._stopProactiveRefresh(),b&&E.isProactiveRefreshEnabled&&b._startProactiveRefresh(),E.currentUser=b,b?yield E.assertedPersistence.setCurrentUser(b):yield E.assertedPersistence.removeCurrentUser()})()}queue(b){return this.operations=this.operations.then(b,b),this.operations}get assertedPersistence(){return zt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(b){!b||this.frameworks.includes(b)||(this.frameworks.push(b),this.frameworks.sort(),this.clientVersion=Ao(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var b=this;return(0,p.Z)(function*(){var E;const B={"X-Client-Version":b.clientVersion};b.app.options.appId&&(B["X-Firebase-gmpid"]=b.app.options.appId);const pe=yield null===(E=b.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===E?void 0:E.getHeartbeatsHeader();return pe&&(B["X-Firebase-Client"]=pe),B})()}}function Yi(R){return(0,N.m9)(R)}class Is{constructor(b){this.auth=b,this.observer=null,this.addObserver=(0,N.ne)(E=>this.observer=E)}get next(){return zt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ra(R,b,E){const B=Yi(R);zt(B._canInitEmulator,B,"emulator-config-failed"),zt(/^https?:\/\//.test(b),B,"invalid-emulator-scheme");const pe=!!E?.disableWarnings,Ee=to(b),{host:At,port:an}=function Oa(R){const b=to(R),E=/(\/\/)?([^?#/]+)/.exec(R.substr(b.length));if(!E)return{host:"",port:null};const B=E[2].split("@").pop()||"",pe=/^(\[[^\]]+\])(:|$)/.exec(B);if(pe){const Ee=pe[1];return{host:Ee,port:fs(B.substr(Ee.length+1))}}{const[Ee,At]=B.split(":");return{host:Ee,port:fs(At)}}}(b);B.config.emulator={url:`${Ee}//${At}${null===an?"":`:${an}`}/`},B.settings.appVerificationDisabledForTesting=!0,B.emulatorConfig=Object.freeze({host:At,port:an,protocol:Ee.replace(":",""),options:Object.freeze({disableWarnings:pe})}),pe||function _s(){function R(){const b=document.createElement("p"),E=b.style;b.innerText="Running in emulator mode. Do not use with production credentials.",E.position="fixed",E.width="100%",E.backgroundColor="#ffffff",E.border=".1em solid #000000",E.color="#b50000",E.bottom="0px",E.left="0px",E.margin="0px",E.zIndex="10000",E.textAlign="center",b.classList.add("firebase-emulator-warning"),document.body.appendChild(b)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",R):R())}()}function to(R){const b=R.indexOf(":");return b<0?"":R.substr(0,b+1)}function fs(R){if(!R)return null;const b=Number(R);return isNaN(b)?null:b}class Pt{constructor(b,E){this.providerId=b,this.signInMethod=E}toJSON(){return Gn("not implemented")}_getIdTokenResponse(b){return Gn("not implemented")}_linkToIdToken(b,E){return Gn("not implemented")}_getReauthenticationResolver(b){return Gn("not implemented")}}function Rt(R,b){return qt.apply(this,arguments)}function qt(){return(qt=(0,p.Z)(function*(R,b){return On(R,"POST","/v1/accounts:resetPassword",ni(R,b))})).apply(this,arguments)}function vn(R,b){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,p.Z)(function*(R,b){return On(R,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function si(R,b){return Di.apply(this,arguments)}function Di(){return(Di=(0,p.Z)(function*(R,b){return On(R,"POST","/v1/accounts:update",ni(R,b))})).apply(this,arguments)}function Ki(){return(Ki=(0,p.Z)(function*(R,b){return gt(R,"POST","/v1/accounts:signInWithPassword",ni(R,b))})).apply(this,arguments)}function jr(R,b){return ls.apply(this,arguments)}function ls(){return(ls=(0,p.Z)(function*(R,b){return On(R,"POST","/v1/accounts:sendOobCode",ni(R,b))})).apply(this,arguments)}function xs(R,b){return ko.apply(this,arguments)}function ko(){return(ko=(0,p.Z)(function*(R,b){return jr(R,b)})).apply(this,arguments)}function vs(R,b){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,p.Z)(function*(R,b){return jr(R,b)})).apply(this,arguments)}function $s(R,b){return Go.apply(this,arguments)}function Go(){return(Go=(0,p.Z)(function*(R,b){return jr(R,b)})).apply(this,arguments)}function bo(R,b){return Co.apply(this,arguments)}function Co(){return(Co=(0,p.Z)(function*(R,b){return jr(R,b)})).apply(this,arguments)}function Ro(){return(Ro=(0,p.Z)(function*(R,b){return gt(R,"POST","/v1/accounts:signInWithEmailLink",ni(R,b))})).apply(this,arguments)}function Gs(){return(Gs=(0,p.Z)(function*(R,b){return gt(R,"POST","/v1/accounts:signInWithEmailLink",ni(R,b))})).apply(this,arguments)}class ys extends Pt{constructor(b,E,B,pe=null){super("password",B),this._email=b,this._password=E,this._tenantId=pe}static _fromEmailAndPassword(b,E){return new ys(b,E,"password")}static _fromEmailAndCode(b,E,B=null){return new ys(b,E,"emailLink",B)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(b){const E="string"==typeof b?JSON.parse(b):b;if(E?.email&&E?.password){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(b){var E=this;return(0,p.Z)(function*(){switch(E.signInMethod){case"password":return function Nr(R,b){return Ki.apply(this,arguments)}(b,{returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function aa(R,b){return Ro.apply(this,arguments)}(b,{email:E._email,oobCode:E._password});default:It(b,"internal-error")}})()}_linkToIdToken(b,E){var B=this;return(0,p.Z)(function*(){switch(B.signInMethod){case"password":return vn(b,{idToken:E,returnSecureToken:!0,email:B._email,password:B._password});case"emailLink":return function wo(R,b){return Gs.apply(this,arguments)}(b,{idToken:E,email:B._email,oobCode:B._password});default:It(b,"internal-error")}})()}_getReauthenticationResolver(b){return this._getIdTokenResponse(b)}}function As(R,b){return ks.apply(this,arguments)}function ks(){return(ks=(0,p.Z)(function*(R,b){return gt(R,"POST","/v1/accounts:signInWithIdp",ni(R,b))})).apply(this,arguments)}class es extends Pt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(b){const E=new es(b.providerId,b.signInMethod);return b.idToken||b.accessToken?(b.idToken&&(E.idToken=b.idToken),b.accessToken&&(E.accessToken=b.accessToken),b.nonce&&!b.pendingToken&&(E.nonce=b.nonce),b.pendingToken&&(E.pendingToken=b.pendingToken)):b.oauthToken&&b.oauthTokenSecret?(E.accessToken=b.oauthToken,E.secret=b.oauthTokenSecret):It("argument-error"),E}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(b){const E="string"==typeof b?JSON.parse(b):b,{providerId:B,signInMethod:pe}=E,Ee=he(E,["providerId","signInMethod"]);if(!B||!pe)return null;const At=new es(B,pe);return At.idToken=Ee.idToken||void 0,At.accessToken=Ee.accessToken||void 0,At.secret=Ee.secret,At.nonce=Ee.nonce,At.pendingToken=Ee.pendingToken||null,At}_getIdTokenResponse(b){return As(b,this.buildRequest())}_linkToIdToken(b,E){const B=this.buildRequest();return B.idToken=E,As(b,B)}_getReauthenticationResolver(b){const E=this.buildRequest();return E.autoCreate=!1,As(b,E)}buildRequest(){const b={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)b.pendingToken=this.pendingToken;else{const E={};this.idToken&&(E.id_token=this.idToken),this.accessToken&&(E.access_token=this.accessToken),this.secret&&(E.oauth_token_secret=this.secret),E.providerId=this.providerId,this.nonce&&!this.pendingToken&&(E.nonce=this.nonce),b.postBody=(0,N.xO)(E)}return b}}function Wr(R,b){return no.apply(this,arguments)}function no(){return(no=(0,p.Z)(function*(R,b){return On(R,"POST","/v1/accounts:sendVerificationCode",ni(R,b))})).apply(this,arguments)}function zo(){return(zo=(0,p.Z)(function*(R,b){return gt(R,"POST","/v1/accounts:signInWithPhoneNumber",ni(R,b))})).apply(this,arguments)}function Qs(){return(Qs=(0,p.Z)(function*(R,b){const E=yield gt(R,"POST","/v1/accounts:signInWithPhoneNumber",ni(R,b));if(E.temporaryProof)throw lt(R,"account-exists-with-different-credential",E);return E})).apply(this,arguments)}const mr={USER_NOT_FOUND:"user-not-found"};function Wo(){return(Wo=(0,p.Z)(function*(R,b){return gt(R,"POST","/v1/accounts:signInWithPhoneNumber",ni(R,Object.assign(Object.assign({},b),{operation:"REAUTH"})),mr)})).apply(this,arguments)}class Ai extends Pt{constructor(b){super("phone","phone"),this.params=b}static _fromVerification(b,E){return new Ai({verificationId:b,verificationCode:E})}static _fromTokenResponse(b,E){return new Ai({phoneNumber:b,temporaryProof:E})}_getIdTokenResponse(b){return function ba(R,b){return zo.apply(this,arguments)}(b,this._makeVerificationRequest())}_linkToIdToken(b,E){return function Ws(R,b){return Qs.apply(this,arguments)}(b,Object.assign({idToken:E},this._makeVerificationRequest()))}_getReauthenticationResolver(b){return function Yr(R,b){return Wo.apply(this,arguments)}(b,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:b,phoneNumber:E,verificationId:B,verificationCode:pe}=this.params;return b&&E?{temporaryProof:b,phoneNumber:E}:{sessionInfo:B,code:pe}}toJSON(){const b={providerId:this.providerId};return this.params.phoneNumber&&(b.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(b.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(b.verificationCode=this.params.verificationCode),this.params.verificationId&&(b.verificationId=this.params.verificationId),b}static fromJSON(b){"string"==typeof b&&(b=JSON.parse(b));const{verificationId:E,verificationCode:B,phoneNumber:pe,temporaryProof:Ee}=b;return B||E||pe||Ee?new Ai({verificationId:E,verificationCode:B,phoneNumber:pe,temporaryProof:Ee}):null}}class bs{constructor(b){var E,B,pe,Ee,At,an;const Qn=(0,N.zd)((0,N.pd)(b)),Un=null!==(E=Qn.apiKey)&&void 0!==E?E:null,Si=null!==(B=Qn.oobCode)&&void 0!==B?B:null,mi=function Kr(R){switch(R){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(pe=Qn.mode)&&void 0!==pe?pe:null);zt(Un&&Si&&mi,"argument-error"),this.apiKey=Un,this.operation=mi,this.code=Si,this.continueUrl=null!==(Ee=Qn.continueUrl)&&void 0!==Ee?Ee:null,this.languageCode=null!==(At=Qn.languageCode)&&void 0!==At?At:null,this.tenantId=null!==(an=Qn.tenantId)&&void 0!==an?an:null}static parseLink(b){const E=function io(R){const b=(0,N.zd)((0,N.pd)(R)).link,E=b?(0,N.zd)((0,N.pd)(b)).deep_link_id:null,B=(0,N.zd)((0,N.pd)(R)).deep_link_id;return(B?(0,N.zd)((0,N.pd)(B)).link:null)||B||E||b||R}(b);try{return new bs(E)}catch{return null}}}let Zi=(()=>{class R{constructor(){this.providerId=R.PROVIDER_ID}static credential(E,B){return ys._fromEmailAndPassword(E,B)}static credentialWithLink(E,B){const pe=bs.parseLink(B);return zt(pe,"argument-error"),ys._fromEmailAndCode(E,pe.code,pe.tenantId)}}return R.PROVIDER_ID="password",R.EMAIL_PASSWORD_SIGN_IN_METHOD="password",R.EMAIL_LINK_SIGN_IN_METHOD="emailLink",R})();class Oo{constructor(b){this.providerId=b,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(b){this.defaultLanguageCode=b}setCustomParameters(b){return this.customParameters=b,this}getCustomParameters(){return this.customParameters}}class Rs extends Oo{constructor(){super(...arguments),this.scopes=[]}addScope(b){return this.scopes.includes(b)||this.scopes.push(b),this}getScopes(){return[...this.scopes]}}class Yo extends Rs{static credentialFromJSON(b){const E="string"==typeof b?JSON.parse(b):b;return zt("providerId"in E&&"signInMethod"in E,"argument-error"),es._fromParams(E)}credential(b){return this._credential(Object.assign(Object.assign({},b),{nonce:b.rawNonce}))}_credential(b){return zt(b.idToken||b.accessToken,"argument-error"),es._fromParams(Object.assign(Object.assign({},b),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(b){return Yo.oauthCredentialFromTaggedObject(b)}static credentialFromError(b){return Yo.oauthCredentialFromTaggedObject(b.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:E,oauthAccessToken:B,oauthTokenSecret:pe,pendingToken:Ee,nonce:At,providerId:an}=b;if(!B&&!pe&&!E&&!Ee||!an)return null;try{return new Yo(an)._credential({idToken:E,accessToken:B,nonce:At,pendingToken:Ee})}catch{return null}}}let Os=(()=>{class R extends Rs{constructor(){super("facebook.com")}static credential(E){return es._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.FACEBOOK_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return R.credentialFromTaggedObject(E)}static credentialFromError(E){return R.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return R.credential(E.oauthAccessToken)}catch{return null}}}return R.FACEBOOK_SIGN_IN_METHOD="facebook.com",R.PROVIDER_ID="facebook.com",R})(),ca=(()=>{class R extends Rs{constructor(){super("google.com"),this.addScope("profile")}static credential(E,B){return es._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.GOOGLE_SIGN_IN_METHOD,idToken:E,accessToken:B})}static credentialFromResult(E){return R.credentialFromTaggedObject(E)}static credentialFromError(E){return R.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:B,oauthAccessToken:pe}=E;if(!B&&!pe)return null;try{return R.credential(B,pe)}catch{return null}}}return R.GOOGLE_SIGN_IN_METHOD="google.com",R.PROVIDER_ID="google.com",R})(),gr=(()=>{class R extends Rs{constructor(){super("github.com")}static credential(E){return es._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.GITHUB_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return R.credentialFromTaggedObject(E)}static credentialFromError(E){return R.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return R.credential(E.oauthAccessToken)}catch{return null}}}return R.GITHUB_SIGN_IN_METHOD="github.com",R.PROVIDER_ID="github.com",R})();class Ir extends Pt{constructor(b,E){super(b,b),this.pendingToken=E}_getIdTokenResponse(b){return As(b,this.buildRequest())}_linkToIdToken(b,E){const B=this.buildRequest();return B.idToken=E,As(b,B)}_getReauthenticationResolver(b){const E=this.buildRequest();return E.autoCreate=!1,As(b,E)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(b){const E="string"==typeof b?JSON.parse(b):b,{providerId:B,signInMethod:pe,pendingToken:Ee}=E;return B&&pe&&Ee&&B===pe?new Ir(B,Ee):null}static _create(b,E){return new Ir(b,E)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class cs extends Oo{constructor(b){zt(b.startsWith("saml."),"argument-error"),super(b)}static credentialFromResult(b){return cs.samlCredentialFromTaggedObject(b)}static credentialFromError(b){return cs.samlCredentialFromTaggedObject(b.customData||{})}static credentialFromJSON(b){const E=Ir.fromJSON(b);return zt(E,"argument-error"),E}static samlCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{pendingToken:E,providerId:B}=b;if(!E||!B)return null;try{return Ir._create(B,E)}catch{return null}}}let dl=(()=>{class R extends Rs{constructor(){super("twitter.com")}static credential(E,B){return es._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.TWITTER_SIGN_IN_METHOD,oauthToken:E,oauthTokenSecret:B})}static credentialFromResult(E){return R.credentialFromTaggedObject(E)}static credentialFromError(E){return R.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthAccessToken:B,oauthTokenSecret:pe}=E;if(!B||!pe)return null;try{return R.credential(B,pe)}catch{return null}}}return R.TWITTER_SIGN_IN_METHOD="twitter.com",R.PROVIDER_ID="twitter.com",R})();function Ca(R,b){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,p.Z)(function*(R,b){return gt(R,"POST","/v1/accounts:signUp",ni(R,b))})).apply(this,arguments)}class Zr{constructor(b){this.user=b.user,this.providerId=b.providerId,this._tokenResponse=b._tokenResponse,this.operationType=b.operationType}static _fromIdTokenResponse(b,E,B,pe=!1){return(0,p.Z)(function*(){const Ee=yield dr._fromIdTokenResponse(b,B,pe),At=qa(B);return new Zr({user:Ee,providerId:At,_tokenResponse:B,operationType:E})})()}static _forOperation(b,E,B){return(0,p.Z)(function*(){yield b._updateTokensIfNecessary(B,!0);const pe=qa(B);return new Zr({user:b,providerId:pe,_tokenResponse:B,operationType:E})})()}}function qa(R){return R.providerId?R.providerId:"phoneNumber"in R?"phone":null}function Mn(R){return xi.apply(this,arguments)}function xi(){return(xi=(0,p.Z)(function*(R){var b;const E=Yi(R);if(yield E._initializationPromise,null!==(b=E.currentUser)&&void 0!==b&&b.isAnonymous)return new Zr({user:E.currentUser,providerId:null,operationType:"signIn"});const B=yield Ca(E,{returnSecureToken:!0}),pe=yield Zr._fromIdTokenResponse(E,"signIn",B,!0);return yield E._updateCurrentUser(pe.user),pe})).apply(this,arguments)}class Po extends N.ZR{constructor(b,E,B,pe){var Ee;super(E.code,E.message),this.operationType=B,this.user=pe,Object.setPrototypeOf(this,Po.prototype),this.customData={appName:b.name,tenantId:null!==(Ee=b.tenantId)&&void 0!==Ee?Ee:void 0,_serverResponse:E.customData._serverResponse,operationType:B}}static _fromErrorAndOperation(b,E,B,pe){return new Po(b,E,B,pe)}}function No(R,b,E,B){return("reauthenticate"===b?E._getReauthenticationResolver(R):E._getIdTokenResponse(R)).catch(Ee=>{throw"auth/multi-factor-auth-required"===Ee.code?Po._fromErrorAndOperation(R,Ee,b,B):Ee})}function Vr(R){return new Set(R.map(({providerId:b})=>b).filter(b=>!!b))}function re(R,b){return Q.apply(this,arguments)}function Q(){return(Q=(0,p.Z)(function*(R,b){const E=(0,N.m9)(R);yield nn(!0,E,b);const{providerUserInfo:B}=yield St(E.auth,{idToken:yield E.getIdToken(),deleteProvider:[b]}),pe=Vr(B||[]);return E.providerData=E.providerData.filter(Ee=>pe.has(Ee.providerId)),pe.has("phone")||(E.phoneNumber=null),yield E.auth._persistUserIfCurrent(E),E})).apply(this,arguments)}function $(R,b){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,p.Z)(function*(R,b,E=!1){const B=yield pn(R,b._linkToIdToken(R.auth,yield R.getIdToken()),E);return Zr._forOperation(R,"link",B)})).apply(this,arguments)}function nn(R,b,E){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,p.Z)(function*(R,b,E){yield De(b);const pe=!1===R?"provider-already-linked":"no-such-provider";zt(Vr(b.providerData).has(E)===R,b.auth,pe)})).apply(this,arguments)}function Er(R,b){return ro.apply(this,arguments)}function ro(){return(ro=(0,p.Z)(function*(R,b,E=!1){var B;const{auth:pe}=R,Ee="reauthenticate";try{const At=yield pn(R,No(pe,Ee,b,R),E);zt(At.idToken,pe,"internal-error");const an=Ct(At.idToken);zt(an,pe,"internal-error");const{sub:Qn}=an;return zt(R.uid===Qn,pe,"user-mismatch"),Zr._forOperation(R,Ee,At)}catch(At){throw"auth/user-not-found"===(null===(B=At)||void 0===B?void 0:B.code)&&It(pe,"user-mismatch"),At}})).apply(this,arguments)}function so(R,b){return hr.apply(this,arguments)}function hr(){return(hr=(0,p.Z)(function*(R,b,E=!1){const B="signIn",pe=yield No(R,B,b),Ee=yield Zr._fromIdTokenResponse(R,B,pe);return E||(yield R._updateCurrentUser(Ee.user)),Ee})).apply(this,arguments)}function Fr(R,b){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,p.Z)(function*(R,b){return so(Yi(R),b)})).apply(this,arguments)}function qi(R,b){return oo.apply(this,arguments)}function oo(){return(oo=(0,p.Z)(function*(R,b){const E=(0,N.m9)(R);return yield nn(!1,E,b.providerId),$(E,b)})).apply(this,arguments)}function Ql(R,b){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,p.Z)(function*(R,b){return Er((0,N.m9)(R),b)})).apply(this,arguments)}function Xl(R,b){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,p.Z)(function*(R,b){return gt(R,"POST","/v1/accounts:signInWithCustomToken",ni(R,b))})).apply(this,arguments)}function Xa(R,b){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,p.Z)(function*(R,b){const E=Yi(R),B=yield Xl(E,{token:b,returnSecureToken:!0}),pe=yield Zr._fromIdTokenResponse(E,"signIn",B);return yield E._updateCurrentUser(pe.user),pe})).apply(this,arguments)}class ua{constructor(b,E){this.factorId=b,this.uid=E.mfaEnrollmentId,this.enrollmentTime=new Date(E.enrolledAt).toUTCString(),this.displayName=E.displayName}static _fromServerResponse(b,E){return"phoneInfo"in E?el._fromServerResponse(b,E):It(b,"internal-error")}}class el extends ua{constructor(b){super("phone",b),this.phoneNumber=b.phoneInfo}static _fromServerResponse(b,E){return new el(E)}}function qr(R,b,E){var B;zt((null===(B=E.url)||void 0===B?void 0:B.length)>0,R,"invalid-continue-uri"),zt(typeof E.dynamicLinkDomain>"u"||E.dynamicLinkDomain.length>0,R,"invalid-dynamic-link-domain"),b.continueUrl=E.url,b.dynamicLinkDomain=E.dynamicLinkDomain,b.canHandleCodeInApp=E.handleCodeInApp,E.iOS&&(zt(E.iOS.bundleId.length>0,R,"missing-ios-bundle-id"),b.iOSBundleId=E.iOS.bundleId),E.android&&(zt(E.android.packageName.length>0,R,"missing-android-pkg-name"),b.androidInstallApp=E.android.installApp,b.androidMinimumVersionCode=E.android.minimumVersion,b.androidPackageName=E.android.packageName)}function hl(R,b,E){return da.apply(this,arguments)}function da(){return(da=(0,p.Z)(function*(R,b,E){const B=(0,N.m9)(R),pe={requestType:"PASSWORD_RESET",email:b};E&&qr(B,pe,E),yield vs(B,pe)})).apply(this,arguments)}function Al(R,b,E){return ao.apply(this,arguments)}function ao(){return(ao=(0,p.Z)(function*(R,b,E){yield Rt((0,N.m9)(R),{oobCode:b,newPassword:E})})).apply(this,arguments)}function Na(R,b){return W.apply(this,arguments)}function W(){return(W=(0,p.Z)(function*(R,b){yield si((0,N.m9)(R),{oobCode:b})})).apply(this,arguments)}function _e(R,b){return q.apply(this,arguments)}function q(){return(q=(0,p.Z)(function*(R,b){const E=(0,N.m9)(R),B=yield Rt(E,{oobCode:b}),pe=B.requestType;switch(zt(pe,E,"internal-error"),pe){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":zt(B.newEmail,E,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":zt(B.mfaInfo,E,"internal-error");default:zt(B.email,E,"internal-error")}let Ee=null;return B.mfaInfo&&(Ee=ua._fromServerResponse(Yi(E),B.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===B.requestType?B.newEmail:B.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===B.requestType?B.email:B.newEmail)||null,multiFactorInfo:Ee},operation:pe}})).apply(this,arguments)}function xe(R,b){return ct.apply(this,arguments)}function ct(){return(ct=(0,p.Z)(function*(R,b){const{data:E}=yield _e((0,N.m9)(R),b);return E.email})).apply(this,arguments)}function Xt(R,b,E){return hn.apply(this,arguments)}function hn(){return(hn=(0,p.Z)(function*(R,b,E){const B=Yi(R),pe=yield Ca(B,{returnSecureToken:!0,email:b,password:E}),Ee=yield Zr._fromIdTokenResponse(B,"signIn",pe);return yield B._updateCurrentUser(Ee.user),Ee})).apply(this,arguments)}function Xn(R,b,E){return Fr((0,N.m9)(R),Zi.credential(b,E))}function Pi(R,b,E){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,p.Z)(function*(R,b,E){const B=(0,N.m9)(R),pe={requestType:"EMAIL_SIGNIN",email:b};zt(E.handleCodeInApp,B,"argument-error"),E&&qr(B,pe,E),yield $s(B,pe)})).apply(this,arguments)}function Gi(R,b){return"EMAIL_SIGNIN"===bs.parseLink(b)?.operation}function Ni(R,b,E){return _r.apply(this,arguments)}function _r(){return(_r=(0,p.Z)(function*(R,b,E){const B=(0,N.m9)(R),pe=Zi.credentialWithLink(b,E||ce());return zt(pe._tenantId===(B.tenantId||null),B,"tenant-id-mismatch"),Fr(B,pe)})).apply(this,arguments)}function Ze(R,b){return fr.apply(this,arguments)}function fr(){return(fr=(0,p.Z)(function*(R,b){return On(R,"POST","/v1/accounts:createAuthUri",ni(R,b))})).apply(this,arguments)}function Ps(R,b){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,p.Z)(function*(R,b){const B={identifier:b,continueUri:Ye()?ce():"http://localhost"},{signinMethods:pe}=yield Ze((0,N.m9)(R),B);return pe||[]})).apply(this,arguments)}function Zs(R,b){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,p.Z)(function*(R,b){const E=(0,N.m9)(R),pe={requestType:"VERIFY_EMAIL",idToken:yield R.getIdToken()};b&&qr(E.auth,pe,b);const{email:Ee}=yield xs(E.auth,pe);Ee!==R.email&&(yield R.reload())})).apply(this,arguments)}function Do(R,b,E){return rr.apply(this,arguments)}function rr(){return(rr=(0,p.Z)(function*(R,b,E){const B=(0,N.m9)(R),Ee={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield R.getIdToken(),newEmail:b};E&&qr(B.auth,Ee,E);const{email:At}=yield bo(B.auth,Ee);At!==R.email&&(yield R.reload())})).apply(this,arguments)}function Ns(R,b){return fl.apply(this,arguments)}function fl(){return(fl=(0,p.Z)(function*(R,b){return On(R,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function ts(R,b){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,p.Z)(function*(R,{displayName:b,photoURL:E}){if(void 0===b&&void 0===E)return;const B=(0,N.m9)(R),Ee={idToken:yield B.getIdToken(),displayName:b,photoUrl:E,returnSecureToken:!0},At=yield pn(B,Ns(B.auth,Ee));B.displayName=At.displayName||null,B.photoURL=At.photoUrl||null;const an=B.providerData.find(({providerId:Qn})=>"password"===Qn);an&&(an.displayName=B.displayName,an.photoURL=B.photoURL),yield B._updateTokensIfNecessary(At)})).apply(this,arguments)}function Nu(R,b){return Cc((0,N.m9)(R),b,null)}function Sd(R,b){return Cc((0,N.m9)(R),null,b)}function Cc(R,b,E){return kl.apply(this,arguments)}function kl(){return(kl=(0,p.Z)(function*(R,b,E){const{auth:B}=R,Ee={idToken:yield R.getIdToken(),returnSecureToken:!0};b&&(Ee.email=b),E&&(Ee.password=E);const At=yield pn(R,vn(B,Ee));yield R._updateTokensIfNecessary(At,!0)})).apply(this,arguments)}class ha{constructor(b,E,B={}){this.isNewUser=b,this.providerId=E,this.profile=B}}class Ol extends ha{constructor(b,E,B,pe){super(b,E,B),this.username=pe}}class Fa extends ha{constructor(b,E){super(b,"facebook.com",E)}}class ou extends Ol{constructor(b,E){super(b,"github.com",E,"string"==typeof E?.login?E?.login:null)}}class Pl extends ha{constructor(b,E){super(b,"google.com",E)}}class sr extends Ol{constructor(b,E,B){super(b,"twitter.com",E,B)}}function fa(R){const{user:b,_tokenResponse:E}=R;return b.isAnonymous&&!E?{providerId:null,isNewUser:!1,profile:null}:function Rl(R){var b,E;if(!R)return null;const{providerId:B}=R,pe=R.rawUserInfo?JSON.parse(R.rawUserInfo):{},Ee=R.isNewUser||"identitytoolkit#SignupNewUserResponse"===R.kind;if(!B&&R?.idToken){const At=null===(E=null===(b=Ct(R.idToken))||void 0===b?void 0:b.firebase)||void 0===E?void 0:E.sign_in_provider;if(At)return new ha(Ee,"anonymous"!==At&&"custom"!==At?At:null)}if(!B)return null;switch(B){case"facebook.com":return new Fa(Ee,pe);case"github.com":return new ou(Ee,pe);case"google.com":return new Pl(Ee,pe);case"twitter.com":return new sr(Ee,pe,R.screenName||null);case"custom":case"anonymous":return new ha(Ee,null);default:return new ha(Ee,B,pe)}}(E)}class Bo{constructor(b,E,B){this.type=b,this.credential=E,this.auth=B}static _fromIdtoken(b,E){return new Bo("enroll",b,E)}static _fromMfaPendingCredential(b){return new Bo("signin",b)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(b){var E,B;if(b?.multiFactorSession){if(null!==(E=b.multiFactorSession)&&void 0!==E&&E.pendingCredential)return Bo._fromMfaPendingCredential(b.multiFactorSession.pendingCredential);if(null!==(B=b.multiFactorSession)&&void 0!==B&&B.idToken)return Bo._fromIdtoken(b.multiFactorSession.idToken)}return null}}class Zn{constructor(b,E,B){this.session=b,this.hints=E,this.signInResolver=B}static _fromError(b,E){const B=Yi(b),pe=E.customData._serverResponse,Ee=(pe.mfaInfo||[]).map(an=>ua._fromServerResponse(B,an));zt(pe.mfaPendingCredential,B,"internal-error");const At=Bo._fromMfaPendingCredential(pe.mfaPendingCredential);return new Zn(At,Ee,function(){var an=(0,p.Z)(function*(Qn){const Un=yield Qn._process(B,At);delete pe.mfaInfo,delete pe.mfaPendingCredential;const Si=Object.assign(Object.assign({},pe),{idToken:Un.idToken,refreshToken:Un.refreshToken});switch(E.operationType){case"signIn":const mi=yield Zr._fromIdTokenResponse(B,E.operationType,Si);return yield B._updateCurrentUser(mi.user),mi;case"reauthenticate":return zt(E.user,B,"internal-error"),Zr._forOperation(E.user,E.operationType,Si);default:It(B,"internal-error")}});return function(Qn){return an.apply(this,arguments)}}())}resolveSignIn(b){var E=this;return(0,p.Z)(function*(){return E.signInResolver(b)})()}}function un(R,b){var E;const B=(0,N.m9)(R),pe=b;return zt(b.customData.operationType,B,"argument-error"),zt(null===(E=pe.customData._serverResponse)||void 0===E?void 0:E.mfaPendingCredential,B,"argument-error"),Zn._fromError(B,pe)}function In(R,b){return On(R,"POST","/v2/accounts/mfaEnrollment:start",ni(R,b))}class us{constructor(b){this.user=b,this.enrolledFactors=[],b._onReload(E=>{E.mfaInfo&&(this.enrolledFactors=E.mfaInfo.map(B=>ua._fromServerResponse(b.auth,B)))})}static _fromUser(b){return new us(b)}getSession(){var b=this;return(0,p.Z)(function*(){return Bo._fromIdtoken(yield b.user.getIdToken(),b.user.auth)})()}enroll(b,E){var B=this;return(0,p.Z)(function*(){const pe=b,Ee=yield B.getSession(),At=yield pn(B.user,pe._process(B.user.auth,Ee,E));return yield B.user._updateTokensIfNecessary(At),B.user.reload()})()}unenroll(b){var E=this;return(0,p.Z)(function*(){var B;const pe="string"==typeof b?b:b.uid,Ee=yield E.user.getIdToken(),At=yield pn(E.user,function wc(R,b){return On(R,"POST","/v2/accounts/mfaEnrollment:withdraw",ni(R,b))}(E.user.auth,{idToken:Ee,mfaEnrollmentId:pe}));E.enrolledFactors=E.enrolledFactors.filter(({uid:an})=>an!==pe),yield E.user._updateTokensIfNecessary(At);try{yield E.user.reload()}catch(an){if("auth/user-token-expired"!==(null===(B=an)||void 0===B?void 0:B.code))throw an}})()}}const wa=new WeakMap;function ma(R){const b=(0,N.m9)(R);return wa.has(b)||wa.set(b,us._fromUser(b)),wa.get(b)}const Nl="__sak";class Fl{constructor(b,E){this.storageRetriever=b,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(Nl,"1"),this.storage.removeItem(Nl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(b,E){return this.storage.setItem(b,JSON.stringify(E)),Promise.resolve()}_get(b){const E=this.storage.getItem(b);return Promise.resolve(E?JSON.parse(E):null)}_remove(b){return this.storage.removeItem(b),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ll=(()=>{class R extends Fl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(E,B)=>this.onStorageEvent(E,B),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function nl(){const R=(0,N.z$)();return $i(R)||Br(R)}()&&function Cr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Rr(),this._shouldAllowMigration=!0}forAllChangedKeys(E){for(const B of Object.keys(this.listeners)){const pe=this.storage.getItem(B),Ee=this.localCache[B];pe!==Ee&&E(B,Ee,pe)}}onStorageEvent(E,B=!1){if(!E.key)return void this.forAllChangedKeys((an,Qn,Un)=>{this.notifyListeners(an,Un)});const pe=E.key;if(B?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const an=this.storage.getItem(pe);if(E.newValue!==an)null!==E.newValue?this.storage.setItem(pe,E.newValue):this.storage.removeItem(pe);else if(this.localCache[pe]===E.newValue&&!B)return}const Ee=()=>{const an=this.storage.getItem(pe);!B&&this.localCache[pe]===an||this.notifyListeners(pe,an)},At=this.storage.getItem(pe);!function $o(){return(0,N.w1)()&&10===document.documentMode}()||At===E.newValue||E.newValue===E.oldValue?Ee():setTimeout(Ee,10)}notifyListeners(E,B){this.localCache[E]=B;const pe=this.listeners[E];if(pe)for(const Ee of Array.from(pe))Ee(B&&JSON.parse(B))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,B,pe)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:B,newValue:pe}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,B){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(B)}_removeListener(E,B){this.listeners[E]&&(this.listeners[E].delete(B),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,B){var pe=()=>super._set,Ee=this;return(0,p.Z)(function*(){yield pe().call(Ee,E,B),Ee.localCache[E]=JSON.stringify(B)})()}_get(E){var B=()=>super._get,pe=this;return(0,p.Z)(function*(){const Ee=yield B().call(pe,E);return pe.localCache[E]=JSON.stringify(Ee),Ee})()}_remove(E){var B=()=>super._remove,pe=this;return(0,p.Z)(function*(){yield B().call(pe,E),delete pe.localCache[E]})()}}return R.type="LOCAL",R})(),qo=(()=>{class R extends Fl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(E,B){}_removeListener(E,B){}}return R.type="SESSION",R})();let Ar=(()=>{class R{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const B=this.receivers.find(Ee=>Ee.isListeningto(E));if(B)return B;const pe=new R(E);return this.receivers.push(pe),pe}isListeningto(E){return this.eventTarget===E}handleEvent(E){var B=this;return(0,p.Z)(function*(){const pe=E,{eventId:Ee,eventType:At,data:an}=pe.data,Qn=B.handlersMap[At];if(!Qn?.size)return;pe.ports[0].postMessage({status:"ack",eventId:Ee,eventType:At});const Un=Array.from(Qn).map(function(){var mi=(0,p.Z)(function*(br){return br(pe.origin,an)});return function(br){return mi.apply(this,arguments)}}()),Si=yield function Bl(R){return Promise.all(R.map(function(){var b=(0,p.Z)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(B){return{fulfilled:!1,reason:B}}});return function(E){return b.apply(this,arguments)}}()))}(Un);pe.ports[0].postMessage({status:"done",eventId:Ee,eventType:At,response:Si})})()}_subscribe(E,B){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(B)}_unsubscribe(E,B){this.handlersMap[E]&&B&&this.handlersMap[E].delete(B),(!B||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return R.receivers=[],R})();function bi(R="",b=10){let E="";for(let B=0;B<b;B++)E+=Math.floor(10*Math.random());return R+E}class ds{constructor(b){this.target=b,this.handlers=new Set}removeMessageHandler(b){b.messageChannel&&(b.messageChannel.port1.removeEventListener("message",b.onMessage),b.messageChannel.port1.close()),this.handlers.delete(b)}_send(b,E,B=50){var pe=this;return(0,p.Z)(function*(){const Ee=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ee)throw new Error("connection_unavailable");let At,an;return new Promise((Qn,Un)=>{const Si=bi("",20);Ee.port1.start();const mi=setTimeout(()=>{Un(new Error("unsupported_event"))},B);an={messageChannel:Ee,onMessage(br){const ms=br;if(ms.data.eventId===Si)switch(ms.data.status){case"ack":clearTimeout(mi),At=setTimeout(()=>{Un(new Error("timeout"))},3e3);break;case"done":clearTimeout(At),Qn(ms.data.response);break;default:clearTimeout(mi),clearTimeout(At),Un(new Error("invalid_response"))}}},pe.handlers.add(an),Ee.port1.addEventListener("message",an.onMessage),pe.target.postMessage({eventType:b,eventId:Si,data:E},[Ee.port2])}).finally(()=>{an&&pe.removeMessageHandler(an)})})()}}function yi(){return window}function vr(){return typeof yi().WorkerGlobalScope<"u"&&"function"==typeof yi().importScripts}function Vo(){return(Vo=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ea="firebaseLocalStorageDb",Hi="firebaseLocalStorage",Vl="fbase_key";class Ul{constructor(b){this.request=b}toPromise(){return new Promise((b,E)=>{this.request.addEventListener("success",()=>{b(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function Dc(R,b){return R.transaction([Hi],b?"readwrite":"readonly").objectStore(Hi)}function Ec(){const R=indexedDB.open(Ea,1);return new Promise((b,E)=>{R.addEventListener("error",()=>{E(R.error)}),R.addEventListener("upgradeneeded",()=>{const B=R.result;try{B.createObjectStore(Hi,{keyPath:Vl})}catch(pe){E(pe)}}),R.addEventListener("success",(0,p.Z)(function*(){const B=R.result;B.objectStoreNames.contains(Hi)?b(B):(B.close(),yield function co(){const R=indexedDB.deleteDatabase(Ea);return new Ul(R).toPromise()}(),b(yield Ec()))}))})}function Fs(R,b,E){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,p.Z)(function*(R,b,E){const B=Dc(R,!0).put({[Vl]:b,value:E});return new Ul(B).toPromise()})).apply(this,arguments)}function gl(){return(gl=(0,p.Z)(function*(R,b){const E=Dc(R,!1).get(b),B=yield new Ul(E).toPromise();return void 0===B?null:B.value})).apply(this,arguments)}function cn(R,b){const E=Dc(R,!0).delete(b);return new Ul(E).toPromise()}const il=(()=>{class R{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,p.Z)(function*(){return E.db||(E.db=yield Ec()),E.db})()}_withRetries(E){var B=this;return(0,p.Z)(function*(){let pe=0;for(;;)try{const Ee=yield B._openDb();return yield E(Ee)}catch(Ee){if(pe++>3)throw Ee;B.db&&(B.db.close(),B.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,p.Z)(function*(){return vr()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,p.Z)(function*(){E.receiver=Ar._getInstance(function Qo(){return vr()?self:null}()),E.receiver._subscribe("keyChanged",function(){var B=(0,p.Z)(function*(pe,Ee){return{keyProcessed:(yield E._poll()).includes(Ee.key)}});return function(pe,Ee){return B.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var B=(0,p.Z)(function*(pe,Ee){return["keyChanged"]});return function(pe,Ee){return B.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,p.Z)(function*(){var B,pe;if(E.activeServiceWorker=yield function zn(){return Vo.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new ds(E.activeServiceWorker);const Ee=yield E.sender._send("ping",{},800);!Ee||(null===(B=Ee[0])||void 0===B?void 0:B.fulfilled)&&(null===(pe=Ee[0])||void 0===pe?void 0:pe.value.includes("keyChanged"))&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var B=this;return(0,p.Z)(function*(){if(B.sender&&B.activeServiceWorker&&function Da(){var R;return(null===(R=navigator?.serviceWorker)||void 0===R?void 0:R.controller)||null}()===B.activeServiceWorker)try{yield B.sender._send("keyChanged",{key:E},B.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const E=yield Ec();return yield Fs(E,Nl,"1"),yield cn(E,Nl),!0}catch{}return!1})()}_withPendingWrite(E){var B=this;return(0,p.Z)(function*(){B.pendingWrites++;try{yield E()}finally{B.pendingWrites--}})()}_set(E,B){var pe=this;return(0,p.Z)(function*(){return pe._withPendingWrite((0,p.Z)(function*(){return yield pe._withRetries(Ee=>Fs(Ee,E,B)),pe.localCache[E]=B,pe.notifyServiceWorker(E)}))})()}_get(E){var B=this;return(0,p.Z)(function*(){const pe=yield B._withRetries(Ee=>function Xo(R,b){return gl.apply(this,arguments)}(Ee,E));return B.localCache[E]=pe,pe})()}_remove(E){var B=this;return(0,p.Z)(function*(){return B._withPendingWrite((0,p.Z)(function*(){return yield B._withRetries(pe=>cn(pe,E)),delete B.localCache[E],B.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,p.Z)(function*(){const B=yield E._withRetries(At=>{const an=Dc(At,!1).getAll();return new Ul(an).toPromise()});if(!B)return[];if(0!==E.pendingWrites)return[];const pe=[],Ee=new Set;for(const{fbase_key:At,value:an}of B)Ee.add(At),JSON.stringify(E.localCache[At])!==JSON.stringify(an)&&(E.notifyListeners(At,an),pe.push(At));for(const At of Object.keys(E.localCache))E.localCache[At]&&!Ee.has(At)&&(E.notifyListeners(At,null),pe.push(At));return pe})()}notifyListeners(E,B){this.localCache[E]=B;const pe=this.listeners[E];if(pe)for(const Ee of Array.from(pe))Ee(B)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,B){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(B)}_removeListener(E,B){this.listeners[E]&&(this.listeners[E].delete(B),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return R.type="LOCAL",R})();function Sa(R,b){return On(R,"POST","/v2/accounts/mfaSignIn:start",ni(R,b))}function ec(){return(ec=(0,p.Z)(function*(R){return(yield On(R,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Xs(R){return new Promise((b,E)=>{const B=document.createElement("script");B.setAttribute("src",R),B.onload=b,B.onerror=pe=>{const Ee=Qt("internal-error");Ee.customData=pe,E(Ee)},B.type="text/javascript",B.charset="UTF-8",function ho(){var R,b;return null!==(b=null===(R=document.getElementsByTagName("head"))||void 0===R?void 0:R[0])&&void 0!==b?b:document}().appendChild(B)})}function Hl(R){return`__${R}${Math.floor(1e6*Math.random())}`}const po=1e12;class F{constructor(b){this.auth=b,this.counter=po,this._widgets=new Map}render(b,E){const B=this.counter;return this._widgets.set(B,new L(b,this.auth.name,E||{})),this.counter++,B}reset(b){var E;const B=b||po;null===(E=this._widgets.get(B))||void 0===E||E.delete(),this._widgets.delete(B)}getResponse(b){var E;return(null===(E=this._widgets.get(b||po))||void 0===E?void 0:E.getResponse())||""}execute(b){var E=this;return(0,p.Z)(function*(){var B;return null===(B=E._widgets.get(b||po))||void 0===B||B.execute(),""})()}}class L{constructor(b,E,B){this.params=B,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const pe="string"==typeof b?document.getElementById(b):b;zt(pe,"argument-error",{appName:E}),this.container=pe,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function I(R){const b=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let B=0;B<R;B++)b.push(E.charAt(Math.floor(Math.random()*E.length)));return b.join("")}(50);const{callback:b,"expired-callback":E}=this.params;if(b)try{b(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,E)try{E()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const H=Hl("rcb"),ee=new Nt(3e4,6e4);class nt{constructor(){var b;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(b=yi().grecaptcha)||void 0===b||!b.render)}load(b,E=""){return zt(function dt(R){return R.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(R)}(E),b,"argument-error"),this.shouldResolveImmediately(E)?Promise.resolve(yi().grecaptcha):new Promise((B,pe)=>{const Ee=yi().setTimeout(()=>{pe(Qt(b,"network-request-failed"))},ee.get());yi()[H]=()=>{yi().clearTimeout(Ee),delete yi()[H];const an=yi().grecaptcha;if(!an)return void pe(Qt(b,"internal-error"));const Qn=an.render;an.render=(Un,Si)=>{const mi=Qn(Un,Si);return this.counter++,mi},this.hostLanguage=E,B(an)},Xs(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:H,render:"explicit",hl:E})}`).catch(()=>{clearTimeout(Ee),pe(Qt(b,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(b){var E;return!(null===(E=yi().grecaptcha)||void 0===E||!E.render)&&(b===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Kt{load(b){return(0,p.Z)(function*(){return new F(b)})()}clearedOneInstance(){}}const kn="recaptcha",li={theme:"light",type:"image"};class Wn{constructor(b,E=Object.assign({},li),B){this.parameters=E,this.type=kn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Yi(B),this.isInvisible="invisible"===this.parameters.size,zt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const pe="string"==typeof b?document.getElementById(b):b;zt(pe,this.auth,"argument-error"),this.container=pe,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Kt:new nt,this.validateStartingState()}verify(){var b=this;return(0,p.Z)(function*(){b.assertNotDestroyed();const E=yield b.render(),B=b.getAssertedRecaptcha();return B.getResponse(E)||new Promise(Ee=>{const At=an=>{!an||(b.tokenChangeListeners.delete(At),Ee(an))};b.tokenChangeListeners.add(At),b.isInvisible&&B.execute(E)})})()}render(){try{this.assertNotDestroyed()}catch(b){return Promise.reject(b)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(b=>{throw this.renderPromise=null,b})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(b=>{this.container.removeChild(b)})}validateStartingState(){zt(!this.parameters.sitekey,this.auth,"argument-error"),zt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),zt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(b){return E=>{if(this.tokenChangeListeners.forEach(B=>B(E)),"function"==typeof b)b(E);else if("string"==typeof b){const B=yi()[b];"function"==typeof B&&B(E)}}}assertNotDestroyed(){zt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var b=this;return(0,p.Z)(function*(){if(yield b.init(),!b.widgetId){let E=b.container;if(!b.isInvisible){const B=document.createElement("div");E.appendChild(B),E=B}b.widgetId=b.getAssertedRecaptcha().render(E,b.parameters)}return b.widgetId})()}init(){var b=this;return(0,p.Z)(function*(){zt(Ye()&&!vr(),b.auth,"internal-error"),yield function di(){let R=null;return new Promise(b=>{"complete"!==document.readyState?(R=()=>b(),window.addEventListener("load",R)):b()}).catch(b=>{throw R&&window.removeEventListener("load",R),b})}(),b.recaptcha=yield b._recaptchaLoader.load(b.auth,b.auth.languageCode||void 0);const E=yield function uo(R){return ec.apply(this,arguments)}(b.auth);zt(E,b.auth,"internal-error"),b.parameters.sitekey=E})()}getAssertedRecaptcha(){return zt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ji{constructor(b,E){this.verificationId=b,this.onConfirmation=E}confirm(b){const E=Ai._fromVerification(this.verificationId,b);return this.onConfirmation(E)}}function Sr(R,b,E){return So.apply(this,arguments)}function So(){return(So=(0,p.Z)(function*(R,b,E){const B=Yi(R),pe=yield Qr(B,b,(0,N.m9)(E));return new ji(pe,Ee=>Fr(B,Ee))})).apply(this,arguments)}function Ur(R,b,E){return Or.apply(this,arguments)}function Or(){return(Or=(0,p.Z)(function*(R,b,E){const B=(0,N.m9)(R);yield nn(!1,B,"phone");const pe=yield Qr(B.auth,b,(0,N.m9)(E));return new ji(pe,Ee=>qi(B,Ee))})).apply(this,arguments)}function Ls(R,b,E){return La.apply(this,arguments)}function La(){return(La=(0,p.Z)(function*(R,b,E){const B=(0,N.m9)(R),pe=yield Qr(B.auth,b,(0,N.m9)(E));return new ji(pe,Ee=>Ql(B,Ee))})).apply(this,arguments)}function Qr(R,b,E){return tc.apply(this,arguments)}function tc(){return(tc=(0,p.Z)(function*(R,b,E){var B;const pe=yield E.verify();try{let Ee;if(zt("string"==typeof pe,R,"argument-error"),zt(E.type===kn,R,"argument-error"),Ee="string"==typeof b?{phoneNumber:b}:b,"session"in Ee){const At=Ee.session;if("phoneNumber"in Ee)return zt("enroll"===At.type,R,"internal-error"),(yield In(R,{idToken:At.credential,phoneEnrollmentInfo:{phoneNumber:Ee.phoneNumber,recaptchaToken:pe}})).phoneSessionInfo.sessionInfo;{zt("signin"===At.type,R,"internal-error");const an=(null===(B=Ee.multiFactorHint)||void 0===B?void 0:B.uid)||Ee.multiFactorUid;return zt(an,R,"missing-multi-factor-info"),(yield Sa(R,{mfaPendingCredential:At.credential,mfaEnrollmentId:an,phoneSignInInfo:{recaptchaToken:pe}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:At}=yield Wr(R,{phoneNumber:Ee.phoneNumber,recaptchaToken:pe});return At}}finally{E._reset()}})).apply(this,arguments)}function jl(R,b){return Z.apply(this,arguments)}function Z(){return(Z=(0,p.Z)(function*(R,b){yield $((0,N.m9)(R),b)})).apply(this,arguments)}let se=(()=>{class R{constructor(E){this.providerId=R.PROVIDER_ID,this.auth=Yi(E)}verifyPhoneNumber(E,B){return Qr(this.auth,E,(0,N.m9)(B))}static credential(E,B){return Ai._fromVerification(E,B)}static credentialFromResult(E){return R.credentialFromTaggedObject(E)}static credentialFromError(E){return R.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{phoneNumber:B,temporaryProof:pe}=E;return B&&pe?Ai._fromTokenResponse(B,pe):null}}return R.PROVIDER_ID="phone",R.PHONE_SIGN_IN_METHOD="phone",R})();function Me(R,b){return b?J(b):(zt(R._popupRedirectResolver,R,"argument-error"),R._popupRedirectResolver)}class at extends Pt{constructor(b){super("custom","custom"),this.params=b}_getIdTokenResponse(b){return As(b,this._buildIdpRequest())}_linkToIdToken(b,E){return As(b,this._buildIdpRequest(E))}_getReauthenticationResolver(b){return As(b,this._buildIdpRequest())}_buildIdpRequest(b){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return b&&(E.idToken=b),E}}function Ft(R){return so(R.auth,new at(R),R.bypassAuthState)}function on(R){const{auth:b,user:E}=R;return zt(E,b,"internal-error"),Er(E,new at(R),R.bypassAuthState)}function xn(R){return $n.apply(this,arguments)}function $n(){return($n=(0,p.Z)(function*(R){const{auth:b,user:E}=R;return zt(E,b,"internal-error"),$(E,new at(R),R.bypassAuthState)})).apply(this,arguments)}class _i{constructor(b,E,B,pe,Ee=!1){this.auth=b,this.resolver=B,this.user=pe,this.bypassAuthState=Ee,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var b=this;return new Promise(function(){var E=(0,p.Z)(function*(B,pe){b.pendingPromise={resolve:B,reject:pe};try{b.eventManager=yield b.resolver._initialize(b.auth),yield b.onExecution(),b.eventManager.registerConsumer(b)}catch(Ee){b.reject(Ee)}});return function(B,pe){return E.apply(this,arguments)}}())}onAuthEvent(b){var E=this;return(0,p.Z)(function*(){const{urlResponse:B,sessionId:pe,postBody:Ee,tenantId:At,error:an,type:Qn}=b;if(an)return void E.reject(an);const Un={auth:E.auth,requestUri:B,sessionId:pe,tenantId:At||void 0,postBody:Ee||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(Qn)(Un))}catch(Si){E.reject(Si)}})()}onError(b){this.reject(b)}getIdpTask(b){switch(b){case"signInViaPopup":case"signInViaRedirect":return Ft;case"linkViaPopup":case"linkViaRedirect":return xn;case"reauthViaPopup":case"reauthViaRedirect":return on;default:It(this.auth,"internal-error")}}resolve(b){Dn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(b),this.unregisterAndCleanUp()}reject(b){Dn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(b),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fi=new Nt(2e3,1e4);function Li(R,b,E){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,p.Z)(function*(R,b,E){const B=Yi(R);$t(R,b,Oo);const pe=Me(B,E);return new Ba(B,"signInViaPopup",b,pe).executeNotNull()})).apply(this,arguments)}function Cs(R,b,E){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,p.Z)(function*(R,b,E){const B=(0,N.m9)(R);$t(B.auth,b,Oo);const pe=Me(B.auth,E);return new Ba(B.auth,"reauthViaPopup",b,pe,B).executeNotNull()})).apply(this,arguments)}function _a(R,b,E){return rl.apply(this,arguments)}function rl(){return(rl=(0,p.Z)(function*(R,b,E){const B=(0,N.m9)(R);$t(B.auth,b,Oo);const pe=Me(B.auth,E);return new Ba(B.auth,"linkViaPopup",b,pe,B).executeNotNull()})).apply(this,arguments)}let Ba=(()=>{class R extends _i{constructor(E,B,pe,Ee,At){super(E,B,Ee,At),this.provider=pe,this.authWindow=null,this.pollId=null,R.currentPopupAction&&R.currentPopupAction.cancel(),R.currentPopupAction=this}executeNotNull(){var E=this;return(0,p.Z)(function*(){const B=yield E.execute();return zt(B,E.auth,"internal-error"),B})()}onExecution(){var E=this;return(0,p.Z)(function*(){Dn(1===E.filter.length,"Popup operations only handle one event");const B=bi();E.authWindow=yield E.resolver._openPopup(E.auth,E.provider,E.filter[0],B),E.authWindow.associatedEvent=B,E.resolver._originValidation(E.auth).catch(pe=>{E.reject(pe)}),E.resolver._isIframeWebStorageSupported(E.auth,pe=>{pe||E.reject(Qt(E.auth,"web-storage-unsupported"))}),E.pollUserCancellation()})()}get eventId(){var E;return(null===(E=this.authWindow)||void 0===E?void 0:E.associatedEvent)||null}cancel(){this.reject(Qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,R.currentPopupAction=null}pollUserCancellation(){const E=()=>{var B,pe;this.pollId=null!==(pe=null===(B=this.authWindow)||void 0===B?void 0:B.window)&&void 0!==pe&&pe.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Qt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(E,Fi.get())};E()}}return R.currentPopupAction=null,R})();const Ta=new Map;class _l extends _i{constructor(b,E,B=!1){super(b,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,B),this.eventId=null}execute(){var b=()=>super.execute,E=this;return(0,p.Z)(function*(){let B=Ta.get(E.auth._key());if(!B){try{const Ee=(yield function Xr(R,b){return Va.apply(this,arguments)}(E.resolver,E.auth))?yield b().call(E):null;B=()=>Promise.resolve(Ee)}catch(pe){B=()=>Promise.reject(pe)}Ta.set(E.auth._key(),B)}return E.bypassAuthState||Ta.set(E.auth._key(),()=>Promise.resolve(null)),B()})()}onAuthEvent(b){var E=()=>super.onAuthEvent,B=this;return(0,p.Z)(function*(){if("signInViaRedirect"===b.type)return E().call(B,b);if("unknown"!==b.type){if(b.eventId){const pe=yield B.auth._redirectUserForId(b.eventId);if(pe)return B.user=pe,E().call(B,b);B.resolve(null)}}else B.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function Va(){return(Va=(0,p.Z)(function*(R,b){const E=ic(b),B=fh(R);if(!(yield B._isAvailable()))return!1;const pe="true"===(yield B._get(E));return yield B._remove(E),pe})).apply(this,arguments)}function yr(R,b){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,p.Z)(function*(R,b){return fh(R)._set(ic(b),"true")})).apply(this,arguments)}function sf(){Ta.clear()}function au(R,b){Ta.set(R._key(),b)}function fh(R){return J(R._redirectPersistence)}function ic(R){return ir("pendingRedirect",R.config.apiKey,R.name)}function Lu(R,b,E){return function Bu(R,b,E){return Md.apply(this,arguments)}(R,b,E)}function Md(){return(Md=(0,p.Z)(function*(R,b,E){const B=Yi(R);$t(R,b,Oo);const pe=Me(B,E);return yield yr(pe,B),pe._openRedirect(B,b,"signInViaRedirect")})).apply(this,arguments)}function af(R,b,E){return function Js(R,b,E){return ph.apply(this,arguments)}(R,b,E)}function ph(){return(ph=(0,p.Z)(function*(R,b,E){const B=(0,N.m9)(R);$t(B.auth,b,Oo);const pe=Me(B.auth,E);yield yr(pe,B.auth);const Ee=yield sl(B);return pe._openRedirect(B.auth,b,"reauthViaRedirect",Ee)})).apply(this,arguments)}function bg(R,b,E){return function dp(R,b,E){return lf.apply(this,arguments)}(R,b,E)}function lf(){return(lf=(0,p.Z)(function*(R,b,E){const B=(0,N.m9)(R);$t(B.auth,b,Oo);const pe=Me(B.auth,E);yield nn(!1,B,b.providerId),yield yr(pe,B.auth);const Ee=yield sl(B);return pe._openRedirect(B.auth,b,"linkViaRedirect",Ee)})).apply(this,arguments)}function hp(R,b){return fp.apply(this,arguments)}function fp(){return(fp=(0,p.Z)(function*(R,b){return yield Yi(R)._initializationPromise,Id(R,b,!1)})).apply(this,arguments)}function Id(R,b){return cf.apply(this,arguments)}function cf(){return(cf=(0,p.Z)(function*(R,b,E=!1){const B=Yi(R),pe=Me(B,b),At=yield new _l(B,pe,E).execute();return At&&!E&&(delete At.user._redirectEventId,yield B._persistUserIfCurrent(At.user),yield B._setRedirectUser(null,b)),At})).apply(this,arguments)}function sl(R){return hs.apply(this,arguments)}function hs(){return(hs=(0,p.Z)(function*(R){const b=bi(`${R.uid}:::`);return R._redirectEventId=b,yield R.auth._setRedirectUser(R),yield R.auth._persistUserIfCurrent(R),b})).apply(this,arguments)}class Ic{constructor(b){this.auth=b,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(b){this.consumers.add(b),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,b)&&(this.sendToConsumer(this.queuedRedirectEvent,b),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(b){this.consumers.delete(b)}onEvent(b){if(this.hasEventBeenHandled(b))return!1;let E=!1;return this.consumers.forEach(B=>{this.isEventForConsumer(b,B)&&(E=!0,this.sendToConsumer(b,B),this.saveEventToCache(b))}),this.hasHandledPotentialRedirect||!function hm(R){switch(R.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rc(R);default:return!1}}(b)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=b,E=!0)),E}sendToConsumer(b,E){var B;if(b.error&&!rc(b)){const pe=(null===(B=b.error.code)||void 0===B?void 0:B.split("auth/")[1])||"internal-error";E.onError(Qt(this.auth,pe))}else E.onAuthEvent(b)}isEventForConsumer(b,E){const B=null===E.eventId||!!b.eventId&&b.eventId===E.eventId;return E.filter.includes(b.type)&&B}hasEventBeenHandled(b){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gh(b))}saveEventToCache(b){this.cachedEventUids.add(gh(b)),this.lastProcessedEventTime=Date.now()}}function gh(R){return[R.type,R.eventId,R.sessionId,R.tenantId].filter(b=>b).join("-")}function rc({type:R,error:b}){return"unknown"===R&&"auth/no-auth-event"===b?.code}function vl(R){return lu.apply(this,arguments)}function lu(){return(lu=(0,p.Z)(function*(R,b={}){return On(R,"GET","/v1/projects",b)})).apply(this,arguments)}const xc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xd=/^https?/;function Vs(){return(Vs=(0,p.Z)(function*(R){if(R.config.emulator)return;const{authorizedDomains:b}=yield vl(R);for(const E of b)try{if(Jo(E))return}catch{}It(R,"unauthorized-domain")})).apply(this,arguments)}function Jo(R){const b=ce(),{protocol:E,hostname:B}=new URL(b);if(R.startsWith("chrome-extension://")){const At=new URL(R);return""===At.hostname&&""===B?"chrome-extension:"===E&&R.replace("chrome-extension://","")===b.replace("chrome-extension://",""):"chrome-extension:"===E&&At.hostname===B}if(!xd.test(E))return!1;if(xc.test(R))return B===R;const pe=R.replace(/\./g,"\\.");return new RegExp("^(.+\\."+pe+"|"+pe+")$","i").test(B)}const kd=new Nt(3e4,6e4);function Vu(){const R=yi().___jsl;if(R?.H)for(const b of Object.keys(R.H))if(R.H[b].r=R.H[b].r||[],R.H[b].L=R.H[b].L||[],R.H[b].r=[...R.H[b].L],R.CP)for(let E=0;E<R.CP.length;E++)R.CP[E]=null}let cu=null;function yl(R){return cu=cu||function uf(R){return new Promise((b,E)=>{var B,pe,Ee;function At(){Vu(),gapi.load("gapi.iframes",{callback:()=>{b(gapi.iframes.getContext())},ontimeout:()=>{Vu(),E(Qt(R,"network-request-failed"))},timeout:kd.get()})}if(null!==(pe=null===(B=yi().gapi)||void 0===B?void 0:B.iframes)&&void 0!==pe&&pe.Iframe)b(gapi.iframes.getContext());else{if(null===(Ee=yi().gapi)||void 0===Ee||!Ee.load){const an=Hl("iframefcb");return yi()[an]=()=>{gapi.load?At():E(Qt(R,"network-request-failed"))},Xs(`https://apis.google.com/js/api.js?onload=${an}`).catch(Qn=>E(Qn))}At()}}).catch(b=>{throw cu=null,b})}(R),cu}const uu=new Nt(5e3,15e3),hf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uu(R){const b=R.config;zt(b.authDomain,R,"auth-domain-config-required");const E=b.emulator?Yt(b,"emulator/auth/iframe"):`https://${R.config.authDomain}/__/auth/iframe`,B={apiKey:b.apiKey,appName:R.name,v:v.SDK_VERSION},pe=vh.get(R.config.apiHost);pe&&(B.eid=pe);const Ee=R._getFrameworks();return Ee.length&&(B.fw=Ee.join(",")),`${E}?${(0,N.xO)(B).slice(1)}`}function ju(){return ju=(0,p.Z)(function*(R){const b=yield yl(R),E=yi().gapi;return zt(E,R,"internal-error"),b.open({where:document.body,url:Uu(R),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hf,dontclear:!0},B=>new Promise(function(){var pe=(0,p.Z)(function*(Ee,At){yield B.restyle({setHideOnLeave:!1});const an=Qt(R,"network-request-failed"),Qn=yi().setTimeout(()=>{At(an)},uu.get());function Un(){yi().clearTimeout(Qn),Ee(B)}B.ping(Un).then(Un,()=>{At(an)})});return function(Ee,At){return pe.apply(this,arguments)}}()))}),ju.apply(this,arguments)}const ff={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ea{constructor(b){this.window=b,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hu(R,b,E,B,pe,Ee){zt(R.config.authDomain,R,"auth-domain-config-required"),zt(R.config.apiKey,R,"invalid-api-key");const At={apiKey:R.config.apiKey,appName:R.name,authType:E,redirectUrl:B,v:v.SDK_VERSION,eventId:pe};if(b instanceof Oo){b.setDefaultLanguage(R.languageCode),At.providerId=b.providerId||"",(0,N.xb)(b.getCustomParameters())||(At.customParameters=JSON.stringify(b.getCustomParameters()));for(const[Qn,Un]of Object.entries(Ee||{}))At[Qn]=Un}if(b instanceof Rs){const Qn=b.getScopes().filter(Un=>""!==Un);Qn.length>0&&(At.scopes=Qn.join(","))}R.tenantId&&(At.tid=R.tenantId);const an=At;for(const Qn of Object.keys(an))void 0===an[Qn]&&delete an[Qn];return`${function Cg({config:R}){return R.emulator?Yt(R,"emulator/auth/handler"):`https://${R.authDomain}/__/auth/handler`}(R)}?${(0,N.xO)(an).slice(1)}`}const pp="webStorageSupport",fu=class ns{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qo,this._completeRedirectFn=Id,this._overrideRedirectResult=au}_openPopup(b,E,B,pe){var Ee=this;return(0,p.Z)(function*(){var At;Dn(null===(At=Ee.eventManagers[b._key()])||void 0===At?void 0:At.manager,"_initialize() not called before _openPopup()");const an=hu(b,E,B,ce(),pe);return function $l(R,b,E,B=500,pe=600){const Ee=Math.max((window.screen.availHeight-pe)/2,0).toString(),At=Math.max((window.screen.availWidth-B)/2,0).toString();let an="";const Qn=Object.assign(Object.assign({},ff),{width:B.toString(),height:pe.toString(),top:Ee,left:At}),Un=(0,N.z$)().toLowerCase();E&&(an=js(Un)?"_blank":E),rs(Un)&&(b=b||"http://localhost",Qn.scrollbars="yes");const Si=Object.entries(Qn).reduce((br,[ms,mo])=>`${br}${ms}=${mo},`,"");if(function lr(R=(0,N.z$)()){var b;return Br(R)&&!(null===(b=window.navigator)||void 0===b||!b.standalone)}(Un)&&"_self"!==an)return function ol(R,b){const E=document.createElement("a");E.href=R,E.target=b;const B=document.createEvent("MouseEvent");B.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(B)}(b||"",an),new ea(null);const mi=window.open(b||"",an,Si);zt(mi,R,"popup-blocked");try{mi.focus()}catch{}return new ea(mi)}(b,an,bi())})()}_openRedirect(b,E,B,pe){var Ee=this;return(0,p.Z)(function*(){return yield Ee._originValidation(b),function lo(R){yi().location.href=R}(hu(b,E,B,ce(),pe)),new Promise(()=>{})})()}_initialize(b){const E=b._key();if(this.eventManagers[E]){const{manager:pe,promise:Ee}=this.eventManagers[E];return pe?Promise.resolve(pe):(Dn(Ee,"If manager is not set, promise should be"),Ee)}const B=this.initAndGetManager(b);return this.eventManagers[E]={promise:B},B.catch(()=>{delete this.eventManagers[E]}),B}initAndGetManager(b){var E=this;return(0,p.Z)(function*(){const B=yield function Hu(R){return ju.apply(this,arguments)}(b),pe=new Ic(b);return B.register("authEvent",Ee=>(zt(Ee?.authEvent,b,"invalid-auth-event"),{status:pe.onEvent(Ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[b._key()]={manager:pe},E.iframes[b._key()]=B,pe})()}_isIframeWebStorageSupported(b,E){this.iframes[b._key()].send(pp,{type:pp},pe=>{var Ee;const At=null===(Ee=pe?.[0])||void 0===Ee?void 0:Ee[pp];void 0!==At&&E(!!At),It(b,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(b){const E=b._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function Ad(R){return Vs.apply(this,arguments)}(b)),this.originValidationPromises[E]}get _shouldInitProactively(){return Rr()||$i()||Br()}};class Ua extends class al{constructor(b){this.factorId=b}_process(b,E,B){switch(E.type){case"enroll":return this._finalizeEnroll(b,E.credential,B);case"signin":return this._finalizeSignIn(b,E.credential);default:return Gn("unexpected MultiFactorSessionType")}}}{constructor(b){super("phone"),this.credential=b}static _fromCredential(b){return new Ua(b)}_finalizeEnroll(b,E,B){return function xr(R,b){return On(R,"POST","/v2/accounts/mfaEnrollment:finalize",ni(R,b))}(b,{idToken:E,displayName:B,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(b,E){return function Eo(R,b){return On(R,"POST","/v2/accounts/mfaSignIn:finalize",ni(R,b))}(b,{mfaPendingCredential:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let mf=(()=>{class R{constructor(){}static assertion(E){return Ua._fromCredential(E)}}return R.FACTOR_ID="phone",R})();var pu="@firebase/auth",Pd="0.20.11";class gf{constructor(b){this.auth=b,this.internalListeners=new Map}getUid(){var b;return this.assertAuthConfigured(),(null===(b=this.auth.currentUser)||void 0===b?void 0:b.uid)||null}getToken(b){var E=this;return(0,p.Z)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(b)}:null})()}addAuthTokenListener(b){if(this.assertAuthConfigured(),this.internalListeners.has(b))return;const E=this.auth.onIdTokenChanged(B=>{var pe;b((null===(pe=B)||void 0===pe?void 0:pe.stsTokenManager.accessToken)||null)});this.internalListeners.set(b,E),this.updateProactiveRefresh()}removeAuthTokenListener(b){this.assertAuthConfigured();const E=this.internalListeners.get(b);!E||(this.internalListeners.delete(b),E(),this.updateProactiveRefresh())}assertAuthConfigured(){zt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,N.Pz)("authIdTokenMaxAge"),function va(R){(0,v._registerComponent)(new bn.wA("auth",(b,{options:E})=>{const B=b.getProvider("app").getImmediate(),pe=b.getProvider("heartbeat"),{apiKey:Ee,authDomain:At}=B.options;return((an,Qn)=>{zt(Ee&&!Ee.includes(":"),"invalid-api-key",{appName:an.name}),zt(!At?.includes(":"),"argument-error",{appName:an.name});const Un={apiKey:Ee,authDomain:At,clientPlatform:R,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ao(R)},Si=new gs(an,Qn,Un);return function Pe(R,b){const E=b?.persistence||[],B=(Array.isArray(E)?E:[E]).map(J);b?.errorMap&&R._updateErrorMap(b.errorMap),R._initializeWithPersistence(B,b?.popupRedirectResolver)}(Si,E),Si})(B,pe)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((b,E,B)=>{b.getProvider("auth-internal").initialize()})),(0,v._registerComponent)(new bn.wA("auth-internal",b=>{const E=Yi(b.getProvider("auth").getImmediate());return new gf(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,v.registerVersion)(pu,Pd,function Ac(R){switch(R){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(R)),(0,v.registerVersion)(pu,Pd,"esm2017")}("Browser")},2090:(gn,_t,x)=>{"use strict";x.d(_t,{$s:()=>st,BH:()=>Vn,DV:()=>zt,Dv:()=>Dt,G6:()=>et,GJ:()=>$t,L:()=>he,LL:()=>Be,Pz:()=>ai,Sg:()=>rn,UG:()=>Je,UI:()=>Dn,US:()=>te,Wj:()=>On,Wl:()=>en,Yr:()=>vt,ZB:()=>me,ZR:()=>ke,aH:()=>jn,b$:()=>ht,cI:()=>Tt,dS:()=>Tn,eu:()=>ft,g5:()=>v,gK:()=>oi,gQ:()=>be,h$:()=>we,hl:()=>Le,hu:()=>N,jU:()=>Fe,lb:()=>Ii,m9:()=>Gt,ne:()=>We,p$:()=>ae,pd:()=>Ye,r3:()=>wn,ru:()=>ot,tV:()=>Se,uI:()=>Ue,ug:()=>Wt,vZ:()=>pt,w1:()=>ut,w9:()=>Mt,xO:()=>Pe,xb:()=>Gn,z$:()=>Ie,zI:()=>tt,zd:()=>ce});const N=function(ge,j){if(!ge)throw v(j)},v=function(ge){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+ge)},ne=function(ge){const j=[];let G=0;for(let X=0;X<ge.length;X++){let K=ge.charCodeAt(X);K<128?j[G++]=K:K<2048?(j[G++]=K>>6|192,j[G++]=63&K|128):55296==(64512&K)&&X+1<ge.length&&56320==(64512&ge.charCodeAt(X+1))?(K=65536+((1023&K)<<10)+(1023&ge.charCodeAt(++X)),j[G++]=K>>18|240,j[G++]=K>>12&63|128,j[G++]=K>>6&63|128,j[G++]=63&K|128):(j[G++]=K>>12|224,j[G++]=K>>6&63|128,j[G++]=63&K|128)}return j},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ge,j){if(!Array.isArray(ge))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,X=[];for(let K=0;K<ge.length;K+=3){const fe=ge[K],Qe=K+1<ge.length,Ct=Qe?ge[K+1]:0,dn=K+2<ge.length,pn=dn?ge[K+2]:0;let Ve=(15&Ct)<<2|pn>>6,je=63&pn;dn||(je=64,Qe||(Ve=64)),X.push(G[fe>>2],G[(3&fe)<<4|Ct>>4],G[Ve],G[je])}return X.join("")},encodeString(ge,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(ge):this.encodeByteArray(ne(ge),j)},decodeString(ge,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(ge):function(ge){const j=[];let G=0,X=0;for(;G<ge.length;){const K=ge[G++];if(K<128)j[X++]=String.fromCharCode(K);else if(K>191&&K<224){const fe=ge[G++];j[X++]=String.fromCharCode((31&K)<<6|63&fe)}else if(K>239&&K<365){const dn=((7&K)<<18|(63&ge[G++])<<12|(63&ge[G++])<<6|63&ge[G++])-65536;j[X++]=String.fromCharCode(55296+(dn>>10)),j[X++]=String.fromCharCode(56320+(1023&dn))}else{const fe=ge[G++],Qe=ge[G++];j[X++]=String.fromCharCode((15&K)<<12|(63&fe)<<6|63&Qe)}}return j.join("")}(this.decodeStringToByteArray(ge,j))},decodeStringToByteArray(ge,j){this.init_();const G=j?this.charToByteMapWebSafe_:this.charToByteMap_,X=[];for(let K=0;K<ge.length;){const fe=G[ge.charAt(K++)],Ct=K<ge.length?G[ge.charAt(K)]:0;++K;const pn=K<ge.length?G[ge.charAt(K)]:64;++K;const He=K<ge.length?G[ge.charAt(K)]:64;if(++K,null==fe||null==Ct||null==pn||null==He)throw Error();X.push(fe<<2|Ct>>4),64!==pn&&(X.push(Ct<<4&240|pn>>2),64!==He&&X.push(pn<<6&192|He))}return X},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ge=0;ge<this.ENCODED_VALS.length;ge++)this.byteToCharMap_[ge]=this.ENCODED_VALS.charAt(ge),this.charToByteMap_[this.byteToCharMap_[ge]]=ge,this.byteToCharMapWebSafe_[ge]=this.ENCODED_VALS_WEBSAFE.charAt(ge),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ge]]=ge,ge>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ge)]=ge,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ge)]=ge)}}},we=function(ge){const j=ne(ge);return te.encodeByteArray(j,!0)},he=function(ge){return we(ge).replace(/\./g,"")},Se=function(ge){try{return te.decodeString(ge,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function ae(ge){return me(void 0,ge)}function me(ge,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===ge&&(ge={});break;case Array:ge=[];break;default:return j}for(const G in j)!j.hasOwnProperty(G)||!ye(G)||(ge[G]=me(ge[G],j[G]));return ge}function ye(ge){return"__proto__"!==ge}function Ie(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ie())}function Je(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Fe(){return"object"==typeof self&&self.self===self}function ot(){const ge="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ge&&void 0!==ge.id}function ht(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ut(){const ge=Ie();return ge.indexOf("MSIE ")>=0||ge.indexOf("Trident/")>=0}function vt(){return!1}function et(){return!Je()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Le(){return"object"==typeof indexedDB}function ft(){return new Promise((ge,j)=>{try{let G=!0;const X="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(X);K.onsuccess=()=>{K.result.close(),G||self.indexedDB.deleteDatabase(X),ge(!0)},K.onupgradeneeded=()=>{G=!1},K.onerror=()=>{var fe;j((null===(fe=K.error)||void 0===fe?void 0:fe.message)||"")}}catch(G){j(G)}})}function tt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Bt=()=>{try{return function qe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ge=process.env.__FIREBASE_DEFAULTS__;return ge?JSON.parse(ge):void 0})()||(()=>{if(typeof document>"u")return;let ge;try{ge=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=ge&&Se(ge[1]);return j&&JSON.parse(j)})()}catch(ge){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ge}`)}},jn=()=>{var ge;return null===(ge=Bt())||void 0===ge?void 0:ge.config},ai=ge=>{var j;return null===(j=Bt())||void 0===j?void 0:j[`_${ge}`]};class Vn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,G)=>{this.resolve=j,this.reject=G})}wrapCallback(j){return(G,X)=>{G?this.reject(G):this.resolve(X),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(G):j(G,X))}}}function rn(ge,j){if(ge.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const X=j||"demo-project",K=ge.iat||0,fe=ge.sub||ge.user_id;if(!fe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Qe=Object.assign({iss:`https://securetoken.google.com/${X}`,aud:X,iat:K,exp:K+3600,auth_time:K,sub:fe,user_id:fe,firebase:{sign_in_provider:"custom",identities:{}}},ge);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(Qe)),""].join(".")}class ke extends Error{constructor(j,G,X){super(G),this.code=j,this.customData=X,this.name="FirebaseError",Object.setPrototypeOf(this,ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Be.prototype.create)}}class Be{constructor(j,G,X){this.service=j,this.serviceName=G,this.errors=X}create(j,...G){const X=G[0]||{},K=`${this.service}/${j}`,fe=this.errors[j],Qe=fe?function Ne(ge,j){return ge.replace(Ke,(G,X)=>{const K=j[X];return null!=K?String(K):`<${X}?>`})}(fe,X):"Error";return new ke(K,`${this.serviceName}: ${Qe} (${K}).`,X)}}const Ke=/\{\$([^}]+)}/g;function Tt(ge){return JSON.parse(ge)}function en(ge){return JSON.stringify(ge)}const Ln=function(ge){let j={},G={},X={},K="";try{const fe=ge.split(".");j=Tt(Se(fe[0])||""),G=Tt(Se(fe[1])||""),K=fe[2],X=G.d||{},delete G.d}catch{}return{header:j,claims:G,data:X,signature:K}},Mt=function(ge){const G=Ln(ge).claims;return!!G&&"object"==typeof G&&G.hasOwnProperty("iat")},$t=function(ge){const j=Ln(ge).claims;return"object"==typeof j&&!0===j.admin};function wn(ge,j){return Object.prototype.hasOwnProperty.call(ge,j)}function zt(ge,j){if(Object.prototype.hasOwnProperty.call(ge,j))return ge[j]}function Gn(ge){for(const j in ge)if(Object.prototype.hasOwnProperty.call(ge,j))return!1;return!0}function Dn(ge,j,G){const X={};for(const K in ge)Object.prototype.hasOwnProperty.call(ge,K)&&(X[K]=j.call(G,ge[K],K,ge));return X}function pt(ge,j){if(ge===j)return!0;const G=Object.keys(ge),X=Object.keys(j);for(const K of G){if(!X.includes(K))return!1;const fe=ge[K],Qe=j[K];if(J(fe)&&J(Qe)){if(!pt(fe,Qe))return!1}else if(fe!==Qe)return!1}for(const K of X)if(!G.includes(K))return!1;return!0}function J(ge){return null!==ge&&"object"==typeof ge}function Pe(ge){const j=[];for(const[G,X]of Object.entries(ge))Array.isArray(X)?X.forEach(K=>{j.push(encodeURIComponent(G)+"="+encodeURIComponent(K))}):j.push(encodeURIComponent(G)+"="+encodeURIComponent(X));return j.length?"&"+j.join("&"):""}function ce(ge){const j={};return ge.replace(/^\?/,"").split("&").forEach(X=>{if(X){const[K,fe]=X.split("=");j[decodeURIComponent(K)]=decodeURIComponent(fe)}}),j}function Ye(ge){const j=ge.indexOf("?");if(!j)return"";const G=ge.indexOf("#",j);return ge.substring(j,G>0?G:void 0)}class be{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let j=1;j<this.blockSize;++j)this.pad_[j]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(j,G){G||(G=0);const X=this.W_;if("string"==typeof j)for(let He=0;He<16;He++)X[He]=j.charCodeAt(G)<<24|j.charCodeAt(G+1)<<16|j.charCodeAt(G+2)<<8|j.charCodeAt(G+3),G+=4;else for(let He=0;He<16;He++)X[He]=j[G]<<24|j[G+1]<<16|j[G+2]<<8|j[G+3],G+=4;for(let He=16;He<80;He++){const Ve=X[He-3]^X[He-8]^X[He-14]^X[He-16];X[He]=4294967295&(Ve<<1|Ve>>>31)}let pn,ze,K=this.chain_[0],fe=this.chain_[1],Qe=this.chain_[2],Ct=this.chain_[3],dn=this.chain_[4];for(let He=0;He<80;He++){He<40?He<20?(pn=Ct^fe&(Qe^Ct),ze=1518500249):(pn=fe^Qe^Ct,ze=1859775393):He<60?(pn=fe&Qe|Ct&(fe|Qe),ze=2400959708):(pn=fe^Qe^Ct,ze=3395469782);const Ve=(K<<5|K>>>27)+pn+dn+ze+X[He]&4294967295;dn=Ct,Ct=Qe,Qe=4294967295&(fe<<30|fe>>>2),fe=K,K=Ve}this.chain_[0]=this.chain_[0]+K&4294967295,this.chain_[1]=this.chain_[1]+fe&4294967295,this.chain_[2]=this.chain_[2]+Qe&4294967295,this.chain_[3]=this.chain_[3]+Ct&4294967295,this.chain_[4]=this.chain_[4]+dn&4294967295}update(j,G){if(null==j)return;void 0===G&&(G=j.length);const X=G-this.blockSize;let K=0;const fe=this.buf_;let Qe=this.inbuf_;for(;K<G;){if(0===Qe)for(;K<=X;)this.compress_(j,K),K+=this.blockSize;if("string"==typeof j){for(;K<G;)if(fe[Qe]=j.charCodeAt(K),++Qe,++K,Qe===this.blockSize){this.compress_(fe),Qe=0;break}}else for(;K<G;)if(fe[Qe]=j[K],++Qe,++K,Qe===this.blockSize){this.compress_(fe),Qe=0;break}}this.inbuf_=Qe,this.total_+=G}digest(){const j=[];let G=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let K=this.blockSize-1;K>=56;K--)this.buf_[K]=255&G,G/=256;this.compress_(this.buf_);let X=0;for(let K=0;K<5;K++)for(let fe=24;fe>=0;fe-=8)j[X]=this.chain_[K]>>fe&255,++X;return j}}function We(ge,j){const G=new Ut(ge,j);return G.subscribe.bind(G)}class Ut{constructor(j,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{j(this)}).catch(X=>{this.error(X)})}next(j){this.forEachObserver(G=>{G.next(j)})}error(j){this.forEachObserver(G=>{G.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,G,X){let K;if(void 0===j&&void 0===G&&void 0===X)throw new Error("Missing Observer.");K=function Yt(ge,j){if("object"!=typeof ge||null===ge)return!1;for(const G of j)if(G in ge&&"function"==typeof ge[G])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:G,complete:X},void 0===K.next&&(K.next=Sn),void 0===K.error&&(K.error=Sn),void 0===K.complete&&(K.complete=Sn);const fe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),fe}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,j)}sendOne(j,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{G(this.observers[j])}catch(X){typeof console<"u"&&console.error&&console.error(X)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sn(){}const Dt=function(ge,j,G,X){let K;if(X<j?K="at least "+j:X>G&&(K=0===G?"none":"no more than "+G),K)throw new Error(ge+" failed: Was called with "+X+(1===X?" argument.":" arguments.")+" Expects "+K+".")};function oi(ge,j){return`${ge} failed: ${j} argument `}function On(ge,j,G,X){if((!X||G)&&"function"!=typeof G)throw new Error(oi(ge,j)+"must be a valid function.")}function Ii(ge,j,G,X){if((!X||G)&&("object"!=typeof G||null===G))throw new Error(oi(ge,j)+"must be a valid context object.")}const Tn=function(ge){const j=[];let G=0;for(let X=0;X<ge.length;X++){let K=ge.charCodeAt(X);if(K>=55296&&K<=56319){const fe=K-55296;X++,N(X<ge.length,"Surrogate pair missing trail surrogate."),K=65536+(fe<<10)+(ge.charCodeAt(X)-56320)}K<128?j[G++]=K:K<2048?(j[G++]=K>>6|192,j[G++]=63&K|128):K<65536?(j[G++]=K>>12|224,j[G++]=K>>6&63|128,j[G++]=63&K|128):(j[G++]=K>>18|240,j[G++]=K>>12&63|128,j[G++]=K>>6&63|128,j[G++]=63&K|128)}return j},Wt=function(ge){let j=0;for(let G=0;G<ge.length;G++){const X=ge.charCodeAt(G);X<128?j++:X<2048?j+=2:X>=55296&&X<=56319?(j+=4,G++):j+=3}return j};function st(ge,j=1e3,G=2){const X=j*Math.pow(G,ge),K=Math.round(.5*X*(Math.random()-.5)*2);return Math.min(144e5,X+K)}function Gt(ge){return ge&&ge._delegate?ge._delegate:ge}},2666:(gn,_t,x)=>{"use strict";x.r(_t),x.d(_t,{LayoutModule:()=>Pe});var p=x(6895),N=x(7868),v=x(4650),ne=x(2654),C=x(6053),te=x(4006),we=x(9444),he=x(5938),Se=x(2796),ae=x(591),me=x(8929),ye=x(4850),Ie=x(4941),Ue=x(986),Je=x(7185);let Fe=(()=>{class ce{constructor(be,We,Ut,Nt){this.afs=be,this.afAuth=We,this.authService=Ut,this.toastr=Nt,this.userId=this.authService.getUid(),this.searchItem=new ae.X(""),this.taskItem$=new me.xQ,this.taskFiltered$=new me.xQ}addTask(be){return new Promise((We,Ut)=>{this.getTasks().subscribe(Nt=>{Nt.unshift(be),this.afs.doc(`users/${this.userId}`).set({tasks:Nt},{mergeFields:["tasks"]}).then(()=>We()).catch(()=>Ut())})})}doneTask(be,We){return new Promise((Ut,Nt)=>{this.getTasks().subscribe(Yt=>{const Sn=Yt.find(oi=>oi.id===be);Sn&&(Sn.isDone=We),this.afs.doc(`users/${this.userId}`).set({tasks:Yt},{mergeFields:["tasks"]}).then(()=>Ut()).catch(()=>Nt())})})}updateTask(be,We,Ut){return new Promise((Nt,Yt)=>{this.getTasks().subscribe(Sn=>{const Dt=Sn.find(ni=>ni.id===be);Dt&&We&&(Dt.title=We),Dt&&Ut&&(Dt.description=Ut),this.afs.doc(`users/${this.userId}`).set({tasks:Sn},{mergeFields:["tasks"]}).then(()=>Nt()).catch(()=>Yt())})})}getLiveTasks(){return this.afs.doc(`users/${this.userId}`).snapshotChanges().pipe((0,ye.U)(be=>be.payload.data().tasks?be.payload.data().tasks:[]))}updateAll(be){return new Promise((We,Ut)=>{this.afs.doc(`users/${this.userId}`).set({tasks:be},{mergeFields:["tasks"]}).then(()=>We()).catch(()=>Ut())})}getTasks(){return this.afs.doc(`users/${this.userId}`).get({source:"default"}).pipe((0,ye.U)(We=>We.data().tasks?We.data().tasks:[]))}search(be){return this.searchItem.next(be)}removeTask(be){return new Promise((We,Ut)=>{this.getTasks().subscribe(Nt=>{Nt=Nt.filter(Sn=>Sn.id!==be),this.afs.doc(`users/${this.userId}`).set({tasks:Nt},{mergeFields:["tasks"]}).then(()=>We()).catch(()=>Ut())})})}bookMarkTask(be,We){return new Promise((Ut,Nt)=>{this.getTasks().subscribe(Yt=>{const Sn=Yt.find(oi=>oi.id===be);Sn&&(Sn.isBookmark=We),this.afs.doc(`users/${this.userId}`).set({tasks:Yt},{mergeFields:["tasks"]}).then(()=>Ut()).catch(()=>Nt())})})}setTask(be){this.taskItem$.next(be)}setTaskFiltered(be){this.taskFiltered$.next(be)}}return ce.\u0275fac=function(be){return new(be||ce)(v.LFG(Se.ST),v.LFG(Ie.zQ),v.LFG(Ue.e),v.LFG(Je._W))},ce.\u0275prov=v.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();var ot=x(9101),ht=x(9549),jt=x(4144);const ut=function(ce){return{color:ce,fontsize:"12px"}};function kt(ce,Ye){if(1&ce&&(v.TgZ(0,"mat-label",0),v._uU(1),v.qZA()),2&ce){const be=v.oxw();v.Q6J("ngStyle",v.VKq(2,ut,be.labelColor)),v.xp6(1),v.Oqu(be.label)}}function vt(ce,Ye){if(1&ce&&(v.TgZ(0,"mat-error"),v._uU(1),v.qZA()),2&ce){const be=v.oxw();v.xp6(1),v.Oqu(be.getErrorMessages(null==be.formControl?null:be.formControl.errors))}}const et=function(ce){return{"font-size":ce}};let Le=(()=>{class ce{constructor(be){this._renderer=be,this.formControl=new te.NI,this.fontSizePx="12",this.name="",this.label="",this.appearance="outline",this.labelColor="#484848",this.borderDefaultColor="#e2e2e2",this.borderSelectColor="blue",this.disabledBackgroundColor="#f8f8f8",this.borderWidthPx="1",this.required=!1,this.withLabel=!0,this.placeholder="",this.showUnderlineErrorContainer=!0,this.isDisabled=!1,this.errorMessages={}}writeValue(be){this.matInputValue=be}registerOnChange(be){this.onMatInputChange=be}registerOnTouched(be){this.onInputClicked=be}setDisabledState(be){this.isDisabled=be}onMatInputChange(be){this.matInputValue=be}onInputClicked(be){}getErrorMessages(be){return this.errorMessages[Object.keys(be)[0]]}ngAfterViewInit(){let be=document.querySelector("."+this.name+" .mat-form-field-appearance-outline .mat-form-field-outline");this._renderer.setStyle(be,"color",this.borderDefaultColor),be=document.querySelector("."+this.name+" .mat-form-field-appearance-outline .mat-form-field-outline-thick"),this._renderer.setStyle(be,"color",this.borderDefaultColor),document.querySelectorAll("."+this.name+" .mat-form-field-flex .mat-form-field-outline *").forEach(Ut=>{this._renderer.setStyle(Ut,"border-width",this.borderWidthPx+"px")}),be=document.querySelector("."+this.name+" .mat-form-field-wrapper"),!this.showUnderlineErrorContainer&&this._renderer.setStyle(be,"padding-bottom","0px")}ngAfterViewChecked(){let be=document.querySelector("."+this.name+" .mat-form-field-appearance-outline.ng-invalid.ng-touched .mat-form-field-outline-thick");if(be&&this._renderer.setStyle(be,"opacity",1),be&&this._renderer.setStyle(be,"color",this.borderDefaultColor,v.JOm.Important),be=document.querySelector("."+this.name+" .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick"),be&&this._renderer.setStyle(be,"color",this.borderSelectColor),be=document.querySelector("."+this.name+" .mat-form-field-appearance-outline.ng-valid.ng-touched .mat-form-field-outline-thick"),be&&this._renderer.setStyle(be,"opacity",1),be&&this._renderer.setStyle(be,"color",this.borderDefaultColor,v.JOm.Important),this.isDisabled){document.querySelectorAll("."+this.name+" .mat-form-field-flex .mat-form-field-outline *").forEach(Nt=>{this._renderer.setStyle(Nt,"background-color",this.disabledBackgroundColor)});const Ut=document.querySelector("."+this.name+" .mat-form-field-appearance-outline .mat-input-element:disabled");this._renderer.setStyle(Ut,"color","unset")}}ngOnInit(){}ngOnDestroy(){}}return ce.\u0275fac=function(be){return new(be||ce)(v.Y36(v.Qsj))},ce.\u0275cmp=v.Xpm({type:ce,selectors:[["app-custom-input"]],inputs:{formControl:"formControl",fontSizePx:"fontSizePx",name:"name",label:"label",appearance:"appearance",labelColor:"labelColor",borderDefaultColor:"borderDefaultColor",borderSelectColor:"borderSelectColor",disabledBackgroundColor:"disabledBackgroundColor",borderWidthPx:"borderWidthPx",required:"required",withLabel:"withLabel",placeholder:"placeholder",showUnderlineErrorContainer:"showUnderlineErrorContainer",isDisabled:"isDisabled",errorMessages:"errorMessages"},features:[v._Bn([{provide:te.JU,useExisting:(0,v.Gpc)(()=>ce),multi:!0}])],decls:6,vars:13,consts:[[3,"ngStyle"],[2,"width","100%",3,"appearance"],[3,"ngStyle",4,"ngIf"],["matInput","","type","text",3,"placeholder","value","formControl","required","disabled","change","click"],[4,"ngIf"]],template:function(be,We){1&be&&(v.TgZ(0,"div")(1,"div",0)(2,"mat-form-field",1),v.YNc(3,kt,2,4,"mat-label",2),v.TgZ(4,"input",3),v.NdJ("change",function(Nt){return We.onMatInputChange(Nt.target.value)})("click",function(Nt){return We.onInputClicked(Nt)}),v.qZA(),v.YNc(5,vt,2,1,"mat-error",4),v.qZA()()()),2&be&&(v.Tol(We.name),v.xp6(1),v.Q6J("ngStyle",v.VKq(11,et,We.fontSizePx+"px")),v.xp6(1),v.Q6J("appearance",We.appearance),v.xp6(1),v.Q6J("ngIf",We.withLabel),v.xp6(1),v.Q6J("placeholder",We.placeholder)("value",We.matInputValue)("formControl",We.formControl)("required",We.required)("disabled",We.isDisabled),v.xp6(1),v.Q6J("ngIf",null==We.formControl?null:We.formControl.errors))},dependencies:[p.O5,p.PC,te.Fj,te.JJ,te.Q7,te.oH,ht.TO,ht.KE,ht.hX,jt.Nt],styles:[".mat-form-field-appearance-outline.mat-focused .mat-form-field-label{transform:translateY(-1.29375em) scale(.75)!important;top:1.70375em}  .mat-form-field-flex .mat-form-field-infix{padding:.4em 0 .7em}  .mat-form-field-flex .mat-form-field-infix input{margin-right:5px;height:100%}  .mat-form-field-flex .mat-form-field-infix input::-moz-placeholder{color:currentColor}  .mat-form-field-flex .mat-form-field-infix input::placeholder{color:currentColor}  .mat-form-field-flex .mat-form-field-infix .mat-form-field-label{font-size:inherit;top:1.40375em;transform:translateY(-1.29375em) scale(.75)!important}  .mat-form-field-flex .mat-form-field-infix .mat-form-field-label span{margin-left:3px;color:#f44336;font-size:16px}  .mat-form-field-appearance-outline.mat-form-field-hide-placeholder .mat-form-field-label{transform:none!important;transform:initial!important}  .mat-form-field-wrapper{padding-bottom:0}  mat-label{font-size:16px!important;color:var(--text-color)!important}input[_ngcontent-%COMP%]{color:var(--text-color)!important}"]}),ce})();const ft=function(ce){return{color:ce}};function tt(ce,Ye){if(1&ce&&(v.TgZ(0,"mat-label",0),v._uU(1),v.qZA()),2&ce){const be=v.oxw();v.Q6J("ngStyle",v.VKq(2,ft,be.labelColor)),v.xp6(1),v.Oqu(be.label)}}function qe(ce,Ye){if(1&ce&&(v.TgZ(0,"mat-error"),v._uU(1),v.qZA()),2&ce){const be=v.oxw();v.xp6(1),v.Oqu(be.getErrorMessages(null==be.formControl?null:be.formControl.errors))}}const Lt=function(ce){return{"font-size":ce}};let Ge=(()=>{class ce{constructor(be){this._renderer=be,this.formControl=new te.NI,this.fontSizePx="14",this.name="",this.label="",this.appearance="outline",this.labelColor="#484848",this.borderDefaultColor="#e2e2e2",this.borderSelectColor="blue",this.disabledBackgroundColor="#f8f8f8",this.borderWidthPx="1",this.required=!1,this.withLabel=!0,this.placeholder="",this.showUnderlineErrorContainer=!0,this.isDisabled=!1,this.errorMessages={}}writeValue(be){this.matInputValue=be}registerOnChange(be){this.onMatInputChange=be}registerOnTouched(be){this.onInputClicked=be}setDisabledState(be){this.isDisabled=be}onMatInputChange(be){this.matInputValue=be}onInputClicked(be){}getErrorMessages(be){return this.errorMessages[Object.keys(be)[0]]}ngAfterViewInit(){let be=document.querySelector("."+this.name+" .mat-form-field-appearance-outline .mat-form-field-outline");this._renderer.setStyle(be,"color",this.borderDefaultColor),be=document.querySelector("."+this.name+" .mat-form-field-appearance-outline .mat-form-field-outline-thick"),this._renderer.setStyle(be,"color",this.borderDefaultColor),document.querySelectorAll("."+this.name+" .mat-form-field-flex .mat-form-field-outline *").forEach(Ut=>{this._renderer.setStyle(Ut,"border-width",this.borderWidthPx+"px")}),be=document.querySelector("."+this.name+" .mat-form-field-wrapper"),!this.showUnderlineErrorContainer&&this._renderer.setStyle(be,"padding-bottom","0px")}ngAfterViewChecked(){let be;if(be=document.querySelector("."+this.name+" .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick"),be&&this._renderer.setStyle(be,"color",this.borderSelectColor),this.isDisabled){document.querySelectorAll("."+this.name+" .mat-form-field-flex .mat-form-field-outline *").forEach(Nt=>{this._renderer.setStyle(Nt,"background-color",this.disabledBackgroundColor)});const Ut=document.querySelector("."+this.name+" .mat-form-field-appearance-outline .mat-input-element:disabled");this._renderer.setStyle(Ut,"color","unset")}}ngOnInit(){}ngOnDestroy(){}}return ce.\u0275fac=function(be){return new(be||ce)(v.Y36(v.Qsj))},ce.\u0275cmp=v.Xpm({type:ce,selectors:[["app-custom-text-area"]],inputs:{formControl:"formControl",fontSizePx:"fontSizePx",name:"name",label:"label",appearance:"appearance",labelColor:"labelColor",borderDefaultColor:"borderDefaultColor",borderSelectColor:"borderSelectColor",disabledBackgroundColor:"disabledBackgroundColor",borderWidthPx:"borderWidthPx",required:"required",withLabel:"withLabel",placeholder:"placeholder",showUnderlineErrorContainer:"showUnderlineErrorContainer",isDisabled:"isDisabled",errorMessages:"errorMessages"},features:[v._Bn([{provide:te.JU,useExisting:(0,v.Gpc)(()=>ce),multi:!0}])],decls:7,vars:13,consts:[[3,"ngStyle"],[2,"width","100%","height","130px",3,"appearance"],[3,"ngStyle",4,"ngIf"],["matInput","","type","text",3,"placeholder","value","formControl","required","disabled","change","click"],[4,"ngIf"]],template:function(be,We){1&be&&(v.TgZ(0,"div")(1,"div",0)(2,"mat-form-field",1),v.YNc(3,tt,2,4,"mat-label",2),v.TgZ(4,"textarea",3),v.NdJ("change",function(Nt){return We.onMatInputChange(Nt.target.value)})("click",function(Nt){return We.onInputClicked(Nt)}),v._uU(5,"            "),v.qZA(),v.YNc(6,qe,2,1,"mat-error",4),v.qZA()()()),2&be&&(v.Tol(We.name),v.xp6(1),v.Q6J("ngStyle",v.VKq(11,Lt,We.fontSizePx+"px")),v.xp6(1),v.Q6J("appearance",We.appearance),v.xp6(1),v.Q6J("ngIf",We.withLabel),v.xp6(1),v.Q6J("placeholder",We.placeholder)("value",We.matInputValue)("formControl",We.formControl)("required",We.required)("disabled",We.isDisabled),v.xp6(2),v.Q6J("ngIf",null==We.formControl?null:We.formControl.errors))},dependencies:[p.O5,p.PC,te.Fj,te.JJ,te.Q7,te.oH,ht.TO,ht.KE,ht.hX,jt.Nt],styles:[".mat-form-field-appearance-outline.mat-focused .mat-form-field-label{transform:translateY(-1.29375em) scale(.75)!important;top:1.70375em}  .mat-form-field-flex .mat-form-field-infix{padding:.4em 0 .7em}  .mat-form-field-flex .mat-form-field-infix input{margin-right:5px}  .mat-form-field-flex .mat-form-field-infix input::-moz-placeholder{color:currentColor}  .mat-form-field-flex .mat-form-field-infix input::placeholder{color:currentColor}  .mat-form-field-flex .mat-form-field-infix .mat-form-field-label{font-size:inherit;top:1.40375em;transform:translateY(-1.29375em) scale(.75)!important}  .mat-form-field-flex .mat-form-field-infix .mat-form-field-label span{margin-left:3px;color:#f44336}  .mat-form-field-appearance-outline.mat-form-field-hide-placeholder .mat-form-field-label{transform:none!important;transform:initial!important}  .mat-form-field-wrapper{padding-bottom:0}textarea[_ngcontent-%COMP%]{width:100%;height:120px;resize:none!important}"]}),ce})(),Ot=(()=>{class ce{constructor(be,We,Ut,Nt,Yt){this.db=be,this.taskService=We,this.formBuilder=Ut,this.dialogRef=Nt,this.data=Yt}ngOnInit(){this.createForm(),this.data.task&&this.formGroup.patchValue({title:this.data?.task?.title,description:this.data?.task?.description})}createForm(){this.formGroup=new te.cw({title:new te.NI(null,[te.kI.required]),description:new te.NI(null)})}reset(){this.dialogRef.close(!1)}onSubmit(be){if(this?.data?.task)this.taskService.updateTask(this?.data?.task?.id,be?.title,be?.description).then(()=>{this.dialogRef.close()}).finally(()=>{});else{const We={title:be.title,description:be.description,isBookmark:!1,isDone:!1,creationDate:Date.now(),id:(0,we.v4)()};this.taskService.addTask(We).then(()=>{this.dialogRef.close()}).finally(()=>{})}}}return ce.\u0275fac=function(be){return new(be||ce)(v.Y36(Se.ST),v.Y36(Fe),v.Y36(te.qu),v.Y36(he.so),v.Y36(he.WI))},ce.\u0275cmp=v.Xpm({type:ce,selectors:[["app-create-item"]],decls:7,vars:8,consts:[[1,"form",3,"formGroup","ngSubmit"],["formControlName","title",1,"margin-input-title",3,"name","label","formControl"],["formControlName","description",1,"margin-input",3,"formControl","name","label"],[1,"form-element"],["mat-raised-button","","color","primary","type","submit",1,"button",3,"disabled"]],template:function(be,We){1&be&&(v.TgZ(0,"mat-dialog-content")(1,"form",0),v.NdJ("ngSubmit",function(){return We.onSubmit(We.formGroup.value)}),v._UZ(2,"app-custom-input",1)(3,"app-custom-text-area",2),v.TgZ(4,"div",3)(5,"button",4),v._uU(6,"Add "),v.qZA()()()()),2&be&&(v.xp6(1),v.Q6J("formGroup",We.formGroup),v.xp6(1),v.Q6J("name","title")("label","title")("formControl",We.formGroup.controls.title),v.xp6(1),v.Q6J("formControl",We.formGroup.controls.description)("name","description")("label","description"),v.xp6(2),v.Q6J("disabled",!We.formGroup.valid))},dependencies:[te._Y,te.JJ,te.JL,te.oH,te.sg,te.u,ot.lW,he.xY,Le,Ge],styles:["button[_ngcontent-%COMP%]{margin-top:30px}"]}),ce})();var Bt=x(3977),bn=x(3336);let qn=(()=>{class ce{constructor(be){this.dialogRef=be}ngOnInit(){}submit(){this.dialogRef.close(!0)}reset(){this.dialogRef.close(!1)}}return ce.\u0275fac=function(be){return new(be||ce)(v.Y36(he.so))},ce.\u0275cmp=v.Xpm({type:ce,selectors:[["app-dialog-confirm"]],decls:15,vars:0,consts:[[1,"dialog-header"],["mat-dialog-close",""],[1,"dialog-content"],[1,"dialog-container"],["src","./assets/images/error.svg","alt",""],[1,"dialog-title"],[1,"dialog-action"],[1,"py-2","mr-4","w-40","px-4","bg-blue-600","text-white","font-semibold","border","border-blue-600","rounded","hover:bg-white","hover:text-blue-600","hover:border-blue-600",3,"click"],[1,"py-2","px-4","w-40","bg-transparent","text-red-600","font-semibold","border","border-red-600","rounded","hover:bg-red-600","hover:text-white","hover:border-transparent",3,"click"]],template:function(be,We){1&be&&(v.TgZ(0,"div",0)(1,"mat-icon",1),v._uU(2,"x"),v.qZA()(),v.TgZ(3,"div",2)(4,"div",3),v._UZ(5,"img",4),v.TgZ(6,"span",5),v._uU(7,"Are You Sure ?"),v.qZA(),v.TgZ(8,"div",6)(9,"div")(10,"button",7),v.NdJ("click",function(){return We.submit()}),v._uU(11,"Yes "),v.qZA()(),v.TgZ(12,"div")(13,"button",8),v.NdJ("click",function(){return We.reset()}),v._uU(14,"Cancel "),v.qZA()()()()())},dependencies:[bn.Hw,he.ZT],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]{height:40px;background-color:#324458;display:flex;justify-content:flex-end;align-items:center;padding-bottom:3px}[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;margin-left:15px;cursor:pointer;-webkit-appearance:initial}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]{display:flex;min-height:200px;position:relative;width:550px;overflow:auto;bottom:0;margin:20px 0}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-weight:700;font-stretch:normal;font-style:normal;line-height:5;letter-spacing:normal;text-align:right;color:#d80612}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-action[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]   .dialog-action[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{padding:0 48px;margin-left:10px}  .mat-dialog-container{padding:0;background-color:var(--card-item)!important}"]}),ce})();var jn=x(8242);let ai=(()=>{class ce{constructor(be){this.bottomSheetRef=be}ngOnInit(){}submit(){this.bottomSheetRef.dismiss(!0)}reset(){this.bottomSheetRef.dismiss(!1)}}return ce.\u0275fac=function(be){return new(be||ce)(v.Y36(jn.oL))},ce.\u0275cmp=v.Xpm({type:ce,selectors:[["app-confirm-bottom-sheet"]],decls:13,vars:0,consts:function(){let Ye,be,We;return Ye="\u0627\u06CC\u0627 \u0645\u0637\u0645\u06CC\u0646\u06CC\u062F\u061F",be="\u0628\u0644\u0647",We="\u0627\u0646\u0635\u0631\u0627\u0641",[[1,"bottom-sheet-container"],[1,"dialog-content"],[1,"remove-container"],["src","./assets/images/error.svg","alt",""],Ye,[1,"bottom-sheet-action"],["type","button",1,"border","border-indigo-500","bg-indigo-500","text-white","rounded-md","px-4","py-2","m-2","transition","duration-500","ease","select-none","hover:bg-indigo-600","focus:outline-none","focus:shadow-outline",3,"click"],be,["type","button",1,"border","border-red-500","bg-red-500","text-white","rounded-md","px-4","py-2","m-2","transition","duration-500","ease","select-none","hover:bg-red-600","focus:outline-none","focus:shadow-outline",3,"click"],We,["container",""]]},template:function(be,We){1&be&&(v.TgZ(0,"div",0)(1,"div",1)(2,"div",2),v._UZ(3,"img",3),v.TgZ(4,"span"),v.SDv(5,4),v.qZA(),v.TgZ(6,"div",5)(7,"button",6),v.NdJ("click",function(){return We.submit()}),v.SDv(8,7),v.qZA(),v.TgZ(9,"button",8),v.NdJ("click",function(){return We.reset()}),v.SDv(10,9),v.qZA()()(),v._UZ(11,"template",null,10),v.qZA()())},styles:[".mat-bottom-sheet-container{border-radius:5px 5px 0 0;min-height:256px;max-height:256px;background-color:var(--bg-secondary)}[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;position:relative;width:100%;overflow:auto}.bottom-sheet-container[_ngcontent-%COMP%]{padding:5px;position:relative}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding-top:20px;overflow:hidden!important}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .remove-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .remove-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:68.2px;height:64.3px}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .remove-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:700;font-stretch:normal;font-style:normal;line-height:5.29;letter-spacing:normal;text-align:right;color:#d80612}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .remove-container[_ngcontent-%COMP%]   .bottom-sheet-action[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:10px;width:100%}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .remove-container[_ngcontent-%COMP%]   .bottom-sheet-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50%}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .remove-container[_ngcontent-%COMP%]   .bottom-sheet-action[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{padding:0 48px;margin-left:10px}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .remove-container[_ngcontent-%COMP%]   .bottom-sheet-action[_ngcontent-%COMP%]   .reset[_ngcontent-%COMP%]{padding:0 19px}"]}),ce})(),Vn=(()=>{class ce{constructor(be,We,Ut){this.taskService=be,this.bottomSheetRef=We,this.data=Ut,this.isEdit=!1}ngOnInit(){this.createForm(),this.data.task&&(this.isEdit=!0,this.formGroup.patchValue({title:this.data?.task?.title,description:this.data?.task?.description}))}createForm(){this.formGroup=new te.cw({title:new te.NI(null,[te.kI.required]),description:new te.NI(null)})}cancel(){this.bottomSheetRef.dismiss()}onSubmit(be){if(this?.data?.task)this.taskService.updateTask(this?.data?.task?.id,be?.title,be?.description).then(()=>{this.bottomSheetRef.dismiss()}).finally(()=>{});else{const We={title:be.title,description:be.description,isBookmark:!1,isDone:!1,creationDate:Date.now(),id:(0,we.v4)()};console.log(We),this.taskService.addTask(We).then(()=>{this.bottomSheetRef.dismiss()}).finally(()=>{})}}}return ce.\u0275fac=function(be){return new(be||ce)(v.Y36(Fe),v.Y36(jn.oL),v.Y36(jn.OG))},ce.\u0275cmp=v.Xpm({type:ce,selectors:[["app-create-item-bottom-sheet"]],decls:15,vars:10,consts:function(){let Ye,be;return Ye="" + "\ufffd0\ufffd" + "",be=" " + "\ufffd0\ufffd" + " ",[[1,"bottom-sheet-container"],[1,"bottom-sheet-top-line"],[1,"dialog-content"],[1,"bottom-sheet-title"],Ye,[1,"bottom-sheet-content"],[1,"form",3,"formGroup"],["formControlName","title",1,"margin-input-title",3,"name","label","formControl"],["formControlName","description",1,"margin-input",3,"formControl","name","label"],[1,"action"],["type","button",1,"border","border-indigo-500","bg-indigo-500","text-white","rounded-md","px-4","py-2","m-2","transition","duration-500","ease","select-none","hover:bg-indigo-600","focus:outline-none","focus:shadow-outline",3,"disabled","click"],be,["type","button",1,"border","border-red-500","bg-red-500","text-white","rounded-md","px-4","py-2","m-2","transition","duration-500","ease","select-none","hover:bg-red-600","focus:outline-none","focus:shadow-outline",3,"click"]]},template:function(be,We){1&be&&(v.TgZ(0,"div",0)(1,"div",1),v._UZ(2,"span"),v.qZA(),v.TgZ(3,"div",2)(4,"span",3),v.SDv(5,4),v.qZA(),v.TgZ(6,"div",5)(7,"form",6),v._UZ(8,"app-custom-input",7)(9,"app-custom-text-area",8),v.TgZ(10,"div",9)(11,"button",10),v.NdJ("click",function(){return We.onSubmit(We.formGroup.value)}),v.SDv(12,11),v.qZA(),v.TgZ(13,"button",12),v.NdJ("click",function(){return We.cancel()}),v._uU(14," Cancel "),v.qZA()()()()()()),2&be&&(v.xp6(5),v.pQV(We.isEdit?"Edit Task":"Create Task"),v.QtT(5),v.xp6(2),v.Q6J("formGroup",We.formGroup),v.xp6(1),v.Q6J("name","title")("label","title")("formControl",We.formGroup.controls.title),v.xp6(1),v.Q6J("formControl",We.formGroup.controls.description)("name","description")("label","description"),v.xp6(2),v.Q6J("disabled",!We.formGroup.valid),v.xp6(1),v.pQV(We.isEdit?"Edit":"Add"),v.QtT(12))},dependencies:[te._Y,te.JJ,te.JL,te.oH,te.sg,te.u,Le,Ge],styles:[".mat-bottom-sheet-container{border-radius:5px 5px 0 0;min-height:40vh;background-color:var(--bg-secondary)}[_nghost-%COMP%]{display:block;border:3px solid var(--primary)}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;min-height:150px;position:relative;width:100%;overflow:auto}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .bottom-sheet-title[_ngcontent-%COMP%]{text-align:center;font-size:22px;font-weight:700}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .bottom-sheet-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .bottom-sheet-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:96%;margin-top:25px}.bottom-sheet-container[_ngcontent-%COMP%]{padding:5px;position:relative}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{min-height:40vh;padding-top:20px;overflow:hidden!important}.bottom-sheet-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;margin-top:40px}.bottom-sheet-container[_ngcontent-%COMP%]   .bottom-sheet-top-line[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.bottom-sheet-container[_ngcontent-%COMP%]   .bottom-sheet-top-line[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:10px;background:#707070;height:1.5px;width:25%}"]}),ce})();var rn=x(3546);let _n=(()=>{class ce{constructor(be){this.taskService=be,this.done=new v.vpe,this.bookMark=new v.vpe,this.remove=new v.vpe,this.edit=new v.vpe}onDone(){this.done.emit()}onRemove(){this.remove.emit()}onBookMark(){this.bookMark.emit()}onEdit(){this.edit.emit()}getTask(be){this.taskService.setTask(be)}}return ce.\u0275fac=function(be){return new(be||ce)(v.Y36(Fe))},ce.\u0275cmp=v.Xpm({type:ce,selectors:[["app-to-do-item"]],inputs:{task:"task"},outputs:{done:"done",bookMark:"bookMark",remove:"remove",edit:"edit"},decls:17,vars:6,consts:[[1,"task-item__container",3,"click"],[1,"task-item__content"],[1,"checkbox-container",3,"ngClass"],["type","checkbox",3,"checked","value","change"],[1,"checkmark"],[1,"task-description"],[1,"action"],[1,"bookmark",3,"click"],[3,"src"],[1,"btn-action"],[3,"click"],["src","./assets/images/edit.svg"],["src","./assets/images/trash.svg"]],template:function(be,We){1&be&&(v.TgZ(0,"div",0),v.NdJ("click",function(){return We.getTask(We.task)}),v.TgZ(1,"mat-card")(2,"div",1)(3,"label",2),v._uU(4),v.TgZ(5,"input",3),v.NdJ("change",function(){return We.onDone()}),v.qZA(),v._UZ(6,"span",4),v.qZA(),v.TgZ(7,"p",5),v._uU(8),v.qZA()(),v.TgZ(9,"div",6)(10,"div",7),v.NdJ("click",function(){return We.onBookMark()}),v._UZ(11,"img",8),v.qZA(),v.TgZ(12,"div",9)(13,"button",10),v.NdJ("click",function(){return We.onEdit()}),v._UZ(14,"img",11),v.qZA(),v.TgZ(15,"button",10),v.NdJ("click",function(){return We.onRemove()}),v._UZ(16,"img",12),v.qZA()()()()()),2&be&&(v.xp6(3),v.Q6J("ngClass",We.task.isDone?"completed":"unCompleted"),v.xp6(1),v.hij("",null==We.task?null:We.task.title," "),v.xp6(1),v.Q6J("checked",We.task.isDone)("value",We.task.isDone),v.xp6(3),v.Oqu(null==We.task?null:We.task.description),v.xp6(3),v.Q6J("src",We.task.isBookmark?"./assets/images/blue-star.png":"./assets/images/bookmark.svg",v.LSH))},dependencies:[p.mk,rn.a8],styles:[".task-item__container[_ngcontent-%COMP%]{margin-bottom:10px;display:flex;flex-direction:column;gap:8px}.task-item__container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px;background-color:var(--card-item)}.task-item__container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:end}.task-item__container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .bookmark[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px!important;cursor:pointer!important}.task-item__container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{display:flex;margin-top:10px}.task-item__container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:21px}.task-item__content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.task-item__content[_ngcontent-%COMP%]   .task-description[_ngcontent-%COMP%]{font-weight:100}.task-item__content[_ngcontent-%COMP%]   .completed[_ngcontent-%COMP%]{text-decoration:line-through}.task-item__content[_ngcontent-%COMP%]   .unCompleted[_ngcontent-%COMP%]{text-decoration:none}.task-item__content[_ngcontent-%COMP%]   .task-description[_ngcontent-%COMP%]{font-size:16px;margin-left:35px}"]}),ce})();var ke=x(7331);let Be=(()=>{class ce{constructor(be){this.taskService=be}ngOnInit(){this.taskService.getLiveTasks().subscribe(be=>{this.tasks=be,this.totalCount=be.length,this.bookmarkCount=be.filter(We=>We.isBookmark).length,this.doneCount=be.filter(We=>We.isDone).length,this.ongoingCount=this.totalCount-this.doneCount})}getAllTask(){this.taskService.setTaskFiltered(this.tasks)}getBookmarkTask(){const be=this.tasks.filter(We=>!0===We.isBookmark);this.taskService.setTaskFiltered(be)}getCompletedTask(){const be=this.tasks.filter(We=>!0===We.isDone);this.taskService.setTaskFiltered(be)}getUnCompletedTask(){const be=this.tasks.filter(We=>!1===We.isDone);this.taskService.setTaskFiltered(be)}}return ce.\u0275fac=function(be){return new(be||ce)(v.Y36(Fe))},ce.\u0275cmp=v.Xpm({type:ce,selectors:[["app-filter-box"]],decls:18,vars:4,consts:function(){let Ye,be,We,Ut;return Ye="" + "\ufffd#5\ufffd" + "" + "\ufffd0\ufffd" + "" + "\ufffd/#5\ufffd" + " All",be="" + "\ufffd#9\ufffd" + "" + "\ufffd0\ufffd" + "" + "\ufffd/#9\ufffd" + " Star",We="" + "\ufffd#13\ufffd" + "" + "\ufffd0\ufffd" + "" + "\ufffd/#13\ufffd" + "Completed",Ut="" + "\ufffd#17\ufffd" + "" + "\ufffd0\ufffd" + "" + "\ufffd/#17\ufffd" + " OnGoing",[[1,"filter-container"],["aria-label","task filter selection"],[3,"click"],Ye,["matChipAvatar","",1,"task-count"],["color","primary",3,"click"],be,["color","accent",3,"click"],We,Ut]},template:function(be,We){1&be&&(v.TgZ(0,"div",0)(1,"mat-chip-list",1)(2,"mat-chip",2),v.NdJ("click",function(){return We.getAllTask()}),v.ynx(3),v.tHW(4,3),v._UZ(5,"span",4),v.N_p(),v.BQk(),v.qZA(),v.TgZ(6,"mat-chip",5),v.NdJ("click",function(){return We.getBookmarkTask()}),v.ynx(7),v.tHW(8,6),v._UZ(9,"span",4),v.N_p(),v.BQk(),v.qZA(),v.TgZ(10,"mat-chip",7),v.NdJ("click",function(){return We.getCompletedTask()}),v.ynx(11),v.tHW(12,8),v._UZ(13,"span",4),v.N_p(),v.BQk(),v.qZA(),v.TgZ(14,"mat-chip",7),v.NdJ("click",function(){return We.getUnCompletedTask()}),v.ynx(15),v.tHW(16,9),v._UZ(17,"span",4),v.N_p(),v.BQk(),v.qZA()()()),2&be&&(v.xp6(5),v.pQV(We.totalCount),v.QtT(4),v.xp6(4),v.pQV(We.bookmarkCount),v.QtT(8),v.xp6(4),v.pQV(We.doneCount),v.QtT(12),v.xp6(4),v.pQV(We.ongoingCount),v.QtT(16))},dependencies:[ke.qn,ke.HS,ke.EC],styles:[".filter-container[_ngcontent-%COMP%]{background-color:var(--bg-secondary)!important;margin:10px 0}@media screen and (max-width: 959px){.filter-container[_ngcontent-%COMP%]{margin:0 0 10px}}.filter-container[_ngcontent-%COMP%]   .task-count[_ngcontent-%COMP%]{background-color:#00f;color:#fff!important}mat-chip[_ngcontent-%COMP%]{min-width:100px!important;display:flex;justify-content:space-between}@media screen and (max-width: 959px){mat-chip[_ngcontent-%COMP%]{font-size:12px;min-width:120px!important}  .mat-chip-list-wrapper{flex-wrap:nowrap!important;overflow-x:auto!important;-webkit-overflow-scrolling:touch;padding-bottom:10px;justify-content:flex-start!important}}  .mat-chip-list-wrapper{justify-content:center}"]}),ce})();function Ne(ce,Ye){if(1&ce){const be=v.EpF();v.TgZ(0,"div",6)(1,"app-to-do-item",7),v.NdJ("done",function(){const Nt=v.CHM(be).$implicit,Yt=v.oxw();return v.KtG(Yt.onDone(Nt))})("bookMark",function(){const Nt=v.CHM(be).$implicit,Yt=v.oxw();return v.KtG(Yt.onBookMark(Nt))})("remove",function(){const Nt=v.CHM(be).$implicit,Yt=v.oxw();return v.KtG(Yt.onRemove(Nt))})("edit",function(){const Nt=v.CHM(be).$implicit,Yt=v.oxw();return v.KtG(Yt.openDialogTask(Nt))}),v.qZA()()}if(2&ce){const be=Ye.$implicit;v.xp6(1),v.Q6J("task",be)}}let Ke=(()=>{class ce{constructor(be,We,Ut,Nt,Yt,Sn){this.db=be,this.taskService=We,this.authService=Ut,this.afAuth=Nt,this.dialog=Yt,this.bottomSheet=Sn,this.subscriptions=new ne.w,this.isMobile=!1,this.width=window.innerWidth,this.height=window.innerHeight,this.mobileWidth=760,this.tasks=[]}ngOnInit(){this.isMobile=this.width<this.mobileWidth,this.subscriptions.add(this.taskService.taskFiltered$.asObservable().subscribe(be=>{this.tasks=be})),this.getTasks()}onWindowResize(){this.width=window.innerWidth,this.height=window.innerHeight,this.isMobile=this.width<this.mobileWidth}getTasks(){const be=this.taskService.getLiveTasks();(0,C.aj)([be,this.taskService.searchItem]).subscribe(([Ut,Nt])=>{this.tasks=Ut.filter(Yt=>Nt?Yt.title.indexOf(Nt)>=0:1)})}drop(be){(0,Bt.bA)(this.tasks,be.previousIndex,be.currentIndex),this.taskService.updateAll(this.tasks).finally()}openDialogTask(be){this.isMobile?this.bottomSheet.open(Vn,{disableClose:!0,hasBackdrop:!0,data:{task:be}}).afterDismissed().subscribe(()=>{}):this.dialog.open(Ot,{disableClose:!1,width:"400px",height:"auto",data:{task:be}})}onDone(be){this.taskService.doneTask(be.id,!be.isDone).finally()}onBookMark(be){this.taskService.bookMarkTask(be.id,!be.isBookmark).finally()}onRemove(be){this.isMobile?this.bottomSheet.open(ai,{disableClose:!0}).afterDismissed().subscribe(()=>{}):this.dialog.open(qn,{disableClose:!0}).afterClosed().subscribe(Ut=>{Ut&&this.taskService.removeTask(be.id).finally()})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return ce.\u0275fac=function(be){return new(be||ce)(v.Y36(Se.ST),v.Y36(Fe),v.Y36(Ue.e),v.Y36(Ie.zQ),v.Y36(he.uw),v.Y36(jn.ch))},ce.\u0275cmp=v.Xpm({type:ce,selectors:[["app-to-do-list"]],hostBindings:function(be,We){1&be&&v.NdJ("resize",function(Nt){return We.onWindowResize(Nt)},!1,v.Jf7)},decls:8,vars:1,consts:[[1,"mb-5","add-task-card",3,"click"],["fill","currentColor","aria-hidden","true","width","20","height","20","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"fluentIcon","___12fm75w","f1w7gpdv","fez10in","fg4l7m0"],["d","M10 2.5a.5.5 0 00-1 0V9H2.5a.5.5 0 000 1H9v6.5a.5.5 0 001 0V10h6.5a.5.5 0 000-1H10V2.5z","fill","currentColor"],[1,"title"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag",""],[3,"task","done","bookMark","remove","edit"]],template:function(be,We){1&be&&(v._UZ(0,"app-filter-box"),v.TgZ(1,"mat-card",0),v.NdJ("click",function(){return We.openDialogTask()}),v.O4$(),v.TgZ(2,"svg",1),v._UZ(3,"path",2),v.qZA(),v.kcU(),v.TgZ(4,"p",3),v._uU(5,"Add a task"),v.qZA()(),v.TgZ(6,"div",4),v.NdJ("cdkDropListDropped",function(Nt){return We.drop(Nt)}),v.YNc(7,Ne,2,1,"div",5),v.qZA()),2&be&&(v.xp6(7),v.Q6J("ngForOf",We.tasks))},dependencies:[p.sg,rn.a8,Bt.Wj,Bt.Zt,_n,Be],styles:["[_nghost-%COMP%]{width:100%!important;margin:0 20px 20px!important}.add-task-card[_ngcontent-%COMP%]{margin-bottom:8px;display:flex;align-items:center;background-color:var(--card-item);cursor:pointer}.add-task-card[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{color:#78bafd!important}.add-task-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#78bafd!important;font-weight:400}div[_ngcontent-%COMP%]{cursor:move!important}"]}),ce})(),Tt=(()=>{class ce{constructor(be,We){this.afs=be,this.authService=We,this.userId=this.authService.getUid()}getUser(){return this.afs.doc(`users/${this.userId}`).snapshotChanges().pipe((0,ye.U)(be=>be.payload.data()))}}return ce.\u0275fac=function(be){return new(be||ce)(v.LFG(Se.ST),v.LFG(Ue.e))},ce.\u0275prov=v.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})(),en=(()=>{class ce{constructor(){this.isDarkTheme=!1,this.darkMode=new v.vpe}ngOnInit(){this.theme=localStorage.getItem("dark-mode"),this.theme&&(this.isDarkTheme="Dark"===localStorage.getItem("dark-mode")),this.isDarkTheme&&document.body.classList.toggle("dark-theme")}toggleTheme(){this.isDarkTheme=!this.isDarkTheme,document.body.classList.toggle("dark-theme"),this.darkMode.emit(this.isDarkTheme)}}return ce.\u0275fac=function(be){return new(be||ce)},ce.\u0275cmp=v.Xpm({type:ce,selectors:[["app-toggle-theme"]],outputs:{darkMode:"darkMode"},decls:2,vars:1,consts:[[3,"click"],[3,"src"]],template:function(be,We){1&be&&(v.TgZ(0,"button",0),v.NdJ("click",function(){return We.toggleTheme()}),v._UZ(1,"img",1),v.qZA()),2&be&&(v.xp6(1),v.Q6J("src",We.isDarkTheme?"./assets/images/dark.svg":"./assets/images/light.svg",v.LSH))},styles:["@media screen and (max-width: 959px){button[_ngcontent-%COMP%]{width:40px!important;height:40px!important}}button[_ngcontent-%COMP%]{width:25px;margin-right:10px;height:30px}"]}),ce})();function Ln(ce,Ye){if(1&ce&&(v.TgZ(0,"option",2),v._uU(1),v.qZA()),2&ce){const be=Ye.$implicit;v.Q6J("value",be.code),v.xp6(1),v.hij(" ",be.name," ")}}let It=(()=>{class ce{constructor(be){this.activeLocale=be,this.lang="En",this.selectLang=new v.vpe,this.locales=[{code:"en",name:"English"},{code:"fa",name:"\u0641\u0627\u0631\u0633\u06cc"}]}ngOnInit(){this.lang="En"===localStorage.getItem("lang")?"En":"Fa"}onChange(){window.location.href=`/todo-list/${this.activeLocale}`}toggleLang(){const be=JSON.stringify(this.lang);localStorage.setItem("lang",be),this.lang="En"===this.lang?"Fa":"En",this.selectLang.emit(this.lang)}}return ce.\u0275fac=function(be){return new(be||ce)(v.Y36(v.soG))},ce.\u0275cmp=v.Xpm({type:ce,selectors:[["app-toggle-language"]],outputs:{selectLang:"selectLang"},decls:2,vars:2,consts:[[3,"ngModel","change","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(be,We){1&be&&(v.TgZ(0,"select",0),v.NdJ("change",function(){return We.onChange()})("ngModelChange",function(Nt){return We.activeLocale=Nt}),v.YNc(1,Ln,2,2,"option",1),v.qZA()),2&be&&(v.Q6J("ngModel",We.activeLocale),v.xp6(1),v.Q6J("ngForOf",We.locales))},dependencies:[p.sg,te.YN,te.Kr,te.EJ,te.JJ,te.On],styles:["button[_ngcontent-%COMP%]{background-color:#c5c0c0;width:29px;height:29px;margin-right:22px;margin-left:6px}"]}),ce})(),Qt=(()=>{class ce{constructor(be){this.userService=be}ngOnInit(){this.getUserInfo()}getTheme(be){this.isDarkMode=be}getLang(be){this.lang=be}getUserInfo(){this.user$=this.userService.getUser()}}return ce.\u0275fac=function(be){return new(be||ce)(v.Y36(Tt))},ce.\u0275cmp=v.Xpm({type:ce,selectors:[["app-user-info-dialog"]],decls:27,vars:16,consts:function(){let Ye,be,We,Ut;return Ye="close",be="photo",We="" + "\ufffd0\ufffd" + "",Ut="" + "\ufffd0\ufffd" + "",[[1,"dialog-header"],["mat-dialog-close",""],["src","./assets/images/close.svg","alt",Ye],[1,"profile-container"],[1,"dialog-content"],[1,"profile-content"],["alt",be,1,"h-6","sm:h-9","shadow-lg","flex","items-center","rounded-full","profile-photo",3,"src"],[1,"user-info"],[1,"dark-mode-container"],[3,"darkMode"],We,[1,"lang-container"],[3,"selectLang"],Ut]},template:function(be,We){if(1&be&&(v.TgZ(0,"div",0)(1,"mat-icon",1),v._UZ(2,"img",2),v.qZA()(),v.TgZ(3,"div",3)(4,"div",4)(5,"div",5),v._UZ(6,"img",6),v.ALo(7,"async"),v.ALo(8,"async"),v.TgZ(9,"div",7)(10,"p"),v._uU(11),v.ALo(12,"async"),v.ALo(13,"async"),v.qZA(),v.TgZ(14,"p"),v._uU(15),v.ALo(16,"async"),v.qZA()()(),v._UZ(17,"hr"),v.TgZ(18,"div",8)(19,"app-toggle-theme",9),v.NdJ("darkMode",function(Nt){return We.getTheme(Nt)}),v.qZA(),v.TgZ(20,"span"),v.SDv(21,10),v.qZA()(),v._UZ(22,"hr"),v.TgZ(23,"div",11)(24,"app-toggle-language",12),v.NdJ("selectLang",function(Nt){return We.getLang(Nt)}),v.qZA(),v.TgZ(25,"span"),v.SDv(26,13),v.qZA()()()()),2&be){let Ut,Nt,Yt;v.xp6(6),v.Q6J("src",null!=(Ut=v.lcZ(7,6,We.user$))&&Ut.photoURL?null==(Ut=v.lcZ(8,8,We.user$))?null:Ut.photoURL:"./assets/images/user.png",v.LSH),v.xp6(5),v.AsE("",null==(Nt=v.lcZ(12,10,We.user$))?null:Nt.firstName," ",null==(Nt=v.lcZ(13,12,We.user$))?null:Nt.lastName,""),v.xp6(4),v.Oqu(null==(Yt=v.lcZ(16,14,We.user$))?null:Yt.email),v.xp6(6),v.pQV(We.isDarkMode?"Switch To Light Mode":"Switch To Dark Mode"),v.QtT(21),v.xp6(5),v.pQV("Fa"===We.lang?"Switch To En":"Switch To Fa"),v.QtT(26)}},dependencies:[bn.Hw,he.ZT,en,It,p.Ov],styles:[".dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding:10px 0 0 20px}.profile-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--bkg-color)}.profile-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{min-height:200px;width:95%}.profile-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]{display:flex;padding:20px;align-items:center}.profile-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px}.profile-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{margin-left:20px}.profile-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dark-mode-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:20px;padding-top:20px;font-size:18px}.profile-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .lang-container[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:18px;padding:20px 0 20px 20px}  .mat-dialog-container{padding:0;background-color:var(--card-item)!important;width:95%!important}  .cdk-overlay-pane{width:95%!important;justify-content:center!important}"]}),ce})();var Mt=x(8255);function $t(ce,Ye){if(1&ce&&(v.TgZ(0,"div",11),v._UZ(1,"img",12),v.ALo(2,"async"),v.ALo(3,"async"),v.qZA()),2&ce){const be=v.oxw(),We=v.MAs(3);let Ut;v.Q6J("matMenuTriggerFor",We),v.xp6(1),v.Q6J("src",null!=(Ut=v.lcZ(2,2,be.user$))&&Ut.photoURL?null==(Ut=v.lcZ(3,4,be.user$))?null:Ut.photoURL:"./assets/images/user.png",v.LSH)}}let wn=(()=>{class ce{constructor(be,We){this.userService=be,this.authService=We}ngOnInit(){this.getUser()}getUser(){this.user$=this.userService.getUser()}signOut(){this.authService.SignOut().finally()}}return ce.\u0275fac=function(be){return new(be||ce)(v.Y36(Tt),v.Y36(Ue.e))},ce.\u0275cmp=v.Xpm({type:ce,selectors:[["app-profile"]],decls:21,vars:15,consts:function(){let Ye,be,We,Ut;return Ye="photo",be="sign out",We="log-out",Ut="photo",[["class","bg-gray-100 shadow-lg flex items-center rounded-full",3,"matMenuTriggerFor",4,"ngIf"],[1,"profile-container"],["menu","matMenu"],[1,"menu-container"],["alt",Ye,1,"h-6","sm:h-9","shadow-lg","flex","items-center","rounded-full","profile-photo",3,"src"],[1,"user-info"],[1,"user-email"],[1,"sign-out"],[3,"click"],be,["src","./assets/images/log-out.svg","alt",We],[1,"bg-gray-100","shadow-lg","flex","items-center","rounded-full",3,"matMenuTriggerFor"],["alt",Ut,1,"h-6","sm:h-9","shadow-lg","flex","items-center","rounded-full",3,"src"]]},template:function(be,We){if(1&be&&(v.YNc(0,$t,4,6,"div",0),v.TgZ(1,"div",1)(2,"mat-menu",null,2)(4,"div",3),v._UZ(5,"img",4),v.ALo(6,"async"),v.ALo(7,"async"),v.TgZ(8,"div",5)(9,"p",6),v._uU(10),v.ALo(11,"async"),v.ALo(12,"async"),v.qZA(),v.TgZ(13,"p",6),v._uU(14),v.ALo(15,"async"),v.qZA()()(),v._UZ(16,"hr"),v.TgZ(17,"div",7)(18,"a",8),v.NdJ("click",function(){return We.signOut()}),v.SDv(19,9),v.qZA(),v._UZ(20,"img",10),v.qZA()()()),2&be){let Ut,Nt,Yt;v.Q6J("ngIf",We.user$),v.xp6(5),v.Q6J("src",null!=(Ut=v.lcZ(6,5,We.user$))&&Ut.photoURL?null==(Ut=v.lcZ(7,7,We.user$))?null:Ut.photoURL:"./assets/images/user.png",v.LSH),v.xp6(5),v.AsE("",null==(Nt=v.lcZ(11,9,We.user$))?null:Nt.firstName," ",null==(Nt=v.lcZ(12,11,We.user$))?null:Nt.lastName,""),v.xp6(4),v.Oqu(null==(Yt=v.lcZ(15,13,We.user$))?null:Yt.email)}},dependencies:[p.O5,Mt.VK,Mt.p6,p.Ov],styles:["#menu[_ngcontent-%COMP%]{width:320px!important;max-width:100vw!important;overflow-wrap:anywhere}.profile-container[_ngcontent-%COMP%]{background-color:var(--card-item)!important}.menu-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.menu-container[_ngcontent-%COMP%]   .profile-photo[_ngcontent-%COMP%]{width:70px!important;height:70px!important;margin-left:5px}.menu-container[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:15px;margin-left:5px}.menu-container[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-email[_ngcontent-%COMP%]{font-size:14px!important;margin-right:5px}.sign-out[_ngcontent-%COMP%]{display:flex;margin-right:5px;justify-content:end;cursor:pointer}.sign-out[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;filter:invert(73%) sepia(14%) saturate(0%) hue-rotate(210deg) brightness(93%) contrast(91%)}.sign-out[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;margin-right:5px}hr[_ngcontent-%COMP%]{margin:10px 0}  .mat-menu-panel{width:400px}"]}),ce})(),zt=(()=>{class ce{constructor(be,We){this.taskService=be,this.dialog=We}search(be){this.taskService.search(be)}openDialogUser(){this.dialog.open(Qt,{disableClose:!1})}}return ce.\u0275fac=function(be){return new(be||ce)(v.Y36(Fe),v.Y36(he.uw))},ce.\u0275cmp=v.Xpm({type:ce,selectors:[["app-header"]],decls:15,vars:1,consts:function(){let Ye;return Ye="photo",[[1,"header-container"],[1,"lg:px-16","px-6","primary-color","flex","flex-wrap","items-center","lg:py-0","py-2"],[1,"flex-1","flex","justify-between","items-center"],[1,"flex","items-center"],["src","./assets/images/icon.png","alt","Todo Logo",1,"mr-3","h-6","sm:h-9"],[1,"self-center","text-xl","font-semibold","whitespace-nowrap","text-white","dark:text-white"],[1,"pointer-cursor","lg:hidden","block"],["alt",Ye,1,"avatar","h-6","sm:h-9","shadow-lg","flex","items-center","rounded-full","profile-photo",3,"src","click"],["id","menu",1,"hidden","lg:flex","lg:items-center","lg:w-auto","w-full"],[1,"flex","items-center","lg:order-2","align-center"]]},template:function(be,We){1&be&&(v.TgZ(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3),v._UZ(4,"img",4),v.TgZ(5,"span",5),v._uU(6,"To Do"),v.qZA()()(),v.TgZ(7,"label",6)(8,"img",7),v.NdJ("click",function(){return We.openDialogUser()}),v.qZA()(),v.TgZ(9,"div",8)(10,"nav")(11,"div",9),v._UZ(12,"app-toggle-language")(13,"app-toggle-theme")(14,"app-profile"),v.qZA()()()()()),2&be&&(v.xp6(8),v.Q6J("src","./assets/images/user.png",v.LSH))},dependencies:[en,It,wn],styles:["span[_ngcontent-%COMP%]{font-weight:600!important;font-size:16px;line-height:48px;color:#fff!important}header[_ngcontent-%COMP%]{border-bottom:1px var(--bg-secondary) solid}.header-container[_ngcontent-%COMP%]{background-color:var(--primary-color)}.lang[_ngcontent-%COMP%]{background-color:#e7dcdc;padding:3px;margin-right:10px}@media screen and (max-width: 959px){.avatar[_ngcontent-%COMP%]{width:40px!important;height:40px!important}}#menu-toggle[_ngcontent-%COMP%]:checked + #menu[_ngcontent-%COMP%]{display:block}"]}),ce})();const Dn=[{path:"",component:(()=>{class ce{constructor(){}}return ce.\u0275fac=function(be){return new(be||ce)},ce.\u0275cmp=v.Xpm({type:ce,selectors:[["app-dashboard"]],decls:4,vars:0,consts:[[1,"dashboard-container"],[1,"task-container"]],template:function(be,We){1&be&&(v.TgZ(0,"div",0),v._UZ(1,"app-header"),v.TgZ(2,"div",1),v._UZ(3,"app-to-do-list"),v.qZA()())},dependencies:[Ke,zt],styles:[".dashboard-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.dashboard-container[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]{display:flex;background-color:var(--bg-secondary)!important;height:90%;padding:0 150px;overflow:auto}@media screen and (max-width: 959px){.dashboard-container[_ngcontent-%COMP%]   .task-container[_ngcontent-%COMP%]{padding:10px;align-items:center;flex-direction:column}}"]}),ce})()}];let pt=(()=>{class ce{}return ce.\u0275fac=function(be){return new(be||ce)},ce.\u0275mod=v.oAB({type:ce}),ce.\u0275inj=v.cJS({imports:[N.Bz.forChild(Dn),N.Bz]}),ce})();var J=x(8891),de=x(8704);let Pe=(()=>{class ce{}return ce.\u0275fac=function(be){return new(be||ce)},ce.\u0275mod=v.oAB({type:ce}),ce.\u0275inj=v.cJS({imports:[p.ez,pt,de.u,J.m,he.Is]}),ce})()},986:(gn,_t,x)=>{"use strict";x.d(_t,{e:()=>Ie});var p=x(732),te=(x(2090),x(9681),x(1877),x(4859),x(4650)),we=x(2796),he=x(4941),Se=x(7868),ae=x(591);let me=(()=>{class Ue{constructor(){this.loading$=new ae.X(!1)}start(){this.loading$.next(!0)}complete(){this.loading$.next(!1)}}return Ue.\u0275fac=function(Fe){return new(Fe||Ue)},Ue.\u0275prov=te.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"}),Ue})();var ye=x(7185);let Ie=(()=>{class Ue{constructor(Fe,ot,ht,jt,ut,kt){this.afs=Fe,this.afAuth=ot,this.router=ht,this.apiService=jt,this.toastr=ut,this.ngZone=kt,this.afAuth.authState.subscribe(vt=>{vt?(this.userData=vt,this.userId=vt.uid,this.emailVerified=vt.emailVerified,localStorage.setItem("uid",this.userId),localStorage.setItem("emailVerified",this.emailVerified)):localStorage.setItem("uid","null")})}getUid(){return localStorage.getItem("uid")}SignIn(Fe,ot){return this.apiService.start(),this.afAuth.signInWithEmailAndPassword(Fe,ot).then(ht=>{this.SetUserData(ht.user),this.afAuth.authState.subscribe(jt=>{this.apiService.complete(),jt&&this.router.navigate(["dashboard"])})}).catch(ht=>{this.apiService.complete(),this.toastr.error(ht.message)})}SignUp(Fe,ot,ht,jt){return this.afAuth.createUserWithEmailAndPassword(ht,jt).then(ut=>{this.SendVerificationMail(),this.SetUserData(ut.user,Fe,ot),this.router.navigate(["auth/sign-in"])}).catch(ut=>{window.alert(ut.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(Fe=>Fe.sendEmailVerification()).then(()=>{})}ForgotPassword(Fe){return this.afAuth.sendPasswordResetEmail(Fe).then(()=>{this.toastr.error("Password reset email sent, check your inbox.")}).catch(ot=>{this.toastr.error(ot)})}get isLoggedIn(){const Fe=localStorage.getItem("uid"),ot=JSON.parse(localStorage.getItem("emailVerified"));return null!==Fe&&!0===ot}GoogleAuth(){return this.AuthLogin(new p.Q).then(Fe=>{this.afAuth.authState.subscribe(ot=>{ot&&this.router.navigate(["dashboard"])})}).catch(Fe=>{this.toastr.error(Fe)})}AuthLogin(Fe){return this.afAuth.signInWithPopup(Fe).then(ot=>{let ht="",jt="";try{ht=ot.user.displayName.split(" ")[0],jt=ot.user.displayName.replace(ht,"")}catch{ht=ot.user.displayName}this.SetUserData(ot.user,ht,jt)}).catch(ot=>{window.alert(ot)})}SetUserData(Fe,ot,ht){const jt=this.afs.doc(`users/${Fe.uid}`),ut={uid:Fe.uid,email:Fe.email,photoURL:Fe.photoURL,emailVerified:Fe.emailVerified};return ot&&(ut.firstName=ot),ht&&(ut.lastName=ht),jt.set(ut,{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("uid"),localStorage.removeItem("emailVerified"),this.router.navigate(["auth/sign-in"])})}}return Ue.\u0275fac=function(Fe){return new(Fe||Ue)(te.LFG(we.ST),te.LFG(he.zQ),te.LFG(Se.F0),te.LFG(me),te.LFG(ye._W),te.LFG(te.R0b))},Ue.\u0275prov=te.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"}),Ue})()},8704:(gn,_t,x)=>{"use strict";x.d(_t,{u:()=>v});var p=x(8891),N=x(4650);let v=(()=>{class ne{}return ne.\u0275fac=function(te){return new(te||ne)},ne.\u0275mod=N.oAB({type:ne}),ne.\u0275inj=N.cJS({imports:[p.m]}),ne})()},8891:(gn,_t,x)=>{"use strict";x.d(_t,{m:()=>Mm});var p=x(6895),N=x(4006),v=x(1281),ne=x(3353),C=x(4650),te=x(3238),we=x(2654),he=x(8929),Ie=(x(8514),x(6787),x(1086),x(3753),x(8184)),Ue=x(2556),Je=x(445),ot=(x(9521),x(4080)),ht=x(9549);x(1059),x(7545),x(2986),x(2198),x(4850),x(2868),x(8583);const Be={provide:new C.OlP("mat-autocomplete-scroll-strategy"),deps:[Ie.aV],useFactory:function ke(D){return()=>D.scrollStrategies.reposition()}};let Ln=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({providers:[Be],imports:[Ie.U8,te.Ng,te.BQ,p.ez,Ue.ZD,te.Ng,te.BQ]}),D})();var It=x(2687),Qt=x(9643);let Nt=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({}),D})(),Yt=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({imports:[te.si,te.BQ,Qt.Q8,Nt,te.BQ,Nt]}),D})();var Sn=x(9101),oi=(x(7340),x(4144));let Qe=(()=>{class D{constructor(){this.changes=new he.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(u,_){return`${u} \u2013 ${_}`}formatYearRangeLabel(u,_){return`${u} to ${_}`}}return D.\u0275fac=function(u){return new(u||D)},D.\u0275prov=C.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const Cr={provide:new C.OlP("mat-datepicker-scroll-strategy"),deps:[Ie.aV],useFactory:function Rr(D){return()=>D.scrollStrategies.reposition()}};let vs=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({providers:[Qe,Cr],imports:[p.ez,Sn.ot,Ie.U8,It.rt,ot.eL,te.BQ,Ue.ZD]}),D})();x(5017);let ba=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({imports:[te.si,te.BQ,te.BQ]}),D})();const Ca={provide:new C.OlP("mat-select-scroll-strategy"),deps:[Ie.aV],useFactory:function cs(D){return()=>D.scrollStrategies.reposition()}};let No=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({providers:[Ca],imports:[p.ez,Ie.U8,te.Ng,te.BQ,Ue.ZD,ht.lN,te.Ng,te.BQ]}),D})(),Ql=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({imports:[p.ez,te.BQ,te.BQ]}),D})(),Na=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({}),D})(),W=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({imports:[Na,te.si,te.BQ,Qt.Q8,Na,te.BQ]}),D})();var _e=x(8255);let Pi=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({imports:[te.BQ,te.BQ]}),D})(),Ol=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({imports:[p.ez,te.BQ,Ue.ZD,Ue.ZD,te.BQ]}),D})();var Fa=x(3546);let Pl=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({imports:[te.BQ,te.BQ]}),D})(),Fl=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({imports:[te.uc,te.BQ,te.uc,te.BQ]}),D})(),Wn=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({imports:[p.ez,te.BQ,ot.eL,te.si,Qt.Q8,It.rt,te.BQ]}),D})(),se=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({imports:[Je.vT]}),D})();var Me=x(3336);let ic=(()=>{class D{constructor(){this.changes=new he.xQ,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return D.\u0275fac=function(u){return new(u||D)},D.\u0275prov=C.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const Bu={provide:ic,deps:[[new C.FiY,new C.tp0,ic]],useFactory:function Lu(D){return D||new ic}};let sl=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({providers:[Bu,te.rD],imports:[te.BQ,p.ez,ot.eL,Sn.ot,se,Me.Ps,te.si,te.BQ]}),D})();x(7625);let ju=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({imports:[te.uc,te.si,te.BQ,te.us,p.ez,te.uc,te.BQ,te.us,Pl]}),D})();x(591),x(6498);let Nd=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({}),D})(),At=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({imports:[Nd,te.BQ,te.BQ]}),D})(),ta=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({imports:[te.BQ,te.si,te.BQ]}),D})(),ll=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({imports:[It.rt,te.BQ,te.BQ]}),D})();var qs=x(7331);function yh(D,T){if(1&D&&(C.O4$(),C._UZ(0,"circle",4)),2&D){const u=C.oxw(),_=C.MAs(1);C.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+u._spinnerAnimationLabel)("stroke-dashoffset",u._getStrokeDashOffset(),"px")("stroke-dasharray",u._getStrokeCircumference(),"px")("stroke-width",u._getCircleStrokeWidth(),"%")("transform-origin",u._getCircleTransformOrigin(_)),C.uIk("r",u._getCircleRadius())}}function _f(D,T){if(1&D&&(C.O4$(),C._UZ(0,"circle",4)),2&D){const u=C.oxw(),_=C.MAs(1);C.Udp("stroke-dashoffset",u._getStrokeDashOffset(),"px")("stroke-dasharray",u._getStrokeCircumference(),"px")("stroke-width",u._getCircleStrokeWidth(),"%")("transform-origin",u._getCircleTransformOrigin(_)),C.uIk("r",u._getCircleRadius())}}const _u=(0,te.pj)(class{constructor(D){this._elementRef=D}},"primary"),Pc=new C.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function vf(){return{diameter:100}}});class Ma extends _u{constructor(T,u,_,O,ie,wt,Jt,Rn){super(T),this._document=_,this._diameter=100,this._value=0,this._resizeSubscription=we.w.EMPTY,this.mode="determinate";const gi=Ma._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),gi.has(_.head)||gi.set(_.head,new Set([100])),this._noopAnimations="NoopAnimations"===O&&!!ie&&!ie._forceAnimations,"mat-spinner"===T.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),ie&&(ie.color&&(this.color=this.defaultColor=ie.color),ie.diameter&&(this.diameter=ie.diameter),ie.strokeWidth&&(this.strokeWidth=ie.strokeWidth)),u.isBrowser&&u.SAFARI&&Jt&&wt&&Rn&&(this._resizeSubscription=Jt.change(150).subscribe(()=>{"indeterminate"===this.mode&&Rn.run(()=>wt.markForCheck())}))}get diameter(){return this._diameter}set diameter(T){this._diameter=(0,v.su)(T),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(T){this._strokeWidth=(0,v.su)(T)}get value(){return"determinate"===this.mode?this._value:0}set value(T){this._value=Math.max(0,Math.min(100,(0,v.su)(T)))}ngOnInit(){const T=this._elementRef.nativeElement;this._styleRoot=(0,ne.kV)(T)||this._document.head,this._attachStyleNode(),T.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const T=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${T} ${T}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(T){var u;const _=50*(null!==(u=T.currentScale)&&void 0!==u?u:1);return`${_}% ${_}%`}_attachStyleNode(){const T=this._styleRoot,u=this._diameter,_=Ma._diameters;let O=_.get(T);if(!O||!O.has(u)){const ie=this._document.createElement("style");ie.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),ie.textContent=this._getAnimationText(),T.appendChild(ie),O||(O=new Set,_.set(T,O)),O.add(u)}}_getAnimationText(){const T=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*T).replace(/END_VALUE/g,""+.2*T).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Ma._diameters=new WeakMap,Ma.\u0275fac=function(T){return new(T||Ma)(C.Y36(C.SBq),C.Y36(ne.t4),C.Y36(p.K0,8),C.Y36(C.QbO,8),C.Y36(Pc),C.Y36(C.sBO),C.Y36(Ue.rL),C.Y36(C.R0b))},Ma.\u0275cmp=C.Xpm({type:Ma,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(T,u){2&T&&(C.uIk("aria-valuemin","determinate"===u.mode?0:null)("aria-valuemax","determinate"===u.mode?100:null)("aria-valuenow","determinate"===u.mode?u.value:null)("mode",u.mode),C.Udp("width",u.diameter,"px")("height",u.diameter,"px"),C.ekj("_mat-animation-noopable",u._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[C.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(T,u){1&T&&(C.O4$(),C.TgZ(0,"svg",0,1),C.YNc(2,yh,1,11,"circle",2),C.YNc(3,_f,1,9,"circle",3),C.qZA()),2&T&&(C.Udp("width",u.diameter,"px")("height",u.diameter,"px"),C.Q6J("ngSwitch","indeterminate"===u.mode),C.uIk("viewBox",u._getViewBox()),C.xp6(2),C.Q6J("ngSwitchCase",!0),C.xp6(1),C.Q6J("ngSwitchCase",!1))},dependencies:[p.RF,p.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let _p=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({imports:[te.BQ,p.ez,te.BQ]}),D})(),vp=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({imports:[p.ez,te.BQ,te.BQ]}),D})();var yu=x(8242),bf=x(5938);let ym=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({imports:[Ie.U8,ot.eL,p.ez,Sn.ot,te.BQ,te.BQ]}),D})();const Eg={provide:new C.OlP("mat-tooltip-scroll-strategy"),deps:[Ie.aV],useFactory:function F_(D){return()=>D.scrollStrategies.reposition({scrollThrottle:20})}};let Eh=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({providers:[Eg],imports:[It.rt,p.ez,Ie.U8,te.BQ,te.BQ,Ue.ZD]}),D})(),Cf=(()=>{class D{constructor(){this.changes=new he.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(u,_,O)=>{if(0==O||0==_)return`0 of ${O}`;const ie=u*_;return`${ie+1} \u2013 ${ie<(O=Math.max(O,0))?Math.min(ie+_,O):ie+_} of ${O}`}}}return D.\u0275fac=function(u){return new(u||D)},D.\u0275prov=C.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const wf={provide:Cf,deps:[[new C.FiY,new C.tp0,Cf]],useFactory:function Ep(D){return D||new Cf}};let Mp=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({providers:[wf],imports:[p.ez,Sn.ot,No,Eh,te.BQ]}),D})(),Ef=(()=>{class D{constructor(){this.changes=new he.xQ}}return D.\u0275fac=function(u){return new(u||D)},D.\u0275prov=C.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const Ud={provide:Ef,deps:[[new C.FiY,new C.tp0,Ef]],useFactory:function Uc(D){return D||new Ef}};let ia=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({providers:[Ud],imports:[p.ez,te.BQ]}),D})();x(5254);let Ap=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({imports:[Ue.Cl]}),D})(),ad=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({imports:[Ap,te.BQ,te.BQ]}),D})();var Ri=x(3977);const zd=[p.ez,Ln,Yt,vs,ht.lN,oi.c,ba,No,Ql,W,_e.Tx,Ol,Pi,Fa.QW,Pl,Fl,ju,sl,Wn,At,Sn.ot,ta,ll,qs.Hi,Me.Ps,_p,ht.lN,oi.c,vp,te.si,yu._r,bf.Is,ym,Eh,Mp,ia,Ri._t,ad];let Ph=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({imports:[zd,p.ez,Ln,Yt,vs,ht.lN,oi.c,ba,No,Ql,W,_e.Tx,Ol,Pi,Fa.QW,Pl,Fl,ju,sl,Wn,At,Sn.ot,ta,ll,qs.Hi,Me.Ps,_p,ht.lN,oi.c,vp,te.si,yu._r,bf.Is,ym,Eh,Mp,ia,Ri._t,ad]}),D})();const Rf=[N.u5,N.UX,Ph];let Mm=(()=>{class D{}return D.\u0275fac=function(u){return new(u||D)},D.\u0275mod=C.oAB({type:D}),D.\u0275inj=C.cJS({imports:[p.ez,Rf,N.u5,N.UX,Ph]}),D})()},8100:(gn,_t,x)=>{"use strict";var p=x(1481),N=x(4650),v=x(7340);function C(c){return new N.vHH(3e3,!1)}function Ke(){return typeof window<"u"&&typeof window.document<"u"}function Tt(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function en(c){switch(c.length){case 0:return new v.ZN;case 1:return c[0];default:return new v.ZE(c)}}function Ln(c,i,o,d,g=new Map,S=new Map){const P=[],z=[];let le=-1,Te=null;if(d.forEach(mt=>{const bt=mt.get("offset"),Ht=bt==le,mn=Ht&&Te||new Map;mt.forEach((Cn,s)=>{let e=s,t=Cn;if("offset"!==s)switch(e=i.normalizePropertyName(e,P),t){case v.k1:t=g.get(s);break;case v.l3:t=S.get(s);break;default:t=i.normalizeStyleValue(s,e,t,P)}mn.set(e,t)}),Ht||z.push(mn),Te=mn,le=bt}),P.length)throw function Ge(c){return new N.vHH(3502,!1)}();return z}function It(c,i,o,d){switch(i){case"start":c.onStart(()=>d(o&&Qt(o,"start",c)));break;case"done":c.onDone(()=>d(o&&Qt(o,"done",c)));break;case"destroy":c.onDestroy(()=>d(o&&Qt(o,"destroy",c)))}}function Qt(c,i,o){const S=Mt(c.element,c.triggerName,c.fromState,c.toState,i||c.phaseName,o.totalTime??c.totalTime,!!o.disabled),P=c._data;return null!=P&&(S._data=P),S}function Mt(c,i,o,d,g="",S=0,P){return{element:c,triggerName:i,fromState:o,toState:d,phaseName:g,totalTime:S,disabled:!!P}}function $t(c,i,o){let d=c.get(i);return d||c.set(i,d=o),d}function wn(c){const i=c.indexOf(":");return[c.substring(1,i),c.slice(i+1)]}let zt=(c,i)=>!1,Gn=(c,i,o)=>[],Dn=null;function pt(c){const i=c.parentNode||c.host;return i===Dn?null:i}(Tt()||typeof Element<"u")&&(Ke()?(Dn=(()=>document.documentElement)(),zt=(c,i)=>{for(;i;){if(i===c)return!0;i=pt(i)}return!1}):zt=(c,i)=>c.contains(i),Gn=(c,i,o)=>{if(o)return Array.from(c.querySelectorAll(i));const d=c.querySelector(i);return d?[d]:[]});let Pe=null,ce=!1;const Ut=zt,Nt=Gn;let Sn=(()=>{class c{validateStyleProperty(o){return function Ye(c){Pe||(Pe=function We(){return typeof document<"u"?document.body:null}()||{},ce=!!Pe.style&&"WebkitAppearance"in Pe.style);let i=!0;return Pe.style&&!function de(c){return"ebkit"==c.substring(1,6)}(c)&&(i=c in Pe.style,!i&&ce&&(i="Webkit"+c.charAt(0).toUpperCase()+c.slice(1)in Pe.style)),i}(o)}matchesElement(o,d){return!1}containsElement(o,d){return Ut(o,d)}getParentElement(o){return pt(o)}query(o,d,g){return Nt(o,d,g)}computeStyle(o,d,g){return g||""}animate(o,d,g,S,P,z=[],le){return new v.ZN(g,S)}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275prov=N.Yz7({token:c,factory:c.\u0275fac}),c})(),Dt=(()=>{class c{}return c.NOOP=new Sn,c})();const Ii="ng-enter",Tn="ng-leave",Wt="ng-trigger",gt=".ng-trigger",Et="ng-animating",ln=".ng-animating";function fn(c){if("number"==typeof c)return c;const i=c.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:lt(parseFloat(i[1]),i[2])}function lt(c,i){return"s"===i?1e3*c:c}function st(c,i,o){return c.hasOwnProperty("duration")?c:function Xe(c,i,o){let g,S=0,P="";if("string"==typeof c){const z=c.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===z)return i.push(C()),{duration:0,delay:0,easing:""};g=lt(parseFloat(z[1]),z[2]);const le=z[3];null!=le&&(S=lt(parseFloat(le),z[4]));const Te=z[5];Te&&(P=Te)}else g=c;if(!o){let z=!1,le=i.length;g<0&&(i.push(function te(){return new N.vHH(3100,!1)}()),z=!0),S<0&&(i.push(function we(){return new N.vHH(3101,!1)}()),z=!0),z&&i.splice(le,0,C())}return{duration:g,delay:S,easing:P}}(c,i,o)}function St(c,i={}){return Object.keys(c).forEach(o=>{i[o]=c[o]}),i}function Gt(c){const i=new Map;return Object.keys(c).forEach(o=>{i.set(o,c[o])}),i}function G(c,i=new Map,o){if(o)for(let[d,g]of o)i.set(d,g);for(let[d,g]of c)i.set(d,g);return i}function X(c,i,o){return o?i+":"+o+";":""}function K(c){let i="";for(let o=0;o<c.style.length;o++){const d=c.style.item(o);i+=X(0,d,c.style.getPropertyValue(d))}for(const o in c.style)c.style.hasOwnProperty(o)&&!o.startsWith("_")&&(i+=X(0,Ce(o),c.style[o]));c.setAttribute("style",i)}function fe(c,i,o){c.style&&(i.forEach((d,g)=>{const S=De(g);o&&!o.has(g)&&o.set(g,c.style[S]),c.style[S]=d}),Tt()&&K(c))}function Qe(c,i){c.style&&(i.forEach((o,d)=>{const g=De(d);c.style[g]=""}),Tt()&&K(c))}function Ct(c){return Array.isArray(c)?1==c.length?c[0]:(0,v.vP)(c):c}const pn=new RegExp("{{\\s*(.+?)\\s*}}","g");function ze(c){let i=[];if("string"==typeof c){let o;for(;o=pn.exec(c);)i.push(o[1]);pn.lastIndex=0}return i}function He(c,i,o){const d=c.toString(),g=d.replace(pn,(S,P)=>{let z=i[P];return null==z&&(o.push(function Se(c){return new N.vHH(3003,!1)}()),z=""),z.toString()});return g==d?c:g}function Ve(c){const i=[];let o=c.next();for(;!o.done;)i.push(o.value),o=c.next();return i}const je=/-+([a-z0-9])/g;function De(c){return c.replace(je,(...i)=>i[1].toUpperCase())}function Ce(c){return c.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function sn(c,i,o){switch(i.type){case 7:return c.visitTrigger(i,o);case 0:return c.visitState(i,o);case 1:return c.visitTransition(i,o);case 2:return c.visitSequence(i,o);case 3:return c.visitGroup(i,o);case 4:return c.visitAnimate(i,o);case 5:return c.visitKeyframes(i,o);case 6:return c.visitStyle(i,o);case 8:return c.visitReference(i,o);case 9:return c.visitAnimateChild(i,o);case 10:return c.visitAnimateRef(i,o);case 11:return c.visitQuery(i,o);case 12:return c.visitStagger(i,o);default:throw function ae(c){return new N.vHH(3004,!1)}()}}function Yn(c,i){return window.getComputedStyle(c)[i]}function Mr(c,i){const o=[];return"string"==typeof c?c.split(/\s*,\s*/).forEach(d=>function wr(c,i,o){if(":"==c[0]){const le=function rs(c,i){switch(c){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,d)=>parseFloat(d)>parseFloat(o);case":decrement":return(o,d)=>parseFloat(d)<parseFloat(o);default:return i.push(function ft(c){return new N.vHH(3016,!1)}()),"* => *"}}(c,o);if("function"==typeof le)return void i.push(le);c=le}const d=c.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==d||d.length<4)return o.push(function Le(c){return new N.vHH(3015,!1)}()),i;const g=d[1],S=d[2],P=d[3];i.push(ss(g,P));"<"==S[0]&&!("*"==g&&"*"==P)&&i.push(ss(P,g))}(d,o,i)):o.push(c),o}const $i=new Set(["true","1"]),js=new Set(["false","0"]);function ss(c,i){const o=$i.has(c)||js.has(c),d=$i.has(i)||js.has(i);return(g,S)=>{let P="*"==c||c==g,z="*"==i||i==S;return!P&&o&&"boolean"==typeof g&&(P=g?$i.has(c):js.has(c)),!z&&d&&"boolean"==typeof S&&(z=S?$i.has(i):js.has(i)),P&&z}}const os=new RegExp("s*:selfs*,?","g");function zr(c,i,o,d){return new Ms(c).build(i,o,d)}class Ms{constructor(i){this._driver=i}build(i,o,d){const g=new Rr(o);return this._resetContextStyleTimingState(g),sn(this,Ct(i),g)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles=new Map,i.collectedStyles.set("",new Map),i.currentTime=0}visitTrigger(i,o){let d=o.queryCount=0,g=o.depCount=0;const S=[],P=[];return"@"==i.name.charAt(0)&&o.errors.push(function ye(){return new N.vHH(3006,!1)}()),i.definitions.forEach(z=>{if(this._resetContextStyleTimingState(o),0==z.type){const le=z,Te=le.name;Te.toString().split(/\s*,\s*/).forEach(mt=>{le.name=mt,S.push(this.visitState(le,o))}),le.name=Te}else if(1==z.type){const le=this.visitTransition(z,o);d+=le.queryCount,g+=le.depCount,P.push(le)}else o.errors.push(function Ie(){return new N.vHH(3007,!1)}())}),{type:7,name:i.name,states:S,transitions:P,queryCount:d,depCount:g,options:null}}visitState(i,o){const d=this.visitStyle(i.styles,o),g=i.options&&i.options.params||null;if(d.containsDynamicStyles){const S=new Set,P=g||{};d.styles.forEach(z=>{z instanceof Map&&z.forEach(le=>{ze(le).forEach(Te=>{P.hasOwnProperty(Te)||S.add(Te)})})}),S.size&&(Ve(S.values()),o.errors.push(function Ue(c,i){return new N.vHH(3008,!1)}()))}return{type:0,name:i.name,style:d,options:g?{params:g}:null}}visitTransition(i,o){o.queryCount=0,o.depCount=0;const d=sn(this,Ct(i.animation),o);return{type:1,matchers:Mr(i.expr,o.errors),animation:d,queryCount:o.queryCount,depCount:o.depCount,options:as(i.options)}}visitSequence(i,o){return{type:2,steps:i.steps.map(d=>sn(this,d,o)),options:as(i.options)}}visitGroup(i,o){const d=o.currentTime;let g=0;const S=i.steps.map(P=>{o.currentTime=d;const z=sn(this,P,o);return g=Math.max(g,o.currentTime),z});return o.currentTime=g,{type:3,steps:S,options:as(i.options)}}visitAnimate(i,o){const d=function Ao(c,i){if(c.hasOwnProperty("duration"))return c;if("number"==typeof c)return gs(st(c,i).duration,0,"");const o=c;if(o.split(/\s+/).some(S=>"{"==S.charAt(0)&&"{"==S.charAt(1))){const S=gs(0,0,"");return S.dynamic=!0,S.strValue=o,S}const g=st(o,i);return gs(g.duration,g.delay,g.easing)}(i.timings,o.errors);o.currentAnimateTimings=d;let g,S=i.styles?i.styles:(0,v.oB)({});if(5==S.type)g=this.visitKeyframes(S,o);else{let P=i.styles,z=!1;if(!P){z=!0;const Te={};d.easing&&(Te.easing=d.easing),P=(0,v.oB)(Te)}o.currentTime+=d.duration+d.delay;const le=this.visitStyle(P,o);le.isEmptyStep=z,g=le}return o.currentAnimateTimings=null,{type:4,timings:d,style:g,options:null}}visitStyle(i,o){const d=this._makeStyleAst(i,o);return this._validateStyleAst(d,o),d}_makeStyleAst(i,o){const d=[],g=Array.isArray(i.styles)?i.styles:[i.styles];for(let z of g)"string"==typeof z?z===v.l3?d.push(z):o.errors.push(new N.vHH(3002,!1)):d.push(Gt(z));let S=!1,P=null;return d.forEach(z=>{if(z instanceof Map&&(z.has("easing")&&(P=z.get("easing"),z.delete("easing")),!S))for(let le of z.values())if(le.toString().indexOf("{{")>=0){S=!0;break}}),{type:6,styles:d,easing:P,offset:i.offset,containsDynamicStyles:S,options:null}}_validateStyleAst(i,o){const d=o.currentAnimateTimings;let g=o.currentTime,S=o.currentTime;d&&S>0&&(S-=d.duration+d.delay),i.styles.forEach(P=>{"string"!=typeof P&&P.forEach((z,le)=>{const Te=o.collectedStyles.get(o.currentQuerySelector),mt=Te.get(le);let bt=!0;mt&&(S!=g&&S>=mt.startTime&&g<=mt.endTime&&(o.errors.push(function ot(c,i,o,d,g){return new N.vHH(3010,!1)}()),bt=!1),S=mt.startTime),bt&&Te.set(le,{startTime:S,endTime:g}),o.options&&function dn(c,i,o){const d=i.params||{},g=ze(c);g.length&&g.forEach(S=>{d.hasOwnProperty(S)||o.push(function he(c){return new N.vHH(3001,!1)}())})}(z,o.options,o.errors)})})}visitKeyframes(i,o){const d={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function ht(){return new N.vHH(3011,!1)}()),d;let S=0;const P=[];let z=!1,le=!1,Te=0;const mt=i.steps.map(t=>{const a=this._makeStyleAst(t,o);let f=null!=a.offset?a.offset:function Cr(c){if("string"==typeof c)return null;let i=null;if(Array.isArray(c))c.forEach(o=>{if(o instanceof Map&&o.has("offset")){const d=o;i=parseFloat(d.get("offset")),d.delete("offset")}});else if(c instanceof Map&&c.has("offset")){const o=c;i=parseFloat(o.get("offset")),o.delete("offset")}return i}(a.styles),y=0;return null!=f&&(S++,y=a.offset=f),le=le||y<0||y>1,z=z||y<Te,Te=y,P.push(y),a});le&&o.errors.push(function jt(){return new N.vHH(3012,!1)}()),z&&o.errors.push(function ut(){return new N.vHH(3200,!1)}());const bt=i.steps.length;let Ht=0;S>0&&S<bt?o.errors.push(function kt(){return new N.vHH(3202,!1)}()):0==S&&(Ht=1/(bt-1));const mn=bt-1,Cn=o.currentTime,s=o.currentAnimateTimings,e=s.duration;return mt.forEach((t,a)=>{const f=Ht>0?a==mn?1:Ht*a:P[a],y=f*e;o.currentTime=Cn+s.delay+y,s.duration=y,this._validateStyleAst(t,o),t.offset=f,d.styles.push(t)}),d}visitReference(i,o){return{type:8,animation:sn(this,Ct(i.animation),o),options:as(i.options)}}visitAnimateChild(i,o){return o.depCount++,{type:9,options:as(i.options)}}visitAnimateRef(i,o){return{type:10,animation:this.visitReference(i.animation,o),options:as(i.options)}}visitQuery(i,o){const d=o.currentQuerySelector,g=i.options||{};o.queryCount++,o.currentQuery=i;const[S,P]=function lr(c){const i=!!c.split(/\s*,\s*/).find(o=>":self"==o);return i&&(c=c.replace(os,"")),c=c.replace(/@\*/g,gt).replace(/@\w+/g,o=>gt+"-"+o.slice(1)).replace(/:animating/g,ln),[c,i]}(i.selector);o.currentQuerySelector=d.length?d+" "+S:S,$t(o.collectedStyles,o.currentQuerySelector,new Map);const z=sn(this,Ct(i.animation),o);return o.currentQuery=null,o.currentQuerySelector=d,{type:11,selector:S,limit:g.limit||0,optional:!!g.optional,includeSelf:P,animation:z,originalSelector:i.selector,options:as(i.options)}}visitStagger(i,o){o.currentQuery||o.errors.push(function vt(){return new N.vHH(3013,!1)}());const d="full"===i.timings?{duration:0,delay:0,easing:"full"}:st(i.timings,o.errors,!0);return{type:12,animation:sn(this,Ct(i.animation),o),timings:d,options:null}}}class Rr{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function as(c){return c?(c=St(c)).params&&(c.params=function $o(c){return c?St(c):null}(c.params)):c={},c}function gs(c,i,o){return{duration:c,delay:i,easing:o}}function Yi(c,i,o,d,g,S,P=null,z=!1){return{type:1,element:c,keyframes:i,preStyleProps:o,postStyleProps:d,duration:g,delay:S,totalTime:g+S,easing:P,subTimeline:z}}class Is{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,o){let d=this._map.get(i);d||this._map.set(i,d=[]),d.push(...o)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const Oa=new RegExp(":enter","g"),_s=new RegExp(":leave","g");function Pt(c,i,o,d,g,S=new Map,P=new Map,z,le,Te=[]){return(new Rt).buildKeyframes(c,i,o,d,g,S,P,z,le,Te)}class Rt{buildKeyframes(i,o,d,g,S,P,z,le,Te,mt=[]){Te=Te||new Is;const bt=new vn(i,o,Te,g,S,mt,[]);bt.options=le;const Ht=le.delay?fn(le.delay):0;bt.currentTimeline.delayNextStep(Ht),bt.currentTimeline.setStyles([P],null,bt.errors,le),sn(this,d,bt);const mn=bt.timelines.filter(Cn=>Cn.containsAnimation());if(mn.length&&z.size){let Cn;for(let s=mn.length-1;s>=0;s--){const e=mn[s];if(e.element===o){Cn=e;break}}Cn&&!Cn.allowOnlyTimelineStyles()&&Cn.setStyles([z],null,bt.errors,le)}return mn.length?mn.map(Cn=>Cn.buildKeyframes()):[Yi(o,[],[],[],0,Ht,"",!1)]}visitTrigger(i,o){}visitState(i,o){}visitTransition(i,o){}visitAnimateChild(i,o){const d=o.subInstructions.get(o.element);if(d){const g=o.createSubContext(i.options),S=o.currentTimeline.currentTime,P=this._visitSubInstructions(d,g,g.options);S!=P&&o.transformIntoNewTimeline(P)}o.previousNode=i}visitAnimateRef(i,o){const d=o.createSubContext(i.options);d.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],o,d),this.visitReference(i.animation,d),o.transformIntoNewTimeline(d.currentTimeline.currentTime),o.previousNode=i}_applyAnimationRefDelays(i,o,d){for(const S of i){const P=S?.delay;if(P){var g;const z="number"==typeof P?P:fn(He(P,null!==(g=S?.params)&&void 0!==g?g:{},o.errors));d.delayNextStep(z)}}}_visitSubInstructions(i,o,d){let S=o.currentTimeline.currentTime;const P=null!=d.duration?fn(d.duration):null,z=null!=d.delay?fn(d.delay):null;return 0!==P&&i.forEach(le=>{const Te=o.appendInstructionToTimeline(le,P,z);S=Math.max(S,Te.duration+Te.delay)}),S}visitReference(i,o){o.updateOptions(i.options,!0),sn(this,i.animation,o),o.previousNode=i}visitSequence(i,o){const d=o.subContextCount;let g=o;const S=i.options;if(S&&(S.params||S.delay)&&(g=o.createSubContext(S),g.transformIntoNewTimeline(),null!=S.delay)){6==g.previousNode.type&&(g.currentTimeline.snapshotCurrentStyles(),g.previousNode=qt);const P=fn(S.delay);g.delayNextStep(P)}i.steps.length&&(i.steps.forEach(P=>sn(this,P,g)),g.currentTimeline.applyStylesToKeyframe(),g.subContextCount>d&&g.transformIntoNewTimeline()),o.previousNode=i}visitGroup(i,o){const d=[];let g=o.currentTimeline.currentTime;const S=i.options&&i.options.delay?fn(i.options.delay):0;i.steps.forEach(P=>{const z=o.createSubContext(i.options);S&&z.delayNextStep(S),sn(this,P,z),g=Math.max(g,z.currentTimeline.currentTime),d.push(z.currentTimeline)}),d.forEach(P=>o.currentTimeline.mergeTimelineCollectedStyles(P)),o.transformIntoNewTimeline(g),o.previousNode=i}_visitTiming(i,o){if(i.dynamic){const d=i.strValue;return st(o.params?He(d,o.params,o.errors):d,o.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,o){const d=o.currentAnimateTimings=this._visitTiming(i.timings,o),g=o.currentTimeline;d.delay&&(o.incrementTime(d.delay),g.snapshotCurrentStyles());const S=i.style;5==S.type?this.visitKeyframes(S,o):(o.incrementTime(d.duration),this.visitStyle(S,o),g.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=i}visitStyle(i,o){const d=o.currentTimeline,g=o.currentAnimateTimings;!g&&d.hasCurrentStyleProperties()&&d.forwardFrame();const S=g&&g.easing||i.easing;i.isEmptyStep?d.applyEmptyStep(S):d.setStyles(i.styles,S,o.errors,o.options),o.previousNode=i}visitKeyframes(i,o){const d=o.currentAnimateTimings,g=o.currentTimeline.duration,S=d.duration,z=o.createSubContext().currentTimeline;z.easing=d.easing,i.styles.forEach(le=>{z.forwardTime((le.offset||0)*S),z.setStyles(le.styles,le.easing,o.errors,o.options),z.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(z),o.transformIntoNewTimeline(g+S),o.previousNode=i}visitQuery(i,o){const d=o.currentTimeline.currentTime,g=i.options||{},S=g.delay?fn(g.delay):0;S&&(6===o.previousNode.type||0==d&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=qt);let P=d;const z=o.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!g.optional,o.errors);o.currentQueryTotal=z.length;let le=null;z.forEach((Te,mt)=>{o.currentQueryIndex=mt;const bt=o.createSubContext(i.options,Te);S&&bt.delayNextStep(S),Te===o.element&&(le=bt.currentTimeline),sn(this,i.animation,bt),bt.currentTimeline.applyStylesToKeyframe(),P=Math.max(P,bt.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(P),le&&(o.currentTimeline.mergeTimelineCollectedStyles(le),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=i}visitStagger(i,o){const d=o.parentContext,g=o.currentTimeline,S=i.timings,P=Math.abs(S.duration),z=P*(o.currentQueryTotal-1);let le=P*o.currentQueryIndex;switch(S.duration<0?"reverse":S.easing){case"reverse":le=z-le;break;case"full":le=d.currentStaggerTime}const mt=o.currentTimeline;le&&mt.delayNextStep(le);const bt=mt.currentTime;sn(this,i.animation,o),o.previousNode=i,d.currentStaggerTime=g.currentTime-bt+(g.startTime-d.currentTimeline.startTime)}}const qt={};class vn{constructor(i,o,d,g,S,P,z,le){this._driver=i,this.element=o,this.subInstructions=d,this._enterClassName=g,this._leaveClassName=S,this.errors=P,this.timelines=z,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=qt,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=le||new Fn(this._driver,o,0),z.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,o){if(!i)return;const d=i;let g=this.options;null!=d.duration&&(g.duration=fn(d.duration)),null!=d.delay&&(g.delay=fn(d.delay));const S=d.params;if(S){let P=g.params;P||(P=this.options.params={}),Object.keys(S).forEach(z=>{(!o||!P.hasOwnProperty(z))&&(P[z]=He(S[z],P,this.errors))})}}_copyOptions(){const i={};if(this.options){const o=this.options.params;if(o){const d=i.params={};Object.keys(o).forEach(g=>{d[g]=o[g]})}}return i}createSubContext(i=null,o,d){const g=o||this.element,S=new vn(this._driver,g,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(g,d||0));return S.previousNode=this.previousNode,S.currentAnimateTimings=this.currentAnimateTimings,S.options=this._copyOptions(),S.updateOptions(i),S.currentQueryIndex=this.currentQueryIndex,S.currentQueryTotal=this.currentQueryTotal,S.parentContext=this,this.subContextCount++,S}transformIntoNewTimeline(i){return this.previousNode=qt,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,o,d){const g={duration:o??i.duration,delay:this.currentTimeline.currentTime+(d??0)+i.delay,easing:""},S=new si(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,g,i.stretchStartingKeyframe);return this.timelines.push(S),g}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,o,d,g,S,P){let z=[];if(g&&z.push(this.element),i.length>0){i=(i=i.replace(Oa,"."+this._enterClassName)).replace(_s,"."+this._leaveClassName);let Te=this._driver.query(this.element,i,1!=d);0!==d&&(Te=d<0?Te.slice(Te.length+d,Te.length):Te.slice(0,d)),z.push(...Te)}return!S&&0==z.length&&P.push(function et(c){return new N.vHH(3014,!1)}()),z}}class Fn{constructor(i,o,d,g){this._driver=i,this.element=o,this.startTime=d,this._elementTimelineStylesLookup=g,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+i),o&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,o){return this.applyStylesToKeyframe(),new Fn(this._driver,i,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,o){this._localTimelineStyles.set(i,o),this._globalTimelineStyles.set(i,o),this._styleSummary.set(i,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[o,d]of this._globalTimelineStyles)this._backFill.set(o,d||v.l3),this._currentKeyframe.set(o,v.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,o,d,g){o&&this._previousKeyframe.set("easing",o);const S=g&&g.params||{},P=function Nr(c,i){const o=new Map;let d;return c.forEach(g=>{if("*"===g){d=d||i.keys();for(let S of d)o.set(S,v.l3)}else G(g,o)}),o}(i,this._globalTimelineStyles);for(let[le,Te]of P){const mt=He(Te,S,d);var z;this._pendingStyles.set(le,mt),this._localTimelineStyles.has(le)||this._backFill.set(le,null!==(z=this._globalTimelineStyles.get(le))&&void 0!==z?z:v.l3),this._updateStyle(le,mt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((i,o)=>{this._currentKeyframe.set(o,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,i)}))}snapshotCurrentStyles(){for(let[i,o]of this._localTimelineStyles)this._pendingStyles.set(i,o),this._updateStyle(i,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let o in this._currentKeyframe)i.push(o);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((o,d)=>{const g=this._styleSummary.get(d);(!g||o.time>g.time)&&this._updateStyle(d,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,o=new Set,d=1===this._keyframes.size&&0===this.duration;let g=[];this._keyframes.forEach((z,le)=>{const Te=G(z,new Map,this._backFill);Te.forEach((mt,bt)=>{mt===v.k1?i.add(bt):mt===v.l3&&o.add(bt)}),d||Te.set("offset",le/this.duration),g.push(Te)});const S=i.size?Ve(i.values()):[],P=o.size?Ve(o.values()):[];if(d){const z=g[0],le=new Map(z);z.set("offset",0),le.set("offset",1),g=[z,le]}return Yi(this.element,g,S,P,this.duration,this.startTime,this.easing,!1)}}class si extends Fn{constructor(i,o,d,g,S,P,z=!1){super(i,o,P.delay),this.keyframes=d,this.preStyleProps=g,this.postStyleProps=S,this._stretchStartingKeyframe=z,this.timings={duration:P.duration,delay:P.delay,easing:P.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:o,duration:d,easing:g}=this.timings;if(this._stretchStartingKeyframe&&o){const S=[],P=d+o,z=o/P,le=G(i[0]);le.set("offset",0),S.push(le);const Te=G(i[0]);Te.set("offset",Di(z)),S.push(Te);const mt=i.length-1;for(let bt=1;bt<=mt;bt++){let Ht=G(i[bt]);const mn=Ht.get("offset");Ht.set("offset",Di((o+mn*d)/P)),S.push(Ht)}d=P,o=0,g="",i=S}return Yi(this.element,i,this.preStyleProps,this.postStyleProps,d,o,g,!0)}}function Di(c,i=3){const o=Math.pow(10,i-1);return Math.round(c*o)/o}class jr{}const xs=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ko extends jr{normalizePropertyName(i,o){return De(i)}normalizeStyleValue(i,o,d,g){let S="";const P=d.toString().trim();if(xs.has(o)&&0!==d&&"0"!==d)if("number"==typeof d)S="px";else{const z=d.match(/^[+-]?[\d\.]+([a-z]*)$/);z&&0==z[1].length&&g.push(function me(c,i){return new N.vHH(3005,!1)}())}return P+S}}function vs(c,i,o,d,g,S,P,z,le,Te,mt,bt,Ht){return{type:0,element:c,triggerName:i,isRemovalTransition:g,fromState:o,fromStyles:S,toState:d,toStyles:P,timelines:z,queriedElements:le,preStyleProps:Te,postStyleProps:mt,totalTime:bt,errors:Ht}}const Dr={};class $s{constructor(i,o,d){this._triggerName=i,this.ast=o,this._stateStyles=d}match(i,o,d,g){return function bo(c,i,o,d,g){return c.some(S=>S(i,o,d,g))}(this.ast.matchers,i,o,d,g)}buildStyles(i,o,d){let g=this._stateStyles.get("*");return void 0!==i&&(g=this._stateStyles.get(i?.toString())||g),g?g.buildStyles(o,d):new Map}build(i,o,d,g,S,P,z,le,Te,mt){var bt;const Ht=[],mn=this.ast.options&&this.ast.options.params||Dr,s=this.buildStyles(d,z&&z.params||Dr,Ht),e=le&&le.params||Dr,t=this.buildStyles(g,e,Ht),a=new Set,f=new Map,y=new Map,M="void"===g,U={params:Co(e,mn),delay:null===(bt=this.ast.options)||void 0===bt?void 0:bt.delay},oe=mt?[]:Pt(i,o,this.ast.animation,S,P,s,t,U,Te,Ht);let ve=0;if(oe.forEach(yt=>{ve=Math.max(yt.duration+yt.delay,ve)}),Ht.length)return vs(o,this._triggerName,d,g,M,s,t,[],[],f,y,ve,Ht);oe.forEach(yt=>{const Zt=yt.element,yn=$t(f,Zt,new Set);yt.preStyleProps.forEach(ri=>yn.add(ri));const En=$t(y,Zt,new Set);yt.postStyleProps.forEach(ri=>En.add(ri)),Zt!==o&&a.add(Zt)});const $e=Ve(a.values());return vs(o,this._triggerName,d,g,M,s,t,oe,$e,f,y,ve)}}function Co(c,i){const o=St(i);for(const d in c)c.hasOwnProperty(d)&&null!=c[d]&&(o[d]=c[d]);return o}class aa{constructor(i,o,d){this.styles=i,this.defaultParams=o,this.normalizer=d}buildStyles(i,o){const d=new Map,g=St(this.defaultParams);return Object.keys(i).forEach(S=>{const P=i[S];null!==P&&(g[S]=P)}),this.styles.styles.forEach(S=>{"string"!=typeof S&&S.forEach((P,z)=>{P&&(P=He(P,g,o));const le=this.normalizer.normalizePropertyName(z,o);P=this.normalizer.normalizeStyleValue(z,le,P,o),d.set(le,P)})}),d}}class wo{constructor(i,o,d){this.name=i,this.ast=o,this._normalizer=d,this.transitionFactories=[],this.states=new Map,o.states.forEach(g=>{this.states.set(g.name,new aa(g.style,g.options&&g.options.params||{},d))}),ys(this.states,"true","1"),ys(this.states,"false","0"),o.transitions.forEach(g=>{this.transitionFactories.push(new $s(i,g,this.states))}),this.fallbackTransition=function Gs(c,i,o){return new $s(c,{type:1,animation:{type:2,steps:[],options:null},matchers:[(P,z)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,o,d,g){return this.transitionFactories.find(P=>P.match(i,o,d,g))||null}matchStyles(i,o,d){return this.fallbackTransition.buildStyles(i,o,d)}}function ys(c,i,o){c.has(i)?c.has(o)||c.set(o,c.get(i)):c.has(o)&&c.set(i,c.get(o))}const As=new Is;class ks{constructor(i,o,d){this.bodyNode=i,this._driver=o,this._normalizer=d,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,o){const d=[],S=zr(this._driver,o,d,[]);if(d.length)throw function Ot(c){return new N.vHH(3503,!1)}();this._animations.set(i,S)}_buildPlayer(i,o,d){const g=i.element,S=Ln(0,this._normalizer,0,i.keyframes,o,d);return this._driver.animate(g,S,i.duration,i.delay,i.easing,[],!0)}create(i,o,d={}){const g=[],S=this._animations.get(i);let P;const z=new Map;if(S?(P=Pt(this._driver,o,S,Ii,Tn,new Map,new Map,d,As,g),P.forEach(mt=>{const bt=$t(z,mt.element,new Map);mt.postStyleProps.forEach(Ht=>bt.set(Ht,null))})):(g.push(function Bt(){return new N.vHH(3300,!1)}()),P=[]),g.length)throw function bn(c){return new N.vHH(3504,!1)}();z.forEach((mt,bt)=>{mt.forEach((Ht,mn)=>{mt.set(mn,this._driver.computeStyle(bt,mn,v.l3))})});const Te=en(P.map(mt=>{const bt=z.get(mt.element);return this._buildPlayer(mt,new Map,bt)}));return this._playersById.set(i,Te),Te.onDestroy(()=>this.destroy(i)),this.players.push(Te),Te}destroy(i){const o=this._getPlayer(i);o.destroy(),this._playersById.delete(i);const d=this.players.indexOf(o);d>=0&&this.players.splice(d,1)}_getPlayer(i){const o=this._playersById.get(i);if(!o)throw function qn(c){return new N.vHH(3301,!1)}();return o}listen(i,o,d,g){const S=Mt(o,"","","");return It(this._getPlayer(i),d,S,g),()=>{}}command(i,o,d,g){if("register"==d)return void this.register(i,g[0]);if("create"==d)return void this.create(i,o,g[0]||{});const S=this._getPlayer(i);switch(d){case"play":S.play();break;case"pause":S.pause();break;case"reset":S.reset();break;case"restart":S.restart();break;case"finish":S.finish();break;case"init":S.init();break;case"setPosition":S.setPosition(parseFloat(g[0]));break;case"destroy":this.destroy(i)}}}const zs="ng-animate-queued",Wr="ng-animate-disabled",Ws=[],Qs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},mr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Yr="__ng_removed";class Wo{constructor(i,o=""){this.namespaceId=o;const d=i&&i.hasOwnProperty("value");if(this.value=function Oo(c){return c??null}(d?i.value:i),d){const S=St(i);delete S.value,this.options=S}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(i){const o=i.params;if(o){const d=this.options.params;Object.keys(o).forEach(g=>{null==d[g]&&(d[g]=o[g])})}}}const Ai="void",Kr=new Wo(Ai);class io{constructor(i,o,d){this.id=i,this.hostElement=o,this._engine=d,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,fi(o,this._hostClassName)}listen(i,o,d,g){if(!this._triggers.has(o))throw function jn(c,i){return new N.vHH(3302,!1)}();if(null==d||0==d.length)throw function ai(c){return new N.vHH(3303,!1)}();if(!function Yo(c){return"start"==c||"done"==c}(d))throw function Vn(c,i){return new N.vHH(3400,!1)}();const S=$t(this._elementListeners,i,[]),P={name:o,phase:d,callback:g};S.push(P);const z=$t(this._engine.statesByElement,i,new Map);return z.has(o)||(fi(i,Wt),fi(i,Wt+"-"+o),z.set(o,Kr)),()=>{this._engine.afterFlush(()=>{const le=S.indexOf(P);le>=0&&S.splice(le,1),this._triggers.has(o)||z.delete(o)})}}register(i,o){return!this._triggers.has(i)&&(this._triggers.set(i,o),!0)}_getTrigger(i){const o=this._triggers.get(i);if(!o)throw function rn(c){return new N.vHH(3401,!1)}();return o}trigger(i,o,d,g=!0){const S=this._getTrigger(o),P=new la(this.id,o,i);let z=this._engine.statesByElement.get(i);z||(fi(i,Wt),fi(i,Wt+"-"+o),this._engine.statesByElement.set(i,z=new Map));let le=z.get(o);const Te=new Wo(d,this.id);if(!(d&&d.hasOwnProperty("value"))&&le&&Te.absorbOptions(le.options),z.set(o,Te),le||(le=Kr),Te.value!==Ai&&le.value===Te.value){if(!function Ca(c,i){const o=Object.keys(c),d=Object.keys(i);if(o.length!=d.length)return!1;for(let g=0;g<o.length;g++){const S=o[g];if(!i.hasOwnProperty(S)||c[S]!==i[S])return!1}return!0}(le.params,Te.params)){const s=[],e=S.matchStyles(le.value,le.params,s),t=S.matchStyles(Te.value,Te.params,s);s.length?this._engine.reportError(s):this._engine.afterFlush(()=>{Qe(i,e),fe(i,t)})}return}const Ht=$t(this._engine.playersByElement,i,[]);Ht.forEach(s=>{s.namespaceId==this.id&&s.triggerName==o&&s.queued&&s.destroy()});let mn=S.matchTransition(le.value,Te.value,i,Te.params),Cn=!1;if(!mn){if(!g)return;mn=S.fallbackTransition,Cn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:o,transition:mn,fromState:le,toState:Te,player:P,isFallbackTransition:Cn}),Cn||(fi(i,zs),P.onStart(()=>{Ir(i,zs)})),P.onDone(()=>{let s=this.players.indexOf(P);s>=0&&this.players.splice(s,1);const e=this._engine.playersByElement.get(i);if(e){let t=e.indexOf(P);t>=0&&e.splice(t,1)}}),this.players.push(P),Ht.push(P),P}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(o=>o.delete(i)),this._elementListeners.forEach((o,d)=>{this._elementListeners.set(d,o.filter(g=>g.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const o=this._engine.playersByElement.get(i);o&&(o.forEach(d=>d.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,o){const d=this._engine.driver.query(i,gt,!0);d.forEach(g=>{if(g[Yr])return;const S=this._engine.fetchNamespacesByElement(g);S.size?S.forEach(P=>P.triggerLeaveAnimation(g,o,!1,!0)):this.clearElementCache(g)}),this._engine.afterFlushAnimationsDone(()=>d.forEach(g=>this.clearElementCache(g)))}triggerLeaveAnimation(i,o,d,g){const S=this._engine.statesByElement.get(i),P=new Map;if(S){const z=[];if(S.forEach((le,Te)=>{if(P.set(Te,le.value),this._triggers.has(Te)){const mt=this.trigger(i,Te,Ai,g);mt&&z.push(mt)}}),z.length)return this._engine.markElementAsRemoved(this.id,i,!0,o,P),d&&en(z).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const o=this._elementListeners.get(i),d=this._engine.statesByElement.get(i);if(o&&d){const g=new Set;o.forEach(S=>{const P=S.name;if(g.has(P))return;g.add(P);const le=this._triggers.get(P).fallbackTransition,Te=d.get(P)||Kr,mt=new Wo(Ai),bt=new la(this.id,P,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:P,transition:le,fromState:Te,toState:mt,player:bt,isFallbackTransition:!0})})}}removeNode(i,o){const d=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,o),this.triggerLeaveAnimation(i,o,!0))return;let g=!1;if(d.totalAnimations){const S=d.players.length?d.playersByQueriedElement.get(i):[];if(S&&S.length)g=!0;else{let P=i;for(;P=P.parentNode;)if(d.statesByElement.get(P)){g=!0;break}}}if(this.prepareLeaveAnimationListeners(i),g)d.markElementAsRemoved(this.id,i,!1,o);else{const S=i[Yr];(!S||S===Qs)&&(d.afterFlush(()=>this.clearElementCache(i)),d.destroyInnerAnimations(i),d._onRemovalComplete(i,o))}}insertNode(i,o){fi(i,this._hostClassName)}drainQueuedTransitions(i){const o=[];return this._queue.forEach(d=>{const g=d.player;if(g.destroyed)return;const S=d.element,P=this._elementListeners.get(S);P&&P.forEach(z=>{if(z.name==d.triggerName){const le=Mt(S,d.triggerName,d.fromState.value,d.toState.value);le._data=i,It(d.player,z.phase,le,z.callback)}}),g.markedForDestroy?this._engine.afterFlush(()=>{g.destroy()}):o.push(d)}),this._queue=[],o.sort((d,g)=>{const S=d.transition.ast.depCount,P=g.transition.ast.depCount;return 0==S||0==P?S-P:this._engine.driver.containsElement(d.element,g.element)?1:-1})}destroy(i){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let o=!1;return this._elementListeners.has(i)&&(o=!0),o=!!this._queue.find(d=>d.element===i)||o,o}}class bs{constructor(i,o,d){this.bodyNode=i,this.driver=o,this._normalizer=d,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(g,S)=>{}}_onRemovalComplete(i,o){this.onRemovalComplete(i,o)}get queuedPlayers(){const i=[];return this._namespaceList.forEach(o=>{o.players.forEach(d=>{d.queued&&i.push(d)})}),i}createNamespace(i,o){const d=new io(i,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(d,o):(this.newHostElements.set(o,d),this.collectEnterElement(o)),this._namespaceLookup[i]=d}_balanceNamespaceList(i,o){const d=this._namespaceList,g=this.namespacesByHostElement;if(d.length-1>=0){let P=!1,z=this.driver.getParentElement(o);for(;z;){const le=g.get(z);if(le){const Te=d.indexOf(le);d.splice(Te+1,0,i),P=!0;break}z=this.driver.getParentElement(z)}P||d.unshift(i)}else d.push(i);return g.set(o,i),i}register(i,o){let d=this._namespaceLookup[i];return d||(d=this.createNamespace(i,o)),d}registerTrigger(i,o,d){let g=this._namespaceLookup[i];g&&g.register(o,d)&&this.totalAnimations++}destroy(i,o){if(!i)return;const d=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(d.hostElement),delete this._namespaceLookup[i];const g=this._namespaceList.indexOf(d);g>=0&&this._namespaceList.splice(g,1)}),this.afterFlushAnimationsDone(()=>d.destroy(o))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const o=new Set,d=this.statesByElement.get(i);if(d)for(let g of d.values())if(g.namespaceId){const S=this._fetchNamespace(g.namespaceId);S&&o.add(S)}return o}trigger(i,o,d,g){if(Rs(o)){const S=this._fetchNamespace(i);if(S)return S.trigger(o,d,g),!0}return!1}insertNode(i,o,d,g){if(!Rs(o))return;const S=o[Yr];if(S&&S.setForRemoval){S.setForRemoval=!1,S.setForMove=!0;const P=this.collectedLeaveElements.indexOf(o);P>=0&&this.collectedLeaveElements.splice(P,1)}if(i){const P=this._fetchNamespace(i);P&&P.insertNode(o,d)}g&&this.collectEnterElement(o)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,o){o?this.disabledNodes.has(i)||(this.disabledNodes.add(i),fi(i,Wr)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),Ir(i,Wr))}removeNode(i,o,d,g){if(Rs(o)){const S=i?this._fetchNamespace(i):null;if(S?S.removeNode(o,g):this.markElementAsRemoved(i,o,!1,g),d){const P=this.namespacesByHostElement.get(o);P&&P.id!==i&&P.removeNode(o,g)}}else this._onRemovalComplete(o,g)}markElementAsRemoved(i,o,d,g,S){this.collectedLeaveElements.push(o),o[Yr]={namespaceId:i,setForRemoval:g,hasAnimation:d,removedBeforeQueried:!1,previousTriggersValues:S}}listen(i,o,d,g,S){return Rs(o)?this._fetchNamespace(i).listen(o,d,g,S):()=>{}}_buildInstruction(i,o,d,g,S){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,d,g,i.fromState.options,i.toState.options,o,S)}destroyInnerAnimations(i){let o=this.driver.query(i,gt,!0);o.forEach(d=>this.destroyActiveAnimationsForElement(d)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(i,ln,!0),o.forEach(d=>this.finishActiveQueriedAnimationOnElement(d)))}destroyActiveAnimationsForElement(i){const o=this.playersByElement.get(i);o&&o.forEach(d=>{d.queued?d.markedForDestroy=!0:d.destroy()})}finishActiveQueriedAnimationOnElement(i){const o=this.playersByQueriedElement.get(i);o&&o.forEach(d=>d.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return en(this.players).onDone(()=>i());i()})}processLeaveNode(i){var o;const d=i[Yr];if(d&&d.setForRemoval){if(i[Yr]=Qs,d.namespaceId){this.destroyInnerAnimations(i);const g=this._fetchNamespace(d.namespaceId);g&&g.clearElementCache(i)}this._onRemovalComplete(i,d.setForRemoval)}null!==(o=i.classList)&&void 0!==o&&o.contains(Wr)&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(g=>{this.markElementAsDisabled(g,!1)})}flush(i=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((d,g)=>this._balanceNamespaceList(d,g)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let d=0;d<this.collectedEnterElements.length;d++)fi(this.collectedEnterElements[d],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const d=[];try{o=this._flushAnimations(d,i)}finally{for(let g=0;g<d.length;g++)d[g]()}}else for(let d=0;d<this.collectedLeaveElements.length;d++)this.processLeaveNode(this.collectedLeaveElements[d]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(d=>d()),this._flushFns=[],this._whenQuietFns.length){const d=this._whenQuietFns;this._whenQuietFns=[],o.length?en(o).onDone(()=>{d.forEach(g=>g())}):d.forEach(g=>g())}}reportError(i){throw function _n(c){return new N.vHH(3402,!1)}()}_flushAnimations(i,o){const d=new Is,g=[],S=new Map,P=[],z=new Map,le=new Map,Te=new Map,mt=new Set;this.disabledNodes.forEach(Hn=>{mt.add(Hn);const ei=this.driver.query(Hn,".ng-animate-queued",!0);for(let ti=0;ti<ei.length;ti++)mt.add(ei[ti])});const bt=this.bodyNode,Ht=Array.from(this.statesByElement.keys()),mn=gr(Ht,this.collectedEnterElements),Cn=new Map;let s=0;mn.forEach((Hn,ei)=>{const ti=Ii+s++;Cn.set(ei,ti),Hn.forEach(Mi=>fi(Mi,ti))});const e=[],t=new Set,a=new Set;for(let Hn=0;Hn<this.collectedLeaveElements.length;Hn++){const ei=this.collectedLeaveElements[Hn],ti=ei[Yr];ti&&ti.setForRemoval&&(e.push(ei),t.add(ei),ti.hasAnimation?this.driver.query(ei,".ng-star-inserted",!0).forEach(Mi=>t.add(Mi)):a.add(ei))}const f=new Map,y=gr(Ht,Array.from(t));y.forEach((Hn,ei)=>{const ti=Tn+s++;f.set(ei,ti),Hn.forEach(Mi=>fi(Mi,ti))}),i.push(()=>{mn.forEach((Hn,ei)=>{const ti=Cn.get(ei);Hn.forEach(Mi=>Ir(Mi,ti))}),y.forEach((Hn,ei)=>{const ti=f.get(ei);Hn.forEach(Mi=>Ir(Mi,ti))}),e.forEach(Hn=>{this.processLeaveNode(Hn)})});const M=[],U=[];for(let Hn=this._namespaceList.length-1;Hn>=0;Hn--)this._namespaceList[Hn].drainQueuedTransitions(o).forEach(ti=>{const Mi=ti.player,ki=ti.element;if(M.push(Mi),this.collectedEnterElements.length){const xl=ki[Yr];if(xl&&xl.setForMove){if(xl.previousTriggersValues&&xl.previousTriggersValues.has(ti.triggerName)){const vg=xl.previousTriggersValues.get(ti.triggerName),Ed=this.statesByElement.get(ti.element);if(Ed&&Ed.has(ti.triggerName)){const ty=Ed.get(ti.triggerName);ty.value=vg,Ed.set(ti.triggerName,ty)}}return void Mi.destroy()}}const ar=!bt||!this.driver.containsElement(bt,ki),Hr=f.get(ki),Zl=Cn.get(ki),xo=this._buildInstruction(ti,d,Zl,Hr,ar);if(xo.errors&&xo.errors.length)return void U.push(xo);if(ar)return Mi.onStart(()=>Qe(ki,xo.fromStyles)),Mi.onDestroy(()=>fe(ki,xo.toStyles)),void g.push(Mi);if(ti.isFallbackTransition)return Mi.onStart(()=>Qe(ki,xo.fromStyles)),Mi.onDestroy(()=>fe(ki,xo.toStyles)),void g.push(Mi);const ey=[];xo.timelines.forEach(xl=>{xl.stretchStartingKeyframe=!0,this.disabledNodes.has(xl.element)||ey.push(xl)}),xo.timelines=ey,d.append(ki,xo.timelines),P.push({instruction:xo,player:Mi,element:ki}),xo.queriedElements.forEach(xl=>$t(z,xl,[]).push(Mi)),xo.preStyleProps.forEach((xl,vg)=>{if(xl.size){let Ed=le.get(vg);Ed||le.set(vg,Ed=new Set),xl.forEach((ty,gy)=>Ed.add(gy))}}),xo.postStyleProps.forEach((xl,vg)=>{let Ed=Te.get(vg);Ed||Te.set(vg,Ed=new Set),xl.forEach((ty,gy)=>Ed.add(gy))})});if(U.length){const Hn=[];U.forEach(ei=>{Hn.push(function Be(c,i){return new N.vHH(3505,!1)}())}),M.forEach(ei=>ei.destroy()),this.reportError(Hn)}const oe=new Map,ve=new Map;P.forEach(Hn=>{const ei=Hn.element;d.has(ei)&&(ve.set(ei,ei),this._beforeAnimationBuild(Hn.player.namespaceId,Hn.instruction,oe))}),g.forEach(Hn=>{const ei=Hn.element;this._getPreviousPlayers(ei,!1,Hn.namespaceId,Hn.triggerName,null).forEach(Mi=>{$t(oe,ei,[]).push(Mi),Mi.destroy()})});const $e=e.filter(Hn=>Ys(Hn,le,Te)),yt=new Map;ca(yt,this.driver,a,Te,v.l3).forEach(Hn=>{Ys(Hn,le,Te)&&$e.push(Hn)});const yn=new Map;mn.forEach((Hn,ei)=>{ca(yn,this.driver,new Set(Hn),le,v.k1)}),$e.forEach(Hn=>{var ei,ti;const Mi=yt.get(Hn),ki=yn.get(Hn);yt.set(Hn,new Map([...Array.from(null!==(ei=Mi?.entries())&&void 0!==ei?ei:[]),...Array.from(null!==(ti=ki?.entries())&&void 0!==ti?ti:[])]))});const En=[],ri=[],hi={};P.forEach(Hn=>{const{element:ei,player:ti,instruction:Mi}=Hn;if(d.has(ei)){if(mt.has(ei))return ti.onDestroy(()=>fe(ei,Mi.toStyles)),ti.disabled=!0,ti.overrideTotalTime(Mi.totalTime),void g.push(ti);let ki=hi;if(ve.size>1){let Hr=ei;const Zl=[];for(;Hr=Hr.parentNode;){const xo=ve.get(Hr);if(xo){ki=xo;break}Zl.push(Hr)}Zl.forEach(xo=>ve.set(xo,ki))}const ar=this._buildAnimation(ti.namespaceId,Mi,oe,S,yn,yt);if(ti.setRealPlayer(ar),ki===hi)En.push(ti);else{const Hr=this.playersByElement.get(ki);Hr&&Hr.length&&(ti.parentPlayer=en(Hr)),g.push(ti)}}else Qe(ei,Mi.fromStyles),ti.onDestroy(()=>fe(ei,Mi.toStyles)),ri.push(ti),mt.has(ei)&&g.push(ti)}),ri.forEach(Hn=>{const ei=S.get(Hn.element);if(ei&&ei.length){const ti=en(ei);Hn.setRealPlayer(ti)}}),g.forEach(Hn=>{Hn.parentPlayer?Hn.syncPlayerEvents(Hn.parentPlayer):Hn.destroy()});for(let Hn=0;Hn<e.length;Hn++){const ei=e[Hn],ti=ei[Yr];if(Ir(ei,Tn),ti&&ti.hasAnimation)continue;let Mi=[];if(z.size){let ar=z.get(ei);ar&&ar.length&&Mi.push(...ar);let Hr=this.driver.query(ei,ln,!0);for(let Zl=0;Zl<Hr.length;Zl++){let xo=z.get(Hr[Zl]);xo&&xo.length&&Mi.push(...xo)}}const ki=Mi.filter(ar=>!ar.destroyed);ki.length?ql(this,ei,ki):this.processLeaveNode(ei)}return e.length=0,En.forEach(Hn=>{this.players.push(Hn),Hn.onDone(()=>{Hn.destroy();const ei=this.players.indexOf(Hn);this.players.splice(ei,1)}),Hn.play()}),En}elementContainsData(i,o){let d=!1;const g=o[Yr];return g&&g.setForRemoval&&(d=!0),this.playersByElement.has(o)&&(d=!0),this.playersByQueriedElement.has(o)&&(d=!0),this.statesByElement.has(o)&&(d=!0),this._fetchNamespace(i).elementContainsData(o)||d}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,o,d,g,S){let P=[];if(o){const z=this.playersByQueriedElement.get(i);z&&(P=z)}else{const z=this.playersByElement.get(i);if(z){const le=!S||S==Ai;z.forEach(Te=>{Te.queued||!le&&Te.triggerName!=g||P.push(Te)})}}return(d||g)&&(P=P.filter(z=>!(d&&d!=z.namespaceId||g&&g!=z.triggerName))),P}_beforeAnimationBuild(i,o,d){const S=o.element,P=o.isRemovalTransition?void 0:i,z=o.isRemovalTransition?void 0:o.triggerName;for(const le of o.timelines){const Te=le.element,mt=Te!==S,bt=$t(d,Te,[]);this._getPreviousPlayers(Te,mt,P,z,o.toState).forEach(mn=>{const Cn=mn.getRealPlayer();Cn.beforeDestroy&&Cn.beforeDestroy(),mn.destroy(),bt.push(mn)})}Qe(S,o.fromStyles)}_buildAnimation(i,o,d,g,S,P){const z=o.triggerName,le=o.element,Te=[],mt=new Set,bt=new Set,Ht=o.timelines.map(Cn=>{const s=Cn.element;mt.add(s);const e=s[Yr];if(e&&e.removedBeforeQueried)return new v.ZN(Cn.duration,Cn.delay);const t=s!==le,a=function cs(c){const i=[];return dl(c,i),i}((d.get(s)||Ws).map(oe=>oe.getRealPlayer())).filter(oe=>!!oe.element&&oe.element===s),f=S.get(s),y=P.get(s),M=Ln(0,this._normalizer,0,Cn.keyframes,f,y),U=this._buildPlayer(Cn,M,a);if(Cn.subTimeline&&g&&bt.add(s),t){const oe=new la(i,z,s);oe.setRealPlayer(U),Te.push(oe)}return U});Te.forEach(Cn=>{$t(this.playersByQueriedElement,Cn.element,[]).push(Cn),Cn.onDone(()=>function Zi(c,i,o){let d=c.get(i);if(d){if(d.length){const g=d.indexOf(o);d.splice(g,1)}0==d.length&&c.delete(i)}return d}(this.playersByQueriedElement,Cn.element,Cn))}),mt.forEach(Cn=>fi(Cn,Et));const mn=en(Ht);return mn.onDestroy(()=>{mt.forEach(Cn=>Ir(Cn,Et)),fe(le,o.toStyles)}),bt.forEach(Cn=>{$t(g,Cn,[]).push(mn)}),mn}_buildPlayer(i,o,d){return o.length>0?this.driver.animate(i.element,o,i.duration,i.delay,i.easing,d):new v.ZN(i.duration,i.delay)}}class la{constructor(i,o,d){this.namespaceId=i,this.triggerName=o,this.element=d,this._player=new v.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((o,d)=>{o.forEach(g=>It(i,d,void 0,g))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const o=this._player;o.triggerCallback&&i.onStart(()=>o.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,o){$t(this._queuedCallbacks,i,[]).push(o)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const o=this._player;o.triggerCallback&&o.triggerCallback(i)}}function Rs(c){return c&&1===c.nodeType}function Os(c,i){const o=c.style.display;return c.style.display=i??"none",o}function ca(c,i,o,d,g){const S=[];o.forEach(le=>S.push(Os(le)));const P=[];d.forEach((le,Te)=>{const mt=new Map;le.forEach(bt=>{const Ht=i.computeStyle(Te,bt,g);mt.set(bt,Ht),(!Ht||0==Ht.length)&&(Te[Yr]=mr,P.push(Te))}),c.set(Te,mt)});let z=0;return o.forEach(le=>Os(le,S[z++])),P}function gr(c,i){const o=new Map;if(c.forEach(z=>o.set(z,[])),0==i.length)return o;const g=new Set(i),S=new Map;function P(z){if(!z)return 1;let le=S.get(z);if(le)return le;const Te=z.parentNode;return le=o.has(Te)?Te:g.has(Te)?1:P(Te),S.set(z,le),le}return i.forEach(z=>{const le=P(z);1!==le&&o.get(le).push(z)}),o}function fi(c,i){var o;null===(o=c.classList)||void 0===o||o.add(i)}function Ir(c,i){var o;null===(o=c.classList)||void 0===o||o.remove(i)}function ql(c,i,o){en(o).onDone(()=>c.processLeaveNode(i))}function dl(c,i){for(let o=0;o<c.length;o++){const d=c[o];d instanceof v.ZE?dl(d.players,i):i.push(d)}}function Ys(c,i,o){const d=o.get(c);if(!d)return!1;let g=i.get(c);return g?d.forEach(S=>g.add(S)):i.set(c,d),o.delete(c),!0}class Zr{constructor(i,o,d){this.bodyNode=i,this._driver=o,this._normalizer=d,this._triggerCache={},this.onRemovalComplete=(g,S)=>{},this._transitionEngine=new bs(i,o,d),this._timelineEngine=new ks(i,o,d),this._transitionEngine.onRemovalComplete=(g,S)=>this.onRemovalComplete(g,S)}registerTrigger(i,o,d,g,S){const P=i+"-"+g;let z=this._triggerCache[P];if(!z){const le=[],mt=zr(this._driver,S,le,[]);if(le.length)throw function Lt(c,i){return new N.vHH(3404,!1)}();z=function Ro(c,i,o){return new wo(c,i,o)}(g,mt,this._normalizer),this._triggerCache[P]=z}this._transitionEngine.registerTrigger(o,g,z)}register(i,o){this._transitionEngine.register(i,o)}destroy(i,o){this._transitionEngine.destroy(i,o)}onInsert(i,o,d,g){this._transitionEngine.insertNode(i,o,d,g)}onRemove(i,o,d,g){this._transitionEngine.removeNode(i,o,g||!1,d)}disableAnimations(i,o){this._transitionEngine.markElementAsDisabled(i,o)}process(i,o,d,g){if("@"==d.charAt(0)){const[S,P]=wn(d);this._timelineEngine.command(S,o,P,g)}else this._transitionEngine.trigger(i,o,d,g)}listen(i,o,d,g,S){if("@"==d.charAt(0)){const[P,z]=wn(d);return this._timelineEngine.listen(P,o,z,S)}return this._transitionEngine.listen(i,o,d,g,S)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Mn=(()=>{class c{constructor(o,d,g){this._element=o,this._startStyles=d,this._endStyles=g,this._state=0;let S=c.initialStylesByElement.get(o);S||c.initialStylesByElement.set(o,S=new Map),this._initialStyles=S}start(){this._state<1&&(this._startStyles&&fe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fe(this._element,this._initialStyles),this._endStyles&&(fe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(c.initialStylesByElement.delete(this._element),this._startStyles&&(Qe(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Qe(this._element,this._endStyles),this._endStyles=null),fe(this._element,this._initialStyles),this._state=3)}}return c.initialStylesByElement=new WeakMap,c})();function xi(c){let i=null;return c.forEach((o,d)=>{(function Po(c){return"display"===c||"position"===c})(d)&&(i=i||new Map,i.set(d,o))}),i}class No{constructor(i,o,d,g){this.element=i,this.keyframes=o,this.options=d,this._specialStyles=g,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=d.duration,this._delay=d.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){const o=[];return i.forEach(d=>{o.push(Object.fromEntries(d))}),o}_triggerWebAnimation(i,o,d){return i.animate(this._convertKeyframesToObject(o),d)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((d,g)=>{"offset"!==g&&i.set(g,this._finished?d:Yn(this.element,g))}),this.currentSnapshot=i}triggerCallback(i){const o="start"===i?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}class Vr{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}matchesElement(i,o){return!1}containsElement(i,o){return Ut(i,o)}getParentElement(i){return pt(i)}query(i,o,d){return Nt(i,o,d)}computeStyle(i,o,d){return window.getComputedStyle(i)[o]}animate(i,o,d,g,S,P=[]){const le={duration:d,delay:g,fill:0==g?"both":"forwards"};S&&(le.easing=S);const Te=new Map,mt=P.filter(mn=>mn instanceof No);(function rt(c,i){return 0===c||0===i})(d,g)&&mt.forEach(mn=>{mn.currentSnapshot.forEach((Cn,s)=>Te.set(s,Cn))});let bt=function ge(c){return c.length?c[0]instanceof Map?c:c.map(i=>Gt(i)):[]}(o).map(mn=>G(mn));bt=function Vt(c,i,o){if(o.size&&i.length){let d=i[0],g=[];if(o.forEach((S,P)=>{d.has(P)||g.push(P),d.set(P,S)}),g.length)for(let S=1;S<i.length;S++){let P=i[S];g.forEach(z=>P.set(z,Yn(c,z)))}}return i}(i,bt,Te);const Ht=function qa(c,i){let o=null,d=null;return Array.isArray(i)&&i.length?(o=xi(i[0]),i.length>1&&(d=xi(i[i.length-1]))):i instanceof Map&&(o=xi(i)),o||d?new Mn(c,o,d):null}(i,bt);return new No(i,bt,le,Ht)}}var re=x(6895);let Q=(()=>{class c extends v._j{constructor(o,d){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(d.body,{id:"0",encapsulation:N.ifc.None,styles:[],data:{animation:[]}})}build(o){const d=this._nextAnimationId.toString();this._nextAnimationId++;const g=Array.isArray(o)?(0,v.vP)(o):o;return nn(this._renderer,null,d,"register",[g]),new $(d,this._renderer)}}return c.\u0275fac=function(o){return new(o||c)(N.LFG(N.FYo),N.LFG(re.K0))},c.\u0275prov=N.Yz7({token:c,factory:c.\u0275fac}),c})();class $ extends v.LC{constructor(i,o){super(),this._id=i,this._renderer=o}create(i,o){return new Ae(this._id,i,o||{},this._renderer)}}class Ae{constructor(i,o,d,g){this.id=i,this.element=o,this._renderer=g,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",d)}_listen(i,o){return this._renderer.listen(this.element,`@@${this.id}:${i}`,o)}_command(i,...o){return nn(this._renderer,this.element,this.id,i,o)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){var i,o;return null!==(i=null===(o=this._renderer.engine.players[+this.id])||void 0===o?void 0:o.getPosition())&&void 0!==i?i:0}}function nn(c,i,o,d,g){return c.setProperty(i,`@@${o}:${d}`,g)}const Er="@.disabled";let ro=(()=>{class c{constructor(o,d,g){this.delegate=o,this.engine=d,this._zone=g,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),d.onRemovalComplete=(S,P)=>{const z=P?.parentNode(S);z&&P.removeChild(z,S)}}createRenderer(o,d){const S=this.delegate.createRenderer(o,d);if(!(o&&d&&d.data&&d.data.animation)){let mt=this._rendererCache.get(S);return mt||(mt=new so("",S,this.engine),this._rendererCache.set(S,mt)),mt}const P=d.id,z=d.id+"-"+this._currentId;this._currentId++,this.engine.register(z,o);const le=mt=>{Array.isArray(mt)?mt.forEach(le):this.engine.registerTrigger(P,z,o,mt.name,mt)};return d.data.animation.forEach(le),new hr(this,z,S,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(o,d,g){o>=0&&o<this._microtaskId?this._zone.run(()=>d(g)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(S=>{const[P,z]=S;P(z)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([d,g]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return c.\u0275fac=function(o){return new(o||c)(N.LFG(N.FYo),N.LFG(Zr),N.LFG(N.R0b))},c.\u0275prov=N.Yz7({token:c,factory:c.\u0275fac}),c})();class so{constructor(i,o,d){this.namespaceId=i,this.delegate=o,this.engine=d,this.destroyNode=this.delegate.destroyNode?g=>o.destroyNode(g):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(i,o){return this.delegate.createElement(i,o)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,o){this.delegate.appendChild(i,o),this.engine.onInsert(this.namespaceId,o,i,!1)}insertBefore(i,o,d,g=!0){this.delegate.insertBefore(i,o,d),this.engine.onInsert(this.namespaceId,o,i,g)}removeChild(i,o,d){this.engine.onRemove(this.namespaceId,o,this.delegate,d)}selectRootElement(i,o){return this.delegate.selectRootElement(i,o)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,o,d,g){this.delegate.setAttribute(i,o,d,g)}removeAttribute(i,o,d){this.delegate.removeAttribute(i,o,d)}addClass(i,o){this.delegate.addClass(i,o)}removeClass(i,o){this.delegate.removeClass(i,o)}setStyle(i,o,d,g){this.delegate.setStyle(i,o,d,g)}removeStyle(i,o,d){this.delegate.removeStyle(i,o,d)}setProperty(i,o,d){"@"==o.charAt(0)&&o==Er?this.disableAnimations(i,!!d):this.delegate.setProperty(i,o,d)}setValue(i,o){this.delegate.setValue(i,o)}listen(i,o,d){return this.delegate.listen(i,o,d)}disableAnimations(i,o){this.engine.disableAnimations(i,o)}}class hr extends so{constructor(i,o,d,g){super(o,d,g),this.factory=i,this.namespaceId=o}setProperty(i,o,d){"@"==o.charAt(0)?"."==o.charAt(1)&&o==Er?this.disableAnimations(i,d=void 0===d||!!d):this.engine.process(this.namespaceId,i,o.slice(1),d):this.delegate.setProperty(i,o,d)}listen(i,o,d){if("@"==o.charAt(0)){const g=function Fr(c){switch(c){case"body":return document.body;case"document":return document;case"window":return window;default:return c}}(i);let S=o.slice(1),P="";return"@"!=S.charAt(0)&&([S,P]=function Ko(c){const i=c.indexOf(".");return[c.substring(0,i),c.slice(i+1)]}(S)),this.engine.listen(this.namespaceId,g,S,P,z=>{this.factory.scheduleListenerCallback(z._data||-1,d,z)})}return this.delegate.listen(i,o,d)}}const Pa=[{provide:v._j,useClass:Q},{provide:jr,useFactory:function oo(){return new ko}},{provide:Zr,useClass:(()=>{class c extends Zr{constructor(o,d,g,S){super(o.body,d,g)}ngOnDestroy(){this.flush()}}return c.\u0275fac=function(o){return new(o||c)(N.LFG(re.K0),N.LFG(Dt),N.LFG(jr),N.LFG(N.z2F))},c.\u0275prov=N.Yz7({token:c,factory:c.\u0275fac}),c})()},{provide:N.FYo,useFactory:function Ql(c,i,o){return new ro(c,i,o)},deps:[p.se,Zr,N.R0b]}],Xl=[{provide:Dt,useFactory:()=>new Vr},{provide:N.QbO,useValue:"BrowserAnimations"},...Pa],Qa=[{provide:Dt,useClass:Sn},{provide:N.QbO,useValue:"NoopAnimations"},...Pa];let Xa=(()=>{class c{static withConfig(o){return{ngModule:c,providers:o.disableAnimations?Qa:Xl}}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=N.oAB({type:c}),c.\u0275inj=N.cJS({providers:Xl,imports:[p.b2]}),c})();var qr=x(7868),hl=x(986);const ao=[{path:"dashboard",canActivate:[(()=>{class c{constructor(o,d){this.authService=o,this.router=d}canActivate(o,d){return!0!==this.authService.isLoggedIn&&this.router.navigate(["auth/sign-in"]),!0}}return c.\u0275fac=function(o){return new(o||c)(N.LFG(hl.e),N.LFG(qr.F0))},c.\u0275prov=N.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()],loadChildren:()=>Promise.resolve().then(x.bind(x,2666)).then(c=>c.LayoutModule)},{path:"auth",canActivate:[(()=>{class c{constructor(o,d){this.authService=o,this.router=d}canActivate(o,d){return!0===this.authService.isLoggedIn&&this.router.navigate(["dashboard"]),!0}}return c.\u0275fac=function(o){return new(o||c)(N.LFG(hl.e),N.LFG(qr.F0))},c.\u0275prov=N.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()],loadChildren:()=>x.e(877).then(x.bind(x,9877)).then(c=>c.AuthModule)},{path:"",redirectTo:"/auth/sign-in",pathMatch:"full"},{path:"**",redirectTo:"dashboard"}];let Na=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=N.oAB({type:c}),c.\u0275inj=N.cJS({imports:[qr.Bz.forRoot(ao,{relativeLinkResolution:"legacy"}),qr.Bz.forRoot(ao,{useHash:!0}),qr.Bz]}),c})(),W=(()=>{class c{constructor(){this.title="Todo List"}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275cmp=N.Xpm({type:c,selectors:[["app-root"]],decls:1,vars:0,template:function(o,d){1&o&&N._UZ(0,"router-outlet")},dependencies:[qr.lC]}),c})();var _e=x(2011),q=x(4941),xe=x(6498),ct=x(1086),Xt=x(5254),hn=x(13),Xn=x(4850),Pi=x(7545),Ei=x(6351),Gi=x(3942),Ni=x(5861),_r=x(9681),Ze=x(2090),fr=x(4859);const Ps="firebasestorage.googleapis.com",Ks="storageBucket";class rr extends Ze.ZR{constructor(i,o,d=0){super(Ns(i),`Firebase Storage: ${o} (${Ns(i)})`),this.status_=d,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rr.prototype)}get status(){return this.status_}set status(i){this.status_=i}_codeEquals(i){return Ns(i)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(i){this.customData.serverResponse=i,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Ns(c){return"storage/"+c}function fl(){return new rr("unknown","An unknown error occurred, please check the error payload for server response.")}function kl(){return new rr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Rl(){return new rr("canceled","User canceled the upload/download.")}function ou(){return new rr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function fa(c){return new rr("invalid-argument",c)}function Lo(){return new rr("app-deleted","The Firebase app was deleted.")}function pl(c){return new rr("invalid-root-operation","The operation '"+c+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pa(c,i){return new rr("invalid-format","String does not match format '"+c+"': "+i)}function Nn(c){throw new rr("internal-error","Internal error: "+c)}class Qi{constructor(i,o){this.bucket=i,this.path_=o}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const i=encodeURIComponent;return"/b/"+i(this.bucket)+"/o/"+i(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(i,o){let d;try{d=Qi.makeFromUrl(i,o)}catch{return new Qi(i,"")}if(""===d.path)return d;throw function Ol(c){return new rr("invalid-default-bucket","Invalid default bucket '"+c+"'.")}(i)}static makeFromUrl(i,o){let d=null;const g="([A-Za-z0-9.\\-_]+)",z=new RegExp("^gs://"+g+"(/(.*))?$","i");function Te(y){y.path_=decodeURIComponent(y.path)}const bt=o.replace(/[.]/g,"\\."),f=[{regex:z,indices:{bucket:1,path:3},postModify:function S(y){"/"===y.path.charAt(y.path.length-1)&&(y.path_=y.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${bt}/v[A-Za-z0-9_]+/b/${g}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Te},{regex:new RegExp(`^https?://${o===Ps?"(?:storage.googleapis.com|storage.cloud.google.com)":o}/${g}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Te}];for(let y=0;y<f.length;y++){const M=f[y],U=M.regex.exec(i);if(U){let ve=U[M.indices.path];ve||(ve=""),d=new Qi(U[M.indices.bucket],ve),M.postModify(d);break}}if(null==d)throw function ha(c){return new rr("invalid-url","Invalid URL '"+c+"'.")}(i);return d}}class tl{constructor(i){this.promise_=Promise.reject(i)}getPromise(){return this.promise_}cancel(i=!1){}}function un(c){return"string"==typeof c||c instanceof String}function In(c){return xr()&&c instanceof Blob}function xr(){return typeof Blob<"u"&&!(0,Ze.UG)()}function wc(c,i,o,d){if(d<i)throw fa(`Invalid value for '${c}'. Expected ${i} or greater.`);if(d>o)throw fa(`Invalid value for '${c}'. Expected ${o} or less.`)}function us(c,i,o){let d=i;return null==o&&(d=`https://${i}`),`${o}://${d}/v0${c}`}function wa(c){const i=encodeURIComponent;let o="?";for(const d in c)c.hasOwnProperty(d)&&(o=o+(i(d)+"=")+i(c[d])+"&");return o=o.slice(0,-1),o}var ma=(()=>{return(c=ma||(ma={}))[c.NO_ERROR=0]="NO_ERROR",c[c.NETWORK_ERROR=1]="NETWORK_ERROR",c[c.ABORT=2]="ABORT",ma;var c})();function Nl(c,i){const o=c>=500&&c<600,g=-1!==[408,429].indexOf(c),S=-1!==i.indexOf(c);return o||g||S}class Fl{constructor(i,o,d,g,S,P,z,le,Te,mt,bt,Ht=!0){this.url_=i,this.method_=o,this.headers_=d,this.body_=g,this.successCodes_=S,this.additionalRetryCodes_=P,this.callback_=z,this.errorCallback_=le,this.timeout_=Te,this.progressCallback_=mt,this.connectionFactory_=bt,this.retry=Ht,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((mn,Cn)=>{this.resolve_=mn,this.reject_=Cn,this.start_()})}start_(){const o=(d,g)=>{const S=this.resolve_,P=this.reject_,z=g.connection;if(g.wasSuccessCode)try{const le=this.callback_(z,z.getResponse());!function wi(c){return void 0!==c}(le)?S():S(le)}catch(le){P(le)}else if(null!==z){const le=fl();le.serverResponse=z.getErrorText(),P(this.errorCallback_?this.errorCallback_(z,le):le)}else P(g.canceled?this.appDelete_?Lo():Rl():kl())};this.canceled_?o(0,new nl(!1,null,!0)):this.backoffId_=function Fu(c,i,o){let d=1,g=null,S=null,P=!1,z=0;function le(){return 2===z}let Te=!1;function mt(...e){Te||(Te=!0,i.apply(null,e))}function bt(e){g=setTimeout(()=>{g=null,c(mn,le())},e)}function Ht(){S&&clearTimeout(S)}function mn(e,...t){if(Te)return void Ht();if(e)return Ht(),void mt.call(null,e,...t);if(le()||P)return Ht(),void mt.call(null,e,...t);let f;d<64&&(d*=2),1===z?(z=2,f=0):f=1e3*(d+Math.random()),bt(f)}let Cn=!1;function s(e){Cn||(Cn=!0,Ht(),!Te&&(null!==g?(e||(z=2),clearTimeout(g),bt(0)):e||(z=1)))}return bt(0),S=setTimeout(()=>{P=!0,s(!0)},o),s}((d,g)=>{if(g)return void d(!1,new nl(!1,null,!0));const S=this.connectionFactory_();this.pendingConnection_=S;const P=z=>{null!==this.progressCallback_&&this.progressCallback_(z.loaded,z.lengthComputable?z.total:-1)};null!==this.progressCallback_&&S.addUploadProgressListener(P),S.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&S.removeUploadProgressListener(P),this.pendingConnection_=null;const z=S.getErrorCode()===ma.NO_ERROR,le=S.getStatus();if((!z||Nl(le,this.additionalRetryCodes_))&&this.retry){const mt=S.getErrorCode()===ma.ABORT;return void d(!1,new nl(!1,null,mt))}const Te=-1!==this.successCodes_.indexOf(le);d(!0,new nl(Te,S))})},o,this.timeout_)}getPromise(){return this.promise_}cancel(i){this.canceled_=!0,this.appDelete_=i||!1,null!==this.backoffId_&&function ii(c){c(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class nl{constructor(i,o,d){this.wasSuccessCode=i,this.connection=o,this.canceled=!!d}}function Bl(...c){const i=function qo(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==i){const o=new i;for(let d=0;d<c.length;d++)o.append(c[d]);return o.getBlob()}if(xr())return new Blob(c);throw new rr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ds={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class yi{constructor(i,o){this.data=i,this.contentType=o||null}}function lo(c,i){switch(c){case ds.RAW:return new yi(vr(i));case ds.BASE64:case ds.BASE64URL:return new yi(Vo(c,i));case ds.DATA_URL:return new yi(function Qo(c){const i=new Da(c);return i.base64?Vo(ds.BASE64,i.rest):function zn(c){let i;try{i=decodeURIComponent(c)}catch{throw pa(ds.DATA_URL,"Malformed data URL.")}return vr(i)}(i.rest)}(i),function Ea(c){return new Da(c).contentType}(i))}throw fl()}function vr(c){const i=[];for(let o=0;o<c.length;o++){let d=c.charCodeAt(o);d<=127?i.push(d):d<=2047?i.push(192|d>>6,128|63&d):55296==(64512&d)?o<c.length-1&&56320==(64512&c.charCodeAt(o+1))?(d=65536|(1023&d)<<10|1023&c.charCodeAt(++o),i.push(240|d>>18,128|d>>12&63,128|d>>6&63,128|63&d)):i.push(239,191,189):56320==(64512&d)?i.push(239,191,189):i.push(224|d>>12,128|d>>6&63,128|63&d)}return new Uint8Array(i)}function Vo(c,i){switch(c){case ds.BASE64:{const g=-1!==i.indexOf("-"),S=-1!==i.indexOf("_");if(g||S)throw pa(c,"Invalid character '"+(g?"-":"_")+"' found: is it base64url encoded?");break}case ds.BASE64URL:{const g=-1!==i.indexOf("+"),S=-1!==i.indexOf("/");if(g||S)throw pa(c,"Invalid character '"+(g?"+":"/")+"' found: is it base64 encoded?");i=i.replace(/-/g,"+").replace(/_/g,"/");break}}let o;try{o=function bi(c){return atob(c)}(i)}catch{throw pa(c,"Invalid character found")}const d=new Uint8Array(o.length);for(let g=0;g<o.length;g++)d[g]=o.charCodeAt(g);return d}class Da{constructor(i){this.base64=!1,this.contentType=null;const o=i.match(/^data:([^,]+)?,/);if(null===o)throw pa(ds.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const d=o[1]||null;null!=d&&(this.base64=function ga(c,i){return c.length>=i.length&&c.substring(c.length-i.length)===i}(d,";base64"),this.contentType=this.base64?d.substring(0,d.length-7):d),this.rest=i.substring(i.indexOf(",")+1)}}class Hi{constructor(i,o){let d=0,g="";In(i)?(this.data_=i,d=i.size,g=i.type):i instanceof ArrayBuffer?(o?this.data_=new Uint8Array(i):(this.data_=new Uint8Array(i.byteLength),this.data_.set(new Uint8Array(i))),d=this.data_.length):i instanceof Uint8Array&&(o?this.data_=i:(this.data_=new Uint8Array(i.length),this.data_.set(i)),d=i.length),this.size_=d,this.type_=g}size(){return this.size_}type(){return this.type_}slice(i,o){if(In(this.data_)){const g=function Ar(c,i,o){return c.webkitSlice?c.webkitSlice(i,o):c.mozSlice?c.mozSlice(i,o):c.slice?c.slice(i,o):null}(this.data_,i,o);return null===g?null:new Hi(g)}{const d=new Uint8Array(this.data_.buffer,i,o-i);return new Hi(d,!0)}}static getBlob(...i){if(xr()){const o=i.map(d=>d instanceof Hi?d.data_:d);return new Hi(Bl.apply(null,o))}{const o=i.map(P=>un(P)?lo(ds.RAW,P).data:P.data_);let d=0;o.forEach(P=>{d+=P.byteLength});const g=new Uint8Array(d);let S=0;return o.forEach(P=>{for(let z=0;z<P.length;z++)g[S++]=P[z]}),new Hi(g,!0)}}uploadData(){return this.data_}}function Vl(c){let i;try{i=JSON.parse(c)}catch{return null}return function Zn(c){return"object"==typeof c&&!Array.isArray(c)}(i)?i:null}function co(c){const i=c.lastIndexOf("/",c.length-2);return-1===i?c:c.slice(i+1)}function Ec(c,i){return i}class Fs{constructor(i,o,d,g){this.server=i,this.local=o||i,this.writable=!!d,this.xform=g||Ec}}let Jl=null;function gl(){if(Jl)return Jl;const c=[];c.push(new Fs("bucket")),c.push(new Fs("generation")),c.push(new Fs("metageneration")),c.push(new Fs("name","fullPath",!0));const o=new Fs("name");o.xform=function i(S,P){return function Xo(c){return!un(c)||c.length<2?c:co(c)}(P)},c.push(o);const g=new Fs("size");return g.xform=function d(S,P){return void 0!==P?Number(P):P},c.push(g),c.push(new Fs("timeCreated")),c.push(new Fs("updated")),c.push(new Fs("md5Hash",null,!0)),c.push(new Fs("cacheControl",null,!0)),c.push(new Fs("contentDisposition",null,!0)),c.push(new Fs("contentEncoding",null,!0)),c.push(new Fs("contentLanguage",null,!0)),c.push(new Fs("contentType",null,!0)),c.push(new Fs("metadata","customMetadata",!0)),Jl=c,Jl}function Uo(c,i,o){const d=Vl(i);return null===d?null:function $r(c,i,o){const d={type:"file"},g=o.length;for(let S=0;S<g;S++){const P=o[S];d[P.local]=P.xform(d,i[P.server])}return function cn(c,i){Object.defineProperty(c,"ref",{get:function o(){const S=new Qi(c.bucket,c.fullPath);return i._makeStorageReference(S)}})}(d,c),d}(c,d,o)}function il(c,i){const o={},d=i.length;for(let g=0;g<d;g++){const S=i[g];S.writable&&(o[S.server]=c[S.local])}return JSON.stringify(o)}const Sa="prefixes";class ho{constructor(i,o,d,g){this.url=i,this.method=o,this.handler=d,this.timeout=g,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xs(c){if(!c)throw fl()}function Hl(c,i){return function o(d,g){const S=Uo(c,g,i);return Xs(null!==S),S}}function po(c){return function i(o,d){let g;return g=401===o.getStatus()?o.getErrorText().includes("Firebase App Check token is invalid")?function Sd(){return new rr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Nu(){return new rr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===o.getStatus()?function Zo(c){return new rr("quota-exceeded","Quota for bucket '"+c+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(c.bucket):403===o.getStatus()?function Cc(c){return new rr("unauthorized","User does not have permission to access '"+c+"'.")}(c.path):d,g.status=o.getStatus(),g.serverResponse=d.serverResponse,g}}function F(c){const i=po(c);return function o(d,g){let S=i(d,g);return 404===d.getStatus()&&(S=function ts(c){return new rr("object-not-found","Object '"+c+"' does not exist.")}(c.path)),S.serverResponse=g.serverResponse,S}}function L(c,i,o){const g=us(i.fullServerUrl(),c.host,c._protocol),P=c.maxOperationRetryTime,z=new ho(g,"GET",Hl(c,o),P);return z.errorHandler=F(i),z}function I(c,i,o,d,g){const S={};S.prefix=i.isRoot?"":i.path+"/",o&&o.length>0&&(S.delimiter=o),d&&(S.pageToken=d),g&&(S.maxResults=g);const z=us(i.bucketOnlyServerUrl(),c.host,c._protocol),Te=c.maxOperationRetryTime,mt=new ho(z,"GET",function fo(c,i){return function o(d,g){const S=function ec(c,i,o){const d=Vl(o);return null===d?null:function uo(c,i,o){const d={prefixes:[],items:[],nextPageToken:o.nextPageToken};if(o[Sa])for(const g of o[Sa]){const S=g.replace(/\/$/,""),P=c._makeStorageReference(new Qi(i,S));d.prefixes.push(P)}if(o.items)for(const g of o.items){const S=c._makeStorageReference(new Qi(i,g.name));d.items.push(S)}return d}(c,i,d)}(c,i,g);return Xs(null!==S),S}}(c,i.bucket),Te);return mt.urlParams=S,mt.errorHandler=po(i),mt}function Kt(c,i,o){const d=Object.assign({},o);return d.fullPath=c.path,d.size=i.size(),d.contentType||(d.contentType=function dt(c,i){return c&&c.contentType||i&&i.type()||"application/octet-stream"}(null,i)),d}class li{constructor(i,o,d,g){this.current=i,this.total=o,this.finalized=!!d,this.metadata=g||null}}function Wn(c,i){let o=null;try{o=c.getResponseHeader("X-Goog-Upload-Status")}catch{Xs(!1)}return Xs(!!o&&-1!==(i||["active"]).indexOf(o)),o}const Ur={STATE_CHANGED:"state_changed"},Or={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ls(c){switch(c){case"running":case"pausing":case"canceling":return Or.RUNNING;case"paused":return Or.PAUSED;case"success":return Or.SUCCESS;case"canceled":return Or.CANCELED;default:return Or.ERROR}}class La{constructor(i,o,d){if(function Bo(c){return"function"==typeof c}(i)||null!=o||null!=d)this.next=i,this.error=o??void 0,this.complete=d??void 0;else{const S=i;this.next=S.next,this.error=S.error,this.complete=S.complete}}}function Qr(c){return(...i)=>{Promise.resolve().then(()=>c(...i))}}class Z extends class jl{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ma.NO_ERROR,this.sendPromise_=new Promise(i=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ma.ABORT,i()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ma.NETWORK_ERROR,i()}),this.xhr_.addEventListener("load",()=>{i()})})}send(i,o,d,g){if(this.sent_)throw Nn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(o,i,!0),void 0!==g)for(const S in g)g.hasOwnProperty(S)&&this.xhr_.setRequestHeader(S,g[S].toString());return void 0!==d?this.xhr_.send(d):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nn("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Nn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(i){return this.xhr_.getResponseHeader(i)}addUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",i)}removeUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",i)}}{initXhr(){this.xhr_.responseType="text"}}function se(){return new Z}class xn{constructor(i,o,d=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=i,this._blob=o,this._metadata=d,this._mappings=gl(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=g=>{if(this._request=void 0,this._chunkMultiplier=1,g._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const S=this.isExponentialBackoffExpired();if(Nl(g.status,[])){if(!S)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();g=kl()}this._error=g,this._transition("error")}},this._metadataErrorHandler=g=>{this._request=void 0,g._codeEquals("canceled")?this.completeTransitions_():(this._error=g,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((g,S)=>{this._resolve=g,this._reject=S,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const i=this._transferred;return o=>this._updateProgress(i+o)}_shouldDoResumable(i){return i.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(i){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([o,d])=>{switch(this._state){case"running":i(o,d);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((i,o)=>{const d=function di(c,i,o,d,g){const S=i.bucketOnlyServerUrl(),P=Kt(i,d,g),z={name:P.fullPath},le=us(S,c.host,c._protocol),mt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${d.size()}`,"X-Goog-Upload-Header-Content-Type":P.contentType,"Content-Type":"application/json; charset=utf-8"},bt=il(P,o),Cn=new ho(le,"POST",function mn(s){let e;Wn(s);try{e=s.getResponseHeader("X-Goog-Upload-URL")}catch{Xs(!1)}return Xs(un(e)),e},c.maxUploadRetryTime);return Cn.urlParams=z,Cn.headers=mt,Cn.body=bt,Cn.errorHandler=po(i),Cn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),g=this._ref.storage._makeRequest(d,se,i,o);this._request=g,g.getPromise().then(S=>{this._request=void 0,this._uploadUrl=S,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const i=this._uploadUrl;this._resolveToken((o,d)=>{const g=function ji(c,i,o,d){const le=new ho(o,"POST",function S(Te){const mt=Wn(Te,["active","final"]);let bt=null;try{bt=Te.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xs(!1)}bt||Xs(!1);const Ht=Number(bt);return Xs(!isNaN(Ht)),new li(Ht,d.size(),"final"===mt)},c.maxUploadRetryTime);return le.headers={"X-Goog-Upload-Command":"query"},le.errorHandler=po(i),le}(this._ref.storage,this._ref._location,i,this._blob),S=this._ref.storage._makeRequest(g,se,o,d);this._request=S,S.getPromise().then(P=>{this._request=void 0,this._updateProgress(P.current),this._needToFetchStatus=!1,P.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const i=262144*this._chunkMultiplier,o=new li(this._transferred,this._blob.size()),d=this._uploadUrl;this._resolveToken((g,S)=>{let P;try{P=function So(c,i,o,d,g,S,P,z){const le=new li(0,0);if(P?(le.current=P.current,le.total=P.total):(le.current=0,le.total=d.size()),d.size()!==le.total)throw function Pl(){return new rr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const Te=le.total-le.current;let mt=Te;g>0&&(mt=Math.min(mt,g));const bt=le.current;let mn="";mn=0===mt?"finalize":Te===mt?"upload, finalize":"upload";const Cn={"X-Goog-Upload-Command":mn,"X-Goog-Upload-Offset":`${le.current}`},s=d.slice(bt,bt+mt);if(null===s)throw ou();const f=new ho(o,"POST",function e(y,M){const U=Wn(y,["active","final"]),oe=le.current+mt,ve=d.size();let $e;return $e="final"===U?Hl(i,S)(y,M):null,new li(oe,ve,"final"===U,$e)},i.maxUploadRetryTime);return f.headers=Cn,f.body=s.uploadData(),f.progressCallback=z||null,f.errorHandler=po(c),f}(this._ref._location,this._ref.storage,d,this._blob,i,this._mappings,o,this._makeProgressCallback())}catch(le){return this._error=le,void this._transition("error")}const z=this._ref.storage._makeRequest(P,se,g,S,!1);this._request=z,z.getPromise().then(le=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(le.current),le.finalized?(this._metadata=le.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((i,o)=>{const d=L(this._ref.storage,this._ref._location,this._mappings),g=this._ref.storage._makeRequest(d,se,i,o);this._request=g,g.getPromise().then(S=>{this._request=void 0,this._metadata=S,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((i,o)=>{const d=function kn(c,i,o,d,g){const S=i.bucketOnlyServerUrl(),P={"X-Goog-Upload-Protocol":"multipart"},le=function z(){let f="";for(let y=0;y<2;y++)f+=Math.random().toString().slice(2);return f}();P["Content-Type"]="multipart/related; boundary="+le;const Te=Kt(i,d,g),mt=il(Te,o),mn=Hi.getBlob("--"+le+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+mt+"\r\n--"+le+"\r\nContent-Type: "+Te.contentType+"\r\n\r\n",d,"\r\n--"+le+"--");if(null===mn)throw ou();const Cn={name:Te.fullPath},s=us(S,c.host,c._protocol),t=c.maxUploadRetryTime,a=new ho(s,"POST",Hl(c,o),t);return a.urlParams=Cn,a.headers=P,a.body=mn.uploadData(),a.errorHandler=po(i),a}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),g=this._ref.storage._makeRequest(d,se,i,o);this._request=g,g.getPromise().then(S=>{this._request=void 0,this._metadata=S,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(i){const o=this._transferred;this._transferred=i,this._transferred!==o&&this._notifyObservers()}_transition(i){if(this._state!==i)switch(i){case"canceling":case"pausing":this._state=i,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const o="paused"===this._state;this._state=i,o&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=i,this._notifyObservers();break;case"canceled":this._error=Rl(),this._state=i,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const i=Ls(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:i,metadata:this._metadata,task:this,ref:this._ref}}on(i,o,d,g){const S=new La(o||void 0,d||void 0,g||void 0);return this._addObserver(S),()=>{this._removeObserver(S)}}then(i,o){return this._promise.then(i,o)}catch(i){return this.then(null,i)}_addObserver(i){this._observers.push(i),this._notifyObserver(i)}_removeObserver(i){const o=this._observers.indexOf(i);-1!==o&&this._observers.splice(o,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(o=>{this._notifyObserver(o)})}_finishPromise(){if(void 0!==this._resolve){let i=!0;switch(Ls(this._state)){case Or.SUCCESS:Qr(this._resolve.bind(null,this.snapshot))();break;case Or.CANCELED:case Or.ERROR:Qr(this._reject.bind(null,this._error))();break;default:i=!1}i&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(i){switch(Ls(this._state)){case Or.RUNNING:case Or.PAUSED:i.next&&Qr(i.next.bind(i,this.snapshot))();break;case Or.SUCCESS:i.complete&&Qr(i.complete.bind(i))();break;default:i.error&&Qr(i.error.bind(i,this._error))()}}resume(){const i="paused"===this._state||"pausing"===this._state;return i&&this._transition("running"),i}pause(){const i="running"===this._state;return i&&this._transition("pausing"),i}cancel(){const i="running"===this._state||"pausing"===this._state;return i&&this._transition("canceling"),i}}class $n{constructor(i,o){this._service=i,this._location=o instanceof Qi?o:Qi.makeFromUrl(o,i.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(i,o){return new $n(i,o)}get root(){const i=new Qi(this._location.bucket,"");return this._newRef(this._service,i)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return co(this._location.path)}get storage(){return this._service}get parent(){const i=function Ul(c){if(0===c.length)return null;const i=c.lastIndexOf("/");return-1===i?"":c.slice(0,i)}(this._location.path);if(null===i)return null;const o=new Qi(this._location.bucket,i);return new $n(this._service,o)}_throwIfRoot(i){if(""===this._location.path)throw pl(i)}}function _a(c,i,o){return rl.apply(this,arguments)}function rl(){return(rl=(0,Ni.Z)(function*(c,i,o){const g=yield Ba(c,{pageToken:o});i.prefixes.push(...g.prefixes),i.items.push(...g.items),null!=g.nextPageToken&&(yield _a(c,i,g.nextPageToken))})).apply(this,arguments)}function Ba(c,i){null!=i&&"number"==typeof i.maxResults&&wc("options.maxResults",1,1e3,i.maxResults);const o=i||{},d=I(c.storage,c._location,"/",o.pageToken,o.maxResults);return c.storage.makeRequestWithTokens(d,se)}function _l(c){c._throwIfRoot("getDownloadURL");const i=function ee(c,i,o){const g=us(i.fullServerUrl(),c.host,c._protocol),P=c.maxOperationRetryTime,z=new ho(g,"GET",function Tc(c,i){return function o(d,g){const S=Uo(c,g,i);return Xs(null!==S),function Sc(c,i,o,d){const g=Vl(i);if(null===g||!un(g.downloadTokens))return null;const S=g.downloadTokens;if(0===S.length)return null;const P=encodeURIComponent;return S.split(",").map(Te=>{const bt=c.fullPath;return us("/b/"+P(c.bucket)+"/o/"+P(bt),o,d)+wa({alt:"media",token:Te})})[0]}(S,g,c.host,c._protocol)}}(c,o),P);return z.errorHandler=F(i),z}(c.storage,c._location,gl());return c.storage.makeRequestWithTokens(i,se).then(o=>{if(null===o)throw function sr(){return new rr("no-download-url","The given file does not have any download URLs.")}();return o})}function Va(c,i){const o=function Dc(c,i){const o=i.split("/").filter(d=>d.length>0).join("/");return 0===c.length?o:c+"/"+o}(c._location.path,i),d=new Qi(c._location.bucket,o);return new $n(c.storage,d)}function sf(c,i){if(c instanceof Lu){const o=c;if(null==o._bucket)throw function Fa(){return new rr("no-default-bucket","No default bucket found. Did you set the '"+Ks+"' property when initializing the app?")}();const d=new $n(o,o._bucket);return null!=i?sf(d,i):d}return void 0!==i?Va(c,i):c}function au(c,i){if(i&&function yr(c){return/^[A-Za-z]+:\/\//.test(c)}(i)){if(c instanceof Lu)return function Mc(c,i){return new $n(c,i)}(c,i);throw fa("To use ref(service, url), the first argument must be a Storage instance.")}return sf(c,i)}function fh(c,i){const o=i?.[Ks];return null==o?null:Qi.makeFromBucketSpec(o,c)}class Lu{constructor(i,o,d,g,S){this.app=i,this._authProvider=o,this._appCheckProvider=d,this._url=g,this._firebaseVersion=S,this._bucket=null,this._host=Ps,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=g?Qi.makeFromBucketSpec(g,this._host):fh(this._host,this.app.options)}get host(){return this._host}set host(i){this._host=i,this._bucket=null!=this._url?Qi.makeFromBucketSpec(this._url,i):fh(i,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(i){wc("time",0,Number.POSITIVE_INFINITY,i),this._maxUploadRetryTime=i}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(i){wc("time",0,Number.POSITIVE_INFINITY,i),this._maxOperationRetryTime=i}_getAuthToken(){var i=this;return(0,Ni.Z)(function*(){if(i._overrideAuthToken)return i._overrideAuthToken;const o=i._authProvider.getImmediate({optional:!0});if(o){const d=yield o.getToken();if(null!==d)return d.accessToken}return null})()}_getAppCheckToken(){var i=this;return(0,Ni.Z)(function*(){const o=i._appCheckProvider.getImmediate({optional:!0});return o?(yield o.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(i=>i.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(i){return new $n(this,i)}_makeRequest(i,o,d,g,S=!0){if(this._deleted)return new tl(Lo());{const P=function Ti(c,i,o,d,g,S,P=!0){const z=wa(c.urlParams),le=c.url+z,Te=Object.assign({},c.headers);return function ps(c,i){i&&(c["X-Firebase-GMPID"]=i)}(Te,i),function ml(c,i){null!==i&&i.length>0&&(c.Authorization="Firebase "+i)}(Te,o),function Td(c,i){c["X-Firebase-Storage-Version"]="webjs/"+(i??"AppManager")}(Te,S),function Ll(c,i){null!==i&&(c["X-Firebase-AppCheck"]=i)}(Te,d),new Fl(le,c.method,Te,c.body,c.successCodes,c.additionalRetryCodes,c.handler,c.errorHandler,c.timeout,c.progressCallback,g,P)}(i,this._appId,d,g,o,this._firebaseVersion,S);return this._requests.add(P),P.getPromise().then(()=>this._requests.delete(P),()=>this._requests.delete(P)),P}}makeRequestWithTokens(i,o){var d=this;return(0,Ni.Z)(function*(){const[g,S]=yield Promise.all([d._getAuthToken(),d._getAppCheckToken()]);return d._makeRequest(i,o,g,S).getPromise()})()}}const Bu="@firebase/storage";function hs(c,i){return au(c=(0,Ze.m9)(c),i)}function vl(c,{instanceIdentifier:i}){const o=c.getProvider("app").getImmediate(),d=c.getProvider("auth-internal"),g=c.getProvider("app-check-internal");return new Lu(o,d,g,i,_r.SDK_VERSION)}!function lu(){(0,_r._registerComponent)(new fr.wA("storage",vl,"PUBLIC").setMultipleInstances(!0)),(0,_r.registerVersion)(Bu,"0.9.13",""),(0,_r.registerVersion)(Bu,"0.9.13","esm2017")}();class xc{constructor(i,o,d){this._delegate=i,this.task=o,this.ref=d}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class xd{constructor(i,o){this._delegate=i,this._ref=o,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new xc(this._delegate.snapshot,this,this._ref)}then(i,o){return this._delegate.then(d=>{if(i)return i(new xc(d,this,this._ref))},o)}on(i,o,d,g){let S;return o&&(S="function"==typeof o?P=>o(new xc(P,this,this._ref)):{next:o.next?P=>o.next(new xc(P,this,this._ref)):void 0,complete:o.complete||void 0,error:o.error||void 0}),this._delegate.on(i,S,d||void 0,g||void 0)}}class Ad{constructor(i,o){this._delegate=i,this._service=o}get prefixes(){return this._delegate.prefixes.map(i=>new Vs(i,this._service))}get items(){return this._delegate.items.map(i=>new Vs(i,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Vs{constructor(i,o){this._delegate=i,this.storage=o}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(i){const o=function mh(c,i){return Va(c,i)}(this._delegate,i);return new Vs(o,this.storage)}get root(){return new Vs(this._delegate.root,this.storage)}get parent(){const i=this._delegate.parent;return null==i?null:new Vs(i,this.storage)}put(i,o){return this._throwIfRoot("put"),new xd(function dp(c,i,o){return function Ci(c,i,o){return c._throwIfRoot("uploadBytesResumable"),new xn(c,new Hi(i),o)}(c=(0,Ze.m9)(c),i,o)}(this._delegate,i,o),this)}putString(i,o=ds.RAW,d){this._throwIfRoot("putString");const g=lo(o,i),S=Object.assign({},d);return null==S.contentType&&null!=g.contentType&&(S.contentType=g.contentType),new xd(new xn(this._delegate,new Hi(g.data,!0),S),this)}listAll(){return function Id(c){return function Bs(c){const i={prefixes:[],items:[]};return _a(c,i).then(()=>i)}(c=(0,Ze.m9)(c))}(this._delegate).then(i=>new Ad(i,this.storage))}list(i){return function fp(c,i){return Ba(c=(0,Ze.m9)(c),i)}(this._delegate,i||void 0).then(o=>new Ad(o,this.storage))}getMetadata(){return function lf(c){return function nc(c){c._throwIfRoot("getMetadata");const i=L(c.storage,c._location,gl());return c.storage.makeRequestWithTokens(i,se)}(c=(0,Ze.m9)(c))}(this._delegate)}updateMetadata(i){return function hp(c,i){return function Ta(c,i){c._throwIfRoot("updateMetadata");const o=function Re(c,i,o,d){const S=us(i.fullServerUrl(),c.host,c._protocol),z=il(o,d),Te=c.maxOperationRetryTime,mt=new ho(S,"PATCH",Hl(c,d),Te);return mt.headers={"Content-Type":"application/json; charset=utf-8"},mt.body=z,mt.errorHandler=F(i),mt}(c.storage,c._location,i,gl());return c.storage.makeRequestWithTokens(o,se)}(c=(0,Ze.m9)(c),i)}(this._delegate,i)}getDownloadURL(){return function cf(c){return _l(c=(0,Ze.m9)(c))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function sl(c){return function Xr(c){c._throwIfRoot("deleteObject");const i=function nt(c,i){const d=us(i.fullServerUrl(),c.host,c._protocol),z=new ho(d,"DELETE",function P(le,Te){},c.maxOperationRetryTime);return z.successCodes=[200,204],z.errorHandler=F(i),z}(c.storage,c._location);return c.storage.makeRequestWithTokens(i,se)}(c=(0,Ze.m9)(c))}(this._delegate)}_throwIfRoot(i){if(""===this._delegate._location.path)throw pl(i)}}class Jo{constructor(i,o){this.app=i,this._delegate=o}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(i){if(kd(i))throw fa("ref() expected a child path but got a URL, use refFromURL instead.");return new Vs(hs(this._delegate,i),this)}refFromURL(i){if(!kd(i))throw fa("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Qi.makeFromUrl(i,this._delegate.host)}catch{throw fa("refFromUrl() expected a valid full URL but got an invalid one.")}return new Vs(hs(this._delegate,i),this)}setMaxUploadRetryTime(i){this._delegate.maxUploadRetryTime=i}setMaxOperationRetryTime(i){this._delegate.maxOperationRetryTime=i}useEmulator(i,o,d={}){!function gh(c,i,o,d={}){!function ic(c,i,o,d={}){c.host=`${i}:${o}`,c._protocol="http";const{mockUserToken:g}=d;g&&(c._overrideAuthToken="string"==typeof g?g:(0,Ze.Sg)(g,c.app.options.projectId))}(c,i,o,d)}(this._delegate,i,o,d)}}function kd(c){return/^[A-Za-z]+:\/\//.test(c)}function yl(c,{instanceIdentifier:i}){const o=c.getProvider("app-compat").getImmediate(),d=c.getProvider("storage").getImmediate({identifier:i});return new Jo(o,d)}!function uu(c){const i={TaskState:Or,TaskEvent:Ur,StringFormat:ds,Storage:Jo,Reference:Vs};c.INTERNAL.registerComponent(new fr.wA("storage-compat",yl,"PUBLIC").setServiceProps(i).setMultipleInstances(!0)),c.registerVersion("@firebase/storage-compat","0.1.21")}(Gi.Z);var _h=x(440),df=x(127);function vh(c){const i=function hf(c){return new xe.y(i=>{const o=P=>i.next(P);o(c.snapshot);const S=c.on("state_changed",o);return c.then(P=>{o(P),i.complete()},P=>{o(c.snapshot),(P=>{i.error(P)})(P)}),function(){S()}}).pipe((0,hn.b)(0))}(c);return{task:c,then:c.then.bind(c),catch:c.catch.bind(c),pause:c.pause.bind(c),cancel:c.cancel.bind(c),resume:c.resume.bind(c),snapshotChanges:()=>i,percentageChanges:()=>i.pipe((0,Xn.U)(o=>o.bytesTransferred/o.totalBytes*100))}}function Uu(c){return{getDownloadURL:()=>(0,ct.of)(void 0).pipe(Ei.fc,(0,Pi.w)(()=>c.getDownloadURL()),Ei.iC),getMetadata:()=>(0,ct.of)(void 0).pipe(Ei.fc,(0,Pi.w)(()=>c.getMetadata()),Ei.iC),delete:()=>(0,Xt.D)(c.delete()),child:i=>Uu(c.child(i)),updateMetadata:i=>(0,Xt.D)(c.updateMetadata(i)),put:(i,o)=>vh(c.put(i,o)),putString:(i,o,d)=>vh(c.putString(i,o,d)),list:i=>(0,Xt.D)(c.list(i)),listAll:()=>(0,Xt.D)(c.listAll())}}const Hu=new N.OlP("angularfire2.storageBucket"),ju=new N.OlP("angularfire2.storage.maxUploadRetryTime"),ff=new N.OlP("angularfire2.storage.maxOperationRetryTime"),pf=new N.OlP("angularfire2.storage.use-emulator");let sc=(()=>{class c{constructor(o,d,g,S,P,z,le,Te,mt,bt){const Ht=(0,_e.on)(o,P,d);this.storage=(0,_e.cc)(`${Ht.name}.storage.${g}`,"AngularFireStorage",Ht.name,()=>{const mn=P.runOutsideAngular(()=>Ht.storage(g||void 0)),Cn=mt;return Cn&&mn.useEmulator(...Cn),le&&mn.setMaxUploadRetryTime(le),Te&&mn.setMaxOperationRetryTime(Te),mn},[le,Te])}ref(o){return Uu(this.storage.ref(o))}refFromURL(o){return Uu(this.storage.refFromURL(o))}upload(o,d,g){return Uu(this.storage.ref(o)).put(d,g)}}return c.\u0275fac=function(o){return new(o||c)(N.LFG(_e.Dh),N.LFG(_e.xv,8),N.LFG(Hu,8),N.LFG(N.Lbi),N.LFG(N.R0b),N.LFG(Ei.HU),N.LFG(ju,8),N.LFG(ff,8),N.LFG(pf,8),N.LFG(_h.nm,8))},c.\u0275prov=N.Yz7({token:c,factory:c.\u0275fac,providedIn:"any"}),c})(),Rd=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=N.oAB({type:c}),c.\u0275inj=N.cJS({}),c})(),ea=(()=>{class c{constructor(){df.Z.registerVersion("angularfire",Ei.q4.full,"gcs-compat")}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=N.oAB({type:c}),c.\u0275inj=N.cJS({providers:[sc],imports:[Rd]}),c})();var $l=x(2796),ol=x(353),Od=x(6787),du=x(2474),hu=x(2014),Cg=x(5778),pp=x(826),ns=x(9054);class al{constructor(i,o){this.observables=i,this.project=o}call(i,o){return o.subscribe(new Ua(i,this.observables,this.project))}}class Ua extends pp.L{constructor(i,o,d){super(i),this.observables=o,this.project=d,this.toRespond=[];const g=o.length;this.values=new Array(g);for(let S=0;S<g;S++)this.toRespond.push(S);for(let S=0;S<g;S++){let P=o[S];this.add((0,ns.D)(this,P,P,S))}}notifyNext(i,o,d,g,S){this.values[d]=o;const P=this.toRespond;if(P.length>0){const z=P.indexOf(d);-1!==z&&P.splice(z,1)}}notifyComplete(){}_next(i){if(0===this.toRespond.length){const o=[i,...this.values];this.project?this._tryProject(o):this.destination.next(o)}}_tryProject(i){let o;try{o=this.project.apply(this,i)}catch(d){return void this.destination.error(d)}this.destination.next(o)}}var mf=x(3489);class Pd{constructor(i){this.predicate=i}call(i,o){return o.subscribe(new gf(i,this.predicate))}}class gf extends mf.L{constructor(i,o){super(i),this.predicate=o,this.skipping=!0,this.index=0}_next(i){const o=this.destination;this.skipping&&this.tryCallPredicate(i),this.skipping||o.next(i)}tryCallPredicate(i){try{const o=this.predicate(i,this.index++);this.skipping=Boolean(o)}catch(o){this.destination.error(o)}}}x(5881);var va=x(1877);const Gu="@firebase/database",Nd="0.13.10";let kc="";function Rc(c){kc=c}class ws{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,o){null==o?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,Ze.Wl)(o))}get(i){const o=this.domStorage_.getItem(this.prefixedName_(i));return null==o?null:(0,Ze.cI)(o)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}class R{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,o){null==o?delete this.cache_[i]:this.cache_[i]=o}get(i){return(0,Ze.r3)(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}const b=function(c){try{if(typeof window<"u"&&typeof window[c]<"u"){const i=window[c];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new ws(i)}}catch{}return new R},E=b("localStorage"),B=b("sessionStorage"),pe=new va.Yd("@firebase/database"),Ee=function(){let c=1;return function(){return c++}}(),At=function(c){const i=(0,Ze.dS)(c),o=new Ze.gQ;o.update(i);const d=o.digest();return Ze.US.encodeByteArray(d)},an=function(...c){let i="";for(let o=0;o<c.length;o++){const d=c[o];Array.isArray(d)||d&&"object"==typeof d&&"number"==typeof d.length?i+=an.apply(null,d):i+="object"==typeof d?(0,Ze.Wl)(d):d,i+=" "}return i};let Qn=null,Un=!0;const Si=function(c,i){(0,Ze.hu)(!i||!0===c||!1===c,"Can't turn on custom loggers persistently."),!0===c?(pe.logLevel=va.in.VERBOSE,Qn=pe.log.bind(pe),i&&B.set("logging_enabled",!0)):"function"==typeof c?Qn=c:(Qn=null,B.remove("logging_enabled"))},mi=function(...c){if(!0===Un&&(Un=!1,null===Qn&&!0===B.get("logging_enabled")&&Si(!0)),Qn){const i=an.apply(null,c);Qn(i)}},br=function(c){return function(...i){mi(c,...i)}},ms=function(...c){const i="FIREBASE INTERNAL ERROR: "+an(...c);pe.error(i)},mo=function(...c){const i=`FIREBASE FATAL ERROR: ${an(...c)}`;throw pe.error(i),new Error(i)},Us=function(...c){const i="FIREBASE WARNING: "+an(...c);pe.warn(i)},mu=function(c){return"number"==typeof c&&(c!=c||c===Number.POSITIVE_INFINITY||c===Number.NEGATIVE_INFINITY)},To="[MIN_NAME]",ta="[MAX_NAME]",bl=function(c,i){if(c===i)return 0;if(c===To||i===ta)return-1;if(i===To||c===ta)return 1;{const o=Hs(c),d=Hs(i);return null!==o?null!==d?o-d==0?c.length-i.length:o-d:-1:null!==d?1:c<i?-1:1}},zu=function(c,i){return c===i?0:c<i?-1:1},Oc=function(c,i){if(i&&c in i)return i[c];throw new Error("Missing required key ("+c+") in object: "+(0,Ze.Wl)(i))},Fd=function(c){if("object"!=typeof c||null===c)return(0,Ze.Wl)(c);const i=[];for(const d in c)i.push(d);i.sort();let o="{";for(let d=0;d<i.length;d++)0!==d&&(o+=","),o+=(0,Ze.Wl)(i[d]),o+=":",o+=Fd(c[i[d]]);return o+="}",o},ll=function(c,i){const o=c.length;if(o<=i)return[c];const d=[];for(let g=0;g<o;g+=i)d.push(c.substring(g,g+i>o?o:g+i));return d};function qs(c,i){for(const o in c)c.hasOwnProperty(o)&&i(o,c[o])}const yh=function(c){(0,Ze.hu)(!mu(c),"Invalid JSON number");const d=1023;let g,S,P,z,le;0===c?(S=0,P=0,g=1/c==-1/0?1:0):(g=c<0,(c=Math.abs(c))>=Math.pow(2,1-d)?(z=Math.min(Math.floor(Math.log(c)/Math.LN2),d),S=z+d,P=Math.round(c*Math.pow(2,52-z)-Math.pow(2,52))):(S=0,P=Math.round(c/Math.pow(2,-1074))));const Te=[];for(le=52;le;le-=1)Te.push(P%2?1:0),P=Math.floor(P/2);for(le=11;le;le-=1)Te.push(S%2?1:0),S=Math.floor(S/2);Te.push(g?1:0),Te.reverse();const mt=Te.join("");let bt="";for(le=0;le<64;le+=8){let Ht=parseInt(mt.substr(le,8),2).toString(16);1===Ht.length&&(Ht="0"+Ht),bt+=Ht}return bt.toLowerCase()},_u=new RegExp("^-?(0*)\\d{1,10}$"),Pc=-2147483648,vf=2147483647,Hs=function(c){if(_u.test(c)){const i=Number(c);if(i>=Pc&&i<=vf)return i}return null},Ma=function(c){try{c()}catch(i){setTimeout(()=>{throw Us("Exception was thrown by user callback.",i.stack||""),i},Math.floor(0))}},Nc=function(c,i){const o=setTimeout(c,i);return"number"==typeof o&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(o):"object"==typeof o&&o.unref&&o.unref(),o};class Ha{constructor(i,o){this.appName_=i,this.appCheckProvider=o,this.appCheck=o?.getImmediate({optional:!0}),this.appCheck||o?.get().then(d=>this.appCheck=d)}getToken(i){return this.appCheck?this.appCheck.getToken(i):new Promise((o,d)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(o,d):o(null)},0)})}addTokenChangeListener(i){var o;null===(o=this.appCheckProvider)||void 0===o||o.get().then(d=>d.addTokenListener(i))}notifyForInvalidToken(){Us(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class fm{constructor(i,o,d){this.appName_=i,this.firebaseOptions_=o,this.authProvider_=d,this.auth_=null,this.auth_=d.getImmediate({optional:!0}),this.auth_||d.onInit(g=>this.auth_=g)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(o=>o&&"auth/token-not-initialized"===o.code?(mi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(o)):new Promise((o,d)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(o,d):o(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(o=>o.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(o=>o.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';i+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Us(i)}}let bh=(()=>{class c{constructor(o){this.accessToken=o}getToken(o){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(o){o(this.accessToken)}removeTokenChangeListener(o){}notifyForInvalidToken(){}}return c.OWNER="owner",c})();const vp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ld="websocket",yp="long_polling";class Fc{constructor(i,o,d,g,S=!1,P="",z=!1){this.secure=o,this.namespace=d,this.webSocketOnly=g,this.nodeAdmin=S,this.persistenceKey=P,this.includeNamespaceInQueryParams=z,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=E.get("host:"+i)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&E.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function vm(c,i,o){let d;if((0,Ze.hu)("string"==typeof i,"typeof type must == string"),(0,Ze.hu)("object"==typeof o,"typeof params must == object"),i===Ld)d=(c.secure?"wss://":"ws://")+c.internalHost+"/.ws?";else{if(i!==yp)throw new Error("Unknown connection type: "+i);d=(c.secure?"https://":"http://")+c.internalHost+"/.lp?"}(function Ch(c){return c.host!==c.internalHost||c.isCustomHost()||c.includeNamespaceInQueryParams})(c)&&(o.ns=c.namespace);const g=[];return qs(o,(S,P)=>{g.push(S+"="+P)}),d+g.join("&")}class Ov{constructor(){this.counters_={}}incrementCounter(i,o=1){(0,Ze.r3)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=o}get(){return(0,Ze.p$)(this.counters_)}}const bp={},Wu={};function Yu(c){const i=c.toString();return bp[i]||(bp[i]=new Ov),bp[i]}class wg{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,o){this.closeAfterResponse=i,this.onClose=o,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,o){for(this.pendingResponses[i]=o;this.pendingResponses[this.currentResponseNum];){const d=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let g=0;g<d.length;++g)d[g]&&Ma(()=>{this.onMessage_(d[g])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class bu{constructor(i,o,d,g,S,P,z){this.connId=i,this.repoInfo=o,this.applicationId=d,this.appCheckToken=g,this.authToken=S,this.transportSessionId=P,this.lastSessionId=z,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=br(i),this.stats_=Yu(o),this.urlFn=le=>(this.appCheckToken&&(le.ac=this.appCheckToken),vm(o,yp,le))}open(i,o){this.curSegmentNum=0,this.onDisconnect_=o,this.myPacketOrderer=new wg(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(c){if((0,Ze.Yr)()||"complete"===document.readyState)c();else{let i=!1;const o=function(){document.body?i||(i=!0,c()):setTimeout(o,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&o()}),window.attachEvent("onload",o))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Dp((...S)=>{const[P,z,le,Te,mt]=S;if(this.incrementIncomingBytes_(S),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===P)this.id=z,this.password=le;else{if("close"!==P)throw new Error("Unrecognized command received: "+P);z?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(z,()=>{this.onClosed_()})):this.onClosed_()}},(...S)=>{const[P,z]=S;this.incrementIncomingBytes_(S),this.myPacketOrderer.handleResponse(P,z)},()=>{this.onClosed_()},this.urlFn);const d={start:"t"};d.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(d.cb=this.scriptTagHolder.uniqueCallbackIdentifier),d.v="5",this.transportSessionId&&(d.s=this.transportSessionId),this.lastSessionId&&(d.ls=this.lastSessionId),this.applicationId&&(d.p=this.applicationId),this.appCheckToken&&(d.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&vp.test(location.hostname)&&(d.r="f");const g=this.urlFn(d);this.log_("Connecting via long-poll to "+g),this.scriptTagHolder.addTag(g,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){bu.forceAllow_=!0}static forceDisallow(){bu.forceDisallow_=!0}static isAvailable(){return!((0,Ze.Yr)()||!bu.forceAllow_&&(bu.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const o=(0,Ze.Wl)(i);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const d=(0,Ze.h$)(o),g=ll(d,1840);for(let S=0;S<g.length;S++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,g.length,g[S]),this.curSegmentNum++}addDisconnectPingFrame(i,o){if((0,Ze.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const d={dframe:"t"};d.id=i,d.pw=o,this.myDisconnFrame.src=this.urlFn(d),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const o=(0,Ze.Wl)(i).length;this.bytesReceived+=o,this.stats_.incrementCounter("bytes_received",o)}}class Dp{constructor(i,o,d,g){if(this.onDisconnect=d,this.urlFn=g,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Ze.Yr)())this.commandCB=i,this.onMessageCB=o;else{this.uniqueCallbackIdentifier=Ee(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=o,this.myIFrame=Dp.createIFrame_();let S="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(S='<script>document.domain="'+document.domain+'";<\/script>');const P="<html><body>"+S+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(P),this.myIFrame.doc.close()}catch(z){mi("frame writing exception"),z.stack&&mi(z.stack),mi(z)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||mi("No IE domain setting required")}catch{const d=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+d+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,o){for(this.myID=i,this.myPW=o,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;let o=this.urlFn(i),d="",g=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+d.length<=1870;){const P=this.pendingSegs.shift();d=d+"&seg"+g+"="+P.seg+"&ts"+g+"="+P.ts+"&d"+g+"="+P.d,g++}return o+=d,this.addLongPollTag_(o,this.currentSerial),!0}return!1}enqueueSegment(i,o,d){this.pendingSegs.push({seg:i,ts:o,d}),this.alive&&this.newRequest_()}addLongPollTag_(i,o){this.outstandingRequests.add(o);const d=()=>{this.outstandingRequests.delete(o),this.newRequest_()},g=setTimeout(d,Math.floor(25e3));this.addTag(i,()=>{clearTimeout(g),d()})}addTag(i,o){(0,Ze.Yr)()?this.doNodeLongPoll(i,o):setTimeout(()=>{try{if(!this.sendNewPolls)return;const d=this.myIFrame.doc.createElement("script");d.type="text/javascript",d.async=!0,d.src=i,d.onload=d.onreadystatechange=function(){const g=d.readyState;(!g||"loaded"===g||"complete"===g)&&(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),o())},d.onerror=()=>{mi("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(d)}catch{}},Math.floor(1))}}let Bd=null;typeof MozWebSocket<"u"?Bd=MozWebSocket:typeof WebSocket<"u"&&(Bd=WebSocket);let oc=(()=>{class c{constructor(o,d,g,S,P,z,le){this.connId=o,this.applicationId=g,this.appCheckToken=S,this.authToken=P,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=br(this.connId),this.stats_=Yu(d),this.connURL=c.connectionURL_(d,z,le,S,g),this.nodeAdmin=d.nodeAdmin}static connectionURL_(o,d,g,S,P){const z={v:"5"};return!(0,Ze.Yr)()&&typeof location<"u"&&location.hostname&&vp.test(location.hostname)&&(z.r="f"),d&&(z.s=d),g&&(z.ls=g),S&&(z.ac=S),P&&(z.p=P),vm(o,Ld,z)}open(o,d){this.onDisconnect=d,this.onMessage=o,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,E.set("previous_websocket_failure",!0);try{let g;if((0,Ze.Yr)()){g={headers:{"User-Agent":`Firebase/5/${kc}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(g.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(g.headers["X-Firebase-AppCheck"]=this.appCheckToken);const P=process.env,z=0===this.connURL.indexOf("wss://")?P.HTTPS_PROXY||P.https_proxy:P.HTTP_PROXY||P.http_proxy;z&&(g.proxy={origin:z})}this.mySock=new Bd(this.connURL,[],g)}catch(g){this.log_("Error instantiating WebSocket.");const S=g.message||g.data;return S&&this.log_(S),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=g=>{this.handleIncomingFrame(g)},this.mySock.onerror=g=>{this.log_("WebSocket error.  Closing connection.");const S=g.message||g.data;S&&this.log_(S),this.onClosed_()}}start(){}static forceDisallow(){c.forceDisallow_=!0}static isAvailable(){let o=!1;if(typeof navigator<"u"&&navigator.userAgent){const g=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);g&&g.length>1&&parseFloat(g[1])<4.4&&(o=!0)}return!o&&null!==Bd&&!c.forceDisallow_}static previouslyFailed(){return E.isInMemoryStorage||!0===E.get("previous_websocket_failure")}markConnectionHealthy(){E.remove("previous_websocket_failure")}appendFrame_(o){if(this.frames.push(o),this.frames.length===this.totalFrames){const d=this.frames.join("");this.frames=null;const g=(0,Ze.cI)(d);this.onMessage(g)}}handleNewFrameCount_(o){this.totalFrames=o,this.frames=[]}extractFrameCount_(o){if((0,Ze.hu)(null===this.frames,"We already have a frame buffer"),o.length<=6){const d=Number(o);if(!isNaN(d))return this.handleNewFrameCount_(d),null}return this.handleNewFrameCount_(1),o}handleIncomingFrame(o){if(null===this.mySock)return;const d=o.data;if(this.bytesReceived+=d.length,this.stats_.incrementCounter("bytes_received",d.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(d);else{const g=this.extractFrameCount_(d);null!==g&&this.appendFrame_(g)}}send(o){this.resetKeepAlive();const d=(0,Ze.Wl)(o);this.bytesSent+=d.length,this.stats_.incrementCounter("bytes_sent",d.length);const g=ll(d,16384);g.length>1&&this.sendString_(String(g.length));for(let S=0;S<g.length;S++)this.sendString_(g[S])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(o){try{this.mySock.send(o)}catch(d){this.log_("Exception thrown from WebSocket.send():",d.message||d.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return c.responsesRequiredToBeHealthy=2,c.healthyTimeout=3e4,c})(),wm=(()=>{class c{constructor(o){this.initTransports_(o)}static get ALL_TRANSPORTS(){return[bu,oc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(o){const d=oc&&oc.isAvailable();let g=d&&!oc.previouslyFailed();if(o.webSocketOnly&&(d||Us("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),g=!0),g)this.transports_=[oc];else{const S=this.transports_=[];for(const P of c.ALL_TRANSPORTS)P&&P.isAvailable()&&S.push(P);c.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return c.globalTransportInitialized_=!1,c})();class Ho{constructor(i,o,d,g,S,P,z,le,Te,mt){this.id=i,this.repoInfo_=o,this.applicationId_=d,this.appCheckToken_=g,this.authToken_=S,this.onMessage_=P,this.onReady_=z,this.onDisconnect_=le,this.onKill_=Te,this.lastSessionId=mt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=br("c:"+this.id+":"),this.transportManager_=new wm(o),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.conn_),d=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(o,d)},Math.floor(0));const g=i.healthyTimeout||0;g>0&&(this.healthyTimeout_=Nc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(g)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return o=>{i===this.conn_?this.onConnectionLost_(o):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return o=>{2!==this.state_&&(i===this.rx_?this.onPrimaryMessageReceived_(o):i===this.secondaryConn_?this.onSecondaryMessageReceived_(o):this.log_("message on old connection"))}}sendRequest(i){this.sendData_({t:"d",d:i})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if("t"in i){const o=i.t;"a"===o?this.upgradeIfSecondaryHealthy_():"r"===o?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===o&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const o=Oc("t",i),d=Oc("d",i);if("c"===o)this.onSecondaryControl_(d);else{if("d"!==o)throw new Error("Unknown protocol layer: "+o);this.pendingDataMessages.push(d)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const o=Oc("t",i),d=Oc("d",i);"c"===o?this.onControl_(d):"d"===o&&this.onDataMessage_(d)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const o=Oc("t",i);if("d"in i){const d=i.d;if("h"===o)this.onHandshake_(d);else if("n"===o){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let g=0;g<this.pendingDataMessages.length;++g)this.onDataMessage_(this.pendingDataMessages[g]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===o?this.onConnectionShutdown_(d):"r"===o?this.onReset_(d):"e"===o?ms("Server Error: "+d):"o"===o?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ms("Unknown control packet command: "+o)}}onHandshake_(i){const o=i.ts,d=i.v,g=i.h;this.sessionId=i.s,this.repoInfo_.host=g,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,o),"5"!==d&&Us("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.secondaryConn_),d=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(o,d),Nc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,o){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(o,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Nc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(E.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Bc{put(i,o,d,g){}merge(i,o,d,g){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,o,d){}onDisconnectMerge(i,o,d){}onDisconnectCancel(i,o){}reportStats(i){}}class wu{constructor(i){this.allowedEvents_=i,this.listeners_={},(0,Ze.hu)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...o){if(Array.isArray(this.listeners_[i])){const d=[...this.listeners_[i]];for(let g=0;g<d.length;g++)d[g].callback.apply(d[g].context,o)}}on(i,o,d){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:o,context:d});const g=this.getInitialEvent(i);g&&o.apply(d,g)}off(i,o,d){this.validateEventType_(i);const g=this.listeners_[i]||[];for(let S=0;S<g.length;S++)if(g[S].callback===o&&(!d||d===g[S].context))return void g.splice(S,1)}validateEventType_(i){(0,Ze.hu)(this.allowedEvents_.find(o=>o===i),"Unknown event: "+i)}}class Gl extends wu{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Ze.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Gl}getInitialEvent(i){return(0,Ze.hu)("online"===i,"Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}class Pr{constructor(i,o){if(void 0===o){this.pieces_=i.split("/");let d=0;for(let g=0;g<this.pieces_.length;g++)this.pieces_[g].length>0&&(this.pieces_[d]=this.pieces_[g],d++);this.pieces_.length=d,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=o}toString(){let i="";for(let o=this.pieceNum_;o<this.pieces_.length;o++)""!==this.pieces_[o]&&(i+="/"+this.pieces_[o]);return i||"/"}}function kr(){return new Pr("")}function cr(c){return c.pieceNum_>=c.pieces_.length?null:c.pieces_[c.pieceNum_]}function Vc(c){return c.pieces_.length-c.pieceNum_}function Tr(c){let i=c.pieceNum_;return i<c.pieces_.length&&i++,new Pr(c.pieces_,i)}function Df(c){return c.pieceNum_<c.pieces_.length?c.pieces_[c.pieces_.length-1]:null}function Uc(c,i=0){return c.pieces_.slice(c.pieceNum_+i)}function Ud(c){if(c.pieceNum_>=c.pieces_.length)return null;const i=[];for(let o=c.pieceNum_;o<c.pieces_.length-1;o++)i.push(c.pieces_[o]);return new Pr(i,0)}function Gr(c,i){const o=[];for(let d=c.pieceNum_;d<c.pieces_.length;d++)o.push(c.pieces_[d]);if(i instanceof Pr)for(let d=i.pieceNum_;d<i.pieces_.length;d++)o.push(i.pieces_[d]);else{const d=i.split("/");for(let g=0;g<d.length;g++)d[g].length>0&&o.push(d[g])}return new Pr(o,0)}function ur(c){return c.pieceNum_>=c.pieces_.length}function ia(c,i){const o=cr(c),d=cr(i);if(null===o)return i;if(o===d)return ia(Tr(c),Tr(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+c+")")}function xg(c,i){const o=Uc(c,0),d=Uc(i,0);for(let g=0;g<o.length&&g<d.length;g++){const S=bl(o[g],d[g]);if(0!==S)return S}return o.length===d.length?0:o.length<d.length?-1:1}function Du(c,i){if(Vc(c)!==Vc(i))return!1;for(let o=c.pieceNum_,d=i.pieceNum_;o<=c.pieces_.length;o++,d++)if(c.pieces_[o]!==i.pieces_[d])return!1;return!0}function _o(c,i){let o=c.pieceNum_,d=i.pieceNum_;if(Vc(c)>Vc(i))return!1;for(;o<c.pieces_.length;){if(c.pieces_[o]!==i.pieces_[d])return!1;++o,++d}return!0}class Th{constructor(i,o){this.errorPrefix_=o,this.parts_=Uc(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let d=0;d<this.parts_.length;d++)this.byteLength_+=(0,Ze.ug)(this.parts_[d]);Zu(this)}}function Zu(c){if(c.byteLength_>768)throw new Error(c.errorPrefix_+"has a key path longer than 768 bytes ("+c.byteLength_+").");if(c.parts_.length>32)throw new Error(c.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Su(c))}function Su(c){return 0===c.parts_.length?"":"in property '"+c.parts_.join(".")+"'"}class qu extends wu{constructor(){let i,o;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(o="visibilitychange",i="hidden"):typeof document.mozHidden<"u"?(o="mozvisibilitychange",i="mozHidden"):typeof document.msHidden<"u"?(o="msvisibilitychange",i="msHidden"):typeof document.webkitHidden<"u"&&(o="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,o&&document.addEventListener(o,()=>{const d=!document[i];d!==this.visible_&&(this.visible_=d,this.trigger("visible",d))},!1)}static getInstance(){return new qu}getInitialEvent(i){return(0,Ze.hu)("visible"===i,"Unknown event type: "+i),[this.visible_]}}const eo=1e3;let $c,jc=(()=>{class c extends Bc{constructor(o,d,g,S,P,z,le,Te){if(super(),this.repoInfo_=o,this.applicationId_=d,this.onDataUpdate_=g,this.onConnectStatus_=S,this.onServerInfoUpdate_=P,this.authTokenProvider_=z,this.appCheckTokenProvider_=le,this.authOverride_=Te,this.id=c.nextPersistentConnectionId_++,this.log_=br("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=eo,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Te&&!(0,Ze.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qu.getInstance().on("visible",this.onVisible_,this),-1===o.host.indexOf("fblocal")&&Gl.getInstance().on("online",this.onOnline_,this)}sendRequest(o,d,g){const S=++this.requestNumber_,P={r:S,a:o,b:d};this.log_((0,Ze.Wl)(P)),(0,Ze.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(P),g&&(this.requestCBHash_[S]=g)}get(o){this.initConnection_();const d=new Ze.BH,g={p:o._path.toString(),q:o._queryObject};return this.outstandingGets_.push({action:"g",request:g,onComplete:z=>{const le=z.d;"ok"===z.s?d.resolve(le):d.reject(le)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),d.promise}listen(o,d,g,S){this.initConnection_();const P=o._queryIdentifier,z=o._path.toString();this.log_("Listen called for "+z+" "+P),this.listens.has(z)||this.listens.set(z,new Map),(0,Ze.hu)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Ze.hu)(!this.listens.get(z).has(P),"listen() called twice for same path/queryId.");const le={onComplete:S,hashFn:d,query:o,tag:g};this.listens.get(z).set(P,le),this.connected_&&this.sendListen_(le)}sendGet_(o){const d=this.outstandingGets_[o];this.sendRequest("g",d.request,g=>{delete this.outstandingGets_[o],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),d.onComplete&&d.onComplete(g)})}sendListen_(o){const d=o.query,g=d._path.toString(),S=d._queryIdentifier;this.log_("Listen on "+g+" for "+S);const P={p:g};o.tag&&(P.q=d._queryObject,P.t=o.tag),P.h=o.hashFn(),this.sendRequest("q",P,le=>{const Te=le.d,mt=le.s;c.warnOnListenWarnings_(Te,d),(this.listens.get(g)&&this.listens.get(g).get(S))===o&&(this.log_("listen response",le),"ok"!==mt&&this.removeListen_(g,S),o.onComplete&&o.onComplete(mt,Te))})}static warnOnListenWarnings_(o,d){if(o&&"object"==typeof o&&(0,Ze.r3)(o,"w")){const g=(0,Ze.DV)(o,"w");if(Array.isArray(g)&&~g.indexOf("no_index")){const S='".indexOn": "'+d._queryParams.getIndex().toString()+'"',P=d._path.toString();Us(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${S} at ${P} to your security rules for better performance.`)}}}refreshAuthToken(o){this.authToken_=o,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(o)}reduceReconnectDelayIfAdminCredential_(o){(o&&40===o.length||(0,Ze.GJ)(o))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(o){this.appCheckToken_=o,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const o=this.authToken_,d=(0,Ze.w9)(o)?"auth":"gauth",g={cred:o};null===this.authOverride_?g.noauth=!0:"object"==typeof this.authOverride_&&(g.authvar=this.authOverride_),this.sendRequest(d,g,S=>{const P=S.s,z=S.d||"error";this.authToken_===o&&("ok"===P?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(P,z))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},o=>{const d=o.s,g=o.d||"error";"ok"===d?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(d,g)})}unlisten(o,d){const g=o._path.toString(),S=o._queryIdentifier;this.log_("Unlisten called for "+g+" "+S),(0,Ze.hu)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(g,S)&&this.connected_&&this.sendUnlisten_(g,S,o._queryObject,d)}sendUnlisten_(o,d,g,S){this.log_("Unlisten on "+o+" for "+d);const P={p:o};S&&(P.q=g,P.t=S),this.sendRequest("n",P)}onDisconnectPut(o,d,g){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",o,d,g):this.onDisconnectRequestQueue_.push({pathString:o,action:"o",data:d,onComplete:g})}onDisconnectMerge(o,d,g){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",o,d,g):this.onDisconnectRequestQueue_.push({pathString:o,action:"om",data:d,onComplete:g})}onDisconnectCancel(o,d){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",o,null,d):this.onDisconnectRequestQueue_.push({pathString:o,action:"oc",data:null,onComplete:d})}sendOnDisconnect_(o,d,g,S){const P={p:d,d:g};this.log_("onDisconnect "+o,P),this.sendRequest(o,P,z=>{S&&setTimeout(()=>{S(z.s,z.d)},Math.floor(0))})}put(o,d,g,S){this.putInternal("p",o,d,g,S)}merge(o,d,g,S){this.putInternal("m",o,d,g,S)}putInternal(o,d,g,S,P){this.initConnection_();const z={p:d,d:g};void 0!==P&&(z.h=P),this.outstandingPuts_.push({action:o,request:z,onComplete:S}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+d)}sendPut_(o){const d=this.outstandingPuts_[o].action,g=this.outstandingPuts_[o].request,S=this.outstandingPuts_[o].onComplete;this.outstandingPuts_[o].queued=this.connected_,this.sendRequest(d,g,P=>{this.log_(d+" response",P),delete this.outstandingPuts_[o],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),S&&S(P.s,P.d)})}reportStats(o){if(this.connected_){const d={c:o};this.log_("reportStats",d),this.sendRequest("s",d,g=>{"ok"!==g.s&&this.log_("reportStats","Error sending stats: "+g.d)})}}onDataMessage_(o){if("r"in o){this.log_("from server: "+(0,Ze.Wl)(o));const d=o.r,g=this.requestCBHash_[d];g&&(delete this.requestCBHash_[d],g(o.b))}else{if("error"in o)throw"A server-side error has occurred: "+o.error;"a"in o&&this.onDataPush_(o.a,o.b)}}onDataPush_(o,d){this.log_("handleServerMessage",o,d),"d"===o?this.onDataUpdate_(d.p,d.d,!1,d.t):"m"===o?this.onDataUpdate_(d.p,d.d,!0,d.t):"c"===o?this.onListenRevoked_(d.p,d.q):"ac"===o?this.onAuthRevoked_(d.s,d.d):"apc"===o?this.onAppCheckRevoked_(d.s,d.d):"sd"===o?this.onSecurityDebugPacket_(d):ms("Unrecognized action received from server: "+(0,Ze.Wl)(o)+"\nAre you using the latest client?")}onReady_(o,d){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(o),this.lastSessionId=d,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(o){(0,Ze.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(o))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(o){o&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=eo,this.realtime_||this.scheduleConnect_(0)),this.visible_=o}onOnline_(o){o?(this.log_("Browser went online."),this.reconnectDelay_=eo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=eo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const o=(new Date).getTime()-this.lastConnectionAttemptTime_;let d=Math.max(0,this.reconnectDelay_-o);d=Math.random()*d,this.log_("Trying to reconnect in "+d+"ms"),this.scheduleConnect_(d),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var o=this;return(0,Ni.Z)(function*(){if(o.shouldReconnect_()){o.log_("Making a connection attempt"),o.lastConnectionAttemptTime_=(new Date).getTime(),o.lastConnectionEstablishedTime_=null;const d=o.onDataMessage_.bind(o),g=o.onReady_.bind(o),S=o.onRealtimeDisconnect_.bind(o),P=o.id+":"+c.nextConnectionId_++,z=o.lastSessionId;let le=!1,Te=null;const mt=function(){Te?Te.close():(le=!0,S())};o.realtime_={close:mt,sendRequest:function(mn){(0,Ze.hu)(Te,"sendRequest call when we're not connected not allowed."),Te.sendRequest(mn)}};const Ht=o.forceTokenRefresh_;o.forceTokenRefresh_=!1;try{const[mn,Cn]=yield Promise.all([o.authTokenProvider_.getToken(Ht),o.appCheckTokenProvider_.getToken(Ht)]);le?mi("getToken() completed but was canceled"):(mi("getToken() completed. Creating connection."),o.authToken_=mn&&mn.accessToken,o.appCheckToken_=Cn&&Cn.token,Te=new Ho(P,o.repoInfo_,o.applicationId_,o.appCheckToken_,o.authToken_,d,g,S,s=>{Us(s+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},z))}catch(mn){o.log_("Failed to get token: "+mn),le||(o.repoInfo_.nodeAdmin&&Us(mn),mt())}}})()}interrupt(o){mi("Interrupting connection for reason: "+o),this.interruptReasons_[o]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(o){mi("Resuming connection for reason: "+o),delete this.interruptReasons_[o],(0,Ze.xb)(this.interruptReasons_)&&(this.reconnectDelay_=eo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(o){const d=o-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:d})}cancelSentTransactions_(){for(let o=0;o<this.outstandingPuts_.length;o++){const d=this.outstandingPuts_[o];d&&"h"in d.request&&d.queued&&(d.onComplete&&d.onComplete("disconnect"),delete this.outstandingPuts_[o],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(o,d){let g;g=d?d.map(P=>Fd(P)).join("$"):"default";const S=this.removeListen_(o,g);S&&S.onComplete&&S.onComplete("permission_denied")}removeListen_(o,d){const g=new Pr(o).toString();let S;if(this.listens.has(g)){const P=this.listens.get(g);S=P.get(d),P.delete(d),0===P.size&&this.listens.delete(g)}else S=void 0;return S}onAuthRevoked_(o,d){mi("Auth token revoked: "+o+"/"+d),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===o||"permission_denied"===o)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(o,d){mi("App check token revoked: "+o+"/"+d),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===o||"permission_denied"===o)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(o){this.securityDebugCallback_?this.securityDebugCallback_(o):"msg"in o&&console.log("FIREBASE: "+o.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const o of this.listens.values())for(const d of o.values())this.sendListen_(d);for(let o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){const o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(let o=0;o<this.outstandingGets_.length;o++)this.outstandingGets_[o]&&this.sendGet_(o)}sendConnectStats_(){const o={};let d="js";(0,Ze.Yr)()&&(d=this.repoInfo_.nodeAdmin?"admin_node":"node"),o["sdk."+d+"."+kc.replace(/\./g,"-")]=1,(0,Ze.uI)()?o["framework.cordova"]=1:(0,Ze.b$)()&&(o["framework.reactnative"]=1),this.reportStats(o)}shouldReconnect_(){const o=Gl.getInstance().currentlyOnline();return(0,Ze.xb)(this.interruptReasons_)&&o}}return c.nextPersistentConnectionId_=0,c.nextConnectionId_=0,c})();class Ji{constructor(i,o){this.name=i,this.node=o}static Wrap(i,o){return new Ji(i,o)}}class vo{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,o){const d=new Ji(To,i),g=new Ji(To,o);return 0!==this.compare(d,g)}minPost(){return Ji.MIN}}class Qu extends vo{static get __EMPTY_NODE(){return $c}static set __EMPTY_NODE(i){$c=i}compare(i,o){return bl(i.name,o.name)}isDefinedOn(i){throw(0,Ze.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,o){return!1}minPost(){return Ji.MIN}maxPost(){return new Ji(ta,$c)}makePost(i,o){return(0,Ze.hu)("string"==typeof i,"KeyIndex indexValue must always be a string."),new Ji(i,$c)}toString(){return".key"}}const zl=new Qu;class wl{constructor(i,o,d,g,S=null){this.isReverse_=g,this.resultGenerator_=S,this.nodeStack_=[];let P=1;for(;!i.isEmpty();)if(P=o?d(i.key,o):1,g&&(P*=-1),P<0)i=this.isReverse_?i.left:i.right;else{if(0===P){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}getNext(){if(0===this.nodeStack_.length)return null;let o,i=this.nodeStack_.pop();if(o=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return o}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}let Dl,yo=(()=>{class c{constructor(o,d,g,S,P){this.key=o,this.value=d,this.color=g??c.RED,this.left=S??Mo.EMPTY_NODE,this.right=P??Mo.EMPTY_NODE}copy(o,d,g,S,P){return new c(o??this.key,d??this.value,g??this.color,S??this.left,P??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(o){return this.left.inorderTraversal(o)||!!o(this.key,this.value)||this.right.inorderTraversal(o)}reverseTraversal(o){return this.right.reverseTraversal(o)||o(this.key,this.value)||this.left.reverseTraversal(o)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(o,d,g){let S=this;const P=g(o,S.key);return S=P<0?S.copy(null,null,null,S.left.insert(o,d,g),null):0===P?S.copy(null,d,null,null,null):S.copy(null,null,null,null,S.right.insert(o,d,g)),S.fixUp_()}removeMin_(){if(this.left.isEmpty())return Mo.EMPTY_NODE;let o=this;return!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.removeMin_(),null),o.fixUp_()}remove(o,d){let g,S;if(g=this,d(o,g.key)<0)!g.left.isEmpty()&&!g.left.isRed_()&&!g.left.left.isRed_()&&(g=g.moveRedLeft_()),g=g.copy(null,null,null,g.left.remove(o,d),null);else{if(g.left.isRed_()&&(g=g.rotateRight_()),!g.right.isEmpty()&&!g.right.isRed_()&&!g.right.left.isRed_()&&(g=g.moveRedRight_()),0===d(o,g.key)){if(g.right.isEmpty())return Mo.EMPTY_NODE;S=g.right.min_(),g=g.copy(S.key,S.value,null,null,g.right.removeMin_())}g=g.copy(null,null,null,null,g.right.remove(o,d))}return g.fixUp_()}isRed_(){return this.color}fixUp_(){let o=this;return o.right.isRed_()&&!o.left.isRed_()&&(o=o.rotateLeft_()),o.left.isRed_()&&o.left.left.isRed_()&&(o=o.rotateRight_()),o.left.isRed_()&&o.right.isRed_()&&(o=o.colorFlip_()),o}moveRedLeft_(){let o=this.colorFlip_();return o.right.left.isRed_()&&(o=o.copy(null,null,null,null,o.right.rotateRight_()),o=o.rotateLeft_(),o=o.colorFlip_()),o}moveRedRight_(){let o=this.colorFlip_();return o.left.left.isRed_()&&(o=o.rotateRight_(),o=o.colorFlip_()),o}rotateLeft_(){const o=this.copy(null,null,c.RED,null,this.right.left);return this.right.copy(null,null,this.color,o,null)}rotateRight_(){const o=this.copy(null,null,c.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,o)}colorFlip_(){const o=this.left.copy(null,null,!this.left.color,null,null),d=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,o,d)}checkMaxDepth_(){const o=this.check_();return Math.pow(2,o)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const o=this.left.check_();if(o!==this.right.check_())throw new Error("Black depths differ");return o+(this.isRed_()?0:1)}}return c.RED=!0,c.BLACK=!1,c})();class Mo{constructor(i,o=Mo.EMPTY_NODE){this.comparator_=i,this.root_=o}insert(i,o){return new Mo(this.comparator_,this.root_.insert(i,o,this.comparator_).copy(null,null,yo.BLACK,null,null))}remove(i){return new Mo(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,yo.BLACK,null,null))}get(i){let o,d=this.root_;for(;!d.isEmpty();){if(o=this.comparator_(i,d.key),0===o)return d.value;o<0?d=d.left:o>0&&(d=d.right)}return null}getPredecessorKey(i){let o,d=this.root_,g=null;for(;!d.isEmpty();){if(o=this.comparator_(i,d.key),0===o){if(d.left.isEmpty())return g?g.key:null;for(d=d.left;!d.right.isEmpty();)d=d.right;return d.key}o<0?d=d.left:o>0&&(g=d,d=d.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new wl(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,o){return new wl(this.root_,i,this.comparator_,!1,o)}getReverseIteratorFrom(i,o){return new wl(this.root_,i,this.comparator_,!0,o)}getReverseIterator(i){return new wl(this.root_,null,this.comparator_,!0,i)}}function Gc(c,i){return bl(c.name,i.name)}function Ip(c,i){return bl(c,i)}Mo.EMPTY_NODE=new class Xu{copy(i,o,d,g,S){return this}insert(i,o,d){return new yo(i,o,null)}remove(i,o){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ra=function(c){return"number"==typeof c?"number:"+yh(c):"string:"+c},Ih=function(c){if(c.isLeafNode()){const i=c.val();(0,Ze.hu)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,Ze.r3)(i,".sv"),"Priority must be a string or number.")}else(0,Ze.hu)(c===Dl||c.isEmpty(),"priority of unexpected type.");(0,Ze.hu)(c===Dl||c.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Tf,Ju,Mf,zc=(()=>{class c{constructor(o,d=c.__childrenNodeConstructor.EMPTY_NODE){this.value_=o,this.priorityNode_=d,this.lazyHash_=null,(0,Ze.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ih(this.priorityNode_)}static set __childrenNodeConstructor(o){Tf=o}static get __childrenNodeConstructor(){return Tf}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(o){return new c(this.value_,o)}getImmediateChild(o){return".priority"===o?this.priorityNode_:c.__childrenNodeConstructor.EMPTY_NODE}getChild(o){return ur(o)?this:".priority"===cr(o)?this.priorityNode_:c.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(o,d){return null}updateImmediateChild(o,d){return".priority"===o?this.updatePriority(d):d.isEmpty()&&".priority"!==o?this:c.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(o,d).updatePriority(this.priorityNode_)}updateChild(o,d){const g=cr(o);return null===g?d:d.isEmpty()&&".priority"!==g?this:((0,Ze.hu)(".priority"!==g||1===Vc(o),".priority must be the last token in a path"),this.updateImmediateChild(g,c.__childrenNodeConstructor.EMPTY_NODE.updateChild(Tr(o),d)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(o,d){return!1}val(o){return o&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let o="";this.priorityNode_.isEmpty()||(o+="priority:"+ra(this.priorityNode_.val())+":");const d=typeof this.value_;o+=d+":",o+="number"===d?yh(this.value_):this.value_,this.lazyHash_=At(o)}return this.lazyHash_}getValue(){return this.value_}compareTo(o){return o===c.__childrenNodeConstructor.EMPTY_NODE?1:o instanceof c.__childrenNodeConstructor?-1:((0,Ze.hu)(o.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(o))}compareToLeafNode_(o){const d=typeof o.value_,g=typeof this.value_,S=c.VALUE_TYPE_ORDER.indexOf(d),P=c.VALUE_TYPE_ORDER.indexOf(g);return(0,Ze.hu)(S>=0,"Unknown leaf type: "+d),(0,Ze.hu)(P>=0,"Unknown leaf type: "+g),S===P?"object"===g?0:this.value_<o.value_?-1:this.value_===o.value_?0:1:P-S}withIndex(){return this}isIndexed(){return!0}equals(o){if(o===this)return!0;if(o.isLeafNode()){const d=o;return this.value_===d.value_&&this.priorityNode_.equals(d.priorityNode_)}return!1}}return c.VALUE_TYPE_ORDER=["object","boolean","number","string"],c})();const is=new class V_ extends vo{compare(i,o){const d=i.node.getPriority(),g=o.node.getPriority(),S=d.compareTo(g);return 0===S?bl(i.name,o.name):S}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,o){return!i.getPriority().equals(o.getPriority())}minPost(){return Ji.MIN}maxPost(){return new Ji(ta,new zc("[PRIORITY-POST]",Mf))}makePost(i,o){const d=Ju(i);return new Ji(o,new zc("[PRIORITY-POST]",d))}toString(){return".priority"}},kg=Math.log(2);class ed{constructor(i){this.count=parseInt(Math.log(i+1)/kg,10),this.current_=this.count-1;const g=(S=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=i+1&g}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const ac=function(c,i,o,d){c.sort(i);const g=function(le,Te){const mt=Te-le;let bt,Ht;if(0===mt)return null;if(1===mt)return bt=c[le],Ht=o?o(bt):bt,new yo(Ht,bt.node,yo.BLACK,null,null);{const mn=parseInt(mt/2,10)+le,Cn=g(le,mn),s=g(mn+1,Te);return bt=c[mn],Ht=o?o(bt):bt,new yo(Ht,bt.node,yo.BLACK,Cn,s)}},z=function(le){let Te=null,mt=null,bt=c.length;const Ht=function(Cn,s){const e=bt-Cn,t=bt;bt-=Cn;const a=g(e+1,t),f=c[e],y=o?o(f):f;mn(new yo(y,f.node,s,null,a))},mn=function(Cn){Te?(Te.left=Cn,Te=Cn):(mt=Cn,Te=Cn)};for(let Cn=0;Cn<le.count;++Cn){const s=le.nextBitIsOne(),e=Math.pow(2,le.count-(Cn+1));s?Ht(e,yo.BLACK):(Ht(e,yo.BLACK),Ht(e,yo.RED))}return mt}(new ed(c.length));return new Mo(d||i,z)};let td;const $d={};class Wl{constructor(i,o){this.indexes_=i,this.indexSet_=o}static get Default(){return(0,Ze.hu)($d&&is,"ChildrenNode.ts has not been loaded"),td=td||new Wl({".priority":$d},{".priority":is}),td}get(i){const o=(0,Ze.DV)(this.indexes_,i);if(!o)throw new Error("No index defined for "+i);return o instanceof Mo?o:null}hasIndex(i){return(0,Ze.r3)(this.indexSet_,i.toString())}addIndex(i,o){(0,Ze.hu)(i!==zl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const d=[];let g=!1;const S=o.getIterator(Ji.Wrap);let z,P=S.getNext();for(;P;)g=g||i.isDefinedOn(P.node),d.push(P),P=S.getNext();z=g?ac(d,i.getCompare()):$d;const le=i.toString(),Te=Object.assign({},this.indexSet_);Te[le]=i;const mt=Object.assign({},this.indexes_);return mt[le]=z,new Wl(mt,Te)}addToIndexes(i,o){const d=(0,Ze.UI)(this.indexes_,(g,S)=>{const P=(0,Ze.DV)(this.indexSet_,S);if((0,Ze.hu)(P,"Missing index implementation for "+S),g===$d){if(P.isDefinedOn(i.node)){const z=[],le=o.getIterator(Ji.Wrap);let Te=le.getNext();for(;Te;)Te.name!==i.name&&z.push(Te),Te=le.getNext();return z.push(i),ac(z,P.getCompare())}return $d}{const z=o.get(i.name);let le=g;return z&&(le=le.remove(new Ji(i.name,z))),le.insert(i,i.node)}});return new Wl(d,this.indexSet_)}removeFromIndexes(i,o){const d=(0,Ze.UI)(this.indexes_,g=>{if(g===$d)return g;{const S=o.get(i.name);return S?g.remove(new Ji(i.name,S)):g}});return new Wl(d,this.indexSet_)}}let Tu,Vi=(()=>{class c{constructor(o,d,g){this.children_=o,this.priorityNode_=d,this.indexMap_=g,this.lazyHash_=null,this.priorityNode_&&Ih(this.priorityNode_),this.children_.isEmpty()&&(0,Ze.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Tu||(Tu=new c(new Mo(Ip),null,Wl.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Tu}updatePriority(o){return this.children_.isEmpty()?this:new c(this.children_,o,this.indexMap_)}getImmediateChild(o){if(".priority"===o)return this.getPriority();{const d=this.children_.get(o);return null===d?Tu:d}}getChild(o){const d=cr(o);return null===d?this:this.getImmediateChild(d).getChild(Tr(o))}hasChild(o){return null!==this.children_.get(o)}updateImmediateChild(o,d){if((0,Ze.hu)(d,"We should always be passing snapshot nodes"),".priority"===o)return this.updatePriority(d);{const g=new Ji(o,d);let S,P;d.isEmpty()?(S=this.children_.remove(o),P=this.indexMap_.removeFromIndexes(g,this.children_)):(S=this.children_.insert(o,d),P=this.indexMap_.addToIndexes(g,this.children_));const z=S.isEmpty()?Tu:this.priorityNode_;return new c(S,z,P)}}updateChild(o,d){const g=cr(o);if(null===g)return d;{(0,Ze.hu)(".priority"!==cr(o)||1===Vc(o),".priority must be the last token in a path");const S=this.getImmediateChild(g).updateChild(Tr(o),d);return this.updateImmediateChild(g,S)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(o){if(this.isEmpty())return null;const d={};let g=0,S=0,P=!0;if(this.forEachChild(is,(z,le)=>{d[z]=le.val(o),g++,P&&c.INTEGER_REGEXP_.test(z)?S=Math.max(S,Number(z)):P=!1}),!o&&P&&S<2*g){const z=[];for(const le in d)z[le]=d[le];return z}return o&&!this.getPriority().isEmpty()&&(d[".priority"]=this.getPriority().val()),d}hash(){if(null===this.lazyHash_){let o="";this.getPriority().isEmpty()||(o+="priority:"+ra(this.getPriority().val())+":"),this.forEachChild(is,(d,g)=>{const S=g.hash();""!==S&&(o+=":"+d+":"+S)}),this.lazyHash_=""===o?"":At(o)}return this.lazyHash_}getPredecessorChildName(o,d,g){const S=this.resolveIndex_(g);if(S){const P=S.getPredecessorKey(new Ji(o,d));return P?P.name:null}return this.children_.getPredecessorKey(o)}getFirstChildName(o){const d=this.resolveIndex_(o);if(d){const g=d.minKey();return g&&g.name}return this.children_.minKey()}getFirstChild(o){const d=this.getFirstChildName(o);return d?new Ji(d,this.children_.get(d)):null}getLastChildName(o){const d=this.resolveIndex_(o);if(d){const g=d.maxKey();return g&&g.name}return this.children_.maxKey()}getLastChild(o){const d=this.getLastChildName(o);return d?new Ji(d,this.children_.get(d)):null}forEachChild(o,d){const g=this.resolveIndex_(o);return g?g.inorderTraversal(S=>d(S.name,S.node)):this.children_.inorderTraversal(d)}getIterator(o){return this.getIteratorFrom(o.minPost(),o)}getIteratorFrom(o,d){const g=this.resolveIndex_(d);if(g)return g.getIteratorFrom(o,S=>S);{const S=this.children_.getIteratorFrom(o.name,Ji.Wrap);let P=S.peek();for(;null!=P&&d.compare(P,o)<0;)S.getNext(),P=S.peek();return S}}getReverseIterator(o){return this.getReverseIteratorFrom(o.maxPost(),o)}getReverseIteratorFrom(o,d){const g=this.resolveIndex_(d);if(g)return g.getReverseIteratorFrom(o,S=>S);{const S=this.children_.getReverseIteratorFrom(o.name,Ji.Wrap);let P=S.peek();for(;null!=P&&d.compare(P,o)>0;)S.getNext(),P=S.peek();return S}}compareTo(o){return this.isEmpty()?o.isEmpty()?0:-1:o.isLeafNode()||o.isEmpty()?1:o===Wc?-1:0}withIndex(o){if(o===zl||this.indexMap_.hasIndex(o))return this;{const d=this.indexMap_.addIndex(o,this.children_);return new c(this.children_,this.priorityNode_,d)}}isIndexed(o){return o===zl||this.indexMap_.hasIndex(o)}equals(o){if(o===this)return!0;if(o.isLeafNode())return!1;{const d=o;if(this.getPriority().equals(d.getPriority())){if(this.children_.count()===d.children_.count()){const g=this.getIterator(is),S=d.getIterator(is);let P=g.getNext(),z=S.getNext();for(;P&&z;){if(P.name!==z.name||!P.node.equals(z.node))return!1;P=g.getNext(),z=S.getNext()}return null===P&&null===z}return!1}return!1}}resolveIndex_(o){return o===zl?null:this.indexMap_.get(o.toString())}}return c.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,c})();const Wc=new class xh extends Vi{constructor(){super(new Mo(Ip),Vi.EMPTY_NODE,Wl.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return Vi.EMPTY_NODE}isEmpty(){return!1}};function er(c,i=null){if(null===c)return Vi.EMPTY_NODE;if("object"==typeof c&&".priority"in c&&(i=c[".priority"]),(0,Ze.hu)(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof c&&".value"in c&&null!==c[".value"]&&(c=c[".value"]),"object"!=typeof c||".sv"in c)return new zc(c,er(i));if(c instanceof Array){let o=Vi.EMPTY_NODE;return qs(c,(d,g)=>{if((0,Ze.r3)(c,d)&&"."!==d.substring(0,1)){const S=er(g);(S.isLeafNode()||!S.isEmpty())&&(o=o.updateImmediateChild(d,S))}}),o.updatePriority(er(i))}{const o=[];let d=!1;if(qs(c,(P,z)=>{if("."!==P.substring(0,1)){const le=er(z);le.isEmpty()||(d=d||!le.getPriority().isEmpty(),o.push(new Ji(P,le)))}}),0===o.length)return Vi.EMPTY_NODE;const S=ac(o,Gc,P=>P.name,Ip);if(d){const P=ac(o,is.getCompare());return new Vi(S,er(i),new Wl({".priority":P},{".priority":is}))}return new Vi(S,er(i),Wl.Default)}}Object.defineProperties(Ji,{MIN:{value:new Ji(To,Vi.EMPTY_NODE)},MAX:{value:new Ji(ta,Wc)}}),Qu.__EMPTY_NODE=Vi.EMPTY_NODE,zc.__childrenNodeConstructor=Vi,function Mh(c){Dl=c}(Wc),function Ag(c){Mf=c}(Wc),function jd(c){Ju=c}(er);class xp extends vo{constructor(i){super(),this.indexPath_=i,(0,Ze.hu)(!ur(i)&&".priority"!==cr(i),"Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,o){const d=this.extractChild(i.node),g=this.extractChild(o.node),S=d.compareTo(g);return 0===S?bl(i.name,o.name):S}makePost(i,o){const d=er(i),g=Vi.EMPTY_NODE.updateChild(this.indexPath_,d);return new Ji(o,g)}maxPost(){const i=Vi.EMPTY_NODE.updateChild(this.indexPath_,Wc);return new Ji(ta,i)}toString(){return Uc(this.indexPath_,0).join("/")}}const Yc=new class id extends vo{compare(i,o){const d=i.node.compareTo(o.node);return 0===d?bl(i.name,o.name):d}isDefinedOn(i){return!0}indexedValueChanged(i,o){return!i.equals(o)}minPost(){return Ji.MIN}maxPost(){return Ji.MAX}makePost(i,o){const d=er(i);return new Ji(o,d)}toString(){return".value"}},Mu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",kh=function(){let c=0;const i=[];return function(o){const d=o===c;let g;c=o;const S=new Array(8);for(g=7;g>=0;g--)S[g]=Mu.charAt(o%64),o=Math.floor(o/64);(0,Ze.hu)(0===o,"Cannot push at time == 0");let P=S.join("");if(d){for(g=11;g>=0&&63===i[g];g--)i[g]=0;i[g]++}else for(g=0;g<12;g++)i[g]=Math.floor(64*Math.random());for(g=0;g<12;g++)P+=Mu.charAt(i[g]);return(0,Ze.hu)(20===P.length,"nextPushId: Length should be 20."),P}}(),kp=function(c){if(c===""+vf)return"-";const i=Hs(c);if(null!=i)return""+(i+1);const o=new Array(c.length);for(let P=0;P<o.length;P++)o[P]=c.charAt(P);if(o.length<786)return o.push("-"),o.join("");let d=o.length-1;for(;d>=0&&"z"===o[d];)d--;if(-1===d)return ta;const S=Mu.charAt(Mu.indexOf(o[d])+1);return o[d]=S,o.slice(0,d+1).join("")},Rh=function(c){if(c===""+Pc)return To;const i=Hs(c);if(null!=i)return""+(i-1);const o=new Array(c.length);for(let d=0;d<o.length;d++)o[d]=c.charAt(d);return"-"===o[o.length-1]?1===o.length?""+vf:(delete o[o.length-1],o.join("")):(o[o.length-1]=Mu.charAt(Mu.indexOf(o[o.length-1])-1),o.join("")+"z".repeat(786-o.length))};function If(c){return{type:"value",snapshotNode:c}}function lc(c,i){return{type:"child_added",snapshotNode:i,childName:c}}function cc(c,i){return{type:"child_removed",snapshotNode:i,childName:c}}function uc(c,i,o){return{type:"child_changed",snapshotNode:i,childName:c,oldSnap:o}}class Af{constructor(i){this.index_=i}updateChild(i,o,d,g,S,P){(0,Ze.hu)(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");const z=i.getImmediateChild(o);return z.getChild(g).equals(d.getChild(g))&&z.isEmpty()===d.isEmpty()||(null!=P&&(d.isEmpty()?i.hasChild(o)?P.trackChildChange(cc(o,z)):(0,Ze.hu)(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):z.isEmpty()?P.trackChildChange(lc(o,d)):P.trackChildChange(uc(o,d,z))),i.isLeafNode()&&d.isEmpty())?i:i.updateImmediateChild(o,d).withIndex(this.index_)}updateFullNode(i,o,d){return null!=d&&(i.isLeafNode()||i.forEachChild(is,(g,S)=>{o.hasChild(g)||d.trackChildChange(cc(g,S))}),o.isLeafNode()||o.forEachChild(is,(g,S)=>{if(i.hasChild(g)){const P=i.getImmediateChild(g);P.equals(S)||d.trackChildChange(uc(g,S,P))}else d.trackChildChange(lc(g,S))})),o.withIndex(this.index_)}updatePriority(i,o){return i.isEmpty()?Vi.EMPTY_NODE:i.updatePriority(o)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class sd{constructor(i){this.indexedFilter_=new Af(i.getIndex()),this.index_=i.getIndex(),this.startPost_=sd.getStartPost_(i),this.endPost_=sd.getEndPost_(i)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){return this.index_.compare(this.getStartPost(),i)<=0&&this.index_.compare(i,this.getEndPost())<=0}updateChild(i,o,d,g,S,P){return this.matches(new Ji(o,d))||(d=Vi.EMPTY_NODE),this.indexedFilter_.updateChild(i,o,d,g,S,P)}updateFullNode(i,o,d){o.isLeafNode()&&(o=Vi.EMPTY_NODE);let g=o.withIndex(this.index_);g=g.updatePriority(Vi.EMPTY_NODE);const S=this;return o.forEachChild(is,(P,z)=>{S.matches(new Ji(P,z))||(g=g.updateImmediateChild(P,Vi.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,g,d)}updatePriority(i,o){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){const o=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),o)}return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){const o=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),o)}return i.getIndex().maxPost()}}class Tm{constructor(i){this.rangedFilter_=new sd(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft()}updateChild(i,o,d,g,S,P){return this.rangedFilter_.matches(new Ji(o,d))||(d=Vi.EMPTY_NODE),i.getImmediateChild(o).equals(d)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,o,d,g,S,P):this.fullLimitUpdateChild_(i,o,d,S,P)}updateFullNode(i,o,d){let g;if(o.isLeafNode()||o.isEmpty())g=Vi.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<o.numChildren()&&o.isIndexed(this.index_)){let S;g=Vi.EMPTY_NODE.withIndex(this.index_),S=this.reverse_?o.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let P=0;for(;S.hasNext()&&P<this.limit_;){const z=S.getNext();let le;if(le=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),z)<=0:this.index_.compare(z,this.rangedFilter_.getEndPost())<=0,!le)break;g=g.updateImmediateChild(z.name,z.node),P++}}else{let S,P,z,le;if(g=o.withIndex(this.index_),g=g.updatePriority(Vi.EMPTY_NODE),this.reverse_){le=g.getReverseIterator(this.index_),S=this.rangedFilter_.getEndPost(),P=this.rangedFilter_.getStartPost();const bt=this.index_.getCompare();z=(Ht,mn)=>bt(mn,Ht)}else le=g.getIterator(this.index_),S=this.rangedFilter_.getStartPost(),P=this.rangedFilter_.getEndPost(),z=this.index_.getCompare();let Te=0,mt=!1;for(;le.hasNext();){const bt=le.getNext();!mt&&z(S,bt)<=0&&(mt=!0),mt&&Te<this.limit_&&z(bt,P)<=0?Te++:g=g.updateImmediateChild(bt.name,Vi.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,g,d)}updatePriority(i,o){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,o,d,g,S){let P;if(this.reverse_){const bt=this.index_.getCompare();P=(Ht,mn)=>bt(mn,Ht)}else P=this.index_.getCompare();const z=i;(0,Ze.hu)(z.numChildren()===this.limit_,"");const le=new Ji(o,d),Te=this.reverse_?z.getFirstChild(this.index_):z.getLastChild(this.index_),mt=this.rangedFilter_.matches(le);if(z.hasChild(o)){const bt=z.getImmediateChild(o);let Ht=g.getChildAfterChild(this.index_,Te,this.reverse_);for(;null!=Ht&&(Ht.name===o||z.hasChild(Ht.name));)Ht=g.getChildAfterChild(this.index_,Ht,this.reverse_);const mn=null==Ht?1:P(Ht,le);if(mt&&!d.isEmpty()&&mn>=0)return S?.trackChildChange(uc(o,d,bt)),z.updateImmediateChild(o,d);{S?.trackChildChange(cc(o,bt));const s=z.updateImmediateChild(o,Vi.EMPTY_NODE);return null!=Ht&&this.rangedFilter_.matches(Ht)?(S?.trackChildChange(lc(Ht.name,Ht.node)),s.updateImmediateChild(Ht.name,Ht.node)):s}}return d.isEmpty()?i:mt&&P(Te,le)>=0?(null!=S&&(S.trackChildChange(cc(Te.name,Te.node)),S.trackChildChange(lc(o,d))),z.updateImmediateChild(o,d).updateImmediateChild(Te.name,Vi.EMPTY_NODE)):i}}class od{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=is}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Ze.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Ze.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:To}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Ze.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Ze.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ta}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Ze.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===is}copy(){const i=new od;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}}function Op(c,i,o){const d=c.copy();return d.startSet_=!0,void 0===i&&(i=null),d.indexStartValue_=i,null!=o?(d.startNameSet_=!0,d.indexStartName_=o):(d.startNameSet_=!1,d.indexStartName_=""),d}function Np(c,i,o){const d=c.copy();return d.endSet_=!0,void 0===i&&(i=null),d.indexEndValue_=i,void 0!==o?(d.endNameSet_=!0,d.indexEndName_=o):(d.endNameSet_=!1,d.indexEndName_=""),d}function Kc(c,i){const o=c.copy();return o.index_=i,o}function Fp(c){const i={};if(c.isDefault())return i;let o;return c.index_===is?o="$priority":c.index_===Yc?o="$value":c.index_===zl?o="$key":((0,Ze.hu)(c.index_ instanceof xp,"Unrecognized index type!"),o=c.index_.toString()),i.orderBy=(0,Ze.Wl)(o),c.startSet_&&(i.startAt=(0,Ze.Wl)(c.indexStartValue_),c.startNameSet_&&(i.startAt+=","+(0,Ze.Wl)(c.indexStartName_))),c.endSet_&&(i.endAt=(0,Ze.Wl)(c.indexEndValue_),c.endNameSet_&&(i.endAt+=","+(0,Ze.Wl)(c.indexEndName_))),c.limitSet_&&(c.isViewFromLeft()?i.limitToFirst=c.limit_:i.limitToLast=c.limit_),i}function ad(c){const i={};if(c.startSet_&&(i.sp=c.indexStartValue_,c.startNameSet_&&(i.sn=c.indexStartName_)),c.endSet_&&(i.ep=c.indexEndValue_,c.endNameSet_&&(i.en=c.indexEndName_)),c.limitSet_){i.l=c.limit_;let o=c.viewFrom_;""===o&&(o=c.isViewFromLeft()?"l":"r"),i.vf=o}return c.index_!==is&&(i.i=c.index_.toString()),i}class Oh extends Bc{constructor(i,o,d,g){super(),this.repoInfo_=i,this.onDataUpdate_=o,this.authTokenProvider_=d,this.appCheckTokenProvider_=g,this.log_=br("p:rest:"),this.listens_={}}reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,o){return void 0!==o?"tag$"+o:((0,Ze.hu)(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}listen(i,o,d,g){const S=i._path.toString();this.log_("Listen called for "+S+" "+i._queryIdentifier);const P=Oh.getListenId_(i,d),z={};this.listens_[P]=z;const le=Fp(i._queryParams);this.restRequest_(S+".json",le,(Te,mt)=>{let bt=mt;if(404===Te&&(bt=null,Te=null),null===Te&&this.onDataUpdate_(S,bt,!1,d),(0,Ze.DV)(this.listens_,P)===z){let Ht;Ht=Te?401===Te?"permission_denied":"rest_error:"+Te:"ok",g(Ht,null)}})}unlisten(i,o){const d=Oh.getListenId_(i,o);delete this.listens_[d]}get(i){const o=Fp(i._queryParams),d=i._path.toString(),g=new Ze.BH;return this.restRequest_(d+".json",o,(S,P)=>{let z=P;404===S&&(z=null,S=null),null===S?(this.onDataUpdate_(d,z,!1,null),g.resolve(z)):g.reject(new Error(z))}),g.promise}refreshAuthToken(i){}restRequest_(i,o={},d){return o.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([g,S])=>{g&&g.accessToken&&(o.auth=g.accessToken),S&&S.token&&(o.ac=S.token);const P=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+(0,Ze.xO)(o);this.log_("Sending REST request for "+P);const z=new XMLHttpRequest;z.onreadystatechange=()=>{if(d&&4===z.readyState){this.log_("REST Response for "+P+" received. status:",z.status,"response:",z.responseText);let le=null;if(z.status>=200&&z.status<300){try{le=(0,Ze.cI)(z.responseText)}catch{Us("Failed to parse JSON response for "+P+": "+z.responseText)}d(null,le)}else 401!==z.status&&404!==z.status&&Us("Got unsuccessful REST response for "+P+" Status: "+z.status),d(z.status);d=null}},z.open("GET",P,!0),z.send()})}}class Og{constructor(){this.rootNode_=Vi.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,o){this.rootNode_=this.rootNode_.updateChild(i,o)}}function kf(){return{value:null,children:new Map}}function Ri(c,i,o){if(ur(i))c.value=o,c.children.clear();else if(null!==c.value)c.value=c.value.updateChild(i,o);else{const d=cr(i);c.children.has(d)||c.children.set(d,kf()),Ri(c.children.get(d),i=Tr(i),o)}}function zd(c,i){if(ur(i))return c.value=null,c.children.clear(),!0;if(null!==c.value){if(c.value.isLeafNode())return!1;{const o=c.value;return c.value=null,o.forEachChild(is,(d,g)=>{Ri(c,new Pr(d),g)}),zd(c,i)}}if(c.children.size>0){const o=cr(i);return i=Tr(i),c.children.has(o)&&zd(c.children.get(o),i)&&c.children.delete(o),0===c.children.size}return!0}function Ph(c,i,o){null!==c.value?o(i,c.value):function Rf(c,i){c.children.forEach((o,d)=>{i(d,o)})}(c,(d,g)=>{Ph(g,new Pr(i.toString()+"/"+d),o)})}class Mm{constructor(i){this.collection_=i,this.last_=null}get(){const i=this.collection_.get(),o=Object.assign({},i);return this.last_&&qs(this.last_,(d,g)=>{o[d]=o[d]-g}),this.last_=i,o}}class _{constructor(i,o){this.server_=o,this.statsToReport_={},this.statsListener_=new Mm(i);const d=1e4+2e4*Math.random();Nc(this.reportStats_.bind(this),Math.floor(d))}reportStats_(){const i=this.statsListener_.get(),o={};let d=!1;qs(i,(g,S)=>{S>0&&(0,Ze.r3)(this.statsToReport_,g)&&(o[g]=S,d=!0)}),d&&this.server_.reportStats(o),Nc(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var O=(()=>{return(c=O||(O={}))[c.OVERWRITE=0]="OVERWRITE",c[c.MERGE=1]="MERGE",c[c.ACK_USER_WRITE=2]="ACK_USER_WRITE",c[c.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",O;var c})();function Jt(c){return{fromUser:!1,fromServer:!0,queryId:c,tagged:!0}}class Rn{constructor(i,o,d){this.path=i,this.affectedTree=o,this.revert=d,this.type=O.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(i){if(ur(this.path)){if(null!=this.affectedTree.value)return(0,Ze.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const o=this.affectedTree.subtree(new Pr(i));return new Rn(kr(),o,this.revert)}}return(0,Ze.hu)(cr(this.path)===i,"operationForChild called for unrelated child."),new Rn(Tr(this.path),this.affectedTree,this.revert)}}class gi{constructor(i,o){this.source=i,this.path=o,this.type=O.LISTEN_COMPLETE}operationForChild(i){return ur(this.path)?new gi(this.source,kr()):new gi(this.source,Tr(this.path))}}class ci{constructor(i,o,d){this.source=i,this.path=o,this.snap=d,this.type=O.OVERWRITE}operationForChild(i){return ur(this.path)?new ci(this.source,kr(),this.snap.getImmediateChild(i)):new ci(this.source,Tr(this.path),this.snap)}}class tr{constructor(i,o,d){this.source=i,this.path=o,this.children=d,this.type=O.MERGE}operationForChild(i){if(ur(this.path)){const o=this.children.subtree(new Pr(i));return o.isEmpty()?null:o.value?new ci(this.source,kr(),o.value):new tr(this.source,kr(),o)}return(0,Ze.hu)(cr(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new tr(this.source,Tr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ui{constructor(i,o,d){this.node_=i,this.fullyInitialized_=o,this.filtered_=d}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(ur(i))return this.isFullyInitialized()&&!this.filtered_;const o=cr(i);return this.isCompleteForChild(o)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}}class ya{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}}function Ga(c,i,o,d,g,S){const P=d.filter(z=>z.type===o);P.sort((z,le)=>function Nh(c,i,o){if(null==i.childName||null==o.childName)throw(0,Ze.g5)("Should only compare child_ events.");const d=new Ji(i.childName,i.snapshotNode),g=new Ji(o.childName,o.snapshotNode);return c.index_.compare(d,g)}(c,z,le)),P.forEach(z=>{const le=function sa(c,i,o){return"value"===i.type||"child_removed"===i.type||(i.prevName=o.getPredecessorChildName(i.childName,i.snapshotNode,c.index_)),i}(c,z,S);g.forEach(Te=>{Te.respondsTo(z.type)&&i.push(Te.createEvent(le,c.query_))})})}function Fh(c,i){return{eventCache:c,serverCache:i}}function Yd(c,i,o,d){return Fh(new Ui(i,o,d),c.serverCache)}function Im(c,i,o,d){return Fh(c.eventCache,new Ui(i,o,d))}function ld(c){return c.eventCache.isFullyInitialized()?c.eventCache.getNode():null}function Lh(c){return c.serverCache.isFullyInitialized()?c.serverCache.getNode():null}let Of;class Ds{constructor(i,o=(()=>(Of||(Of=new Mo(zu)),Of))()){this.value=i,this.children=o}static fromObject(i){let o=new Ds(null);return qs(i,(d,g)=>{o=o.set(new Pr(d),g)}),o}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,o){if(null!=this.value&&o(this.value))return{path:kr(),value:this.value};if(ur(i))return null;{const d=cr(i),g=this.children.get(d);if(null!==g){const S=g.findRootMostMatchingPathAndValue(Tr(i),o);return null!=S?{path:Gr(new Pr(d),S.path),value:S.value}:null}return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(ur(i))return this;{const o=cr(i),d=this.children.get(o);return null!==d?d.subtree(Tr(i)):new Ds(null)}}set(i,o){if(ur(i))return new Ds(o,this.children);{const d=cr(i),S=(this.children.get(d)||new Ds(null)).set(Tr(i),o),P=this.children.insert(d,S);return new Ds(this.value,P)}}remove(i){if(ur(i))return this.children.isEmpty()?new Ds(null):new Ds(null,this.children);{const o=cr(i),d=this.children.get(o);if(d){const g=d.remove(Tr(i));let S;return S=g.isEmpty()?this.children.remove(o):this.children.insert(o,g),null===this.value&&S.isEmpty()?new Ds(null):new Ds(this.value,S)}return this}}get(i){if(ur(i))return this.value;{const o=cr(i),d=this.children.get(o);return d?d.get(Tr(i)):null}}setTree(i,o){if(ur(i))return o;{const d=cr(i),S=(this.children.get(d)||new Ds(null)).setTree(Tr(i),o);let P;return P=S.isEmpty()?this.children.remove(d):this.children.insert(d,S),new Ds(this.value,P)}}fold(i){return this.fold_(kr(),i)}fold_(i,o){const d={};return this.children.inorderTraversal((g,S)=>{d[g]=S.fold_(Gr(i,g),o)}),o(i,this.value,d)}findOnPath(i,o){return this.findOnPath_(i,kr(),o)}findOnPath_(i,o,d){const g=!!this.value&&d(o,this.value);if(g)return g;if(ur(i))return null;{const S=cr(i),P=this.children.get(S);return P?P.findOnPath_(Tr(i),Gr(o,S),d):null}}foreachOnPath(i,o){return this.foreachOnPath_(i,kr(),o)}foreachOnPath_(i,o,d){if(ur(i))return this;{this.value&&d(o,this.value);const g=cr(i),S=this.children.get(g);return S?S.foreachOnPath_(Tr(i),Gr(o,g),d):new Ds(null)}}foreach(i){this.foreach_(kr(),i)}foreach_(i,o){this.children.inorderTraversal((d,g)=>{g.foreach_(Gr(i,d),o)}),this.value&&o(i,this.value)}foreachChild(i){this.children.inorderTraversal((o,d)=>{d.value&&i(o,d.value)})}}class za{constructor(i){this.writeTree_=i}static empty(){return new za(new Ds(null))}}function Bh(c,i,o){if(ur(i))return new za(new Ds(o));{const d=c.writeTree_.findRootMostValueAndPath(i);if(null!=d){const g=d.path;let S=d.value;const P=ia(g,i);return S=S.updateChild(P,o),new za(c.writeTree_.set(g,S))}{const g=new Ds(o),S=c.writeTree_.setTree(i,g);return new za(S)}}}function Kd(c,i,o){let d=c;return qs(o,(g,S)=>{d=Bh(d,Gr(i,g),S)}),d}function Am(c,i){if(ur(i))return za.empty();{const o=c.writeTree_.setTree(i,new Ds(null));return new za(o)}}function Pf(c,i){return null!=Zc(c,i)}function Zc(c,i){const o=c.writeTree_.findRootMostValueAndPath(i);return null!=o?c.writeTree_.get(o.path).getChild(ia(o.path,i)):null}function Lp(c){const i=[],o=c.writeTree_.value;return null!=o?o.isLeafNode()||o.forEachChild(is,(d,g)=>{i.push(new Ji(d,g))}):c.writeTree_.children.inorderTraversal((d,g)=>{null!=g.value&&i.push(new Ji(d,g.value))}),i}function cd(c,i){if(ur(i))return c;{const o=Zc(c,i);return new za(null!=o?new Ds(o):c.writeTree_.subtree(i))}}function Nf(c){return c.writeTree_.isEmpty()}function ud(c,i){return dc(kr(),c.writeTree_,i)}function dc(c,i,o){if(null!=i.value)return o.updateChild(c,i.value);{let d=null;return i.children.inorderTraversal((g,S)=>{".priority"===g?((0,Ze.hu)(null!==S.value,"Priority writes must always be leaf nodes"),d=S.value):o=dc(Gr(c,g),S,o)}),!o.getChild(c).isEmpty()&&null!==d&&(o=o.updateChild(Gr(c,".priority"),d)),o}}function km(c,i){return Bf(i,c)}function U_(c,i){if(c.snap)return _o(c.path,i);for(const o in c.children)if(c.children.hasOwnProperty(o)&&_o(Gr(c.path,o),i))return!0;return!1}function Vh(c){return c.visible}function Sl(c,i,o){let d=za.empty();for(let g=0;g<c.length;++g){const S=c[g];if(i(S)){const P=S.path;let z;if(S.snap)_o(o,P)?(z=ia(o,P),d=Bh(d,z,S.snap)):_o(P,o)&&(z=ia(P,o),d=Bh(d,kr(),S.snap.getChild(z)));else{if(!S.children)throw(0,Ze.g5)("WriteRecord should have .snap or .children");if(_o(o,P))z=ia(o,P),d=Kd(d,z,S.children);else if(_o(P,o))if(z=ia(P,o),ur(z))d=Kd(d,kr(),S.children);else{const le=(0,Ze.DV)(S.children,cr(z));if(le){const Te=le.getChild(Tr(z));d=Bh(d,kr(),Te)}}}}}return d}function Om(c,i,o,d,g){if(d||g){const S=cd(c.visibleWrites,i);return!g&&Nf(S)?o:g||null!=o||Pf(S,kr())?ud(Sl(c.allWrites,function(Te){return(Te.visible||g)&&(!d||!~d.indexOf(Te.writeId))&&(_o(Te.path,i)||_o(i,Te.path))},i),o||Vi.EMPTY_NODE):null}{const S=Zc(c.visibleWrites,i);if(null!=S)return S;{const P=cd(c.visibleWrites,i);return Nf(P)?o:null!=o||Pf(P,kr())?ud(P,o||Vi.EMPTY_NODE):null}}}function Bg(c,i,o,d){return Om(c.writeTree,c.treePath,i,o,d)}function Lf(c,i){return function Ff(c,i,o){let d=Vi.EMPTY_NODE;const g=Zc(c.visibleWrites,i);if(g)return g.isLeafNode()||g.forEachChild(is,(S,P)=>{d=d.updateImmediateChild(S,P)}),d;if(o){const S=cd(c.visibleWrites,i);return o.forEachChild(is,(P,z)=>{const le=ud(cd(S,new Pr(P)),z);d=d.updateImmediateChild(P,le)}),Lp(S).forEach(P=>{d=d.updateImmediateChild(P.name,P.node)}),d}return Lp(cd(c.visibleWrites,i)).forEach(P=>{d=d.updateImmediateChild(P.name,P.node)}),d}(c.writeTree,c.treePath,i)}function Nv(c,i,o,d){return function Bp(c,i,o,d,g){(0,Ze.hu)(d||g,"Either existingEventSnap or existingServerSnap must exist");const S=Gr(i,o);if(Pf(c.visibleWrites,S))return null;{const P=cd(c.visibleWrites,S);return Nf(P)?g.getChild(o):ud(P,g.getChild(o))}}(c.writeTree,c.treePath,i,o,d)}function hd(c,i){return function Fg(c,i){return Zc(c.visibleWrites,i)}(c.writeTree,Gr(c.treePath,i))}function Uh(c,i,o){return function dd(c,i,o,d){const g=Gr(i,o),S=Zc(c.visibleWrites,g);return null!=S?S:d.isCompleteForChild(o)?ud(cd(c.visibleWrites,g),d.getNode().getImmediateChild(o)):null}(c.writeTree,c.treePath,i,o)}function Fm(c,i){return Bf(Gr(c.treePath,i),c.writeTree)}function Bf(c,i){return{treePath:c,writeTree:i}}class Fv{constructor(){this.changeMap=new Map}trackChildChange(i){const o=i.type,d=i.childName;(0,Ze.hu)("child_added"===o||"child_changed"===o||"child_removed"===o,"Only child changes supported for tracking"),(0,Ze.hu)(".priority"!==d,"Only non-priority child changes can be tracked.");const g=this.changeMap.get(d);if(g){const S=g.type;if("child_added"===o&&"child_removed"===S)this.changeMap.set(d,uc(d,i.snapshotNode,g.snapshotNode));else if("child_removed"===o&&"child_added"===S)this.changeMap.delete(d);else if("child_removed"===o&&"child_changed"===S)this.changeMap.set(d,cc(d,g.oldSnap));else if("child_changed"===o&&"child_added"===S)this.changeMap.set(d,lc(d,i.snapshotNode));else{if("child_changed"!==o||"child_changed"!==S)throw(0,Ze.g5)("Illegal combination of changes: "+i+" occurred after "+g);this.changeMap.set(d,uc(d,i.snapshotNode,g.oldSnap))}}else this.changeMap.set(d,i)}getChanges(){return Array.from(this.changeMap.values())}}const Lm=new class Vg{getCompleteChild(i){return null}getChildAfterChild(i,o,d){return null}};class Vp{constructor(i,o,d=null){this.writes_=i,this.viewCache_=o,this.optCompleteServerCache_=d}getCompleteChild(i){const o=this.viewCache_.eventCache;if(o.isCompleteForChild(i))return o.getNode().getImmediateChild(i);{const d=null!=this.optCompleteServerCache_?new Ui(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Uh(this.writes_,i,d)}}getChildAfterChild(i,o,d){const g=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Lh(this.viewCache_),S=function Nm(c,i,o,d,g,S){return function Lg(c,i,o,d,g,S,P){let z;const le=cd(c.visibleWrites,i),Te=Zc(le,kr());if(null!=Te)z=Te;else{if(null==o)return[];z=ud(le,o)}if(z=z.withIndex(P),z.isEmpty()||z.isLeafNode())return[];{const mt=[],bt=P.getCompare(),Ht=S?z.getReverseIteratorFrom(d,P):z.getIteratorFrom(d,P);let mn=Ht.getNext();for(;mn&&mt.length<g;)0!==bt(mn,d)&&mt.push(mn),mn=Ht.getNext();return mt}}(c.writeTree,c.treePath,i,o,d,g,S)}(this.writes_,g,o,1,d,i);return 0===S.length?null:S[0]}}function Hf(c,i,o,d,g,S){const P=i.eventCache;if(null!=hd(d,o))return i;{let z,le;if(ur(o))if((0,Ze.hu)(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){const Te=Lh(i),bt=Lf(d,Te instanceof Vi?Te:Vi.EMPTY_NODE);z=c.filter.updateFullNode(i.eventCache.getNode(),bt,S)}else{const Te=Bg(d,Lh(i));z=c.filter.updateFullNode(i.eventCache.getNode(),Te,S)}else{const Te=cr(o);if(".priority"===Te){(0,Ze.hu)(1===Vc(o),"Can't have a priority with additional path components");const mt=P.getNode();le=i.serverCache.getNode();const bt=Nv(d,o,mt,le);z=null!=bt?c.filter.updatePriority(mt,bt):P.getNode()}else{const mt=Tr(o);let bt;if(P.isCompleteForChild(Te)){le=i.serverCache.getNode();const Ht=Nv(d,o,P.getNode(),le);bt=null!=Ht?P.getNode().getImmediateChild(Te).updateChild(mt,Ht):P.getNode().getImmediateChild(Te)}else bt=Uh(d,Te,i.serverCache);z=null!=bt?c.filter.updateChild(P.getNode(),Te,bt,mt,g,S):P.getNode()}}return Yd(i,z,P.isFullyInitialized()||ur(o),c.filter.filtersNodes())}}function jf(c,i,o,d,g,S,P,z){const le=i.serverCache;let Te;const mt=P?c.filter:c.filter.getIndexedFilter();if(ur(o))Te=mt.updateFullNode(le.getNode(),d,null);else if(mt.filtersNodes()&&!le.isFiltered()){const mn=le.getNode().updateChild(o,d);Te=mt.updateFullNode(le.getNode(),mn,null)}else{const mn=cr(o);if(!le.isCompleteForPath(o)&&Vc(o)>1)return i;const Cn=Tr(o),e=le.getNode().getImmediateChild(mn).updateChild(Cn,d);Te=".priority"===mn?mt.updatePriority(le.getNode(),e):mt.updateChild(le.getNode(),mn,e,Cn,Lm,null)}const bt=Im(i,Te,le.isFullyInitialized()||ur(o),mt.filtersNodes());return Hf(c,bt,o,g,new Vp(g,bt,S),z)}function pd(c,i,o,d,g,S,P){const z=i.eventCache;let le,Te;const mt=new Vp(g,i,S);if(ur(o))Te=c.filter.updateFullNode(i.eventCache.getNode(),d,P),le=Yd(i,Te,!0,c.filter.filtersNodes());else{const bt=cr(o);if(".priority"===bt)Te=c.filter.updatePriority(i.eventCache.getNode(),d),le=Yd(i,Te,z.isFullyInitialized(),z.isFiltered());else{const Ht=Tr(o),mn=z.getNode().getImmediateChild(bt);let Cn;if(ur(Ht))Cn=d;else{const s=mt.getCompleteChild(bt);Cn=null!=s?".priority"===Df(Ht)&&s.getChild(Ud(Ht)).isEmpty()?s:s.updateChild(Ht,d):Vi.EMPTY_NODE}le=mn.equals(Cn)?i:Yd(i,c.filter.updateChild(z.getNode(),bt,Cn,Ht,mt,P),z.isFullyInitialized(),c.filter.filtersNodes())}}return le}function j_(c,i){return c.eventCache.isCompleteForChild(i)}function Hg(c,i,o){return o.foreach((d,g)=>{i=i.updateChild(d,g)}),i}function Bm(c,i,o,d,g,S,P,z){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let Te,le=i;Te=ur(o)?d:new Ds(null).setTree(o,d);const mt=i.serverCache.getNode();return Te.children.inorderTraversal((bt,Ht)=>{if(mt.hasChild(bt)){const Cn=Hg(0,i.serverCache.getNode().getImmediateChild(bt),Ht);le=jf(c,le,new Pr(bt),Cn,g,S,P,z)}}),Te.children.inorderTraversal((bt,Ht)=>{const mn=!i.serverCache.isCompleteForChild(bt)&&null===Ht.value;if(!mt.hasChild(bt)&&!mn){const s=Hg(0,i.serverCache.getNode().getImmediateChild(bt),Ht);le=jf(c,le,new Pr(bt),s,g,S,P,z)}}),le}class uy{constructor(i,o){this.query_=i,this.eventRegistrations_=[];const d=this.query_._queryParams,g=new Af(d.getIndex()),S=function Rp(c){return c.loadsAllData()?new Af(c.getIndex()):c.hasLimit()?new Tm(c):new sd(c)}(d);this.processor_=function Vf(c){return{filter:c}}(S);const P=o.serverCache,z=o.eventCache,le=g.updateFullNode(Vi.EMPTY_NODE,P.getNode(),null),Te=S.updateFullNode(Vi.EMPTY_NODE,z.getNode(),null),mt=new Ui(le,P.isFullyInitialized(),g.filtersNodes()),bt=new Ui(Te,z.isFullyInitialized(),S.filtersNodes());this.viewCache_=Fh(bt,mt),this.eventGenerator_=new ya(this.query_)}get query(){return this.query_}}function dy(c,i){const o=Lh(c.viewCache_);return o&&(c.query._queryParams.loadsAllData()||!ur(i)&&!o.getImmediateChild(cr(i)).isEmpty())?o.getChild(i):null}function Y_(c){return 0===c.eventRegistrations_.length}function Up(c,i,o){const d=[];if(o){(0,Ze.hu)(null==i,"A cancel should cancel all event registrations.");const g=c.query._path;c.eventRegistrations_.forEach(S=>{const P=S.createCancelEvent(o,g);P&&d.push(P)})}if(i){let g=[];for(let S=0;S<c.eventRegistrations_.length;++S){const P=c.eventRegistrations_[S];if(P.matches(i)){if(i.hasAnyCallback()){g=g.concat(c.eventRegistrations_.slice(S+1));break}}else g.push(P)}c.eventRegistrations_=g}else c.eventRegistrations_=[];return d}function jg(c,i,o,d){i.type===O.MERGE&&null!==i.source.queryId&&((0,Ze.hu)(Lh(c.viewCache_),"We should always have a full cache before handling merges"),(0,Ze.hu)(ld(c.viewCache_),"Missing event cache, even though we have a server cache"));const g=c.viewCache_,S=function H_(c,i,o,d,g){const S=new Fv;let P,z;if(o.type===O.OVERWRITE){const Te=o;Te.source.fromUser?P=pd(c,i,Te.path,Te.snap,d,g,S):((0,Ze.hu)(Te.source.fromServer,"Unknown source."),z=Te.source.tagged||i.serverCache.isFiltered()&&!ur(Te.path),P=jf(c,i,Te.path,Te.snap,d,g,z,S))}else if(o.type===O.MERGE){const Te=o;Te.source.fromUser?P=function Ug(c,i,o,d,g,S,P){let z=i;return d.foreach((le,Te)=>{const mt=Gr(o,le);j_(i,cr(mt))&&(z=pd(c,z,mt,Te,g,S,P))}),d.foreach((le,Te)=>{const mt=Gr(o,le);j_(i,cr(mt))||(z=pd(c,z,mt,Te,g,S,P))}),z}(c,i,Te.path,Te.children,d,g,S):((0,Ze.hu)(Te.source.fromServer,"Unknown source."),z=Te.source.tagged||i.serverCache.isFiltered(),P=Bm(c,i,Te.path,Te.children,d,g,z,S))}else if(o.type===O.ACK_USER_WRITE){const Te=o;P=Te.revert?function cy(c,i,o,d,g,S){let P;if(null!=hd(d,o))return i;{const z=new Vp(d,i,g),le=i.eventCache.getNode();let Te;if(ur(o)||".priority"===cr(o)){let mt;if(i.serverCache.isFullyInitialized())mt=Bg(d,Lh(i));else{const bt=i.serverCache.getNode();(0,Ze.hu)(bt instanceof Vi,"serverChildren would be complete if leaf node"),mt=Lf(d,bt)}Te=c.filter.updateFullNode(le,mt,S)}else{const mt=cr(o);let bt=Uh(d,mt,i.serverCache);null==bt&&i.serverCache.isCompleteForChild(mt)&&(bt=le.getImmediateChild(mt)),Te=null!=bt?c.filter.updateChild(le,mt,bt,Tr(o),z,S):i.eventCache.getNode().hasChild(mt)?c.filter.updateChild(le,mt,Vi.EMPTY_NODE,Tr(o),z,S):le,Te.isEmpty()&&i.serverCache.isFullyInitialized()&&(P=Bg(d,Lh(i)),P.isLeafNode()&&(Te=c.filter.updateFullNode(Te,P,S)))}return P=i.serverCache.isFullyInitialized()||null!=hd(d,kr()),Yd(i,Te,P,c.filter.filtersNodes())}}(c,i,Te.path,d,g,S):function $_(c,i,o,d,g,S,P){if(null!=hd(g,o))return i;const z=i.serverCache.isFiltered(),le=i.serverCache;if(null!=d.value){if(ur(o)&&le.isFullyInitialized()||le.isCompleteForPath(o))return jf(c,i,o,le.getNode().getChild(o),g,S,z,P);if(ur(o)){let Te=new Ds(null);return le.getNode().forEachChild(zl,(mt,bt)=>{Te=Te.set(new Pr(mt),bt)}),Bm(c,i,o,Te,g,S,z,P)}return i}{let Te=new Ds(null);return d.foreach((mt,bt)=>{const Ht=Gr(o,mt);le.isCompleteForPath(Ht)&&(Te=Te.set(mt,le.getNode().getChild(Ht)))}),Bm(c,i,o,Te,g,S,z,P)}}(c,i,Te.path,Te.affectedTree,d,g,S)}else{if(o.type!==O.LISTEN_COMPLETE)throw(0,Ze.g5)("Unknown operation type: "+o.type);P=function G_(c,i,o,d,g){const S=i.serverCache;return Hf(c,Im(i,S.getNode(),S.isFullyInitialized()||ur(o),S.isFiltered()),o,d,Lm,g)}(c,i,o.path,d,S)}const le=S.getChanges();return function Uf(c,i,o){const d=i.eventCache;if(d.isFullyInitialized()){const g=d.getNode().isLeafNode()||d.getNode().isEmpty(),S=ld(c);(o.length>0||!c.eventCache.isFullyInitialized()||g&&!d.getNode().equals(S)||!d.getNode().getPriority().equals(S.getPriority()))&&o.push(If(ld(i)))}}(i,P,le),{viewCache:P,changes:le}}(c.processor_,g,i,o,d);return function fd(c,i){(0,Ze.hu)(i.eventCache.getNode().isIndexed(c.filter.getIndex()),"Event snap not indexed"),(0,Ze.hu)(i.serverCache.getNode().isIndexed(c.filter.getIndex()),"Server snap not indexed")}(c.processor_,S.viewCache),(0,Ze.hu)(S.viewCache.serverCache.isFullyInitialized()||!g.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),c.viewCache_=S.viewCache,Hp(c,S.changes,S.viewCache.eventCache.getNode(),null)}function Hp(c,i,o,d){return function Wd(c,i,o,d){const g=[],S=[];return i.forEach(P=>{"child_changed"===P.type&&c.index_.indexedValueChanged(P.oldSnap,P.snapshotNode)&&S.push(function xf(c,i){return{type:"child_moved",snapshotNode:i,childName:c}}(P.childName,P.snapshotNode))}),Ga(c,g,"child_removed",i,d,o),Ga(c,g,"child_added",i,d,o),Ga(c,g,"child_moved",S,d,o),Ga(c,g,"child_changed",i,d,o),Ga(c,g,"value",i,d,o),g}(c.eventGenerator_,i,o,d?[d]:c.eventRegistrations_)}let jp,md;class Vm{constructor(){this.views=new Map}}function $p(c,i,o,d){const g=i.source.queryId;if(null!==g){const S=c.views.get(g);return(0,Ze.hu)(null!=S,"SyncTree gave us an op for an invalid query."),jg(S,i,o,d)}{let S=[];for(const P of c.views.values())S=S.concat(jg(P,i,o,d));return S}}function Hm(c,i,o,d,g){const P=c.views.get(i._queryIdentifier);if(!P){let z=Bg(o,g?d:null),le=!1;z?le=!0:d instanceof Vi?(z=Lf(o,d),le=!1):(z=Vi.EMPTY_NODE,le=!1);const Te=Fh(new Ui(z,le,!1),new Ui(d,g,!1));return new uy(i,Te)}return P}function Z_(c){const i=[];for(const o of c.views.values())o.query._queryParams.loadsAllData()||i.push(o);return i}function Yl(c,i){let o=null;for(const d of c.views.values())o=o||dy(d,i);return o}function Xd(c,i){return i._queryParams.loadsAllData()?Gf(c):c.views.get(i._queryIdentifier)}function $f(c,i){return null!=Xd(c,i)}function Tl(c){return null!=Gf(c)}function Gf(c){for(const i of c.views.values())if(i.query._queryParams.loadsAllData())return i;return null}let zg=1;class zf{constructor(i){this.listenProvider_=i,this.syncPointTree_=new Ds(null),this.pendingWriteTree_=function Pm(){return{visibleWrites:za.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function $m(c,i,o,d,g){return function Pg(c,i,o,d,g){(0,Ze.hu)(d>c.lastWriteId,"Stacking an older write on top of newer ones"),void 0===g&&(g=!0),c.allWrites.push({path:i,snap:o,writeId:d,visible:g}),g&&(c.visibleWrites=Bh(c.visibleWrites,i,o)),c.lastWriteId=d}(c.pendingWriteTree_,i,o,d,g),g?Kp(c,new ci({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,o)):[]}function Iu(c,i,o=!1){const d=function ly(c,i){for(let o=0;o<c.allWrites.length;o++){const d=c.allWrites[o];if(d.writeId===i)return d}return null}(c.pendingWriteTree_,i);if(function Zd(c,i){const o=c.allWrites.findIndex(z=>z.writeId===i);(0,Ze.hu)(o>=0,"removeWrite called with nonexistent writeId.");const d=c.allWrites[o];c.allWrites.splice(o,1);let g=d.visible,S=!1,P=c.allWrites.length-1;for(;g&&P>=0;){const z=c.allWrites[P];z.visible&&(P>=o&&U_(z,d.path)?g=!1:_o(d.path,z.path)&&(S=!0)),P--}return!!g&&(S?(function Rm(c){c.visibleWrites=Sl(c.allWrites,Vh,kr()),c.lastWriteId=c.allWrites.length>0?c.allWrites[c.allWrites.length-1].writeId:-1}(c),!0):(d.snap?c.visibleWrites=Am(c.visibleWrites,d.path):qs(d.children,le=>{c.visibleWrites=Am(c.visibleWrites,Gr(d.path,le))}),!0))}(c.pendingWriteTree_,i)){let S=new Ds(null);return null!=d.snap?S=S.set(kr(),!0):qs(d.children,P=>{S=S.set(new Pr(P),!0)}),Kp(c,new Rn(d.path,S,o))}return[]}function Wf(c,i,o){return Kp(c,new ci({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,o))}function zp(c,i,o,d,g=!1){const S=i._path,P=c.syncPointTree_.get(S);let z=[];if(P&&("default"===i._queryIdentifier||$f(P,i))){const le=function Gg(c,i,o,d){const g=i._queryIdentifier,S=[];let P=[];const z=Tl(c);if("default"===g)for(const[le,Te]of c.views.entries())P=P.concat(Up(Te,o,d)),Y_(Te)&&(c.views.delete(le),Te.query._queryParams.loadsAllData()||S.push(Te.query));else{const le=c.views.get(g);le&&(P=P.concat(Up(le,o,d)),Y_(le)&&(c.views.delete(g),le.query._queryParams.loadsAllData()||S.push(le.query)))}return z&&!Tl(c)&&S.push(new(function Qd(){return(0,Ze.hu)(jp,"Reference.ts has not been loaded"),jp}())(i._repo,i._path)),{removed:S,events:P}}(P,i,o,d);(function Um(c){return 0===c.views.size})(P)&&(c.syncPointTree_=c.syncPointTree_.remove(S));const Te=le.removed;if(z=le.events,!g){const mt=-1!==Te.findIndex(Ht=>Ht._queryParams.loadsAllData()),bt=c.syncPointTree_.findOnPath(S,(Ht,mn)=>Tl(mn));if(mt&&!bt){const Ht=c.syncPointTree_.subtree(S);if(!Ht.isEmpty()){const mn=function qg(c){return c.fold((i,o,d)=>{if(o&&Tl(o))return[Gf(o)];{let g=[];return o&&(g=Z_(o)),qs(d,(S,P)=>{g=g.concat(P)}),g}})}(Ht);for(let Cn=0;Cn<mn.length;++Cn){const s=mn[Cn],e=s.query,t=Zg(c,s);c.listenProvider_.startListening(jh(e),Hh(c,e),t.hashFn,t.onComplete)}}}!bt&&Te.length>0&&!d&&(mt?c.listenProvider_.stopListening(jh(i),null):Te.forEach(Ht=>{const mn=c.queryToTagMap.get(Gm(Ht));c.listenProvider_.stopListening(jh(Ht),mn)}))}!function X_(c,i){for(let o=0;o<i.length;++o){const d=i[o];if(!d._queryParams.loadsAllData()){const g=Gm(d),S=c.queryToTagMap.get(g);c.queryToTagMap.delete(g),c.tagToQueryMap.delete(S)}}}(c,Te)}return z}function Wp(c,i,o,d){const g=Zp(c,d);if(null!=g){const S=zm(g),P=S.path,z=S.queryId,le=ia(P,i);return qp(c,P,new ci(Jt(z),le,o))}return[]}function Ia(c,i,o,d=!1){const g=i._path;let S=null,P=!1;c.syncPointTree_.foreachOnPath(g,(Ht,mn)=>{const Cn=ia(Ht,g);S=S||Yl(mn,Cn),P=P||Tl(mn)});let le,z=c.syncPointTree_.get(g);z?(P=P||Tl(z),S=S||Yl(z,kr())):(z=new Vm,c.syncPointTree_=c.syncPointTree_.set(g,z)),null!=S?le=!0:(le=!1,S=Vi.EMPTY_NODE,c.syncPointTree_.subtree(g).foreachChild((mn,Cn)=>{const s=Yl(Cn,kr());s&&(S=S.updateImmediateChild(mn,s))}));const Te=$f(z,i);if(!Te&&!i._queryParams.loadsAllData()){const Ht=Gm(i);(0,Ze.hu)(!c.queryToTagMap.has(Ht),"View does not exist, but we have a tag");const mn=function J_(){return zg++}();c.queryToTagMap.set(Ht,mn),c.tagToQueryMap.set(mn,Ht)}let bt=function K_(c,i,o,d,g,S){const P=Hm(c,i,d,g,S);return c.views.has(i._queryIdentifier)||c.views.set(i._queryIdentifier,P),function qd(c,i){c.eventRegistrations_.push(i)}(P,o),function $g(c,i){const o=c.viewCache_.eventCache,d=[];return o.getNode().isLeafNode()||o.getNode().forEachChild(is,(S,P)=>{d.push(lc(S,P))}),o.isFullyInitialized()&&d.push(If(o.getNode())),Hp(c,d,o.getNode(),i)}(P,o)}(z,i,o,km(c.pendingWriteTree_,g),S,le);if(!Te&&!P&&!d){const Ht=Xd(z,i);bt=bt.concat(function ev(c,i,o){const d=i._path,g=Hh(c,i),S=Zg(c,o),P=c.listenProvider_.startListening(jh(i),g,S.hashFn,S.onComplete),z=c.syncPointTree_.subtree(d);if(g)(0,Ze.hu)(!Tl(z.value),"If we're adding a query, it shouldn't be shadowed");else{const le=z.fold((Te,mt,bt)=>{if(!ur(Te)&&mt&&Tl(mt))return[Gf(mt).query];{let Ht=[];return mt&&(Ht=Ht.concat(Z_(mt).map(mn=>mn.query))),qs(bt,(mn,Cn)=>{Ht=Ht.concat(Cn)}),Ht}});for(let Te=0;Te<le.length;++Te){const mt=le[Te];c.listenProvider_.stopListening(jh(mt),Hh(c,mt))}}return P}(c,i,Ht))}return bt}function Yp(c,i,o){const g=c.pendingWriteTree_,S=c.syncPointTree_.findOnPath(i,(P,z)=>{const Te=Yl(z,ia(P,i));if(Te)return Te});return Om(g,i,S,o,!0)}function Kp(c,i){return Q_(i,c.syncPointTree_,null,km(c.pendingWriteTree_,kr()))}function Q_(c,i,o,d){if(ur(c.path))return Kf(c,i,o,d);{const g=i.get(kr());null==o&&null!=g&&(o=Yl(g,kr()));let S=[];const P=cr(c.path),z=c.operationForChild(P),le=i.children.get(P);if(le&&z){const Te=o?o.getImmediateChild(P):null,mt=Fm(d,P);S=S.concat(Q_(z,le,Te,mt))}return g&&(S=S.concat($p(g,c,d,o))),S}}function Kf(c,i,o,d){const g=i.get(kr());null==o&&null!=g&&(o=Yl(g,kr()));let S=[];return i.children.inorderTraversal((P,z)=>{const le=o?o.getImmediateChild(P):null,Te=Fm(d,P),mt=c.operationForChild(P);mt&&(S=S.concat(Kf(mt,z,le,Te)))}),g&&(S=S.concat($p(g,c,d,o))),S}function Zg(c,i){const o=i.query,d=Hh(c,o);return{hashFn:()=>(function z_(c){return c.viewCache_.serverCache.getNode()}(i)||Vi.EMPTY_NODE).hash(),onComplete:g=>{if("ok"===g)return d?function Yg(c,i,o){const d=Zp(c,o);if(d){const g=zm(d),S=g.path,P=g.queryId,z=ia(S,i);return qp(c,S,new gi(Jt(P),z))}return[]}(c,o._path,d):function Wg(c,i){return Kp(c,new gi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i))}(c,o._path);{const S=function gp(c,i){let o="Unknown Error";"too_big"===c?o="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===c?o="Client doesn't have permission to access the desired data.":"unavailable"===c&&(o="The service is unavailable");const d=new Error(c+" at "+i._path.toString()+": "+o);return d.code=c.toUpperCase(),d}(g,o);return zp(c,o,null,S)}}}}function Hh(c,i){const o=Gm(i);return c.queryToTagMap.get(o)}function Gm(c){return c._path.toString()+"$"+c._queryIdentifier}function Zp(c,i){return c.tagToQueryMap.get(i)}function zm(c){const i=c.indexOf("$");return(0,Ze.hu)(-1!==i&&i<c.length-1,"Bad queryKey."),{queryId:c.substr(i+1),path:new Pr(c.substr(0,i))}}function qp(c,i,o){const d=c.syncPointTree_.get(i);return(0,Ze.hu)(d,"Missing sync point for query tag that we're tracking"),$p(d,o,km(c.pendingWriteTree_,i),null)}function jh(c){return c._queryParams.loadsAllData()&&!c._queryParams.isDefault()?new(function jm(){return(0,Ze.hu)(md,"Reference.ts has not been loaded"),md}())(c._repo,c._path):c}class Qp{constructor(i){this.node_=i}getImmediateChild(i){const o=this.node_.getImmediateChild(i);return new Qp(o)}node(){return this.node_}}class hc{constructor(i,o){this.syncTree_=i,this.path_=o}getImmediateChild(i){const o=Gr(this.path_,i);return new hc(this.syncTree_,o)}node(){return Yp(this.syncTree_,this.path_)}}const Wm=function(c,i,o){return c&&"object"==typeof c?((0,Ze.hu)(".sv"in c,"Unexpected leaf node or priority contents"),"string"==typeof c[".sv"]?Qg(c[".sv"],i,o):"object"==typeof c[".sv"]?hy(c[".sv"],i):void(0,Ze.hu)(!1,"Unexpected server value: "+JSON.stringify(c,null,2))):c},Qg=function(c,i,o){if("timestamp"===c)return o.timestamp;(0,Ze.hu)(!1,"Unexpected server value: "+c)},hy=function(c,i,o){c.hasOwnProperty("increment")||(0,Ze.hu)(!1,"Unexpected server value: "+JSON.stringify(c,null,2));const d=c.increment;"number"!=typeof d&&(0,Ze.hu)(!1,"Unexpected increment value: "+d);const g=i.node();if((0,Ze.hu)(null!==g&&typeof g<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!g.isLeafNode())return d;const P=g.getValue();return"number"!=typeof P?d:P+d},Ym=function(c,i,o,d){return Xg(i,new hc(o,c),d)},Km=function(c,i,o){return Xg(c,new Qp(i),o)};function Xg(c,i,o){const d=c.getPriority().val(),g=Wm(d,i.getImmediateChild(".priority"),o);let S;if(c.isLeafNode()){const P=c,z=Wm(P.getValue(),i,o);return z!==P.getValue()||g!==P.getPriority().val()?new zc(z,er(g)):c}{const P=c;return S=P,g!==P.getPriority().val()&&(S=S.updatePriority(new zc(g))),P.forEachChild(is,(z,le)=>{const Te=Xg(le,i.getImmediateChild(z),o);Te!==le&&(S=S.updateImmediateChild(z,Te))}),S}}class Jp{constructor(i="",o=null,d={children:{},childCount:0}){this.name=i,this.parent=o,this.node=d}}function Jd(c,i){let o=i instanceof Pr?i:new Pr(i),d=c,g=cr(o);for(;null!==g;){const S=(0,Ze.DV)(d.node.children,g)||{children:{},childCount:0};d=new Jp(g,d,S),o=Tr(o),g=cr(o)}return d}function eh(c){return c.node.value}function Zm(c,i){c.node.value=i,th(c)}function Zf(c){return c.node.childCount>0}function or(c,i){qs(c.node.children,(o,d)=>{i(new Jp(o,c,d))})}function tv(c,i,o,d){o&&!d&&i(c),or(c,g=>{tv(g,i,!0,d)}),o&&d&&i(c)}function em(c){return new Pr(null===c.parent?c.name:em(c.parent)+"/"+c.name)}function th(c){null!==c.parent&&function Jg(c,i,o){const d=function qf(c){return void 0===eh(c)&&!Zf(c)}(o),g=(0,Ze.r3)(c.node.children,i);d&&g?(delete c.node.children[i],c.node.childCount--,th(c)):!d&&!g&&(c.node.children[i]=o.node,c.node.childCount++,th(c))}(c.parent,c.name,c)}const Es=/[\[\].#$\/\u0000-\u001F\u007F]/,xa=/[\[\].#$\u0000-\u001F\u007F]/,Ml=10485760,Kl=function(c){return"string"==typeof c&&0!==c.length&&!Es.test(c)},tm=function(c){return"string"==typeof c&&0!==c.length&&!xa.test(c)},xu=function(c){return null===c||"string"==typeof c||"number"==typeof c&&!mu(c)||c&&"object"==typeof c&&(0,Ze.r3)(c,".sv")},fc=function(c,i,o,d){d&&void 0===i||nh((0,Ze.gK)(c,"value"),i,o)},nh=function(c,i,o){const d=o instanceof Pr?new Th(o,c):o;if(void 0===i)throw new Error(c+"contains undefined "+Su(d));if("function"==typeof i)throw new Error(c+"contains a function "+Su(d)+" with contents = "+i.toString());if(mu(i))throw new Error(c+"contains "+i.toString()+" "+Su(d));if("string"==typeof i&&i.length>Ml/3&&(0,Ze.ug)(i)>Ml)throw new Error(c+"contains a string greater than "+Ml+" utf8 bytes "+Su(d)+" ('"+i.substring(0,50)+"...')");if(i&&"object"==typeof i){let g=!1,S=!1;if(qs(i,(P,z)=>{if(".value"===P)g=!0;else if(".priority"!==P&&".sv"!==P&&(S=!0,!Kl(P)))throw new Error(c+" contains an invalid key ("+P+") "+Su(d)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Ku(c,i){c.parts_.length>0&&(c.byteLength_+=1),c.parts_.push(i),c.byteLength_+=(0,Ze.ug)(i),Zu(c)})(d,P),nh(c,z,d),function Eu(c){const i=c.parts_.pop();c.byteLength_-=(0,Ze.ug)(i),c.parts_.length>0&&(c.byteLength_-=1)}(d)}),g&&S)throw new Error(c+' contains ".value" child '+Su(d)+" in addition to actual children.")}},nv=function(c,i,o,d){if(d&&void 0===i)return;const g=(0,Ze.gK)(c,"values");if(!i||"object"!=typeof i||Array.isArray(i))throw new Error(g+" must be an object containing the children to replace.");const S=[];qs(i,(P,z)=>{const le=new Pr(P);if(nh(g,z,Gr(o,le)),".priority"===Df(le)&&!xu(z))throw new Error(g+"contains an invalid value for '"+le.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");S.push(le)}),function(c,i){let o,d;for(o=0;o<i.length;o++){d=i[o];const S=Uc(d);for(let P=0;P<S.length;P++)if((".priority"!==S[P]||P!==S.length-1)&&!Kl(S[P]))throw new Error(c+"contains an invalid key ("+S[P]+") in path "+d.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}i.sort(xg);let g=null;for(o=0;o<i.length;o++){if(d=i[o],null!==g&&_o(g,d))throw new Error(c+"contains a path "+g.toString()+" that is ancestor of another path "+d.toString());g=d}}(g,S)},iv=function(c,i,o){if(!o||void 0!==i){if(mu(i))throw new Error((0,Ze.gK)(c,"priority")+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!xu(i))throw new Error((0,Ze.gK)(c,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},_d=function(c,i,o,d){if(!(d&&void 0===o||Kl(o)))throw new Error((0,Ze.gK)(c,i)+'was an invalid key = "'+o+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},im=function(c,i,o,d){if(!(d&&void 0===o||tm(o)))throw new Error((0,Ze.gK)(c,i)+'was an invalid path = "'+o+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},pc=function(c,i){if(".info"===cr(i))throw new Error(c+" failed = Can't modify data under /.info/")},Bv=function(c,i){const o=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!Kl(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==o.length&&!function(c){return c&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),tm(c)}(o))throw new Error((0,Ze.gK)(c,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class rv{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Qf(c,i){let o=null;for(let d=0;d<i.length;d++){const g=i[d],S=g.getPath();null!==o&&!Du(S,o.path)&&(c.eventLists_.push(o),o=null),null===o&&(o={events:[],path:S}),o.events.push(g)}o&&c.eventLists_.push(o)}function e_(c,i,o){Qf(c,o),Xf(c,d=>Du(d,i))}function Wa(c,i,o){Qf(c,o),Xf(c,d=>_o(d,i)||_o(i,d))}function Xf(c,i){c.recursionDepth_++;let o=!0;for(let d=0;d<c.eventLists_.length;d++){const g=c.eventLists_[d];g&&(i(g.path)?(t_(c.eventLists_[d]),c.eventLists_[d]=null):o=!1)}o&&(c.eventLists_=[]),c.recursionDepth_--}function t_(c){for(let i=0;i<c.events.length;i++){const o=c.events[i];if(null!==o){c.events[i]=null;const d=o.getEventRunner();Qn&&mi("event: "+o.toString()),Ma(d)}}}const Gh="repo_interrupt";class sv{constructor(i,o,d,g){this.repoInfo_=i,this.forceRestClient_=o,this.authTokenProvider_=d,this.appCheckProvider_=g,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rv,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kf(),this.transactionQueueTree_=new Jp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Xm(c){const o=c.infoData_.getNode(new Pr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+o}function zh(c){return function(c){return(c=c||{}).timestamp=c.timestamp||(new Date).getTime(),c}({timestamp:Xm(c)})}function i_(c,i,o,d,g){c.dataUpdateCount++;const S=new Pr(i);o=c.interceptServerDataCallback_?c.interceptServerDataCallback_(i,o):o;let P=[];if(g)if(d){const le=(0,Ze.UI)(o,Te=>er(Te));P=function gd(c,i,o,d){const g=Zp(c,d);if(g){const S=zm(g),P=S.path,z=S.queryId,le=ia(P,i),Te=Ds.fromObject(o);return qp(c,P,new tr(Jt(z),le,Te))}return[]}(c.serverSyncTree_,S,le,g)}else{const le=er(o);P=Wp(c.serverSyncTree_,S,le,g)}else if(d){const le=(0,Ze.UI)(o,Te=>er(Te));P=function Yf(c,i,o){const d=Ds.fromObject(o);return Kp(c,new tr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,d))}(c.serverSyncTree_,S,le)}else{const le=er(o);P=Wf(c.serverSyncTree_,S,le)}let z=S;P.length>0&&(z=gc(c,S)),Wa(c.eventQueue_,z,P)}function Au(c,i){ov(c,"connected",i),!1===i&&function av(c){Ru(c,"onDisconnectEvents");const i=zh(c),o=kf();Ph(c.onDisconnect_,kr(),(g,S)=>{const P=Ym(g,S,c.serverSyncTree_,i);Ri(o,g,P)});let d=[];Ph(o,kr(),(g,S)=>{d=d.concat(Wf(c.serverSyncTree_,g,S));const P=ng(c,g);gc(c,P)}),c.onDisconnect_=kf(),Wa(c.eventQueue_,kr(),d)}(c)}function ov(c,i,o){const d=new Pr("/.info/"+i),g=er(o);c.infoData_.updateSnapshot(d,g);const S=Wf(c.infoSyncTree_,d,g);Wa(c.eventQueue_,d,S)}function ih(c){return c.nextWriteId_++}function Jm(c,i,o,d,g){Ru(c,"set",{path:i.toString(),value:o,priority:d});const S=zh(c),P=er(o,d),z=Yp(c.serverSyncTree_,i),le=Km(P,z,S),Te=ih(c),mt=$m(c.serverSyncTree_,i,le,Te,!0);Qf(c.eventQueue_,mt),c.server_.put(i.toString(),P.val(!0),(Ht,mn)=>{const Cn="ok"===Ht;Cn||Us("set at "+i+" failed: "+Ht);const s=Iu(c.serverSyncTree_,Te,!Cn);Wa(c.eventQueue_,i,s),mc(0,g,Ht,mn)});const bt=ng(c,i);gc(c,bt),Wa(c.eventQueue_,bt,[])}function ku(c,i,o){c.server_.onDisconnectCancel(i.toString(),(d,g)=>{"ok"===d&&zd(c.onDisconnect_,i),mc(0,o,d,g)})}function Jf(c,i,o,d){const g=er(o);c.server_.onDisconnectPut(i.toString(),g.val(!0),(S,P)=>{"ok"===S&&Ri(c.onDisconnect_,i,g),mc(0,d,S,P)})}function Il(c,i,o){let d;d=".info"===cr(i._path)?zp(c.infoSyncTree_,i,o):zp(c.serverSyncTree_,i,o),e_(c.eventQueue_,i._path,d)}function eg(c){c.persistentConnection_&&c.persistentConnection_.interrupt(Gh)}function Ru(c,...i){let o="";c.persistentConnection_&&(o=c.persistentConnection_.id+":"),mi(o,...i)}function mc(c,i,o,d){i&&Ma(()=>{if("ok"===o)i(null);else{const g=(o||"error").toUpperCase();let S=g;d&&(S+=": "+d);const P=new Error(S);P.code=g,i(P)}})}function yd(c,i,o){return Yp(c.serverSyncTree_,i,o)||Vi.EMPTY_NODE}function bd(c,i=c.transactionQueueTree_){if(i||tg(c,i),eh(i)){const o=o_(c,i);(0,Ze.hu)(o.length>0,"Sending zero length transaction queue"),o.every(g=>0===g.status)&&function tp(c,i,o){const d=o.map(Te=>Te.currentWriteId),g=yd(c,i,d);let S=g;const P=g.hash();for(let Te=0;Te<o.length;Te++){const mt=o[Te];(0,Ze.hu)(0===mt.status,"tryToSendTransactionQueue_: items in queue should all be run."),mt.status=1,mt.retryCount++;const bt=ia(i,mt.path);S=S.updateChild(bt,mt.currentOutputSnapshotRaw)}const z=S.val(!0),le=i;c.server_.put(le.toString(),z,Te=>{Ru(c,"transaction put response",{path:le.toString(),status:Te});let mt=[];if("ok"===Te){const bt=[];for(let Ht=0;Ht<o.length;Ht++)o[Ht].status=2,mt=mt.concat(Iu(c.serverSyncTree_,o[Ht].currentWriteId)),o[Ht].onComplete&&bt.push(()=>o[Ht].onComplete(null,!0,o[Ht].currentOutputSnapshotResolved)),o[Ht].unwatcher();tg(c,Jd(c.transactionQueueTree_,i)),bd(c,c.transactionQueueTree_),Wa(c.eventQueue_,i,mt);for(let Ht=0;Ht<bt.length;Ht++)Ma(bt[Ht])}else{if("datastale"===Te)for(let bt=0;bt<o.length;bt++)o[bt].status=3===o[bt].status?4:0;else{Us("transaction at "+le.toString()+" failed: "+Te);for(let bt=0;bt<o.length;bt++)o[bt].status=4,o[bt].abortReason=Te}gc(c,i)}},P)}(c,em(i),o)}else Zf(i)&&or(i,o=>{bd(c,o)})}function gc(c,i){const o=s_(c,i),d=em(o);return function np(c,i,o){if(0===i.length)return;const d=[];let g=[];const P=i.filter(z=>0===z.status).map(z=>z.currentWriteId);for(let z=0;z<i.length;z++){const le=i[z],Te=ia(o,le.path);let bt,mt=!1;if((0,Ze.hu)(null!==Te,"rerunTransactionsUnderNode_: relativePath should not be null."),4===le.status)mt=!0,bt=le.abortReason,g=g.concat(Iu(c.serverSyncTree_,le.currentWriteId,!0));else if(0===le.status)if(le.retryCount>=25)mt=!0,bt="maxretry",g=g.concat(Iu(c.serverSyncTree_,le.currentWriteId,!0));else{const Ht=yd(c,le.path,P);le.currentInputSnapshot=Ht;const mn=i[z].update(Ht.val());if(void 0!==mn){nh("transaction failed: Data returned ",mn,le.path);let Cn=er(mn);"object"==typeof mn&&null!=mn&&(0,Ze.r3)(mn,".priority")||(Cn=Cn.updatePriority(Ht.getPriority()));const e=le.currentWriteId,t=zh(c),a=Km(Cn,Ht,t);le.currentOutputSnapshotRaw=Cn,le.currentOutputSnapshotResolved=a,le.currentWriteId=ih(c),P.splice(P.indexOf(e),1),g=g.concat($m(c.serverSyncTree_,le.path,a,le.currentWriteId,le.applyLocally)),g=g.concat(Iu(c.serverSyncTree_,e,!0))}else mt=!0,bt="nodata",g=g.concat(Iu(c.serverSyncTree_,le.currentWriteId,!0))}Wa(c.eventQueue_,o,g),g=[],mt&&(i[z].status=2,setTimeout(i[z].unwatcher,Math.floor(0)),i[z].onComplete&&d.push("nodata"===bt?()=>i[z].onComplete(null,!1,i[z].currentInputSnapshot):()=>i[z].onComplete(new Error(bt),!1,null)))}tg(c,c.transactionQueueTree_);for(let z=0;z<d.length;z++)Ma(d[z]);bd(c,c.transactionQueueTree_)}(c,o_(c,o),d),d}function s_(c,i){let o,d=c.transactionQueueTree_;for(o=cr(i);null!==o&&void 0===eh(d);)d=Jd(d,o),o=cr(i=Tr(i));return d}function o_(c,i){const o=[];return a_(c,i,o),o.sort((d,g)=>d.order-g.order),o}function a_(c,i,o){const d=eh(i);if(d)for(let g=0;g<d.length;g++)o.push(d[g]);or(i,g=>{a_(c,g,o)})}function tg(c,i){const o=eh(i);if(o){let d=0;for(let g=0;g<o.length;g++)2!==o[g].status&&(o[d]=o[g],d++);o.length=d,Zm(i,o.length>0?o:void 0)}or(i,d=>{tg(c,d)})}function ng(c,i){const o=em(s_(c,i)),d=Jd(c.transactionQueueTree_,i);return function qm(c,i,o){let d=o?c:c.parent;for(;null!==d;){if(i(d))return!0;d=d.parent}}(d,g=>{ig(c,g)}),ig(c,d),tv(d,g=>{ig(c,g)}),o}function ig(c,i){const o=eh(i);if(o){const d=[];let g=[],S=-1;for(let P=0;P<o.length;P++)3===o[P].status||(1===o[P].status?((0,Ze.hu)(S===P-1,"All SENT items should be at beginning of queue."),S=P,o[P].status=3,o[P].abortReason="set"):((0,Ze.hu)(0===o[P].status,"Unexpected transaction status in abort"),o[P].unwatcher(),g=g.concat(Iu(c.serverSyncTree_,o[P].currentWriteId,!0)),o[P].onComplete&&d.push(o[P].onComplete.bind(null,new Error("set"),!1,null))));-1===S?Zm(i,void 0):o.length=S+1,Wa(c.eventQueue_,em(i),g);for(let P=0;P<d.length;P++)Ma(d[P])}}const _c=function(c,i){const o=py(c),d=o.namespace;return"firebase.com"===o.domain&&mo(o.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!d||"undefined"===d)&&"localhost"!==o.domain&&mo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),o.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Us("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Fc(o.host,o.secure,d,"ws"===o.scheme||"wss"===o.scheme,i,"",d!==o.subdomain),path:new Pr(o.pathString)}},py=function(c){let i="",o="",d="",g="",S="",P=!0,z="https",le=443;if("string"==typeof c){let Te=c.indexOf("//");Te>=0&&(z=c.substring(0,Te-1),c=c.substring(Te+2));let mt=c.indexOf("/");-1===mt&&(mt=c.length);let bt=c.indexOf("?");-1===bt&&(bt=c.length),i=c.substring(0,Math.min(mt,bt)),mt<bt&&(g=function l_(c){let i="";const o=c.split("/");for(let d=0;d<o.length;d++)if(o[d].length>0){let g=o[d];try{g=decodeURIComponent(g.replace(/\+/g," "))}catch{}i+="/"+g}return i}(c.substring(mt,bt)));const Ht=function qc(c){const i={};"?"===c.charAt(0)&&(c=c.substring(1));for(const o of c.split("&")){if(0===o.length)continue;const d=o.split("=");2===d.length?i[decodeURIComponent(d[0])]=decodeURIComponent(d[1]):Us(`Invalid query segment '${o}' in query '${c}'`)}return i}(c.substring(Math.min(c.length,bt)));Te=i.indexOf(":"),Te>=0?(P="https"===z||"wss"===z,le=parseInt(i.substring(Te+1),10)):Te=i.length;const mn=i.slice(0,Te);if("localhost"===mn.toLowerCase())o="localhost";else if(mn.split(".").length<=2)o=mn;else{const Cn=i.indexOf(".");d=i.substring(0,Cn).toLowerCase(),o=i.substring(Cn+1),S=d}"ns"in Ht&&(S=Ht.ns)}return{host:i,port:le,domain:o,subdomain:d,secure:P,scheme:z,pathString:g,namespace:S}};class rh{constructor(i,o,d,g){this.eventType=i,this.eventRegistration=o,this.snapshot=d,this.prevName=g}getPath(){const i=this.snapshot.ref;return"value"===this.eventType?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Ze.Wl)(this.snapshot.exportVal())}}class ip{constructor(i,o,d){this.eventRegistration=i,this.error=o,this.path=d}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class c_{constructor(i,o){this.snapshotCallback=i,this.cancelCallback=o}onValue(i,o){this.snapshotCallback.call(null,i,o)}onCancel(i){return(0,Ze.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}}class u_{constructor(i,o){this._repo=i,this._path=o}cancel(){const i=new Ze.BH;return ku(this._repo,this._path,i.wrapCallback(()=>{})),i.promise}remove(){pc("OnDisconnect.remove",this._path);const i=new Ze.BH;return Jf(this._repo,this._path,null,i.wrapCallback(()=>{})),i.promise}set(i){pc("OnDisconnect.set",this._path),fc("OnDisconnect.set",i,this._path,!1);const o=new Ze.BH;return Jf(this._repo,this._path,i,o.wrapCallback(()=>{})),o.promise}setWithPriority(i,o){pc("OnDisconnect.setWithPriority",this._path),fc("OnDisconnect.setWithPriority",i,this._path,!1),iv("OnDisconnect.setWithPriority",o,!1);const d=new Ze.BH;return function Ya(c,i,o,d,g){const S=er(o,d);c.server_.onDisconnectPut(i.toString(),S.val(!0),(P,z)=>{"ok"===P&&Ri(c.onDisconnect_,i,S),mc(0,g,P,z)})}(this._repo,this._path,i,o,d.wrapCallback(()=>{})),d.promise}update(i){pc("OnDisconnect.update",this._path),nv("OnDisconnect.update",i,this._path,!1);const o=new Ze.BH;return function Wh(c,i,o,d){if((0,Ze.xb)(o))return mi("onDisconnect().update() called with empty data.  Don't do anything."),void mc(0,d,"ok",void 0);c.server_.onDisconnectMerge(i.toString(),o,(g,S)=>{"ok"===g&&qs(o,(P,z)=>{const le=er(z);Ri(c.onDisconnect_,Gr(i,P),le)}),mc(0,d,g,S)})}(this._repo,this._path,i,o.wrapCallback(()=>{})),o.promise}}class Aa{constructor(i,o,d,g){this._repo=i,this._path=o,this._queryParams=d,this._orderByCalled=g}get key(){return ur(this._path)?null:Df(this._path)}get ref(){return new Io(this._repo,this._path)}get _queryIdentifier(){const i=ad(this._queryParams),o=Fd(i);return"{}"===o?"default":o}get _queryObject(){return ad(this._queryParams)}isEqual(i){if(!((i=(0,Ze.m9)(i))instanceof Aa))return!1;const o=this._repo===i._repo,d=Du(this._path,i._path);return o&&d&&this._queryIdentifier===i._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Ef(c){let i="";for(let o=c.pieceNum_;o<c.pieces_.length;o++)""!==c.pieces_[o]&&(i+="/"+encodeURIComponent(String(c.pieces_[o])));return i||"/"}(this._path)}}function Yh(c,i){if(!0===c._orderByCalled)throw new Error(i+": You can't combine multiple orderBy calls.")}function Qc(c){let i=null,o=null;if(c.hasStart()&&(i=c.getIndexStartValue()),c.hasEnd()&&(o=c.getIndexEndValue()),c.getIndex()===zl){const d="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",g="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(c.hasStart()){if(c.getIndexStartName()!==To)throw new Error(d);if("string"!=typeof i)throw new Error(g)}if(c.hasEnd()){if(c.getIndexEndName()!==ta)throw new Error(d);if("string"!=typeof o)throw new Error(g)}}else if(c.getIndex()===is){if(null!=i&&!xu(i)||null!=o&&!xu(o))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Ze.hu)(c.getIndex()instanceof xp||c.getIndex()===Yc,"unknown index type."),null!=i&&"object"==typeof i||null!=o&&"object"==typeof o)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Kh(c){if(c.hasStart()&&c.hasEnd()&&c.hasLimit()&&!c.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Io extends Aa{constructor(i,o){super(i,o,new od,!1)}get parent(){const i=Ud(this._path);return null===i?null:new Io(this._repo,i)}get root(){let i=this;for(;null!==i.parent;)i=i.parent;return i}}class vc{constructor(i,o,d){this._node=i,this.ref=o,this._index=d}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){const o=new Pr(i),d=yc(this.ref,i);return new vc(this._node.getChild(o),d,is)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(d,g)=>i(new vc(g,yc(this.ref,d),is)))}hasChild(i){const o=new Pr(i);return!this._node.getChild(o).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function rp(c,i){return(c=(0,Ze.m9)(c))._checkNotDeleted("ref"),void 0!==i?yc(c._root,i):c._root}function sp(c,i){(c=(0,Ze.m9)(c))._checkNotDeleted("refFromURL");const o=_c(i,c._repo.repoInfo_.nodeAdmin);Bv("refFromURL",o);const d=o.repoInfo;return!c._repo.repoInfo_.isCustomHost()&&d.host!==c._repo.repoInfo_.host&&mo("refFromURL: Host name does not match the current database: (found "+d.host+" but expected "+c._repo.repoInfo_.host+")"),rp(c,o.path.toString())}function yc(c,i){return null===cr((c=(0,Ze.m9)(c))._path)?(o=i,o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),im("child","path",o,!1)):im("child","path",i,!1),new Io(c._repo,Gr(c._path,i));var o}function op(c,i){c=(0,Ze.m9)(c),pc("set",c._path),fc("set",i,c._path,!1);const o=new Ze.BH;return Jm(c._repo,c._path,i,null,o.wrapCallback(()=>{})),o.promise}function Cd(c,i){nv("update",i,c._path,!1);const o=new Ze.BH;return function r_(c,i,o,d){Ru(c,"update",{path:i.toString(),value:o});let g=!0;const S=zh(c),P={};if(qs(o,(z,le)=>{g=!1,P[z]=Ym(Gr(i,z),er(le),c.serverSyncTree_,S)}),g)mi("update() called with empty data.  Don't do anything."),mc(0,d,"ok",void 0);else{const z=ih(c),le=function Gp(c,i,o,d){!function Ng(c,i,o,d){(0,Ze.hu)(d>c.lastWriteId,"Stacking an older merge on top of newer ones"),c.allWrites.push({path:i,children:o,writeId:d,visible:!0}),c.visibleWrites=Kd(c.visibleWrites,i,o),c.lastWriteId=d}(c.pendingWriteTree_,i,o,d);const g=Ds.fromObject(o);return Kp(c,new tr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,g))}(c.serverSyncTree_,i,P,z);Qf(c.eventQueue_,le),c.server_.merge(i.toString(),o,(Te,mt)=>{const bt="ok"===Te;bt||Us("update at "+i+" failed: "+Te);const Ht=Iu(c.serverSyncTree_,z,!bt),mn=Ht.length>0?gc(c,i):i;Wa(c.eventQueue_,mn,Ht),mc(0,d,Te,mt)}),qs(o,Te=>{const mt=ng(c,Gr(i,Te));gc(c,mt)}),Wa(c.eventQueue_,i,[])}}(c._repo,c._path,i,o.wrapCallback(()=>{})),o.promise}function uv(c){c=(0,Ze.m9)(c);const i=new c_(()=>{}),o=new Zh(i);return function Vv(c,i,o){const d=function Kg(c,i){const o=i._path;let d=null;c.syncPointTree_.foreachOnPath(o,(Te,mt)=>{const bt=ia(Te,o);d=d||Yl(mt,bt)});let g=c.syncPointTree_.get(o);g?d=d||Yl(g,kr()):(g=new Vm,c.syncPointTree_=c.syncPointTree_.set(o,g));const S=null!=d,P=S?new Ui(d,!0,!1):null;return function W_(c){return ld(c.viewCache_)}(Hm(g,i,km(c.pendingWriteTree_,i._path),S?P.getNode():Vi.EMPTY_NODE,S))}(c.serverSyncTree_,i);return null!=d?Promise.resolve(d):c.server_.get(i).then(g=>{const S=er(g).withIndex(i._queryParams.getIndex());let P;if(Ia(c.serverSyncTree_,i,o,!0),i._queryParams.loadsAllData())P=Wf(c.serverSyncTree_,i._path,S);else{const z=Hh(c.serverSyncTree_,i);P=Wp(c.serverSyncTree_,i._path,S,z)}return Wa(c.eventQueue_,i._path,P),zp(c.serverSyncTree_,i,o,null,!0),S},g=>(Ru(c,"get for query "+(0,Ze.Wl)(i)+" failed: "+g),Promise.reject(new Error(g))))}(c._repo,c,o).then(d=>new vc(d,new Io(c._repo,c._path),c._queryParams.getIndex()))}class Zh{constructor(i){this.callbackContext=i}respondsTo(i){return"value"===i}createEvent(i,o){const d=o._queryParams.getIndex();return new rh("value",this,new vc(i.snapshotNode,new Io(o._repo,o._path),d))}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,o){return this.callbackContext.hasCancelCallback?new ip(this,i,o):null}matches(i){return i instanceof Zh&&(!i.callbackContext||!this.callbackContext||i.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class qh{constructor(i,o){this.eventType=i,this.callbackContext=o}respondsTo(i){let o="children_added"===i?"child_added":i;return o="children_removed"===o?"child_removed":o,this.eventType===o}createCancelEvent(i,o){return this.callbackContext.hasCancelCallback?new ip(this,i,o):null}createEvent(i,o){(0,Ze.hu)(null!=i.childName,"Child events should have a childName.");const d=yc(new Io(o._repo,o._path),i.childName),g=o._queryParams.getIndex();return new rh(i.type,this,new vc(i.snapshotNode,d,g),i.prevName)}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,i.prevName)}matches(i){return i instanceof qh&&this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function sh(c,i,o,d,g){let S;if("object"==typeof d&&(S=void 0,g=d),"function"==typeof d&&(S=d),g&&g.onlyOnce){const le=o,Te=(mt,bt)=>{Il(c._repo,c,z),le(mt,bt)};Te.userCallback=o.userCallback,Te.context=o.context,o=Te}const P=new c_(o,S||void 0),z="value"===i?new Zh(P):new qh(i,P);return function ep(c,i,o){let d;d=".info"===cr(i._path)?Ia(c.infoSyncTree_,i,o):Ia(c.serverSyncTree_,i,o),e_(c.eventQueue_,i._path,d)}(c._repo,c,z),()=>Il(c._repo,c,z)}function og(c,i,o,d){return sh(c,"value",i,o,d)}function rm(c,i,o,d){return sh(c,"child_added",i,o,d)}function ap(c,i,o,d){return sh(c,"child_changed",i,o,d)}function ag(c,i,o,d){return sh(c,"child_moved",i,o,d)}function Qh(c,i,o,d){return sh(c,"child_removed",i,o,d)}function lg(c,i,o){let d=null;const g=o?new c_(o):null;"value"===i?d=new Zh(g):i&&(d=new qh(i,g)),Il(c._repo,c,d)}class cl{}class cg extends cl{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){fc("endAt",this._value,i._path,!0);const o=Np(i._queryParams,this._value,this._key);if(Kh(o),Qc(o),i._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Aa(i._repo,i._path,o,i._orderByCalled)}}class wd extends cl{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){fc("endBefore",this._value,i._path,!1);const o=function Gd(c,i,o){let d,g;return c.index_===zl?("string"==typeof i&&(i=Rh(i)),g=Np(c,i,o)):(d=null==o?To:Rh(o),g=Np(c,i,d)),g.endBeforeSet_=!0,g}(i._queryParams,this._value,this._key);if(Kh(o),Qc(o),i._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Aa(i._repo,i._path,o,i._orderByCalled)}}class h_ extends cl{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){fc("startAt",this._value,i._path,!0);const o=Op(i._queryParams,this._value,this._key);if(Kh(o),Qc(o),i._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Aa(i._repo,i._path,o,i._orderByCalled)}}class fv extends cl{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){fc("startAfter",this._value,i._path,!1);const o=function Pp(c,i,o){let d;if(c.index_===zl)"string"==typeof i&&(i=kp(i)),d=Op(c,i,o);else{let g;g=null==o?ta:kp(o),d=Op(c,i,g)}return d.startAfterSet_=!0,d}(i._queryParams,this._value,this._key);if(Kh(o),Qc(o),i._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Aa(i._repo,i._path,o,i._orderByCalled)}}class Hv extends cl{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Aa(i._repo,i._path,function Rg(c,i){const o=c.copy();return o.limitSet_=!0,o.limit_=i,o.viewFrom_="l",o}(i._queryParams,this._limit),i._orderByCalled)}}class f_ extends cl{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Aa(i._repo,i._path,function El(c,i){const o=c.copy();return o.limitSet_=!0,o.limit_=i,o.viewFrom_="r",o}(i._queryParams,this._limit),i._orderByCalled)}}class oa extends cl{constructor(i){super(),this._path=i}_apply(i){Yh(i,"orderByChild");const o=new Pr(this._path);if(ur(o))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const d=new xp(o),g=Kc(i._queryParams,d);return Qc(g),new Aa(i._repo,i._path,g,!0)}}class Gv extends cl{_apply(i){Yh(i,"orderByKey");const o=Kc(i._queryParams,zl);return Qc(o),new Aa(i._repo,i._path,o,!0)}}class m_ extends cl{_apply(i){Yh(i,"orderByPriority");const o=Kc(i._queryParams,is);return Qc(o),new Aa(i._repo,i._path,o,!0)}}class g_ extends cl{_apply(i){Yh(i,"orderByValue");const o=Kc(i._queryParams,Yc);return Qc(o),new Aa(i._repo,i._path,o,!0)}}class oh extends cl{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){if(fc("equalTo",this._value,i._path,!1),i._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(i._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new cg(this._value,this._key)._apply(new h_(this._value,this._key)._apply(i))}}function Xc(c,...i){let o=(0,Ze.m9)(c);for(const d of i)o=d._apply(o);return o}(function Lv(c){(0,Ze.hu)(!jp,"__referenceConstructor has already been defined"),jp=c})(Io),function q_(c){(0,Ze.hu)(!md,"__referenceConstructor has already been defined"),md=c}(Io);const Jc={};function dg(c,i,o,d,g){let S=d||c.options.databaseURL;void 0===S&&(c.options.projectId||mo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),mi("Using default host for project ",c.options.projectId),S=`${c.options.projectId}-default-rtdb.firebaseio.com`);let le,Te,P=_c(S,g),z=P.repoInfo;typeof process<"u"&&process.env&&(Te=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Te?(le=!0,S=`http://${Te}?ns=${z.namespace}`,P=_c(S,g),z=P.repoInfo):le=!P.repoInfo.secure;const mt=g&&le?new bh(bh.OWNER):new fm(c.name,c.options,i);Bv("Invalid Firebase Database URL",P),ur(P.path)||mo("Database URL must point to the root of a Firebase Database (not including a child path).");const bt=function Ou(c,i,o,d){let g=Jc[i.name];g||(g={},Jc[i.name]=g);let S=g[c.toURLString()];return S&&mo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),S=new sv(c,false,o,d),g[c.toURLString()]=S,S}(z,c,mt,new Ha(c.name,o));return new mv(bt,c)}class mv{constructor(i,o){this._repoInternal=i,this.app=o,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Qm(c,i,o){if(c.stats_=Yu(c.repoInfo_),c.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)c.server_=new Oh(c.repoInfo_,(d,g,S,P)=>{i_(c,d,g,S,P)},c.authTokenProvider_,c.appCheckProvider_),setTimeout(()=>Au(c,!0),0);else{if(typeof o<"u"&&null!==o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Ze.Wl)(o)}catch(d){throw new Error("Invalid authOverride provided: "+d)}}c.persistentConnection_=new jc(c.repoInfo_,i,(d,g,S,P)=>{i_(c,d,g,S,P)},d=>{Au(c,d)},d=>{!function vd(c,i){qs(i,(o,d)=>{ov(c,o,d)})}(c,d)},c.authTokenProvider_,c.appCheckProvider_,o),c.server_=c.persistentConnection_}c.authTokenProvider_.addTokenChangeListener(d=>{c.server_.refreshAuthToken(d)}),c.appCheckProvider_.addTokenChangeListener(d=>{c.server_.refreshAppCheckToken(d.token)}),c.statsReporter_=function ym(c,i){const o=c.toString();return Wu[o]||(Wu[o]=i()),Wu[o]}(c.repoInfo_,()=>new _(c.stats_,c.server_)),c.infoData_=new Og,c.infoSyncTree_=new zf({startListening:(d,g,S,P)=>{let z=[];const le=c.infoData_.getNode(d._path);return le.isEmpty()||(z=Wf(c.infoSyncTree_,d._path,le),setTimeout(()=>{P("ok")},0)),z},stopListening:()=>{}}),ov(c,"connected",!1),c.serverSyncTree_=new zf({startListening:(d,g,S,P)=>(c.server_.listen(d,S,g,(z,le)=>{const Te=P(z,le);Wa(c.eventQueue_,d._path,Te)}),[]),stopListening:(d,g)=>{c.server_.unlisten(d,g)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Io(this._repo,kr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function hg(c,i){const o=Jc[i];(!o||o[c.key]!==c)&&mo(`Database ${i}(${c.repoInfo_}) has already been deleted.`),eg(c),delete o[c.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){null===this._rootInternal&&mo("Cannot call "+i+" on a deleted database.")}}function eu(){wm.IS_TRANSPORT_INITIALIZED&&Us("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function tu(){eu(),bu.forceDisallow()}function nu(){eu(),oc.forceDisallow(),bu.forceAllow()}function Kv(c,i){Si(c,i)}const v_={".sv":"timestamp"};class Zv{constructor(i,o){this.committed=i,this.snapshot=o}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}jc.prototype.simpleListen=function(c,i){this.sendRequest("q",{p:c},i)},jc.prototype.echo=function(c,i){this.sendRequest("echo",{d:c},i)},function _v(c){Rc(_r.SDK_VERSION),(0,_r._registerComponent)(new fr.wA("database",(i,{instanceIdentifier:o})=>dg(i.getProvider("app").getImmediate(),i.getProvider("auth-internal"),i.getProvider("app-check-internal"),o),"PUBLIC").setMultipleInstances(!0)),(0,_r.registerVersion)(Gu,Nd,c),(0,_r.registerVersion)(Gu,Nd,"esm2017")}();const yv=new va.Yd("@firebase/database-compat"),b_=function(c){yv.warn("FIREBASE WARNING: "+c)};class w_{constructor(i){this._delegate=i}cancel(i){(0,Ze.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Ze.Wj)("OnDisconnect.cancel","onComplete",i,!0);const o=this._delegate.cancel();return i&&o.then(()=>i(null),d=>i(d)),o}remove(i){(0,Ze.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Ze.Wj)("OnDisconnect.remove","onComplete",i,!0);const o=this._delegate.remove();return i&&o.then(()=>i(null),d=>i(d)),o}set(i,o){(0,Ze.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Ze.Wj)("OnDisconnect.set","onComplete",o,!0);const d=this._delegate.set(i);return o&&d.then(()=>o(null),g=>o(g)),d}setWithPriority(i,o,d){(0,Ze.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Ze.Wj)("OnDisconnect.setWithPriority","onComplete",d,!0);const g=this._delegate.setWithPriority(i,o);return d&&g.then(()=>d(null),S=>d(S)),g}update(i,o){if((0,Ze.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(i)){const g={};for(let S=0;S<i.length;++S)g[""+S]=i[S];i=g,b_("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Ze.Wj)("OnDisconnect.update","onComplete",o,!0);const d=this._delegate.update(i);return o&&d.then(()=>o(null),g=>o(g)),d}}class bv{constructor(i,o){this.committed=i,this.snapshot=o}toJSON(){return(0,Ze.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ch{constructor(i,o){this._database=i,this._delegate=o}val(){return(0,Ze.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Ze.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Ze.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Ze.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(i){return(0,Ze.Dv)("DataSnapshot.child",0,1,arguments.length),i=String(i),im("DataSnapshot.child","path",i,!1),new ch(this._database,this._delegate.child(i))}hasChild(i){return(0,Ze.Dv)("DataSnapshot.hasChild",1,1,arguments.length),im("DataSnapshot.hasChild","path",i,!1),this._delegate.hasChild(i)}getPriority(){return(0,Ze.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(i){return(0,Ze.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Ze.Wj)("DataSnapshot.forEach","action",i,!1),this._delegate.forEach(o=>i(new ch(this._database,o)))}hasChildren(){return(0,Ze.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Ze.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Ze.Dv)("DataSnapshot.ref",0,0,arguments.length),new ul(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ka{constructor(i,o){this.database=i,this._delegate=o}on(i,o,d,g){var S;(0,Ze.Dv)("Query.on",2,4,arguments.length),(0,Ze.Wj)("Query.on","callback",o,!1);const P=ka.getCancelAndContextArgs_("Query.on",d,g),z=(Te,mt)=>{o.call(P.context,new ch(this.database,Te),mt)};z.userCallback=o,z.context=P.context;const le=null===(S=P.cancel)||void 0===S?void 0:S.bind(P.context);switch(i){case"value":return og(this._delegate,z,le),o;case"child_added":return rm(this._delegate,z,le),o;case"child_removed":return Qh(this._delegate,z,le),o;case"child_changed":return ap(this._delegate,z,le),o;case"child_moved":return ag(this._delegate,z,le),o;default:throw new Error((0,Ze.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(i,o,d){if((0,Ze.Dv)("Query.off",0,3,arguments.length),function(c,i,o){if(void 0!==i)switch(i){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Ze.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,i),(0,Ze.Wj)("Query.off","callback",o,!0),(0,Ze.lb)("Query.off","context",d,!0),o){const g=()=>{};g.userCallback=o,g.context=d,lg(this._delegate,i,g)}else lg(this._delegate,i)}get(){return uv(this._delegate).then(i=>new ch(this.database,i))}once(i,o,d,g){(0,Ze.Dv)("Query.once",1,4,arguments.length),(0,Ze.Wj)("Query.once","callback",o,!0);const S=ka.getCancelAndContextArgs_("Query.once",d,g),P=new Ze.BH,z=(Te,mt)=>{const bt=new ch(this.database,Te);o&&o.call(S.context,bt,mt),P.resolve(bt)};z.userCallback=o,z.context=S.context;const le=Te=>{S.cancel&&S.cancel.call(S.context,Te),P.reject(Te)};switch(i){case"value":og(this._delegate,z,le,{onlyOnce:!0});break;case"child_added":rm(this._delegate,z,le,{onlyOnce:!0});break;case"child_removed":Qh(this._delegate,z,le,{onlyOnce:!0});break;case"child_changed":ap(this._delegate,z,le,{onlyOnce:!0});break;case"child_moved":ag(this._delegate,z,le,{onlyOnce:!0});break;default:throw new Error((0,Ze.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return P.promise}limitToFirst(i){return(0,Ze.Dv)("Query.limitToFirst",1,1,arguments.length),new ka(this.database,Xc(this._delegate,function jv(c){if("number"!=typeof c||Math.floor(c)!==c||c<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Hv(c)}(i)))}limitToLast(i){return(0,Ze.Dv)("Query.limitToLast",1,1,arguments.length),new ka(this.database,Xc(this._delegate,function $v(c){if("number"!=typeof c||Math.floor(c)!==c||c<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new f_(c)}(i)))}orderByChild(i){return(0,Ze.Dv)("Query.orderByChild",1,1,arguments.length),new ka(this.database,Xc(this._delegate,function p_(c){if("$key"===c)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===c)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===c)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return im("orderByChild","path",c,!1),new oa(c)}(i)))}orderByKey(){return(0,Ze.Dv)("Query.orderByKey",0,0,arguments.length),new ka(this.database,Xc(this._delegate,function zv(){return new Gv}()))}orderByPriority(){return(0,Ze.Dv)("Query.orderByPriority",0,0,arguments.length),new ka(this.database,Xc(this._delegate,function pv(){return new m_}()))}orderByValue(){return(0,Ze.Dv)("Query.orderByValue",0,0,arguments.length),new ka(this.database,Xc(this._delegate,function __(){return new g_}()))}startAt(i=null,o){return(0,Ze.Dv)("Query.startAt",0,2,arguments.length),new ka(this.database,Xc(this._delegate,function hv(c=null,i){return _d("startAt","key",i,!0),new h_(c,i)}(i,o)))}startAfter(i=null,o){return(0,Ze.Dv)("Query.startAfter",0,2,arguments.length),new ka(this.database,Xc(this._delegate,function Uv(c,i){return _d("startAfter","key",i,!0),new fv(c,i)}(i,o)))}endAt(i=null,o){return(0,Ze.Dv)("Query.endAt",0,2,arguments.length),new ka(this.database,Xc(this._delegate,function lp(c,i){return _d("endAt","key",i,!0),new cg(c,i)}(i,o)))}endBefore(i=null,o){return(0,Ze.Dv)("Query.endBefore",0,2,arguments.length),new ka(this.database,Xc(this._delegate,function dv(c,i){return _d("endBefore","key",i,!0),new wd(c,i)}(i,o)))}equalTo(i,o){return(0,Ze.Dv)("Query.equalTo",1,2,arguments.length),new ka(this.database,Xc(this._delegate,function ug(c,i){return _d("equalTo","key",i,!0),new oh(c,i)}(i,o)))}toString(){return(0,Ze.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Ze.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(i){if((0,Ze.Dv)("Query.isEqual",1,1,arguments.length),!(i instanceof ka))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(i._delegate)}static getCancelAndContextArgs_(i,o,d){const g={cancel:void 0,context:void 0};if(o&&d)g.cancel=o,(0,Ze.Wj)(i,"cancel",g.cancel,!0),g.context=d,(0,Ze.lb)(i,"context",g.context,!0);else if(o)if("object"==typeof o&&null!==o)g.context=o;else{if("function"!=typeof o)throw new Error((0,Ze.gK)(i,"cancelOrContext")+" must either be a cancel callback or a context object.");g.cancel=o}return g}get ref(){return new ul(this.database,new Io(this._delegate._repo,this._delegate._path))}}class ul extends ka{constructor(i,o){super(i,new Aa(o._repo,o._path,new od,!1)),this.database=i,this._delegate=o}getKey(){return(0,Ze.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(i){return(0,Ze.Dv)("Reference.child",1,1,arguments.length),"number"==typeof i&&(i=String(i)),new ul(this.database,yc(this._delegate,i))}getParent(){(0,Ze.Dv)("Reference.parent",0,0,arguments.length);const i=this._delegate.parent;return i?new ul(this.database,i):null}getRoot(){return(0,Ze.Dv)("Reference.root",0,0,arguments.length),new ul(this.database,this._delegate.root)}set(i,o){(0,Ze.Dv)("Reference.set",1,2,arguments.length),(0,Ze.Wj)("Reference.set","onComplete",o,!0);const d=op(this._delegate,i);return o&&d.then(()=>o(null),g=>o(g)),d}update(i,o){if((0,Ze.Dv)("Reference.update",1,2,arguments.length),Array.isArray(i)){const g={};for(let S=0;S<i.length;++S)g[""+S]=i[S];i=g,b_("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}pc("Reference.update",this._delegate._path),(0,Ze.Wj)("Reference.update","onComplete",o,!0);const d=Cd(this._delegate,i);return o&&d.then(()=>o(null),g=>o(g)),d}setWithPriority(i,o,d){(0,Ze.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Ze.Wj)("Reference.setWithPriority","onComplete",d,!0);const g=function sg(c,i,o){if(pc("setWithPriority",c._path),fc("setWithPriority",i,c._path,!1),iv("setWithPriority",o,!1),".length"===c.key||".keys"===c.key)throw"setWithPriority failed: "+c.key+" is a read-only object.";const d=new Ze.BH;return Jm(c._repo,c._path,i,o,d.wrapCallback(()=>{})),d.promise}(this._delegate,i,o);return d&&g.then(()=>d(null),S=>d(S)),g}remove(i){(0,Ze.Dv)("Reference.remove",0,1,arguments.length),(0,Ze.Wj)("Reference.remove","onComplete",i,!0);const o=function d_(c){return pc("remove",c._path),op(c,null)}(this._delegate);return i&&o.then(()=>i(null),d=>i(d)),o}transaction(i,o,d){(0,Ze.Dv)("Reference.transaction",1,3,arguments.length),(0,Ze.Wj)("Reference.transaction","transactionUpdate",i,!1),(0,Ze.Wj)("Reference.transaction","onComplete",o,!0),function(c,i,o,d){if(void 0!==o&&"boolean"!=typeof o)throw new Error((0,Ze.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,d);const g=function my(c,i,o){var d;if(c=(0,Ze.m9)(c),pc("Reference.transaction",c._path),".length"===c.key||".keys"===c.key)throw"Reference.transaction failed: "+c.key+" is a read-only object.";const g=null===(d=o?.applyLocally)||void 0===d||d,S=new Ze.BH,z=og(c,()=>{});return function Ss(c,i,o,d,g,S){Ru(c,"transaction on "+i);const P={path:i,update:o,onComplete:d,status:null,order:Ee(),applyLocally:S,retryCount:0,unwatcher:g,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},z=yd(c,i,void 0);P.currentInputSnapshot=z;const le=P.update(z.val());if(void 0===le)P.unwatcher(),P.currentOutputSnapshotRaw=null,P.currentOutputSnapshotResolved=null,P.onComplete&&P.onComplete(null,!1,P.currentInputSnapshot);else{nh("transaction failed: Data returned ",le,P.path),P.status=0;const Te=Jd(c.transactionQueueTree_,i),mt=eh(Te)||[];let bt;mt.push(P),Zm(Te,mt),"object"==typeof le&&null!==le&&(0,Ze.r3)(le,".priority")?(bt=(0,Ze.DV)(le,".priority"),(0,Ze.hu)(xu(bt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):bt=(Yp(c.serverSyncTree_,i)||Vi.EMPTY_NODE).getPriority().val();const Ht=zh(c),mn=er(le,bt),Cn=Km(mn,z,Ht);P.currentOutputSnapshotRaw=mn,P.currentOutputSnapshotResolved=Cn,P.currentWriteId=ih(c);const s=$m(c.serverSyncTree_,i,Cn,P.currentWriteId,P.applyLocally);Wa(c.eventQueue_,i,s),bd(c,c.transactionQueueTree_)}}(c._repo,c._path,i,(le,Te,mt)=>{let bt=null;le?S.reject(le):(bt=new vc(mt,new Io(c._repo,c._path),is),S.resolve(new Zv(Te,bt)))},z,g),S.promise}(this._delegate,i,{applyLocally:d}).then(S=>new bv(S.committed,new ch(this.database,S.snapshot)));return o&&g.then(S=>o(null,S.committed,S.snapshot),S=>o(S,!1,null)),g}setPriority(i,o){(0,Ze.Dv)("Reference.setPriority",1,2,arguments.length),(0,Ze.Wj)("Reference.setPriority","onComplete",o,!0);const d=function rg(c,i){c=(0,Ze.m9)(c),pc("setPriority",c._path),iv("setPriority",i,!1);const o=new Ze.BH;return Jm(c._repo,Gr(c._path,".priority"),i,null,o.wrapCallback(()=>{})),o.promise}(this._delegate,i);return o&&d.then(()=>o(null),g=>o(g)),d}push(i,o){(0,Ze.Dv)("Reference.push",0,2,arguments.length),(0,Ze.Wj)("Reference.push","onComplete",o,!0);const d=function cv(c,i){c=(0,Ze.m9)(c),pc("push",c._path),fc("push",i,c._path,!0);const o=Xm(c._repo),d=kh(o),g=yc(c,d),S=yc(c,d);let P;return P=null!=i?op(S,i).then(()=>S):Promise.resolve(S),g.then=P.then.bind(P),g.catch=P.then.bind(P,void 0),g}(this._delegate,i),g=d.then(P=>new ul(this.database,P));o&&g.then(()=>o(null),P=>o(P));const S=new ul(this.database,d);return S.then=g.then.bind(g),S.catch=g.catch.bind(g,void 0),S}onDisconnect(){return pc("Reference.onDisconnect",this._delegate._path),new w_(new u_(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class cp{constructor(i,o){this._delegate=i,this.app=o,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:tu,forceLongPolling:nu}}useEmulator(i,o,d={}){!function fg(c,i,o,d={}){(c=(0,Ze.m9)(c))._checkNotDeleted("useEmulator"),c._instanceStarted&&mo("Cannot call useEmulator() after instance has already been initialized.");const g=c._repoInternal;let S;if(g.repoInfo_.nodeAdmin)d.mockUserToken&&mo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),S=new bh(bh.OWNER);else if(d.mockUserToken){const P="string"==typeof d.mockUserToken?d.mockUserToken:(0,Ze.Sg)(d.mockUserToken,c.app.options.projectId);S=new bh(P)}!function Jh(c,i,o,d){c.repoInfo_=new Fc(`${i}:${o}`,!1,c.repoInfo_.namespace,c.repoInfo_.webSocketOnly,c.repoInfo_.nodeAdmin,c.repoInfo_.persistenceKey,c.repoInfo_.includeNamespaceInQueryParams),d&&(c.authTokenProvider_=d)}(g,i,o,S)}(this._delegate,i,o,d)}ref(i){if((0,Ze.Dv)("database.ref",0,1,arguments.length),i instanceof ul){const o=sp(this._delegate,i.toString());return new ul(this,o)}{const o=rp(this._delegate,i);return new ul(this,o)}}refFromURL(i){(0,Ze.Dv)("database.refFromURL",1,1,arguments.length);const d=sp(this._delegate,i);return new ul(this,d)}goOffline(){return(0,Ze.Dv)("database.goOffline",0,0,arguments.length),function gv(c){(c=(0,Ze.m9)(c))._checkNotDeleted("goOffline"),eg(c._repo)}(this._delegate)}goOnline(){return(0,Ze.Dv)("database.goOnline",0,0,arguments.length),function Yv(c){(c=(0,Ze.m9)(c))._checkNotDeleted("goOnline"),function Jr(c){c.persistentConnection_&&c.persistentConnection_.resume(Gh)}(c._repo)}(this._delegate)}}cp.ServerValue={TIMESTAMP:function Pu(){return v_}(),increment:c=>function y_(c){return{".sv":{increment:c}}}(c)};var mg=Object.freeze({__proto__:null,initStandalone:function Cv({app:c,url:i,version:o,customAuthImpl:d,namespace:g,nodeAdmin:S=!1}){Rc(o);const P=new fr.zt("auth-internal",new fr.H0("database-standalone"));return P.setComponent(new fr.wA("auth-internal",()=>d,"PRIVATE")),{instance:new cp(dg(c,P,void 0,i,S),c),namespace:g}}});const wv=cp.ServerValue;function Ev(c){return null==c}function Sv(c){return"function"==typeof c.set}function E_(c,i){return Sv(i)?i:c.ref(i)}function om(c,i){if(function sm(c){return"string"==typeof c}(c))return i.stringCase();if(Sv(c))return i.firebaseCase();if(function D_(c){return"function"==typeof c.exportVal}(c))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof c)}function am(c,i,o="on",d=ol.P){return new xe.y(g=>{let S=null;return S=c[o](i,(P,z)=>{d.schedule(()=>{g.next({snapshot:P,prevKey:z})}),"once"===o&&d.schedule(()=>g.complete())},P=>{d.schedule(()=>g.error(P))}),"on"===o?{unsubscribe(){null!=S&&c.off(i,S)}}:{unsubscribe(){}}}).pipe((0,Xn.U)(g=>{const{snapshot:S,prevKey:P}=g;let z=null;return S.exists()&&(z=S.key),{type:i,payload:S,prevKey:P,key:z}}),(0,du.B)())}function S_(c,i){const o=c.length;for(let d=0;d<o;d++)if(c[d].payload.key===i)return d;return-1}function bc(c,i){const{payload:o,prevKey:d,key:g}=i,S=S_(c,g),P=function ef(c,i){if(Ev(i))return 0;{const o=S_(c,i);return-1===o?c.length:o+1}}(c,d);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let z=null;i.payload.forEach(le=>{const Te={payload:le,type:"value",prevKey:z,key:le.key};return z=le.key,c=[...c,Te],!1})}return c;case"child_added":if(S>-1){const z=c[S-1];(z&&z.key||null)!==d&&(c=c.filter(le=>le.payload.key!==o.key)).splice(P,0,i)}else{if(null==d)return[i,...c];(c=c.slice()).splice(P,0,i)}return c;case"child_removed":return c.filter(z=>z.payload.key!==o.key);case"child_changed":return c.map(z=>z.payload.key===g?i:z);case"child_moved":if(S>-1){const z=c.splice(S,1)[0];return(c=c.slice()).splice(P,0,z),c}return c;default:return c}}function Ka(c){return(Ev(c)||0===c.length)&&(c=["child_added","child_removed","child_changed","child_moved"]),c}function T_(c,i,o){return function Tv(c,i,o){return am(c,"value","once",o).pipe((0,Pi.w)(d=>{const g=[(0,ct.of)(d)];return i.forEach(S=>g.push(am(c,S,"on",o))),(0,Od.T)(...g).pipe((0,hu.R)(bc,[]))}),(0,Cg.x)())}(c,i=Ka(i),o)}function M_(c,i,o){const d=(i=Ka(i)).map(g=>am(c,g,"on",o));return(0,Od.T)(...d)}function I_(c,i){return function(d,g){return om(d,{stringCase:()=>c.child(d)[i](g),firebaseCase:()=>d[i](g),snapshotCase:()=>d.ref[i](g)})}}function gg(c){return function(o){return o?om(o,{stringCase:()=>c.child(o).remove(),firebaseCase:()=>o.remove(),snapshotCase:()=>o.ref.remove()}):c.remove()}}function Dd(c,i){return function(){return am(c,"value","on",i)}}!function Dv(c){c.INTERNAL.registerComponent(new fr.wA("database-compat",(i,{instanceIdentifier:o})=>{const d=i.getProvider("app-compat").getImmediate(),g=i.getProvider("database").getImmediate({identifier:o});return new cp(g,d)},"PUBLIC").setServiceProps({Reference:ul,Query:ka,Database:cp,DataSnapshot:ch,enableLogging:Kv,INTERNAL:mg,ServerValue:wv}).setMultipleInstances(!0)),c.registerVersion("@firebase/database-compat","0.2.10")}(Gi.Z);const uh=new N.OlP("angularfire2.realtimeDatabaseURL"),Mv=new N.OlP("angularfire2.database.use-emulator");let Iv=(()=>{class c{constructor(o,d,g,S,P,z,le,Te,mt,bt,Ht,mn,Cn,s,e){this.schedulers=z;const t=le,a=(0,_e.on)(o,P,d);Te&&(0,q.nw)(a,P,mt,Ht,mn,Cn,bt,s),this.database=(0,_e.cc)(`${a.name}.database.${g}`,"AngularFireDatabase",a.name,()=>{const f=P.runOutsideAngular(()=>a.database(g||void 0));return t&&f.useEmulator(...t),f},[t])}list(o,d){const g=this.schedulers.ngZone.runOutsideAngular(()=>E_(this.database,o));let S=g;return d&&(S=d(g)),function tf(c,i){const o=i.schedulers.outsideAngular,d=i.schedulers.ngZone.run(()=>c.ref);return{query:c,update:I_(d,"update"),set:I_(d,"set"),push:g=>d.push(g),remove:gg(d),snapshotChanges:g=>T_(c,g,o).pipe(Ei.iC),stateChanges:g=>M_(c,g,o).pipe(Ei.iC),auditTrail:g=>function lm(c,i,o){return function Za(c,i,o){return function cm(c,i){return am(c,"value","on",i).pipe((0,Xn.U)(o=>{let d;return o.payload.forEach(g=>(d=g.key,!1)),{data:o,lastKeyToLoad:d}}))}(c,o).pipe(function fu(...c){return i=>{let o;return"function"==typeof c[c.length-1]&&(o=c.pop()),i.lift(new al(c,o))}}(i),(0,Xn.U)(([g,S])=>{const P=g.lastKeyToLoad,z=S.map(le=>le.key);return{actions:S,lastKeyToLoad:P,loadedKeys:z}}),function pu(c){return i=>i.lift(new Pd(c))}(g=>-1===g.loadedKeys.indexOf(g.lastKeyToLoad)),(0,Xn.U)(g=>g.actions))}(c,M_(c,i).pipe((0,hu.R)((g,S)=>[...g,S],[])),o)}(c,g,o).pipe(Ei.iC),valueChanges:(g,S)=>T_(c,g,o).pipe((0,Xn.U)(z=>z.map(le=>S&&S.idField?Object.assign(Object.assign({},le.payload.val()),{[S.idField]:le.key}):le.payload.val())),Ei.iC)}}(S,this)}object(o){return function _g(c,i){return{query:c,snapshotChanges:()=>Dd(c,i.schedulers.outsideAngular)().pipe(Ei.iC),update:o=>c.ref.update(o),set:o=>c.ref.set(o),remove:()=>c.ref.remove(),valueChanges:()=>Dd(c,i.schedulers.outsideAngular)().pipe(Ei.iC,(0,Xn.U)(d=>d.payload.exists()?d.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>E_(this.database,o)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return c.\u0275fac=function(o){return new(o||c)(N.LFG(_e.Dh),N.LFG(_e.xv,8),N.LFG(uh,8),N.LFG(N.Lbi),N.LFG(N.R0b),N.LFG(Ei.HU),N.LFG(Mv,8),N.LFG(q.zQ,8),N.LFG(q.Qv,8),N.LFG(q.L6,8),N.LFG(q._Q,8),N.LFG(q.rT,8),N.LFG(q.lh,8),N.LFG(q.f7,8),N.LFG(_h.nm,8))},c.\u0275prov=N.Yz7({token:c,factory:c.\u0275fac,providedIn:"any"}),c})(),x_=(()=>{class c{constructor(){df.Z.registerVersion("angularfire",Ei.q4.full,"rtdb-compat")}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=N.oAB({type:c}),c.\u0275inj=N.cJS({providers:[Iv]}),c})();const ru_firebase={apiKey:"AIzaSyAbfwdNhpa8YU4m8KocpAWLXnyrrso6OXQ",authDomain:"todo-list-sadad.firebaseapp.com",databaseURL:"https://todo-list-sadad.firebaseio.com",projectId:"todo-list-sadad",storageBucket:"todo-list-sadad.appspot.com",messagingSenderId:"1076791856514",appId:"1:1076791856514:web:d956369c1008674069d39b",measurementId:"G-KNGLJ9G5M9"};var dh=x(5938),xv=x(4006),Xv=x(2666),nf=x(8891),Jv=x(7185),um=x(8704);let A_=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=N.oAB({type:c,bootstrap:[W]}),c.\u0275inj=N.cJS({providers:[{provide:dh.WI,useValue:[]},{provide:dh.Bq,useValue:{hasBackdrop:!0}}],imports:[p.b2,Na,Xa,xv.u5,_e.hO.initializeApp(ru_firebase),q.ww,$l.yb,ea,x_,re.ez,xv.UX,Xv.LayoutModule,um.u,nf.m,Jv.Rh.forRoot(),Jv.Rh.forRoot({timeOut:1e4,positionClass:"toast-bottom-right",preventDuplicates:!0})]}),c})();(0,N.G48)(),p.q6().bootstrapModule(A_).catch(c=>console.error(c))},5867:(gn,_t,x)=>{"use strict";x.d(_t,{C6:()=>p.getApps,Mq:()=>p.getApp});var p=x(9681);(0,p.registerVersion)("firebase","9.13.0","app")},127:(gn,_t,x)=>{"use strict";x.d(_t,{Z:()=>p.Z});var p=x(3942);p.Z.registerVersion("firebase","9.13.0","app-compat")},5881:(gn,_t,x)=>{"use strict";x.r(_t);var p=x(5861),N=x(3942),v=x(732),ne=x(2090),we=(x(9681),x(1877),x(4859));function he(){return window}function me(){return(me=(0,p.Z)(function*(X,K,fe){var Qe;const{BuildInfo:Ct}=he();(0,v.ap)(K.sessionId,"AuthEvent did not contain a session ID");const dn=yield ht(K.sessionId),pn={};return(0,v.aq)()?pn.ibi=Ct.packageName:(0,v.ar)()?pn.apn=Ct.packageName:(0,v.as)(X,"operation-not-supported-in-this-environment"),Ct.displayName&&(pn.appDisplayName=Ct.displayName),pn.sessionId=dn,(0,v.at)(X,fe,K.type,void 0,null!==(Qe=K.eventId)&&void 0!==Qe?Qe:void 0,pn)})).apply(this,arguments)}function Ie(){return(Ie=(0,p.Z)(function*(X){const{BuildInfo:K}=he(),fe={};(0,v.aq)()?fe.iosBundleId=K.packageName:(0,v.ar)()?fe.androidPackageName=K.packageName:(0,v.as)(X,"operation-not-supported-in-this-environment"),yield(0,v.au)(X,fe)})).apply(this,arguments)}function Fe(){return(Fe=(0,p.Z)(function*(X,K,fe){const{cordova:Qe}=he();let Ct=()=>{};try{yield new Promise((dn,pn)=>{let ze=null;function He(){var De;dn();const Ce=null===(De=Qe.plugins.browsertab)||void 0===De?void 0:De.close;"function"==typeof Ce&&Ce(),"function"==typeof fe?.close&&fe.close()}function Ve(){ze||(ze=window.setTimeout(()=>{pn((0,v.aw)(X,"redirect-cancelled-by-user"))},2e3))}function je(){"visible"===document?.visibilityState&&Ve()}K.addPassiveListener(He),document.addEventListener("resume",Ve,!1),(0,v.ar)()&&document.addEventListener("visibilitychange",je,!1),Ct=()=>{K.removePassiveListener(He),document.removeEventListener("resume",Ve,!1),document.removeEventListener("visibilitychange",je,!1),ze&&window.clearTimeout(ze)}})}finally{Ct()}})).apply(this,arguments)}function ht(X){return jt.apply(this,arguments)}function jt(){return(jt=(0,p.Z)(function*(X){const K=ut(X),fe=yield crypto.subtle.digest("SHA-256",K);return Array.from(new Uint8Array(fe)).map(Ct=>Ct.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ut(X){if((0,v.ap)(/[0-9a-zA-Z]+/.test(X),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(X);const K=new ArrayBuffer(X.length),fe=new Uint8Array(K);for(let Qe=0;Qe<X.length;Qe++)fe[Qe]=X.charCodeAt(Qe);return fe}class vt extends v.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(K=>{this.resolveInialized=K})}addPassiveListener(K){this.passiveListeners.add(K)}removePassiveListener(K){this.passiveListeners.delete(K)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(K){return this.resolveInialized(),this.passiveListeners.forEach(fe=>fe(K)),super.onEvent(K)}initialized(){var K=this;return(0,p.Z)(function*(){yield K.initPromise})()}}function ft(X){return tt.apply(this,arguments)}function tt(){return(tt=(0,p.Z)(function*(X){const K=yield Ge()._get(Ot(X));return K&&(yield Ge()._remove(Ot(X))),K})).apply(this,arguments)}function Lt(){const X=[],K="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let fe=0;fe<20;fe++){const Qe=Math.floor(Math.random()*K.length);X.push(K.charAt(Qe))}return X.join("")}function Ge(){return(0,v.az)(v.b)}function Ot(X){return(0,v.aA)("authEvent",X.config.apiKey,X.name)}function qn(X){if(!X?.includes("?"))return{};const[K,...fe]=X.split("?");return(0,ne.zd)(fe.join("?"))}function rn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,v.aw)("no-auth-event")}}function Ke(){var X;return(null===(X=self?.location)||void 0===X?void 0:X.protocol)||null}function en(X=(0,ne.z$)()){return!("file:"!==Ke()&&"ionic:"!==Ke()&&"capacitor:"!==Ke()||!X.toLowerCase().match(/iphone|ipad|ipod|android/))}function $t(){try{const X=self.localStorage,K=v.aI();if(X)return X.setItem(K,"1"),X.removeItem(K),!function Mt(X=(0,ne.z$)()){return function It(){return(0,ne.w1)()&&11===document?.documentMode}()||function Qt(X=(0,ne.z$)()){return/Edge\/\d+/.test(X)}(X)}()||(0,ne.hl)()}catch{return wn()&&(0,ne.hl)()}return!1}function wn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function zt(){return(function Tt(){return"http:"===Ke()||"https:"===Ke()}()||(0,ne.ru)()||en())&&!function Ln(){return(0,ne.b$)()||(0,ne.UG)()}()&&$t()&&!wn()}function Gn(){return en()&&typeof document<"u"}function pt(){return(pt=(0,p.Z)(function*(){return!!Gn()&&new Promise(X=>{const K=setTimeout(()=>{X(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(K),X(!0)})})})).apply(this,arguments)}const de={LOCAL:"local",NONE:"none",SESSION:"session"},Pe=v.ax,ce="persistence";function be(X){return We.apply(this,arguments)}function We(){return(We=(0,p.Z)(function*(X){yield X._initializationPromise;const K=Nt(),fe=v.aA(ce,X.config.apiKey,X.name);K&&K.setItem(fe,X._getPersistence())})).apply(this,arguments)}function Nt(){var X;try{return(null===(X=function J(){return typeof window<"u"?window:null}())||void 0===X?void 0:X.sessionStorage)||null}catch{return null}}const Yt=v.ax;class Sn{constructor(){this.browserResolver=v.az(v.k),this.cordovaResolver=v.az(class ai{constructor(){this._redirectPersistence=v.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=v.aB,this._overrideRedirectResult=v.aC}_initialize(K){var fe=this;return(0,p.Z)(function*(){const Qe=K._key();let Ct=fe.eventManagers.get(Qe);return Ct||(Ct=new vt(K),fe.eventManagers.set(Qe,Ct),fe.attachCallbackListeners(K,Ct)),Ct})()}_openPopup(K){(0,v.as)(K,"operation-not-supported-in-this-environment")}_openRedirect(K,fe,Qe,Ct){var dn=this;return(0,p.Z)(function*(){!function ot(X){var K,fe,Qe,Ct,dn,pn,ze,He,Ve,je;const De=he();(0,v.ax)("function"==typeof(null===(K=De?.universalLinks)||void 0===K?void 0:K.subscribe),X,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,v.ax)(typeof(null===(fe=De?.BuildInfo)||void 0===fe?void 0:fe.packageName)<"u",X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,v.ax)("function"==typeof(null===(dn=null===(Ct=null===(Qe=De?.cordova)||void 0===Qe?void 0:Qe.plugins)||void 0===Ct?void 0:Ct.browsertab)||void 0===dn?void 0:dn.openUrl),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,v.ax)("function"==typeof(null===(He=null===(ze=null===(pn=De?.cordova)||void 0===pn?void 0:pn.plugins)||void 0===ze?void 0:ze.browsertab)||void 0===He?void 0:He.isAvailable),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,v.ax)("function"==typeof(null===(je=null===(Ve=De?.cordova)||void 0===Ve?void 0:Ve.InAppBrowser)||void 0===je?void 0:je.open),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(K);const pn=yield dn._initialize(K);yield pn.initialized(),pn.resetRedirect(),(0,v.aD)(),yield dn._originValidation(K);const ze=function et(X,K,fe=null){return{type:K,eventId:fe,urlResponse:null,sessionId:Lt(),postBody:null,tenantId:X.tenantId,error:(0,v.aw)(X,"no-auth-event")}}(K,Qe,Ct);yield function Le(X,K){return Ge()._set(Ot(X),K)}(K,ze);const He=yield function ae(X,K,fe){return me.apply(this,arguments)}(K,ze,fe),Ve=yield function Ue(X){const{cordova:K}=he();return new Promise(fe=>{K.plugins.browsertab.isAvailable(Qe=>{let Ct=null;Qe?K.plugins.browsertab.openUrl(X):Ct=K.InAppBrowser.open(X,(0,v.av)()?"_blank":"_system","location=yes"),fe(Ct)})})}(He);return function Je(X,K,fe){return Fe.apply(this,arguments)}(K,pn,Ve)})()}_isIframeWebStorageSupported(K,fe){throw new Error("Method not implemented.")}_originValidation(K){const fe=K._key();return this.originValidationPromises[fe]||(this.originValidationPromises[fe]=function ye(X){return Ie.apply(this,arguments)}(K)),this.originValidationPromises[fe]}attachCallbackListeners(K,fe){const{universalLinks:Qe,handleOpenURL:Ct,BuildInfo:dn}=he(),pn=setTimeout((0,p.Z)(function*(){yield ft(K),fe.onEvent(rn())}),500),ze=function(){var je=(0,p.Z)(function*(De){clearTimeout(pn);const Ce=yield ft(K);let rt=null;Ce&&De?.url&&(rt=function qe(X,K){var fe,Qe;const Ct=function bn(X){const K=qn(X),fe=K.link?decodeURIComponent(K.link):void 0,Qe=qn(fe).link,Ct=K.deep_link_id?decodeURIComponent(K.deep_link_id):void 0;return qn(Ct).link||Ct||Qe||fe||X}(K);if(Ct.includes("/__/auth/callback")){const dn=qn(Ct),pn=dn.firebaseError?function Bt(X){try{return JSON.parse(X)}catch{return null}}(decodeURIComponent(dn.firebaseError)):null,ze=null===(Qe=null===(fe=pn?.code)||void 0===fe?void 0:fe.split("auth/"))||void 0===Qe?void 0:Qe[1],He=ze?(0,v.aw)(ze):null;return He?{type:X.type,eventId:X.eventId,tenantId:X.tenantId,error:He,urlResponse:null,sessionId:null,postBody:null}:{type:X.type,eventId:X.eventId,tenantId:X.tenantId,sessionId:X.sessionId,urlResponse:Ct,postBody:null}}return null}(Ce,De.url)),fe.onEvent(rt||rn())});return function(Ce){return je.apply(this,arguments)}}();typeof Qe<"u"&&"function"==typeof Qe.subscribe&&Qe.subscribe(null,ze);const He=Ct,Ve=`${dn.packageName.toLowerCase()}://`;he().handleOpenURL=function(){var je=(0,p.Z)(function*(De){if(De.toLowerCase().startsWith(Ve)&&ze({url:De}),"function"==typeof He)try{He(De)}catch(Ce){console.error(Ce)}});return function(De){return je.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=v.a,this._completeRedirectFn=v.aB,this._overrideRedirectResult=v.aC}_initialize(K){var fe=this;return(0,p.Z)(function*(){return yield fe.selectUnderlyingResolver(),fe.assertedUnderlyingResolver._initialize(K)})()}_openPopup(K,fe,Qe,Ct){var dn=this;return(0,p.Z)(function*(){return yield dn.selectUnderlyingResolver(),dn.assertedUnderlyingResolver._openPopup(K,fe,Qe,Ct)})()}_openRedirect(K,fe,Qe,Ct){var dn=this;return(0,p.Z)(function*(){return yield dn.selectUnderlyingResolver(),dn.assertedUnderlyingResolver._openRedirect(K,fe,Qe,Ct)})()}_isIframeWebStorageSupported(K,fe){this.assertedUnderlyingResolver._isIframeWebStorageSupported(K,fe)}_originValidation(K){return this.assertedUnderlyingResolver._originValidation(K)}get _shouldInitProactively(){return Gn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Yt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var K=this;return(0,p.Z)(function*(){if(K.underlyingResolver)return;const fe=yield function Dn(){return pt.apply(this,arguments)}();K.underlyingResolver=fe?K.cordovaResolver:K.browserResolver})()}}function Dt(X){return X.unwrap()}function ni(X){return Ii(X)}function Ii(X){const{_tokenResponse:K}=X instanceof ne.ZR?X.customData:X;if(!K)return null;if(!(X instanceof ne.ZR)&&"temporaryProof"in K&&"phoneNumber"in K)return v.P.credentialFromResult(X);const fe=K.providerId;if(!fe||fe===v.o.PASSWORD)return null;let Qe;switch(fe){case v.o.GOOGLE:Qe=v.Q;break;case v.o.FACEBOOK:Qe=v.N;break;case v.o.GITHUB:Qe=v.T;break;case v.o.TWITTER:Qe=v.W;break;default:const{oauthIdToken:Ct,oauthAccessToken:dn,oauthTokenSecret:pn,pendingToken:ze,nonce:He}=K;return dn||pn||Ct||ze?ze?fe.startsWith("saml.")?v.aL._create(fe,ze):v.J._fromParams({providerId:fe,signInMethod:fe,pendingToken:ze,idToken:Ct,accessToken:dn}):new v.U(fe).credential({idToken:Ct,accessToken:dn,rawNonce:He}):null}return X instanceof ne.ZR?Qe.credentialFromError(X):Qe.credentialFromResult(X)}function Tn(X,K){return K.catch(fe=>{throw fe instanceof ne.ZR&&function On(X,K){var fe,Qe;const Ct=null===(fe=K.customData)||void 0===fe?void 0:fe._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Qe=K)||void 0===Qe?void 0:Qe.code))K.resolver=new Et(X,v.an(X,K));else if(Ct){const dn=Ii(K),pn=K;dn&&(pn.credential=dn,pn.tenantId=Ct.tenantId||void 0,pn.email=Ct.email||void 0,pn.phoneNumber=Ct.phoneNumber||void 0)}}(X,fe),fe}).then(fe=>{const Ct=fe.user;return{operationType:fe.operationType,credential:ni(fe),additionalUserInfo:v.al(fe),user:ln.getOrCreate(Ct)}})}function Wt(X,K){return gt.apply(this,arguments)}function gt(){return(gt=(0,p.Z)(function*(X,K){const fe=yield K;return{verificationId:fe.verificationId,confirm:Qe=>Tn(X,fe.confirm(Qe))}})).apply(this,arguments)}class Et{constructor(K,fe){this.resolver=fe,this.auth=function oi(X){return X.wrapped()}(K)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(K){return Tn(Dt(this.auth),this.resolver.resolveSignIn(K))}}class ln{constructor(K){this._delegate=K,this.multiFactor=v.ao(K)}static getOrCreate(K){return ln.USER_MAP.has(K)||ln.USER_MAP.set(K,new ln(K)),ln.USER_MAP.get(K)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(K){return this._delegate.getIdTokenResult(K)}getIdToken(K){return this._delegate.getIdToken(K)}linkAndRetrieveDataWithCredential(K){return this.linkWithCredential(K)}linkWithCredential(K){var fe=this;return(0,p.Z)(function*(){return Tn(fe.auth,v.Z(fe._delegate,K))})()}linkWithPhoneNumber(K,fe){var Qe=this;return(0,p.Z)(function*(){return Wt(Qe.auth,v.l(Qe._delegate,K,fe))})()}linkWithPopup(K){var fe=this;return(0,p.Z)(function*(){return Tn(fe.auth,v.d(fe._delegate,K,Sn))})()}linkWithRedirect(K){var fe=this;return(0,p.Z)(function*(){return yield be(v.aE(fe.auth)),v.g(fe._delegate,K,Sn)})()}reauthenticateAndRetrieveDataWithCredential(K){return this.reauthenticateWithCredential(K)}reauthenticateWithCredential(K){var fe=this;return(0,p.Z)(function*(){return Tn(fe.auth,v._(fe._delegate,K))})()}reauthenticateWithPhoneNumber(K,fe){return Wt(this.auth,v.r(this._delegate,K,fe))}reauthenticateWithPopup(K){return Tn(this.auth,v.e(this._delegate,K,Sn))}reauthenticateWithRedirect(K){var fe=this;return(0,p.Z)(function*(){return yield be(v.aE(fe.auth)),v.h(fe._delegate,K,Sn)})()}sendEmailVerification(K){return v.ab(this._delegate,K)}unlink(K){var fe=this;return(0,p.Z)(function*(){return yield v.ak(fe._delegate,K),fe})()}updateEmail(K){return v.ag(this._delegate,K)}updatePassword(K){return v.ah(this._delegate,K)}updatePhoneNumber(K){return v.u(this._delegate,K)}updateProfile(K){return v.af(this._delegate,K)}verifyBeforeUpdateEmail(K,fe){return v.ac(this._delegate,K,fe)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ln.USER_MAP=new WeakMap;const fn=v.ax;let lt=(()=>{class X{constructor(fe,Qe){if(this.app=fe,Qe.isInitialized())return this._delegate=Qe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ct}=fe.options;fn(Ct,"invalid-api-key",{appName:fe.name}),fn(Ct,"invalid-api-key",{appName:fe.name});const dn=typeof window<"u"?Sn:void 0;this._delegate=Qe.initialize({options:{persistence:Xe(Ct,fe.name),popupRedirectResolver:dn}}),this._delegate._updateErrorMap(v.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ln.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(fe){this._delegate.languageCode=fe}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(fe){this._delegate.tenantId=fe}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(fe,Qe){v.G(this._delegate,fe,Qe)}applyActionCode(fe){return v.a2(this._delegate,fe)}checkActionCode(fe){return v.a3(this._delegate,fe)}confirmPasswordReset(fe,Qe){return v.a1(this._delegate,fe,Qe)}createUserWithEmailAndPassword(fe,Qe){var Ct=this;return(0,p.Z)(function*(){return Tn(Ct._delegate,v.a5(Ct._delegate,fe,Qe))})()}fetchProvidersForEmail(fe){return this.fetchSignInMethodsForEmail(fe)}fetchSignInMethodsForEmail(fe){return v.aa(this._delegate,fe)}isSignInWithEmailLink(fe){return v.a8(this._delegate,fe)}getRedirectResult(){var fe=this;return(0,p.Z)(function*(){fn(zt(),fe._delegate,"operation-not-supported-in-this-environment");const Qe=yield v.j(fe._delegate,Sn);return Qe?Tn(fe._delegate,Promise.resolve(Qe)):{credential:null,user:null}})()}addFrameworkForLogging(fe){!function _n(X,K){(0,v.aE)(X)._logFramework(K)}(this._delegate,fe)}onAuthStateChanged(fe,Qe,Ct){const{next:dn,error:pn,complete:ze}=st(fe,Qe,Ct);return this._delegate.onAuthStateChanged(dn,pn,ze)}onIdTokenChanged(fe,Qe,Ct){const{next:dn,error:pn,complete:ze}=st(fe,Qe,Ct);return this._delegate.onIdTokenChanged(dn,pn,ze)}sendSignInLinkToEmail(fe,Qe){return v.a7(this._delegate,fe,Qe)}sendPasswordResetEmail(fe,Qe){return v.a0(this._delegate,fe,Qe||void 0)}setPersistence(fe){var Qe=this;return(0,p.Z)(function*(){let Ct;switch(function Ye(X,K){Pe(Object.values(de).includes(K),X,"invalid-persistence-type"),(0,ne.b$)()?Pe(K!==de.SESSION,X,"unsupported-persistence-type"):(0,ne.UG)()?Pe(K===de.NONE,X,"unsupported-persistence-type"):wn()?Pe(K===de.NONE||K===de.LOCAL&&(0,ne.hl)(),X,"unsupported-persistence-type"):Pe(K===de.NONE||$t(),X,"unsupported-persistence-type")}(Qe._delegate,fe),fe){case de.SESSION:Ct=v.a;break;case de.LOCAL:Ct=(yield v.az(v.i)._isAvailable())?v.i:v.b;break;case de.NONE:Ct=v.L;break;default:return v.as("argument-error",{appName:Qe._delegate.name})}return Qe._delegate.setPersistence(Ct)})()}signInAndRetrieveDataWithCredential(fe){return this.signInWithCredential(fe)}signInAnonymously(){return Tn(this._delegate,v.X(this._delegate))}signInWithCredential(fe){return Tn(this._delegate,v.Y(this._delegate,fe))}signInWithCustomToken(fe){return Tn(this._delegate,v.$(this._delegate,fe))}signInWithEmailAndPassword(fe,Qe){return Tn(this._delegate,v.a6(this._delegate,fe,Qe))}signInWithEmailLink(fe,Qe){return Tn(this._delegate,v.a9(this._delegate,fe,Qe))}signInWithPhoneNumber(fe,Qe){return Wt(this._delegate,v.s(this._delegate,fe,Qe))}signInWithPopup(fe){var Qe=this;return(0,p.Z)(function*(){return fn(zt(),Qe._delegate,"operation-not-supported-in-this-environment"),Tn(Qe._delegate,v.c(Qe._delegate,fe,Sn))})()}signInWithRedirect(fe){var Qe=this;return(0,p.Z)(function*(){return fn(zt(),Qe._delegate,"operation-not-supported-in-this-environment"),yield be(Qe._delegate),v.f(Qe._delegate,fe,Sn)})()}updateCurrentUser(fe){return this._delegate.updateCurrentUser(fe)}verifyPasswordResetCode(fe){return v.a4(this._delegate,fe)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return X.Persistence=de,X})();function st(X,K,fe){let Qe=X;"function"!=typeof X&&({next:Qe,error:K,complete:fe}=X);const Ct=Qe;return{next:pn=>Ct(pn&&ln.getOrCreate(pn)),error:K,complete:fe}}function Xe(X,K){const fe=function Ut(X,K){const fe=Nt();if(!fe)return[];const Qe=v.aA(ce,X,K);switch(fe.getItem(Qe)){case de.NONE:return[v.L];case de.LOCAL:return[v.i,v.a];case de.SESSION:return[v.a];default:return[]}}(X,K);if(typeof self<"u"&&!fe.includes(v.i)&&fe.push(v.i),typeof window<"u")for(const Qe of[v.b,v.a])fe.includes(Qe)||fe.push(Qe);return fe.includes(v.L)||fe.push(v.L),fe}class St{constructor(){this.providerId="phone",this._delegate=new v.P(Dt(N.Z.auth()))}static credential(K,fe){return v.P.credential(K,fe)}verifyPhoneNumber(K,fe){return this._delegate.verifyPhoneNumber(K,fe)}unwrap(){return this._delegate}}St.PHONE_SIGN_IN_METHOD=v.P.PHONE_SIGN_IN_METHOD,St.PROVIDER_ID=v.P.PROVIDER_ID;const Gt=v.ax;class ge{constructor(K,fe,Qe=N.Z.app()){var Ct;Gt(null===(Ct=Qe.options)||void 0===Ct?void 0:Ct.apiKey,"invalid-api-key",{appName:Qe.name}),this._delegate=new v.R(K,fe,Qe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function G(X){X.INTERNAL.registerComponent(new we.wA("auth-compat",K=>{const fe=K.getProvider("app-compat").getImmediate(),Qe=K.getProvider("auth");return new lt(fe,Qe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:v.A.EMAIL_SIGNIN,PASSWORD_RESET:v.A.PASSWORD_RESET,RECOVER_EMAIL:v.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:v.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:v.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:v.A.VERIFY_EMAIL}},EmailAuthProvider:v.M,FacebookAuthProvider:v.N,GithubAuthProvider:v.T,GoogleAuthProvider:v.Q,OAuthProvider:v.U,SAMLAuthProvider:v.V,PhoneAuthProvider:St,PhoneMultiFactorGenerator:v.m,RecaptchaVerifier:ge,TwitterAuthProvider:v.W,Auth:lt,AuthCredential:v.H,Error:ne.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),X.registerVersion("@firebase/auth-compat","0.2.24")}(N.Z)},591:(gn,_t,x)=>{"use strict";x.d(_t,{X:()=>v});var p=x(8929),N=x(5279);class v extends p.xQ{constructor(C){super(),this._value=C}get value(){return this.getValue()}_subscribe(C){const te=super._subscribe(C);return te&&!te.closed&&C.next(this._value),te}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new N.N;return this._value}next(C){super.next(this._value=C)}}},1869:(gn,_t,x)=>{"use strict";x.d(_t,{d:()=>N});var p=x(3489);class N extends p.L{constructor(ne,C,te){super(),this.parent=ne,this.outerValue=C,this.outerIndex=te,this.index=0}_next(ne){this.parent.notifyNext(this.outerValue,ne,this.outerIndex,this.index++,this)}_error(ne){this.parent.notifyError(ne,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},9312:(gn,_t,x)=>{"use strict";x.d(_t,{P:()=>C});var p=x(8896),N=x(1086),v=x(1737);class C{constructor(we,he,Se){this.kind=we,this.value=he,this.error=Se,this.hasValue="N"===we}observe(we){switch(this.kind){case"N":return we.next&&we.next(this.value);case"E":return we.error&&we.error(this.error);case"C":return we.complete&&we.complete()}}do(we,he,Se){switch(this.kind){case"N":return we&&we(this.value);case"E":return he&&he(this.error);case"C":return Se&&Se()}}accept(we,he,Se){return we&&"function"==typeof we.next?this.observe(we):this.do(we,he,Se)}toObservable(){switch(this.kind){case"N":return(0,N.of)(this.value);case"E":return(0,v._)(this.error);case"C":return(0,p.c)()}throw new Error("unexpected notification kind value")}static createNext(we){return typeof we<"u"?new C("N",we):C.undefinedValueNotification}static createError(we){return new C("E",void 0,we)}static createComplete(){return C.completeNotification}}C.completeNotification=new C("C"),C.undefinedValueNotification=new C("N",void 0)},6498:(gn,_t,x)=>{"use strict";x.d(_t,{y:()=>Se});var p=x(3489),v=x(7668),ne=x(3292),te=x(3821),we=x(4843),he=x(2830);let Se=(()=>{class me{constructor(Ie){this._isScalar=!1,Ie&&(this._subscribe=Ie)}lift(Ie){const Ue=new me;return Ue.source=this,Ue.operator=Ie,Ue}subscribe(Ie,Ue,Je){const{operator:Fe}=this,ot=function C(me,ye,Ie){if(me){if(me instanceof p.L)return me;if(me[v.b])return me[v.b]()}return me||ye||Ie?new p.L(me,ye,Ie):new p.L(ne.c)}(Ie,Ue,Je);if(ot.add(Fe?Fe.call(ot,this.source):this.source||he.v.useDeprecatedSynchronousErrorHandling&&!ot.syncErrorThrowable?this._subscribe(ot):this._trySubscribe(ot)),he.v.useDeprecatedSynchronousErrorHandling&&ot.syncErrorThrowable&&(ot.syncErrorThrowable=!1,ot.syncErrorThrown))throw ot.syncErrorValue;return ot}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(Ue){he.v.useDeprecatedSynchronousErrorHandling&&(Ie.syncErrorThrown=!0,Ie.syncErrorValue=Ue),function N(me){for(;me;){const{closed:ye,destination:Ie,isStopped:Ue}=me;if(ye||Ue)return!1;me=Ie&&Ie instanceof p.L?Ie:null}return!0}(Ie)?Ie.error(Ue):console.warn(Ue)}}forEach(Ie,Ue){return new(Ue=ae(Ue))((Je,Fe)=>{let ot;ot=this.subscribe(ht=>{try{Ie(ht)}catch(jt){Fe(jt),ot&&ot.unsubscribe()}},Fe,Je)})}_subscribe(Ie){const{source:Ue}=this;return Ue&&Ue.subscribe(Ie)}[te.L](){return this}pipe(...Ie){return 0===Ie.length?this:(0,we.U)(Ie)(this)}toPromise(Ie){return new(Ie=ae(Ie))((Ue,Je)=>{let Fe;this.subscribe(ot=>Fe=ot,ot=>Je(ot),()=>Ue(Fe))})}}return me.create=ye=>new me(ye),me})();function ae(me){if(me||(me=he.v.Promise||Promise),!me)throw new Error("no Promise impl found");return me}},3292:(gn,_t,x)=>{"use strict";x.d(_t,{c:()=>v});var p=x(2830),N=x(2782);const v={closed:!0,next(ne){},error(ne){if(p.v.useDeprecatedSynchronousErrorHandling)throw ne;(0,N.z)(ne)},complete(){}}},826:(gn,_t,x)=>{"use strict";x.d(_t,{L:()=>N});var p=x(3489);class N extends p.L{notifyNext(ne,C,te,we,he){this.destination.next(C)}notifyError(ne,C){this.destination.error(ne)}notifyComplete(ne){this.destination.complete()}}},8929:(gn,_t,x)=>{"use strict";x.d(_t,{Yc:()=>we,xQ:()=>he});var p=x(6498),N=x(3489),v=x(2654),ne=x(5279),C=x(5283),te=x(7668);class we extends N.L{constructor(me){super(me),this.destination=me}}let he=(()=>{class ae extends p.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[te.b](){return new we(this)}lift(ye){const Ie=new Se(this,this);return Ie.operator=ye,Ie}next(ye){if(this.closed)throw new ne.N;if(!this.isStopped){const{observers:Ie}=this,Ue=Ie.length,Je=Ie.slice();for(let Fe=0;Fe<Ue;Fe++)Je[Fe].next(ye)}}error(ye){if(this.closed)throw new ne.N;this.hasError=!0,this.thrownError=ye,this.isStopped=!0;const{observers:Ie}=this,Ue=Ie.length,Je=Ie.slice();for(let Fe=0;Fe<Ue;Fe++)Je[Fe].error(ye);this.observers.length=0}complete(){if(this.closed)throw new ne.N;this.isStopped=!0;const{observers:ye}=this,Ie=ye.length,Ue=ye.slice();for(let Je=0;Je<Ie;Je++)Ue[Je].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ye){if(this.closed)throw new ne.N;return super._trySubscribe(ye)}_subscribe(ye){if(this.closed)throw new ne.N;return this.hasError?(ye.error(this.thrownError),v.w.EMPTY):this.isStopped?(ye.complete(),v.w.EMPTY):(this.observers.push(ye),new C.W(this,ye))}asObservable(){const ye=new p.y;return ye.source=this,ye}}return ae.create=(me,ye)=>new Se(me,ye),ae})();class Se extends he{constructor(me,ye){super(),this.destination=me,this.source=ye}next(me){const{destination:ye}=this;ye&&ye.next&&ye.next(me)}error(me){const{destination:ye}=this;ye&&ye.error&&this.destination.error(me)}complete(){const{destination:me}=this;me&&me.complete&&this.destination.complete()}_subscribe(me){const{source:ye}=this;return ye?this.source.subscribe(me):v.w.EMPTY}}},5283:(gn,_t,x)=>{"use strict";x.d(_t,{W:()=>N});var p=x(2654);class N extends p.w{constructor(ne,C){super(),this.subject=ne,this.subscriber=C,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ne=this.subject,C=ne.observers;if(this.subject=null,!C||0===C.length||ne.isStopped||ne.closed)return;const te=C.indexOf(this.subscriber);-1!==te&&C.splice(te,1)}}},3489:(gn,_t,x)=>{"use strict";x.d(_t,{L:()=>we});var p=x(7043),N=x(3292),v=x(2654),ne=x(7668),C=x(2830),te=x(2782);class we extends v.w{constructor(ae,me,ye){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=N.c;break;case 1:if(!ae){this.destination=N.c;break}if("object"==typeof ae){ae instanceof we?(this.syncErrorThrowable=ae.syncErrorThrowable,this.destination=ae,ae.add(this)):(this.syncErrorThrowable=!0,this.destination=new he(this,ae));break}default:this.syncErrorThrowable=!0,this.destination=new he(this,ae,me,ye)}}[ne.b](){return this}static create(ae,me,ye){const Ie=new we(ae,me,ye);return Ie.syncErrorThrowable=!1,Ie}next(ae){this.isStopped||this._next(ae)}error(ae){this.isStopped||(this.isStopped=!0,this._error(ae))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(ae){this.destination.next(ae)}_error(ae){this.destination.error(ae),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:ae}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=ae,this}}class he extends we{constructor(ae,me,ye,Ie){super(),this._parentSubscriber=ae;let Ue,Je=this;(0,p.m)(me)?Ue=me:me&&(Ue=me.next,ye=me.error,Ie=me.complete,me!==N.c&&(Je=Object.create(me),(0,p.m)(Je.unsubscribe)&&this.add(Je.unsubscribe.bind(Je)),Je.unsubscribe=this.unsubscribe.bind(this))),this._context=Je,this._next=Ue,this._error=ye,this._complete=Ie}next(ae){if(!this.isStopped&&this._next){const{_parentSubscriber:me}=this;C.v.useDeprecatedSynchronousErrorHandling&&me.syncErrorThrowable?this.__tryOrSetError(me,this._next,ae)&&this.unsubscribe():this.__tryOrUnsub(this._next,ae)}}error(ae){if(!this.isStopped){const{_parentSubscriber:me}=this,{useDeprecatedSynchronousErrorHandling:ye}=C.v;if(this._error)ye&&me.syncErrorThrowable?(this.__tryOrSetError(me,this._error,ae),this.unsubscribe()):(this.__tryOrUnsub(this._error,ae),this.unsubscribe());else if(me.syncErrorThrowable)ye?(me.syncErrorValue=ae,me.syncErrorThrown=!0):(0,te.z)(ae),this.unsubscribe();else{if(this.unsubscribe(),ye)throw ae;(0,te.z)(ae)}}}complete(){if(!this.isStopped){const{_parentSubscriber:ae}=this;if(this._complete){const me=()=>this._complete.call(this._context);C.v.useDeprecatedSynchronousErrorHandling&&ae.syncErrorThrowable?(this.__tryOrSetError(ae,me),this.unsubscribe()):(this.__tryOrUnsub(me),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(ae,me){try{ae.call(this._context,me)}catch(ye){if(this.unsubscribe(),C.v.useDeprecatedSynchronousErrorHandling)throw ye;(0,te.z)(ye)}}__tryOrSetError(ae,me,ye){if(!C.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{me.call(this._context,ye)}catch(Ie){return C.v.useDeprecatedSynchronousErrorHandling?(ae.syncErrorValue=Ie,ae.syncErrorThrown=!0,!0):((0,te.z)(Ie),!0)}return!1}_unsubscribe(){const{_parentSubscriber:ae}=this;this._context=null,this._parentSubscriber=null,ae.unsubscribe()}}},2654:(gn,_t,x)=>{"use strict";x.d(_t,{w:()=>te});var p=x(6688),N=x(7830),v=x(7043);const C=(()=>{function he(Se){return Error.call(this),this.message=Se?`${Se.length} errors occurred during unsubscription:\n${Se.map((ae,me)=>`${me+1}) ${ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Se,this}return he.prototype=Object.create(Error.prototype),he})();class te{constructor(Se){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Se&&(this._unsubscribe=Se)}unsubscribe(){let Se;if(this.closed)return;let{_parentOrParents:ae,_unsubscribe:me,_subscriptions:ye}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,ae instanceof te)ae.remove(this);else if(null!==ae)for(let Ie=0;Ie<ae.length;++Ie)ae[Ie].remove(this);if((0,v.m)(me))try{me.call(this)}catch(Ie){Se=Ie instanceof C?we(Ie.errors):[Ie]}if((0,p.k)(ye)){let Ie=-1,Ue=ye.length;for(;++Ie<Ue;){const Je=ye[Ie];if((0,N.K)(Je))try{Je.unsubscribe()}catch(Fe){Se=Se||[],Fe instanceof C?Se=Se.concat(we(Fe.errors)):Se.push(Fe)}}}if(Se)throw new C(Se)}add(Se){let ae=Se;if(!Se)return te.EMPTY;switch(typeof Se){case"function":ae=new te(Se);case"object":if(ae===this||ae.closed||"function"!=typeof ae.unsubscribe)return ae;if(this.closed)return ae.unsubscribe(),ae;if(!(ae instanceof te)){const Ie=ae;ae=new te,ae._subscriptions=[Ie]}break;default:throw new Error("unrecognized teardown "+Se+" added to Subscription.")}let{_parentOrParents:me}=ae;if(null===me)ae._parentOrParents=this;else if(me instanceof te){if(me===this)return ae;ae._parentOrParents=[me,this]}else{if(-1!==me.indexOf(this))return ae;me.push(this)}const ye=this._subscriptions;return null===ye?this._subscriptions=[ae]:ye.push(ae),ae}remove(Se){const ae=this._subscriptions;if(ae){const me=ae.indexOf(Se);-1!==me&&ae.splice(me,1)}}}var he;function we(he){return he.reduce((Se,ae)=>Se.concat(ae instanceof C?ae.errors:ae),[])}te.EMPTY=((he=new te).closed=!0,he)},2830:(gn,_t,x)=>{"use strict";x.d(_t,{v:()=>N});let p=!1;const N={Promise:void 0,set useDeprecatedSynchronousErrorHandling(v){if(v){const ne=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ne.stack)}else p&&console.log("RxJS: Back to a better error behavior. Thank you. <3");p=v},get useDeprecatedSynchronousErrorHandling(){return p}}},1762:(gn,_t,x)=>{"use strict";x.d(_t,{N:()=>te,c:()=>C});var p=x(8929),N=x(6498),v=x(2654),ne=x(4327);class C extends N.y{constructor(me,ye){super(),this.source=me,this.subjectFactory=ye,this._refCount=0,this._isComplete=!1}_subscribe(me){return this.getSubject().subscribe(me)}getSubject(){const me=this._subject;return(!me||me.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let me=this._connection;return me||(this._isComplete=!1,me=this._connection=new v.w,me.add(this.source.subscribe(new we(this.getSubject(),this))),me.closed&&(this._connection=null,me=v.w.EMPTY)),me}refCount(){return(0,ne.x)()(this)}}const te=(()=>{const ae=C.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ae._subscribe},_isComplete:{value:ae._isComplete,writable:!0},getSubject:{value:ae.getSubject},connect:{value:ae.connect},refCount:{value:ae.refCount}}})();class we extends p.Yc{constructor(me,ye){super(me),this.connectable=ye}_error(me){this._unsubscribe(),super._error(me)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const me=this.connectable;if(me){this.connectable=null;const ye=me._connection;me._refCount=0,me._subject=null,me._connection=null,ye&&ye.unsubscribe()}}}},6053:(gn,_t,x)=>{"use strict";x.d(_t,{aj:()=>we});var p=x(2866),N=x(6688),v=x(826),ne=x(9054),C=x(3009);const te={};function we(...ae){let me=null,ye=null;return(0,p.K)(ae[ae.length-1])&&(ye=ae.pop()),"function"==typeof ae[ae.length-1]&&(me=ae.pop()),1===ae.length&&(0,N.k)(ae[0])&&(ae=ae[0]),(0,C.n)(ae,ye).lift(new he(me))}class he{constructor(me){this.resultSelector=me}call(me,ye){return ye.subscribe(new Se(me,this.resultSelector))}}class Se extends v.L{constructor(me,ye){super(me),this.resultSelector=ye,this.active=0,this.values=[],this.observables=[]}_next(me){this.values.push(te),this.observables.push(me)}_complete(){const me=this.observables,ye=me.length;if(0===ye)this.destination.complete();else{this.active=ye,this.toRespond=ye;for(let Ie=0;Ie<ye;Ie++){const Ue=me[Ie];this.add((0,ne.D)(this,Ue,Ue,Ie))}}}notifyComplete(me){0==(this.active-=1)&&this.destination.complete()}notifyNext(me,ye,Ie,Ue,Je){const Fe=this.values,ht=this.toRespond?Fe[Ie]===te?--this.toRespond:this.toRespond:0;Fe[Ie]=ye,0===ht&&(this.resultSelector?this._tryResultSelector(Fe):this.destination.next(Fe.slice()))}_tryResultSelector(me){let ye;try{ye=this.resultSelector.apply(this,me)}catch(Ie){return void this.destination.error(Ie)}this.destination.next(ye)}}},1221:(gn,_t,x)=>{"use strict";x.d(_t,{z:()=>ne});var p=x(1086),N=x(9146);function ne(...C){return function v(){return(0,N.J)(1)}()((0,p.of)(...C))}},8514:(gn,_t,x)=>{"use strict";x.d(_t,{P:()=>ne});var p=x(6498),N=x(5254),v=x(8896);function ne(C){return new p.y(te=>{let we;try{we=C()}catch(Se){return void te.error(Se)}return(we?(0,N.D)(we):(0,v.c)()).subscribe(te)})}},8896:(gn,_t,x)=>{"use strict";x.d(_t,{E:()=>N,c:()=>v});var p=x(6498);const N=new p.y(C=>C.complete());function v(C){return C?function ne(C){return new p.y(te=>C.schedule(()=>te.complete()))}(C):N}},567:(gn,_t,x)=>{"use strict";x.d(_t,{D:()=>te});var p=x(6498),N=x(6688),v=x(4850),ne=x(7830),C=x(5254);function te(...he){if(1===he.length){const Se=he[0];if((0,N.k)(Se))return we(Se,null);if((0,ne.K)(Se)&&Object.getPrototypeOf(Se)===Object.prototype){const ae=Object.keys(Se);return we(ae.map(me=>Se[me]),ae)}}if("function"==typeof he[he.length-1]){const Se=he.pop();return we(he=1===he.length&&(0,N.k)(he[0])?he[0]:he,null).pipe((0,v.U)(ae=>Se(...ae)))}return we(he,null)}function we(he,Se){return new p.y(ae=>{const me=he.length;if(0===me)return void ae.complete();const ye=new Array(me);let Ie=0,Ue=0;for(let Je=0;Je<me;Je++){const Fe=(0,C.D)(he[Je]);let ot=!1;ae.add(Fe.subscribe({next:ht=>{ot||(ot=!0,Ue++),ye[Je]=ht},error:ht=>ae.error(ht),complete:()=>{Ie++,(Ie===me||!ot)&&(Ue===me&&ae.next(Se?Se.reduce((ht,jt,ut)=>(ht[jt]=ye[ut],ht),{}):ye),ae.complete())}}))}})}},5254:(gn,_t,x)=>{"use strict";x.d(_t,{D:()=>Je});var p=x(6498),N=x(9249),v=x(2654),ne=x(3821),we=x(6454),he=x(5430),me=x(8955),ye=x(8515);function Je(Fe,ot){return ot?function Ue(Fe,ot){if(null!=Fe){if(function ae(Fe){return Fe&&"function"==typeof Fe[ne.L]}(Fe))return function C(Fe,ot){return new p.y(ht=>{const jt=new v.w;return jt.add(ot.schedule(()=>{const ut=Fe[ne.L]();jt.add(ut.subscribe({next(kt){jt.add(ot.schedule(()=>ht.next(kt)))},error(kt){jt.add(ot.schedule(()=>ht.error(kt)))},complete(){jt.add(ot.schedule(()=>ht.complete()))}}))})),jt})}(Fe,ot);if((0,me.t)(Fe))return function te(Fe,ot){return new p.y(ht=>{const jt=new v.w;return jt.add(ot.schedule(()=>Fe.then(ut=>{jt.add(ot.schedule(()=>{ht.next(ut),jt.add(ot.schedule(()=>ht.complete()))}))},ut=>{jt.add(ot.schedule(()=>ht.error(ut)))}))),jt})}(Fe,ot);if((0,ye.z)(Fe))return(0,we.r)(Fe,ot);if(function Ie(Fe){return Fe&&"function"==typeof Fe[he.hZ]}(Fe)||"string"==typeof Fe)return function Se(Fe,ot){if(!Fe)throw new Error("Iterable cannot be null");return new p.y(ht=>{const jt=new v.w;let ut;return jt.add(()=>{ut&&"function"==typeof ut.return&&ut.return()}),jt.add(ot.schedule(()=>{ut=Fe[he.hZ](),jt.add(ot.schedule(function(){if(ht.closed)return;let kt,vt;try{const et=ut.next();kt=et.value,vt=et.done}catch(et){return void ht.error(et)}vt?ht.complete():(ht.next(kt),this.schedule())}))})),jt})}(Fe,ot)}throw new TypeError((null!==Fe&&typeof Fe||Fe)+" is not observable")}(Fe,ot):Fe instanceof p.y?Fe:new p.y((0,N.s)(Fe))}},3009:(gn,_t,x)=>{"use strict";x.d(_t,{n:()=>ne});var p=x(6498),N=x(3650),v=x(6454);function ne(C,te){return te?(0,v.r)(C,te):new p.y((0,N.V)(C))}},3753:(gn,_t,x)=>{"use strict";x.d(_t,{R:()=>te});var p=x(6498),N=x(6688),v=x(7043),ne=x(4850);function te(me,ye,Ie,Ue){return(0,v.m)(Ie)&&(Ue=Ie,Ie=void 0),Ue?te(me,ye,Ie).pipe((0,ne.U)(Je=>(0,N.k)(Je)?Ue(...Je):Ue(Je))):new p.y(Je=>{we(me,ye,function Fe(ot){Je.next(arguments.length>1?Array.prototype.slice.call(arguments):ot)},Je,Ie)})}function we(me,ye,Ie,Ue,Je){let Fe;if(function ae(me){return me&&"function"==typeof me.addEventListener&&"function"==typeof me.removeEventListener}(me)){const ot=me;me.addEventListener(ye,Ie,Je),Fe=()=>ot.removeEventListener(ye,Ie,Je)}else if(function Se(me){return me&&"function"==typeof me.on&&"function"==typeof me.off}(me)){const ot=me;me.on(ye,Ie),Fe=()=>ot.off(ye,Ie)}else if(function he(me){return me&&"function"==typeof me.addListener&&"function"==typeof me.removeListener}(me)){const ot=me;me.addListener(ye,Ie),Fe=()=>ot.removeListener(ye,Ie)}else{if(!me||!me.length)throw new TypeError("Invalid event target");for(let ot=0,ht=me.length;ot<ht;ot++)we(me[ot],ye,Ie,Ue,Je)}Ue.add(Fe)}},6787:(gn,_t,x)=>{"use strict";x.d(_t,{T:()=>C});var p=x(6498),N=x(2866),v=x(9146),ne=x(3009);function C(...te){let we=Number.POSITIVE_INFINITY,he=null,Se=te[te.length-1];return(0,N.K)(Se)?(he=te.pop(),te.length>1&&"number"==typeof te[te.length-1]&&(we=te.pop())):"number"==typeof Se&&(we=te.pop()),null===he&&1===te.length&&te[0]instanceof p.y?te[0]:(0,v.J)(we)((0,ne.n)(te,he))}},1086:(gn,_t,x)=>{"use strict";x.d(_t,{of:()=>ne});var p=x(2866),N=x(3009),v=x(6454);function ne(...C){let te=C[C.length-1];return(0,p.K)(te)?(C.pop(),(0,v.r)(C,te)):(0,N.n)(C)}},1737:(gn,_t,x)=>{"use strict";x.d(_t,{_:()=>N});var p=x(6498);function N(ne,C){return new p.y(C?te=>C.schedule(v,0,{error:ne,subscriber:te}):te=>te.error(ne))}function v({error:ne,subscriber:C}){C.error(ne)}},7221:(gn,_t,x)=>{"use strict";x.d(_t,{K:()=>ne});var p=x(826),N=x(1869),v=x(9054);function ne(we){return function(Se){const ae=new C(we),me=Se.lift(ae);return ae.caught=me}}class C{constructor(he){this.selector=he}call(he,Se){return Se.subscribe(new te(he,this.selector,this.caught))}}class te extends p.L{constructor(he,Se,ae){super(he),this.selector=Se,this.caught=ae}error(he){if(!this.isStopped){let Se;try{Se=this.selector(he,this.caught)}catch(ye){return void super.error(ye)}this._unsubscribeAndRecycle();const ae=new N.d(this,void 0,void 0);this.add(ae);const me=(0,v.D)(this,Se,void 0,void 0,ae);me!==ae&&this.add(me)}}}},1406:(gn,_t,x)=>{"use strict";x.d(_t,{b:()=>N});var p=x(1709);function N(v,ne){return(0,p.zg)(v,ne,1)}},13:(gn,_t,x)=>{"use strict";x.d(_t,{b:()=>v});var p=x(3489),N=x(353);function v(we,he=N.P){return Se=>Se.lift(new ne(we,he))}class ne{constructor(he,Se){this.dueTime=he,this.scheduler=Se}call(he,Se){return Se.subscribe(new C(he,this.dueTime,this.scheduler))}}class C extends p.L{constructor(he,Se,ae){super(he),this.dueTime=Se,this.scheduler=ae,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(he){this.clearDebounce(),this.lastValue=he,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(te,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:he}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(he)}}clearDebounce(){const he=this.debouncedSubscription;null!==he&&(this.remove(he),he.unsubscribe(),this.debouncedSubscription=null)}}function te(we){we.debouncedNext()}},7314:(gn,_t,x)=>{"use strict";x.d(_t,{d:()=>N});var p=x(3489);function N(C=null){return te=>te.lift(new v(C))}class v{constructor(te){this.defaultValue=te}call(te,we){return we.subscribe(new ne(te,this.defaultValue))}}class ne extends p.L{constructor(te,we){super(te),this.defaultValue=we,this.isEmpty=!0}_next(te){this.isEmpty=!1,this.destination.next(te)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},8583:(gn,_t,x)=>{"use strict";x.d(_t,{g:()=>C});var p=x(353),v=x(3489),ne=x(9312);function C(Se,ae=p.P){const ye=function N(Se){return Se instanceof Date&&!isNaN(+Se)}(Se)?+Se-ae.now():Math.abs(Se);return Ie=>Ie.lift(new te(ye,ae))}class te{constructor(ae,me){this.delay=ae,this.scheduler=me}call(ae,me){return me.subscribe(new we(ae,this.delay,this.scheduler))}}class we extends v.L{constructor(ae,me,ye){super(ae),this.delay=me,this.scheduler=ye,this.queue=[],this.active=!1,this.errored=!1}static dispatch(ae){const me=ae.source,ye=me.queue,Ie=ae.scheduler,Ue=ae.destination;for(;ye.length>0&&ye[0].time-Ie.now()<=0;)ye.shift().notification.observe(Ue);if(ye.length>0){const Je=Math.max(0,ye[0].time-Ie.now());this.schedule(ae,Je)}else this.unsubscribe(),me.active=!1}_schedule(ae){this.active=!0,this.destination.add(ae.schedule(we.dispatch,this.delay,{source:this,destination:this.destination,scheduler:ae}))}scheduleNotification(ae){if(!0===this.errored)return;const me=this.scheduler,ye=new he(me.now()+this.delay,ae);this.queue.push(ye),!1===this.active&&this._schedule(me)}_next(ae){this.scheduleNotification(ne.P.createNext(ae))}_error(ae){this.errored=!0,this.queue=[],this.destination.error(ae),this.unsubscribe()}_complete(){this.scheduleNotification(ne.P.createComplete()),this.unsubscribe()}}class he{constructor(ae,me){this.time=ae,this.notification=me}}},5778:(gn,_t,x)=>{"use strict";x.d(_t,{x:()=>N});var p=x(3489);function N(C,te){return we=>we.lift(new v(C,te))}class v{constructor(te,we){this.compare=te,this.keySelector=we}call(te,we){return we.subscribe(new ne(te,this.compare,this.keySelector))}}class ne extends p.L{constructor(te,we,he){super(te),this.keySelector=he,this.hasKey=!1,"function"==typeof we&&(this.compare=we)}compare(te,we){return te===we}_next(te){let we;try{const{keySelector:Se}=this;we=Se?Se(te):te}catch(Se){return this.destination.error(Se)}let he=!1;if(this.hasKey)try{const{compare:Se}=this;he=Se(this.key,we)}catch(Se){return this.destination.error(Se)}else this.hasKey=!0;he||(this.key=we,this.destination.next(te))}}},2198:(gn,_t,x)=>{"use strict";x.d(_t,{h:()=>N});var p=x(3489);function N(C,te){return function(he){return he.lift(new v(C,te))}}class v{constructor(te,we){this.predicate=te,this.thisArg=we}call(te,we){return we.subscribe(new ne(te,this.predicate,this.thisArg))}}class ne extends p.L{constructor(te,we,he){super(te),this.predicate=we,this.thisArg=he,this.count=0}_next(te){let we;try{we=this.predicate.call(this.thisArg,te,this.count++)}catch(he){return void this.destination.error(he)}we&&this.destination.next(te)}}},537:(gn,_t,x)=>{"use strict";x.d(_t,{x:()=>v});var p=x(3489),N=x(2654);function v(te){return we=>we.lift(new ne(te))}class ne{constructor(we){this.callback=we}call(we,he){return he.subscribe(new C(we,this.callback))}}class C extends p.L{constructor(we,he){super(we),this.add(new N.w(he))}}},7224:(gn,_t,x)=>{"use strict";x.d(_t,{P:()=>we});var p=x(4450),N=x(2198),v=x(2986),ne=x(7314),C=x(4907),te=x(5379);function we(he,Se){const ae=arguments.length>=2;return me=>me.pipe(he?(0,N.h)((ye,Ie)=>he(ye,Ie,me)):te.y,(0,v.q)(1),ae?(0,ne.d)(Se):(0,C.T)(()=>new p.K))}},4850:(gn,_t,x)=>{"use strict";x.d(_t,{U:()=>N});var p=x(3489);function N(C,te){return function(he){if("function"!=typeof C)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return he.lift(new v(C,te))}}class v{constructor(te,we){this.project=te,this.thisArg=we}call(te,we){return we.subscribe(new ne(te,this.project,this.thisArg))}}class ne extends p.L{constructor(te,we,he){super(te),this.project=we,this.count=0,this.thisArg=he||this}_next(te){let we;try{we=this.project.call(this.thisArg,te,this.count++)}catch(he){return void this.destination.error(he)}this.destination.next(we)}}},9146:(gn,_t,x)=>{"use strict";x.d(_t,{J:()=>v});var p=x(1709),N=x(5379);function v(ne=Number.POSITIVE_INFINITY){return(0,p.zg)(N.y,ne)}},1709:(gn,_t,x)=>{"use strict";x.d(_t,{zg:()=>te});var p=x(9054),N=x(826),v=x(1869),ne=x(4850),C=x(5254);function te(Se,ae,me=Number.POSITIVE_INFINITY){return"function"==typeof ae?ye=>ye.pipe(te((Ie,Ue)=>(0,C.D)(Se(Ie,Ue)).pipe((0,ne.U)((Je,Fe)=>ae(Ie,Je,Ue,Fe))),me)):("number"==typeof ae&&(me=ae),ye=>ye.lift(new we(Se,me)))}class we{constructor(ae,me=Number.POSITIVE_INFINITY){this.project=ae,this.concurrent=me}call(ae,me){return me.subscribe(new he(ae,this.project,this.concurrent))}}class he extends N.L{constructor(ae,me,ye=Number.POSITIVE_INFINITY){super(ae),this.project=me,this.concurrent=ye,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ae){this.active<this.concurrent?this._tryNext(ae):this.buffer.push(ae)}_tryNext(ae){let me;const ye=this.index++;try{me=this.project(ae,ye)}catch(Ie){return void this.destination.error(Ie)}this.active++,this._innerSub(me,ae,ye)}_innerSub(ae,me,ye){const Ie=new v.d(this,me,ye),Ue=this.destination;Ue.add(Ie);const Je=(0,p.D)(this,ae,void 0,void 0,Ie);Je!==Ie&&Ue.add(Je)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ae,me,ye,Ie,Ue){this.destination.next(me)}notifyComplete(ae){const me=this.buffer;this.remove(ae),this.active--,me.length>0?this._next(me.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},7770:(gn,_t,x)=>{"use strict";x.d(_t,{QV:()=>v,ht:()=>C});var p=x(3489),N=x(9312);function v(we,he=0){return function(ae){return ae.lift(new ne(we,he))}}class ne{constructor(he,Se=0){this.scheduler=he,this.delay=Se}call(he,Se){return Se.subscribe(new C(he,this.scheduler,this.delay))}}class C extends p.L{constructor(he,Se,ae=0){super(he),this.scheduler=Se,this.delay=ae}static dispatch(he){const{notification:Se,destination:ae}=he;Se.observe(ae),this.unsubscribe()}scheduleMessage(he){this.destination.add(this.scheduler.schedule(C.dispatch,this.delay,new te(he,this.destination)))}_next(he){this.scheduleMessage(N.P.createNext(he))}_error(he){this.scheduleMessage(N.P.createError(he)),this.unsubscribe()}_complete(){this.scheduleMessage(N.P.createComplete()),this.unsubscribe()}}class te{constructor(he,Se){this.notification=he,this.destination=Se}}},4327:(gn,_t,x)=>{"use strict";x.d(_t,{x:()=>N});var p=x(3489);function N(){return function(te){return te.lift(new v(te))}}class v{constructor(te){this.connectable=te}call(te,we){const{connectable:he}=this;he._refCount++;const Se=new ne(te,he),ae=we.subscribe(Se);return Se.closed||(Se.connection=he.connect()),ae}}class ne extends p.L{constructor(te,we){super(te),this.connectable=we}_unsubscribe(){const{connectable:te}=this;if(!te)return void(this.connection=null);this.connectable=null;const we=te._refCount;if(we<=0)return void(this.connection=null);if(te._refCount=we-1,we>1)return void(this.connection=null);const{connection:he}=this,Se=te._connection;this.connection=null,Se&&(!he||Se===he)&&Se.unsubscribe()}}},2014:(gn,_t,x)=>{"use strict";x.d(_t,{R:()=>N});var p=x(3489);function N(C,te){let we=!1;return arguments.length>=2&&(we=!0),function(Se){return Se.lift(new v(C,te,we))}}class v{constructor(te,we,he=!1){this.accumulator=te,this.seed=we,this.hasSeed=he}call(te,we){return we.subscribe(new ne(te,this.accumulator,this.seed,this.hasSeed))}}class ne extends p.L{constructor(te,we,he,Se){super(te),this.accumulator=we,this._seed=he,this.hasSeed=Se,this.index=0}get seed(){return this._seed}set seed(te){this.hasSeed=!0,this._seed=te}_next(te){if(this.hasSeed)return this._tryNext(te);this.seed=te,this.destination.next(te)}_tryNext(te){const we=this.index++;let he;try{he=this.accumulator(this.seed,te,we)}catch(Se){this.destination.error(Se)}this.seed=he,this.destination.next(he)}}},2474:(gn,_t,x)=>{"use strict";x.d(_t,{B:()=>we});var p=x(1762);class v{constructor(Se,ae){this.subjectFactory=Se,this.selector=ae}call(Se,ae){const{selector:me}=this,ye=this.subjectFactory(),Ie=me(ye).subscribe(Se);return Ie.add(ae.subscribe(ye)),Ie}}var ne=x(4327),C=x(8929);function te(){return new C.xQ}function we(){return he=>(0,ne.x)()(function N(he,Se){return function(me){let ye;if(ye="function"==typeof he?he:function(){return he},"function"==typeof Se)return me.lift(new v(ye,Se));const Ie=Object.create(me,p.N);return Ie.source=me,Ie.subjectFactory=ye,Ie}}(te)(he))}},1307:(gn,_t,x)=>{"use strict";x.d(_t,{T:()=>N});var p=x(3489);function N(C){return te=>te.lift(new v(C))}class v{constructor(te){this.total=te}call(te,we){return we.subscribe(new ne(te,this.total))}}class ne extends p.L{constructor(te,we){super(te),this.total=we,this.count=0}_next(te){++this.count>this.total&&this.destination.next(te)}}},1059:(gn,_t,x)=>{"use strict";x.d(_t,{O:()=>v});var p=x(1221),N=x(2866);function v(...ne){const C=ne[ne.length-1];return(0,N.K)(C)?(ne.pop(),te=>(0,p.z)(ne,te,C)):te=>(0,p.z)(ne,te)}},3334:(gn,_t,x)=>{"use strict";x.d(_t,{R:()=>C});var p=x(6498),N=x(8139),v=x(4241);class ne extends p.y{constructor(he,Se=0,ae=N.e){super(),this.source=he,this.delayTime=Se,this.scheduler=ae,(!(0,v.k)(Se)||Se<0)&&(this.delayTime=0),(!ae||"function"!=typeof ae.schedule)&&(this.scheduler=N.e)}static create(he,Se=0,ae=N.e){return new ne(he,Se,ae)}static dispatch(he){const{source:Se,subscriber:ae}=he;return this.add(Se.subscribe(ae))}_subscribe(he){return this.scheduler.schedule(ne.dispatch,this.delayTime,{source:this.source,subscriber:he})}}function C(we,he=0){return function(ae){return ae.lift(new te(we,he))}}class te{constructor(he,Se){this.scheduler=he,this.delay=Se}call(he,Se){return new ne(Se,this.delay,this.scheduler).subscribe(he)}}},7545:(gn,_t,x)=>{"use strict";x.d(_t,{w:()=>te});var p=x(826),N=x(1869),v=x(9054),ne=x(4850),C=x(5254);function te(Se,ae){return"function"==typeof ae?me=>me.pipe(te((ye,Ie)=>(0,C.D)(Se(ye,Ie)).pipe((0,ne.U)((Ue,Je)=>ae(ye,Ue,Ie,Je))))):me=>me.lift(new we(Se))}class we{constructor(ae){this.project=ae}call(ae,me){return me.subscribe(new he(ae,this.project))}}class he extends p.L{constructor(ae,me){super(ae),this.project=me,this.index=0}_next(ae){let me;const ye=this.index++;try{me=this.project(ae,ye)}catch(Ie){return void this.destination.error(Ie)}this._innerSub(me,ae,ye)}_innerSub(ae,me,ye){const Ie=this.innerSubscription;Ie&&Ie.unsubscribe();const Ue=new N.d(this,me,ye),Je=this.destination;Je.add(Ue),this.innerSubscription=(0,v.D)(this,ae,void 0,void 0,Ue),this.innerSubscription!==Ue&&Je.add(this.innerSubscription)}_complete(){const{innerSubscription:ae}=this;(!ae||ae.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(ae){this.destination.remove(ae),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(ae,me,ye,Ie,Ue){this.destination.next(me)}}},2986:(gn,_t,x)=>{"use strict";x.d(_t,{q:()=>ne});var p=x(3489),N=x(4231),v=x(8896);function ne(we){return he=>0===we?(0,v.c)():he.lift(new C(we))}class C{constructor(he){if(this.total=he,this.total<0)throw new N.W}call(he,Se){return Se.subscribe(new te(he,this.total))}}class te extends p.L{constructor(he,Se){super(he),this.total=Se,this.count=0}_next(he){const Se=this.total,ae=++this.count;ae<=Se&&(this.destination.next(he),ae===Se&&(this.destination.complete(),this.unsubscribe()))}}},7625:(gn,_t,x)=>{"use strict";x.d(_t,{R:()=>v});var p=x(826),N=x(9054);function v(te){return we=>we.lift(new ne(te))}class ne{constructor(we){this.notifier=we}call(we,he){const Se=new C(we),ae=(0,N.D)(Se,this.notifier);return ae&&!Se.seenValue?(Se.add(ae),he.subscribe(Se)):Se}}class C extends p.L{constructor(we){super(we),this.seenValue=!1}notifyNext(we,he,Se,ae,me){this.seenValue=!0,this.complete()}notifyComplete(){}}},2868:(gn,_t,x)=>{"use strict";x.d(_t,{b:()=>ne});var p=x(3489);function N(){}var v=x(7043);function ne(we,he,Se){return function(me){return me.lift(new C(we,he,Se))}}class C{constructor(he,Se,ae){this.nextOrObserver=he,this.error=Se,this.complete=ae}call(he,Se){return Se.subscribe(new te(he,this.nextOrObserver,this.error,this.complete))}}class te extends p.L{constructor(he,Se,ae,me){super(he),this._tapNext=N,this._tapError=N,this._tapComplete=N,this._tapError=ae||N,this._tapComplete=me||N,(0,v.m)(Se)?(this._context=this,this._tapNext=Se):Se&&(this._context=Se,this._tapNext=Se.next||N,this._tapError=Se.error||N,this._tapComplete=Se.complete||N)}_next(he){try{this._tapNext.call(this._context,he)}catch(Se){return void this.destination.error(Se)}this.destination.next(he)}_error(he){try{this._tapError.call(this._context,he)}catch(Se){return void this.destination.error(Se)}this.destination.error(he)}_complete(){try{this._tapComplete.call(this._context)}catch(he){return void this.destination.error(he)}return this.destination.complete()}}},4907:(gn,_t,x)=>{"use strict";x.d(_t,{T:()=>v});var p=x(4450),N=x(3489);function v(we=te){return he=>he.lift(new ne(we))}class ne{constructor(he){this.errorFactory=he}call(he,Se){return Se.subscribe(new C(he,this.errorFactory))}}class C extends N.L{constructor(he,Se){super(he),this.errorFactory=Se,this.hasValue=!1}_next(he){this.hasValue=!0,this.destination.next(he)}_complete(){if(this.hasValue)return this.destination.complete();{let he;try{he=this.errorFactory()}catch(Se){he=Se}this.destination.error(he)}}}function te(){return new p.K}},6454:(gn,_t,x)=>{"use strict";x.d(_t,{r:()=>v});var p=x(6498),N=x(2654);function v(ne,C){return new p.y(te=>{const we=new N.w;let he=0;return we.add(C.schedule(function(){he!==ne.length?(te.next(ne[he++]),te.closed||we.add(this.schedule())):te.complete()})),we})}},6686:(gn,_t,x)=>{"use strict";x.d(_t,{o:()=>v});var p=x(2654);class N extends p.w{constructor(C,te){super()}schedule(C,te=0){return this}}class v extends N{constructor(C,te){super(C,te),this.scheduler=C,this.work=te,this.pending=!1}schedule(C,te=0){if(this.closed)return this;this.state=C;const we=this.id,he=this.scheduler;return null!=we&&(this.id=this.recycleAsyncId(he,we,te)),this.pending=!0,this.delay=te,this.id=this.id||this.requestAsyncId(he,this.id,te),this}requestAsyncId(C,te,we=0){return setInterval(C.flush.bind(C,this),we)}recycleAsyncId(C,te,we=0){if(null!==we&&this.delay===we&&!1===this.pending)return te;clearInterval(te)}execute(C,te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(C,te);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(C,te){let he,we=!1;try{this.work(C)}catch(Se){we=!0,he=!!Se&&Se||new Error(Se)}if(we)return this.unsubscribe(),he}_unsubscribe(){const C=this.id,te=this.scheduler,we=te.actions,he=we.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==he&&we.splice(he,1),null!=C&&(this.id=this.recycleAsyncId(te,C,null)),this.delay=null}}},2268:(gn,_t,x)=>{"use strict";x.d(_t,{v:()=>N});let p=(()=>{class v{constructor(C,te=v.now){this.SchedulerAction=C,this.now=te}schedule(C,te=0,we){return new this.SchedulerAction(this,C).schedule(we,te)}}return v.now=()=>Date.now(),v})();class N extends p{constructor(ne,C=p.now){super(ne,()=>N.delegate&&N.delegate!==this?N.delegate.now():C()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ne,C=0,te){return N.delegate&&N.delegate!==this?N.delegate.schedule(ne,C,te):super.schedule(ne,C,te)}flush(ne){const{actions:C}=this;if(this.active)return void C.push(ne);let te;this.active=!0;do{if(te=ne.execute(ne.state,ne.delay))break}while(ne=C.shift());if(this.active=!1,te){for(;ne=C.shift();)ne.unsubscribe();throw te}}}},352:(gn,_t,x)=>{"use strict";x.d(_t,{r:()=>C});var p=x(6686),v=x(2268);const C=new class ne extends v.v{flush(we){this.active=!0,this.scheduled=void 0;const{actions:he}=this;let Se,ae=-1,me=he.length;we=we||he.shift();do{if(Se=we.execute(we.state,we.delay))break}while(++ae<me&&(we=he.shift()));if(this.active=!1,Se){for(;++ae<me&&(we=he.shift());)we.unsubscribe();throw Se}}}(class N extends p.o{constructor(we,he){super(we,he),this.scheduler=we,this.work=he}requestAsyncId(we,he,Se=0){return null!==Se&&Se>0?super.requestAsyncId(we,he,Se):(we.actions.push(this),we.scheduled||(we.scheduled=requestAnimationFrame(()=>we.flush(null))))}recycleAsyncId(we,he,Se=0){if(null!==Se&&Se>0||null===Se&&this.delay>0)return super.recycleAsyncId(we,he,Se);0===we.actions.length&&(cancelAnimationFrame(he),we.scheduled=void 0)}})},8139:(gn,_t,x)=>{"use strict";x.d(_t,{e:()=>me});let p=1;const N=Promise.resolve(),v={};function ne(ye){return ye in v&&(delete v[ye],!0)}const C={setImmediate(ye){const Ie=p++;return v[Ie]=!0,N.then(()=>ne(Ie)&&ye()),Ie},clearImmediate(ye){ne(ye)}};var we=x(6686),Se=x(2268);const me=new class ae extends Se.v{flush(Ie){this.active=!0,this.scheduled=void 0;const{actions:Ue}=this;let Je,Fe=-1,ot=Ue.length;Ie=Ie||Ue.shift();do{if(Je=Ie.execute(Ie.state,Ie.delay))break}while(++Fe<ot&&(Ie=Ue.shift()));if(this.active=!1,Je){for(;++Fe<ot&&(Ie=Ue.shift());)Ie.unsubscribe();throw Je}}}(class he extends we.o{constructor(Ie,Ue){super(Ie,Ue),this.scheduler=Ie,this.work=Ue}requestAsyncId(Ie,Ue,Je=0){return null!==Je&&Je>0?super.requestAsyncId(Ie,Ue,Je):(Ie.actions.push(this),Ie.scheduled||(Ie.scheduled=C.setImmediate(Ie.flush.bind(Ie,null))))}recycleAsyncId(Ie,Ue,Je=0){if(null!==Je&&Je>0||null===Je&&this.delay>0)return super.recycleAsyncId(Ie,Ue,Je);0===Ie.actions.length&&(C.clearImmediate(Ue),Ie.scheduled=void 0)}})},353:(gn,_t,x)=>{"use strict";x.d(_t,{P:()=>v});var p=x(6686);const v=new(x(2268).v)(p.o)},341:(gn,_t,x)=>{"use strict";x.d(_t,{c:()=>C});var p=x(6686),v=x(2268);const C=new class ne extends v.v{}(class N extends p.o{constructor(we,he){super(we,he),this.scheduler=we,this.work=he}schedule(we,he=0){return he>0?super.schedule(we,he):(this.delay=he,this.state=we,this.scheduler.flush(this),this)}execute(we,he){return he>0||this.closed?super.execute(we,he):this._execute(we,he)}requestAsyncId(we,he,Se=0){return null!==Se&&Se>0||null===Se&&this.delay>0?super.requestAsyncId(we,he,Se):we.flush(this)}})},5430:(gn,_t,x)=>{"use strict";x.d(_t,{hZ:()=>N});const N=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(gn,_t,x)=>{"use strict";x.d(_t,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(gn,_t,x)=>{"use strict";x.d(_t,{b:()=>p});const p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(gn,_t,x)=>{"use strict";x.d(_t,{W:()=>N});const N=(()=>{function v(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return v.prototype=Object.create(Error.prototype),v})()},4450:(gn,_t,x)=>{"use strict";x.d(_t,{K:()=>N});const N=(()=>{function v(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return v.prototype=Object.create(Error.prototype),v})()},5279:(gn,_t,x)=>{"use strict";x.d(_t,{N:()=>N});const N=(()=>{function v(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return v.prototype=Object.create(Error.prototype),v})()},2782:(gn,_t,x)=>{"use strict";function p(N){setTimeout(()=>{throw N},0)}x.d(_t,{z:()=>p})},5379:(gn,_t,x)=>{"use strict";function p(N){return N}x.d(_t,{y:()=>p})},6688:(gn,_t,x)=>{"use strict";x.d(_t,{k:()=>p});const p=Array.isArray||(N=>N&&"number"==typeof N.length)},8515:(gn,_t,x)=>{"use strict";x.d(_t,{z:()=>p});const p=N=>N&&"number"==typeof N.length&&"function"!=typeof N},7043:(gn,_t,x)=>{"use strict";function p(N){return"function"==typeof N}x.d(_t,{m:()=>p})},4241:(gn,_t,x)=>{"use strict";x.d(_t,{k:()=>N});var p=x(6688);function N(v){return!(0,p.k)(v)&&v-parseFloat(v)+1>=0}},7830:(gn,_t,x)=>{"use strict";function p(N){return null!==N&&"object"==typeof N}x.d(_t,{K:()=>p})},8955:(gn,_t,x)=>{"use strict";function p(N){return!!N&&"function"!=typeof N.subscribe&&"function"==typeof N.then}x.d(_t,{t:()=>p})},2866:(gn,_t,x)=>{"use strict";function p(N){return N&&"function"==typeof N.schedule}x.d(_t,{K:()=>p})},4843:(gn,_t,x)=>{"use strict";x.d(_t,{U:()=>v,z:()=>N});var p=x(5379);function N(...ne){return v(ne)}function v(ne){return 0===ne.length?p.y:1===ne.length?ne[0]:function(te){return ne.reduce((we,he)=>he(we),te)}}},9249:(gn,_t,x)=>{"use strict";x.d(_t,{s:()=>me});var p=x(3650),N=x(2782),ne=x(5430),te=x(3821),he=x(8515),Se=x(8955),ae=x(7830);const me=ye=>{if(ye&&"function"==typeof ye[te.L])return(ye=>Ie=>{const Ue=ye[te.L]();if("function"!=typeof Ue.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ue.subscribe(Ie)})(ye);if((0,he.z)(ye))return(0,p.V)(ye);if((0,Se.t)(ye))return(ye=>Ie=>(ye.then(Ue=>{Ie.closed||(Ie.next(Ue),Ie.complete())},Ue=>Ie.error(Ue)).then(null,N.z),Ie))(ye);if(ye&&"function"==typeof ye[ne.hZ])return(ye=>Ie=>{const Ue=ye[ne.hZ]();for(;;){const Je=Ue.next();if(Je.done){Ie.complete();break}if(Ie.next(Je.value),Ie.closed)break}return"function"==typeof Ue.return&&Ie.add(()=>{Ue.return&&Ue.return()}),Ie})(ye);{const Ue=`You provided ${(0,ae.K)(ye)?"an invalid object":`'${ye}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ue)}}},3650:(gn,_t,x)=>{"use strict";x.d(_t,{V:()=>p});const p=N=>v=>{for(let ne=0,C=N.length;ne<C&&!v.closed;ne++)v.next(N[ne]);v.complete()}},9054:(gn,_t,x)=>{"use strict";x.d(_t,{D:()=>ne});var p=x(1869),N=x(9249),v=x(6498);function ne(C,te,we,he,Se=new p.d(C,we,he)){if(!Se.closed)return te instanceof v.y?te.subscribe(Se):(0,N.s)(te)(Se)}},9444:(gn,_t,x)=>{var p=x(4542),N=x(6926),v=N;v.v1=p,v.v4=N,gn.exports=v},7805:gn=>{for(var _t=[],x=0;x<256;++x)_t[x]=(x+256).toString(16).substr(1);gn.exports=function p(N,v){var ne=v||0;return[_t[N[ne++]],_t[N[ne++]],_t[N[ne++]],_t[N[ne++]],"-",_t[N[ne++]],_t[N[ne++]],"-",_t[N[ne++]],_t[N[ne++]],"-",_t[N[ne++]],_t[N[ne++]],"-",_t[N[ne++]],_t[N[ne++]],_t[N[ne++]],_t[N[ne++]],_t[N[ne++]],_t[N[ne++]]].join("")}},7142:gn=>{var _t=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(_t){var x=new Uint8Array(16);gn.exports=function(){return _t(x),x}}else{var p=new Array(16);gn.exports=function(){for(var ne,v=0;v<16;v++)0==(3&v)&&(ne=4294967296*Math.random()),p[v]=ne>>>((3&v)<<3)&255;return p}}},4542:(gn,_t,x)=>{var v,ne,p=x(7142),N=x(7805),C=0,te=0;gn.exports=function we(he,Se,ae){var me=Se&&ae||0,ye=Se||[],Ie=(he=he||{}).node||v,Ue=void 0!==he.clockseq?he.clockseq:ne;if(null==Ie||null==Ue){var Je=p();null==Ie&&(Ie=v=[1|Je[0],Je[1],Je[2],Je[3],Je[4],Je[5]]),null==Ue&&(Ue=ne=16383&(Je[6]<<8|Je[7]))}var Fe=void 0!==he.msecs?he.msecs:(new Date).getTime(),ot=void 0!==he.nsecs?he.nsecs:te+1,ht=Fe-C+(ot-te)/1e4;if(ht<0&&void 0===he.clockseq&&(Ue=Ue+1&16383),(ht<0||Fe>C)&&void 0===he.nsecs&&(ot=0),ot>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");C=Fe,te=ot,ne=Ue;var jt=(1e4*(268435455&(Fe+=122192928e5))+ot)%4294967296;ye[me++]=jt>>>24&255,ye[me++]=jt>>>16&255,ye[me++]=jt>>>8&255,ye[me++]=255&jt;var ut=Fe/4294967296*1e4&268435455;ye[me++]=ut>>>8&255,ye[me++]=255&ut,ye[me++]=ut>>>24&15|16,ye[me++]=ut>>>16&255,ye[me++]=Ue>>>8|128,ye[me++]=255&Ue;for(var kt=0;kt<6;++kt)ye[me+kt]=Ie[kt];return Se||N(ye)}},6926:(gn,_t,x)=>{var p=x(7142),N=x(7805);gn.exports=function v(ne,C,te){var we=C&&te||0;"string"==typeof ne&&(C="binary"===ne?new Array(16):null,ne=null);var he=(ne=ne||{}).random||(ne.rng||p)();if(he[6]=15&he[6]|64,he[8]=63&he[8]|128,C)for(var Se=0;Se<16;++Se)C[we+Se]=he[Se];return C||N(he)}},7340:(gn,_t,x)=>{"use strict";x.d(_t,{F4:()=>ae,IO:()=>Je,LC:()=>N,SB:()=>Se,X$:()=>ne,ZE:()=>jt,ZN:()=>ht,_j:()=>p,eR:()=>me,jt:()=>C,k1:()=>ut,l3:()=>v,oB:()=>he,pV:()=>Ie,ru:()=>te,vP:()=>we});class p{}class N{}const v="*";function ne(kt,vt){return{type:7,name:kt,definitions:vt,options:{}}}function C(kt,vt=null){return{type:4,styles:vt,timings:kt}}function te(kt,vt=null){return{type:3,steps:kt,options:vt}}function we(kt,vt=null){return{type:2,steps:kt,options:vt}}function he(kt){return{type:6,styles:kt,offset:null}}function Se(kt,vt,et){return{type:0,name:kt,styles:vt,options:et}}function ae(kt){return{type:5,steps:kt}}function me(kt,vt,et=null){return{type:1,expr:kt,animation:vt,options:et}}function Ie(kt=null){return{type:9,options:kt}}function Je(kt,vt,et=null){return{type:11,selector:kt,animation:vt,options:et}}function ot(kt){Promise.resolve().then(kt)}class ht{constructor(vt=0,et=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=vt+et}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(vt=>vt()),this._onDoneFns=[])}onStart(vt){this._originalOnStartFns.push(vt),this._onStartFns.push(vt)}onDone(vt){this._originalOnDoneFns.push(vt),this._onDoneFns.push(vt)}onDestroy(vt){this._onDestroyFns.push(vt)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ot(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(vt=>vt()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(vt=>vt()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(vt){this._position=this.totalTime?vt*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(vt){const et="start"==vt?this._onStartFns:this._onDoneFns;et.forEach(Le=>Le()),et.length=0}}class jt{constructor(vt){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=vt;let et=0,Le=0,ft=0;const tt=this.players.length;0==tt?ot(()=>this._onFinish()):this.players.forEach(qe=>{qe.onDone(()=>{++et==tt&&this._onFinish()}),qe.onDestroy(()=>{++Le==tt&&this._onDestroy()}),qe.onStart(()=>{++ft==tt&&this._onStart()})}),this.totalTime=this.players.reduce((qe,Lt)=>Math.max(qe,Lt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(vt=>vt()),this._onDoneFns=[])}init(){this.players.forEach(vt=>vt.init())}onStart(vt){this._onStartFns.push(vt)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(vt=>vt()),this._onStartFns=[])}onDone(vt){this._onDoneFns.push(vt)}onDestroy(vt){this._onDestroyFns.push(vt)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(vt=>vt.play())}pause(){this.players.forEach(vt=>vt.pause())}restart(){this.players.forEach(vt=>vt.restart())}finish(){this._onFinish(),this.players.forEach(vt=>vt.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(vt=>vt.destroy()),this._onDestroyFns.forEach(vt=>vt()),this._onDestroyFns=[])}reset(){this.players.forEach(vt=>vt.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(vt){const et=vt*this.totalTime;this.players.forEach(Le=>{const ft=Le.totalTime?Math.min(1,et/Le.totalTime):1;Le.setPosition(ft)})}getPosition(){const vt=this.players.reduce((et,Le)=>null===et||Le.totalTime>et.totalTime?Le:et,null);return null!=vt?vt.getPosition():0}beforeDestroy(){this.players.forEach(vt=>{vt.beforeDestroy&&vt.beforeDestroy()})}triggerCallback(vt){const et="start"==vt?this._onStartFns:this._onDoneFns;et.forEach(Le=>Le()),et.length=0}}const ut="!"},2687:(gn,_t,x)=>{"use strict";x.d(_t,{Em:()=>qn,X6:()=>de,ic:()=>ai,qV:()=>$t,qm:()=>ln,rt:()=>fn,tE:()=>Ii,yG:()=>Pe});var p=x(6895),N=x(4650),v=x(3353),ne=x(8929),C=x(2654),te=x(591),we=x(1086),he=x(9521),Se=x(2868),ae=x(13),me=x(2198),ye=x(4850),Ie=x(2986),Ue=x(1307),Je=x(5778),Fe=x(7625),ot=x(1281),ht=x(9643),jt=x(2289);class qn extends class Bt{constructor(st){this._items=st,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ne.xQ,this._typeaheadSubscription=C.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=Xe=>Xe.disabled,this._pressedLetters=[],this.tabOut=new ne.xQ,this.change=new ne.xQ,st instanceof N.n_E&&st.changes.subscribe(Xe=>{if(this._activeItem){const Gt=Xe.toArray().indexOf(this._activeItem);Gt>-1&&Gt!==this._activeItemIndex&&(this._activeItemIndex=Gt)}})}skipPredicate(st){return this._skipPredicateFn=st,this}withWrap(st=!0){return this._wrap=st,this}withVerticalOrientation(st=!0){return this._vertical=st,this}withHorizontalOrientation(st){return this._horizontal=st,this}withAllowedModifierKeys(st){return this._allowedModifierKeys=st,this}withTypeAhead(st=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Se.b)(Xe=>this._pressedLetters.push(Xe)),(0,ae.b)(st),(0,me.h)(()=>this._pressedLetters.length>0),(0,ye.U)(()=>this._pressedLetters.join(""))).subscribe(Xe=>{const St=this._getItemsArray();for(let Gt=1;Gt<St.length+1;Gt++){const ge=(this._activeItemIndex+Gt)%St.length,j=St[ge];if(!this._skipPredicateFn(j)&&0===j.getLabel().toUpperCase().trim().indexOf(Xe)){this.setActiveItem(ge);break}}this._pressedLetters=[]}),this}withHomeAndEnd(st=!0){return this._homeAndEnd=st,this}setActiveItem(st){const Xe=this._activeItem;this.updateActiveItem(st),this._activeItem!==Xe&&this.change.next(this._activeItemIndex)}onKeydown(st){const Xe=st.keyCode,Gt=["altKey","ctrlKey","metaKey","shiftKey"].every(ge=>!st[ge]||this._allowedModifierKeys.indexOf(ge)>-1);switch(Xe){case he.Mf:return void this.tabOut.next();case he.JH:if(this._vertical&&Gt){this.setNextItemActive();break}return;case he.LH:if(this._vertical&&Gt){this.setPreviousItemActive();break}return;case he.SV:if(this._horizontal&&Gt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case he.oh:if(this._horizontal&&Gt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case he.Sd:if(this._homeAndEnd&&Gt){this.setFirstItemActive();break}return;case he.uR:if(this._homeAndEnd&&Gt){this.setLastItemActive();break}return;default:return void((Gt||(0,he.Vb)(st,"shiftKey"))&&(st.key&&1===st.key.length?this._letterKeyStream.next(st.key.toLocaleUpperCase()):(Xe>=he.A&&Xe<=he.Z||Xe>=he.xE&&Xe<=he.aO)&&this._letterKeyStream.next(String.fromCharCode(Xe))))}this._pressedLetters=[],st.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(st){const Xe=this._getItemsArray(),St="number"==typeof st?st:Xe.indexOf(st);this._activeItem=Xe[St]??null,this._activeItemIndex=St}_setActiveItemByDelta(st){this._wrap?this._setActiveInWrapMode(st):this._setActiveInDefaultMode(st)}_setActiveInWrapMode(st){const Xe=this._getItemsArray();for(let St=1;St<=Xe.length;St++){const Gt=(this._activeItemIndex+st*St+Xe.length)%Xe.length;if(!this._skipPredicateFn(Xe[Gt]))return void this.setActiveItem(Gt)}}_setActiveInDefaultMode(st){this._setActiveItemByIndex(this._activeItemIndex+st,st)}_setActiveItemByIndex(st,Xe){const St=this._getItemsArray();if(St[st]){for(;this._skipPredicateFn(St[st]);)if(!St[st+=Xe])return;this.setActiveItem(st)}}_getItemsArray(){return this._items instanceof N.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(st){return this._origin=st,this}setActiveItem(st){super.setActiveItem(st),this.activeItem&&this.activeItem.focus(this._origin)}}let ai=(()=>{class lt{constructor(Xe){this._platform=Xe}isDisabled(Xe){return Xe.hasAttribute("disabled")}isVisible(Xe){return function rn(lt){return!!(lt.offsetWidth||lt.offsetHeight||"function"==typeof lt.getClientRects&&lt.getClientRects().length)}(Xe)&&"visible"===getComputedStyle(Xe).visibility}isTabbable(Xe){if(!this._platform.isBrowser)return!1;const St=function Vn(lt){try{return lt.frameElement}catch{return null}}(function Qt(lt){return lt.ownerDocument&&lt.ownerDocument.defaultView||window}(Xe));if(St&&(-1===en(St)||!this.isVisible(St)))return!1;let Gt=Xe.nodeName.toLowerCase(),ge=en(Xe);return Xe.hasAttribute("contenteditable")?-1!==ge:!("iframe"===Gt||"object"===Gt||this._platform.WEBKIT&&this._platform.IOS&&!function Ln(lt){let st=lt.nodeName.toLowerCase(),Xe="input"===st&&lt.type;return"text"===Xe||"password"===Xe||"select"===st||"textarea"===st}(Xe))&&("audio"===Gt?!!Xe.hasAttribute("controls")&&-1!==ge:"video"===Gt?-1!==ge&&(null!==ge||this._platform.FIREFOX||Xe.hasAttribute("controls")):Xe.tabIndex>=0)}isFocusable(Xe,St){return function It(lt){return!function ke(lt){return function Ne(lt){return"input"==lt.nodeName.toLowerCase()}(lt)&&"hidden"==lt.type}(lt)&&(function _n(lt){let st=lt.nodeName.toLowerCase();return"input"===st||"select"===st||"button"===st||"textarea"===st}(lt)||function Be(lt){return function Ke(lt){return"a"==lt.nodeName.toLowerCase()}(lt)&&lt.hasAttribute("href")}(lt)||lt.hasAttribute("contenteditable")||Tt(lt))}(Xe)&&!this.isDisabled(Xe)&&(St?.ignoreVisibility||this.isVisible(Xe))}}return lt.\u0275fac=function(Xe){return new(Xe||lt)(N.LFG(v.t4))},lt.\u0275prov=N.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"}),lt})();function Tt(lt){if(!lt.hasAttribute("tabindex")||void 0===lt.tabIndex)return!1;let st=lt.getAttribute("tabindex");return!(!st||isNaN(parseInt(st,10)))}function en(lt){if(!Tt(lt))return null;const st=parseInt(lt.getAttribute("tabindex")||"",10);return isNaN(st)?-1:st}class Mt{constructor(st,Xe,St,Gt,ge=!1){this._element=st,this._checker=Xe,this._ngZone=St,this._document=Gt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,ge||this.attachAnchors()}get enabled(){return this._enabled}set enabled(st){this._enabled=st,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(st,this._startAnchor),this._toggleAnchorTabIndex(st,this._endAnchor))}destroy(){const st=this._startAnchor,Xe=this._endAnchor;st&&(st.removeEventListener("focus",this.startAnchorListener),st.remove()),Xe&&(Xe.removeEventListener("focus",this.endAnchorListener),Xe.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(st){return new Promise(Xe=>{this._executeOnStable(()=>Xe(this.focusInitialElement(st)))})}focusFirstTabbableElementWhenReady(st){return new Promise(Xe=>{this._executeOnStable(()=>Xe(this.focusFirstTabbableElement(st)))})}focusLastTabbableElementWhenReady(st){return new Promise(Xe=>{this._executeOnStable(()=>Xe(this.focusLastTabbableElement(st)))})}_getRegionBoundary(st){const Xe=this._element.querySelectorAll(`[cdk-focus-region-${st}], [cdkFocusRegion${st}], [cdk-focus-${st}]`);return"start"==st?Xe.length?Xe[0]:this._getFirstTabbableElement(this._element):Xe.length?Xe[Xe.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(st){const Xe=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Xe){if(!this._checker.isFocusable(Xe)){const St=this._getFirstTabbableElement(Xe);return St?.focus(st),!!St}return Xe.focus(st),!0}return this.focusFirstTabbableElement(st)}focusFirstTabbableElement(st){const Xe=this._getRegionBoundary("start");return Xe&&Xe.focus(st),!!Xe}focusLastTabbableElement(st){const Xe=this._getRegionBoundary("end");return Xe&&Xe.focus(st),!!Xe}hasAttached(){return this._hasAttached}_getFirstTabbableElement(st){if(this._checker.isFocusable(st)&&this._checker.isTabbable(st))return st;const Xe=st.children;for(let St=0;St<Xe.length;St++){const Gt=Xe[St].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Xe[St]):null;if(Gt)return Gt}return null}_getLastTabbableElement(st){if(this._checker.isFocusable(st)&&this._checker.isTabbable(st))return st;const Xe=st.children;for(let St=Xe.length-1;St>=0;St--){const Gt=Xe[St].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Xe[St]):null;if(Gt)return Gt}return null}_createAnchor(){const st=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,st),st.classList.add("cdk-visually-hidden"),st.classList.add("cdk-focus-trap-anchor"),st.setAttribute("aria-hidden","true"),st}_toggleAnchorTabIndex(st,Xe){st?Xe.setAttribute("tabindex","0"):Xe.removeAttribute("tabindex")}toggleAnchors(st){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(st,this._startAnchor),this._toggleAnchorTabIndex(st,this._endAnchor))}_executeOnStable(st){this._ngZone.isStable?st():this._ngZone.onStable.pipe((0,Ie.q)(1)).subscribe(st)}}let $t=(()=>{class lt{constructor(Xe,St,Gt){this._checker=Xe,this._ngZone=St,this._document=Gt}create(Xe,St=!1){return new Mt(Xe,this._checker,this._ngZone,this._document,St)}}return lt.\u0275fac=function(Xe){return new(Xe||lt)(N.LFG(ai),N.LFG(N.R0b),N.LFG(p.K0))},lt.\u0275prov=N.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"}),lt})();function de(lt){return 0===lt.buttons||0===lt.offsetX&&0===lt.offsetY}function Pe(lt){const st=lt.touches&&lt.touches[0]||lt.changedTouches&&lt.changedTouches[0];return!(!st||-1!==st.identifier||null!=st.radiusX&&1!==st.radiusX||null!=st.radiusY&&1!==st.radiusY)}const ce=new N.OlP("cdk-input-modality-detector-options"),Ye={ignoreKeys:[he.zL,he.jx,he.b2,he.MW,he.JU]},We=(0,v.i$)({passive:!0,capture:!0});let Ut=(()=>{class lt{constructor(Xe,St,Gt,ge){this._platform=Xe,this._mostRecentTarget=null,this._modality=new te.X(null),this._lastTouchMs=0,this._onKeydown=j=>{var G,X;null!==(G=this._options)&&void 0!==G&&null!==(X=G.ignoreKeys)&&void 0!==X&&X.some(K=>K===j.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,v.sA)(j))},this._onMousedown=j=>{Date.now()-this._lastTouchMs<650||(this._modality.next(de(j)?"keyboard":"mouse"),this._mostRecentTarget=(0,v.sA)(j))},this._onTouchstart=j=>{Pe(j)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,v.sA)(j))},this._options={...Ye,...ge},this.modalityDetected=this._modality.pipe((0,Ue.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Je.x)()),Xe.isBrowser&&St.runOutsideAngular(()=>{Gt.addEventListener("keydown",this._onKeydown,We),Gt.addEventListener("mousedown",this._onMousedown,We),Gt.addEventListener("touchstart",this._onTouchstart,We)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,We),document.removeEventListener("mousedown",this._onMousedown,We),document.removeEventListener("touchstart",this._onTouchstart,We))}}return lt.\u0275fac=function(Xe){return new(Xe||lt)(N.LFG(v.t4),N.LFG(N.R0b),N.LFG(p.K0),N.LFG(ce,8))},lt.\u0275prov=N.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"}),lt})();const ni=new N.OlP("cdk-focus-monitor-default-options"),On=(0,v.i$)({passive:!0,capture:!0});let Ii=(()=>{class lt{constructor(Xe,St,Gt,ge,j){this._ngZone=Xe,this._platform=St,this._inputModalityDetector=Gt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ne.xQ,this._rootNodeFocusAndBlurListener=G=>{for(let K=(0,v.sA)(G);K;K=K.parentElement)"focus"===G.type?this._onFocus(G,K):this._onBlur(G,K)},this._document=ge,this._detectionMode=j?.detectionMode||0}monitor(Xe,St=!1){const Gt=(0,ot.fI)(Xe);if(!this._platform.isBrowser||1!==Gt.nodeType)return(0,we.of)(null);const ge=(0,v.kV)(Gt)||this._getDocument(),j=this._elementInfo.get(Gt);if(j)return St&&(j.checkChildren=!0),j.subject;const G={checkChildren:St,subject:new ne.xQ,rootNode:ge};return this._elementInfo.set(Gt,G),this._registerGlobalListeners(G),G.subject}stopMonitoring(Xe){const St=(0,ot.fI)(Xe),Gt=this._elementInfo.get(St);Gt&&(Gt.subject.complete(),this._setClasses(St),this._elementInfo.delete(St),this._removeGlobalListeners(Gt))}focusVia(Xe,St,Gt){const ge=(0,ot.fI)(Xe);ge===this._getDocument().activeElement?this._getClosestElementsInfo(ge).forEach(([G,X])=>this._originChanged(G,St,X)):(this._setOrigin(St),"function"==typeof ge.focus&&ge.focus(Gt))}ngOnDestroy(){this._elementInfo.forEach((Xe,St)=>this.stopMonitoring(St))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Xe){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Xe)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Xe&&this._isLastInteractionFromInputLabel(Xe)?"mouse":"program"}_shouldBeAttributedToTouch(Xe){return 1===this._detectionMode||!(null==Xe||!Xe.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(Xe,St){Xe.classList.toggle("cdk-focused",!!St),Xe.classList.toggle("cdk-touch-focused","touch"===St),Xe.classList.toggle("cdk-keyboard-focused","keyboard"===St),Xe.classList.toggle("cdk-mouse-focused","mouse"===St),Xe.classList.toggle("cdk-program-focused","program"===St)}_setOrigin(Xe,St=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Xe,this._originFromTouchInteraction="touch"===Xe&&St,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Xe,St){const Gt=this._elementInfo.get(St),ge=(0,v.sA)(Xe);!Gt||!Gt.checkChildren&&St!==ge||this._originChanged(St,this._getFocusOrigin(ge),Gt)}_onBlur(Xe,St){const Gt=this._elementInfo.get(St);!Gt||Gt.checkChildren&&Xe.relatedTarget instanceof Node&&St.contains(Xe.relatedTarget)||(this._setClasses(St),this._emitOrigin(Gt,null))}_emitOrigin(Xe,St){Xe.subject.observers.length&&this._ngZone.run(()=>Xe.subject.next(St))}_registerGlobalListeners(Xe){if(!this._platform.isBrowser)return;const St=Xe.rootNode,Gt=this._rootNodeFocusListenerCount.get(St)||0;Gt||this._ngZone.runOutsideAngular(()=>{St.addEventListener("focus",this._rootNodeFocusAndBlurListener,On),St.addEventListener("blur",this._rootNodeFocusAndBlurListener,On)}),this._rootNodeFocusListenerCount.set(St,Gt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Fe.R)(this._stopInputModalityDetector)).subscribe(ge=>{this._setOrigin(ge,!0)}))}_removeGlobalListeners(Xe){const St=Xe.rootNode;if(this._rootNodeFocusListenerCount.has(St)){const Gt=this._rootNodeFocusListenerCount.get(St);Gt>1?this._rootNodeFocusListenerCount.set(St,Gt-1):(St.removeEventListener("focus",this._rootNodeFocusAndBlurListener,On),St.removeEventListener("blur",this._rootNodeFocusAndBlurListener,On),this._rootNodeFocusListenerCount.delete(St))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Xe,St,Gt){this._setClasses(Xe,St),this._emitOrigin(Gt,St),this._lastFocusOrigin=St}_getClosestElementsInfo(Xe){const St=[];return this._elementInfo.forEach((Gt,ge)=>{(ge===Xe||Gt.checkChildren&&ge.contains(Xe))&&St.push([ge,Gt])}),St}_isLastInteractionFromInputLabel(Xe){const{_mostRecentTarget:St,mostRecentModality:Gt}=this._inputModalityDetector;if("mouse"!==Gt||!St||St===Xe||"INPUT"!==Xe.nodeName&&"TEXTAREA"!==Xe.nodeName||Xe.disabled)return!1;const ge=Xe.labels;if(ge)for(let j=0;j<ge.length;j++)if(ge[j].contains(St))return!0;return!1}}return lt.\u0275fac=function(Xe){return new(Xe||lt)(N.LFG(N.R0b),N.LFG(v.t4),N.LFG(Ut),N.LFG(p.K0,8),N.LFG(ni,8))},lt.\u0275prov=N.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"}),lt})();const Wt="cdk-high-contrast-black-on-white",gt="cdk-high-contrast-white-on-black",Et="cdk-high-contrast-active";let ln=(()=>{class lt{constructor(Xe,St){this._platform=Xe,this._document=St,this._breakpointSubscription=(0,N.f3M)(jt.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Xe=this._document.createElement("div");Xe.style.backgroundColor="rgb(1,2,3)",Xe.style.position="absolute",this._document.body.appendChild(Xe);const St=this._document.defaultView||window,Gt=St&&St.getComputedStyle?St.getComputedStyle(Xe):null,ge=(Gt&&Gt.backgroundColor||"").replace(/ /g,"");switch(Xe.remove(),ge){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Xe=this._document.body.classList;Xe.remove(Et,Wt,gt),this._hasCheckedHighContrastMode=!0;const St=this.getHighContrastMode();1===St?Xe.add(Et,Wt):2===St&&Xe.add(Et,gt)}}}return lt.\u0275fac=function(Xe){return new(Xe||lt)(N.LFG(v.t4),N.LFG(p.K0))},lt.\u0275prov=N.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"}),lt})(),fn=(()=>{class lt{constructor(Xe){Xe._applyBodyHighContrastModeCssClasses()}}return lt.\u0275fac=function(Xe){return new(Xe||lt)(N.LFG(ln))},lt.\u0275mod=N.oAB({type:lt}),lt.\u0275inj=N.cJS({imports:[ht.Q8]}),lt})()},445:(gn,_t,x)=>{"use strict";x.d(_t,{Is:()=>we,vT:()=>Se});var p=x(4650),N=x(6895);const v=new p.OlP("cdk-dir-doc",{providedIn:"root",factory:function ne(){return(0,p.f3M)(N.K0)}}),C=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let we=(()=>{class ae{constructor(ye){if(this.value="ltr",this.change=new p.vpe,ye){const Ue=ye.documentElement?ye.documentElement.dir:null;this.value=function te(ae){var me;const ye=ae?.toLowerCase()||"";return"auto"===ye&&typeof navigator<"u"&&null!==(me=navigator)&&void 0!==me&&me.language?C.test(navigator.language)?"rtl":"ltr":"rtl"===ye?"rtl":"ltr"}((ye.body?ye.body.dir:null)||Ue||"ltr")}}ngOnDestroy(){this.change.complete()}}return ae.\u0275fac=function(ye){return new(ye||ae)(p.LFG(v,8))},ae.\u0275prov=p.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})(),Se=(()=>{class ae{}return ae.\u0275fac=function(ye){return new(ye||ae)},ae.\u0275mod=p.oAB({type:ae}),ae.\u0275inj=p.cJS({}),ae})()},1281:(gn,_t,x)=>{"use strict";x.d(_t,{Eq:()=>C,HM:()=>te,Ig:()=>N,fI:()=>we,su:()=>v});var p=x(4650);function N(Se){return null!=Se&&"false"!=`${Se}`}function v(Se,ae=0){return function ne(Se){return!isNaN(parseFloat(Se))&&!isNaN(Number(Se))}(Se)?Number(Se):ae}function C(Se){return Array.isArray(Se)?Se:[Se]}function te(Se){return null==Se?"":"string"==typeof Se?Se:`${Se}px`}function we(Se){return Se instanceof p.SBq?Se.nativeElement:Se}},5017:(gn,_t,x)=>{"use strict";x.d(_t,{A8:()=>me,Ov:()=>Se,Z9:()=>C,eX:()=>he,k:()=>ye,yy:()=>we});var p=x(1762),N=x(8929),v=x(4650);function C(Ie){return Ie&&"function"==typeof Ie.connect&&!(Ie instanceof p.c)}class we{applyChanges(Ue,Je,Fe,ot,ht){Ue.forEachOperation((jt,ut,kt)=>{let vt,et;if(null==jt.previousIndex){const ft=Fe(jt,ut,kt);vt=Je.createEmbeddedView(ft.templateRef,ft.context,ft.index),et=1}else null==kt?(Je.remove(ut),et=3):(vt=Je.get(ut),Je.move(vt,kt),et=2);var Le;ht&&ht({context:null===(Le=vt)||void 0===Le?void 0:Le.context,operation:et,record:jt})})}detach(){}}class he{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(Ue,Je,Fe,ot,ht){Ue.forEachOperation((jt,ut,kt)=>{let vt,et;var Le;null==jt.previousIndex?(vt=this._insertView(()=>Fe(jt,ut,kt),kt,Je,ot(jt)),et=vt?1:0):null==kt?(this._detachAndCacheView(ut,Je),et=3):(vt=this._moveView(ut,kt,Je,ot(jt)),et=2),ht&&ht({context:null===(Le=vt)||void 0===Le?void 0:Le.context,operation:et,record:jt})})}detach(){for(const Ue of this._viewCache)Ue.destroy();this._viewCache=[]}_insertView(Ue,Je,Fe,ot){const ht=this._insertViewFromCache(Je,Fe);if(ht)return void(ht.context.$implicit=ot);const jt=Ue();return Fe.createEmbeddedView(jt.templateRef,jt.context,jt.index)}_detachAndCacheView(Ue,Je){const Fe=Je.detach(Ue);this._maybeCacheView(Fe,Je)}_moveView(Ue,Je,Fe,ot){const ht=Fe.get(Ue);return Fe.move(ht,Je),ht.context.$implicit=ot,ht}_maybeCacheView(Ue,Je){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(Ue);else{const Fe=Je.indexOf(Ue);-1===Fe?Ue.destroy():Je.remove(Fe)}}_insertViewFromCache(Ue,Je){const Fe=this._viewCache.pop();return Fe&&Je.insert(Fe,Ue),Fe||null}}class Se{constructor(Ue=!1,Je,Fe=!0,ot){this._multiple=Ue,this._emitChanges=Fe,this.compareWith=ot,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new N.xQ,Je&&Je.length&&(Ue?Je.forEach(ht=>this._markSelected(ht)):this._markSelected(Je[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...Ue){this._verifyValueAssignment(Ue),Ue.forEach(Fe=>this._markSelected(Fe));const Je=this._hasQueuedChanges();return this._emitChangeEvent(),Je}deselect(...Ue){this._verifyValueAssignment(Ue),Ue.forEach(Fe=>this._unmarkSelected(Fe));const Je=this._hasQueuedChanges();return this._emitChangeEvent(),Je}setSelection(...Ue){this._verifyValueAssignment(Ue);const Je=this.selected,Fe=new Set(Ue);Ue.forEach(ht=>this._markSelected(ht)),Je.filter(ht=>!Fe.has(ht)).forEach(ht=>this._unmarkSelected(ht));const ot=this._hasQueuedChanges();return this._emitChangeEvent(),ot}toggle(Ue){return this.isSelected(Ue)?this.deselect(Ue):this.select(Ue)}clear(Ue=!0){this._unmarkAll();const Je=this._hasQueuedChanges();return Ue&&this._emitChangeEvent(),Je}isSelected(Ue){if(this.compareWith){for(const Je of this._selection)if(this.compareWith(Je,Ue))return!0;return!1}return this._selection.has(Ue)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(Ue){this._multiple&&this.selected&&this._selected.sort(Ue)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(Ue){this.isSelected(Ue)||(this._multiple||this._unmarkAll(),this.isSelected(Ue)||this._selection.add(Ue),this._emitChanges&&this._selectedToEmit.push(Ue))}_unmarkSelected(Ue){this.isSelected(Ue)&&(this._selection.delete(Ue),this._emitChanges&&this._deselectedToEmit.push(Ue))}_unmarkAll(){this.isEmpty()||this._selection.forEach(Ue=>this._unmarkSelected(Ue))}_verifyValueAssignment(Ue){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let me=(()=>{class Ie{constructor(){this._listeners=[]}notify(Je,Fe){for(let ot of this._listeners)ot(Je,Fe)}listen(Je){return this._listeners.push(Je),()=>{this._listeners=this._listeners.filter(Fe=>Je!==Fe)}}ngOnDestroy(){this._listeners=[]}}return Ie.\u0275fac=function(Je){return new(Je||Ie)},Ie.\u0275prov=v.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})();const ye=new v.OlP("_ViewRepeater")},7855:(gn,_t,x)=>{"use strict";x.d(_t,{LL:()=>Fe,Su:()=>tt,Vq:()=>Le,ib:()=>Ue});var p=x(2687),N=x(8184),v=x(3353),ne=x(4080),C=x(6895),te=x(4650),we=x(9521),he=x(8929),Se=x(8514),ae=x(1086),me=x(445),ye=x(1059);function Ie(qe,Lt){}class Ue{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let Fe=(()=>{class qe extends ne.en{constructor(Ge,Ot,Bt,bn,qn,jn,ai,Vn){super(),this._elementRef=Ge,this._focusTrapFactory=Ot,this._config=bn,this._interactivityChecker=qn,this._ngZone=jn,this._overlayRef=ai,this._focusMonitor=Vn,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=rn=>{this._portalOutlet.hasAttached();const _n=this._portalOutlet.attachDomPortal(rn);return this._contentAttached(),_n},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=Bt}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(Ge){this._portalOutlet.hasAttached();const Ot=this._portalOutlet.attachComponentPortal(Ge);return this._contentAttached(),Ot}attachTemplatePortal(Ge){this._portalOutlet.hasAttached();const Ot=this._portalOutlet.attachTemplatePortal(Ge);return this._contentAttached(),Ot}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(Ge,Ot){this._interactivityChecker.isFocusable(Ge)||(Ge.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Bt=()=>{Ge.removeEventListener("blur",Bt),Ge.removeEventListener("mousedown",Bt),Ge.removeAttribute("tabindex")};Ge.addEventListener("blur",Bt),Ge.addEventListener("mousedown",Bt)})),Ge.focus(Ot)}_focusByCssSelector(Ge,Ot){let Bt=this._elementRef.nativeElement.querySelector(Ge);Bt&&this._forceFocus(Bt,Ot)}_trapFocus(){const Ge=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||Ge.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(Ot=>{Ot||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const Ge=this._config.restoreFocus;let Ot=null;if("string"==typeof Ge?Ot=this._document.querySelector(Ge):"boolean"==typeof Ge?Ot=Ge?this._elementFocusedBeforeDialogWasOpened:null:Ge&&(Ot=Ge),this._config.restoreFocus&&Ot&&"function"==typeof Ot.focus){const Bt=(0,v.ht)(),bn=this._elementRef.nativeElement;(!Bt||Bt===this._document.body||Bt===bn||bn.contains(Bt))&&(this._focusMonitor?(this._focusMonitor.focusVia(Ot,this._closeInteractionType),this._closeInteractionType=null):Ot.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const Ge=this._elementRef.nativeElement,Ot=(0,v.ht)();return Ge===Ot||Ge.contains(Ot)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,v.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return qe.\u0275fac=function(Ge){return new(Ge||qe)(te.Y36(te.SBq),te.Y36(p.qV),te.Y36(C.K0,8),te.Y36(Ue),te.Y36(p.ic),te.Y36(te.R0b),te.Y36(N.Iu),te.Y36(p.tE))},qe.\u0275cmp=te.Xpm({type:qe,selectors:[["cdk-dialog-container"]],viewQuery:function(Ge,Ot){if(1&Ge&&te.Gf(ne.Pl,7),2&Ge){let Bt;te.iGM(Bt=te.CRH())&&(Ot._portalOutlet=Bt.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(Ge,Ot){2&Ge&&te.uIk("id",Ot._config.id||null)("role",Ot._config.role)("aria-modal",Ot._config.ariaModal)("aria-labelledby",Ot._config.ariaLabel?null:Ot._ariaLabelledBy)("aria-label",Ot._config.ariaLabel)("aria-describedby",Ot._config.ariaDescribedBy||null)},features:[te.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Ge,Ot){1&Ge&&te.YNc(0,Ie,0,0,"ng-template",0)},dependencies:[ne.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),qe})();class ot{constructor(Lt,Ge){this.overlayRef=Lt,this.config=Ge,this.closed=new he.xQ,this.disableClose=Ge.disableClose,this.backdropClick=Lt.backdropClick(),this.keydownEvents=Lt.keydownEvents(),this.outsidePointerEvents=Lt.outsidePointerEvents(),this.id=Ge.id,this.keydownEvents.subscribe(Ot=>{Ot.keyCode===we.hY&&!this.disableClose&&!(0,we.Vb)(Ot)&&(Ot.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(Lt,Ge){if(this.containerInstance){const Ot=this.closed;this.containerInstance._closeInteractionType=Ge?.focusOrigin||"program",this.overlayRef.dispose(),Ot.next(Lt),Ot.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(Lt="",Ge=""){return this.overlayRef.updateSize({width:Lt,height:Ge}),this}addPanelClass(Lt){return this.overlayRef.addPanelClass(Lt),this}removePanelClass(Lt){return this.overlayRef.removePanelClass(Lt),this}}const ht=new te.OlP("DialogScrollStrategy"),jt=new te.OlP("DialogData"),ut=new te.OlP("DefaultDialogConfig"),vt={provide:ht,deps:[N.aV],useFactory:function kt(qe){return()=>qe.scrollStrategies.block()}};let et=0,Le=(()=>{class qe{constructor(Ge,Ot,Bt,bn,qn,jn){this._overlay=Ge,this._injector=Ot,this._defaultOptions=Bt,this._parentDialog=bn,this._overlayContainer=qn,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new he.xQ,this._afterOpenedAtThisLevel=new he.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Se.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,ye.O)(void 0))),this._scrollStrategy=jn}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(Ge,Ot){(Ot={...this._defaultOptions||new Ue,...Ot}).id=Ot.id||"cdk-dialog-"+et++,Ot.id&&this.getDialogById(Ot.id);const bn=this._getOverlayConfig(Ot),qn=this._overlay.create(bn),jn=new ot(qn,Ot),ai=this._attachContainer(qn,jn,Ot);return jn.containerInstance=ai,this._attachDialogContent(Ge,jn,ai,Ot),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(jn),jn.closed.subscribe(()=>this._removeOpenDialog(jn,!0)),this.afterOpened.next(jn),jn}closeAll(){ft(this.openDialogs,Ge=>Ge.close())}getDialogById(Ge){return this.openDialogs.find(Ot=>Ot.id===Ge)}ngOnDestroy(){ft(this._openDialogsAtThisLevel,Ge=>{!1===Ge.config.closeOnDestroy&&this._removeOpenDialog(Ge,!1)}),ft(this._openDialogsAtThisLevel,Ge=>Ge.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(Ge){const Ot=new N.X_({positionStrategy:Ge.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:Ge.scrollStrategy||this._scrollStrategy(),panelClass:Ge.panelClass,hasBackdrop:Ge.hasBackdrop,direction:Ge.direction,minWidth:Ge.minWidth,minHeight:Ge.minHeight,maxWidth:Ge.maxWidth,maxHeight:Ge.maxHeight,width:Ge.width,height:Ge.height,disposeOnNavigation:Ge.closeOnNavigation});return Ge.backdropClass&&(Ot.backdropClass=Ge.backdropClass),Ot}_attachContainer(Ge,Ot,Bt){var bn;const qn=Bt.injector||(null===(bn=Bt.viewContainerRef)||void 0===bn?void 0:bn.injector),jn=[{provide:Ue,useValue:Bt},{provide:ot,useValue:Ot},{provide:N.Iu,useValue:Ge}];let ai;Bt.container?"function"==typeof Bt.container?ai=Bt.container:(ai=Bt.container.type,jn.push(...Bt.container.providers(Bt))):ai=Fe;const Vn=new ne.C5(ai,Bt.viewContainerRef,te.zs3.create({parent:qn||this._injector,providers:jn}),Bt.componentFactoryResolver);return Ge.attach(Vn).instance}_attachDialogContent(Ge,Ot,Bt,bn){if(Ge instanceof te.Rgc){const qn=this._createInjector(bn,Ot,Bt,void 0);let jn={$implicit:bn.data,dialogRef:Ot};bn.templateContext&&(jn={...jn,..."function"==typeof bn.templateContext?bn.templateContext():bn.templateContext}),Bt.attachTemplatePortal(new ne.UE(Ge,null,jn,qn))}else{const qn=this._createInjector(bn,Ot,Bt,this._injector),jn=Bt.attachComponentPortal(new ne.C5(Ge,bn.viewContainerRef,qn,bn.componentFactoryResolver));Ot.componentInstance=jn.instance}}_createInjector(Ge,Ot,Bt,bn){var qn;const jn=Ge.injector||(null===(qn=Ge.viewContainerRef)||void 0===qn?void 0:qn.injector),ai=[{provide:jt,useValue:Ge.data},{provide:ot,useValue:Ot}];return Ge.providers&&("function"==typeof Ge.providers?ai.push(...Ge.providers(Ot,Ge,Bt)):ai.push(...Ge.providers)),Ge.direction&&(!jn||!jn.get(me.Is,null,te.XFs.Optional))&&ai.push({provide:me.Is,useValue:{value:Ge.direction,change:(0,ae.of)()}}),te.zs3.create({parent:jn||bn,providers:ai})}_removeOpenDialog(Ge,Ot){const Bt=this.openDialogs.indexOf(Ge);Bt>-1&&(this.openDialogs.splice(Bt,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((bn,qn)=>{bn?qn.setAttribute("aria-hidden",bn):qn.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),Ot&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const Ge=this._overlayContainer.getContainerElement();if(Ge.parentElement){const Ot=Ge.parentElement.children;for(let Bt=Ot.length-1;Bt>-1;Bt--){const bn=Ot[Bt];bn!==Ge&&"SCRIPT"!==bn.nodeName&&"STYLE"!==bn.nodeName&&!bn.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(bn,bn.getAttribute("aria-hidden")),bn.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const Ge=this._parentDialog;return Ge?Ge._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return qe.\u0275fac=function(Ge){return new(Ge||qe)(te.LFG(N.aV),te.LFG(te.zs3),te.LFG(ut,8),te.LFG(qe,12),te.LFG(N.Xj),te.LFG(ht))},qe.\u0275prov=te.Yz7({token:qe,factory:qe.\u0275fac}),qe})();function ft(qe,Lt){let Ge=qe.length;for(;Ge--;)Lt(qe[Ge])}let tt=(()=>{class qe{}return qe.\u0275fac=function(Ge){return new(Ge||qe)},qe.\u0275mod=te.oAB({type:qe}),qe.\u0275inj=te.cJS({providers:[Le,vt],imports:[N.U8,ne.eL,p.rt,ne.eL]}),qe})()},3977:(gn,_t,x)=>{"use strict";x.d(_t,{Zt:()=>St,Wj:()=>Wt,_t:()=>Gt,bA:()=>wn});var p=x(4650),N=x(6895),v=x(2556),ne=x(3353),C=x(1281),te=x(2687),we=x(8929),he=x(2654),Se=x(6498),ae=x(353),me=x(4241);function Ie(ge){const{subscriber:j,counter:G,period:X}=ge;j.next(G),this.schedule({subscriber:j,counter:G+1,period:X},X)}var Ue=x(352),Je=x(6787),Fe=x(7625),ot=x(1059),ht=x(4850),jt=x(2986),ut=x(2868),kt=x(7545),vt=x(445);function et(ge,j,G){for(let X in j)if(j.hasOwnProperty(X)){const K=j[X];K?ge.setProperty(X,K,null!=G&&G.has(X)?"important":""):ge.removeProperty(X)}return ge}function Le(ge,j){const G=j?"":"none";et(ge.style,{"touch-action":j?"":"none","-webkit-user-drag":j?"":"none","-webkit-tap-highlight-color":j?"":"transparent","user-select":G,"-ms-user-select":G,"-webkit-user-select":G,"-moz-user-select":G})}function ft(ge,j,G){et(ge.style,{position:j?"":"fixed",top:j?"":"0",opacity:j?"":"0",left:j?"":"-999em"},G)}function tt(ge,j){return j&&"none"!=j?ge+" "+j:ge}function qe(ge){const j=ge.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(ge)*j}function Ge(ge,j){return ge.getPropertyValue(j).split(",").map(X=>X.trim())}function Ot(ge){const j=ge.getBoundingClientRect();return{top:j.top,right:j.right,bottom:j.bottom,left:j.left,width:j.width,height:j.height,x:j.x,y:j.y}}function Bt(ge,j,G){const{top:X,bottom:K,left:fe,right:Qe}=ge;return G>=X&&G<=K&&j>=fe&&j<=Qe}function bn(ge,j,G){ge.top+=j,ge.bottom=ge.top+ge.height,ge.left+=G,ge.right=ge.left+ge.width}function qn(ge,j,G,X){const{top:K,right:fe,bottom:Qe,left:Ct,width:dn,height:pn}=ge,ze=dn*j,He=pn*j;return X>K-He&&X<Qe+He&&G>Ct-ze&&G<fe+ze}class jn{constructor(j){this._document=j,this.positions=new Map}clear(){this.positions.clear()}cache(j){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),j.forEach(G=>{this.positions.set(G,{scrollPosition:{top:G.scrollTop,left:G.scrollLeft},clientRect:Ot(G)})})}handleScroll(j){const G=(0,ne.sA)(j),X=this.positions.get(G);if(!X)return null;const K=X.scrollPosition;let fe,Qe;if(G===this._document){const pn=this.getViewportScrollPosition();fe=pn.top,Qe=pn.left}else fe=G.scrollTop,Qe=G.scrollLeft;const Ct=K.top-fe,dn=K.left-Qe;return this.positions.forEach((pn,ze)=>{pn.clientRect&&G!==ze&&G.contains(ze)&&bn(pn.clientRect,Ct,dn)}),K.top=fe,K.left=Qe,{top:Ct,left:dn}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function ai(ge){const j=ge.cloneNode(!0),G=j.querySelectorAll("[id]"),X=ge.nodeName.toLowerCase();j.removeAttribute("id");for(let K=0;K<G.length;K++)G[K].removeAttribute("id");return"canvas"===X?ke(ge,j):("input"===X||"select"===X||"textarea"===X)&&_n(ge,j),Vn("canvas",ge,j,ke),Vn("input, textarea, select",ge,j,_n),j}function Vn(ge,j,G,X){const K=j.querySelectorAll(ge);if(K.length){const fe=G.querySelectorAll(ge);for(let Qe=0;Qe<K.length;Qe++)X(K[Qe],fe[Qe])}}let rn=0;function _n(ge,j){"file"!==j.type&&(j.value=ge.value),"radio"===j.type&&j.name&&(j.name=`mat-clone-${j.name}-${rn++}`)}function ke(ge,j){const G=j.getContext("2d");if(G)try{G.drawImage(ge,0,0)}catch{}}const Be=(0,ne.i$)({passive:!0}),Ne=(0,ne.i$)({passive:!1}),Tt=new Set(["position"]);class en{constructor(j,G,X,K,fe,Qe){this._config=G,this._document=X,this._ngZone=K,this._viewportRuler=fe,this._dragDropRegistry=Qe,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new we.xQ,this._pointerMoveSubscription=he.w.EMPTY,this._pointerUpSubscription=he.w.EMPTY,this._scrollSubscription=he.w.EMPTY,this._resizeSubscription=he.w.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new we.xQ,this.started=new we.xQ,this.released=new we.xQ,this.ended=new we.xQ,this.entered=new we.xQ,this.exited=new we.xQ,this.dropped=new we.xQ,this.moved=this._moveEvents,this._pointerDown=Ct=>{if(this.beforeStarted.next(),this._handles.length){const dn=this._getTargetHandle(Ct);dn&&!this._disabledHandles.has(dn)&&!this.disabled&&this._initializeDragSequence(dn,Ct)}else this.disabled||this._initializeDragSequence(this._rootElement,Ct)},this._pointerMove=Ct=>{const dn=this._getPointerPositionOnPage(Ct);if(!this._hasStartedDragging){if(Math.abs(dn.x-this._pickupPositionOnPage.x)+Math.abs(dn.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const je=Date.now()>=this._dragStartTime+this._getDragStartDelay(Ct),De=this._dropContainer;if(!je)return void this._endDragSequence(Ct);(!De||!De.isDragging()&&!De.isReceiving())&&(Ct.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(Ct)))}return}Ct.preventDefault();const pn=this._getConstrainedPointerPosition(dn);if(this._hasMoved=!0,this._lastKnownPointerPosition=dn,this._updatePointerDirectionDelta(pn),this._dropContainer)this._updateActiveDropContainer(pn,dn);else{const ze=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,He=this._activeTransform;He.x=pn.x-ze.x+this._passiveTransform.x,He.y=pn.y-ze.y+this._passiveTransform.y,this._applyRootElementTransform(He.x,He.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:pn,event:Ct,distance:this._getDragDistance(pn),delta:this._pointerDirectionDelta})})},this._pointerUp=Ct=>{this._endDragSequence(Ct)},this._nativeDragStart=Ct=>{if(this._handles.length){const dn=this._getTargetHandle(Ct);dn&&!this._disabledHandles.has(dn)&&!this.disabled&&Ct.preventDefault()}else this.disabled||Ct.preventDefault()},this.withRootElement(j).withParent(G.parentDragRef||null),this._parentPositions=new jn(X),Qe.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(j){const G=(0,C.Ig)(j);G!==this._disabled&&(this._disabled=G,this._toggleNativeDragInteractions(),this._handles.forEach(X=>Le(X,G)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(j){this._handles=j.map(X=>(0,C.fI)(X)),this._handles.forEach(X=>Le(X,this.disabled)),this._toggleNativeDragInteractions();const G=new Set;return this._disabledHandles.forEach(X=>{this._handles.indexOf(X)>-1&&G.add(X)}),this._disabledHandles=G,this}withPreviewTemplate(j){return this._previewTemplate=j,this}withPlaceholderTemplate(j){return this._placeholderTemplate=j,this}withRootElement(j){const G=(0,C.fI)(j);return G!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{G.addEventListener("mousedown",this._pointerDown,Ne),G.addEventListener("touchstart",this._pointerDown,Be),G.addEventListener("dragstart",this._nativeDragStart,Ne)}),this._initialTransform=void 0,this._rootElement=G),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(j){return this._boundaryElement=j?(0,C.fI)(j):null,this._resizeSubscription.unsubscribe(),j&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(j){return this._parentDragRef=j,this}dispose(){var j,G;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(G=this._rootElement)||void 0===G||G.remove()),null===(j=this._anchor)||void 0===j||j.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(j){!this._disabledHandles.has(j)&&this._handles.indexOf(j)>-1&&(this._disabledHandles.add(j),Le(j,!0))}enableHandle(j){this._disabledHandles.has(j)&&(this._disabledHandles.delete(j),Le(j,this.disabled))}withDirection(j){return this._direction=j,this}_withDropContainer(j){this._dropContainer=j}getFreeDragPosition(){const j=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:j.x,y:j.y}}setFreeDragPosition(j){return this._activeTransform={x:0,y:0},this._passiveTransform.x=j.x,this._passiveTransform.y=j.y,this._dropContainer||this._applyRootElementTransform(j.x,j.y),this}withPreviewContainer(j){return this._previewContainer=j,this}_sortFromLastPointerPosition(){const j=this._lastKnownPointerPosition;j&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(j),j)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var j,G;null===(j=this._preview)||void 0===j||j.remove(),null===(G=this._previewRef)||void 0===G||G.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var j,G;null===(j=this._placeholder)||void 0===j||j.remove(),null===(G=this._placeholderRef)||void 0===G||G.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(j){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:j}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(j),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const G=this._getPointerPositionOnPage(j);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(G),dropPoint:G,event:j})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(j){Qt(j)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const G=this._dropContainer;if(G){const X=this._rootElement,K=X.parentNode,fe=this._placeholder=this._createPlaceholderElement(),Qe=this._anchor=this._anchor||this._document.createComment(""),Ct=this._getShadowRoot();K.insertBefore(Qe,X),this._initialTransform=X.style.transform||"",this._preview=this._createPreviewElement(),ft(X,!1,Tt),this._document.body.appendChild(K.replaceChild(fe,X)),this._getPreviewInsertionPoint(K,Ct).appendChild(this._preview),this.started.next({source:this,event:j}),G.start(),this._initialContainer=G,this._initialIndex=G.getItemIndex(this)}else this.started.next({source:this,event:j}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(G?G.getScrollableParents():[])}_initializeDragSequence(j,G){this._parentDragRef&&G.stopPropagation();const X=this.isDragging(),K=Qt(G),fe=!K&&0!==G.button,Qe=this._rootElement,Ct=(0,ne.sA)(G),dn=!K&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),pn=K?(0,te.yG)(G):(0,te.X6)(G);if(Ct&&Ct.draggable&&"mousedown"===G.type&&G.preventDefault(),X||fe||dn||pn)return;if(this._handles.length){const Ve=Qe.style;this._rootElementTapHighlight=Ve.webkitTapHighlightColor||"",Ve.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Ve=>this._updateOnScroll(Ve)),this._boundaryElement&&(this._boundaryRect=Ot(this._boundaryElement));const ze=this._previewTemplate;this._pickupPositionInElement=ze&&ze.template&&!ze.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,j,G);const He=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(G);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:He.x,y:He.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,G)}_cleanupDragArtifacts(j){ft(this._rootElement,!0,Tt),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const G=this._dropContainer,X=G.getItemIndex(this),K=this._getPointerPositionOnPage(j),fe=this._getDragDistance(K),Qe=G._isOverContainer(K.x,K.y);this.ended.next({source:this,distance:fe,dropPoint:K,event:j}),this.dropped.next({item:this,currentIndex:X,previousIndex:this._initialIndex,container:G,previousContainer:this._initialContainer,isPointerOverContainer:Qe,distance:fe,dropPoint:K,event:j}),G.drop(this,X,this._initialIndex,this._initialContainer,Qe,fe,K,j),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:j,y:G},{x:X,y:K}){let fe=this._initialContainer._getSiblingContainerFromPosition(this,j,G);!fe&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(j,G)&&(fe=this._initialContainer),fe&&fe!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=fe,this._dropContainer.enter(this,j,G,fe===this._initialContainer&&fe.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:fe,currentIndex:fe.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(X,K),this._dropContainer._sortItem(this,j,G,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(j,G):this._applyPreviewTransform(j-this._pickupPositionInElement.x,G-this._pickupPositionInElement.y))}_createPreviewElement(){const j=this._previewTemplate,G=this.previewClass,X=j?j.template:null;let K;if(X&&j){const fe=j.matchSize?this._initialClientRect:null,Qe=j.viewContainer.createEmbeddedView(X,j.context);Qe.detectChanges(),K=Mt(Qe,this._document),this._previewRef=Qe,j.matchSize?$t(K,fe):K.style.transform=Ln(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else K=ai(this._rootElement),$t(K,this._initialClientRect),this._initialTransform&&(K.style.transform=this._initialTransform);return et(K.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Tt),Le(K,!1),K.classList.add("cdk-drag-preview"),K.setAttribute("dir",this._direction),G&&(Array.isArray(G)?G.forEach(fe=>K.classList.add(fe)):K.classList.add(G)),K}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const j=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(j.left,j.top);const G=function Lt(ge){const j=getComputedStyle(ge),G=Ge(j,"transition-property"),X=G.find(Ct=>"transform"===Ct||"all"===Ct);if(!X)return 0;const K=G.indexOf(X),fe=Ge(j,"transition-duration"),Qe=Ge(j,"transition-delay");return qe(fe[K])+qe(Qe[K])}(this._preview);return 0===G?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(X=>{const K=Qe=>{var Ct;(!Qe||(0,ne.sA)(Qe)===this._preview&&"transform"===Qe.propertyName)&&(null===(Ct=this._preview)||void 0===Ct||Ct.removeEventListener("transitionend",K),X(),clearTimeout(fe))},fe=setTimeout(K,1.5*G);this._preview.addEventListener("transitionend",K)}))}_createPlaceholderElement(){const j=this._placeholderTemplate,G=j?j.template:null;let X;return G?(this._placeholderRef=j.viewContainer.createEmbeddedView(G,j.context),this._placeholderRef.detectChanges(),X=Mt(this._placeholderRef,this._document)):X=ai(this._rootElement),X.style.pointerEvents="none",X.classList.add("cdk-drag-placeholder"),X}_getPointerPositionInElement(j,G,X){const K=G===this._rootElement?null:G,fe=K?K.getBoundingClientRect():j,Qe=Qt(X)?X.targetTouches[0]:X,Ct=this._getViewportScrollPosition();return{x:fe.left-j.left+(Qe.pageX-fe.left-Ct.left),y:fe.top-j.top+(Qe.pageY-fe.top-Ct.top)}}_getPointerPositionOnPage(j){const G=this._getViewportScrollPosition(),X=Qt(j)?j.touches[0]||j.changedTouches[0]||{pageX:0,pageY:0}:j,K=X.pageX-G.left,fe=X.pageY-G.top;if(this._ownerSVGElement){const Qe=this._ownerSVGElement.getScreenCTM();if(Qe){const Ct=this._ownerSVGElement.createSVGPoint();return Ct.x=K,Ct.y=fe,Ct.matrixTransform(Qe.inverse())}}return{x:K,y:fe}}_getConstrainedPointerPosition(j){const G=this._dropContainer?this._dropContainer.lockAxis:null;let{x:X,y:K}=this.constrainPosition?this.constrainPosition(j,this,this._initialClientRect,this._pickupPositionInElement):j;if("x"===this.lockAxis||"x"===G?K=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===G)&&(X=this._pickupPositionOnPage.x),this._boundaryRect){const{x:fe,y:Qe}=this._pickupPositionInElement,Ct=this._boundaryRect,{width:dn,height:pn}=this._getPreviewRect(),ze=Ct.top+Qe,He=Ct.bottom-(pn-Qe);X=It(X,Ct.left+fe,Ct.right-(dn-fe)),K=It(K,ze,He)}return{x:X,y:K}}_updatePointerDirectionDelta(j){const{x:G,y:X}=j,K=this._pointerDirectionDelta,fe=this._pointerPositionAtLastDirectionChange,Qe=Math.abs(G-fe.x),Ct=Math.abs(X-fe.y);return Qe>this._config.pointerDirectionChangeThreshold&&(K.x=G>fe.x?1:-1,fe.x=G),Ct>this._config.pointerDirectionChangeThreshold&&(K.y=X>fe.y?1:-1,fe.y=X),K}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const j=this._handles.length>0||!this.isDragging();j!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=j,Le(this._rootElement,j))}_removeRootElementListeners(j){j.removeEventListener("mousedown",this._pointerDown,Ne),j.removeEventListener("touchstart",this._pointerDown,Be),j.removeEventListener("dragstart",this._nativeDragStart,Ne)}_applyRootElementTransform(j,G){const X=Ln(j,G),K=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=K.transform&&"none"!=K.transform?K.transform:""),K.transform=tt(X,this._initialTransform)}_applyPreviewTransform(j,G){var X;const K=null!==(X=this._previewTemplate)&&void 0!==X&&X.template?void 0:this._initialTransform,fe=Ln(j,G);this._preview.style.transform=tt(fe,K)}_getDragDistance(j){const G=this._pickupPositionOnPage;return G?{x:j.x-G.x,y:j.y-G.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:j,y:G}=this._passiveTransform;if(0===j&&0===G||this.isDragging()||!this._boundaryElement)return;const X=this._rootElement.getBoundingClientRect(),K=this._boundaryElement.getBoundingClientRect();if(0===K.width&&0===K.height||0===X.width&&0===X.height)return;const fe=K.left-X.left,Qe=X.right-K.right,Ct=K.top-X.top,dn=X.bottom-K.bottom;K.width>X.width?(fe>0&&(j+=fe),Qe>0&&(j-=Qe)):j=0,K.height>X.height?(Ct>0&&(G+=Ct),dn>0&&(G-=dn)):G=0,(j!==this._passiveTransform.x||G!==this._passiveTransform.y)&&this.setFreeDragPosition({y:G,x:j})}_getDragStartDelay(j){const G=this.dragStartDelay;return"number"==typeof G?G:Qt(j)?G.touch:G?G.mouse:0}_updateOnScroll(j){const G=this._parentPositions.handleScroll(j);if(G){const X=(0,ne.sA)(j);this._boundaryRect&&X!==this._boundaryElement&&X.contains(this._boundaryElement)&&bn(this._boundaryRect,G.top,G.left),this._pickupPositionOnPage.x+=G.left,this._pickupPositionOnPage.y+=G.top,this._dropContainer||(this._activeTransform.x-=G.left,this._activeTransform.y-=G.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var j;return(null===(j=this._parentPositions.positions.get(this._document))||void 0===j?void 0:j.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,ne.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(j,G){const X=this._previewContainer||"global";if("parent"===X)return j;if("global"===X){const K=this._document;return G||K.fullscreenElement||K.webkitFullscreenElement||K.mozFullScreenElement||K.msFullscreenElement||K.body}return(0,C.fI)(X)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(j){return this._handles.find(G=>j.target&&(j.target===G||G.contains(j.target)))}}function Ln(ge,j){return`translate3d(${Math.round(ge)}px, ${Math.round(j)}px, 0)`}function It(ge,j,G){return Math.max(j,Math.min(G,ge))}function Qt(ge){return"t"===ge.type[0]}function Mt(ge,j){const G=ge.rootNodes;if(1===G.length&&G[0].nodeType===j.ELEMENT_NODE)return G[0];const X=j.createElement("div");return G.forEach(K=>X.appendChild(K)),X}function $t(ge,j){ge.style.width=`${j.width}px`,ge.style.height=`${j.height}px`,ge.style.transform=Ln(j.left,j.top)}function wn(ge,j,G){const X=Dn(j,ge.length-1),K=Dn(G,ge.length-1);if(X===K)return;const fe=ge[X],Qe=K<X?-1:1;for(let Ct=X;Ct!==K;Ct+=Qe)ge[Ct]=ge[Ct+Qe];ge[K]=fe}function Dn(ge,j){return Math.max(0,Math.min(j,ge))}class pt{constructor(j,G){this._element=j,this._dragDropRegistry=G,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(j){this.withItems(j)}sort(j,G,X,K){const fe=this._itemPositions,Qe=this._getItemIndexFromPointerPosition(j,G,X,K);if(-1===Qe&&fe.length>0)return null;const Ct="horizontal"===this.orientation,dn=fe.findIndex(rt=>rt.drag===j),pn=fe[Qe],He=pn.clientRect,Ve=dn>Qe?1:-1,je=this._getItemOffsetPx(fe[dn].clientRect,He,Ve),De=this._getSiblingOffsetPx(dn,fe,Ve),Ce=fe.slice();return wn(fe,dn,Qe),fe.forEach((rt,Vt)=>{if(Ce[Vt]===rt)return;const sn=rt.drag===j,Yn=sn?je:De,Pn=sn?j.getPlaceholderElement():rt.drag.getRootElement();rt.offset+=Yn,Ct?(Pn.style.transform=tt(`translate3d(${Math.round(rt.offset)}px, 0, 0)`,rt.initialTransform),bn(rt.clientRect,0,Yn)):(Pn.style.transform=tt(`translate3d(0, ${Math.round(rt.offset)}px, 0)`,rt.initialTransform),bn(rt.clientRect,Yn,0))}),this._previousSwap.overlaps=Bt(He,G,X),this._previousSwap.drag=pn.drag,this._previousSwap.delta=Ct?K.x:K.y,{previousIndex:dn,currentIndex:Qe}}enter(j,G,X,K){const fe=null==K||K<0?this._getItemIndexFromPointerPosition(j,G,X):K,Qe=this._activeDraggables,Ct=Qe.indexOf(j),dn=j.getPlaceholderElement();let pn=Qe[fe];if(pn===j&&(pn=Qe[fe+1]),!pn&&(null==fe||-1===fe||fe<Qe.length-1)&&this._shouldEnterAsFirstChild(G,X)&&(pn=Qe[0]),Ct>-1&&Qe.splice(Ct,1),pn&&!this._dragDropRegistry.isDragging(pn)){const ze=pn.getRootElement();ze.parentElement.insertBefore(dn,ze),Qe.splice(fe,0,j)}else(0,C.fI)(this._element).appendChild(dn),Qe.push(j);dn.style.transform="",this._cacheItemPositions()}withItems(j){this._activeDraggables=j.slice(),this._cacheItemPositions()}withSortPredicate(j){this._sortPredicate=j}reset(){this._activeDraggables.forEach(j=>{const G=j.getRootElement();if(G){var X;const K=null===(X=this._itemPositions.find(fe=>fe.drag===j))||void 0===X?void 0:X.initialTransform;G.style.transform=K||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(j){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(X=>X.drag===j)}updateOnScroll(j,G){this._itemPositions.forEach(({clientRect:X})=>{bn(X,j,G)}),this._itemPositions.forEach(({drag:X})=>{this._dragDropRegistry.isDragging(X)&&X._sortFromLastPointerPosition()})}_cacheItemPositions(){const j="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(G=>{const X=G.getVisibleElement();return{drag:G,offset:0,initialTransform:X.style.transform||"",clientRect:Ot(X)}}).sort((G,X)=>j?G.clientRect.left-X.clientRect.left:G.clientRect.top-X.clientRect.top)}_getItemOffsetPx(j,G,X){const K="horizontal"===this.orientation;let fe=K?G.left-j.left:G.top-j.top;return-1===X&&(fe+=K?G.width-j.width:G.height-j.height),fe}_getSiblingOffsetPx(j,G,X){const K="horizontal"===this.orientation,fe=G[j].clientRect,Qe=G[j+-1*X];let Ct=fe[K?"width":"height"]*X;if(Qe){const dn=K?"left":"top",pn=K?"right":"bottom";-1===X?Ct-=Qe.clientRect[dn]-fe[pn]:Ct+=fe[dn]-Qe.clientRect[pn]}return Ct}_shouldEnterAsFirstChild(j,G){if(!this._activeDraggables.length)return!1;const X=this._itemPositions,K="horizontal"===this.orientation;if(X[0].drag!==this._activeDraggables[0]){const Qe=X[X.length-1].clientRect;return K?j>=Qe.right:G>=Qe.bottom}{const Qe=X[0].clientRect;return K?j<=Qe.left:G<=Qe.top}}_getItemIndexFromPointerPosition(j,G,X,K){const fe="horizontal"===this.orientation,Qe=this._itemPositions.findIndex(({drag:Ct,clientRect:dn})=>{if(Ct===j)return!1;if(K){const pn=fe?K.x:K.y;if(Ct===this._previousSwap.drag&&this._previousSwap.overlaps&&pn===this._previousSwap.delta)return!1}return fe?G>=Math.floor(dn.left)&&G<Math.floor(dn.right):X>=Math.floor(dn.top)&&X<Math.floor(dn.bottom)});return-1!==Qe&&this._sortPredicate(Qe,j)?Qe:-1}}class Pe{constructor(j,G,X,K,fe){this._dragDropRegistry=G,this._ngZone=K,this._viewportRuler=fe,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new we.xQ,this.entered=new we.xQ,this.exited=new we.xQ,this.dropped=new we.xQ,this.sorted=new we.xQ,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=he.w.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new we.xQ,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function ye(ge=0,j=ae.P){return(!(0,me.k)(ge)||ge<0)&&(ge=0),(!j||"function"!=typeof j.schedule)&&(j=ae.P),new Se.y(G=>(G.add(j.schedule(Ie,ge,{subscriber:G,counter:0,period:ge})),G))}(0,Ue.r).pipe((0,Fe.R)(this._stopScrollTimers)).subscribe(()=>{const Qe=this._scrollNode,Ct=this.autoScrollStep;1===this._verticalScrollDirection?Qe.scrollBy(0,-Ct):2===this._verticalScrollDirection&&Qe.scrollBy(0,Ct),1===this._horizontalScrollDirection?Qe.scrollBy(-Ct,0):2===this._horizontalScrollDirection&&Qe.scrollBy(Ct,0)})},this.element=(0,C.fI)(j),this._document=X,this.withScrollableParents([this.element]),G.registerDropContainer(this),this._parentPositions=new jn(X),this._sortStrategy=new pt(this.element,G),this._sortStrategy.withSortPredicate((Qe,Ct)=>this.sortPredicate(Qe,Ct,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(j,G,X,K){this._draggingStarted(),null==K&&this.sortingDisabled&&(K=this._draggables.indexOf(j)),this._sortStrategy.enter(j,G,X,K),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:j,container:this,currentIndex:this.getItemIndex(j)})}exit(j){this._reset(),this.exited.next({item:j,container:this})}drop(j,G,X,K,fe,Qe,Ct,dn={}){this._reset(),this.dropped.next({item:j,currentIndex:G,previousIndex:X,container:this,previousContainer:K,isPointerOverContainer:fe,distance:Qe,dropPoint:Ct,event:dn})}withItems(j){const G=this._draggables;return this._draggables=j,j.forEach(X=>X._withDropContainer(this)),this.isDragging()&&(G.filter(K=>K.isDragging()).every(K=>-1===j.indexOf(K))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(j){return this._sortStrategy.direction=j,this}connectedTo(j){return this._siblings=j.slice(),this}withOrientation(j){return this._sortStrategy.orientation=j,this}withScrollableParents(j){const G=(0,C.fI)(this.element);return this._scrollableElements=-1===j.indexOf(G)?[G,...j]:j.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(j){return this._isDragging?this._sortStrategy.getItemIndex(j):this._draggables.indexOf(j)}isReceiving(){return this._activeSiblings.size>0}_sortItem(j,G,X,K){if(this.sortingDisabled||!this._clientRect||!qn(this._clientRect,.05,G,X))return;const fe=this._sortStrategy.sort(j,G,X,K);fe&&this.sorted.next({previousIndex:fe.previousIndex,currentIndex:fe.currentIndex,container:this,item:j})}_startScrollingIfNecessary(j,G){if(this.autoScrollDisabled)return;let X,K=0,fe=0;if(this._parentPositions.positions.forEach((Qe,Ct)=>{Ct===this._document||!Qe.clientRect||X||qn(Qe.clientRect,.05,j,G)&&([K,fe]=function be(ge,j,G,X){const K=ce(j,X),fe=Ye(j,G);let Qe=0,Ct=0;if(K){const dn=ge.scrollTop;1===K?dn>0&&(Qe=1):ge.scrollHeight-dn>ge.clientHeight&&(Qe=2)}if(fe){const dn=ge.scrollLeft;1===fe?dn>0&&(Ct=1):ge.scrollWidth-dn>ge.clientWidth&&(Ct=2)}return[Qe,Ct]}(Ct,Qe.clientRect,j,G),(K||fe)&&(X=Ct))}),!K&&!fe){const{width:Qe,height:Ct}=this._viewportRuler.getViewportSize(),dn={width:Qe,height:Ct,top:0,right:Qe,bottom:Ct,left:0};K=ce(dn,G),fe=Ye(dn,j),X=window}X&&(K!==this._verticalScrollDirection||fe!==this._horizontalScrollDirection||X!==this._scrollNode)&&(this._verticalScrollDirection=K,this._horizontalScrollDirection=fe,this._scrollNode=X,(K||fe)&&X?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const j=(0,C.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=j.msScrollSnapType||j.scrollSnapType||"",j.scrollSnapType=j.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const j=(0,C.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(j).clientRect}_reset(){this._isDragging=!1;const j=(0,C.fI)(this.element).style;j.scrollSnapType=j.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(G=>G._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(j,G){return null!=this._clientRect&&Bt(this._clientRect,j,G)}_getSiblingContainerFromPosition(j,G,X){return this._siblings.find(K=>K._canReceive(j,G,X))}_canReceive(j,G,X){if(!this._clientRect||!Bt(this._clientRect,G,X)||!this.enterPredicate(j,this))return!1;const K=this._getShadowRoot().elementFromPoint(G,X);if(!K)return!1;const fe=(0,C.fI)(this.element);return K===fe||fe.contains(K)}_startReceiving(j,G){const X=this._activeSiblings;!X.has(j)&&G.every(K=>this.enterPredicate(K,this)||this._draggables.indexOf(K)>-1)&&(X.add(j),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(j){this._activeSiblings.delete(j),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(j=>{if(this.isDragging()){const G=this._parentPositions.handleScroll(j);G&&this._sortStrategy.updateOnScroll(G.top,G.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const j=(0,ne.kV)((0,C.fI)(this.element));this._cachedShadowRoot=j||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const j=this._sortStrategy.getActiveItemsSnapshot().filter(G=>G.isDragging());this._siblings.forEach(G=>G._startReceiving(this,j))}}function ce(ge,j){const{top:G,bottom:X,height:K}=ge,fe=.05*K;return j>=G-fe&&j<=G+fe?1:j>=X-fe&&j<=X+fe?2:0}function Ye(ge,j){const{left:G,right:X,width:K}=ge,fe=.05*K;return j>=G-fe&&j<=G+fe?1:j>=X-fe&&j<=X+fe?2:0}const We=(0,ne.i$)({passive:!1,capture:!0});let Ut=(()=>{class ge{constructor(G,X){this._ngZone=G,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=K=>K.isDragging(),this.pointerMove=new we.xQ,this.pointerUp=new we.xQ,this.scroll=new we.xQ,this._preventDefaultWhileDragging=K=>{this._activeDragInstances.length>0&&K.preventDefault()},this._persistentTouchmoveListener=K=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&K.preventDefault(),this.pointerMove.next(K))},this._document=X}registerDropContainer(G){this._dropInstances.has(G)||this._dropInstances.add(G)}registerDragItem(G){this._dragInstances.add(G),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,We)})}removeDropContainer(G){this._dropInstances.delete(G)}removeDragItem(G){this._dragInstances.delete(G),this.stopDragging(G),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,We)}startDragging(G,X){if(!(this._activeDragInstances.indexOf(G)>-1)&&(this._activeDragInstances.push(G),1===this._activeDragInstances.length)){const K=X.type.startsWith("touch");this._globalListeners.set(K?"touchend":"mouseup",{handler:fe=>this.pointerUp.next(fe),options:!0}).set("scroll",{handler:fe=>this.scroll.next(fe),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:We}),K||this._globalListeners.set("mousemove",{handler:fe=>this.pointerMove.next(fe),options:We}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((fe,Qe)=>{this._document.addEventListener(Qe,fe.handler,fe.options)})})}}stopDragging(G){const X=this._activeDragInstances.indexOf(G);X>-1&&(this._activeDragInstances.splice(X,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(G){return this._activeDragInstances.indexOf(G)>-1}scrolled(G){const X=[this.scroll];return G&&G!==this._document&&X.push(new Se.y(K=>this._ngZone.runOutsideAngular(()=>{const Qe=Ct=>{this._activeDragInstances.length&&K.next(Ct)};return G.addEventListener("scroll",Qe,!0),()=>{G.removeEventListener("scroll",Qe,!0)}}))),(0,Je.T)(...X)}ngOnDestroy(){this._dragInstances.forEach(G=>this.removeDragItem(G)),this._dropInstances.forEach(G=>this.removeDropContainer(G)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((G,X)=>{this._document.removeEventListener(X,G.handler,G.options)}),this._globalListeners.clear()}}return ge.\u0275fac=function(G){return new(G||ge)(p.LFG(p.R0b),p.LFG(N.K0))},ge.\u0275prov=p.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})();const Nt={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Yt=(()=>{class ge{constructor(G,X,K,fe){this._document=G,this._ngZone=X,this._viewportRuler=K,this._dragDropRegistry=fe}createDrag(G,X=Nt){return new en(G,X,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(G){return new Pe(G,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return ge.\u0275fac=function(G){return new(G||ge)(p.LFG(N.K0),p.LFG(p.R0b),p.LFG(v.rL),p.LFG(Ut))},ge.\u0275prov=p.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})();const Sn=new p.OlP("CDK_DRAG_PARENT"),Dt=new p.OlP("CdkDropListGroup"),ni=new p.OlP("CDK_DRAG_CONFIG");let Ii=0;const Tn=new p.OlP("CdkDropList");let Wt=(()=>{class ge{constructor(G,X,K,fe,Qe,Ct,dn){this.element=G,this._changeDetectorRef=K,this._scrollDispatcher=fe,this._dir=Qe,this._group=Ct,this._destroyed=new we.xQ,this.connectedTo=[],this.id="cdk-drop-list-"+Ii++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new p.vpe,this.entered=new p.vpe,this.exited=new p.vpe,this.sorted=new p.vpe,this._unsortedItems=new Set,this._dropListRef=X.createDropList(G),this._dropListRef.data=this,dn&&this._assignDefaults(dn),this._dropListRef.enterPredicate=(pn,ze)=>this.enterPredicate(pn.data,ze.data),this._dropListRef.sortPredicate=(pn,ze,He)=>this.sortPredicate(pn,ze.data,He.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),ge._dropLists.push(this),Ct&&Ct._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(G){this._dropListRef.disabled=this._disabled=(0,C.Ig)(G)}addItem(G){this._unsortedItems.add(G),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(G){this._unsortedItems.delete(G),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((G,X)=>G._dragRef.getVisibleElement().compareDocumentPosition(X._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const G=ge._dropLists.indexOf(this);G>-1&&ge._dropLists.splice(G,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(G){this._dir&&this._dir.change.pipe((0,ot.O)(this._dir.value),(0,Fe.R)(this._destroyed)).subscribe(X=>G.withDirection(X)),G.beforeStarted.subscribe(()=>{const X=(0,C.Eq)(this.connectedTo).map(K=>"string"==typeof K?ge._dropLists.find(Qe=>Qe.id===K):K);if(this._group&&this._group._items.forEach(K=>{-1===X.indexOf(K)&&X.push(K)}),!this._scrollableParentsResolved){const K=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(fe=>fe.getElementRef().nativeElement);this._dropListRef.withScrollableParents(K),this._scrollableParentsResolved=!0}G.disabled=this.disabled,G.lockAxis=this.lockAxis,G.sortingDisabled=(0,C.Ig)(this.sortingDisabled),G.autoScrollDisabled=(0,C.Ig)(this.autoScrollDisabled),G.autoScrollStep=(0,C.su)(this.autoScrollStep,2),G.connectedTo(X.filter(K=>K&&K!==this).map(K=>K._dropListRef)).withOrientation(this.orientation)})}_handleEvents(G){G.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),G.entered.subscribe(X=>{this.entered.emit({container:this,item:X.item.data,currentIndex:X.currentIndex})}),G.exited.subscribe(X=>{this.exited.emit({container:this,item:X.item.data}),this._changeDetectorRef.markForCheck()}),G.sorted.subscribe(X=>{this.sorted.emit({previousIndex:X.previousIndex,currentIndex:X.currentIndex,container:this,item:X.item.data})}),G.dropped.subscribe(X=>{this.dropped.emit({previousIndex:X.previousIndex,currentIndex:X.currentIndex,previousContainer:X.previousContainer.data,container:X.container.data,item:X.item.data,isPointerOverContainer:X.isPointerOverContainer,distance:X.distance,dropPoint:X.dropPoint,event:X.event}),this._changeDetectorRef.markForCheck()})}_assignDefaults(G){const{lockAxis:X,draggingDisabled:K,sortingDisabled:fe,listAutoScrollDisabled:Qe,listOrientation:Ct}=G;this.disabled=K??!1,this.sortingDisabled=fe??!1,this.autoScrollDisabled=Qe??!1,this.orientation=Ct||"vertical",X&&(this.lockAxis=X)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(G=>G._dragRef))}}return ge._dropLists=[],ge.\u0275fac=function(G){return new(G||ge)(p.Y36(p.SBq),p.Y36(Yt),p.Y36(p.sBO),p.Y36(v.mF),p.Y36(vt.Is,8),p.Y36(Dt,12),p.Y36(ni,8))},ge.\u0275dir=p.lG2({type:ge,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(G,X){2&G&&(p.uIk("id",X.id),p.ekj("cdk-drop-list-disabled",X.disabled)("cdk-drop-list-dragging",X._dropListRef.isDragging())("cdk-drop-list-receiving",X._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[p._Bn([{provide:Dt,useValue:void 0},{provide:Tn,useExisting:ge}])]}),ge})();const gt=new p.OlP("CdkDragHandle"),ln=new p.OlP("CdkDragPlaceholder"),lt=new p.OlP("CdkDragPreview");let St=(()=>{class ge{constructor(G,X,K,fe,Qe,Ct,dn,pn,ze,He,Ve){this.element=G,this.dropContainer=X,this._ngZone=fe,this._viewContainerRef=Qe,this._dir=dn,this._changeDetectorRef=ze,this._selfHandle=He,this._parentDrag=Ve,this._destroyed=new we.xQ,this.started=new p.vpe,this.released=new p.vpe,this.ended=new p.vpe,this.entered=new p.vpe,this.exited=new p.vpe,this.dropped=new p.vpe,this.moved=new Se.y(je=>{const De=this._dragRef.moved.pipe((0,ht.U)(Ce=>({source:this,pointerPosition:Ce.pointerPosition,event:Ce.event,delta:Ce.delta,distance:Ce.distance}))).subscribe(je);return()=>{De.unsubscribe()}}),this._dragRef=pn.createDrag(G,{dragStartThreshold:Ct&&null!=Ct.dragStartThreshold?Ct.dragStartThreshold:5,pointerDirectionChangeThreshold:Ct&&null!=Ct.pointerDirectionChangeThreshold?Ct.pointerDirectionChangeThreshold:5,zIndex:Ct?.zIndex}),this._dragRef.data=this,ge._dragInstances.push(this),Ct&&this._assignDefaults(Ct),X&&(this._dragRef._withDropContainer(X._dropListRef),X.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(G){this._disabled=(0,C.Ig)(G),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(G){this._dragRef.setFreeDragPosition(G)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,jt.q)(1),(0,Fe.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(G){const X=G.rootElementSelector,K=G.freeDragPosition;X&&!X.firstChange&&this._updateRootElement(),K&&!K.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const G=ge._dragInstances.indexOf(this);G>-1&&ge._dragInstances.splice(G,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const G=this.element.nativeElement;let X=G;var K;this.rootElementSelector&&(X=void 0!==G.closest?G.closest(this.rootElementSelector):null===(K=G.parentElement)||void 0===K?void 0:K.closest(this.rootElementSelector)),this._dragRef.withRootElement(X||G)}_getBoundaryElement(){const G=this.boundaryElement;return G?"string"==typeof G?this.element.nativeElement.closest(G):(0,C.fI)(G):null}_syncInputs(G){G.beforeStarted.subscribe(()=>{if(!G.isDragging()){const X=this._dir,K=this.dragStartDelay,fe=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,Qe=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;G.disabled=this.disabled,G.lockAxis=this.lockAxis,G.dragStartDelay="object"==typeof K&&K?K:(0,C.su)(K),G.constrainPosition=this.constrainPosition,G.previewClass=this.previewClass,G.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(fe).withPreviewTemplate(Qe).withPreviewContainer(this.previewContainer||"global"),X&&G.withDirection(X.value)}}),G.beforeStarted.pipe((0,jt.q)(1)).subscribe(()=>{if(this._parentDrag)return void G.withParent(this._parentDrag._dragRef);let X=this.element.nativeElement.parentElement;for(;X;){if(X.classList.contains("cdk-drag")){var K;G.withParent((null===(K=ge._dragInstances.find(fe=>fe.element.nativeElement===X))||void 0===K?void 0:K._dragRef)||null);break}X=X.parentElement}})}_handleEvents(G){G.started.subscribe(X=>{this.started.emit({source:this,event:X.event}),this._changeDetectorRef.markForCheck()}),G.released.subscribe(X=>{this.released.emit({source:this,event:X.event})}),G.ended.subscribe(X=>{this.ended.emit({source:this,distance:X.distance,dropPoint:X.dropPoint,event:X.event}),this._changeDetectorRef.markForCheck()}),G.entered.subscribe(X=>{this.entered.emit({container:X.container.data,item:this,currentIndex:X.currentIndex})}),G.exited.subscribe(X=>{this.exited.emit({container:X.container.data,item:this})}),G.dropped.subscribe(X=>{this.dropped.emit({previousIndex:X.previousIndex,currentIndex:X.currentIndex,previousContainer:X.previousContainer.data,container:X.container.data,isPointerOverContainer:X.isPointerOverContainer,item:this,distance:X.distance,dropPoint:X.dropPoint,event:X.event})})}_assignDefaults(G){const{lockAxis:X,dragStartDelay:K,constrainPosition:fe,previewClass:Qe,boundaryElement:Ct,draggingDisabled:dn,rootElementSelector:pn,previewContainer:ze}=G;this.disabled=dn??!1,this.dragStartDelay=K||0,X&&(this.lockAxis=X),fe&&(this.constrainPosition=fe),Qe&&(this.previewClass=Qe),Ct&&(this.boundaryElement=Ct),pn&&(this.rootElementSelector=pn),ze&&(this.previewContainer=ze)}_setupHandlesListener(){this._handles.changes.pipe((0,ot.O)(this._handles),(0,ut.b)(G=>{const X=G.filter(K=>K._parentDrag===this).map(K=>K.element);this._selfHandle&&this.rootElementSelector&&X.push(this.element),this._dragRef.withHandles(X)}),(0,kt.w)(G=>(0,Je.T)(...G.map(X=>X._stateChanges.pipe((0,ot.O)(X))))),(0,Fe.R)(this._destroyed)).subscribe(G=>{const X=this._dragRef,K=G.element.nativeElement;G.disabled?X.disableHandle(K):X.enableHandle(K)})}}return ge._dragInstances=[],ge.\u0275fac=function(G){return new(G||ge)(p.Y36(p.SBq),p.Y36(Tn,12),p.Y36(N.K0),p.Y36(p.R0b),p.Y36(p.s_b),p.Y36(ni,8),p.Y36(vt.Is,8),p.Y36(Yt),p.Y36(p.sBO),p.Y36(gt,10),p.Y36(Sn,12))},ge.\u0275dir=p.lG2({type:ge,selectors:[["","cdkDrag",""]],contentQueries:function(G,X,K){if(1&G&&(p.Suo(K,lt,5),p.Suo(K,ln,5),p.Suo(K,gt,5)),2&G){let fe;p.iGM(fe=p.CRH())&&(X._previewTemplate=fe.first),p.iGM(fe=p.CRH())&&(X._placeholderTemplate=fe.first),p.iGM(fe=p.CRH())&&(X._handles=fe)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(G,X){2&G&&p.ekj("cdk-drag-disabled",X.disabled)("cdk-drag-dragging",X._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[p._Bn([{provide:Sn,useExisting:ge}]),p.TTD]}),ge})(),Gt=(()=>{class ge{}return ge.\u0275fac=function(G){return new(G||ge)},ge.\u0275mod=p.oAB({type:ge}),ge.\u0275inj=p.cJS({providers:[Yt],imports:[v.ZD]}),ge})()},9521:(gn,_t,x)=>{"use strict";x.d(_t,{A:()=>ke,JH:()=>ut,JU:()=>te,K5:()=>C,Ku:()=>Ie,LH:()=>ht,L_:()=>ye,MW:()=>Sn,Mf:()=>v,SV:()=>jt,Sd:()=>Fe,VM:()=>Ue,Vb:()=>Ms,Z:()=>Yt,ZH:()=>N,aO:()=>jn,b2:()=>Br,hY:()=>me,jx:()=>we,oh:()=>ot,uR:()=>Je,xE:()=>ft,yY:()=>Le,zL:()=>he});const N=8,v=9,C=13,te=16,we=17,he=18,me=27,ye=32,Ie=33,Ue=34,Je=35,Fe=36,ot=37,ht=38,jt=39,ut=40,Le=46,ft=48,jn=57,ke=65,Yt=90,Sn=91,Br=224;function Ms(lr,...$o){return $o.length?$o.some(Rr=>lr[Rr]):lr.altKey||lr.shiftKey||lr.ctrlKey||lr.metaKey}},2289:(gn,_t,x)=>{"use strict";x.d(_t,{Yg:()=>ut,u3:()=>vt});var p=x(4650),N=x(1281),v=x(8929),ne=x(6053),C=x(1221),te=x(6498),we=x(2986),he=x(1307),Se=x(13),ae=x(4850),me=x(1059),ye=x(7625),Ie=x(3353);const Je=new Set;let Fe,ot=(()=>{class et{constructor(ft){this._platform=ft,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):jt}matchMedia(ft){return(this._platform.WEBKIT||this._platform.BLINK)&&function ht(et){if(!Je.has(et))try{Fe||(Fe=document.createElement("style"),Fe.setAttribute("type","text/css"),document.head.appendChild(Fe)),Fe.sheet&&(Fe.sheet.insertRule(`@media ${et} {body{ }}`,0),Je.add(et))}catch(Le){console.error(Le)}}(ft),this._matchMedia(ft)}}return et.\u0275fac=function(ft){return new(ft||et)(p.LFG(Ie.t4))},et.\u0275prov=p.Yz7({token:et,factory:et.\u0275fac,providedIn:"root"}),et})();function jt(et){return{matches:"all"===et||""===et,media:et,addListener:()=>{},removeListener:()=>{}}}let ut=(()=>{class et{constructor(ft,tt){this._mediaMatcher=ft,this._zone=tt,this._queries=new Map,this._destroySubject=new v.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(ft){return kt((0,N.Eq)(ft)).some(qe=>this._registerQuery(qe).mql.matches)}observe(ft){const qe=kt((0,N.Eq)(ft)).map(Ge=>this._registerQuery(Ge).observable);let Lt=(0,ne.aj)(qe);return Lt=(0,C.z)(Lt.pipe((0,we.q)(1)),Lt.pipe((0,he.T)(1),(0,Se.b)(0))),Lt.pipe((0,ae.U)(Ge=>{const Ot={matches:!1,breakpoints:{}};return Ge.forEach(({matches:Bt,query:bn})=>{Ot.matches=Ot.matches||Bt,Ot.breakpoints[bn]=Bt}),Ot}))}_registerQuery(ft){if(this._queries.has(ft))return this._queries.get(ft);const tt=this._mediaMatcher.matchMedia(ft),Lt={observable:new te.y(Ge=>{const Ot=Bt=>this._zone.run(()=>Ge.next(Bt));return tt.addListener(Ot),()=>{tt.removeListener(Ot)}}).pipe((0,me.O)(tt),(0,ae.U)(({matches:Ge})=>({query:ft,matches:Ge})),(0,ye.R)(this._destroySubject)),mql:tt};return this._queries.set(ft,Lt),Lt}}return et.\u0275fac=function(ft){return new(ft||et)(p.LFG(ot),p.LFG(p.R0b))},et.\u0275prov=p.Yz7({token:et,factory:et.\u0275fac,providedIn:"root"}),et})();function kt(et){return et.map(Le=>Le.split(",")).reduce((Le,ft)=>Le.concat(ft)).map(Le=>Le.trim())}const vt={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},9643:(gn,_t,x)=>{"use strict";x.d(_t,{Q8:()=>Se,wD:()=>he});var p=x(1281),N=x(4650),v=x(6498),ne=x(8929),C=x(13);let te=(()=>{class ae{create(ye){return typeof MutationObserver>"u"?null:new MutationObserver(ye)}}return ae.\u0275fac=function(ye){return new(ye||ae)},ae.\u0275prov=N.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})(),we=(()=>{class ae{constructor(ye){this._mutationObserverFactory=ye,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((ye,Ie)=>this._cleanupObserver(Ie))}observe(ye){const Ie=(0,p.fI)(ye);return new v.y(Ue=>{const Fe=this._observeElement(Ie).subscribe(Ue);return()=>{Fe.unsubscribe(),this._unobserveElement(Ie)}})}_observeElement(ye){if(this._observedElements.has(ye))this._observedElements.get(ye).count++;else{const Ie=new ne.xQ,Ue=this._mutationObserverFactory.create(Je=>Ie.next(Je));Ue&&Ue.observe(ye,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(ye,{observer:Ue,stream:Ie,count:1})}return this._observedElements.get(ye).stream}_unobserveElement(ye){this._observedElements.has(ye)&&(this._observedElements.get(ye).count--,this._observedElements.get(ye).count||this._cleanupObserver(ye))}_cleanupObserver(ye){if(this._observedElements.has(ye)){const{observer:Ie,stream:Ue}=this._observedElements.get(ye);Ie&&Ie.disconnect(),Ue.complete(),this._observedElements.delete(ye)}}}return ae.\u0275fac=function(ye){return new(ye||ae)(N.LFG(te))},ae.\u0275prov=N.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})(),he=(()=>{class ae{constructor(ye,Ie,Ue){this._contentObserver=ye,this._elementRef=Ie,this._ngZone=Ue,this.event=new N.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(ye){this._disabled=(0,p.Ig)(ye),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(ye){this._debounce=(0,p.su)(ye),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const ye=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?ye.pipe((0,C.b)(this.debounce)):ye).subscribe(this.event)})}_unsubscribe(){var ye;null===(ye=this._currentSubscription)||void 0===ye||ye.unsubscribe()}}return ae.\u0275fac=function(ye){return new(ye||ae)(N.Y36(we),N.Y36(N.SBq),N.Y36(N.R0b))},ae.\u0275dir=N.lG2({type:ae,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),ae})(),Se=(()=>{class ae{}return ae.\u0275fac=function(ye){return new(ye||ae)},ae.\u0275mod=N.oAB({type:ae}),ae.\u0275inj=N.cJS({providers:[te]}),ae})()},8184:(gn,_t,x)=>{"use strict";x.d(_t,{Iu:()=>bn,U8:()=>Gn,X_:()=>vt,Xj:()=>Bt,aV:()=>Ln});var p=x(2556),N=x(6895),v=x(4650),ne=x(1281),C=x(3353),te=x(445),we=x(4080),he=x(8929),Se=x(2654),ae=x(6787),me=x(2986),ye=x(7625);const Ie=(0,C.Mq)();class Ue{constructor(J,de){this._viewportRuler=J,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=de}attach(){}enable(){if(this._canBeEnabled()){const J=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=J.style.left||"",this._previousHTMLStyles.top=J.style.top||"",J.style.left=(0,ne.HM)(-this._previousScrollPosition.left),J.style.top=(0,ne.HM)(-this._previousScrollPosition.top),J.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const J=this._document.documentElement,Pe=J.style,ce=this._document.body.style,Ye=Pe.scrollBehavior||"",be=ce.scrollBehavior||"";this._isEnabled=!1,Pe.left=this._previousHTMLStyles.left,Pe.top=this._previousHTMLStyles.top,J.classList.remove("cdk-global-scrollblock"),Ie&&(Pe.scrollBehavior=ce.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ie&&(Pe.scrollBehavior=Ye,ce.scrollBehavior=be)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const de=this._document.body,Pe=this._viewportRuler.getViewportSize();return de.scrollHeight>Pe.height||de.scrollWidth>Pe.width}}class Fe{constructor(J,de,Pe,ce){this._scrollDispatcher=J,this._ngZone=de,this._viewportRuler=Pe,this._config=ce,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(J){this._overlayRef=J}enable(){if(this._scrollSubscription)return;const J=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=J.subscribe(()=>{const de=this._viewportRuler.getViewportScrollPosition().top;Math.abs(de-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=J.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ot{enable(){}disable(){}attach(){}}function ht(pt,J){return J.some(de=>pt.bottom<de.top||pt.top>de.bottom||pt.right<de.left||pt.left>de.right)}function jt(pt,J){return J.some(de=>pt.top<de.top||pt.bottom>de.bottom||pt.left<de.left||pt.right>de.right)}class ut{constructor(J,de,Pe,ce){this._scrollDispatcher=J,this._viewportRuler=de,this._ngZone=Pe,this._config=ce,this._scrollSubscription=null}attach(J){this._overlayRef=J}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const de=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Pe,height:ce}=this._viewportRuler.getViewportSize();ht(de,[{width:Pe,height:ce,bottom:ce,right:Pe,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let kt=(()=>{class pt{constructor(de,Pe,ce,Ye){this._scrollDispatcher=de,this._viewportRuler=Pe,this._ngZone=ce,this.noop=()=>new ot,this.close=be=>new Fe(this._scrollDispatcher,this._ngZone,this._viewportRuler,be),this.block=()=>new Ue(this._viewportRuler,this._document),this.reposition=be=>new ut(this._scrollDispatcher,this._viewportRuler,this._ngZone,be),this._document=Ye}}return pt.\u0275fac=function(de){return new(de||pt)(v.LFG(p.mF),v.LFG(p.rL),v.LFG(v.R0b),v.LFG(N.K0))},pt.\u0275prov=v.Yz7({token:pt,factory:pt.\u0275fac,providedIn:"root"}),pt})();class vt{constructor(J){if(this.scrollStrategy=new ot,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,J){const de=Object.keys(J);for(const Pe of de)void 0!==J[Pe]&&(this[Pe]=J[Pe])}}}class ft{constructor(J,de){this.connectionPair=J,this.scrollableViewProperties=de}}let Lt=(()=>{class pt{constructor(de){this._attachedOverlays=[],this._document=de}ngOnDestroy(){this.detach()}add(de){this.remove(de),this._attachedOverlays.push(de)}remove(de){const Pe=this._attachedOverlays.indexOf(de);Pe>-1&&this._attachedOverlays.splice(Pe,1),0===this._attachedOverlays.length&&this.detach()}}return pt.\u0275fac=function(de){return new(de||pt)(v.LFG(N.K0))},pt.\u0275prov=v.Yz7({token:pt,factory:pt.\u0275fac,providedIn:"root"}),pt})(),Ge=(()=>{class pt extends Lt{constructor(de,Pe){super(de),this._ngZone=Pe,this._keydownListener=ce=>{const Ye=this._attachedOverlays;for(let be=Ye.length-1;be>-1;be--)if(Ye[be]._keydownEvents.observers.length>0){const We=Ye[be]._keydownEvents;this._ngZone?this._ngZone.run(()=>We.next(ce)):We.next(ce);break}}}add(de){super.add(de),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return pt.\u0275fac=function(de){return new(de||pt)(v.LFG(N.K0),v.LFG(v.R0b,8))},pt.\u0275prov=v.Yz7({token:pt,factory:pt.\u0275fac,providedIn:"root"}),pt})(),Ot=(()=>{class pt extends Lt{constructor(de,Pe,ce){super(de),this._platform=Pe,this._ngZone=ce,this._cursorStyleIsSet=!1,this._pointerDownListener=Ye=>{this._pointerDownEventTarget=(0,C.sA)(Ye)},this._clickListener=Ye=>{const be=(0,C.sA)(Ye),We="click"===Ye.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:be;this._pointerDownEventTarget=null;const Ut=this._attachedOverlays.slice();for(let Nt=Ut.length-1;Nt>-1;Nt--){const Yt=Ut[Nt];if(Yt._outsidePointerEvents.observers.length<1||!Yt.hasAttached())continue;if(Yt.overlayElement.contains(be)||Yt.overlayElement.contains(We))break;const Sn=Yt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Sn.next(Ye)):Sn.next(Ye)}}}add(de){if(super.add(de),!this._isAttached){const Pe=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Pe)):this._addEventListeners(Pe),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Pe.style.cursor,Pe.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const de=this._document.body;de.removeEventListener("pointerdown",this._pointerDownListener,!0),de.removeEventListener("click",this._clickListener,!0),de.removeEventListener("auxclick",this._clickListener,!0),de.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(de.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(de){de.addEventListener("pointerdown",this._pointerDownListener,!0),de.addEventListener("click",this._clickListener,!0),de.addEventListener("auxclick",this._clickListener,!0),de.addEventListener("contextmenu",this._clickListener,!0)}}return pt.\u0275fac=function(de){return new(de||pt)(v.LFG(N.K0),v.LFG(C.t4),v.LFG(v.R0b,8))},pt.\u0275prov=v.Yz7({token:pt,factory:pt.\u0275fac,providedIn:"root"}),pt})(),Bt=(()=>{class pt{constructor(de,Pe){this._platform=Pe,this._document=de}ngOnDestroy(){var de;null===(de=this._containerElement)||void 0===de||de.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const de="cdk-overlay-container";if(this._platform.isBrowser||(0,C.Oy)()){const ce=this._document.querySelectorAll(`.${de}[platform="server"], .${de}[platform="test"]`);for(let Ye=0;Ye<ce.length;Ye++)ce[Ye].remove()}const Pe=this._document.createElement("div");Pe.classList.add(de),(0,C.Oy)()?Pe.setAttribute("platform","test"):this._platform.isBrowser||Pe.setAttribute("platform","server"),this._document.body.appendChild(Pe),this._containerElement=Pe}}return pt.\u0275fac=function(de){return new(de||pt)(v.LFG(N.K0),v.LFG(C.t4))},pt.\u0275prov=v.Yz7({token:pt,factory:pt.\u0275fac,providedIn:"root"}),pt})();class bn{constructor(J,de,Pe,ce,Ye,be,We,Ut,Nt,Yt=!1){this._portalOutlet=J,this._host=de,this._pane=Pe,this._config=ce,this._ngZone=Ye,this._keyboardDispatcher=be,this._document=We,this._location=Ut,this._outsideClickDispatcher=Nt,this._animationsDisabled=Yt,this._backdropElement=null,this._backdropClick=new he.xQ,this._attachments=new he.xQ,this._detachments=new he.xQ,this._locationChanges=Se.w.EMPTY,this._backdropClickHandler=Sn=>this._backdropClick.next(Sn),this._backdropTransitionendHandler=Sn=>{this._disposeBackdrop(Sn.target)},this._keydownEvents=new he.xQ,this._outsidePointerEvents=new he.xQ,ce.scrollStrategy&&(this._scrollStrategy=ce.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=ce.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(J){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const de=this._portalOutlet.attach(J);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,me.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof de?.onDestroy&&de.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),de}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const J=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),J}dispose(){var J;const de=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(J=this._host)||void 0===J||J.remove(),this._previousHostParent=this._pane=this._host=null,de&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(J){J!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=J,this.hasAttached()&&(J.attach(this),this.updatePosition()))}updateSize(J){this._config={...this._config,...J},this._updateElementSize()}setDirection(J){this._config={...this._config,direction:J},this._updateElementDirection()}addPanelClass(J){this._pane&&this._toggleClasses(this._pane,J,!0)}removePanelClass(J){this._pane&&this._toggleClasses(this._pane,J,!1)}getDirection(){const J=this._config.direction;return J?"string"==typeof J?J:J.value:"ltr"}updateScrollStrategy(J){J!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=J,this.hasAttached()&&(J.attach(this),J.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const J=this._pane.style;J.width=(0,ne.HM)(this._config.width),J.height=(0,ne.HM)(this._config.height),J.minWidth=(0,ne.HM)(this._config.minWidth),J.minHeight=(0,ne.HM)(this._config.minHeight),J.maxWidth=(0,ne.HM)(this._config.maxWidth),J.maxHeight=(0,ne.HM)(this._config.maxHeight)}_togglePointerEvents(J){this._pane.style.pointerEvents=J?"":"none"}_attachBackdrop(){const J="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(J)})}):this._backdropElement.classList.add(J)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const J=this._backdropElement;if(J){if(this._animationsDisabled)return void this._disposeBackdrop(J);J.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{J.addEventListener("transitionend",this._backdropTransitionendHandler)}),J.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(J)},500))}}_toggleClasses(J,de,Pe){const ce=(0,ne.Eq)(de||[]).filter(Ye=>!!Ye);ce.length&&(Pe?J.classList.add(...ce):J.classList.remove(...ce))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const J=this._ngZone.onStable.pipe((0,ye.R)((0,ae.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),J.unsubscribe())})})}_disposeScrollStrategy(){const J=this._scrollStrategy;J&&(J.disable(),J.detach&&J.detach())}_disposeBackdrop(J){J&&(J.removeEventListener("click",this._backdropClickHandler),J.removeEventListener("transitionend",this._backdropTransitionendHandler),J.remove(),this._backdropElement===J&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const qn="cdk-overlay-connected-position-bounding-box",jn=/([A-Za-z%]+)$/;class ai{constructor(J,de,Pe,ce,Ye){this._viewportRuler=de,this._document=Pe,this._platform=ce,this._overlayContainer=Ye,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new he.xQ,this._resizeSubscription=Se.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(J)}get positions(){return this._preferredPositions}attach(J){this._validatePositions(),J.hostElement.classList.add(qn),this._overlayRef=J,this._boundingBox=J.hostElement,this._pane=J.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const J=this._originRect,de=this._overlayRect,Pe=this._viewportRect,ce=this._containerRect,Ye=[];let be;for(let We of this._preferredPositions){let Ut=this._getOriginPoint(J,ce,We),Nt=this._getOverlayPoint(Ut,de,We),Yt=this._getOverlayFit(Nt,de,Pe,We);if(Yt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(We,Ut);this._canFitWithFlexibleDimensions(Yt,Nt,Pe)?Ye.push({position:We,origin:Ut,overlayRect:de,boundingBoxRect:this._calculateBoundingBoxRect(Ut,We)}):(!be||be.overlayFit.visibleArea<Yt.visibleArea)&&(be={overlayFit:Yt,overlayPoint:Nt,originPoint:Ut,position:We,overlayRect:de})}if(Ye.length){let We=null,Ut=-1;for(const Nt of Ye){const Yt=Nt.boundingBoxRect.width*Nt.boundingBoxRect.height*(Nt.position.weight||1);Yt>Ut&&(Ut=Yt,We=Nt)}return this._isPushed=!1,void this._applyPosition(We.position,We.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(be.position,be.originPoint);this._applyPosition(be.position,be.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Vn(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(qn),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const J=this._lastPosition;if(J){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const de=this._getOriginPoint(this._originRect,this._containerRect,J);this._applyPosition(J,de)}else this.apply()}withScrollableContainers(J){return this._scrollables=J,this}withPositions(J){return this._preferredPositions=J,-1===J.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(J){return this._viewportMargin=J,this}withFlexibleDimensions(J=!0){return this._hasFlexibleDimensions=J,this}withGrowAfterOpen(J=!0){return this._growAfterOpen=J,this}withPush(J=!0){return this._canPush=J,this}withLockedPosition(J=!0){return this._positionLocked=J,this}setOrigin(J){return this._origin=J,this}withDefaultOffsetX(J){return this._offsetX=J,this}withDefaultOffsetY(J){return this._offsetY=J,this}withTransformOriginOn(J){return this._transformOriginSelector=J,this}_getOriginPoint(J,de,Pe){let ce,Ye;if("center"==Pe.originX)ce=J.left+J.width/2;else{const be=this._isRtl()?J.right:J.left,We=this._isRtl()?J.left:J.right;ce="start"==Pe.originX?be:We}return de.left<0&&(ce-=de.left),Ye="center"==Pe.originY?J.top+J.height/2:"top"==Pe.originY?J.top:J.bottom,de.top<0&&(Ye-=de.top),{x:ce,y:Ye}}_getOverlayPoint(J,de,Pe){let ce,Ye;return ce="center"==Pe.overlayX?-de.width/2:"start"===Pe.overlayX?this._isRtl()?-de.width:0:this._isRtl()?0:-de.width,Ye="center"==Pe.overlayY?-de.height/2:"top"==Pe.overlayY?0:-de.height,{x:J.x+ce,y:J.y+Ye}}_getOverlayFit(J,de,Pe,ce){const Ye=_n(de);let{x:be,y:We}=J,Ut=this._getOffset(ce,"x"),Nt=this._getOffset(ce,"y");Ut&&(be+=Ut),Nt&&(We+=Nt);let Dt=0-We,oi=We+Ye.height-Pe.height,ni=this._subtractOverflows(Ye.width,0-be,be+Ye.width-Pe.width),On=this._subtractOverflows(Ye.height,Dt,oi),Ii=ni*On;return{visibleArea:Ii,isCompletelyWithinViewport:Ye.width*Ye.height===Ii,fitsInViewportVertically:On===Ye.height,fitsInViewportHorizontally:ni==Ye.width}}_canFitWithFlexibleDimensions(J,de,Pe){if(this._hasFlexibleDimensions){const ce=Pe.bottom-de.y,Ye=Pe.right-de.x,be=rn(this._overlayRef.getConfig().minHeight),We=rn(this._overlayRef.getConfig().minWidth),Nt=J.fitsInViewportHorizontally||null!=We&&We<=Ye;return(J.fitsInViewportVertically||null!=be&&be<=ce)&&Nt}return!1}_pushOverlayOnScreen(J,de,Pe){if(this._previousPushAmount&&this._positionLocked)return{x:J.x+this._previousPushAmount.x,y:J.y+this._previousPushAmount.y};const ce=_n(de),Ye=this._viewportRect,be=Math.max(J.x+ce.width-Ye.width,0),We=Math.max(J.y+ce.height-Ye.height,0),Ut=Math.max(Ye.top-Pe.top-J.y,0),Nt=Math.max(Ye.left-Pe.left-J.x,0);let Yt=0,Sn=0;return Yt=ce.width<=Ye.width?Nt||-be:J.x<this._viewportMargin?Ye.left-Pe.left-J.x:0,Sn=ce.height<=Ye.height?Ut||-We:J.y<this._viewportMargin?Ye.top-Pe.top-J.y:0,this._previousPushAmount={x:Yt,y:Sn},{x:J.x+Yt,y:J.y+Sn}}_applyPosition(J,de){if(this._setTransformOrigin(J),this._setOverlayElementStyles(de,J),this._setBoundingBoxStyles(de,J),J.panelClass&&this._addPanelClasses(J.panelClass),this._lastPosition=J,this._positionChanges.observers.length){const Pe=this._getScrollVisibility(),ce=new ft(J,Pe);this._positionChanges.next(ce)}this._isInitialRender=!1}_setTransformOrigin(J){if(!this._transformOriginSelector)return;const de=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Pe,ce=J.overlayY;Pe="center"===J.overlayX?"center":this._isRtl()?"start"===J.overlayX?"right":"left":"start"===J.overlayX?"left":"right";for(let Ye=0;Ye<de.length;Ye++)de[Ye].style.transformOrigin=`${Pe} ${ce}`}_calculateBoundingBoxRect(J,de){const Pe=this._viewportRect,ce=this._isRtl();let Ye,be,We,Yt,Sn,Dt;if("top"===de.overlayY)be=J.y,Ye=Pe.height-be+this._viewportMargin;else if("bottom"===de.overlayY)We=Pe.height-J.y+2*this._viewportMargin,Ye=Pe.height-We+this._viewportMargin;else{const oi=Math.min(Pe.bottom-J.y+Pe.top,J.y),ni=this._lastBoundingBoxSize.height;Ye=2*oi,be=J.y-oi,Ye>ni&&!this._isInitialRender&&!this._growAfterOpen&&(be=J.y-ni/2)}if("end"===de.overlayX&&!ce||"start"===de.overlayX&&ce)Dt=Pe.width-J.x+this._viewportMargin,Yt=J.x-this._viewportMargin;else if("start"===de.overlayX&&!ce||"end"===de.overlayX&&ce)Sn=J.x,Yt=Pe.right-J.x;else{const oi=Math.min(Pe.right-J.x+Pe.left,J.x),ni=this._lastBoundingBoxSize.width;Yt=2*oi,Sn=J.x-oi,Yt>ni&&!this._isInitialRender&&!this._growAfterOpen&&(Sn=J.x-ni/2)}return{top:be,left:Sn,bottom:We,right:Dt,width:Yt,height:Ye}}_setBoundingBoxStyles(J,de){const Pe=this._calculateBoundingBoxRect(J,de);!this._isInitialRender&&!this._growAfterOpen&&(Pe.height=Math.min(Pe.height,this._lastBoundingBoxSize.height),Pe.width=Math.min(Pe.width,this._lastBoundingBoxSize.width));const ce={};if(this._hasExactPosition())ce.top=ce.left="0",ce.bottom=ce.right=ce.maxHeight=ce.maxWidth="",ce.width=ce.height="100%";else{const Ye=this._overlayRef.getConfig().maxHeight,be=this._overlayRef.getConfig().maxWidth;ce.height=(0,ne.HM)(Pe.height),ce.top=(0,ne.HM)(Pe.top),ce.bottom=(0,ne.HM)(Pe.bottom),ce.width=(0,ne.HM)(Pe.width),ce.left=(0,ne.HM)(Pe.left),ce.right=(0,ne.HM)(Pe.right),ce.alignItems="center"===de.overlayX?"center":"end"===de.overlayX?"flex-end":"flex-start",ce.justifyContent="center"===de.overlayY?"center":"bottom"===de.overlayY?"flex-end":"flex-start",Ye&&(ce.maxHeight=(0,ne.HM)(Ye)),be&&(ce.maxWidth=(0,ne.HM)(be))}this._lastBoundingBoxSize=Pe,Vn(this._boundingBox.style,ce)}_resetBoundingBoxStyles(){Vn(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Vn(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(J,de){const Pe={},ce=this._hasExactPosition(),Ye=this._hasFlexibleDimensions,be=this._overlayRef.getConfig();if(ce){const Yt=this._viewportRuler.getViewportScrollPosition();Vn(Pe,this._getExactOverlayY(de,J,Yt)),Vn(Pe,this._getExactOverlayX(de,J,Yt))}else Pe.position="static";let We="",Ut=this._getOffset(de,"x"),Nt=this._getOffset(de,"y");Ut&&(We+=`translateX(${Ut}px) `),Nt&&(We+=`translateY(${Nt}px)`),Pe.transform=We.trim(),be.maxHeight&&(ce?Pe.maxHeight=(0,ne.HM)(be.maxHeight):Ye&&(Pe.maxHeight="")),be.maxWidth&&(ce?Pe.maxWidth=(0,ne.HM)(be.maxWidth):Ye&&(Pe.maxWidth="")),Vn(this._pane.style,Pe)}_getExactOverlayY(J,de,Pe){let ce={top:"",bottom:""},Ye=this._getOverlayPoint(de,this._overlayRect,J);return this._isPushed&&(Ye=this._pushOverlayOnScreen(Ye,this._overlayRect,Pe)),"bottom"===J.overlayY?ce.bottom=this._document.documentElement.clientHeight-(Ye.y+this._overlayRect.height)+"px":ce.top=(0,ne.HM)(Ye.y),ce}_getExactOverlayX(J,de,Pe){let be,ce={left:"",right:""},Ye=this._getOverlayPoint(de,this._overlayRect,J);return this._isPushed&&(Ye=this._pushOverlayOnScreen(Ye,this._overlayRect,Pe)),be=this._isRtl()?"end"===J.overlayX?"left":"right":"end"===J.overlayX?"right":"left","right"===be?ce.right=this._document.documentElement.clientWidth-(Ye.x+this._overlayRect.width)+"px":ce.left=(0,ne.HM)(Ye.x),ce}_getScrollVisibility(){const J=this._getOriginRect(),de=this._pane.getBoundingClientRect(),Pe=this._scrollables.map(ce=>ce.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:jt(J,Pe),isOriginOutsideView:ht(J,Pe),isOverlayClipped:jt(de,Pe),isOverlayOutsideView:ht(de,Pe)}}_subtractOverflows(J,...de){return de.reduce((Pe,ce)=>Pe-Math.max(ce,0),J)}_getNarrowedViewportRect(){const J=this._document.documentElement.clientWidth,de=this._document.documentElement.clientHeight,Pe=this._viewportRuler.getViewportScrollPosition();return{top:Pe.top+this._viewportMargin,left:Pe.left+this._viewportMargin,right:Pe.left+J-this._viewportMargin,bottom:Pe.top+de-this._viewportMargin,width:J-2*this._viewportMargin,height:de-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(J,de){return"x"===de?J.offsetX??this._offsetX:J.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(J){this._pane&&(0,ne.Eq)(J).forEach(de=>{""!==de&&-1===this._appliedPanelClasses.indexOf(de)&&(this._appliedPanelClasses.push(de),this._pane.classList.add(de))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(J=>{this._pane.classList.remove(J)}),this._appliedPanelClasses=[])}_getOriginRect(){const J=this._origin;if(J instanceof v.SBq)return J.nativeElement.getBoundingClientRect();if(J instanceof Element)return J.getBoundingClientRect();const de=J.width||0,Pe=J.height||0;return{top:J.y,bottom:J.y+Pe,left:J.x,right:J.x+de,height:Pe,width:de}}}function Vn(pt,J){for(let de in J)J.hasOwnProperty(de)&&(pt[de]=J[de]);return pt}function rn(pt){if("number"!=typeof pt&&null!=pt){const[J,de]=pt.split(jn);return de&&"px"!==de?null:parseFloat(J)}return pt||null}function _n(pt){return{top:Math.floor(pt.top),right:Math.floor(pt.right),bottom:Math.floor(pt.bottom),left:Math.floor(pt.left),width:Math.floor(pt.width),height:Math.floor(pt.height)}}const Ne="cdk-global-overlay-wrapper";class Ke{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(J){const de=J.getConfig();this._overlayRef=J,this._width&&!de.width&&J.updateSize({width:this._width}),this._height&&!de.height&&J.updateSize({height:this._height}),J.hostElement.classList.add(Ne),this._isDisposed=!1}top(J=""){return this._bottomOffset="",this._topOffset=J,this._alignItems="flex-start",this}left(J=""){return this._xOffset=J,this._xPosition="left",this}bottom(J=""){return this._topOffset="",this._bottomOffset=J,this._alignItems="flex-end",this}right(J=""){return this._xOffset=J,this._xPosition="right",this}start(J=""){return this._xOffset=J,this._xPosition="start",this}end(J=""){return this._xOffset=J,this._xPosition="end",this}width(J=""){return this._overlayRef?this._overlayRef.updateSize({width:J}):this._width=J,this}height(J=""){return this._overlayRef?this._overlayRef.updateSize({height:J}):this._height=J,this}centerHorizontally(J=""){return this.left(J),this._xPosition="center",this}centerVertically(J=""){return this.top(J),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const J=this._overlayRef.overlayElement.style,de=this._overlayRef.hostElement.style,Pe=this._overlayRef.getConfig(),{width:ce,height:Ye,maxWidth:be,maxHeight:We}=Pe,Ut=!("100%"!==ce&&"100vw"!==ce||be&&"100%"!==be&&"100vw"!==be),Nt=!("100%"!==Ye&&"100vh"!==Ye||We&&"100%"!==We&&"100vh"!==We),Yt=this._xPosition,Sn=this._xOffset,Dt="rtl"===this._overlayRef.getConfig().direction;let oi="",ni="",On="";Ut?On="flex-start":"center"===Yt?(On="center",Dt?ni=Sn:oi=Sn):Dt?"left"===Yt||"end"===Yt?(On="flex-end",oi=Sn):("right"===Yt||"start"===Yt)&&(On="flex-start",ni=Sn):"left"===Yt||"start"===Yt?(On="flex-start",oi=Sn):("right"===Yt||"end"===Yt)&&(On="flex-end",ni=Sn),J.position=this._cssPosition,J.marginLeft=Ut?"0":oi,J.marginTop=Nt?"0":this._topOffset,J.marginBottom=this._bottomOffset,J.marginRight=Ut?"0":ni,de.justifyContent=On,de.alignItems=Nt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const J=this._overlayRef.overlayElement.style,de=this._overlayRef.hostElement,Pe=de.style;de.classList.remove(Ne),Pe.justifyContent=Pe.alignItems=J.marginTop=J.marginBottom=J.marginLeft=J.marginRight=J.position="",this._overlayRef=null,this._isDisposed=!0}}let Tt=(()=>{class pt{constructor(de,Pe,ce,Ye){this._viewportRuler=de,this._document=Pe,this._platform=ce,this._overlayContainer=Ye}global(){return new Ke}flexibleConnectedTo(de){return new ai(de,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return pt.\u0275fac=function(de){return new(de||pt)(v.LFG(p.rL),v.LFG(N.K0),v.LFG(C.t4),v.LFG(Bt))},pt.\u0275prov=v.Yz7({token:pt,factory:pt.\u0275fac,providedIn:"root"}),pt})(),en=0,Ln=(()=>{class pt{constructor(de,Pe,ce,Ye,be,We,Ut,Nt,Yt,Sn,Dt,oi){this.scrollStrategies=de,this._overlayContainer=Pe,this._componentFactoryResolver=ce,this._positionBuilder=Ye,this._keyboardDispatcher=be,this._injector=We,this._ngZone=Ut,this._document=Nt,this._directionality=Yt,this._location=Sn,this._outsideClickDispatcher=Dt,this._animationsModuleType=oi}create(de){const Pe=this._createHostElement(),ce=this._createPaneElement(Pe),Ye=this._createPortalOutlet(ce),be=new vt(de);return be.direction=be.direction||this._directionality.value,new bn(Ye,Pe,ce,be,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(de){const Pe=this._document.createElement("div");return Pe.id="cdk-overlay-"+en++,Pe.classList.add("cdk-overlay-pane"),de.appendChild(Pe),Pe}_createHostElement(){const de=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(de),de}_createPortalOutlet(de){return this._appRef||(this._appRef=this._injector.get(v.z2F)),new we.u0(de,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return pt.\u0275fac=function(de){return new(de||pt)(v.LFG(kt),v.LFG(Bt),v.LFG(v._Vd),v.LFG(Tt),v.LFG(Ge),v.LFG(v.zs3),v.LFG(v.R0b),v.LFG(N.K0),v.LFG(te.Is),v.LFG(N.Ye),v.LFG(Ot),v.LFG(v.QbO,8))},pt.\u0275prov=v.Yz7({token:pt,factory:pt.\u0275fac}),pt})();const zt={provide:new v.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Ln],useFactory:function wn(pt){return()=>pt.scrollStrategies.reposition()}};let Gn=(()=>{class pt{}return pt.\u0275fac=function(de){return new(de||pt)},pt.\u0275mod=v.oAB({type:pt}),pt.\u0275inj=v.cJS({providers:[Ln,zt],imports:[te.vT,we.eL,p.Cl,p.Cl]}),pt})()},3353:(gn,_t,x)=>{"use strict";x.d(_t,{Mq:()=>Ue,Oy:()=>kt,ht:()=>jt,i$:()=>me,kV:()=>ht,qK:()=>he,sA:()=>ut,t4:()=>ne});var p=x(4650),N=x(6895);let v;try{v=typeof Intl<"u"&&Intl.v8BreakIterator}catch{v=!1}let te,ne=(()=>{class vt{constructor(Le){this._platformId=Le,this.isBrowser=this._platformId?(0,N.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!v)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return vt.\u0275fac=function(Le){return new(Le||vt)(p.LFG(p.Lbi))},vt.\u0275prov=p.Yz7({token:vt,factory:vt.\u0275fac,providedIn:"root"}),vt})();const we=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function he(){if(te)return te;if("object"!=typeof document||!document)return te=new Set(we),te;let vt=document.createElement("input");return te=new Set(we.filter(et=>(vt.setAttribute("type",et),vt.type===et))),te}let Se,Ie,Fe;function me(vt){return function ae(){if(null==Se&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Se=!0}))}finally{Se=Se||!1}return Se}()?vt:!!vt.capture}function Ue(){if(null==Ie){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ie=!1,Ie;if("scrollBehavior"in document.documentElement.style)Ie=!0;else{const vt=Element.prototype.scrollTo;Ie=!!vt&&!/\{\s*\[native code\]\s*\}/.test(vt.toString())}}return Ie}function ht(vt){if(function ot(){if(null==Fe){const vt=typeof document<"u"?document.head:null;Fe=!(!vt||!vt.createShadowRoot&&!vt.attachShadow)}return Fe}()){const et=vt.getRootNode?vt.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&et instanceof ShadowRoot)return et}return null}function jt(){let vt=typeof document<"u"&&document?document.activeElement:null;for(;vt&&vt.shadowRoot;){const et=vt.shadowRoot.activeElement;if(et===vt)break;vt=et}return vt}function ut(vt){return vt.composedPath?vt.composedPath()[0]:vt.target}function kt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},4080:(gn,_t,x)=>{"use strict";x.d(_t,{C5:()=>ae,Pl:()=>jt,UE:()=>me,eL:()=>kt,en:()=>Ie,u0:()=>Je});var p=x(4650),N=x(6895);class Se{attach(Le){return this._attachedHost=Le,Le.attach(this)}detach(){let Le=this._attachedHost;null!=Le&&(this._attachedHost=null,Le.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Le){this._attachedHost=Le}}class ae extends Se{constructor(Le,ft,tt,qe){super(),this.component=Le,this.viewContainerRef=ft,this.injector=tt,this.componentFactoryResolver=qe}}class me extends Se{constructor(Le,ft,tt,qe){super(),this.templateRef=Le,this.viewContainerRef=ft,this.context=tt,this.injector=qe}get origin(){return this.templateRef.elementRef}attach(Le,ft=this.context){return this.context=ft,super.attach(Le)}detach(){return this.context=void 0,super.detach()}}class ye extends Se{constructor(Le){super(),this.element=Le instanceof p.SBq?Le.nativeElement:Le}}class Ie{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Le){return Le instanceof ae?(this._attachedPortal=Le,this.attachComponentPortal(Le)):Le instanceof me?(this._attachedPortal=Le,this.attachTemplatePortal(Le)):this.attachDomPortal&&Le instanceof ye?(this._attachedPortal=Le,this.attachDomPortal(Le)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Le){this._disposeFn=Le}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Je extends Ie{constructor(Le,ft,tt,qe,Lt){super(),this.outletElement=Le,this._componentFactoryResolver=ft,this._appRef=tt,this._defaultInjector=qe,this.attachDomPortal=Ge=>{const Ot=Ge.element,Bt=this._document.createComment("dom-portal");Ot.parentNode.insertBefore(Bt,Ot),this.outletElement.appendChild(Ot),this._attachedPortal=Ge,super.setDisposeFn(()=>{Bt.parentNode&&Bt.parentNode.replaceChild(Ot,Bt)})},this._document=Lt}attachComponentPortal(Le){const tt=(Le.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Le.component);let qe;return Le.viewContainerRef?(qe=Le.viewContainerRef.createComponent(tt,Le.viewContainerRef.length,Le.injector||Le.viewContainerRef.injector),this.setDisposeFn(()=>qe.destroy())):(qe=tt.create(Le.injector||this._defaultInjector||p.zs3.NULL),this._appRef.attachView(qe.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(qe.hostView),qe.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(qe)),this._attachedPortal=Le,qe}attachTemplatePortal(Le){let ft=Le.viewContainerRef,tt=ft.createEmbeddedView(Le.templateRef,Le.context,{injector:Le.injector});return tt.rootNodes.forEach(qe=>this.outletElement.appendChild(qe)),tt.detectChanges(),this.setDisposeFn(()=>{let qe=ft.indexOf(tt);-1!==qe&&ft.remove(qe)}),this._attachedPortal=Le,tt}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Le){return Le.hostView.rootNodes[0]}}let jt=(()=>{class et extends Ie{constructor(ft,tt,qe){super(),this._componentFactoryResolver=ft,this._viewContainerRef=tt,this._isInitialized=!1,this.attached=new p.vpe,this.attachDomPortal=Lt=>{const Ge=Lt.element,Ot=this._document.createComment("dom-portal");Lt.setAttachedHost(this),Ge.parentNode.insertBefore(Ot,Ge),this._getRootNode().appendChild(Ge),this._attachedPortal=Lt,super.setDisposeFn(()=>{Ot.parentNode&&Ot.parentNode.replaceChild(Ge,Ot)})},this._document=qe}get portal(){return this._attachedPortal}set portal(ft){this.hasAttached()&&!ft&&!this._isInitialized||(this.hasAttached()&&super.detach(),ft&&super.attach(ft),this._attachedPortal=ft||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(ft){ft.setAttachedHost(this);const tt=null!=ft.viewContainerRef?ft.viewContainerRef:this._viewContainerRef,Lt=(ft.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ft.component),Ge=tt.createComponent(Lt,tt.length,ft.injector||tt.injector);return tt!==this._viewContainerRef&&this._getRootNode().appendChild(Ge.hostView.rootNodes[0]),super.setDisposeFn(()=>Ge.destroy()),this._attachedPortal=ft,this._attachedRef=Ge,this.attached.emit(Ge),Ge}attachTemplatePortal(ft){ft.setAttachedHost(this);const tt=this._viewContainerRef.createEmbeddedView(ft.templateRef,ft.context,{injector:ft.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=ft,this._attachedRef=tt,this.attached.emit(tt),tt}_getRootNode(){const ft=this._viewContainerRef.element.nativeElement;return ft.nodeType===ft.ELEMENT_NODE?ft:ft.parentNode}}return et.\u0275fac=function(ft){return new(ft||et)(p.Y36(p._Vd),p.Y36(p.s_b),p.Y36(N.K0))},et.\u0275dir=p.lG2({type:et,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[p.qOj]}),et})(),kt=(()=>{class et{}return et.\u0275fac=function(ft){return new(ft||et)},et.\u0275mod=p.oAB({type:et}),et.\u0275inj=p.cJS({}),et})()},2556:(gn,_t,x)=>{"use strict";x.d(_t,{ZD:()=>en,mF:()=>Bt,Cl:()=>Ln,rL:()=>jn});var p=x(1281),N=x(4650),v=x(8929),ne=x(1086),C=x(6498),te=x(3753),Se=(x(352),x(8139),x(353)),ae=x(826),me=x(9054);class Ie{constructor(Qt){this.durationSelector=Qt}call(Qt,Mt){return Mt.subscribe(new Ue(Qt,this.durationSelector))}}class Ue extends ae.L{constructor(Qt,Mt){super(Qt),this.durationSelector=Mt,this.hasValue=!1}_next(Qt){if(this.value=Qt,this.hasValue=!0,!this.throttled){let Mt;try{const{durationSelector:wn}=this;Mt=wn(Qt)}catch(wn){return this.destination.error(wn)}const $t=(0,me.D)(this,Mt);!$t||$t.closed?this.clearThrottle():this.add(this.throttled=$t)}}clearThrottle(){const{value:Qt,hasValue:Mt,throttled:$t}=this;$t&&(this.remove($t),this.throttled=null,$t.unsubscribe()),Mt&&(this.value=null,this.hasValue=!1,this.destination.next(Qt))}notifyNext(Qt,Mt,$t,wn){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Je=x(4241),Fe=x(2866);function ht(It){const{index:Qt,period:Mt,subscriber:$t}=It;if($t.next(Qt),!$t.closed){if(-1===Mt)return $t.complete();It.index=Qt+1,this.schedule(It,Mt)}}function jt(It,Qt=Se.P){return function ye(It){return function(Mt){return Mt.lift(new Ie(It))}}(()=>function ot(It=0,Qt,Mt){let $t=-1;return(0,Je.k)(Qt)?$t=Number(Qt)<1?1:Number(Qt):(0,Fe.K)(Qt)&&(Mt=Qt),(0,Fe.K)(Mt)||(Mt=Se.P),new C.y(wn=>{const zt=(0,Je.k)(It)?It:+It-Mt.now();return Mt.schedule(ht,zt,{index:0,period:$t,subscriber:wn})})}(It,Qt))}var ut=x(2198),kt=x(3353),vt=x(6895),et=x(445);let Bt=(()=>{class It{constructor(Mt,$t,wn){this._ngZone=Mt,this._platform=$t,this._scrolled=new v.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=wn}register(Mt){this.scrollContainers.has(Mt)||this.scrollContainers.set(Mt,Mt.elementScrolled().subscribe(()=>this._scrolled.next(Mt)))}deregister(Mt){const $t=this.scrollContainers.get(Mt);$t&&($t.unsubscribe(),this.scrollContainers.delete(Mt))}scrolled(Mt=20){return this._platform.isBrowser?new C.y($t=>{this._globalSubscription||this._addGlobalListener();const wn=Mt>0?this._scrolled.pipe(jt(Mt)).subscribe($t):this._scrolled.subscribe($t);return this._scrolledCount++,()=>{wn.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,ne.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Mt,$t)=>this.deregister($t)),this._scrolled.complete()}ancestorScrolled(Mt,$t){const wn=this.getAncestorScrollContainers(Mt);return this.scrolled($t).pipe((0,ut.h)(zt=>!zt||wn.indexOf(zt)>-1))}getAncestorScrollContainers(Mt){const $t=[];return this.scrollContainers.forEach((wn,zt)=>{this._scrollableContainsElement(zt,Mt)&&$t.push(zt)}),$t}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Mt,$t){let wn=(0,p.fI)($t),zt=Mt.getElementRef().nativeElement;do{if(wn==zt)return!0}while(wn=wn.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Mt=this._getWindow();return(0,te.R)(Mt.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return It.\u0275fac=function(Mt){return new(Mt||It)(N.LFG(N.R0b),N.LFG(kt.t4),N.LFG(vt.K0,8))},It.\u0275prov=N.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"}),It})(),jn=(()=>{class It{constructor(Mt,$t,wn){this._platform=Mt,this._change=new v.xQ,this._changeListener=zt=>{this._change.next(zt)},this._document=wn,$t.runOutsideAngular(()=>{if(Mt.isBrowser){const zt=this._getWindow();zt.addEventListener("resize",this._changeListener),zt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Mt=this._getWindow();Mt.removeEventListener("resize",this._changeListener),Mt.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Mt={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Mt}getViewportRect(){const Mt=this.getViewportScrollPosition(),{width:$t,height:wn}=this.getViewportSize();return{top:Mt.top,left:Mt.left,bottom:Mt.top+wn,right:Mt.left+$t,height:wn,width:$t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Mt=this._document,$t=this._getWindow(),wn=Mt.documentElement,zt=wn.getBoundingClientRect();return{top:-zt.top||Mt.body.scrollTop||$t.scrollY||wn.scrollTop||0,left:-zt.left||Mt.body.scrollLeft||$t.scrollX||wn.scrollLeft||0}}change(Mt=20){return Mt>0?this._change.pipe(jt(Mt)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Mt=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Mt.innerWidth,height:Mt.innerHeight}:{width:0,height:0}}}return It.\u0275fac=function(Mt){return new(Mt||It)(N.LFG(kt.t4),N.LFG(N.R0b),N.LFG(vt.K0,8))},It.\u0275prov=N.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"}),It})(),en=(()=>{class It{}return It.\u0275fac=function(Mt){return new(Mt||It)},It.\u0275mod=N.oAB({type:It}),It.\u0275inj=N.cJS({}),It})(),Ln=(()=>{class It{}return It.\u0275fac=function(Mt){return new(Mt||It)},It.\u0275mod=N.oAB({type:It}),It.\u0275inj=N.cJS({imports:[et.vT,en,et.vT,en]}),It})()},6895:(gn,_t,x)=>{"use strict";x.d(_t,{Do:()=>ut,EM:()=>Yr,HT:()=>C,JF:()=>bs,K0:()=>we,Mx:()=>rs,NF:()=>ba,O5:()=>lr,Ov:()=>Fn,PC:()=>to,PM:()=>zo,RF:()=>Ao,S$:()=>ot,V_:()=>ae,Ye:()=>kt,b0:()=>jt,bD:()=>zs,ez:()=>ks,mk:()=>$i,n9:()=>as,q:()=>v,sg:()=>zr,w_:()=>te});var p=x(4650);let N=null;function v(){return N}function C(W){N||(N=W)}class te{}const we=new p.OlP("DocumentToken");let he=(()=>{class W{historyGo(q){throw new Error("Not implemented")}}return W.\u0275fac=function(q){return new(q||W)},W.\u0275prov=p.Yz7({token:W,factory:function(){return function Se(){return(0,p.LFG)(me)}()},providedIn:"platform"}),W})();const ae=new p.OlP("Location Initialized");let me=(()=>{class W extends he{constructor(q){super(),this._doc=q,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return v().getBaseHref(this._doc)}onPopState(q){const xe=v().getGlobalEventTarget(this._doc,"window");return xe.addEventListener("popstate",q,!1),()=>xe.removeEventListener("popstate",q)}onHashChange(q){const xe=v().getGlobalEventTarget(this._doc,"window");return xe.addEventListener("hashchange",q,!1),()=>xe.removeEventListener("hashchange",q)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(q){this.location.pathname=q}pushState(q,xe,ct){ye()?this._history.pushState(q,xe,ct):this.location.hash=ct}replaceState(q,xe,ct){ye()?this._history.replaceState(q,xe,ct):this.location.hash=ct}forward(){this._history.forward()}back(){this._history.back()}historyGo(q=0){this._history.go(q)}getState(){return this._history.state}}return W.\u0275fac=function(q){return new(q||W)(p.LFG(we))},W.\u0275prov=p.Yz7({token:W,factory:function(){return function Ie(){return new me((0,p.LFG)(we))}()},providedIn:"platform"}),W})();function ye(){return!!window.history.pushState}function Ue(W,_e){if(0==W.length)return _e;if(0==_e.length)return W;let q=0;return W.endsWith("/")&&q++,_e.startsWith("/")&&q++,2==q?W+_e.substring(1):1==q?W+_e:W+"/"+_e}function Je(W){const _e=W.match(/#|\?|$/),q=_e&&_e.index||W.length;return W.slice(0,q-("/"===W[q-1]?1:0))+W.slice(q)}function Fe(W){return W&&"?"!==W[0]?"?"+W:W}let ot=(()=>{class W{historyGo(q){throw new Error("Not implemented")}}return W.\u0275fac=function(q){return new(q||W)},W.\u0275prov=p.Yz7({token:W,factory:function(){return(0,p.f3M)(jt)},providedIn:"root"}),W})();const ht=new p.OlP("appBaseHref");let jt=(()=>{class W extends ot{constructor(q,xe){var ct,Xt,hn;super(),this._platformLocation=q,this._removeListenerFns=[],this._baseHref=null!==(ct=null!==(Xt=xe??this._platformLocation.getBaseHrefFromDOM())&&void 0!==Xt?Xt:null===(hn=(0,p.f3M)(we).location)||void 0===hn?void 0:hn.origin)&&void 0!==ct?ct:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(q){this._removeListenerFns.push(this._platformLocation.onPopState(q),this._platformLocation.onHashChange(q))}getBaseHref(){return this._baseHref}prepareExternalUrl(q){return Ue(this._baseHref,q)}path(q=!1){const xe=this._platformLocation.pathname+Fe(this._platformLocation.search),ct=this._platformLocation.hash;return ct&&q?`${xe}${ct}`:xe}pushState(q,xe,ct,Xt){const hn=this.prepareExternalUrl(ct+Fe(Xt));this._platformLocation.pushState(q,xe,hn)}replaceState(q,xe,ct,Xt){const hn=this.prepareExternalUrl(ct+Fe(Xt));this._platformLocation.replaceState(q,xe,hn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(q=0){var xe,ct;null===(xe=(ct=this._platformLocation).historyGo)||void 0===xe||xe.call(ct,q)}}return W.\u0275fac=function(q){return new(q||W)(p.LFG(he),p.LFG(ht,8))},W.\u0275prov=p.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})(),ut=(()=>{class W extends ot{constructor(q,xe){super(),this._platformLocation=q,this._baseHref="",this._removeListenerFns=[],null!=xe&&(this._baseHref=xe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(q){this._removeListenerFns.push(this._platformLocation.onPopState(q),this._platformLocation.onHashChange(q))}getBaseHref(){return this._baseHref}path(q=!1){let xe=this._platformLocation.hash;return null==xe&&(xe="#"),xe.length>0?xe.substring(1):xe}prepareExternalUrl(q){const xe=Ue(this._baseHref,q);return xe.length>0?"#"+xe:xe}pushState(q,xe,ct,Xt){let hn=this.prepareExternalUrl(ct+Fe(Xt));0==hn.length&&(hn=this._platformLocation.pathname),this._platformLocation.pushState(q,xe,hn)}replaceState(q,xe,ct,Xt){let hn=this.prepareExternalUrl(ct+Fe(Xt));0==hn.length&&(hn=this._platformLocation.pathname),this._platformLocation.replaceState(q,xe,hn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(q=0){var xe,ct;null===(xe=(ct=this._platformLocation).historyGo)||void 0===xe||xe.call(ct,q)}}return W.\u0275fac=function(q){return new(q||W)(p.LFG(he),p.LFG(ht,8))},W.\u0275prov=p.Yz7({token:W,factory:W.\u0275fac}),W})(),kt=(()=>{class W{constructor(q){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=q;const xe=this._locationStrategy.getBaseHref();this._baseHref=Je(Le(xe)),this._locationStrategy.onPopState(ct=>{this._subject.emit({url:this.path(!0),pop:!0,state:ct.state,type:ct.type})})}ngOnDestroy(){var q;null===(q=this._urlChangeSubscription)||void 0===q||q.unsubscribe(),this._urlChangeListeners=[]}path(q=!1){return this.normalize(this._locationStrategy.path(q))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(q,xe=""){return this.path()==this.normalize(q+Fe(xe))}normalize(q){return W.stripTrailingSlash(function et(W,_e){return W&&_e.startsWith(W)?_e.substring(W.length):_e}(this._baseHref,Le(q)))}prepareExternalUrl(q){return q&&"/"!==q[0]&&(q="/"+q),this._locationStrategy.prepareExternalUrl(q)}go(q,xe="",ct=null){this._locationStrategy.pushState(ct,"",q,xe),this._notifyUrlChangeListeners(this.prepareExternalUrl(q+Fe(xe)),ct)}replaceState(q,xe="",ct=null){this._locationStrategy.replaceState(ct,"",q,xe),this._notifyUrlChangeListeners(this.prepareExternalUrl(q+Fe(xe)),ct)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(q=0){var xe,ct;null===(xe=(ct=this._locationStrategy).historyGo)||void 0===xe||xe.call(ct,q)}onUrlChange(q){return this._urlChangeListeners.push(q),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(xe=>{this._notifyUrlChangeListeners(xe.url,xe.state)})),()=>{const xe=this._urlChangeListeners.indexOf(q);var ct;this._urlChangeListeners.splice(xe,1),0===this._urlChangeListeners.length&&(null===(ct=this._urlChangeSubscription)||void 0===ct||ct.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(q="",xe){this._urlChangeListeners.forEach(ct=>ct(q,xe))}subscribe(q,xe,ct){return this._subject.subscribe({next:q,error:xe,complete:ct})}}return W.normalizeQueryParams=Fe,W.joinWithSlash=Ue,W.stripTrailingSlash=Je,W.\u0275fac=function(q){return new(q||W)(p.LFG(ot))},W.\u0275prov=p.Yz7({token:W,factory:function(){return function vt(){return new kt((0,p.LFG)(ot))}()},providedIn:"root"}),W})();function Le(W){return W.replace(/\/index.html$/,"")}function rs(W,_e){_e=encodeURIComponent(_e);for(const q of W.split(";")){const xe=q.indexOf("="),[ct,Xt]=-1==xe?[q,""]:[q.slice(0,xe),q.slice(xe+1)];if(ct.trim()===_e)return decodeURIComponent(Xt)}return null}let $i=(()=>{class W{constructor(q,xe,ct,Xt){this._iterableDiffers=q,this._keyValueDiffers=xe,this._ngEl=ct,this._renderer=Xt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(q){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof q?q.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(q){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof q?q.split(/\s+/):q,this._rawClass&&((0,p.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const q=this._iterableDiffer.diff(this._rawClass);q&&this._applyIterableChanges(q)}else if(this._keyValueDiffer){const q=this._keyValueDiffer.diff(this._rawClass);q&&this._applyKeyValueChanges(q)}}_applyKeyValueChanges(q){q.forEachAddedItem(xe=>this._toggleClass(xe.key,xe.currentValue)),q.forEachChangedItem(xe=>this._toggleClass(xe.key,xe.currentValue)),q.forEachRemovedItem(xe=>{xe.previousValue&&this._toggleClass(xe.key,!1)})}_applyIterableChanges(q){q.forEachAddedItem(xe=>{if("string"!=typeof xe.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,p.AaK)(xe.item)}`);this._toggleClass(xe.item,!0)}),q.forEachRemovedItem(xe=>this._toggleClass(xe.item,!1))}_applyClasses(q){q&&(Array.isArray(q)||q instanceof Set?q.forEach(xe=>this._toggleClass(xe,!0)):Object.keys(q).forEach(xe=>this._toggleClass(xe,!!q[xe])))}_removeClasses(q){q&&(Array.isArray(q)||q instanceof Set?q.forEach(xe=>this._toggleClass(xe,!1)):Object.keys(q).forEach(xe=>this._toggleClass(xe,!1)))}_toggleClass(q,xe){(q=q.trim())&&q.split(/\s+/g).forEach(ct=>{xe?this._renderer.addClass(this._ngEl.nativeElement,ct):this._renderer.removeClass(this._ngEl.nativeElement,ct)})}}return W.\u0275fac=function(q){return new(q||W)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},W.\u0275dir=p.lG2({type:W,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),W})();class os{constructor(_e,q,xe,ct){this.$implicit=_e,this.ngForOf=q,this.index=xe,this.count=ct}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zr=(()=>{class W{constructor(q,xe,ct){this._viewContainer=q,this._template=xe,this._differs=ct,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(q){this._ngForOf=q,this._ngForOfDirty=!0}set ngForTrackBy(q){this._trackByFn=q}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(q){q&&(this._template=q)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const q=this._ngForOf;!this._differ&&q&&(this._differ=this._differs.find(q).create(this.ngForTrackBy))}if(this._differ){const q=this._differ.diff(this._ngForOf);q&&this._applyChanges(q)}}_applyChanges(q){const xe=this._viewContainer;q.forEachOperation((ct,Xt,hn)=>{if(null==ct.previousIndex)xe.createEmbeddedView(this._template,new os(ct.item,this._ngForOf,-1,-1),null===hn?void 0:hn);else if(null==hn)xe.remove(null===Xt?void 0:Xt);else if(null!==Xt){const Xn=xe.get(Xt);xe.move(Xn,hn),Br(Xn,ct)}});for(let ct=0,Xt=xe.length;ct<Xt;ct++){const Xn=xe.get(ct).context;Xn.index=ct,Xn.count=Xt,Xn.ngForOf=this._ngForOf}q.forEachIdentityChange(ct=>{Br(xe.get(ct.currentIndex),ct)})}static ngTemplateContextGuard(q,xe){return!0}}return W.\u0275fac=function(q){return new(q||W)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},W.\u0275dir=p.lG2({type:W,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),W})();function Br(W,_e){W.context.$implicit=_e.item}let lr=(()=>{class W{constructor(q,xe){this._viewContainer=q,this._context=new $o,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=xe}set ngIf(q){this._context.$implicit=this._context.ngIf=q,this._updateView()}set ngIfThen(q){Rr("ngIfThen",q),this._thenTemplateRef=q,this._thenViewRef=null,this._updateView()}set ngIfElse(q){Rr("ngIfElse",q),this._elseTemplateRef=q,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(q,xe){return!0}}return W.\u0275fac=function(q){return new(q||W)(p.Y36(p.s_b),p.Y36(p.Rgc))},W.\u0275dir=p.lG2({type:W,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),W})();class $o{constructor(){this.$implicit=null,this.ngIf=null}}function Rr(W,_e){if(_e&&!_e.createEmbeddedView)throw new Error(`${W} must be a TemplateRef, but received '${(0,p.AaK)(_e)}'.`)}class Cr{constructor(_e,q){this._viewContainerRef=_e,this._templateRef=q,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(_e){_e&&!this._created?this.create():!_e&&this._created&&this.destroy()}}let Ao=(()=>{class W{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(q){this._ngSwitch=q,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(q){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(q)}_matchCase(q){const xe=q==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||xe,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),xe}_updateDefaultCases(q){if(this._defaultViews&&q!==this._defaultUsed){this._defaultUsed=q;for(let xe=0;xe<this._defaultViews.length;xe++)this._defaultViews[xe].enforceState(q)}}}return W.\u0275fac=function(q){return new(q||W)},W.\u0275dir=p.lG2({type:W,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),W})(),as=(()=>{class W{constructor(q,xe,ct){this.ngSwitch=ct,ct._addCase(),this._view=new Cr(q,xe)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return W.\u0275fac=function(q){return new(q||W)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(Ao,9))},W.\u0275dir=p.lG2({type:W,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),W})(),to=(()=>{class W{constructor(q,xe,ct){this._ngEl=q,this._differs=xe,this._renderer=ct,this._ngStyle=null,this._differ=null}set ngStyle(q){this._ngStyle=q,!this._differ&&q&&(this._differ=this._differs.find(q).create())}ngDoCheck(){if(this._differ){const q=this._differ.diff(this._ngStyle);q&&this._applyChanges(q)}}_setStyle(q,xe){const[ct,Xt]=q.split("."),hn=-1===ct.indexOf("-")?void 0:p.JOm.DashCase;null!=xe?this._renderer.setStyle(this._ngEl.nativeElement,ct,Xt?`${xe}${Xt}`:xe,hn):this._renderer.removeStyle(this._ngEl.nativeElement,ct,hn)}_applyChanges(q){q.forEachRemovedItem(xe=>this._setStyle(xe.key,null)),q.forEachAddedItem(xe=>this._setStyle(xe.key,xe.currentValue)),q.forEachChangedItem(xe=>this._setStyle(xe.key,xe.currentValue))}}return W.\u0275fac=function(q){return new(q||W)(p.Y36(p.SBq),p.Y36(p.aQg),p.Y36(p.Qsj))},W.\u0275dir=p.lG2({type:W,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),W})();class Pt{createSubscription(_e,q){return _e.subscribe({next:q,error:xe=>{throw xe}})}dispose(_e){_e.unsubscribe()}}class Rt{createSubscription(_e,q){return _e.then(q,xe=>{throw xe})}dispose(_e){}}const qt=new Rt,vn=new Pt;let Fn=(()=>{class W{constructor(q){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=q}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(q){return this._obj?q!==this._obj?(this._dispose(),this.transform(q)):this._latestValue:(q&&this._subscribe(q),this._latestValue)}_subscribe(q){this._obj=q,this._strategy=this._selectStrategy(q),this._subscription=this._strategy.createSubscription(q,xe=>this._updateLatestValue(q,xe))}_selectStrategy(q){if((0,p.QGY)(q))return qt;if((0,p.F4k)(q))return vn;throw function _s(W,_e){return new p.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(q,xe){q===this._obj&&(this._latestValue=xe,this._ref.markForCheck())}}return W.\u0275fac=function(q){return new(q||W)(p.Y36(p.sBO,16))},W.\u0275pipe=p.Yjl({name:"async",type:W,pure:!1,standalone:!0}),W})(),ks=(()=>{class W{}return W.\u0275fac=function(q){return new(q||W)},W.\u0275mod=p.oAB({type:W}),W.\u0275inj=p.cJS({}),W})();const zs="browser";function ba(W){return W===zs}function zo(W){return"server"===W}let Yr=(()=>{class W{}return W.\u0275prov=(0,p.Yz7)({token:W,providedIn:"root",factory:()=>new Wo((0,p.LFG)(we),window)}),W})();class Wo{constructor(_e,q){this.document=_e,this.window=q,this.offset=()=>[0,0]}setOffset(_e){this.offset=Array.isArray(_e)?()=>_e:_e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(_e){this.supportsScrolling()&&this.window.scrollTo(_e[0],_e[1])}scrollToAnchor(_e){if(!this.supportsScrolling())return;const q=function Kr(W,_e){const q=W.getElementById(_e)||W.getElementsByName(_e)[0];if(q)return q;if("function"==typeof W.createTreeWalker&&W.body&&(W.body.createShadowRoot||W.body.attachShadow)){const xe=W.createTreeWalker(W.body,NodeFilter.SHOW_ELEMENT);let ct=xe.currentNode;for(;ct;){const Xt=ct.shadowRoot;if(Xt){const hn=Xt.getElementById(_e)||Xt.querySelector(`[name="${_e}"]`);if(hn)return hn}ct=xe.nextNode()}}return null}(this.document,_e);q&&(this.scrollToElement(q),q.focus())}setHistoryScrollRestoration(_e){if(this.supportScrollRestoration()){const q=this.window.history;q&&q.scrollRestoration&&(q.scrollRestoration=_e)}}scrollToElement(_e){const q=_e.getBoundingClientRect(),xe=q.left+this.window.pageXOffset,ct=q.top+this.window.pageYOffset,Xt=this.offset();this.window.scrollTo(xe-Xt[0],ct-Xt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const _e=Ai(this.window.history)||Ai(Object.getPrototypeOf(this.window.history));return!(!_e||!_e.writable&&!_e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ai(W){return Object.getOwnPropertyDescriptor(W,"scrollRestoration")}class bs{}},4650:(gn,_t,x)=>{"use strict";x.d(_t,{$8M:()=>yi,$Z:()=>U_,AFp:()=>x0,ALo:()=>Zb,AaK:()=>he,AsE:()=>w_,BQk:()=>yc,CHM:()=>Po,CRH:()=>o0,CZH:()=>Dy,CqO:()=>rg,D6c:()=>PD,EJc:()=>Zw,EiD:()=>Nd,EpF:()=>cv,F$t:()=>ap,F4k:()=>op,FYo:()=>bp,FiY:()=>Cs,G48:()=>gD,Gf:()=>r0,GfV:()=>wg,GkF:()=>lv,Gpc:()=>me,Hsn:()=>ag,Ikx:()=>x_,JOm:()=>eo,JVY:()=>df,Jf7:()=>ur,KtG:()=>No,L6k:()=>hf,LAX:()=>Uu,LFG:()=>at,LSH:()=>E,Lbi:()=>zw,Lck:()=>VC,MAs:()=>u_,MMx:()=>Uy,N_p:()=>Oy,NdJ:()=>sg,O4$:()=>Xn,OlP:()=>Hi,Oqu:()=>C_,PXZ:()=>uD,Q6J:()=>Aa,QGY:()=>d_,QP$:()=>Ct,QbO:()=>Ww,Qsj:()=>Wu,QtT:()=>kb,R0b:()=>hh,RDi:()=>cf,Rgc:()=>oy,SBq:()=>Ch,SDv:()=>Ab,Sil:()=>Qw,Suo:()=>s0,TTD:()=>aa,TgZ:()=>Kh,Tol:()=>mv,Udp:()=>dg,VKq:()=>$b,WFA:()=>Cd,X6Q:()=>mD,XFs:()=>pt,Xpm:()=>lt,Xts:()=>br,Y36:()=>Zd,YKP:()=>Pb,YNc:()=>ip,Yjl:()=>X,Yz7:()=>Ne,Z0I:()=>Ln,ZZ4:()=>ub,_Bn:()=>Ob,_UZ:()=>vc,_Vd:()=>Ld,_c5:()=>RD,_uU:()=>b_,aQg:()=>db,c2e:()=>Yw,cJS:()=>Tt,cg1:()=>um,d8E:()=>ru,dDg:()=>oD,dqk:()=>Sn,eBb:()=>vh,eFA:()=>j0,ekj:()=>hg,eoX:()=>V0,f3M:()=>on,g9A:()=>k0,h0i:()=>Av,hGG:()=>OD,hij:()=>pg,iGM:()=>n0,ifc:()=>Yt,ip1:()=>I0,jDz:()=>Fb,kL8:()=>c,kcU:()=>Ei,lG2:()=>G,lcZ:()=>qb,lqb:()=>Pc,lri:()=>L0,mCW:()=>Rd,n5z:()=>Bl,n_E:()=>vy,oAB:()=>Gt,oJD:()=>R,oxw:()=>og,pB0:()=>Hu,pQV:()=>Py,q3G:()=>ws,q4F:()=>Cp,qLn:()=>oc,qOj:()=>Xf,qZA:()=>Io,qzn:()=>uu,rWj:()=>B0,sBO:()=>_D,sIi:()=>ih,s_b:()=>by,soG:()=>Ey,tHW:()=>Ry,tb:()=>R0,tp0:()=>_a,uIk:()=>eg,vHH:()=>Je,vpe:()=>up,wAp:()=>d,xp6:()=>zd,ynx:()=>sp,z2F:()=>Sy,z3N:()=>yl,zSh:()=>yh,zs3:()=>gi});var p=x(8929),N=x(2654),v=x(6498),ne=x(6787),C=x(2474);function te(n){for(let r in n)if(n[r]===te)return r;throw Error("Could not find renamed property on target object.")}function we(n,r){for(const l in r)r.hasOwnProperty(l)&&!n.hasOwnProperty(l)&&(n[l]=r[l])}function he(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(he).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const l=r.indexOf("\n");return-1===l?r:r.substring(0,l)}function Se(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ae=te({__forward_ref__:te});function me(n){return n.__forward_ref__=me,n.toString=function(){return he(this())},n}function ye(n){return Ie(n)?n():n}function Ie(n){return"function"==typeof n&&n.hasOwnProperty(ae)&&n.__forward_ref__===me}class Je extends Error{constructor(r,l){super(function Fe(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,l)),this.code=r}}function ot(n){return"string"==typeof n?n:null==n?"":String(n)}function vt(n,r){throw new Je(-201,!1)}function rn(n,r,l,h){throw new Error(`ASSERTION ERROR: ${n}`+(null==h?"":` [Expected=> ${l} ${h} ${r} <=Actual]`))}function Ne(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Tt(n){return{providers:n.providers||[],imports:n.imports||[]}}function en(n){return It(n,wn)||It(n,Gn)}function Ln(n){return null!==en(n)}function It(n,r){return n.hasOwnProperty(r)?n[r]:null}function $t(n){return n&&(n.hasOwnProperty(zt)||n.hasOwnProperty(Dn))?n[zt]:null}const wn=te({\u0275prov:te}),zt=te({\u0275inj:te}),Gn=te({ngInjectableDef:te}),Dn=te({ngInjectorDef:te});var pt=(()=>((pt=pt||{})[pt.Default=0]="Default",pt[pt.Host=1]="Host",pt[pt.Self=2]="Self",pt[pt.SkipSelf=4]="SkipSelf",pt[pt.Optional=8]="Optional",pt))();let J;function Pe(n){const r=J;return J=n,r}function ce(n,r,l){const h=en(n);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:l&pt.Optional?null:void 0!==r?r:void vt(he(n))}function be(n){return{toString:n}.toString()}var We=(()=>((We=We||{})[We.OnPush=0]="OnPush",We[We.Default=1]="Default",We))(),Yt=(()=>{return(n=Yt||(Yt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Yt;var n})();const Sn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ni={},On=[],Ii=te({\u0275cmp:te}),Tn=te({\u0275dir:te}),Wt=te({\u0275pipe:te}),gt=te({\u0275mod:te}),Et=te({\u0275fac:te}),ln=te({__NG_ELEMENT_ID__:te});let fn=0;function lt(n){return be(()=>{const l=!0===n.standalone,h={},m={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===We.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||On,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Yt.Emulated,id:"c"+fn++,styles:n.styles||On,_:null,setInput:null,schemas:n.schemas||null,tView:null},w=n.dependencies,k=n.features;return m.inputs=j(n.inputs,h),m.outputs=j(n.outputs),k&&k.forEach(V=>V(m)),m.directiveDefs=w?()=>("function"==typeof w?w():w).map(Xe).filter(St):null,m.pipeDefs=w?()=>("function"==typeof w?w():w).map(Qe).filter(St):null,m})}function Xe(n){return K(n)||fe(n)}function St(n){return null!==n}function Gt(n){return be(()=>({type:n.type,bootstrap:n.bootstrap||On,declarations:n.declarations||On,imports:n.imports||On,exports:n.exports||On,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function j(n,r){if(null==n)return ni;const l={};for(const h in n)if(n.hasOwnProperty(h)){let m=n[h],w=m;Array.isArray(m)&&(w=m[1],m=m[0]),l[m]=h,r&&(r[m]=w)}return l}const G=lt;function X(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function K(n){return n[Ii]||null}function fe(n){return n[Tn]||null}function Qe(n){return n[Wt]||null}function Ct(n){const r=K(n)||fe(n)||Qe(n);return null!==r&&r.standalone}function dn(n,r){const l=n[gt]||null;if(!l&&!0===r)throw new Error(`Type ${he(n)} does not have '\u0275mod' property.`);return l}function Rr(n){return Array.isArray(n)&&"object"==typeof n[1]}function Cr(n){return Array.isArray(n)&&!0===n[1]}function Ao(n){return 0!=(8&n.flags)}function as(n){return 2==(2&n.flags)}function gs(n){return 1==(1&n.flags)}function Yi(n){return null!==n.template}function Is(n){return 0!=(256&n[2])}function bo(n,r){return n.hasOwnProperty(Et)?n[Et]:null}class Co{constructor(r,l,h){this.previousValue=r,this.currentValue=l,this.firstChange=h}isFirstChange(){return this.firstChange}}function aa(){return Ro}function Ro(n){return n.type.prototype.ngOnChanges&&(n.setInput=Gs),wo}function wo(){const n=As(this),r=n?.current;if(r){const l=n.previous;if(l===ni)n.previous=r;else for(let h in r)l[h]=r[h];n.current=null,this.ngOnChanges(r)}}function Gs(n,r,l,h){const m=As(n)||function ks(n,r){return n[ys]=r}(n,{previous:ni,current:null}),w=m.current||(m.current={}),k=m.previous,V=this.declaredInputs[l],Y=k[V];w[V]=new Co(Y&&Y.currentValue,r,k===ni),n[h]=r}aa.ngInherit=!0;const ys="__ngSimpleChanges__";function As(n){return n[ys]||null}function mr(n){for(;Array.isArray(n);)n=n[0];return n}function Ai(n,r){return mr(r[n])}function Kr(n,r){return mr(r[n.index])}function bs(n,r){return n.data[r]}function la(n,r){return n[r]}function Zi(n,r){const l=r[n];return Rr(l)?l:l[0]}function Rs(n){return 64==(64&n[2])}function Os(n,r){return null==r?null:n[r]}function ca(n){n[18]=0}function gr(n,r){n[5]+=r;let l=n,h=n[3];for(;null!==h&&(1===r&&1===l[5]||-1===r&&0===l[5]);)h[5]+=r,l=h,h=h[3]}const fi={lFrame:ao(null),bindingsEnabled:!0};function Ys(){return fi.bindingsEnabled}function Mn(){return fi.lFrame.lView}function xi(){return fi.lFrame.tView}function Po(n){return fi.lFrame.contextLView=n,n[8]}function No(n){return fi.lFrame.contextLView=null,n}function Vr(){let n=re();for(;null!==n&&64===n.type;)n=n.parent;return n}function re(){return fi.lFrame.currentTNode}function Q(){const n=fi.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}function $(n,r){const l=fi.lFrame;l.currentTNode=n,l.isParent=r}function Ae(){return fi.lFrame.isParent}function nn(){fi.lFrame.isParent=!1}function hr(){const n=fi.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Fr(){return fi.lFrame.bindingIndex}function qi(){return fi.lFrame.bindingIndex++}function oo(n){const r=fi.lFrame,l=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,l}function Pa(n){fi.lFrame.inI18n=n}function Xl(n,r){const l=fi.lFrame;l.bindingIndex=l.bindingRootIndex=n,Xa(r)}function Xa(n){fi.lFrame.currentDirectiveIndex=n}function Ja(n){const r=fi.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function ua(){return fi.lFrame.currentQueryIndex}function el(n){fi.lFrame.currentQueryIndex=n}function qr(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function hl(n,r,l){if(l&pt.SkipSelf){let m=r,w=n;for(;!(m=m.parent,null!==m||l&pt.Host||(m=qr(w),null===m||(w=w[15],10&m.type))););if(null===m)return!1;r=m,n=w}const h=fi.lFrame=Al();return h.currentTNode=r,h.lView=n,!0}function da(n){const r=Al(),l=n[1];fi.lFrame=r,r.currentTNode=l.firstChild,r.lView=n,r.tView=l,r.contextLView=n,r.bindingIndex=l.bindingStartIndex,r.inI18n=!1}function Al(){const n=fi.lFrame,r=null===n?null:n.child;return null===r?ao(n):r}function ao(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Na(){const n=fi.lFrame;return fi.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const W=Na;function _e(){const n=Na();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ct(){return fi.lFrame.selectedIndex}function Xt(n){fi.lFrame.selectedIndex=n}function hn(){const n=fi.lFrame;return bs(n.tView,n.selectedIndex)}function Xn(){fi.lFrame.currentNamespace="svg"}function Ei(){!function Gi(){fi.lFrame.currentNamespace=null}()}function Ze(n,r){for(let l=r.directiveStart,h=r.directiveEnd;l<h;l++){const w=n.data[l].type.prototype,{ngAfterContentInit:k,ngAfterContentChecked:V,ngAfterViewInit:Y,ngAfterViewChecked:ue,ngOnDestroy:Oe}=w;k&&(n.contentHooks||(n.contentHooks=[])).push(-l,k),V&&((n.contentHooks||(n.contentHooks=[])).push(l,V),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(l,V)),Y&&(n.viewHooks||(n.viewHooks=[])).push(-l,Y),ue&&((n.viewHooks||(n.viewHooks=[])).push(l,ue),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(l,ue)),null!=Oe&&(n.destroyHooks||(n.destroyHooks=[])).push(l,Oe)}}function fr(n,r,l){Zs(n,r,3,l)}function Ps(n,r,l,h){(3&n[2])===l&&Zs(n,r,l,h)}function Ks(n,r){let l=n[2];(3&l)===r&&(l&=2047,l+=1,n[2]=l)}function Zs(n,r,l,h){const w=h??-1,k=r.length-1;let V=0;for(let Y=void 0!==h?65535&n[18]:0;Y<k;Y++)if("number"==typeof r[Y+1]){if(V=r[Y],null!=h&&V>=h)break}else r[Y]<0&&(n[18]+=65536),(V<w||-1==w)&&(Fo(n,l,r,Y),n[18]=(4294901760&n[18])+Y+2),Y++}function Fo(n,r,l,h){const m=l[h]<0,w=l[h+1],V=n[m?-l[h]:l[h]];if(m){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{w.call(V)}finally{}}}else try{w.call(V)}finally{}}class rr{constructor(r,l,h){this.factory=r,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=h}}function Rl(n,r,l){let h=0;for(;h<l.length;){const m=l[h];if("number"==typeof m){if(0!==m)break;h++;const w=l[h++],k=l[h++],V=l[h++];n.setAttribute(r,k,V,w)}else{const w=m,k=l[++h];Ol(w)?n.setProperty(r,w,k):n.setAttribute(r,w,k),h++}}return h}function ha(n){return 3===n||4===n||6===n}function Ol(n){return 64===n.charCodeAt(0)}function Fa(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let l=-1;for(let h=0;h<r.length;h++){const m=r[h];"number"==typeof m?l=m:0===l||ou(n,l,m,null,-1===l||2===l?r[++h]:null)}}return n}function ou(n,r,l,h,m){let w=0,k=n.length;if(-1===r)k=-1;else for(;w<n.length;){const V=n[w++];if("number"==typeof V){if(V===r){k=-1;break}if(V>r){k=w-1;break}}}for(;w<n.length;){const V=n[w];if("number"==typeof V)break;if(V===l){if(null===h)return void(null!==m&&(n[w+1]=m));if(h===n[w+1])return void(n[w+2]=m)}w++,null!==h&&w++,null!==m&&w++}-1!==k&&(n.splice(k,0,r),w=k+1),n.splice(w++,0,l),null!==h&&n.splice(w++,0,h),null!==m&&n.splice(w++,0,m)}function Pl(n){return-1!==n}function sr(n){return 32767&n}function Lo(n,r){let l=function fa(n){return n>>16}(n),h=r;for(;l>0;)h=h[15],l--;return h}let pl=!0;function pa(n){const r=pl;return pl=n,r}let Fu=0;const ii={};function Bo(n,r){const l=un(n,r);if(-1!==l)return l;const h=r[1];h.firstCreatePass&&(n.injectorIndex=r.length,Zn(h.data,n),Zn(r,null),Zn(h.blueprint,null));const m=In(n,r),w=n.injectorIndex;if(Pl(m)){const k=sr(m),V=Lo(m,r),Y=V[1].data;for(let ue=0;ue<8;ue++)r[w+ue]=V[k+ue]|Y[k+ue]}return r[w+8]=m,w}function Zn(n,r){n.push(0,0,0,0,0,0,0,0,r)}function un(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function In(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let l=0,h=null,m=r;for(;null!==m;){if(h=ds(m),null===h)return-1;if(l++,m=m[15],-1!==h.injectorIndex)return h.injectorIndex|l<<16}return-1}function xr(n,r,l){!function wi(n,r,l){let h;"string"==typeof l?h=l.charCodeAt(0)||0:l.hasOwnProperty(ln)&&(h=l[ln]),null==h&&(h=l[ln]=Fu++);const m=255&h;r.data[n+(m>>5)]|=1<<m}(n,r,l)}function us(n,r,l){if(l&pt.Optional||void 0!==n)return n;vt()}function wa(n,r,l,h){if(l&pt.Optional&&void 0===h&&(h=null),0==(l&(pt.Self|pt.Host))){const m=n[9],w=Pe(void 0);try{return m?m.get(r,h,l&pt.Optional):ce(r,h,l&pt.Optional)}finally{Pe(w)}}return us(h,0,l)}function ma(n,r,l,h=pt.Default,m){if(null!==n){if(1024&r[2]){const k=function bi(n,r,l,h,m){let w=n,k=r;for(;null!==w&&null!==k&&1024&k[2]&&!(256&k[2]);){const V=Nl(w,k,l,h|pt.Self,ii);if(V!==ii)return V;let Y=w.parent;if(!Y){const ue=k[21];if(ue){const Oe=ue.get(l,ii,h);if(Oe!==ii)return Oe}Y=ds(k),k=k[15]}w=Y}return m}(n,r,l,h,ii);if(k!==ii)return k}const w=Nl(n,r,l,h,ii);if(w!==ii)return w}return wa(r,l,h,m)}function Nl(n,r,l,h,m){const w=function Td(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(ln)?n[ln]:void 0;return"number"==typeof r?r>=0?255&r:qo:r}(l);if("function"==typeof w){if(!hl(r,n,h))return h&pt.Host?us(m,0,h):wa(r,l,h,m);try{const k=w(h);if(null!=k||h&pt.Optional)return k;vt()}finally{W()}}else if("number"==typeof w){let k=null,V=un(n,r),Y=-1,ue=h&pt.Host?r[16][6]:null;for((-1===V||h&pt.SkipSelf)&&(Y=-1===V?In(n,r):r[V+8],-1!==Y&&Ll(h,!1)?(k=r[1],V=sr(Y),r=Lo(Y,r)):V=-1);-1!==V;){const Oe=r[1];if(ps(w,V,Oe.data)){const it=Fl(V,r,l,k,h,ue);if(it!==ii)return it}Y=r[V+8],-1!==Y&&Ll(h,r[1].data[V+8]===ue)&&ps(w,V,r)?(k=Oe,V=sr(Y),r=Lo(Y,r)):V=-1}}return m}function Fl(n,r,l,h,m,w){const k=r[1],V=k.data[n+8],Oe=nl(V,k,l,null==h?as(V)&&pl:h!=k&&0!=(3&V.type),m&pt.Host&&w===V);return null!==Oe?ml(r,k,Oe,V):ii}function nl(n,r,l,h,m){const w=n.providerIndexes,k=r.data,V=1048575&w,Y=n.directiveStart,Oe=w>>20,xt=m?V+Oe:n.directiveEnd;for(let tn=h?V:V+Oe;tn<xt;tn++){const An=k[tn];if(tn<Y&&l===An||tn>=Y&&An.type===l)return tn}if(m){const tn=k[Y];if(tn&&Yi(tn)&&tn.type===l)return Y}return null}function ml(n,r,l,h){let m=n[l];const w=r.data;if(function Ns(n){return n instanceof rr}(m)){const k=m;k.resolving&&function jt(n,r){const l=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Je(-200,`Circular dependency in DI detected for ${n}${l}`)}(function ht(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ot(n)}(w[l]));const V=pa(k.canSeeViewProviders);k.resolving=!0;const Y=k.injectImpl?Pe(k.injectImpl):null;hl(n,h,pt.Default);try{m=n[l]=k.factory(void 0,w,n,h),r.firstCreatePass&&l>=h.directiveStart&&function _r(n,r,l){const{ngOnChanges:h,ngOnInit:m,ngDoCheck:w}=r.type.prototype;if(h){const k=Ro(r);(l.preOrderHooks||(l.preOrderHooks=[])).push(n,k),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(n,k)}m&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-n,m),w&&((l.preOrderHooks||(l.preOrderHooks=[])).push(n,w),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(n,w))}(l,w[l],r)}finally{null!==Y&&Pe(Y),pa(V),k.resolving=!1,W()}}return m}function ps(n,r,l){return!!(l[r+(n>>5)]&1<<n)}function Ll(n,r){return!(n&pt.Self||n&pt.Host&&r)}class Ti{constructor(r,l){this._tNode=r,this._lView=l}get(r,l,h){return ma(this._tNode,this._lView,r,h,l)}}function qo(){return new Ti(Vr(),Mn())}function Bl(n){return be(()=>{const r=n.prototype.constructor,l=r[Et]||Ar(r),h=Object.prototype;let m=Object.getPrototypeOf(n.prototype).constructor;for(;m&&m!==h;){const w=m[Et]||Ar(m);if(w&&w!==l)return w;m=Object.getPrototypeOf(m)}return w=>new w})}function Ar(n){return Ie(n)?()=>{const r=Ar(ye(n));return r&&r()}:bo(n)}function ds(n){const r=n[1],l=r.type;return 2===l?r.declTNode:1===l?n[6]:null}function yi(n){return function wc(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const l=n.attrs;if(l){const h=l.length;let m=0;for(;m<h;){const w=l[m];if(ha(w))break;if(0===w)m+=2;else if("number"==typeof w)for(m++;m<h&&"string"==typeof l[m];)m++;else{if(w===r)return l[m+1];m+=2}}}return null}(Vr(),n)}const vr="__parameters__";function Qo(n,r,l){return be(()=>{const h=function Da(n){return function(...l){if(n){const h=n(...l);for(const m in h)this[m]=h[m]}}}(r);function m(...w){if(this instanceof m)return h.apply(this,w),this;const k=new m(...w);return V.annotation=k,V;function V(Y,ue,Oe){const it=Y.hasOwnProperty(vr)?Y[vr]:Object.defineProperty(Y,vr,{value:[]})[vr];for(;it.length<=Oe;)it.push(null);return(it[Oe]=it[Oe]||[]).push(k),Y}}return l&&(m.prototype=Object.create(l.prototype)),m.prototype.ngMetadataName=n,m.annotationCls=m,m})}class Hi{constructor(r,l){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Ne({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Eo(n,r){void 0===r&&(r=n);for(let l=0;l<n.length;l++){let h=n[l];Array.isArray(h)?(r===n&&(r=n.slice(0,l)),Eo(h,r)):r!==n&&r.push(h)}return r}function uo(n,r){n.forEach(l=>Array.isArray(l)?uo(l,r):r(l))}function ec(n,r,l){r>=n.length?n.push(l):n.splice(r,0,l)}function ho(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Xs(n,r){const l=[];for(let h=0;h<n;h++)l.push(r);return l}function I(n,r,l){let h=ee(n,r);return h>=0?n[1|h]=l:(h=~h,function Tc(n,r,l,h){let m=n.length;if(m==r)n.push(l,h);else if(1===m)n.push(h,n[0]),n[0]=l;else{for(m--,n.push(n[m-1],n[m]);m>r;)n[m]=n[m-2],m--;n[r]=l,n[r+1]=h}}(n,h,r,l)),h}function H(n,r){const l=ee(n,r);if(l>=0)return n[1|l]}function ee(n,r){return function nt(n,r,l){let h=0,m=n.length>>l;for(;m!==h;){const w=h+(m-h>>1),k=n[w<<l];if(r===k)return w<<l;k>r?m=w:h=w+1}return~(m<<l)}(n,r,1)}const Ur={},Or="__NG_DI_FLAG__",Ls="ngTempTokenPath",Qr=/\n/gm,jl="__source";let Z;function se(n){const r=Z;return Z=n,r}function Me(n,r=pt.Default){if(void 0===Z)throw new Je(-203,!1);return null===Z?ce(n,void 0,r):Z.get(n,r&pt.Optional?null:void 0,r)}function at(n,r=pt.Default){return(function de(){return J}()||Me)(ye(n),r)}function on(n,r=pt.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),at(n,r)}function xn(n){const r=[];for(let l=0;l<n.length;l++){const h=ye(n[l]);if(Array.isArray(h)){if(0===h.length)throw new Je(900,!1);let m,w=pt.Default;for(let k=0;k<h.length;k++){const V=h[k],Y=_i(V);"number"==typeof Y?-1===Y?m=V.token:w|=Y:m=V}r.push(at(m,w))}else r.push(at(h))}return r}function $n(n,r){return n[Or]=r,n.prototype[Or]=r,n}function _i(n){return n[Or]}const Cs=$n(Qo("Optional"),8),_a=$n(Qo("SkipSelf"),4);let Id,hs,vl;function cf(n){Id=n}function sl(){return void 0!==Id?Id:typeof document<"u"?document:void 0}function Ic(n){var r;return(null===(r=function mh(){if(void 0===hs&&(hs=null,Sn.trustedTypes))try{hs=Sn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return hs}())||void 0===r?void 0:r.createHTML(n))||n}function xc(n){var r;return(null===(r=function lu(){if(void 0===vl&&(vl=null,Sn.trustedTypes))try{vl=Sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return vl}())||void 0===r?void 0:r.createHTML(n))||n}class Vs{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Jo extends Vs{getTypeName(){return"HTML"}}class kd extends Vs{getTypeName(){return"Style"}}class Vu extends Vs{getTypeName(){return"Script"}}class uf extends Vs{getTypeName(){return"URL"}}class cu extends Vs{getTypeName(){return"ResourceURL"}}function yl(n){return n instanceof Vs?n.changingThisBreaksApplicationSecurity:n}function uu(n,r){const l=function _h(n){return n instanceof Vs&&n.getTypeName()||null}(n);if(null!=l&&l!==r){if("ResourceURL"===l&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===r}function df(n){return new Jo(n)}function hf(n){return new kd(n)}function vh(n){return new Vu(n)}function Uu(n){return new uf(n)}function Hu(n){return new cu(n)}function ju(n){const r=new pf(n);return function sc(){try{return!!(new window.DOMParser).parseFromString(Ic(""),"text/html")}catch{return!1}}()?new ff(r):r}class ff{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const l=(new window.DOMParser).parseFromString(Ic(r),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(r):(l.removeChild(l.firstChild),l)}catch{return null}}}class pf{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const h=this.inertDocument.createElement("body");l.appendChild(h)}}getInertBodyElement(r){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Ic(r),l;const h=this.inertDocument.createElement("body");return h.innerHTML=Ic(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(r){const l=r.attributes;for(let m=l.length-1;0<m;m--){const k=l.item(m).name;("xmlns:ns1"===k||0===k.indexOf("ns1:"))&&r.removeAttribute(k)}let h=r.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const $u=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Rd(n){return(n=String(n)).match($u)?n:"unsafe:"+n}function ea(n){const r={};for(const l of n.split(","))r[l]=!0;return r}function $l(...n){const r={};for(const l of n)for(const h in l)l.hasOwnProperty(h)&&(r[h]=!0);return r}const ol=ea("area,br,col,hr,img,wbr"),Od=ea("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),du=ea("rp,rt"),ns=$l(ol,$l(Od,ea("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$l(du,ea("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$l(du,Od)),fu=ea("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mf=$l(fu,ea("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ea("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),pu=ea("script,style,template");class Pd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let l=r.firstChild,h=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?h=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,h&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let m=this.checkClobberedElement(l,l.nextSibling);if(m){l=m;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(r){const l=r.nodeName.toLowerCase();if(!ns.hasOwnProperty(l))return this.sanitizedSomething=!0,!pu.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const h=r.attributes;for(let m=0;m<h.length;m++){const w=h.item(m),k=w.name,V=k.toLowerCase();if(!mf.hasOwnProperty(V)){this.sanitizedSomething=!0;continue}let Y=w.value;fu[V]&&(Y=Rd(Y)),this.buf.push(" ",k,'="',va(Y),'"')}return this.buf.push(">"),!0}endElement(r){const l=r.nodeName.toLowerCase();ns.hasOwnProperty(l)&&!ol.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(r){this.buf.push(va(r))}checkClobberedElement(r,l){if(l&&(r.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return l}}const gf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ac=/([^\#-~ |!])/g;function va(n){return n.replace(/&/g,"&amp;").replace(gf,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Ac,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gu;function Nd(n,r){let l=null;try{Gu=Gu||ju(n);let h=r?String(r):"";l=Gu.getInertBodyElement(h);let m=5,w=h;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,h=w,w=l.innerHTML,l=Gu.getInertBodyElement(h)}while(h!==w);return Ic((new Pd).sanitizeChildren(kc(l)||l))}finally{if(l){const h=kc(l)||l;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function kc(n){return"content"in n&&function Rc(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ws=(()=>((ws=ws||{})[ws.NONE=0]="NONE",ws[ws.HTML=1]="HTML",ws[ws.STYLE=2]="STYLE",ws[ws.SCRIPT=3]="SCRIPT",ws[ws.URL=4]="URL",ws[ws.RESOURCE_URL=5]="RESOURCE_URL",ws))();function R(n){const r=mi();return r?xc(r.sanitize(ws.HTML,n)||""):uu(n,"HTML")?xc(yl(n)):Nd(sl(),ot(n))}function E(n){const r=mi();return r?r.sanitize(ws.URL,n)||"":uu(n,"URL")?yl(n):Rd(ot(n))}function mi(){const n=Mn();return n&&n[12]}const br=new Hi("ENVIRONMENT_INITIALIZER"),ms=new Hi("INJECTOR",-1),mo=new Hi("INJECTOR_DEF_TYPES");class Us{get(r,l=Ur){if(l===Ur){const h=new Error(`NullInjectorError: No provider for ${he(r)}!`);throw h.name="NullInjectorError",h}return l}}function Bi(...n){return{\u0275providers:mu(0,n)}}function mu(n,...r){const l=[],h=new Set;let m;return uo(r,w=>{const k=w;To(k,l,[],h)&&(m||(m=[]),m.push(k))}),void 0!==m&&gu(m,l),l}function gu(n,r){for(let l=0;l<n.length;l++){const{providers:m}=n[l];uo(m,w=>{r.push(w)})}}function To(n,r,l,h){if(!(n=ye(n)))return!1;let m=null,w=$t(n);const k=!w&&K(n);if(w||k){if(k&&!k.standalone)return!1;m=n}else{const Y=n.ngModule;if(w=$t(Y),!w)return!1;m=Y}const V=h.has(m);if(k){if(V)return!1;if(h.add(m),k.dependencies){const Y="function"==typeof k.dependencies?k.dependencies():k.dependencies;for(const ue of Y)To(ue,r,l,h)}}else{if(!w)return!1;{if(null!=w.imports&&!V){let ue;h.add(m);try{uo(w.imports,Oe=>{To(Oe,r,l,h)&&(ue||(ue=[]),ue.push(Oe))})}finally{}void 0!==ue&&gu(ue,r)}if(!V){const ue=bo(m)||(()=>new m);r.push({provide:m,useFactory:ue,deps:On},{provide:mo,useValue:m,multi:!0},{provide:br,useValue:()=>at(m),multi:!0})}const Y=w.providers;null==Y||V||uo(Y,Oe=>{r.push(Oe)})}}return m!==n&&void 0!==n.providers}const bl=te({provide:String,useValue:te});function zu(n){return null!==n&&"object"==typeof n&&bl in n}function ll(n){return"function"==typeof n}const yh=new Hi("Set Injector scope."),_f={},mp={};let gp;function _u(){return void 0===gp&&(gp=new Us),gp}class Pc{}class vf extends Pc{constructor(r,l,h,m){super(),this.parent=l,this.source=h,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yf(r,k=>this.processProvider(k)),this.records.set(ms,Ha(void 0,this)),m.has("environment")&&this.records.set(Pc,Ha(void 0,this));const w=this.records.get(yh);null!=w&&"string"==typeof w.value&&this.scopes.add(w.value),this.injectorDefTypes=new Set(this.get(mo.multi,On,pt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const l=se(this),h=Pe(void 0);try{return r()}finally{se(l),Pe(h)}}get(r,l=Ur,h=pt.Default){this.assertNotDestroyed();const m=se(this),w=Pe(void 0);try{if(!(h&pt.SkipSelf)){let V=this.records.get(r);if(void 0===V){const Y=function vu(n){return"function"==typeof n||"object"==typeof n&&n instanceof Hi}(r)&&en(r);V=Y&&this.injectableDefInScope(Y)?Ha(Hs(r),_f):null,this.records.set(r,V)}if(null!=V)return this.hydrate(r,V)}return(h&pt.Self?_u():this.parent).get(r,l=h&pt.Optional&&l===Ur?null:l)}catch(k){if("NullInjectorError"===k.name){if((k[Ls]=k[Ls]||[]).unshift(he(r)),m)throw k;return function Fi(n,r,l,h){const m=n[Ls];throw r[jl]&&m.unshift(r[jl]),n.message=function Li(n,r,l,h=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let m=he(r);if(Array.isArray(r))m=r.map(he).join(" -> ");else if("object"==typeof r){let w=[];for(let k in r)if(r.hasOwnProperty(k)){let V=r[k];w.push(k+":"+("string"==typeof V?JSON.stringify(V):he(V)))}m=`{${w.join(", ")}}`}return`${l}${h?"("+h+")":""}[${m}]: ${n.replace(Qr,"\n  ")}`}("\n"+n.message,m,l,h),n.ngTokenPath=m,n[Ls]=null,n}(k,r,"R3InjectorError",this.source)}throw k}finally{Pe(w),se(m)}}resolveInjectorInitializers(){const r=se(this),l=Pe(void 0);try{const h=this.get(br.multi,On,pt.Self);for(const m of h)m()}finally{se(r),Pe(l)}}toString(){const r=[],l=this.records;for(const h of l.keys())r.push(he(h));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Je(205,!1)}processProvider(r){let l=ll(r=ye(r))?r:ye(r&&r.provide);const h=function _p(n){return zu(n)?Ha(void 0,n.useValue):Ha(Nc(n),_f)}(r);if(ll(r)||!0!==r.multi)this.records.get(l);else{let m=this.records.get(l);m||(m=Ha(void 0,_f,!0),m.factory=()=>xn(m.multi),this.records.set(l,m)),l=r,m.multi.push(r)}this.records.set(l,h)}hydrate(r,l){return l.value===_f&&(l.value=mp,l.value=l.factory()),"object"==typeof l.value&&l.value&&function bh(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(r){if(!r.providedIn)return!1;const l=ye(r.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Hs(n){const r=en(n),l=null!==r?r.factory:bo(n);if(null!==l)return l;if(n instanceof Hi)throw new Je(204,!1);if(n instanceof Function)return function Ma(n){const r=n.length;if(r>0)throw Xs(r,"?"),new Je(204,!1);const l=function Qt(n){const r=n&&(n[wn]||n[Gn]);if(r){const l=function Mt(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),r}return null}(n);return null!==l?()=>l.factory(n):()=>new n}(n);throw new Je(204,!1)}function Nc(n,r,l){let h;if(ll(n)){const m=ye(n);return bo(m)||Hs(m)}if(zu(n))h=()=>ye(n.useValue);else if(function Fd(n){return!(!n||!n.useFactory)}(n))h=()=>n.useFactory(...xn(n.deps||[]));else if(function Oc(n){return!(!n||!n.useExisting)}(n))h=()=>at(ye(n.useExisting));else{const m=ye(n&&(n.useClass||n.provide));if(!function fm(n){return!!n.deps}(n))return bo(m)||Hs(m);h=()=>new m(...xn(n.deps))}return h}function Ha(n,r,l=!1){return{factory:n,value:r,multi:l?[]:void 0}}function pm(n){return!!n.\u0275providers}function yf(n,r){for(const l of n)Array.isArray(l)?yf(l,r):pm(l)?yf(l.\u0275providers,r):r(l)}class gm{}class _m{resolveComponentFactory(r){throw function vp(n){const r=Error(`No component factory found for ${he(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Ld=(()=>{class n{}return n.NULL=new _m,n})();function yp(){return Fc(Vr(),Mn())}function Fc(n,r){return new Ch(Kr(n,r))}let Ch=(()=>{class n{constructor(l){this.nativeElement=l}}return n.__NG_ELEMENT_ID__=yp,n})();function vm(n){return n instanceof Ch?n.nativeElement:n}class bp{}let Wu=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Yu(){const n=Mn(),l=Zi(Vr().index,n);return(Rr(l)?l:n)[11]}(),n})(),ym=(()=>{class n{}return n.\u0275prov=Ne({token:n,providedIn:"root",factory:()=>null}),n})();class wg{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Cp=new wg("14.2.8"),wp={};function Bd(n){return n.ngOriginalError}class oc{constructor(){this._console=console}handleError(r){const l=this._findOriginalError(r);this._console.error("ERROR",r),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(r){let l=r&&Bd(r);for(;l&&Bd(l);)l=Bd(l);return l||null}}const wm=/^>|^->|<!--|-->|--!>|<!-$/g,Mg=/(<|>)/;const Sh=new Map;let Em=0;const Gl="__ngContext__";function go(n,r){Rr(r)?(n[Gl]=r[20],function Cu(n){Sh.set(n[20],n)}(r)):n[Gl]=r}function ur(n){return n.ownerDocument.defaultView}function _o(n){return n instanceof Function?n():n}var eo=(()=>((eo=eo||{})[eo.Important=1]="Important",eo[eo.DashCase=2]="DashCase",eo))();let Hc;function Sf(n,r){return Hc(n,r)}function Cl(n){const r=n[3];return Cr(r)?r[3]:r}function vo(n){return Qu(n[13])}function $c(n){return Qu(n[4])}function Qu(n){for(;null!==n&&!Cr(n);)n=n[4];return n}function wl(n,r,l,h,m){if(null!=h){let w,k=!1;Cr(h)?w=h:Rr(h)&&(k=!0,h=h[0]);const V=mr(h);0===n&&null!==l?null==m?ac(r,l,V):ed(r,l,V,m||null,!0):1===n&&null!==l?ed(r,l,V,m||null,!0):2===n?Ap(r,V,k):3===n&&r.destroyNode(V),null!=w&&function If(n,r,l,h,m){const w=l[7];w!==mr(l)&&wl(r,n,h,w,m);for(let V=10;V<l.length;V++){const Y=l[V];kh(Y[1],Y,n,r,h,w)}}(r,n,w,l,m)}}function yo(n,r){return n.createText(r)}function Xu(n,r,l){n.setValue(r,l)}function Mo(n,r){return n.createComment(function Dm(n){return n.replace(wm,r=>r.replace(Mg,"\u200b$1\u200b"))}(r))}function Gc(n,r,l){return n.createElement(r,l)}function zc(n,r){const l=n[9],h=l.indexOf(r),m=r[3];512&r[2]&&(r[2]&=-513,gr(m,-1)),l.splice(h,1)}function Ju(n,r){if(n.length<=10)return;const l=10+r,h=n[l];if(h){const m=h[17];null!==m&&m!==n&&zc(m,h),r>0&&(n[l-1][4]=h[4]);const w=ho(n,10+r);!function Ip(n,r){kh(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(h[1],h);const k=w[19];null!==k&&k.detachView(w[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function Mf(n,r){if(!(128&r[2])){const l=r[11];l.destroyNode&&kh(n,r,l,3,null,null),function ra(n){let r=n[13];if(!r)return jd(n[1],n);for(;r;){let l=null;if(Rr(r))l=r[13];else{const h=r[10];h&&(l=h)}if(!l){for(;r&&!r[4]&&r!==n;)Rr(r)&&jd(r[1],r),r=r[3];null===r&&(r=n),Rr(r)&&jd(r[1],r),l=r&&r[4]}r=l}}(r)}}function jd(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function V_(n,r){let l;if(null!=n&&null!=(l=n.destroyHooks))for(let h=0;h<l.length;h+=2){const m=r[l[h]];if(!(m instanceof rr)){const w=l[h+1];if(Array.isArray(w))for(let k=0;k<w.length;k+=2){const V=m[w[k]],Y=w[k+1];try{Y.call(V)}finally{}}else try{w.call(m)}finally{}}}}(n,r),function Ag(n,r){const l=n.cleanup,h=r[7];let m=-1;if(null!==l)for(let w=0;w<l.length-1;w+=2)if("string"==typeof l[w]){const k=l[w+1],V="function"==typeof k?k(r):mr(r[k]),Y=h[m=l[w+2]],ue=l[w+3];"boolean"==typeof ue?V.removeEventListener(l[w],Y,ue):ue>=0?h[m=ue]():h[m=-ue].unsubscribe(),w+=2}else{const k=h[m=l[w+1]];l[w].call(k)}if(null!==h){for(let w=m+1;w<h.length;w++)(0,h[w])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const l=r[17];if(null!==l&&Cr(r[3])){l!==r[3]&&zc(l,r);const h=r[19];null!==h&&h.detachView(n)}!function Mp(n){Sh.delete(n[20])}(r)}}function is(n,r,l){return kg(n,r.parent,l)}function kg(n,r,l){let h=r;for(;null!==h&&40&h.type;)h=(r=h).parent;if(null===h)return l[0];if(2&h.flags){const m=n.data[h.directiveStart].encapsulation;if(m===Yt.None||m===Yt.Emulated)return null}return Kr(h,l)}function ed(n,r,l,h,m){n.insertBefore(r,l,h,m)}function ac(n,r,l){n.appendChild(r,l)}function td(n,r,l,h,m){null!==h?ed(n,r,l,h,m):ac(n,r,l)}function Tu(n,r){return n.parentNode(r)}function xh(n,r,l){return nd(n,r,l)}function Wc(n,r,l){return 40&n.type?Kr(n,l):null}let er,nd=Wc;function xp(n,r){nd=n,er=r}function id(n,r,l,h){const m=is(n,h,r),w=r[11],V=xh(h.parent||r[6],h,r);if(null!=m)if(Array.isArray(l))for(let Y=0;Y<l.length;Y++)td(w,m,l[Y],V,!1);else td(w,m,l,V,!1);void 0!==er&&er(w,h,r,l,m)}function Yc(n,r){if(null!==r){const l=r.type;if(3&l)return Kr(r,n);if(4&l)return Ah(-1,n[r.index]);if(8&l){const h=r.child;if(null!==h)return Yc(n,h);{const m=n[r.index];return Cr(m)?Ah(-1,m):mr(m)}}if(32&l)return Sf(r,n)()||mr(n[r.index]);{const h=Mu(n,r);return null!==h?Array.isArray(h)?h[0]:Yc(Cl(n[16]),h):Yc(n,r.next)}}return null}function Mu(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Ah(n,r){const l=10+n+1;if(l<r.length){const h=r[l],m=h[1].firstChild;if(null!==m)return Yc(h,m)}return r[7]}function Ap(n,r,l){const h=Tu(n,r);h&&function $d(n,r,l,h){n.removeChild(r,l,h)}(n,h,r,l)}function rd(n,r,l,h,m,w,k){for(;null!=l;){const V=h[l.index],Y=l.type;if(k&&0===r&&(V&&go(mr(V),h),l.flags|=4),64!=(64&l.flags))if(8&Y)rd(n,r,l.child,h,m,w,!1),wl(r,n,m,V,w);else if(32&Y){const ue=Sf(l,h);let Oe;for(;Oe=ue();)wl(r,n,m,Oe,w);wl(r,n,m,V,w)}else 16&Y?Rh(n,r,h,l,m,w):wl(r,n,m,V,w);l=k?l.projectionNext:l.next}}function kh(n,r,l,h,m,w){rd(l,h,n.firstChild,r,m,w,!1)}function Rh(n,r,l,h,m,w){const k=l[16],Y=k[6].projection[h.projection];if(Array.isArray(Y))for(let ue=0;ue<Y.length;ue++)wl(r,n,m,Y[ue],w);else rd(n,r,Y,k[3],m,w,!0)}function cc(n,r,l){n.setAttribute(r,"style",l)}function uc(n,r,l){""===l?n.removeAttribute(r,"class"):n.setAttribute(r,"class",l)}function xf(n,r,l){let h=n.length;for(;;){const m=n.indexOf(r,l);if(-1===m)return m;if(0===m||n.charCodeAt(m-1)<=32){const w=r.length;if(m+w===h||n.charCodeAt(m+w)<=32)return m}l=m+1}}const sd="ng-template";function Tm(n,r,l){let h=0;for(;h<n.length;){let m=n[h++];if(l&&"class"===m){if(m=n[h],-1!==xf(m.toLowerCase(),r,0))return!0}else if(1===m){for(;h<n.length&&"string"==typeof(m=n[h++]);)if(m.toLowerCase()===r)return!0;return!1}}return!1}function od(n){return 4===n.type&&n.value!==sd}function Rp(n,r,l){return r===(4!==n.type||l?n.value:sd)}function Rg(n,r,l){let h=4;const m=n.attrs||[],w=function Gd(n){for(let r=0;r<n.length;r++)if(ha(n[r]))return r;return n.length}(m);let k=!1;for(let V=0;V<r.length;V++){const Y=r[V];if("number"!=typeof Y){if(!k)if(4&h){if(h=2|1&h,""!==Y&&!Rp(n,Y,l)||""===Y&&1===r.length){if(El(h))return!1;k=!0}}else{const ue=8&h?Y:r[++V];if(8&h&&null!==n.attrs){if(!Tm(n.attrs,ue,l)){if(El(h))return!1;k=!0}continue}const it=Op(8&h?"class":Y,m,od(n),l);if(-1===it){if(El(h))return!1;k=!0;continue}if(""!==ue){let xt;xt=it>w?"":m[it+1].toLowerCase();const tn=8&h?xt:null;if(tn&&-1!==xf(tn,ue,0)||2&h&&ue!==xt){if(El(h))return!1;k=!0}}}}else{if(!k&&!El(h)&&!El(Y))return!1;if(k&&El(Y))continue;k=!1,h=Y|1&h}}return El(h)||k}function El(n){return 0==(1&n)}function Op(n,r,l,h){if(null===r)return-1;let m=0;if(h||!l){let w=!1;for(;m<r.length;){const k=r[m];if(k===n)return m;if(3===k||6===k)w=!0;else{if(1===k||2===k){let V=r[++m];for(;"string"==typeof V;)V=r[++m];continue}if(4===k)break;if(0===k){m+=4;continue}}m+=w?1:2}return-1}return function Kc(n,r){let l=n.indexOf(4);if(l>-1)for(l++;l<n.length;){const h=n[l];if("number"==typeof h)return-1;if(h===r)return l;l++}return-1}(r,n)}function Pp(n,r,l=!1){for(let h=0;h<r.length;h++)if(Rg(n,r[h],l))return!0;return!1}function Fp(n,r){e:for(let l=0;l<r.length;l++){const h=r[l];if(n.length===h.length){for(let m=0;m<n.length;m++)if(n[m]!==h[m])continue e;return!0}}return!1}function ad(n,r){return n?":not("+r.trim()+")":r}function Oh(n){let r=n[0],l=1,h=2,m="",w=!1;for(;l<n.length;){let k=n[l];if("string"==typeof k)if(2&h){const V=n[++l];m+="["+k+(V.length>0?'="'+V+'"':"")+"]"}else 8&h?m+="."+k:4&h&&(m+=" "+k);else""!==m&&!El(k)&&(r+=ad(w,m),m=""),h=k,w=w||!El(h);l++}return""!==m&&(r+=ad(w,m)),r}const Ri={};function zd(n){Ph(xi(),Mn(),ct()+n,!1)}function Ph(n,r,l,h){if(!h)if(3==(3&r[2])){const w=n.preOrderCheckHooks;null!==w&&fr(r,w,l)}else{const w=n.preOrderHooks;null!==w&&Ps(r,w,0,l)}Xt(l)}function Jt(n,r=null,l=null,h){const m=Rn(n,r,l,h);return m.resolveInjectorInitializers(),m}function Rn(n,r=null,l=null,h,m=new Set){const w=[l||On,Bi(n)];return h=h||("object"==typeof n?void 0:he(n)),new vf(w,r||_u(),h||null,m)}let gi=(()=>{class n{static create(l,h){if(Array.isArray(l))return Jt({name:""},h,l,"");{var m;const w=null!==(m=l.name)&&void 0!==m?m:"";return Jt({name:w},l.parent,l.providers,w)}}}return n.THROW_IF_NOT_FOUND=Ur,n.NULL=new Us,n.\u0275prov=Ne({token:n,providedIn:"any",factory:()=>at(ms)}),n.__NG_ELEMENT_ID__=-1,n})();function Zd(n,r=pt.Default){const l=Mn();return null===l?at(n,r):ma(Vr(),l,ye(n),r)}function U_(){throw new Error("invalid")}function Vh(n,r){return n<<17|r<<2}function Sl(n){return n>>17&32767}function Bp(n){return 2|n}function dd(n){return(131068&n)>>2}function Fg(n,r){return-131069&n|r<<2}function Pm(n){return 1|n}function K_(n,r){const l=n.contentQueries;if(null!==l)for(let h=0;h<l.length;h+=2){const m=l[h],w=l[h+1];if(-1!==w){const k=n.data[w];el(m),k.contentQueries(2,r[w],w)}}}function Yl(n,r,l,h,m,w,k,V,Y,ue,Oe){const it=r.blueprint.slice();return it[0]=m,it[2]=76|h,(null!==Oe||n&&1024&n[2])&&(it[2]|=1024),ca(it),it[3]=it[15]=n,it[8]=l,it[10]=k||n&&n[10],it[11]=V||n&&n[11],it[12]=Y||n&&n[12]||null,it[9]=ue||n&&n[9]||null,it[6]=w,it[20]=function Sp(){return Em++}(),it[21]=Oe,it[16]=2==r.type?n[16]:it,it}function Xd(n,r,l,h,m){let w=n.data[r];if(null===w)w=$f(n,r,l,h,m),function Ql(){return fi.lFrame.inI18n}()&&(w.flags|=64);else if(64&w.type){w.type=l,w.value=h,w.attrs=m;const k=Q();w.injectorIndex=null===k?-1:k.injectorIndex}return $(w,!0),w}function $f(n,r,l,h,m){const w=re(),k=Ae(),Y=n.data[r]=function Yg(n,r,l,h,m,w){return{type:l,index:h,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:w,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,k?w:w&&w.parent,l,r,h,m);return null===n.firstChild&&(n.firstChild=Y),null!==w&&(k?null==w.child&&null!==Y.parent&&(w.child=Y):null===w.next&&(w.next=Y)),Y}function Tl(n,r,l,h){if(0===l)return-1;const m=r.length;for(let w=0;w<l;w++)r.push(h),n.blueprint.push(h),n.data.push(null);return m}function Gf(n,r,l){da(r);try{const h=n.viewQuery;null!==h&&qm(1,h,l);const m=n.template;null!==m&&q_(n,r,m,1,l),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&K_(n,r),n.staticViewQueries&&qm(2,n.viewQuery,l);const w=n.components;null!==w&&function Z_(n,r){for(let l=0;l<r.length;l++)eh(n,r[l])}(r,w)}catch(h){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),h}finally{r[2]&=-5,_e()}}function md(n,r,l,h){const m=r[2];if(128!=(128&m)){da(r);try{ca(r),function Ko(n){return fi.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==l&&q_(n,r,l,2,h);const k=3==(3&m);if(k){const ue=n.preOrderCheckHooks;null!==ue&&fr(r,ue,null)}else{const ue=n.preOrderHooks;null!==ue&&Ps(r,ue,0,null),Ks(r,0)}if(function Xg(n){for(let r=vo(n);null!==r;r=$c(r)){if(!r[2])continue;const l=r[9];for(let h=0;h<l.length;h++){const m=l[h],w=m[3];0==(512&m[2])&&gr(w,1),m[2]|=512}}}(r),function Km(n){for(let r=vo(n);null!==r;r=$c(r))for(let l=10;l<r.length;l++){const h=r[l],m=h[1];Rs(h)&&md(m,h,m.template,h[8])}}(r),null!==n.contentQueries&&K_(n,r),k){const ue=n.contentCheckHooks;null!==ue&&fr(r,ue)}else{const ue=n.contentHooks;null!==ue&&Ps(r,ue,1),Ks(r,1)}!function Hm(n,r){const l=n.hostBindingOpCodes;if(null!==l)try{for(let h=0;h<l.length;h++){const m=l[h];if(m<0)Xt(~m);else{const w=m,k=l[++h],V=l[++h];Xl(k,w),V(2,r[w])}}}finally{Xt(-1)}}(n,r);const V=n.components;null!==V&&function Gg(n,r){for(let l=0;l<r.length;l++)Jp(n,r[l])}(r,V);const Y=n.viewQuery;if(null!==Y&&qm(2,Y,h),k){const ue=n.viewCheckHooks;null!==ue&&fr(r,ue)}else{const ue=n.viewHooks;null!==ue&&Ps(r,ue,2),Ks(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,gr(r[3],-1))}finally{_e()}}}function q_(n,r,l,h,m){const w=ct(),k=2&h;try{Xt(-1),k&&r.length>22&&Ph(n,r,22,!1),l(h,m)}finally{Xt(w)}}function jm(n,r,l){if(Ao(r)){const m=r.directiveEnd;for(let w=r.directiveStart;w<m;w++){const k=n.data[w];k.contentQueries&&k.contentQueries(1,l[w],w)}}}function zg(n,r,l){!Ys()||(function Gm(n,r,l,h){const m=l.directiveStart,w=l.directiveEnd;n.firstCreatePass||Bo(l,r),go(h,r);const k=l.initialInputs;for(let V=m;V<w;V++){const Y=n.data[V],ue=Yi(Y);ue&&Qp(r,l,Y);const Oe=ml(r,n,V,l);go(Oe,r),null!==k&&Wm(0,V-m,Oe,Y,0,k),ue&&(Zi(l.index,r)[8]=Oe)}}(n,r,l,Kr(l,r)),128==(128&l.flags)&&function Zp(n,r,l){const h=l.directiveStart,m=l.directiveEnd,w=l.index,k=function Qa(){return fi.lFrame.currentDirectiveIndex}();try{Xt(w);for(let V=h;V<m;V++){const Y=n.data[V],ue=r[V];Xa(V),(null!==Y.hostBindings||0!==Y.hostVars||null!==Y.hostAttrs)&&zm(Y,ue)}}finally{Xt(-1),Xa(k)}}(n,r,l))}function zf(n,r,l=Kr){const h=r.localNames;if(null!==h){let m=r.index+1;for(let w=0;w<h.length;w+=2){const k=h[w+1],V=-1===k?l(r,n):n[k];n[m++]=V}}}function $m(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Gp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Gp(n,r,l,h,m,w,k,V,Y,ue){const Oe=22+h,it=Oe+m,xt=function Iu(n,r){const l=[];for(let h=0;h<r;h++)l.push(h<n?null:Ri);return l}(Oe,it),tn="function"==typeof ue?ue():ue;return xt[1]={type:n,blueprint:xt,template:l,queries:null,viewQuery:V,declTNode:r,data:xt.slice().fill(null,Oe),bindingStartIndex:Oe,expandoStartIndex:it,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof w?w():w,pipeRegistry:"function"==typeof k?k():k,firstChild:null,schemas:Y,consts:tn,incompleteFirstPass:!1}}function Wg(n,r,l,h){const m=th(r);null===l?m.push(h):(m.push(l),n.firstCreatePass&&Jg(n).push(h,m.length-1))}function zp(n,r,l){for(let h in n)if(n.hasOwnProperty(h)){const m=n[h];(l=null===l?{}:l).hasOwnProperty(h)?l[h].push(r,m):l[h]=[r,m]}return l}function Wp(n,r){const h=r.directiveEnd,m=n.data,w=r.attrs,k=[];let V=null,Y=null;for(let ue=r.directiveStart;ue<h;ue++){const Oe=m[ue],it=Oe.inputs,xt=null===w||od(r)?null:Qg(it,w);k.push(xt),V=zp(it,ue,V),Y=zp(Oe.outputs,ue,Y)}null!==V&&(V.hasOwnProperty("class")&&(r.flags|=16),V.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=k,r.inputs=V,r.outputs=Y}function Ia(n,r,l,h,m,w,k,V){const Y=Kr(r,l);let Oe,ue=r.inputs;!V&&null!=ue&&(Oe=ue[h])?(Ml(n,l,Oe,h,m),as(r)&&Yp(l,r.index)):3&r.type&&(h=function gd(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(h),m=null!=k?k(m,r.value||"",h):m,w.setProperty(Y,h,m))}function Yp(n,r){const l=Zi(r,n);16&l[2]||(l[2]|=32)}function Kf(n,r,l,h){let m=!1;if(Ys()){const w=function qp(n,r,l){const h=n.directiveRegistry;let m=null;if(h)for(let w=0;w<h.length;w++){const k=h[w];Pp(l,k.selectors,!1)&&(m||(m=[]),xr(Bo(l,r),n,k.type),Yi(k)?(qg(n,l),m.unshift(k)):m.push(k))}return m}(n,r,l),k=null===h?null:{"":-1};if(null!==w){m=!0,J_(l,n.data.length,w.length);for(let Oe=0;Oe<w.length;Oe++){const it=w[Oe];it.providersResolver&&it.providersResolver(it)}let V=!1,Y=!1,ue=Tl(n,r,w.length,null);for(let Oe=0;Oe<w.length;Oe++){const it=w[Oe];l.mergedAttrs=Fa(l.mergedAttrs,it.hostAttrs),ev(n,l,r,ue,it),X_(ue,it,k),null!==it.contentQueries&&(l.flags|=8),(null!==it.hostBindings||null!==it.hostAttrs||0!==it.hostVars)&&(l.flags|=128);const xt=it.type.prototype;!V&&(xt.ngOnChanges||xt.ngOnInit||xt.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(l.index),V=!0),!Y&&(xt.ngOnChanges||xt.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(l.index),Y=!0),ue++}Wp(n,l)}k&&function jh(n,r,l){if(r){const h=n.localNames=[];for(let m=0;m<r.length;m+=2){const w=l[r[m+1]];if(null==w)throw new Je(-301,!1);h.push(r[m],w)}}}(l,h,k)}return l.mergedAttrs=Fa(l.mergedAttrs,l.attrs),m}function Zg(n,r,l,h,m,w){const k=w.hostBindings;if(k){let V=n.hostBindingOpCodes;null===V&&(V=n.hostBindingOpCodes=[]);const Y=~r.index;(function Hh(n){let r=n.length;for(;r>0;){const l=n[--r];if("number"==typeof l&&l<0)return l}return 0})(V)!=Y&&V.push(Y),V.push(h,m,k)}}function zm(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function qg(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function X_(n,r,l){if(l){if(r.exportAs)for(let h=0;h<r.exportAs.length;h++)l[r.exportAs[h]]=n;Yi(r)&&(l[""]=n)}}function J_(n,r,l){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+l,n.providerIndexes=r}function ev(n,r,l,h,m){n.data[h]=m;const w=m.factory||(m.factory=bo(m.type)),k=new rr(w,Yi(m),Zd);n.blueprint[h]=k,l[h]=k,Zg(n,r,0,h,Tl(n,l,m.hostVars,Ri),m)}function Qp(n,r,l){const h=Kr(r,n),m=$m(l),w=n[10],k=Zf(n,Yl(n,m,null,l.onPush?32:16,h,r,w,w.createRenderer(h,l),null,null,null));n[r.index]=k}function Xp(n,r,l,h,m,w,k){if(null==w)n.removeAttribute(r,m,l);else{const V=null==k?ot(w):k(w,h||"",m);n.setAttribute(r,m,V,l)}}function Wm(n,r,l,h,m,w){const k=w[r];if(null!==k){const V=h.setInput;for(let Y=0;Y<k.length;){const ue=k[Y++],Oe=k[Y++],it=k[Y++];null!==V?h.setInput(l,it,ue,Oe):l[Oe]=it}}}function Qg(n,r){let l=null,h=0;for(;h<r.length;){const m=r[h];if(0!==m)if(5!==m){if("number"==typeof m)break;n.hasOwnProperty(m)&&(null===l&&(l=[]),l.push(m,n[m],r[h+1])),h+=2}else h+=2;else h+=4}return l}function Ym(n,r,l,h){return new Array(n,!0,!1,r,null,0,h,l,null,null)}function Jp(n,r){const l=Zi(r,n);if(Rs(l)){const h=l[1];48&l[2]?md(h,l,h.template,l[8]):l[5]>0&&Jd(l)}}function Jd(n){for(let h=vo(n);null!==h;h=$c(h))for(let m=10;m<h.length;m++){const w=h[m];if(Rs(w))if(512&w[2]){const k=w[1];md(k,w,k.template,w[8])}else w[5]>0&&Jd(w)}const l=n[1].components;if(null!==l)for(let h=0;h<l.length;h++){const m=Zi(l[h],n);Rs(m)&&m[5]>0&&Jd(m)}}function eh(n,r){const l=Zi(r,n),h=l[1];(function Zm(n,r){for(let l=r.length;l<n.blueprint.length;l++)r.push(n.blueprint[l])})(h,l),Gf(h,l,l[8])}function Zf(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function qf(n){for(;n;){n[2]|=32;const r=Cl(n);if(Is(n)&&!r)return n;n=r}return null}function or(n,r,l,h=!0){const m=r[10];m.begin&&m.begin();try{md(n,r,n.template,l)}catch(k){throw h&&xa(r,k),k}finally{m.end&&m.end()}}function qm(n,r,l){el(0),r(n,l)}function th(n){return n[7]||(n[7]=[])}function Jg(n){return n.cleanup||(n.cleanup=[])}function Es(n,r,l){return(null===n||Yi(n))&&(l=function Yr(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(l[r.index])),l[11]}function xa(n,r){const l=n[9],h=l?l.get(oc,null):null;h&&h.handleError(r)}function Ml(n,r,l,h,m){for(let w=0;w<l.length;){const k=l[w++],V=l[w++],Y=r[k],ue=n.data[k];null!==ue.setInput?ue.setInput(Y,m,h,V):Y[V]=m}}function Kl(n,r,l){const h=Ai(r,n);Xu(n[11],h,l)}function tm(n,r,l){let h=l?n.styles:null,m=l?n.classes:null,w=0;if(null!==r)for(let k=0;k<r.length;k++){const V=r[k];"number"==typeof V?w=V:1==w?m=Se(m,V):2==w&&(h=Se(h,V+": "+r[++k]+";"))}l?n.styles=h:n.stylesWithoutHost=h,l?n.classes=m:n.classesWithoutHost=m}function $h(n,r,l,h,m=!1){for(;null!==l;){const w=r[l.index];if(null!==w&&h.push(mr(w)),Cr(w))for(let V=10;V<w.length;V++){const Y=w[V],ue=Y[1].firstChild;null!==ue&&$h(Y[1],Y,ue,h)}const k=l.type;if(8&k)$h(n,r,l.child,h);else if(32&k){const V=Sf(l,r);let Y;for(;Y=V();)h.push(Y)}else if(16&k){const V=Mu(r,l);if(Array.isArray(V))h.push(...V);else{const Y=Cl(r[16]);$h(Y[1],Y,V,h,!0)}}l=m?l.projectionNext:l.next}return h}class xu{constructor(r,l){this._lView=r,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,l=r[1];return $h(l,r,l.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Cr(r)){const l=r[8],h=l?l.indexOf(this):-1;h>-1&&(Ju(r,h),ho(l,h))}this._attachedToViewContainer=!1}Mf(this._lView[1],this._lView)}onDestroy(r){Wg(this._lView[1],this._lView,null,r)}markForCheck(){qf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){or(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Mh(n,r){kh(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Je(902,!1);this._appRef=r}}class fc extends xu{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;or(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class nh extends Ld{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const l=K(r);return new _d(l,this.ngModule)}}function nm(n){const r=[];for(let l in n)n.hasOwnProperty(l)&&r.push({propName:n[l],templateName:l});return r}class iv{constructor(r,l){this.injector=r,this.parentInjector=l}get(r,l,h){const m=this.injector.get(r,wp,h);return m!==wp||l===wp?m:this.parentInjector.get(r,l,h)}}class _d extends gm{constructor(r,l){super(),this.componentDef=r,this.ngModule=l,this.componentType=r.type,this.selector=function Og(n){return n.map(Oh).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return nm(this.componentDef.inputs)}get outputs(){return nm(this.componentDef.outputs)}create(r,l,h,m){var w;let k=(m=m||this.ngModule)instanceof Pc?m:null===(w=m)||void 0===w?void 0:w.injector;k&&null!==this.componentDef.getStandaloneInjector&&(k=this.componentDef.getStandaloneInjector(k)||k);const V=k?new iv(r,k):r,Y=V.get(bp,null);if(null===Y)throw new Je(407,!1);const ue=V.get(ym,null),Oe=Y.createRenderer(null,this.componentDef),it=this.componentDef.selectors[0][0]||"div",xt=h?function Yf(n,r,l){return n.selectRootElement(r,l===Yt.ShadowDom)}(Oe,h,this.componentDef.encapsulation):Gc(Y.createRenderer(null,this.componentDef),it,function nv(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(it)),tn=this.componentDef.onPush?288:272,An=Gp(0,null,null,1,0,null,null,null,null,null),Kn=Yl(null,An,null,tn,null,null,Y,Oe,ue,V,null);let ui,vi;da(Kn);try{const zi=function rv(n,r,l,h,m,w){const k=l[1];l[22]=n;const Y=Xd(k,22,2,"#host",null),ue=Y.mergedAttrs=r.hostAttrs;null!==ue&&(tm(Y,ue,!0),null!==n&&(Rl(m,n,ue),null!==Y.classes&&uc(m,n,Y.classes),null!==Y.styles&&cc(m,n,Y.styles)));const Oe=h.createRenderer(n,r),it=Yl(l,$m(r),null,r.onPush?32:16,l[22],Y,h,Oe,w||null,null,null);return k.firstCreatePass&&(xr(Bo(Y,l),k,r.type),qg(k,Y),J_(Y,l.length,1)),Zf(l,it),l[22]=it}(xt,this.componentDef,Kn,Y,Oe);if(xt)if(h)Rl(Oe,xt,["ng-version",Cp.full]);else{const{attrs:Bn,classes:Oi}=function kf(n){const r=[],l=[];let h=1,m=2;for(;h<n.length;){let w=n[h];if("string"==typeof w)2===m?""!==w&&r.push(w,n[++h]):8===m&&l.push(w);else{if(!El(m))break;m=w}h++}return{attrs:r,classes:l}}(this.componentDef.selectors[0]);Bn&&Rl(Oe,xt,Bn),Oi&&Oi.length>0&&uc(Oe,xt,Oi.join(" "))}if(vi=bs(An,22),void 0!==l){const Bn=vi.projection=[];for(let Oi=0;Oi<this.ngContentSelectors.length;Oi++){const Lr=l[Oi];Bn.push(null!=Lr?Array.from(Lr):null)}}ui=function Qf(n,r,l,h){const m=l[1],w=function Q_(n,r,l){const h=Vr();n.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),ev(n,h,r,Tl(n,r,1,null),l),Wp(n,h));const m=ml(r,n,h.directiveStart,h);go(m,r);const w=Kr(h,r);return w&&go(w,r),m}(m,l,r);if(n[8]=l[8]=w,null!==h)for(const V of h)V(w,r);if(r.contentQueries){const V=Vr();r.contentQueries(1,w,V.directiveStart)}const k=Vr();return!m.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Xt(k.index),Zg(l[1],k,0,k.directiveStart,k.directiveEnd,r),zm(r,w)),w}(zi,this.componentDef,Kn,[e_]),Gf(An,Kn,null)}finally{_e()}return new pc(this.componentType,ui,Fc(vi,Kn),Kn,vi)}}class pc extends class mm{}{constructor(r,l,h,m,w){super(),this.location=h,this._rootLView=m,this._tNode=w,this.instance=l,this.hostView=this.changeDetectorRef=new fc(m),this.componentType=r}setInput(r,l){const h=this._tNode.inputs;let m;if(null!==h&&(m=h[r])){const w=this._rootLView;Ml(w[1],w,m,r,l),Yp(w,this._tNode.index)}}get injector(){return new Ti(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function e_(){const n=Vr();Ze(Mn()[1],n)}function Xf(n){let r=function Wa(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),l=!0;const h=[n];for(;r;){let m;if(Yi(n))m=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Je(903,!1);m=r.\u0275dir}if(m){if(l){h.push(m);const k=n;k.inputs=Gh(n.inputs),k.declaredInputs=Gh(n.declaredInputs),k.outputs=Gh(n.outputs);const V=m.hostBindings;V&&Qm(n,V);const Y=m.viewQuery,ue=m.contentQueries;if(Y&&n_(n,Y),ue&&sv(n,ue),we(n.inputs,m.inputs),we(n.declaredInputs,m.declaredInputs),we(n.outputs,m.outputs),Yi(m)&&m.data.animation){const Oe=n.data;Oe.animation=(Oe.animation||[]).concat(m.data.animation)}}const w=m.features;if(w)for(let k=0;k<w.length;k++){const V=w[k];V&&V.ngInherit&&V(n),V===Xf&&(l=!1)}}r=Object.getPrototypeOf(r)}!function t_(n){let r=0,l=null;for(let h=n.length-1;h>=0;h--){const m=n[h];m.hostVars=r+=m.hostVars,m.hostAttrs=Fa(m.hostAttrs,l=Fa(l,m.hostAttrs))}}(h)}function Gh(n){return n===ni?{}:n===On?[]:n}function n_(n,r){const l=n.viewQuery;n.viewQuery=l?(h,m)=>{r(h,m),l(h,m)}:r}function sv(n,r){const l=n.contentQueries;n.contentQueries=l?(h,m,w)=>{r(h,m,w),l(h,m,w)}:r}function Qm(n,r){const l=n.hostBindings;n.hostBindings=l?(h,m)=>{r(h,m),l(h,m)}:r}let Au=null;function vd(){if(!Au){const n=Sn.Symbol;if(n&&n.iterator)Au=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<r.length;++l){const h=r[l];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Au=h)}}}return Au}function ih(n){return!!r_(n)&&(Array.isArray(n)||!(n instanceof Map)&&vd()in n)}function r_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ya(n,r,l){return!Object.is(n[r],l)&&(n[r]=l,!0)}function eg(n,r,l,h){const m=Mn();return Ya(m,qi(),r)&&(xi(),function hc(n,r,l,h,m,w){const k=Kr(n,r);Xp(r[11],k,w,n.value,l,h,m)}(hn(),m,n,r,l,h)),eg}function mc(n,r,l,h,m,w){const V=function Wh(n,r,l,h){const m=Ya(n,r,l);return Ya(n,r+1,h)||m}(n,Fr(),l,m);return oo(2),V?r+ot(l)+h+ot(m)+w:Ri}function ip(n,r,l,h,m,w,k,V){const Y=Mn(),ue=xi(),Oe=n+22,it=ue.firstCreatePass?function rh(n,r,l,h,m,w,k,V,Y){const ue=r.consts,Oe=Xd(r,n,4,k||null,Os(ue,V));Kf(r,l,Oe,Os(ue,Y)),Ze(r,Oe);const it=Oe.tViews=Gp(2,Oe,h,m,w,r.directiveRegistry,r.pipeRegistry,null,r.schemas,ue);return null!==r.queries&&(r.queries.template(r,Oe),it.queries=r.queries.embeddedTView(Oe)),Oe}(Oe,ue,Y,r,l,h,m,w,k):ue.data[Oe];$(it,!1);const xt=Y[11].createComment("");id(ue,Y,xt,it),go(xt,Y),Zf(Y,Y[Oe]=Ym(xt,Y,xt,it)),gs(it)&&zg(ue,Y,it),null!=k&&zf(Y,it,V)}function u_(n){return la(function Er(){return fi.lFrame.contextLView}(),22+n)}function Aa(n,r,l){const h=Mn();return Ya(h,qi(),r)&&Ia(xi(),hn(),h,n,r,h[11],l,!1),Aa}function Yh(n,r,l,h,m){const k=m?"class":"style";Ml(n,l,r.inputs[k],k,h)}function Kh(n,r,l,h){const m=Mn(),w=xi(),k=22+n,V=m[11],Y=m[k]=Gc(V,r,function Ni(){return fi.lFrame.currentNamespace}()),ue=w.firstCreatePass?function Qc(n,r,l,h,m,w,k){const V=r.consts,ue=Xd(r,n,2,m,Os(V,w));return Kf(r,l,ue,Os(V,k)),null!==ue.attrs&&tm(ue,ue.attrs,!1),null!==ue.mergedAttrs&&tm(ue,ue.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,ue),ue}(k,w,m,0,r,l,h):w.data[k];$(ue,!0);const Oe=ue.mergedAttrs;null!==Oe&&Rl(V,Y,Oe);const it=ue.classes;null!==it&&uc(V,Y,it);const xt=ue.styles;return null!==xt&&cc(V,Y,xt),64!=(64&ue.flags)&&id(w,m,Y,ue),0===function cs(){return fi.lFrame.elementDepthCount}()&&go(Y,m),function dl(){fi.lFrame.elementDepthCount++}(),gs(ue)&&(zg(w,m,ue),jm(w,ue,m)),null!==h&&zf(m,ue),Kh}function Io(){let n=Vr();Ae()?nn():(n=n.parent,$(n,!1));const r=n;!function Ca(){fi.lFrame.elementDepthCount--}();const l=xi();return l.firstCreatePass&&(Ze(l,n),Ao(n)&&l.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Nu(n){return 0!=(16&n.flags)}(r)&&Yh(l,r,Mn(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Sd(n){return 0!=(32&n.flags)}(r)&&Yh(l,r,Mn(),r.stylesWithoutHost,!1),Io}function vc(n,r,l,h){return Kh(n,r,l,h),Io(),vc}function sp(n,r,l){const h=Mn(),m=xi(),w=n+22,k=m.firstCreatePass?function rp(n,r,l,h,m){const w=r.consts,k=Os(w,h),V=Xd(r,n,8,"ng-container",k);return null!==k&&tm(V,k,!0),Kf(r,l,V,Os(w,m)),null!==r.queries&&r.queries.elementStart(r,V),V}(w,m,h,r,l):m.data[w];$(k,!0);const V=h[w]=h[11].createComment("");return id(m,h,V,k),go(V,h),gs(k)&&(zg(m,h,k),jm(m,k,h)),null!=l&&zf(h,k),sp}function yc(){let n=Vr();const r=xi();return Ae()?nn():(n=n.parent,$(n,!1)),r.firstCreatePass&&(Ze(r,n),Ao(n)&&r.queries.elementEnd(n)),yc}function lv(n,r,l){return sp(n,r,l),yc(),lv}function cv(){return Mn()}function d_(n){return!!n&&"function"==typeof n.then}function op(n){return!!n&&"function"==typeof n.subscribe}const rg=op;function sg(n,r,l,h){const m=Mn(),w=xi(),k=Vr();return Zh(w,m,m[11],k,n,r,0,h),sg}function Cd(n,r){const l=Vr(),h=Mn(),m=xi();return Zh(m,h,Es(Ja(m.data),l,h),l,n,r),Cd}function Zh(n,r,l,h,m,w,k,V){const Y=gs(h),Oe=n.firstCreatePass&&Jg(n),it=r[8],xt=th(r);let tn=!0;if(3&h.type||V){const ui=Kr(h,r),vi=V?V(ui):ui,zi=xt.length,Bn=V?Lr=>V(mr(Lr[h.index])):h.index;let Oi=null;if(!V&&Y&&(Oi=function uv(n,r,l,h){const m=n.cleanup;if(null!=m)for(let w=0;w<m.length-1;w+=2){const k=m[w];if(k===l&&m[w+1]===h){const V=r[7],Y=m[w+2];return V.length>Y?V[Y]:null}"string"==typeof k&&(w+=2)}return null}(n,r,m,h.index)),null!==Oi)(Oi.__ngLastListenerFn__||Oi).__ngNextListenerFn__=w,Oi.__ngLastListenerFn__=w,tn=!1;else{w=sh(h,r,it,w,!1);const Lr=l.listen(vi,m,w);xt.push(w,Lr),Oe&&Oe.push(m,Bn,zi,zi+1)}}else w=sh(h,r,it,w,!1);const An=h.outputs;let Kn;if(tn&&null!==An&&(Kn=An[m])){const ui=Kn.length;if(ui)for(let vi=0;vi<ui;vi+=2){const jo=r[Kn[vi]][Kn[vi+1]].subscribe(w),R_=xt.length;xt.push(w,jo),Oe&&Oe.push(m,h.index,R_,-(R_+1))}}}function qh(n,r,l,h){try{return!1!==l(h)}catch(m){return xa(n,m),!1}}function sh(n,r,l,h,m){return function w(k){if(k===Function)return h;qf(2&n.flags?Zi(n.index,r):r);let Y=qh(r,0,h,k),ue=w.__ngNextListenerFn__;for(;ue;)Y=qh(r,0,ue,k)&&Y,ue=ue.__ngNextListenerFn__;return m&&!1===Y&&(k.preventDefault(),k.returnValue=!1),Y}}function og(n=1){return function q(n){return(fi.lFrame.contextLView=function xe(n,r){for(;n>0;)r=r[15],n--;return r}(n,fi.lFrame.contextLView))[8]}(n)}function rm(n,r){let l=null;const h=function Np(n){const r=n.attrs;if(null!=r){const l=r.indexOf(5);if(0==(1&l))return r[l+1]}return null}(n);for(let m=0;m<r.length;m++){const w=r[m];if("*"!==w){if(null===h?Pp(n,w,!0):Fp(h,w))return m}else l=m}return l}function ap(n){const r=Mn()[16][6];if(!r.projection){const h=r.projection=Xs(n?n.length:1,null),m=h.slice();let w=r.child;for(;null!==w;){const k=n?rm(w,n):0;null!==k&&(m[k]?m[k].projectionNext=w:h[k]=w,m[k]=w),w=w.next}}}function ag(n,r=0,l){const h=Mn(),m=xi(),w=Xd(m,22+n,16,null,l||null);null===w.projection&&(w.projection=r),nn(),64!=(64&w.flags)&&function kp(n,r,l){Rh(r[11],0,r,l,is(n,l,r),xh(l.parent||r[6],l,r))}(m,h,w)}function f_(n,r,l,h,m){const w=n[l+1],k=null===r;let V=h?Sl(w):dd(w),Y=!1;for(;0!==V&&(!1===Y||k);){const Oe=n[V+1];$v(n[V],r)&&(Y=!0,n[V+1]=h?Pm(Oe):Bp(Oe)),V=h?Sl(Oe):dd(Oe)}Y&&(n[l+1]=h?Bp(w):Pm(w))}function $v(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&ee(n,r)>=0}const oa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function p_(n){return n.substring(oa.key,oa.keyEnd)}function m_(n,r){const l=oa.textEnd;return l===r?-1:(r=oa.keyEnd=function ug(n,r,l){for(;r<l&&n.charCodeAt(r)>32;)r++;return r}(n,oa.key=r,l),oh(n,r,l))}function oh(n,r,l){for(;r<l&&n.charCodeAt(r)<=32;)r++;return r}function dg(n,r,l){return tu(n,r,l,!1),dg}function hg(n,r){return tu(n,r,null,!0),hg}function mv(n){!function nu(n,r,l,h){const m=xi(),w=oo(2);m.firstUpdatePass&&fg(m,null,w,h);const k=Mn();if(l!==Ri&&Ya(k,w,l)){const V=m.data[ct()];if(yv(V,h)&&!Wv(m,w)){let Y=h?V.classesWithoutHost:V.stylesWithoutHost;null!==Y&&(l=Se(Y,l||"")),Yh(m,V,k,l,h)}else!function my(n,r,l,h,m,w,k,V){m===Ri&&(m=On);let Y=0,ue=0,Oe=0<m.length?m[0]:null,it=0<w.length?w[0]:null;for(;null!==Oe||null!==it;){const xt=Y<m.length?m[Y+1]:void 0,tn=ue<w.length?w[ue+1]:void 0;let Kn,An=null;Oe===it?(Y+=2,ue+=2,xt!==tn&&(An=it,Kn=tn)):null===it||null!==Oe&&Oe<it?(Y+=2,An=Oe):(ue+=2,An=it,Kn=tn),null!==An&&qv(n,r,l,h,An,Kn,k,V),Oe=Y<m.length?m[Y]:null,it=ue<w.length?w[ue]:null}}(m,V,k,k[11],k[w+1],k[w+1]=function y_(n,r,l){if(null==l||""===l)return On;const h=[],m=yl(l);if(Array.isArray(m))for(let w=0;w<m.length;w++)n(h,m[w],!0);else if("object"==typeof m)for(const w in m)m.hasOwnProperty(w)&&n(h,w,m[w]);else"string"==typeof m&&r(h,m);return h}(n,r,l),h,w)}}(I,eu,n,!0)}function eu(n,r){for(let l=function zv(n){return function __(n){oa.key=0,oa.keyEnd=0,oa.value=0,oa.valueEnd=0,oa.textEnd=n.length}(n),m_(n,oh(n,0,oa.textEnd))}(r);l>=0;l=m_(r,l))I(n,p_(r),!0)}function tu(n,r,l,h){const m=Mn(),w=xi(),k=oo(2);w.firstUpdatePass&&fg(w,n,k,h),r!==Ri&&Ya(m,k,r)&&qv(w,w.data[ct()],m,m[11],n,m[k+1]=function Qv(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=he(yl(n)))),n}(r,l),h,k)}function Wv(n,r){return r>=n.expandoStartIndex}function fg(n,r,l,h){const m=n.data;if(null===m[l+1]){const w=m[ct()],k=Wv(n,l);yv(w,h)&&null===r&&!k&&(r=!1),r=function gv(n,r,l,h){const m=Ja(n);let w=h?r.residualClasses:r.residualStyles;if(null===m)0===(h?r.classBindings:r.styleBindings)&&(l=Pu(l=v_(null,n,r,l,h),r.attrs,h),w=null);else{const k=r.directiveStylingLast;if(-1===k||n[k]!==m)if(l=v_(m,n,r,l,h),null===w){let Y=function Yv(n,r,l){const h=l?r.classBindings:r.styleBindings;if(0!==dd(h))return n[Sl(h)]}(n,r,h);void 0!==Y&&Array.isArray(Y)&&(Y=v_(null,n,r,Y[1],h),Y=Pu(Y,r.attrs,h),function Kv(n,r,l,h){n[Sl(l?r.classBindings:r.styleBindings)]=h}(n,r,h,Y))}else w=function _v(n,r,l){let h;const m=r.directiveEnd;for(let w=1+r.directiveStylingLast;w<m;w++)h=Pu(h,n[w].hostAttrs,l);return Pu(h,r.attrs,l)}(n,r,h)}return void 0!==w&&(h?r.residualClasses=w:r.residualStyles=w),l}(m,w,r,h),function Hv(n,r,l,h,m,w){let k=w?r.classBindings:r.styleBindings,V=Sl(k),Y=dd(k);n[h]=l;let Oe,ue=!1;if(Array.isArray(l)){const it=l;Oe=it[1],(null===Oe||ee(it,Oe)>0)&&(ue=!0)}else Oe=l;if(m)if(0!==Y){const xt=Sl(n[V+1]);n[h+1]=Vh(xt,V),0!==xt&&(n[xt+1]=Fg(n[xt+1],h)),n[V+1]=function Ff(n,r){return 131071&n|r<<17}(n[V+1],h)}else n[h+1]=Vh(V,0),0!==V&&(n[V+1]=Fg(n[V+1],h)),V=h;else n[h+1]=Vh(Y,0),0===V?V=h:n[Y+1]=Fg(n[Y+1],h),Y=h;ue&&(n[h+1]=Bp(n[h+1])),f_(n,Oe,h,!0),f_(n,Oe,h,!1),function jv(n,r,l,h,m){const w=m?n.residualClasses:n.residualStyles;null!=w&&"string"==typeof r&&ee(w,r)>=0&&(l[h+1]=Pm(l[h+1]))}(r,Oe,n,h,w),k=Vh(V,Y),w?r.classBindings=k:r.styleBindings=k}(m,w,r,l,k,h)}}function v_(n,r,l,h,m){let w=null;const k=l.directiveEnd;let V=l.directiveStylingLast;for(-1===V?V=l.directiveStart:V++;V<k&&(w=r[V],h=Pu(h,w.hostAttrs,m),w!==n);)V++;return null!==n&&(l.directiveStylingLast=V),h}function Pu(n,r,l){const h=l?1:2;let m=-1;if(null!==r)for(let w=0;w<r.length;w++){const k=r[w];"number"==typeof k?m=k:m===h&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),I(n,k,!!l||r[++w]))}return void 0===n?null:n}function qv(n,r,l,h,m,w,k,V){if(!(3&r.type))return;const Y=n.data,ue=Y[V+1];iu(function Lg(n){return 1==(1&n)}(ue)?vv(Y,r,l,m,dd(ue),k):void 0)||(iu(w)||function Om(n){return 2==(2&n)}(ue)&&(w=vv(Y,null,l,m,V,k)),function lc(n,r,l,h,m){if(r)m?n.addClass(l,h):n.removeClass(l,h);else{let w=-1===h.indexOf("-")?void 0:eo.DashCase;null==m?n.removeStyle(l,h,w):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),w|=eo.Important),n.setStyle(l,h,m,w))}}(h,k,Ai(ct(),l),m,w))}function vv(n,r,l,h,m,w){const k=null===r;let V;for(;m>0;){const Y=n[m],ue=Array.isArray(Y),Oe=ue?Y[1]:Y,it=null===Oe;let xt=l[m+1];xt===Ri&&(xt=it?On:void 0);let tn=it?H(xt,h):Oe===h?xt:void 0;if(ue&&!iu(tn)&&(tn=H(Y,h)),iu(tn)&&(V=tn,k))return V;const An=n[m+1];m=k?Sl(An):dd(An)}if(null!==r){let Y=w?r.residualClasses:r.residualStyles;null!=Y&&(V=H(Y,h))}return V}function iu(n){return void 0!==n}function yv(n,r){return 0!=(n.flags&(r?16:32))}function b_(n,r=""){const l=Mn(),h=xi(),m=n+22,w=h.firstCreatePass?Xd(h,m,1,r,null):h.data[m],k=l[m]=yo(l[11],r);id(h,l,k,w),$(w,!1)}function C_(n){return pg("",n,""),C_}function pg(n,r,l){const h=Mn(),m=function Ru(n,r,l,h){return Ya(n,qi(),l)?r+ot(l)+h:Ri}(h,n,r,l);return m!==Ri&&Kl(h,ct(),m),pg}function w_(n,r,l,h,m){const w=Mn(),k=mc(w,n,r,l,h,m);return k!==Ri&&Kl(w,ct(),k),w_}function x_(n,r,l){const h=Mn();return Ya(h,qi(),r)&&Ia(xi(),hn(),h,n,r,h[11],l,!0),x_}function ru(n,r,l){const h=Mn();if(Ya(h,qi(),r)){const w=xi(),k=hn();Ia(w,k,h,n,r,Es(Ja(w.data),k,h),l,!0)}return ru}const dh=void 0;var Xv=["en",[["a","p"],["AM","PM"],dh],[["AM","PM"],dh,dh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dh,"{1} 'at' {0}",dh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xv(n){const l=Math.floor(Math.abs(n)),h=n.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===h?1:5}];let nf={};function um(n){const r=function g(n){return n.toLowerCase().replace(/_/g,"-")}(n);let l=i(r);if(l)return l;const h=r.split("-")[0];if(l=i(h),l)return l;if("en"===h)return Xv;throw new Je(701,!1)}function c(n){return um(n)[d.PluralCase]}function i(n){return n in nf||(nf[n]=Sn.ng&&Sn.ng.common&&Sn.ng.common.locales&&Sn.ng.common.locales[n]),nf[n]}var d=(()=>((d=d||{})[d.LocaleId=0]="LocaleId",d[d.DayPeriodsFormat=1]="DayPeriodsFormat",d[d.DayPeriodsStandalone=2]="DayPeriodsStandalone",d[d.DaysFormat=3]="DaysFormat",d[d.DaysStandalone=4]="DaysStandalone",d[d.MonthsFormat=5]="MonthsFormat",d[d.MonthsStandalone=6]="MonthsStandalone",d[d.Eras=7]="Eras",d[d.FirstDayOfWeek=8]="FirstDayOfWeek",d[d.WeekendRange=9]="WeekendRange",d[d.DateFormat=10]="DateFormat",d[d.TimeFormat=11]="TimeFormat",d[d.DateTimeFormat=12]="DateTimeFormat",d[d.NumberSymbols=13]="NumberSymbols",d[d.NumberFormats=14]="NumberFormats",d[d.CurrencyCode=15]="CurrencyCode",d[d.CurrencySymbol=16]="CurrencySymbol",d[d.CurrencyName=17]="CurrencyName",d[d.Currencies=18]="Currencies",d[d.Directionality=19]="Directionality",d[d.PluralCase=20]="PluralCase",d[d.ExtraData=21]="ExtraData",d))();const S=["zero","one","two","few","many"],z="en-US",Te={marker:"element"},mt={marker:"ICU"};var bt=(()=>((bt=bt||{})[bt.SHIFT=2]="SHIFT",bt[bt.APPEND_EAGERLY=1]="APPEND_EAGERLY",bt[bt.COMMENT=2]="COMMENT",bt))();let mn=z;function Cn(n){(function Vn(n,r){null==n&&rn(r,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(mn=n.toLowerCase().replace(/_/g,"-"))}function e(n,r,l){const h=r.insertBeforeIndex,m=Array.isArray(h)?h[0]:h;return null===m?Wc(n,0,l):mr(l[m])}function t(n,r,l,h,m){const w=r.insertBeforeIndex;if(Array.isArray(w)){let k=h,V=null;if(3&r.type||(V=k,k=m),null!==k&&0==(2&r.flags))for(let Y=1;Y<w.length;Y++)ed(n,k,l[w[Y]],V,!1)}}function a(n,r){if(n.push(r),n.length>1)for(let l=n.length-2;l>=0;l--){const h=n[l];f(h)||y(h,r)&&null===M(h)&&U(h,r.index)}}function f(n){return!(64&n.type)}function y(n,r){return f(r)||n.index>r.index}function M(n){const r=n.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function U(n,r){const l=n.insertBeforeIndex;Array.isArray(l)?l[0]=r:(xp(e,t),n.insertBeforeIndex=r)}function oe(n,r){const l=n.data[r];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function yt(n,r,l){const h=$f(n,l,64,null,null);return a(r,h),h}function Zt(n,r){const l=r[n.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function yn(n){return n>>>17}function En(n){return(131070&n)>>>1}let Hn=0,ei=0;function ar(n,r,l,h){const m=l[11];let k,w=null;for(let V=0;V<r.length;V++){const Y=r[V];if("string"==typeof Y){const ue=r[++V];null===l[ue]&&(l[ue]=yo(m,Y))}else if("number"==typeof Y)switch(1&Y){case 0:const ue=yn(Y);let Oe,it;if(null===w&&(w=ue,k=Tu(m,h)),ue===w?(Oe=h,it=k):(Oe=null,it=mr(l[ue])),null!==it){const Kn=En(Y);ed(m,it,l[Kn],Oe,!1);const vi=oe(n,Kn);if(null!==vi&&"object"==typeof vi){const zi=Zt(vi,l);null!==zi&&ar(n,vi.create[zi],l,l[vi.anchorIdx])}}break;case 1:const tn=r[++V],An=r[++V];Xp(m,Ai(Y>>>1,l),null,null,tn,An,null)}else switch(Y){case mt:const ue=r[++V],Oe=r[++V];null===l[Oe]&&go(l[Oe]=Mo(m,ue),l);break;case Te:const it=r[++V],xt=r[++V];null===l[xt]&&go(l[xt]=Gc(m,it,null),l)}}}function Hr(n,r,l,h,m){for(let w=0;w<l.length;w++){const k=l[w],V=l[++w];if(k&m){let Y="";for(let ue=w+1;ue<=w+V;ue++){const Oe=l[ue];if("string"==typeof Oe)Y+=Oe;else if("number"==typeof Oe)if(Oe<0)Y+=ot(r[h-Oe]);else{const it=Oe>>>2;switch(3&Oe){case 1:const xt=l[++ue],tn=l[++ue],An=n.data[it];"string"==typeof An?Xp(r[11],r[it],null,An,xt,Y,tn):Ia(n,An,r,xt,Y,r[11],tn,!1);break;case 0:const Kn=r[it];null!==Kn&&Xu(r[11],Kn,Y);break;case 2:xo(n,oe(n,it),r,Y);break;case 3:Zl(n,oe(n,it),h,r)}}}}else{const Y=l[w+1];if(Y>0&&3==(3&Y)){const Oe=oe(n,Y>>>2);r[Oe.currentCaseLViewIndex]<0&&Zl(n,Oe,h,r)}}w+=V}}function Zl(n,r,l,h){let m=h[r.currentCaseLViewIndex];if(null!==m){let w=Hn;m<0&&(m=h[r.currentCaseLViewIndex]=~m,w=-1),Hr(n,h,r.update[m],l,w)}}function xo(n,r,l,h){const m=function xy(n,r){let l=n.cases.indexOf(r);if(-1===l)switch(n.type){case 1:{const h=function P(n,r){const l=c(r)(parseInt(n,10)),h=S[l];return void 0!==h?h:"other"}(r,function s(){return mn}());l=n.cases.indexOf(h),-1===l&&"other"!==h&&(l=n.cases.indexOf("other"));break}case 0:l=n.cases.indexOf("other")}return-1===l?null:l}(r,h);if(Zt(r,l)!==m&&(ey(n,r,l),l[r.currentCaseLViewIndex]=null===m?null:~m,null!==m)){const k=l[r.anchorIdx];k&&ar(n,r.create[m],l,k)}}function ey(n,r,l){let h=Zt(r,l);if(null!==h){const m=r.remove[h];for(let w=0;w<m.length;w++){const k=m[w];if(k>0){const V=Ai(k,l);null!==V&&Ap(l[11],V)}else ey(n,oe(n,~k),l)}}}function xl(){const n=[];let l,h,r=-1;function w(V,Y){r=0;const ue=Zt(V,Y);h=null!==ue?V.remove[ue]:On}function k(){if(r<h.length){const V=h[r++];return V>0?l[V]:(n.push(r,h),w(l[1].data[~V],l),k())}return 0===n.length?null:(h=n.pop(),r=n.pop(),k())}return function m(V,Y){for(l=Y;n.length;)n.pop();return w(V.value,Y),k}}const _y=/\ufffd(\d+):?\d*\ufffd/gi,lC=/\ufffd(\d+)\ufffd/,wb=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,cC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,uC=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,dC=/\uE500/g;function Db(n,r,l,h,m,w,k){const V=Tl(n,h,1,null);let Y=V<<bt.SHIFT,ue=Q();r===ue&&(ue=null),null===ue&&(Y|=bt.APPEND_EAGERLY),k&&(Y|=bt.COMMENT,function Sm(n){void 0===Hc&&(Hc=n())}(xl)),m.push(Y,null===w?"":w);const Oe=$f(n,V,k?32:1,null===w?"":w,null);a(l,Oe);const it=Oe.index;return $(Oe,!1),null!==ue&&r!==ue&&function $e(n,r){let l=n.insertBeforeIndex;null===l?(xp(e,t),l=n.insertBeforeIndex=[null,r]):(function qe(n,r,l){n!=r&&rn(l,n,r,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(r))}(ue,it),Oe}function pC(n,r,l,h,m,w,k){const V=k.match(_y),Y=Db(n,r,l,w,h,V?null:k,!1);V&&iy(m,k,Y.index,null,0,null)}function iy(n,r,l,h,m,w){const k=n.length,V=k+1;n.push(null,null);const Y=k+2,ue=r.split(_y);let Oe=0;for(let it=0;it<ue.length;it++){const xt=ue[it];if(1&it){const tn=m+parseInt(xt,10);n.push(-1-tn),Oe|=Eb(tn)}else""!==xt&&n.push(xt)}return n.push(l<<2|(h?1:0)),h&&n.push(h,w),n[k]=Oe,n[V]=n.length-Y,Oe}function Eb(n){return 1<<Math.min(n,31)}function Sb(n){let r,w,l="",h=0,m=!1;for(;null!==(r=cC.exec(n));)m?r[0]===`\ufffd/*${w}\ufffd`&&(h=r.index,m=!1):(l+=n.substring(h,r.index+r[0].length),w=r[1],m=!0);return l+=n.slice(h),l}function Tb(n,r,l,h,m,w){let k=0;const V={type:m.type,currentCaseLViewIndex:Tl(n,r,1,null),anchorIdx:w,cases:[],create:[],remove:[],update:[]};(function wC(n,r,l){n.push(Eb(r.mainBinding),2,-1-r.mainBinding,l<<2|2)})(l,m,w),function ve(n,r,l){const h=n.data[r];null===h?n.data[r]=l:h.value=l}(n,w,V);const Y=m.values;for(let ue=0;ue<Y.length;ue++){const Oe=Y[ue],it=[];for(let xt=0;xt<Oe.length;xt++){const tn=Oe[xt];if("string"!=typeof tn){const An=it.push(tn)-1;Oe[xt]=`\x3c!--\ufffd${An}\ufffd--\x3e`}}k=bC(n,V,r,l,h,m.cases[ue],Oe.join(""),it)|k}k&&function DC(n,r,l){n.push(r,1,l<<2|3)}(l,k,w)}function yC(n){const r=[],l=[];let h=1,m=0;const w=Ay(n=n.replace(wb,function(k,V,Y){return h="select"===Y?0:1,m=parseInt(V.slice(1),10),""}));for(let k=0;k<w.length;){let V=w[k++].trim();1===h&&(V=V.replace(/\s*(?:=)?(\w+)\s*/,"$1")),V.length&&r.push(V);const Y=Ay(w[k++]);r.length>l.length&&l.push(Y)}return{type:h,mainBinding:m,cases:r,values:l}}function Ay(n){if(!n)return[];let r=0;const l=[],h=[],m=/[{}]/g;let w;for(m.lastIndex=0;w=m.exec(n);){const V=w.index;if("}"==w[0]){if(l.pop(),0==l.length){const Y=n.substring(r,V);wb.test(Y)?h.push(yC(Y)):h.push(Y),r=V+1}}else{if(0==l.length){const Y=n.substring(r,V);h.push(Y),r=V+1}l.push("{")}}const k=n.substring(r);return h.push(k),h}function bC(n,r,l,h,m,w,k,V){const Y=[],ue=[],Oe=[];r.cases.push(w),r.create.push(Y),r.remove.push(ue),r.update.push(Oe);const xt=ju(sl()).getInertBodyElement(k),tn=kc(xt)||xt;return tn?Mb(n,r,l,h,Y,ue,Oe,tn,m,V,0):0}function Mb(n,r,l,h,m,w,k,V,Y,ue,Oe){let it=0,xt=V.firstChild;for(;xt;){const tn=Tl(n,l,1,null);switch(xt.nodeType){case Node.ELEMENT_NODE:const An=xt,Kn=An.tagName.toLowerCase();if(ns.hasOwnProperty(Kn)){ky(m,Te,Kn,Y,tn),n.data[tn]=Kn;const Bn=An.attributes;for(let Oi=0;Oi<Bn.length;Oi++){const Lr=Bn.item(Oi),jo=Lr.name.toLowerCase();Lr.value.match(_y)?mf.hasOwnProperty(jo)&&iy(k,Lr.value,tn,Lr.name,0,fu[jo]?Rd:null):EC(m,tn,Lr)}it=Mb(n,r,l,h,m,w,k,xt,tn,ue,Oe+1)|it,Ib(w,tn,Oe)}break;case Node.TEXT_NODE:const ui=xt.textContent||"",vi=ui.match(_y);ky(m,null,vi?"":ui,Y,tn),Ib(w,tn,Oe),vi&&(it=iy(k,ui,tn,null,0,null)|it);break;case Node.COMMENT_NODE:const zi=lC.exec(xt.textContent||"");if(zi){const Oi=ue[parseInt(zi[1],10)];ky(m,mt,"",Y,tn),Tb(n,l,h,Y,Oi,tn),CC(w,tn,Oe)}}xt=xt.nextSibling}return it}function Ib(n,r,l){0===l&&n.push(r)}function CC(n,r,l){0===l&&(n.push(~r),n.push(r))}function ky(n,r,l,h,m){null!==r&&n.push(r),n.push(l,m,function hi(n,r,l){return n|r<<17|l<<1}(0,h,m))}function EC(n,r,l){n.push(r<<1|1,l.name,l.value)}function Ry(n,r,l=-1){const h=xi(),m=Mn(),w=22+n,k=Os(h.consts,r),V=Q();h.firstCreatePass&&function fC(n,r,l,h,m,w){const k=Q(),V=[],Y=[],ue=[[]];m=function vC(n,r){if(function _C(n){return-1===n}(r))return Sb(n);{const l=n.indexOf(`:${r}\ufffd`)+2+r.toString().length,h=n.search(new RegExp(`\ufffd\\/\\*\\d+:${r}\ufffd`));return Sb(n.substring(l,h))}}(m,w);const Oe=function hC(n){return n.replace(dC," ")}(m).split(uC);for(let it=0;it<Oe.length;it++){let xt=Oe[it];if(0==(1&it)){const tn=Ay(xt);for(let An=0;An<tn.length;An++){let Kn=tn[An];if(0==(1&An)){const ui=Kn;""!==ui&&pC(n,k,ue[0],V,Y,l,ui)}else{const ui=Kn;if("object"!=typeof ui)throw new Error(`Unable to parse ICU expression in "${m}" message.`);Tb(n,l,Y,r,ui,Db(n,k,ue[0],l,V,"",!0).index)}}}else{const tn=47===xt.charCodeAt(0),Kn=(xt.charCodeAt(tn?1:0),22+Number.parseInt(xt.substring(tn?2:1)));if(tn)ue.shift(),$(Q(),!1);else{const ui=yt(n,ue[0],Kn);ue.unshift([]),$(ui,!0)}}}n.data[h]={create:V,update:Y}}(h,null===V?0:V.index,m,w,k,l);const Y=h.data[w],Oe=kg(h,V===m[6]?null:V,m);(function ki(n,r,l,h){const m=n[11];for(let w=0;w<r.length;w++){const k=r[w++],V=r[w],Y=(k&bt.COMMENT)===bt.COMMENT,ue=(k&bt.APPEND_EAGERLY)===bt.APPEND_EAGERLY,Oe=k>>>bt.SHIFT;let it=n[Oe];null===it&&(it=n[Oe]=Y?m.createComment(V):yo(m,V)),ue&&null!==l&&ed(m,l,it,h,!1)}})(m,Y.create,Oe,V&&8&V.type?m[V.index]:null),Pa(!0)}function Oy(){Pa(!1)}function Ab(n,r,l){Ry(n,r,l),Oy()}function Py(n){return function ti(n){n&&(Hn|=1<<Math.min(ei,31)),ei++}(Ya(Mn(),qi(),n)),Py}function kb(n){!function Mi(n,r,l){if(ei>0){const h=n.data[l];Hr(n,r,Array.isArray(h)?h:h.update,Fr()-ei-1,Hn)}Hn=0,ei=0}(xi(),Mn(),n+22)}function Ny(n,r,l,h,m){if(n=ye(n),Array.isArray(n))for(let w=0;w<n.length;w++)Ny(n[w],r,l,h,m);else{const w=xi(),k=Mn();let V=ll(n)?n:ye(n.provide),Y=Nc(n);const ue=Vr(),Oe=1048575&ue.providerIndexes,it=ue.directiveStart,xt=ue.providerIndexes>>20;if(ll(n)||!n.multi){const tn=new rr(Y,m,Zd),An=Ly(V,r,m?Oe:Oe+xt,it);-1===An?(xr(Bo(ue,k),w,V),Fy(w,n,r.length),r.push(V),ue.directiveStart++,ue.directiveEnd++,m&&(ue.providerIndexes+=1048576),l.push(tn),k.push(tn)):(l[An]=tn,k[An]=tn)}else{const tn=Ly(V,r,Oe+xt,it),An=Ly(V,r,Oe,Oe+xt),Kn=tn>=0&&l[tn],ui=An>=0&&l[An];if(m&&!ui||!m&&!Kn){xr(Bo(ue,k),w,V);const vi=function BC(n,r,l,h,m){const w=new rr(n,l,Zd);return w.multi=[],w.index=r,w.componentProviders=0,Rb(w,m,h&&!l),w}(m?LC:FC,l.length,m,h,Y);!m&&ui&&(l[An].providerFactory=vi),Fy(w,n,r.length,0),r.push(V),ue.directiveStart++,ue.directiveEnd++,m&&(ue.providerIndexes+=1048576),l.push(vi),k.push(vi)}else Fy(w,n,tn>-1?tn:An,Rb(l[m?An:tn],Y,!m&&h));!m&&h&&ui&&l[An].componentProviders++}}}function Fy(n,r,l,h){const m=ll(r),w=function qs(n){return!!n.useClass}(r);if(m||w){const Y=(w?ye(r.useClass):r).prototype.ngOnDestroy;if(Y){const ue=n.destroyHooks||(n.destroyHooks=[]);if(!m&&r.multi){const Oe=ue.indexOf(l);-1===Oe?ue.push(l,[h,Y]):ue[Oe+1].push(h,Y)}else ue.push(l,Y)}}}function Rb(n,r,l){return l&&n.componentProviders++,n.multi.push(r)-1}function Ly(n,r,l,h){for(let m=l;m<h;m++)if(r[m]===n)return m;return-1}function FC(n,r,l,h){return By(this.multi,[])}function LC(n,r,l,h){const m=this.multi;let w;if(this.providerFactory){const k=this.providerFactory.componentProviders,V=ml(l,l[1],this.providerFactory.index,h);w=V.slice(0,k),By(m,w);for(let Y=k;Y<V.length;Y++)w.push(V[Y])}else w=[],By(m,w);return w}function By(n,r){for(let l=0;l<n.length;l++)r.push((0,n[l])());return r}function Ob(n,r=[]){return l=>{l.providersResolver=(h,m)=>function NC(n,r,l){const h=xi();if(h.firstCreatePass){const m=Yi(n);Ny(l,h.data,h.blueprint,m,!0),Ny(r,h.data,h.blueprint,m,!1)}}(h,m?m(n):n,r)}}class Av{}class Pb{}function VC(n,r){return new Nb(n,r??null)}class Nb extends Av{constructor(r,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nh(this);const h=dn(r);this._bootstrapComponents=_o(h.bootstrap),this._r3Injector=Rn(r,l,[{provide:Av,useValue:this},{provide:Ld,useValue:this.componentFactoryResolver}],he(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Vy extends Pb{constructor(r){super(),this.moduleType=r}create(r){return new Nb(this.moduleType,r)}}class UC extends Av{constructor(r,l,h){super(),this.componentFactoryResolver=new nh(this),this.instance=null;const m=new vf([...r,{provide:Av,useValue:this},{provide:Ld,useValue:this.componentFactoryResolver}],l||_u(),h,new Set(["environment"]));this.injector=m,m.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Uy(n,r,l=null){return new UC(n,r,l).injector}let HC=(()=>{class n{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const h=mu(0,l.type),m=h.length>0?Uy([h],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,m)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Ne({token:n,providedIn:"environment",factory:()=>new n(at(Pc))}),n})();function Fb(n){n.getStandaloneInjector=r=>r.get(HC).getOrCreateStandaloneInjector(n)}function $b(n,r,l,h){return Gb(Mn(),hr(),n,r,l,h)}function Gb(n,r,l,h,m,w){const k=r+l;return Ya(n,k,m)?function ku(n,r,l){return n[r]=l}(n,k+1,w?h.call(w,m):h(m)):function ry(n,r){const l=n[r];return l===Ri?void 0:l}(n,k+1)}function Zb(n,r){const l=xi();let h;const m=n+22;l.firstCreatePass?(h=function sw(n,r){if(r)for(let l=r.length-1;l>=0;l--){const h=r[l];if(n===h.name)return h}}(r,l.pipeRegistry),l.data[m]=h,h.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(m,h.onDestroy)):h=l.data[m];const w=h.factory||(h.factory=bo(h.type)),k=Pe(Zd);try{const V=pa(!1),Y=w();return pa(V),function c_(n,r,l,h){l>=n.data.length&&(n.data[l]=null,n.blueprint[l]=null),r[l]=h}(l,Mn(),m,Y),Y}finally{Pe(k)}}function qb(n,r,l){const h=n+22,m=Mn(),w=la(m,h);return function sy(n,r){return n[1].data[r].pure}(m,h)?Gb(m,hr(),r,w.transform,l,w):w.transform(l)}function jy(n){return r=>{setTimeout(n,void 0,r)}}const up=class uw extends p.xQ{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,l,h){let m=r,w=l||(()=>null),k=h;if(r&&"object"==typeof r){var V,Y,ue;const it=r;m=null===(V=it.next)||void 0===V?void 0:V.bind(it),w=null===(Y=it.error)||void 0===Y?void 0:Y.bind(it),k=null===(ue=it.complete)||void 0===ue?void 0:ue.bind(it)}this.__isAsync&&(w=jy(w),m&&(m=jy(m)),k&&(k=jy(k)));const Oe=super.subscribe({next:m,error:w,complete:k});return r instanceof N.w&&r.add(Oe),Oe}};function dw(){return this._results[vd()]()}class vy{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=vd(),h=vy.prototype;h[l]||(h[l]=dw)}get changes(){return this._changes||(this._changes=new up)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,l){return this._results.reduce(r,l)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,l){const h=this;h.dirty=!1;const m=Eo(r);(this._changesDetected=!function Sa(n,r,l){if(n.length!==r.length)return!1;for(let h=0;h<n.length;h++){let m=n[h],w=r[h];if(l&&(m=l(m),w=l(w)),w!==m)return!1}return!0}(h._results,m,l))&&(h._results=m,h.length=m.length,h.last=m[this.length-1],h.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let oy=(()=>{class n{}return n.__NG_ELEMENT_ID__=pw,n})();const hw=oy,fw=class extends hw{constructor(r,l,h){super(),this._declarationLView=r,this._declarationTContainer=l,this.elementRef=h}createEmbeddedView(r,l){const h=this._declarationTContainer.tViews,m=Yl(this._declarationLView,h,r,16,null,h.declTNode,null,null,null,null,l||null);m[17]=this._declarationLView[this._declarationTContainer.index];const k=this._declarationLView[19];return null!==k&&(m[19]=k.createEmbeddedView(h)),Gf(h,m,r),new xu(m)}};function pw(){return yy(Vr(),Mn())}function yy(n,r){return 4&n.type?new fw(r,n,Fc(n,r)):null}let by=(()=>{class n{}return n.__NG_ELEMENT_ID__=mw,n})();function mw(){return Jb(Vr(),Mn())}const gw=by,Qb=class extends gw{constructor(r,l,h){super(),this._lContainer=r,this._hostTNode=l,this._hostLView=h}get element(){return Fc(this._hostTNode,this._hostLView)}get injector(){return new Ti(this._hostTNode,this._hostLView)}get parentInjector(){const r=In(this._hostTNode,this._hostLView);if(Pl(r)){const l=Lo(r,this._hostLView),h=sr(r);return new Ti(l[1].data[h+8],l)}return new Ti(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const l=Xb(this._lContainer);return null!==l&&l[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,l,h){let m,w;"number"==typeof h?m=h:null!=h&&(m=h.index,w=h.injector);const k=r.createEmbeddedView(l||{},w);return this.insert(k,m),k}createComponent(r,l,h,m,w){const k=r&&!function Sc(n){return"function"==typeof n}(r);let V;if(k)V=l;else{const it=l||{};V=it.index,h=it.injector,m=it.projectableNodes,w=it.environmentInjector||it.ngModuleRef}const Y=k?r:new _d(K(r)),ue=h||this.parentInjector;if(!w&&null==Y.ngModule){const xt=(k?ue:this.parentInjector).get(Pc,null);xt&&(w=xt)}const Oe=Y.create(ue,m,void 0,w);return this.insert(Oe.hostView,V),Oe}insert(r,l){const h=r._lView,m=h[1];if(function Yo(n){return Cr(n[3])}(h)){const Oe=this.indexOf(r);if(-1!==Oe)this.detach(Oe);else{const it=h[3],xt=new Qb(it,it[6],it[3]);xt.detach(xt.indexOf(r))}}const w=this._adjustIndex(l),k=this._lContainer;!function Ih(n,r,l,h){const m=10+h,w=l.length;h>0&&(l[m-1][4]=r),h<w-10?(r[4]=l[m],ec(l,10+h,r)):(l.push(r),r[4]=null),r[3]=l;const k=r[17];null!==k&&l!==k&&function Tf(n,r){const l=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===l?n[9]=[r]:l.push(r)}(k,r);const V=r[19];null!==V&&V.insertView(n),r[2]|=64}(m,h,k,w);const V=Ah(w,k),Y=h[11],ue=Tu(Y,k[7]);return null!==ue&&function Dl(n,r,l,h,m,w){h[0]=m,h[6]=r,kh(n,h,l,1,m,w)}(m,k[6],Y,h,ue,V),r.attachToViewContainerRef(),ec($y(k),w,r),r}move(r,l){return this.insert(r,l)}indexOf(r){const l=Xb(this._lContainer);return null!==l?l.indexOf(r):-1}remove(r){const l=this._adjustIndex(r,-1),h=Ju(this._lContainer,l);h&&(ho($y(this._lContainer),l),Mf(h[1],h))}detach(r){const l=this._adjustIndex(r,-1),h=Ju(this._lContainer,l);return h&&null!=ho($y(this._lContainer),l)?new xu(h):null}_adjustIndex(r,l=0){return r??this.length+l}};function Xb(n){return n[8]}function $y(n){return n[8]||(n[8]=[])}function Jb(n,r){let l;const h=r[n.index];if(Cr(h))l=h;else{let m;if(8&n.type)m=mr(h);else{const w=r[11];m=w.createComment("");const k=Kr(n,r);ed(w,Tu(w,k),m,function Vi(n,r){return n.nextSibling(r)}(w,k),!1)}r[n.index]=l=Ym(h,r,m,n),Zf(r,l)}return new Qb(l,n,r)}class Gy{constructor(r){this.queryList=r,this.matches=null}clone(){return new Gy(this.queryList)}setDirty(){this.queryList.setDirty()}}class zy{constructor(r=[]){this.queries=r}createEmbeddedView(r){const l=r.queries;if(null!==l){const h=null!==r.contentQueries?r.contentQueries[0]:l.length,m=[];for(let w=0;w<h;w++){const k=l.getByIndex(w);m.push(this.queries[k.indexInDeclarationView].clone())}return new zy(m)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let l=0;l<this.queries.length;l++)null!==c0(r,l).matches&&this.queries[l].setDirty()}}class e0{constructor(r,l,h=null){this.predicate=r,this.flags=l,this.read=h}}class Wy{constructor(r=[]){this.queries=r}elementStart(r,l){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(r,l)}elementEnd(r){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(r)}embeddedTView(r){let l=null;for(let h=0;h<this.length;h++){const m=null!==l?l.length:0,w=this.getByIndex(h).embeddedTView(r,m);w&&(w.indexInDeclarationView=h,null!==l?l.push(w):l=[w])}return null!==l?new Wy(l):null}template(r,l){for(let h=0;h<this.queries.length;h++)this.queries[h].template(r,l)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Yy{constructor(r,l=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(r,l){this.isApplyingToNode(l)&&this.matchTNode(r,l)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,l){this.elementStart(r,l)}embeddedTView(r,l){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,l),new Yy(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let h=r.parent;for(;null!==h&&8&h.type&&h.index!==l;)h=h.parent;return l===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(r,l){const h=this.metadata.predicate;if(Array.isArray(h))for(let m=0;m<h.length;m++){const w=h[m];this.matchTNodeWithReadOption(r,l,yw(l,w)),this.matchTNodeWithReadOption(r,l,nl(l,r,w,!1,!1))}else h===oy?4&l.type&&this.matchTNodeWithReadOption(r,l,-1):this.matchTNodeWithReadOption(r,l,nl(l,r,h,!1,!1))}matchTNodeWithReadOption(r,l,h){if(null!==h){const m=this.metadata.read;if(null!==m)if(m===Ch||m===by||m===oy&&4&l.type)this.addMatch(l.index,-2);else{const w=nl(l,r,m,!1,!1);null!==w&&this.addMatch(l.index,w)}else this.addMatch(l.index,h)}}addMatch(r,l){null===this.matches?this.matches=[r,l]:this.matches.push(r,l)}}function yw(n,r){const l=n.localNames;if(null!==l)for(let h=0;h<l.length;h+=2)if(l[h]===r)return l[h+1];return null}function Cw(n,r,l,h){return-1===l?function bw(n,r){return 11&n.type?Fc(n,r):4&n.type?yy(n,r):null}(r,n):-2===l?function ww(n,r,l){return l===Ch?Fc(r,n):l===oy?yy(r,n):l===by?Jb(r,n):void 0}(n,r,h):ml(n,n[1],l,r)}function t0(n,r,l,h){const m=r[19].queries[h];if(null===m.matches){const w=n.data,k=l.matches,V=[];for(let Y=0;Y<k.length;Y+=2){const ue=k[Y];V.push(ue<0?null:Cw(r,w[ue],k[Y+1],l.metadata.read))}m.matches=V}return m.matches}function Ky(n,r,l,h){const m=n.queries.getByIndex(l),w=m.matches;if(null!==w){const k=t0(n,r,m,l);for(let V=0;V<w.length;V+=2){const Y=w[V];if(Y>0)h.push(k[V/2]);else{const ue=w[V+1],Oe=r[-Y];for(let it=10;it<Oe.length;it++){const xt=Oe[it];xt[17]===xt[3]&&Ky(xt[1],xt,ue,h)}if(null!==Oe[9]){const it=Oe[9];for(let xt=0;xt<it.length;xt++){const tn=it[xt];Ky(tn[1],tn,ue,h)}}}}}return h}function n0(n){const r=Mn(),l=xi(),h=ua();el(h+1);const m=c0(l,h);if(n.dirty&&function Oo(n){return 4==(4&n[2])}(r)===(2==(2&m.metadata.flags))){if(null===m.matches)n.reset([]);else{const w=m.crossesNgTemplate?Ky(l,r,h,[]):t0(l,r,m,h);n.reset(w,vm),n.notifyOnChanges()}return!0}return!1}function r0(n,r,l){const h=xi();h.firstCreatePass&&(l0(h,new e0(n,r,l),-1),2==(2&r)&&(h.staticViewQueries=!0)),a0(h,Mn(),r)}function s0(n,r,l,h){const m=xi();if(m.firstCreatePass){const w=Vr();l0(m,new e0(r,l,h),w.index),function Ew(n,r){const l=n.contentQueries||(n.contentQueries=[]);r!==(l.length?l[l.length-1]:-1)&&l.push(n.queries.length-1,r)}(m,n),2==(2&l)&&(m.staticContentQueries=!0)}a0(m,Mn(),l)}function o0(){return function Dw(n,r){return n[19].queries[r].queryList}(Mn(),ua())}function a0(n,r,l){const h=new vy(4==(4&l));Wg(n,r,h,h.destroy),null===r[19]&&(r[19]=new zy),r[19].queries.push(new Gy(h))}function l0(n,r,l){null===n.queries&&(n.queries=new Wy),n.queries.track(new Yy(r,l))}function c0(n,r){return n.queries.getByIndex(r)}function wy(...n){}const I0=new Hi("Application Initializer");let Dy=(()=>{class n{constructor(l){this.appInits=l,this.resolve=wy,this.reject=wy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,m)=>{this.resolve=h,this.reject=m})}runInitializers(){if(this.initialized)return;const l=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const w=this.appInits[m]();if(d_(w))l.push(w);else if(rg(w)){const k=new Promise((V,Y)=>{w.subscribe({complete:V,error:Y})});l.push(k)}}Promise.all(l).then(()=>{h()}).catch(m=>{this.reject(m)}),0===l.length&&h(),this.initialized=!0}}return n.\u0275fac=function(l){return new(l||n)(at(I0,8))},n.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const x0=new Hi("AppId",{providedIn:"root",factory:function A0(){return`${Jy()}${Jy()}${Jy()}`}});function Jy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const k0=new Hi("Platform Initializer"),zw=new Hi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),R0=new Hi("appBootstrapListener"),Ww=new Hi("AnimationModuleType");let Yw=(()=>{class n{log(l){console.log(l)}warn(l){console.warn(l)}}return n.\u0275fac=function(l){return new(l||n)},n.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ey=new Hi("LocaleId",{providedIn:"root",factory:()=>on(Ey,pt.Optional|pt.SkipSelf)||function Kw(){return typeof $localize<"u"&&$localize.locale||z}()}),Zw=new Hi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class qw{constructor(r,l){this.ngModuleFactory=r,this.componentFactories=l}}let Qw=(()=>{class n{compileModuleSync(l){return new Vy(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const h=this.compileModuleSync(l),w=_o(dn(l).declarations).reduce((k,V)=>{const Y=K(V);return Y&&k.push(new _d(Y)),k},[]);return new qw(h,w)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return n.\u0275fac=function(l){return new(l||n)},n.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eD=(()=>Promise.resolve(0))();function eb(n){typeof Zone>"u"?eD.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class hh{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new up(!1),this.onMicrotaskEmpty=new up(!1),this.onStable=new up(!1),this.onError=new up(!1),typeof Zone>"u")throw new Je(908,!1);Zone.assertZonePatched();const m=this;if(m._nesting=0,m._outer=m._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const w=Zone.AsyncStackTaggingZoneSpec;m._inner=m._inner.fork(new w("Angular"))}Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!h&&l,m.shouldCoalesceRunChangeDetection=h,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function tD(){let n=Sn.requestAnimationFrame,r=Sn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const l=n[Zone.__symbol__("OriginalDelegate")];l&&(n=l);const h=r[Zone.__symbol__("OriginalDelegate")];h&&(r=h)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function rD(n){const r=()=>{!function iD(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Sn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,nb(n),n.isCheckStableRunning=!0,tb(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),nb(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,h,m,w,k,V)=>{try{return N0(n),l.invokeTask(m,w,k,V)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===w.type||n.shouldCoalesceRunChangeDetection)&&r(),F0(n)}},onInvoke:(l,h,m,w,k,V,Y)=>{try{return N0(n),l.invoke(m,w,k,V,Y)}finally{n.shouldCoalesceRunChangeDetection&&r(),F0(n)}},onHasTask:(l,h,m,w)=>{l.hasTask(m,w),h===m&&("microTask"==w.change?(n._hasPendingMicrotasks=w.microTask,nb(n),tb(n)):"macroTask"==w.change&&(n.hasPendingMacrotasks=w.macroTask))},onHandleError:(l,h,m,w)=>(l.handleError(m,w),n.runOutsideAngular(()=>n.onError.emit(w)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!hh.isInAngularZone())throw new Je(909,!1)}static assertNotInAngularZone(){if(hh.isInAngularZone())throw new Je(909,!1)}run(r,l,h){return this._inner.run(r,l,h)}runTask(r,l,h,m){const w=this._inner,k=w.scheduleEventTask("NgZoneEvent: "+m,r,nD,wy,wy);try{return w.runTask(k,l,h)}finally{w.cancelTask(k)}}runGuarded(r,l,h){return this._inner.runGuarded(r,l,h)}runOutsideAngular(r){return this._outer.run(r)}}const nD={};function tb(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function nb(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function N0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function F0(n){n._nesting--,tb(n)}class sD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new up,this.onMicrotaskEmpty=new up,this.onStable=new up,this.onError=new up}run(r,l,h){return r.apply(l,h)}runGuarded(r,l,h){return r.apply(l,h)}runOutsideAngular(r){return r()}runTask(r,l,h,m){return r.apply(l,h)}}const L0=new Hi(""),B0=new Hi("");let ib,oD=(()=>{class n{constructor(l,h,m){this._ngZone=l,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ib||(function aD(n){ib=n}(m),m.addToWindow(h)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{hh.assertNotInAngularZone(),eb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())eb(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(l)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,h,m){let w=-1;h&&h>0&&(w=setTimeout(()=>{this._callbacks=this._callbacks.filter(k=>k.timeoutId!==w),l(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:l,timeoutId:w,updateCb:m})}whenStable(l,h,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,h,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,h,m){return[]}}return n.\u0275fac=function(l){return new(l||n)(at(hh),at(V0),at(B0))},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})(),V0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(l,h){this._applications.set(l,h)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,h=!0){var m,w;return null!==(m=null===(w=ib)||void 0===w?void 0:w.findTestabilityInTree(this,l,h))&&void 0!==m?m:null}}return n.\u0275fac=function(l){return new(l||n)},n.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),yg=null;const U0=new Hi("AllowMultipleToken"),rb=new Hi("PlatformDestroyListeners");class uD{constructor(r,l){this.name=r,this.token=l}}function j0(n,r,l=[]){const h=`Platform: ${r}`,m=new Hi(h);return(w=[])=>{let k=sb();if(!k||k.injector.get(U0,!1)){const V=[...l,...w,{provide:m,useValue:!0}];n?n(V):function dD(n){if(yg&&!yg.get(U0,!1))throw new Je(400,!1);yg=n;const r=n.get(G0);(function H0(n){const r=n.get(k0,null);r&&r.forEach(l=>l())})(n)}(function $0(n=[],r){return gi.create({name:r,providers:[{provide:yh,useValue:"platform"},{provide:rb,useValue:new Set([()=>yg=null])},...n]})}(V,h))}return function fD(n){const r=sb();if(!r)throw new Je(401,!1);return r}()}}function sb(){var n,r;return null!==(n=null===(r=yg)||void 0===r?void 0:r.get(G0))&&void 0!==n?n:null}let G0=(()=>{class n{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,h){const m=function W0(n,r){let l;return l="noop"===n?new sD:("zone.js"===n?void 0:n)||new hh(r),l}(h?.ngZone,function z0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(h)),w=[{provide:hh,useValue:m}];return m.run(()=>{const k=gi.create({providers:w,parent:this.injector,name:l.moduleType.name}),V=l.create(k),Y=V.injector.get(oc,null);if(!Y)throw new Je(402,!1);return m.runOutsideAngular(()=>{const ue=m.onError.subscribe({next:Oe=>{Y.handleError(Oe)}});V.onDestroy(()=>{Ty(this._modules,V),ue.unsubscribe()})}),function Y0(n,r,l){try{const h=l();return d_(h)?h.catch(m=>{throw r.runOutsideAngular(()=>n.handleError(m)),m}):h}catch(h){throw r.runOutsideAngular(()=>n.handleError(h)),h}}(Y,m,()=>{const ue=V.injector.get(Dy);return ue.runInitializers(),ue.donePromise.then(()=>(Cn(V.injector.get(Ey,z)||z),this._moduleDoBootstrap(V),V))})})}bootstrapModule(l,h=[]){const m=K0({},h);return function lD(n,r,l){const h=new Vy(l);return Promise.resolve(h)}(0,0,l).then(w=>this.bootstrapModuleFactory(w,m))}_moduleDoBootstrap(l){const h=l.injector.get(Sy);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(m=>h.bootstrap(m));else{if(!l.instance.ngDoBootstrap)throw new Je(403,!1);l.instance.ngDoBootstrap(h)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Je(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const l=this._injector.get(rb,null);l&&(l.forEach(h=>h()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(l){return new(l||n)(at(gi))},n.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function K0(n,r){return Array.isArray(r)?r.reduce(K0,n):{...n,...r}}let Sy=(()=>{class n{constructor(l,h,m){this._zone=l,this._injector=h,this._exceptionHandler=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new v.y(V=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{V.next(this._stable),V.complete()})}),k=new v.y(V=>{let Y;this._zone.runOutsideAngular(()=>{Y=this._zone.onStable.subscribe(()=>{hh.assertNotInAngularZone(),eb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,V.next(!0))})})});const ue=this._zone.onUnstable.subscribe(()=>{hh.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{V.next(!1)}))});return()=>{Y.unsubscribe(),ue.unsubscribe()}});this.isStable=(0,ne.T)(w,k.pipe((0,C.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,h){const m=l instanceof gm;if(!this._injector.get(Dy).done)throw!m&&Ct(l),new Je(405,false);let k;k=m?l:this._injector.get(Ld).resolveComponentFactory(l),this.componentTypes.push(k.componentType);const V=function cD(n){return n.isBoundToModule}(k)?void 0:this._injector.get(Av),ue=k.create(gi.NULL,[],h||k.selector,V),Oe=ue.location.nativeElement,it=ue.injector.get(L0,null);return it?.registerApplication(Oe),ue.onDestroy(()=>{this.detachView(ue.hostView),Ty(this.components,ue),it?.unregisterApplication(Oe)}),this._loadComponent(ue),ue}tick(){if(this._runningTick)throw new Je(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const h=l;this._views.push(h),h.attachToAppRef(this)}detachView(l){const h=l;Ty(this._views,h),h.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(R0,[]).concat(this._bootstrapListeners).forEach(m=>m(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Ty(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Je(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(l){return new(l||n)(at(hh),at(Pc),at(oc))},n.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ty(n,r){const l=n.indexOf(r);l>-1&&n.splice(l,1)}let q0=!0,Q0=!1;function mD(){return Q0=!0,q0}function gD(){if(Q0)throw new Error("Cannot enable prod mode after platform setup.");q0=!1}let _D=(()=>{class n{}return n.__NG_ELEMENT_ID__=vD,n})();function vD(n){return function yD(n,r,l){if(as(n)&&!l){const h=Zi(n.index,r);return new xu(h,h)}return 47&n.type?new xu(r[16],r):null}(Vr(),Mn(),16==(16&n))}class tC{constructor(){}supports(r){return ih(r)}create(r){return new SD(r)}}const ED=(n,r)=>r;class SD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||ED}forEachItem(r){let l;for(l=this._itHead;null!==l;l=l._next)r(l)}forEachOperation(r){let l=this._itHead,h=this._removalsHead,m=0,w=null;for(;l||h;){const k=!h||l&&l.currentIndex<iC(h,m,w)?l:h,V=iC(k,m,w),Y=k.currentIndex;if(k===h)m--,h=h._nextRemoved;else if(l=l._next,null==k.previousIndex)m++;else{w||(w=[]);const ue=V-m,Oe=Y-m;if(ue!=Oe){for(let xt=0;xt<ue;xt++){const tn=xt<w.length?w[xt]:w[xt]=0,An=tn+xt;Oe<=An&&An<ue&&(w[xt]=tn+1)}w[k.previousIndex]=Oe-ue}}V!==Y&&r(k,V,Y)}}forEachPreviousItem(r){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)r(l)}forEachAddedItem(r){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)r(l)}forEachMovedItem(r){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)r(l)}forEachRemovedItem(r){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)r(l)}forEachIdentityChange(r){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)r(l)}diff(r){if(null==r&&(r=[]),!ih(r))throw new Je(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let m,w,k,l=this._itHead,h=!1;if(Array.isArray(r)){this.length=r.length;for(let V=0;V<this.length;V++)w=r[V],k=this._trackByFn(V,w),null!==l&&Object.is(l.trackById,k)?(h&&(l=this._verifyReinsertion(l,w,k,V)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,k,V),h=!0),l=l._next}else m=0,function Jm(n,r){if(Array.isArray(n))for(let l=0;l<n.length;l++)r(n[l]);else{const l=n[vd()]();let h;for(;!(h=l.next()).done;)r(h.value)}}(r,V=>{k=this._trackByFn(m,V),null!==l&&Object.is(l.trackById,k)?(h&&(l=this._verifyReinsertion(l,V,k,m)),Object.is(l.item,V)||this._addIdentityChange(l,V)):(l=this._mismatch(l,V,k,m),h=!0),l=l._next,m++}),this.length=m;return this._truncate(l),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,l,h,m){let w;return null===r?w=this._itTail:(w=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(r.item,l)||this._addIdentityChange(r,l),this._reinsertAfter(r,w,m)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(h,m))?(Object.is(r.item,l)||this._addIdentityChange(r,l),this._moveAfter(r,w,m)):r=this._addAfter(new TD(l,h),w,m),r}_verifyReinsertion(r,l,h,m){let w=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==w?r=this._reinsertAfter(w,r._prev,m):r.currentIndex!=m&&(r.currentIndex=m,this._addToMoves(r,m)),r}_truncate(r){for(;null!==r;){const l=r._next;this._addToRemovals(this._unlink(r)),r=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,l,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const m=r._prevRemoved,w=r._nextRemoved;return null===m?this._removalsHead=w:m._nextRemoved=w,null===w?this._removalsTail=m:w._prevRemoved=m,this._insertAfter(r,l,h),this._addToMoves(r,h),r}_moveAfter(r,l,h){return this._unlink(r),this._insertAfter(r,l,h),this._addToMoves(r,h),r}_addAfter(r,l,h){return this._insertAfter(r,l,h),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,l,h){const m=null===l?this._itHead:l._next;return r._next=m,r._prev=l,null===m?this._itTail=r:m._prev=r,null===l?this._itHead=r:l._next=r,null===this._linkedRecords&&(this._linkedRecords=new nC),this._linkedRecords.put(r),r.currentIndex=h,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const l=r._prev,h=r._next;return null===l?this._itHead=h:l._next=h,null===h?this._itTail=l:h._prev=l,r}_addToMoves(r,l){return r.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nC),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,l){return r.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class TD{constructor(r,l){this.item=r,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class MD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,l){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===l||l<=h.currentIndex)&&Object.is(h.trackById,r))return h;return null}remove(r){const l=r._prevDup,h=r._nextDup;return null===l?this._head=h:l._nextDup=h,null===h?this._tail=l:h._prevDup=l,null===this._head}}class nC{constructor(){this.map=new Map}put(r){const l=r.trackById;let h=this.map.get(l);h||(h=new MD,this.map.set(l,h)),h.add(r)}get(r,l){const m=this.map.get(r);return m?m.get(r,l):null}remove(r){const l=r.trackById;return this.map.get(l).remove(r)&&this.map.delete(l),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iC(n,r,l){const h=n.previousIndex;if(null===h)return h;let m=0;return l&&h<l.length&&(m=l[h]),h+r+m}class rC{constructor(){}supports(r){return r instanceof Map||r_(r)}create(){return new ID}}class ID{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let l;for(l=this._mapHead;null!==l;l=l._next)r(l)}forEachPreviousItem(r){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)r(l)}forEachChangedItem(r){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)r(l)}forEachAddedItem(r){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)r(l)}forEachRemovedItem(r){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)r(l)}diff(r){if(r){if(!(r instanceof Map||r_(r)))throw new Je(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(r,(h,m)=>{if(l&&l.key===m)this._maybeAddToChanges(l,h),this._appendAfter=l,l=l._next;else{const w=this._getOrCreateRecordForKey(m,h);l=this._insertBeforeOrAppend(l,w)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let h=l;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,l){if(r){const h=r._prev;return l._next=r,l._prev=h,r._prev=l,h&&(h._next=l),r===this._mapHead&&(this._mapHead=l),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(r,l){if(this._records.has(r)){const m=this._records.get(r);this._maybeAddToChanges(m,l);const w=m._prev,k=m._next;return w&&(w._next=k),k&&(k._prev=w),m._next=null,m._prev=null,m}const h=new xD(r);return this._records.set(r,h),h.currentValue=l,this._addToAdditions(h),h}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,l){Object.is(l,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=l,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,l){r instanceof Map?r.forEach(l):Object.keys(r).forEach(h=>l(r[h],h))}}class xD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sC(){return new ub([new tC])}let ub=(()=>{class n{constructor(l){this.factories=l}static create(l,h){if(null!=h){const m=h.factories.slice();l=l.concat(m)}return new n(l)}static extend(l){return{provide:n,useFactory:h=>n.create(l,h||sC()),deps:[[n,new _a,new Cs]]}}find(l){const h=this.factories.find(m=>m.supports(l));if(null!=h)return h;throw new Je(901,!1)}}return n.\u0275prov=Ne({token:n,providedIn:"root",factory:sC}),n})();function oC(){return new db([new rC])}let db=(()=>{class n{constructor(l){this.factories=l}static create(l,h){if(h){const m=h.factories.slice();l=l.concat(m)}return new n(l)}static extend(l){return{provide:n,useFactory:h=>n.create(l,h||oC()),deps:[[n,new _a,new Cs]]}}find(l){const h=this.factories.find(m=>m.supports(l));if(h)return h;throw new Je(901,!1)}}return n.\u0275prov=Ne({token:n,providedIn:"root",factory:oC}),n})();const RD=j0(null,"core",[]);let OD=(()=>{class n{constructor(l){}}return n.\u0275fac=function(l){return new(l||n)(at(Sy))},n.\u0275mod=Gt({type:n}),n.\u0275inj=Tt({}),n})();function PD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},4006:(gn,_t,x)=>{"use strict";x.d(_t,{Cf:()=>ht,EJ:()=>Gs,F:()=>Ts,Fj:()=>Ue,JJ:()=>pt,JL:()=>J,JU:()=>he,Kr:()=>no,NI:()=>Br,On:()=>to,Q7:()=>io,UX:()=>Ca,YN:()=>ys,Zs:()=>bs,_Y:()=>Oa,a5:()=>wn,cw:()=>K,kI:()=>kt,oH:()=>jr,qu:()=>xi,sg:()=>xs,u:()=>Co,u5:()=>dl});var p=x(4650),N=x(6895),v=x(5254),ne=x(567),C=x(4850);let te=(()=>{class re{constructor($,Ae){this._renderer=$,this._elementRef=Ae,this.onChange=nn=>{},this.onTouched=()=>{}}setProperty($,Ae){this._renderer.setProperty(this._elementRef.nativeElement,$,Ae)}registerOnTouched($){this.onTouched=$}registerOnChange($){this.onChange=$}setDisabledState($){this.setProperty("disabled",$)}}return re.\u0275fac=function($){return new($||re)(p.Y36(p.Qsj),p.Y36(p.SBq))},re.\u0275dir=p.lG2({type:re}),re})(),we=(()=>{class re extends te{}return re.\u0275fac=function(){let Q;return function(Ae){return(Q||(Q=p.n5z(re)))(Ae||re)}}(),re.\u0275dir=p.lG2({type:re,features:[p.qOj]}),re})();const he=new p.OlP("NgValueAccessor"),me={provide:he,useExisting:(0,p.Gpc)(()=>Ue),multi:!0},Ie=new p.OlP("CompositionEventMode");let Ue=(()=>{class re extends te{constructor($,Ae,nn){super($,Ae),this._compositionMode=nn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ye(){const re=(0,N.q)()?(0,N.q)().getUserAgent():"";return/android (\d+)/.test(re.toLowerCase())}())}writeValue($){this.setProperty("value",$??"")}_handleInput($){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange($)}_compositionStart(){this._composing=!0}_compositionEnd($){this._composing=!1,this._compositionMode&&this.onChange($)}}return re.\u0275fac=function($){return new($||re)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Ie,8))},re.\u0275dir=p.lG2({type:re,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function($,Ae){1&$&&p.NdJ("input",function(Jn){return Ae._handleInput(Jn.target.value)})("blur",function(){return Ae.onTouched()})("compositionstart",function(){return Ae._compositionStart()})("compositionend",function(Jn){return Ae._compositionEnd(Jn.target.value)})},features:[p._Bn([me]),p.qOj]}),re})();function Fe(re){return null==re||("string"==typeof re||Array.isArray(re))&&0===re.length}function ot(re){return null!=re&&"number"==typeof re.length}const ht=new p.OlP("NgValidators"),jt=new p.OlP("NgAsyncValidators"),ut=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class kt{static min(Q){return function vt(re){return Q=>{if(Fe(Q.value)||Fe(re))return null;const $=parseFloat(Q.value);return!isNaN($)&&$<re?{min:{min:re,actual:Q.value}}:null}}(Q)}static max(Q){return function et(re){return Q=>{if(Fe(Q.value)||Fe(re))return null;const $=parseFloat(Q.value);return!isNaN($)&&$>re?{max:{max:re,actual:Q.value}}:null}}(Q)}static required(Q){return Le(Q)}static requiredTrue(Q){return ft(Q)}static email(Q){return function tt(re){return Fe(re.value)||ut.test(re.value)?null:{email:!0}}(Q)}static minLength(Q){return function qe(re){return Q=>Fe(Q.value)||!ot(Q.value)?null:Q.value.length<re?{minlength:{requiredLength:re,actualLength:Q.value.length}}:null}(Q)}static maxLength(Q){return function Lt(re){return Q=>ot(Q.value)&&Q.value.length>re?{maxlength:{requiredLength:re,actualLength:Q.value.length}}:null}(Q)}static pattern(Q){return function Ge(re){if(!re)return Ot;let Q,$;return"string"==typeof re?($="","^"!==re.charAt(0)&&($+="^"),$+=re,"$"!==re.charAt(re.length-1)&&($+="$"),Q=new RegExp($)):($=re.toString(),Q=re),Ae=>{if(Fe(Ae.value))return null;const nn=Ae.value;return Q.test(nn)?null:{pattern:{requiredPattern:$,actualValue:nn}}}}(Q)}static nullValidator(Q){return null}static compose(Q){return rn(Q)}static composeAsync(Q){return ke(Q)}}function Le(re){return Fe(re.value)?{required:!0}:null}function ft(re){return!0===re.value?null:{required:!0}}function Ot(re){return null}function Bt(re){return null!=re}function bn(re){return(0,p.QGY)(re)?(0,v.D)(re):re}function qn(re){let Q={};return re.forEach($=>{Q=null!=$?{...Q,...$}:Q}),0===Object.keys(Q).length?null:Q}function jn(re,Q){return Q.map($=>$(re))}function Vn(re){return re.map(Q=>function ai(re){return!re.validate}(Q)?Q:$=>Q.validate($))}function rn(re){if(!re)return null;const Q=re.filter(Bt);return 0==Q.length?null:function($){return qn(jn($,Q))}}function _n(re){return null!=re?rn(Vn(re)):null}function ke(re){if(!re)return null;const Q=re.filter(Bt);return 0==Q.length?null:function($){const Ae=jn($,Q).map(bn);return(0,ne.D)(Ae).pipe((0,C.U)(qn))}}function Be(re){return null!=re?ke(Vn(re)):null}function Ne(re,Q){return null===re?[Q]:Array.isArray(re)?[...re,Q]:[re,Q]}function Ke(re){return re._rawValidators}function Tt(re){return re._rawAsyncValidators}function en(re){return re?Array.isArray(re)?re:[re]:[]}function Ln(re,Q){return Array.isArray(re)?re.includes(Q):re===Q}function It(re,Q){const $=en(Q);return en(re).forEach(nn=>{Ln($,nn)||$.push(nn)}),$}function Qt(re,Q){return en(Q).filter($=>!Ln(re,$))}class Mt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Q){this._rawValidators=Q||[],this._composedValidatorFn=_n(this._rawValidators)}_setAsyncValidators(Q){this._rawAsyncValidators=Q||[],this._composedAsyncValidatorFn=Be(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Q){this._onDestroyCallbacks.push(Q)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Q=>Q()),this._onDestroyCallbacks=[]}reset(Q){this.control&&this.control.reset(Q)}hasError(Q,$){return!!this.control&&this.control.hasError(Q,$)}getError(Q,$){return this.control?this.control.getError(Q,$):null}}class $t extends Mt{get formDirective(){return null}get path(){return null}}class wn extends Mt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zt{constructor(Q){this._cd=Q}get isTouched(){var Q,$;return!(null===(Q=this._cd)||void 0===Q||null===($=Q.control)||void 0===$||!$.touched)}get isUntouched(){var Q,$;return!(null===(Q=this._cd)||void 0===Q||null===($=Q.control)||void 0===$||!$.untouched)}get isPristine(){var Q,$;return!(null===(Q=this._cd)||void 0===Q||null===($=Q.control)||void 0===$||!$.pristine)}get isDirty(){var Q,$;return!(null===(Q=this._cd)||void 0===Q||null===($=Q.control)||void 0===$||!$.dirty)}get isValid(){var Q,$;return!(null===(Q=this._cd)||void 0===Q||null===($=Q.control)||void 0===$||!$.valid)}get isInvalid(){var Q,$;return!(null===(Q=this._cd)||void 0===Q||null===($=Q.control)||void 0===$||!$.invalid)}get isPending(){var Q,$;return!(null===(Q=this._cd)||void 0===Q||null===($=Q.control)||void 0===$||!$.pending)}get isSubmitted(){var Q;return!(null===(Q=this._cd)||void 0===Q||!Q.submitted)}}let pt=(()=>{class re extends zt{constructor($){super($)}}return re.\u0275fac=function($){return new($||re)(p.Y36(wn,2))},re.\u0275dir=p.lG2({type:re,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function($,Ae){2&$&&p.ekj("ng-untouched",Ae.isUntouched)("ng-touched",Ae.isTouched)("ng-pristine",Ae.isPristine)("ng-dirty",Ae.isDirty)("ng-valid",Ae.isValid)("ng-invalid",Ae.isInvalid)("ng-pending",Ae.isPending)},features:[p.qOj]}),re})(),J=(()=>{class re extends zt{constructor($){super($)}}return re.\u0275fac=function($){return new($||re)(p.Y36($t,10))},re.\u0275dir=p.lG2({type:re,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function($,Ae){2&$&&p.ekj("ng-untouched",Ae.isUntouched)("ng-touched",Ae.isTouched)("ng-pristine",Ae.isPristine)("ng-dirty",Ae.isDirty)("ng-valid",Ae.isValid)("ng-invalid",Ae.isInvalid)("ng-pending",Ae.isPending)("ng-submitted",Ae.isSubmitted)},features:[p.qOj]}),re})();const Et="VALID",ln="INVALID",fn="PENDING",lt="DISABLED";function st(re){return(ge(re)?re.validators:re)||null}function Xe(re){return Array.isArray(re)?_n(re):re||null}function St(re,Q){return(ge(Q)?Q.asyncValidators:re)||null}function Gt(re){return Array.isArray(re)?Be(re):re||null}function ge(re){return null!=re&&!Array.isArray(re)&&"object"==typeof re}function j(re,Q,$){const Ae=re.controls;if(!(Q?Object.keys(Ae):Ae).length)throw new p.vHH(1e3,"");if(!Ae[$])throw new p.vHH(1001,"")}function G(re,Q,$){re._forEachChild((Ae,nn)=>{if(void 0===$[nn])throw new p.vHH(1002,"")})}class X{constructor(Q,$){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=Q,this._rawAsyncValidators=$,this._composedValidatorFn=Xe(this._rawValidators),this._composedAsyncValidatorFn=Gt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(Q){this._rawValidators=this._composedValidatorFn=Q}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Q){this._rawAsyncValidators=this._composedAsyncValidatorFn=Q}get parent(){return this._parent}get valid(){return this.status===Et}get invalid(){return this.status===ln}get pending(){return this.status==fn}get disabled(){return this.status===lt}get enabled(){return this.status!==lt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Q){this._rawValidators=Q,this._composedValidatorFn=Xe(Q)}setAsyncValidators(Q){this._rawAsyncValidators=Q,this._composedAsyncValidatorFn=Gt(Q)}addValidators(Q){this.setValidators(It(Q,this._rawValidators))}addAsyncValidators(Q){this.setAsyncValidators(It(Q,this._rawAsyncValidators))}removeValidators(Q){this.setValidators(Qt(Q,this._rawValidators))}removeAsyncValidators(Q){this.setAsyncValidators(Qt(Q,this._rawAsyncValidators))}hasValidator(Q){return Ln(this._rawValidators,Q)}hasAsyncValidator(Q){return Ln(this._rawAsyncValidators,Q)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Q={}){this.touched=!0,this._parent&&!Q.onlySelf&&this._parent.markAsTouched(Q)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Q=>Q.markAllAsTouched())}markAsUntouched(Q={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild($=>{$.markAsUntouched({onlySelf:!0})}),this._parent&&!Q.onlySelf&&this._parent._updateTouched(Q)}markAsDirty(Q={}){this.pristine=!1,this._parent&&!Q.onlySelf&&this._parent.markAsDirty(Q)}markAsPristine(Q={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild($=>{$.markAsPristine({onlySelf:!0})}),this._parent&&!Q.onlySelf&&this._parent._updatePristine(Q)}markAsPending(Q={}){this.status=fn,!1!==Q.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Q.onlySelf&&this._parent.markAsPending(Q)}disable(Q={}){const $=this._parentMarkedDirty(Q.onlySelf);this.status=lt,this.errors=null,this._forEachChild(Ae=>{Ae.disable({...Q,onlySelf:!0})}),this._updateValue(),!1!==Q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Q,skipPristineCheck:$}),this._onDisabledChange.forEach(Ae=>Ae(!0))}enable(Q={}){const $=this._parentMarkedDirty(Q.onlySelf);this.status=Et,this._forEachChild(Ae=>{Ae.enable({...Q,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Q.emitEvent}),this._updateAncestors({...Q,skipPristineCheck:$}),this._onDisabledChange.forEach(Ae=>Ae(!1))}_updateAncestors(Q){this._parent&&!Q.onlySelf&&(this._parent.updateValueAndValidity(Q),Q.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Q){this._parent=Q}getRawValue(){return this.value}updateValueAndValidity(Q={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Et||this.status===fn)&&this._runAsyncValidator(Q.emitEvent)),!1!==Q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Q.onlySelf&&this._parent.updateValueAndValidity(Q)}_updateTreeValidity(Q={emitEvent:!0}){this._forEachChild($=>$._updateTreeValidity(Q)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Q.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?lt:Et}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Q){if(this.asyncValidator){this.status=fn,this._hasOwnPendingAsyncValidator=!0;const $=bn(this.asyncValidator(this));this._asyncValidationSubscription=$.subscribe(Ae=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Ae,{emitEvent:Q})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Q,$={}){this.errors=Q,this._updateControlsErrors(!1!==$.emitEvent)}get(Q){let $=Q;return null==$||(Array.isArray($)||($=$.split(".")),0===$.length)?null:$.reduce((Ae,nn)=>Ae&&Ae._find(nn),this)}getError(Q,$){const Ae=$?this.get($):this;return Ae&&Ae.errors?Ae.errors[Q]:null}hasError(Q,$){return!!this.getError(Q,$)}get root(){let Q=this;for(;Q._parent;)Q=Q._parent;return Q}_updateControlsErrors(Q){this.status=this._calculateStatus(),Q&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Q)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?lt:this.errors?ln:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fn)?fn:this._anyControlsHaveStatus(ln)?ln:Et}_anyControlsHaveStatus(Q){return this._anyControls($=>$.status===Q)}_anyControlsDirty(){return this._anyControls(Q=>Q.dirty)}_anyControlsTouched(){return this._anyControls(Q=>Q.touched)}_updatePristine(Q={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Q.onlySelf&&this._parent._updatePristine(Q)}_updateTouched(Q={}){this.touched=this._anyControlsTouched(),this._parent&&!Q.onlySelf&&this._parent._updateTouched(Q)}_registerOnCollectionChange(Q){this._onCollectionChange=Q}_setUpdateStrategy(Q){ge(Q)&&null!=Q.updateOn&&(this._updateOn=Q.updateOn)}_parentMarkedDirty(Q){return!Q&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Q){return null}}class K extends X{constructor(Q,$,Ae){super(st($),St(Ae,$)),this.controls=Q,this._initObservables(),this._setUpdateStrategy($),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Q,$){return this.controls[Q]?this.controls[Q]:(this.controls[Q]=$,$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange),$)}addControl(Q,$,Ae={}){this.registerControl(Q,$),this.updateValueAndValidity({emitEvent:Ae.emitEvent}),this._onCollectionChange()}removeControl(Q,$={}){this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),delete this.controls[Q],this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}setControl(Q,$,Ae={}){this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),delete this.controls[Q],$&&this.registerControl(Q,$),this.updateValueAndValidity({emitEvent:Ae.emitEvent}),this._onCollectionChange()}contains(Q){return this.controls.hasOwnProperty(Q)&&this.controls[Q].enabled}setValue(Q,$={}){G(this,0,Q),Object.keys(Q).forEach(Ae=>{j(this,!0,Ae),this.controls[Ae].setValue(Q[Ae],{onlySelf:!0,emitEvent:$.emitEvent})}),this.updateValueAndValidity($)}patchValue(Q,$={}){null!=Q&&(Object.keys(Q).forEach(Ae=>{const nn=this.controls[Ae];nn&&nn.patchValue(Q[Ae],{onlySelf:!0,emitEvent:$.emitEvent})}),this.updateValueAndValidity($))}reset(Q={},$={}){this._forEachChild((Ae,nn)=>{Ae.reset(Q[nn],{onlySelf:!0,emitEvent:$.emitEvent})}),this._updatePristine($),this._updateTouched($),this.updateValueAndValidity($)}getRawValue(){return this._reduceChildren({},(Q,$,Ae)=>(Q[Ae]=$.getRawValue(),Q))}_syncPendingControls(){let Q=this._reduceChildren(!1,($,Ae)=>!!Ae._syncPendingControls()||$);return Q&&this.updateValueAndValidity({onlySelf:!0}),Q}_forEachChild(Q){Object.keys(this.controls).forEach($=>{const Ae=this.controls[$];Ae&&Q(Ae,$)})}_setUpControls(){this._forEachChild(Q=>{Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Q){for(const[$,Ae]of Object.entries(this.controls))if(this.contains($)&&Q(Ae))return!0;return!1}_reduceValue(){return this._reduceChildren({},($,Ae,nn)=>((Ae.enabled||this.disabled)&&($[nn]=Ae.value),$))}_reduceChildren(Q,$){let Ae=Q;return this._forEachChild((nn,Jn)=>{Ae=$(Ae,nn,Jn)}),Ae}_allControlsDisabled(){for(const Q of Object.keys(this.controls))if(this.controls[Q].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Q){return this.controls.hasOwnProperty(Q)?this.controls[Q]:null}}class Ct extends K{}function pn(re,Q){return[...Q.path,re]}function ze(re,Q){var $,Ae;De(re,Q),Q.valueAccessor.writeValue(re.value),re.disabled&&(null===($=(Ae=Q.valueAccessor).setDisabledState)||void 0===$||$.call(Ae,!0)),function rt(re,Q){Q.valueAccessor.registerOnChange($=>{re._pendingValue=$,re._pendingChange=!0,re._pendingDirty=!0,"change"===re.updateOn&&sn(re,Q)})}(re,Q),function Yn(re,Q){const $=(Ae,nn)=>{Q.valueAccessor.writeValue(Ae),nn&&Q.viewToModelUpdate(Ae)};re.registerOnChange($),Q._registerOnDestroy(()=>{re._unregisterOnChange($)})}(re,Q),function Vt(re,Q){Q.valueAccessor.registerOnTouched(()=>{re._pendingTouched=!0,"blur"===re.updateOn&&re._pendingChange&&sn(re,Q),"submit"!==re.updateOn&&re.markAsTouched()})}(re,Q),function je(re,Q){if(Q.valueAccessor.setDisabledState){const $=Ae=>{Q.valueAccessor.setDisabledState(Ae)};re.registerOnDisabledChange($),Q._registerOnDestroy(()=>{re._unregisterOnDisabledChange($)})}}(re,Q)}function He(re,Q,$=!0){const Ae=()=>{};Q.valueAccessor&&(Q.valueAccessor.registerOnChange(Ae),Q.valueAccessor.registerOnTouched(Ae)),Ce(re,Q),re&&(Q._invokeOnDestroyCallbacks(),re._registerOnCollectionChange(()=>{}))}function Ve(re,Q){re.forEach($=>{$.registerOnValidatorChange&&$.registerOnValidatorChange(Q)})}function De(re,Q){const $=Ke(re);null!==Q.validator?re.setValidators(Ne($,Q.validator)):"function"==typeof $&&re.setValidators([$]);const Ae=Tt(re);null!==Q.asyncValidator?re.setAsyncValidators(Ne(Ae,Q.asyncValidator)):"function"==typeof Ae&&re.setAsyncValidators([Ae]);const nn=()=>re.updateValueAndValidity();Ve(Q._rawValidators,nn),Ve(Q._rawAsyncValidators,nn)}function Ce(re,Q){let $=!1;if(null!==re){if(null!==Q.validator){const nn=Ke(re);if(Array.isArray(nn)&&nn.length>0){const Jn=nn.filter(Er=>Er!==Q.validator);Jn.length!==nn.length&&($=!0,re.setValidators(Jn))}}if(null!==Q.asyncValidator){const nn=Tt(re);if(Array.isArray(nn)&&nn.length>0){const Jn=nn.filter(Er=>Er!==Q.asyncValidator);Jn.length!==nn.length&&($=!0,re.setAsyncValidators(Jn))}}}const Ae=()=>{};return Ve(Q._rawValidators,Ae),Ve(Q._rawAsyncValidators,Ae),$}function sn(re,Q){re._pendingDirty&&re.markAsDirty(),re.setValue(re._pendingValue,{emitModelToViewChange:!1}),Q.viewToModelUpdate(re._pendingValue),re._pendingChange=!1}function Pn(re,Q){De(re,Q)}function nr(re,Q){if(!re.hasOwnProperty("model"))return!1;const $=re.model;return!!$.isFirstChange()||!Object.is(Q,$.currentValue)}function Mr(re,Q){re._syncPendingControls(),Q.forEach($=>{const Ae=$.control;"submit"===Ae.updateOn&&Ae._pendingChange&&($.viewToModelUpdate(Ae._pendingValue),Ae._pendingChange=!1)})}function wr(re,Q){if(!Q)return null;let $,Ae,nn;return Array.isArray(Q),Q.forEach(Jn=>{Jn.constructor===Ue?$=Jn:function ir(re){return Object.getPrototypeOf(re.constructor)===we}(Jn)?Ae=Jn:nn=Jn}),nn||Ae||$||null}const js={provide:$t,useExisting:(0,p.Gpc)(()=>Ts)},ss=(()=>Promise.resolve())();let Ts=(()=>{class re extends $t{constructor($,Ae){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new p.vpe,this.form=new K({},_n($),Be(Ae))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl($){ss.then(()=>{const Ae=this._findContainer($.path);$.control=Ae.registerControl($.name,$.control),ze($.control,$),$.control.updateValueAndValidity({emitEvent:!1}),this._directives.add($)})}getControl($){return this.form.get($.path)}removeControl($){ss.then(()=>{const Ae=this._findContainer($.path);Ae&&Ae.removeControl($.name),this._directives.delete($)})}addFormGroup($){ss.then(()=>{const Ae=this._findContainer($.path),nn=new K({});Pn(nn,$),Ae.registerControl($.name,nn),nn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup($){ss.then(()=>{const Ae=this._findContainer($.path);Ae&&Ae.removeControl($.name)})}getFormGroup($){return this.form.get($.path)}updateModel($,Ae){ss.then(()=>{this.form.get($.path).setValue(Ae)})}setValue($){this.control.setValue($)}onSubmit($){var Ae;return this.submitted=!0,Mr(this.form,this._directives),this.ngSubmit.emit($),"dialog"===(null==$||null===(Ae=$.target)||void 0===Ae?void 0:Ae.method)}onReset(){this.resetForm()}resetForm($){this.form.reset($),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer($){return $.pop(),$.length?this.form.get($):this.form}}return re.\u0275fac=function($){return new($||re)(p.Y36(ht,10),p.Y36(jt,10))},re.\u0275dir=p.lG2({type:re,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function($,Ae){1&$&&p.NdJ("submit",function(Jn){return Ae.onSubmit(Jn)})("reset",function(){return Ae.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([js]),p.qOj]}),re})();function os(re,Q){const $=re.indexOf(Q);$>-1&&re.splice($,1)}function zr(re){return"object"==typeof re&&null!==re&&2===Object.keys(re).length&&"value"in re&&"disabled"in re}const Br=class extends X{constructor(Q=null,$,Ae){super(st($),St(Ae,$)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Q),this._setUpdateStrategy($),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ge($)&&($.nonNullable||$.initialValueIsDefault)&&(this.defaultValue=zr(Q)?Q.value:Q)}setValue(Q,$={}){this.value=this._pendingValue=Q,this._onChange.length&&!1!==$.emitModelToViewChange&&this._onChange.forEach(Ae=>Ae(this.value,!1!==$.emitViewToModelChange)),this.updateValueAndValidity($)}patchValue(Q,$={}){this.setValue(Q,$)}reset(Q=this.defaultValue,$={}){this._applyFormState(Q),this.markAsPristine($),this.markAsUntouched($),this.setValue(this.value,$),this._pendingChange=!1}_updateValue(){}_anyControls(Q){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Q){this._onChange.push(Q)}_unregisterOnChange(Q){os(this._onChange,Q)}registerOnDisabledChange(Q){this._onDisabledChange.push(Q)}_unregisterOnDisabledChange(Q){os(this._onDisabledChange,Q)}_forEachChild(Q){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Q){zr(Q)?(this.value=this._pendingValue=Q.value,Q.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Q}},Is={provide:wn,useExisting:(0,p.Gpc)(()=>to)},Ra=(()=>Promise.resolve())();let to=(()=>{class re extends wn{constructor($,Ae,nn,Jn,Er){super(),this._changeDetectorRef=Er,this.control=new Br,this._registered=!1,this.update=new p.vpe,this._parent=$,this._setValidators(Ae),this._setAsyncValidators(nn),this.valueAccessor=wr(0,Jn)}ngOnChanges($){if(this._checkForErrors(),!this._registered||"name"in $){if(this._registered&&(this._checkName(),this.formDirective)){const Ae=$.name.previousValue;this.formDirective.removeControl({name:Ae,path:this._getPath(Ae)})}this._setUpControl()}"isDisabled"in $&&this._updateDisabled($),nr($,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ze(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue($){Ra.then(()=>{var Ae;this.control.setValue($,{emitViewToModelChange:!1}),null===(Ae=this._changeDetectorRef)||void 0===Ae||Ae.markForCheck()})}_updateDisabled($){const Ae=$.isDisabled.currentValue,nn=0!==Ae&&(0,p.D6c)(Ae);Ra.then(()=>{var Jn;nn&&!this.control.disabled?this.control.disable():!nn&&this.control.disabled&&this.control.enable(),null===(Jn=this._changeDetectorRef)||void 0===Jn||Jn.markForCheck()})}_getPath($){return this._parent?pn($,this._parent):[$]}}return re.\u0275fac=function($){return new($||re)(p.Y36($t,9),p.Y36(ht,10),p.Y36(jt,10),p.Y36(he,10),p.Y36(p.sBO,8))},re.\u0275dir=p.lG2({type:re,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([Is]),p.qOj,p.TTD]}),re})(),Oa=(()=>{class re{}return re.\u0275fac=function($){return new($||re)},re.\u0275dir=p.lG2({type:re,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),re})(),qt=(()=>{class re{}return re.\u0275fac=function($){return new($||re)},re.\u0275mod=p.oAB({type:re}),re.\u0275inj=p.cJS({}),re})();const Nr=new p.OlP("NgModelWithFormControlWarning"),Ki={provide:wn,useExisting:(0,p.Gpc)(()=>jr)};let jr=(()=>{class re extends wn{constructor($,Ae,nn,Jn){super(),this._ngModelWarningConfig=Jn,this.update=new p.vpe,this._ngModelWarningSent=!1,this._setValidators($),this._setAsyncValidators(Ae),this.valueAccessor=wr(0,nn)}set isDisabled($){}ngOnChanges($){if(this._isControlChanged($)){const Ae=$.form.previousValue;Ae&&He(Ae,this,!1),ze(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}nr($,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&He(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}_isControlChanged($){return $.hasOwnProperty("form")}}return re._ngModelWarningSentOnce=!1,re.\u0275fac=function($){return new($||re)(p.Y36(ht,10),p.Y36(jt,10),p.Y36(he,10),p.Y36(Nr,8))},re.\u0275dir=p.lG2({type:re,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[p._Bn([Ki]),p.qOj,p.TTD]}),re})();const ls={provide:$t,useExisting:(0,p.Gpc)(()=>xs)};let xs=(()=>{class re extends $t{constructor($,Ae){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators($),this._setAsyncValidators(Ae)}ngOnChanges($){this._checkFormPresent(),$.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ce(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl($){const Ae=this.form.get($.path);return ze(Ae,$),Ae.updateValueAndValidity({emitEvent:!1}),this.directives.push($),Ae}getControl($){return this.form.get($.path)}removeControl($){He($.control||null,$,!1),function rs(re,Q){const $=re.indexOf(Q);$>-1&&re.splice($,1)}(this.directives,$)}addFormGroup($){this._setUpFormContainer($)}removeFormGroup($){this._cleanUpFormContainer($)}getFormGroup($){return this.form.get($.path)}addFormArray($){this._setUpFormContainer($)}removeFormArray($){this._cleanUpFormContainer($)}getFormArray($){return this.form.get($.path)}updateModel($,Ae){this.form.get($.path).setValue(Ae)}onSubmit($){var Ae;return this.submitted=!0,Mr(this.form,this.directives),this.ngSubmit.emit($),"dialog"===(null==$||null===(Ae=$.target)||void 0===Ae?void 0:Ae.method)}onReset(){this.resetForm()}resetForm($){this.form.reset($),this.submitted=!1}_updateDomValue(){this.directives.forEach($=>{const Ae=$.control,nn=this.form.get($.path);Ae!==nn&&(He(Ae||null,$),(re=>re instanceof Br)(nn)&&(ze(nn,$),$.control=nn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer($){const Ae=this.form.get($.path);Pn(Ae,$),Ae.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer($){if(this.form){const Ae=this.form.get($.path);Ae&&function pi(re,Q){return Ce(re,Q)}(Ae,$)&&Ae.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){De(this.form,this),this._oldForm&&Ce(this._oldForm,this)}_checkFormPresent(){}}return re.\u0275fac=function($){return new($||re)(p.Y36(ht,10),p.Y36(jt,10))},re.\u0275dir=p.lG2({type:re,selectors:[["","formGroup",""]],hostBindings:function($,Ae){1&$&&p.NdJ("submit",function(Jn){return Ae.onSubmit(Jn)})("reset",function(){return Ae.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([ls]),p.qOj,p.TTD]}),re})();const bo={provide:wn,useExisting:(0,p.Gpc)(()=>Co)};let Co=(()=>{class re extends wn{constructor($,Ae,nn,Jn,Er){super(),this._ngModelWarningConfig=Er,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=$,this._setValidators(Ae),this._setAsyncValidators(nn),this.valueAccessor=wr(0,Jn)}set isDisabled($){}ngOnChanges($){this._added||this._setUpControl(),nr($,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}get path(){return pn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return re._ngModelWarningSentOnce=!1,re.\u0275fac=function($){return new($||re)(p.Y36($t,13),p.Y36(ht,10),p.Y36(jt,10),p.Y36(he,10),p.Y36(Nr,8))},re.\u0275dir=p.lG2({type:re,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([bo]),p.qOj,p.TTD]}),re})();const aa={provide:he,useExisting:(0,p.Gpc)(()=>Gs),multi:!0};function Ro(re,Q){return null==re?`${Q}`:(Q&&"object"==typeof Q&&(Q="Object"),`${re}: ${Q}`.slice(0,50))}let Gs=(()=>{class re extends we{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith($){this._compareWith=$}writeValue($){this.value=$;const nn=Ro(this._getOptionId($),$);this.setProperty("value",nn)}registerOnChange($){this.onChange=Ae=>{this.value=this._getOptionValue(Ae),$(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId($){for(const Ae of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Ae),$))return Ae;return null}_getOptionValue($){const Ae=function wo(re){return re.split(":")[0]}($);return this._optionMap.has(Ae)?this._optionMap.get(Ae):$}}return re.\u0275fac=function(){let Q;return function(Ae){return(Q||(Q=p.n5z(re)))(Ae||re)}}(),re.\u0275dir=p.lG2({type:re,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function($,Ae){1&$&&p.NdJ("change",function(Jn){return Ae.onChange(Jn.target.value)})("blur",function(){return Ae.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([aa]),p.qOj]}),re})(),ys=(()=>{class re{constructor($,Ae,nn){this._element=$,this._renderer=Ae,this._select=nn,this._select&&(this.id=this._select._registerOption())}set ngValue($){null!=this._select&&(this._select._optionMap.set(this.id,$),this._setElementValue(Ro(this.id,$)),this._select.writeValue(this._select.value))}set value($){this._setElementValue($),this._select&&this._select.writeValue(this._select.value)}_setElementValue($){this._renderer.setProperty(this._element.nativeElement,"value",$)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return re.\u0275fac=function($){return new($||re)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(Gs,9))},re.\u0275dir=p.lG2({type:re,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),re})();const As={provide:he,useExisting:(0,p.Gpc)(()=>Wr),multi:!0};function ks(re,Q){return null==re?`${Q}`:("string"==typeof Q&&(Q=`'${Q}'`),Q&&"object"==typeof Q&&(Q="Object"),`${re}: ${Q}`.slice(0,50))}let Wr=(()=>{class re extends we{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith($){this._compareWith=$}writeValue($){let Ae;if(this.value=$,Array.isArray($)){const nn=$.map(Jn=>this._getOptionId(Jn));Ae=(Jn,Er)=>{Jn._setSelected(nn.indexOf(Er.toString())>-1)}}else Ae=(nn,Jn)=>{nn._setSelected(!1)};this._optionMap.forEach(Ae)}registerOnChange($){this.onChange=Ae=>{const nn=[],Jn=Ae.selectedOptions;if(void 0!==Jn){const Er=Jn;for(let ro=0;ro<Er.length;ro++){const hr=this._getOptionValue(Er[ro].value);nn.push(hr)}}else{const Er=Ae.options;for(let ro=0;ro<Er.length;ro++){const so=Er[ro];if(so.selected){const hr=this._getOptionValue(so.value);nn.push(hr)}}}this.value=nn,$(nn)}}_registerOption($){const Ae=(this._idCounter++).toString();return this._optionMap.set(Ae,$),Ae}_getOptionId($){for(const Ae of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Ae)._value,$))return Ae;return null}_getOptionValue($){const Ae=function zs(re){return re.split(":")[0]}($);return this._optionMap.has(Ae)?this._optionMap.get(Ae)._value:$}}return re.\u0275fac=function(){let Q;return function(Ae){return(Q||(Q=p.n5z(re)))(Ae||re)}}(),re.\u0275dir=p.lG2({type:re,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function($,Ae){1&$&&p.NdJ("change",function(Jn){return Ae.onChange(Jn.target)})("blur",function(){return Ae.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([As]),p.qOj]}),re})(),no=(()=>{class re{constructor($,Ae,nn){this._element=$,this._renderer=Ae,this._select=nn,this._select&&(this.id=this._select._registerOption(this))}set ngValue($){null!=this._select&&(this._value=$,this._setElementValue(ks(this.id,$)),this._select.writeValue(this._select.value))}set value($){this._select?(this._value=$,this._setElementValue(ks(this.id,$)),this._select.writeValue(this._select.value)):this._setElementValue($)}_setElementValue($){this._renderer.setProperty(this._element.nativeElement,"value",$)}_setSelected($){this._renderer.setProperty(this._element.nativeElement,"selected",$)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return re.\u0275fac=function($){return new($||re)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(Wr,9))},re.\u0275dir=p.lG2({type:re,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),re})(),Ws=(()=>{class re{constructor(){this._validator=Ot}ngOnChanges($){if(this.inputName in $){const Ae=this.normalizeInput($[this.inputName].currentValue);this._enabled=this.enabled(Ae),this._validator=this._enabled?this.createValidator(Ae):Ot,this._onChange&&this._onChange()}}validate($){return this._validator($)}registerOnValidatorChange($){this._onChange=$}enabled($){return null!=$}}return re.\u0275fac=function($){return new($||re)},re.\u0275dir=p.lG2({type:re,features:[p.TTD]}),re})();const Ai={provide:ht,useExisting:(0,p.Gpc)(()=>io),multi:!0},Kr={provide:ht,useExisting:(0,p.Gpc)(()=>bs),multi:!0};let io=(()=>{class re extends Ws{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=p.D6c,this.createValidator=$=>Le}enabled($){return $}}return re.\u0275fac=function(){let Q;return function(Ae){return(Q||(Q=p.n5z(re)))(Ae||re)}}(),re.\u0275dir=p.lG2({type:re,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function($,Ae){2&$&&p.uIk("required",Ae._enabled?"":null)},inputs:{required:"required"},features:[p._Bn([Ai]),p.qOj]}),re})(),bs=(()=>{class re extends io{constructor(){super(...arguments),this.createValidator=$=>ft}}return re.\u0275fac=function(){let Q;return function(Ae){return(Q||(Q=p.n5z(re)))(Ae||re)}}(),re.\u0275dir=p.lG2({type:re,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function($,Ae){2&$&&p.uIk("required",Ae._enabled?"":null)},features:[p._Bn([Kr]),p.qOj]}),re})(),cs=(()=>{class re{}return re.\u0275fac=function($){return new($||re)},re.\u0275mod=p.oAB({type:re}),re.\u0275inj=p.cJS({imports:[qt]}),re})(),dl=(()=>{class re{}return re.\u0275fac=function($){return new($||re)},re.\u0275mod=p.oAB({type:re}),re.\u0275inj=p.cJS({imports:[cs]}),re})(),Ca=(()=>{class re{static withConfig($){return{ngModule:re,providers:[{provide:Nr,useValue:$.warnOnNgModelWithFormControl}]}}}return re.\u0275fac=function($){return new($||re)},re.\u0275mod=p.oAB({type:re}),re.\u0275inj=p.cJS({imports:[cs]}),re})();class Ys extends X{constructor(Q,$,Ae){super(st($),St(Ae,$)),this.controls=Q,this._initObservables(),this._setUpdateStrategy($),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Q){return this.controls[this._adjustIndex(Q)]}push(Q,$={}){this.controls.push(Q),this._registerControl(Q),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}insert(Q,$,Ae={}){this.controls.splice(Q,0,$),this._registerControl($),this.updateValueAndValidity({emitEvent:Ae.emitEvent})}removeAt(Q,$={}){let Ae=this._adjustIndex(Q);Ae<0&&(Ae=0),this.controls[Ae]&&this.controls[Ae]._registerOnCollectionChange(()=>{}),this.controls.splice(Ae,1),this.updateValueAndValidity({emitEvent:$.emitEvent})}setControl(Q,$,Ae={}){let nn=this._adjustIndex(Q);nn<0&&(nn=0),this.controls[nn]&&this.controls[nn]._registerOnCollectionChange(()=>{}),this.controls.splice(nn,1),$&&(this.controls.splice(nn,0,$),this._registerControl($)),this.updateValueAndValidity({emitEvent:Ae.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Q,$={}){G(this,0,Q),Q.forEach((Ae,nn)=>{j(this,!1,nn),this.at(nn).setValue(Ae,{onlySelf:!0,emitEvent:$.emitEvent})}),this.updateValueAndValidity($)}patchValue(Q,$={}){null!=Q&&(Q.forEach((Ae,nn)=>{this.at(nn)&&this.at(nn).patchValue(Ae,{onlySelf:!0,emitEvent:$.emitEvent})}),this.updateValueAndValidity($))}reset(Q=[],$={}){this._forEachChild((Ae,nn)=>{Ae.reset(Q[nn],{onlySelf:!0,emitEvent:$.emitEvent})}),this._updatePristine($),this._updateTouched($),this.updateValueAndValidity($)}getRawValue(){return this.controls.map(Q=>Q.getRawValue())}clear(Q={}){this.controls.length<1||(this._forEachChild($=>$._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Q.emitEvent}))}_adjustIndex(Q){return Q<0?Q+this.length:Q}_syncPendingControls(){let Q=this.controls.reduce(($,Ae)=>!!Ae._syncPendingControls()||$,!1);return Q&&this.updateValueAndValidity({onlySelf:!0}),Q}_forEachChild(Q){this.controls.forEach(($,Ae)=>{Q($,Ae)})}_updateValue(){this.value=this.controls.filter(Q=>Q.enabled||this.disabled).map(Q=>Q.value)}_anyControls(Q){return this.controls.some($=>$.enabled&&Q($))}_setUpControls(){this._forEachChild(Q=>this._registerControl(Q))}_allControlsDisabled(){for(const Q of this.controls)if(Q.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Q){Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange)}_find(Q){var $;return null!==($=this.at(Q))&&void 0!==$?$:null}}function Mn(re){return!!re&&(void 0!==re.asyncValidators||void 0!==re.validators||void 0!==re.updateOn)}let xi=(()=>{class re{constructor(){this.useNonNullable=!1}get nonNullable(){const $=new re;return $.useNonNullable=!0,$}group($,Ae=null){const nn=this._reduceControls($);let Jn={};return Mn(Ae)?Jn=Ae:null!==Ae&&(Jn.validators=Ae.validator,Jn.asyncValidators=Ae.asyncValidator),new K(nn,Jn)}record($,Ae=null){const nn=this._reduceControls($);return new Ct(nn,Ae)}control($,Ae,nn){let Jn={};return this.useNonNullable?(Mn(Ae)?Jn=Ae:(Jn.validators=Ae,Jn.asyncValidators=nn),new Br($,{...Jn,nonNullable:!0})):new Br($,Ae,nn)}array($,Ae,nn){const Jn=$.map(Er=>this._createControl(Er));return new Ys(Jn,Ae,nn)}_reduceControls($){const Ae={};return Object.keys($).forEach(nn=>{Ae[nn]=this._createControl($[nn])}),Ae}_createControl($){return $ instanceof Br||$ instanceof X?$:Array.isArray($)?this.control($[0],$.length>1?$[1]:null,$.length>2?$[2]:null):this.control($)}}return re.\u0275fac=function($){return new($||re)},re.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac,providedIn:Ca}),re})()},8242:(gn,_t,x)=>{"use strict";x.d(_t,{OG:()=>jt,_r:()=>ht,ch:()=>et,oL:()=>kt});var p=x(7855),N=x(4080),v=x(4650),ne=x(3238),C=x(2687),te=x(2289),we=x(8184),he=x(6895),Se=x(7340),ae=x(9521),me=x(8929),ye=x(6787),Ie=x(2198),Ue=x(2986);function Je(Le,ft){}const Fe={bottomSheetState:(0,Se.X$)("state",[(0,Se.SB)("void, hidden",(0,Se.oB)({transform:"translateY(100%)"})),(0,Se.SB)("visible",(0,Se.oB)({transform:"translateY(0%)"})),(0,Se.eR)("visible => void, visible => hidden",(0,Se.ru)([(0,Se.jt)(`${ne.mZ.COMPLEX} ${ne.yN.ACCELERATION_CURVE}`),(0,Se.IO)("@*",(0,Se.pV)(),{optional:!0})])),(0,Se.eR)("void => visible",(0,Se.ru)([(0,Se.jt)(`${ne.mZ.EXITING} ${ne.yN.DECELERATION_CURVE}`),(0,Se.IO)("@*",(0,Se.pV)(),{optional:!0})]))])};let ot=(()=>{class Le extends p.LL{constructor(tt,qe,Lt,Ge,Ot,Bt,bn,qn,jn,ai){super(tt,qe,Lt,Ge,Ot,Bt,bn,ai),this._changeDetectorRef=jn,this._animationState="void",this._animationStateChanged=new v.vpe,this._breakpointSubscription=qn.observe([te.u3.Medium,te.u3.Large,te.u3.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",qn.isMatched(te.u3.Medium)),this._toggleClass("mat-bottom-sheet-container-large",qn.isMatched(te.u3.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",qn.isMatched(te.u3.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(tt){"visible"===tt.toState&&this._trapFocus(),this._animationStateChanged.emit(tt)}_onAnimationStart(tt){this._animationStateChanged.emit(tt)}_captureInitialFocus(){}_toggleClass(tt,qe){this._elementRef.nativeElement.classList.toggle(tt,qe)}}return Le.\u0275fac=function(tt){return new(tt||Le)(v.Y36(v.SBq),v.Y36(C.qV),v.Y36(he.K0,8),v.Y36(p.ib),v.Y36(C.ic),v.Y36(v.R0b),v.Y36(we.Iu),v.Y36(te.Yg),v.Y36(v.sBO),v.Y36(C.tE))},Le.\u0275cmp=v.Xpm({type:Le,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(tt,qe){1&tt&&v.WFA("@state.start",function(Ge){return qe._onAnimationStart(Ge)})("@state.done",function(Ge){return qe._onAnimationDone(Ge)}),2&tt&&(v.uIk("role",qe._config.role)("aria-modal",qe._config.ariaModal)("aria-label",qe._config.ariaLabel),v.d8E("@state",qe._animationState))},features:[v.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(tt,qe){1&tt&&v.YNc(0,Je,0,0,"ng-template",0)},dependencies:[N.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[Fe.bottomSheetState]}}),Le})(),ht=(()=>{class Le{}return Le.\u0275fac=function(tt){return new(tt||Le)},Le.\u0275mod=v.oAB({type:Le}),Le.\u0275inj=v.cJS({imports:[p.Su,ne.BQ,N.eL,ne.BQ]}),Le})();const jt=new v.OlP("MatBottomSheetData");class ut{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class kt{constructor(ft,tt,qe){this._ref=ft,this._afterOpened=new me.xQ,this.containerInstance=qe,this.disableClose=tt.disableClose,qe._animationStateChanged.pipe((0,Ie.h)(Lt=>"done"===Lt.phaseName&&"visible"===Lt.toState),(0,Ue.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),qe._animationStateChanged.pipe((0,Ie.h)(Lt=>"done"===Lt.phaseName&&"hidden"===Lt.toState),(0,Ue.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),ft.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),(0,ye.T)(this.backdropClick(),this.keydownEvents().pipe((0,Ie.h)(Lt=>Lt.keyCode===ae.hY))).subscribe(Lt=>{!this.disableClose&&("keydown"!==Lt.type||!(0,ae.Vb)(Lt))&&(Lt.preventDefault(),this.dismiss())})}get instance(){return this._ref.componentInstance}dismiss(ft){!this.containerInstance||(this.containerInstance._animationStateChanged.pipe((0,Ie.h)(tt=>"start"===tt.phaseName),(0,Ue.q)(1)).subscribe(tt=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},tt.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=ft,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const vt=new v.OlP("mat-bottom-sheet-default-options");let et=(()=>{class Le{constructor(tt,qe,Lt,Ge){this._overlay=tt,this._parentBottomSheet=Lt,this._defaultOptions=Ge,this._bottomSheetRefAtThisLevel=null,this._dialog=qe.get(p.Vq)}get _openedBottomSheetRef(){const tt=this._parentBottomSheet;return tt?tt._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(tt){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=tt:this._bottomSheetRefAtThisLevel=tt}open(tt,qe){const Lt={...this._defaultOptions||new ut,...qe};let Ge;return this._dialog.open(tt,{...Lt,disableClose:!0,maxWidth:"100%",container:ot,scrollStrategy:Lt.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:Ge}),providers:(Ot,Bt,bn)=>(Ge=new kt(Ot,Lt,bn),[{provide:kt,useValue:Ge},{provide:jt,useValue:Lt.data}])}),Ge.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===Ge&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>{var Ot;return null===(Ot=Ge.containerInstance)||void 0===Ot?void 0:Ot.enter()}),this._openedBottomSheetRef.dismiss()):Ge.containerInstance.enter(),this._openedBottomSheetRef=Ge,Ge}dismiss(tt){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(tt)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}}return Le.\u0275fac=function(tt){return new(tt||Le)(v.LFG(we.aV),v.LFG(v.zs3),v.LFG(Le,12),v.LFG(vt,8))},Le.\u0275prov=v.Yz7({token:Le,factory:Le.\u0275fac,providedIn:ht}),Le})()},9101:(gn,_t,x)=>{"use strict";x.d(_t,{lW:()=>ae,ot:()=>ye});var p=x(4650),N=x(3238),v=x(2687);const ne=["mat-button",""],C=["*"],he=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Se=(0,N.pj)((0,N.Id)((0,N.Kr)(class{constructor(Ie){this._elementRef=Ie}})));let ae=(()=>{class Ie extends Se{constructor(Je,Fe,ot){super(Je),this._focusMonitor=Fe,this._animationMode=ot,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const ht of he)this._hasHostAttributes(ht)&&this._getHostElement().classList.add(ht);Je.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(Je,Fe){Je?this._focusMonitor.focusVia(this._getHostElement(),Je,Fe):this._getHostElement().focus(Fe)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...Je){return Je.some(Fe=>this._getHostElement().hasAttribute(Fe))}}return Ie.\u0275fac=function(Je){return new(Je||Ie)(p.Y36(p.SBq),p.Y36(v.tE),p.Y36(p.QbO,8))},Ie.\u0275cmp=p.Xpm({type:Ie,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(Je,Fe){if(1&Je&&p.Gf(N.wG,5),2&Je){let ot;p.iGM(ot=p.CRH())&&(Fe.ripple=ot.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(Je,Fe){2&Je&&(p.uIk("disabled",Fe.disabled||null),p.ekj("_mat-animation-noopable","NoopAnimations"===Fe._animationMode)("mat-button-disabled",Fe.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[p.qOj],attrs:ne,ngContentSelectors:C,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(Je,Fe){1&Je&&(p.F$t(),p.TgZ(0,"span",0),p.Hsn(1),p.qZA(),p._UZ(2,"span",1)(3,"span",2)),2&Je&&(p.xp6(2),p.ekj("mat-button-ripple-round",Fe.isRoundButton||Fe.isIconButton),p.Q6J("matRippleDisabled",Fe._isRippleDisabled())("matRippleCentered",Fe.isIconButton)("matRippleTrigger",Fe._getHostElement()))},dependencies:[N.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),Ie})(),ye=(()=>{class Ie{}return Ie.\u0275fac=function(Je){return new(Je||Ie)},Ie.\u0275mod=p.oAB({type:Ie}),Ie.\u0275inj=p.cJS({imports:[N.si,N.BQ,N.BQ]}),Ie})()},3546:(gn,_t,x)=>{"use strict";x.d(_t,{QW:()=>et,a8:()=>ut});var p=x(4650),N=x(3238);const v=["*",[["mat-card-footer"]]],ne=["*","mat-card-footer"];let ut=(()=>{class Le{constructor(tt){this._animationMode=tt}}return Le.\u0275fac=function(tt){return new(tt||Le)(p.Y36(p.QbO,8))},Le.\u0275cmp=p.Xpm({type:Le,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(tt,qe){2&tt&&p.ekj("_mat-animation-noopable","NoopAnimations"===qe._animationMode)},exportAs:["matCard"],ngContentSelectors:ne,decls:2,vars:0,template:function(tt,qe){1&tt&&(p.F$t(v),p.Hsn(0),p.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),Le})(),et=(()=>{class Le{}return Le.\u0275fac=function(tt){return new(tt||Le)},Le.\u0275mod=p.oAB({type:Le}),Le.\u0275inj=p.cJS({imports:[N.BQ,N.BQ]}),Le})()},7331:(gn,_t,x)=>{"use strict";x.d(_t,{EC:()=>Le,HS:()=>tt,Hi:()=>Vn,qn:()=>bn});var p=x(9521),N=x(4650),v=x(3238),ne=x(1281),C=x(3353),te=x(6895),we=x(8929),he=x(6787),Se=x(2986),ae=x(7625),me=x(1059),ye=x(2687),Ie=x(445),Ue=x(5017),Je=x(4006),Fe=x(9549);const ot=["*"],jt=new N.OlP("MatChipRemove"),ut=new N.OlP("MatChipAvatar"),kt=new N.OlP("MatChipTrailingIcon");class vt{constructor(_n){this._elementRef=_n}}const et=(0,v.sb)((0,v.pj)((0,v.Kr)(vt),"primary"),-1);let Le=(()=>{class rn{}return rn.\u0275fac=function(ke){return new(ke||rn)},rn.\u0275dir=N.lG2({type:rn,selectors:[["mat-chip-avatar"],["","matChipAvatar",""]],hostAttrs:[1,"mat-chip-avatar"],features:[N._Bn([{provide:ut,useExisting:rn}])]}),rn})(),tt=(()=>{class rn extends et{constructor(ke,Be,Ne,Ke,Tt,en,Ln,It){super(ke),this._ngZone=Be,this._changeDetectorRef=Tt,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this.role="option",this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new we.xQ,this._onBlur=new we.xQ,this.selectionChange=new N.vpe,this.destroyed=new N.vpe,this.removed=new N.vpe,this._addHostClassName(),this._chipRippleTarget=en.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new v.IR(this,Be,this._chipRippleTarget,Ne),this._chipRipple.setupTriggerEvents(ke),this.rippleConfig=Ke||{},this._animationsDisabled="NoopAnimations"===Ln,this.tabIndex=null!=It&&parseInt(It)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(ke){const Be=(0,ne.Ig)(ke);Be!==this._selected&&(this._selected=Be,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(ke){this._value=ke}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(ke){this._selectable=(0,ne.Ig)(ke)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(ke){this._disabled=(0,ne.Ig)(ke)}get removable(){return this._removable}set removable(ke){this._removable=(0,ne.Ig)(ke)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const ke="mat-basic-chip",Be=this._elementRef.nativeElement;Be.hasAttribute(ke)||Be.tagName.toLowerCase()===ke?Be.classList.add(ke):Be.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(ke=!1){return this._selected=!this.selected,this._dispatchSelectionChange(ke),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(ke){this.disabled&&ke.preventDefault()}_handleKeydown(ke){if(!this.disabled)switch(ke.keyCode){case p.yY:case p.ZH:this.remove(),ke.preventDefault();break;case p.L_:this.selectable&&this.toggleSelected(!0),ke.preventDefault()}}_blur(){this._ngZone.onStable.pipe((0,Se.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(ke=!1){this.selectionChange.emit({source:this,isUserInput:ke,selected:this._selected})}}return rn.\u0275fac=function(ke){return new(ke||rn)(N.Y36(N.SBq),N.Y36(N.R0b),N.Y36(C.t4),N.Y36(v.Y2,8),N.Y36(N.sBO),N.Y36(te.K0),N.Y36(N.QbO,8),N.$8M("tabindex"))},rn.\u0275dir=N.lG2({type:rn,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(ke,Be,Ne){if(1&ke&&(N.Suo(Ne,ut,5),N.Suo(Ne,kt,5),N.Suo(Ne,jt,5)),2&ke){let Ke;N.iGM(Ke=N.CRH())&&(Be.avatar=Ke.first),N.iGM(Ke=N.CRH())&&(Be.trailingIcon=Ke.first),N.iGM(Ke=N.CRH())&&(Be.removeIcon=Ke.first)}},hostAttrs:[1,"mat-chip","mat-focus-indicator"],hostVars:15,hostBindings:function(ke,Be){1&ke&&N.NdJ("click",function(Ke){return Be._handleClick(Ke)})("keydown",function(Ke){return Be._handleKeydown(Ke)})("focus",function(){return Be.focus()})("blur",function(){return Be._blur()}),2&ke&&(N.uIk("tabindex",Be.disabled?null:Be.tabIndex)("role",Be.role)("disabled",Be.disabled||null)("aria-disabled",Be.disabled.toString())("aria-selected",Be.ariaSelected),N.ekj("mat-chip-selected",Be.selected)("mat-chip-with-avatar",Be.avatar)("mat-chip-with-trailing-icon",Be.trailingIcon||Be.removeIcon)("mat-chip-disabled",Be.disabled)("_mat-animation-noopable",Be._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[N.qOj]}),rn})();const Lt=new N.OlP("mat-chips-default-options"),Ge=(0,v.FD)(class{constructor(rn,_n,ke,Be){this._defaultErrorStateMatcher=rn,this._parentForm=_n,this._parentFormGroup=ke,this.ngControl=Be,this.stateChanges=new we.xQ}});let Ot=0;class Bt{constructor(_n,ke){this.source=_n,this.value=ke}}let bn=(()=>{class rn extends Ge{constructor(ke,Be,Ne,Ke,Tt,en,Ln){super(en,Ke,Tt,Ln),this._elementRef=ke,this._changeDetectorRef=Be,this._dir=Ne,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new we.xQ,this._uid="mat-chip-list-"+Ot++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(It,Qt)=>It===Qt,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new N.vpe,this.valueChange=new N.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){var ke,Be;return this.multiple?(null===(ke=this._selectionModel)||void 0===ke?void 0:ke.selected)||[]:null===(Be=this._selectionModel)||void 0===Be?void 0:Be.selected[0]}get role(){return this._explicitRole?this._explicitRole:this.empty?null:"listbox"}set role(ke){this._explicitRole=ke}get multiple(){return this._multiple}set multiple(ke){this._multiple=(0,ne.Ig)(ke),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(ke){this._compareWith=ke,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(ke){this.writeValue(ke),this._value=ke}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){var ke,Be,Ne,Ke;return null!==(ke=null!==(Be=this._required)&&void 0!==Be?Be:null===(Ne=this.ngControl)||void 0===Ne||null===(Ke=Ne.control)||void 0===Ke?void 0:Ke.hasValidator(Je.kI.required))&&void 0!==ke&&ke}set required(ke){this._required=(0,ne.Ig)(ke),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(ke){this._placeholder=ke,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(ke){this._disabled=(0,ne.Ig)(ke),this._syncChipsState()}get selectable(){return this._selectable}set selectable(ke){this._selectable=(0,ne.Ig)(ke),this._syncChipsState()}set tabIndex(ke){this._userTabIndex=ke,this._tabIndex=ke}get chipSelectionChanges(){return(0,he.T)(...this.chips.map(ke=>ke.selectionChange))}get chipFocusChanges(){return(0,he.T)(...this.chips.map(ke=>ke._onFocus))}get chipBlurChanges(){return(0,he.T)(...this.chips.map(ke=>ke._onBlur))}get chipRemoveChanges(){return(0,he.T)(...this.chips.map(ke=>ke.destroyed))}ngAfterContentInit(){this._keyManager=new ye.Em(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe((0,ae.R)(this._destroyed)).subscribe(ke=>this._keyManager.withHorizontalOrientation(ke)),this._keyManager.tabOut.pipe((0,ae.R)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe((0,me.O)(null),(0,ae.R)(this._destroyed)).subscribe(()=>{(this.disabled||!this.selectable)&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new Ue.Ov(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(ke){this._chipInput=ke,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",ke.id)}setDescribedByIds(ke){ke.length?this._elementRef.nativeElement.setAttribute("aria-describedby",ke.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}writeValue(ke){this.chips&&this._setSelectionByValue(ke,!1)}registerOnChange(ke){this._onChange=ke}registerOnTouched(ke){this._onTouched=ke}setDisabledState(ke){this.disabled=ke,this.stateChanges.next()}onContainerClick(ke){this._originatesFromChip(ke)||this.focus()}focus(ke){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(ke),this.stateChanges.next()))}_focusInput(ke){this._chipInput&&this._chipInput.focus(ke)}_keydown(ke){const Be=ke.target;Be&&Be.classList.contains("mat-chip")&&(this._keyManager.onKeydown(ke),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const ke=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(ke)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(ke){return ke>=0&&ke<this.chips.length}_setSelectionByValue(ke,Be=!0){if(this._clearSelection(),this.chips.forEach(Ne=>Ne.deselect()),Array.isArray(ke))ke.forEach(Ne=>this._selectValue(Ne,Be)),this._sortValues();else{const Ne=this._selectValue(ke,Be);Ne&&Be&&this._keyManager.setActiveItem(Ne)}}_selectValue(ke,Be=!0){const Ne=this.chips.find(Ke=>null!=Ke.value&&this._compareWith(Ke.value,ke));return Ne&&(Be?Ne.selectViaInteraction():Ne.select(),this._selectionModel.select(Ne)),Ne}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(ke){this._selectionModel.clear(),this.chips.forEach(Be=>{Be!==ke&&Be.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(ke=>{ke.selected&&this._selectionModel.select(ke)}),this.stateChanges.next())}_propagateChanges(ke){let Be=null;Be=Array.isArray(this.selected)?this.selected.map(Ne=>Ne.value):this.selected?this.selected.value:ke,this._value=Be,this.change.emit(new Bt(this,Be)),this.valueChange.emit(Be),this._onChange(Be),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(ke=>{ke.source.selected?this._selectionModel.select(ke.source):this._selectionModel.deselect(ke.source),this.multiple||this.chips.forEach(Be=>{!this._selectionModel.isSelected(Be)&&Be.selected&&Be.deselect()}),ke.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(ke=>{let Be=this.chips.toArray().indexOf(ke.chip);this._isValidIndex(Be)&&this._keyManager.updateActiveItem(Be),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(ke=>{const Be=ke.chip,Ne=this.chips.toArray().indexOf(ke.chip);this._isValidIndex(Ne)&&Be._hasFocus&&(this._lastDestroyedChipIndex=Ne)})}_originatesFromChip(ke){let Be=ke.target;for(;Be&&Be!==this._elementRef.nativeElement;){if(Be.classList.contains("mat-chip"))return!0;Be=Be.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(ke=>ke._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(ke=>{ke._chipListDisabled=this._disabled,ke._chipListMultiple=this.multiple,ke.chipListSelectable=this._selectable})}}return rn.\u0275fac=function(ke){return new(ke||rn)(N.Y36(N.SBq),N.Y36(N.sBO),N.Y36(Ie.Is,8),N.Y36(Je.F,8),N.Y36(Je.sg,8),N.Y36(v.rD),N.Y36(Je.a5,10))},rn.\u0275cmp=N.Xpm({type:rn,selectors:[["mat-chip-list"]],contentQueries:function(ke,Be,Ne){if(1&ke&&N.Suo(Ne,tt,5),2&ke){let Ke;N.iGM(Ke=N.CRH())&&(Be.chips=Ke)}},hostAttrs:[1,"mat-chip-list"],hostVars:14,hostBindings:function(ke,Be){1&ke&&N.NdJ("focus",function(){return Be.focus()})("blur",function(){return Be._blur()})("keydown",function(Ke){return Be._keydown(Ke)}),2&ke&&(N.Ikx("id",Be._uid),N.uIk("tabindex",Be.disabled?null:Be._tabIndex)("aria-required",Be.role?Be.required:null)("aria-disabled",Be.disabled.toString())("aria-invalid",Be.errorState)("aria-multiselectable",Be.multiple)("role",Be.role)("aria-orientation",Be.ariaOrientation),N.ekj("mat-chip-list-disabled",Be.disabled)("mat-chip-list-invalid",Be.errorState)("mat-chip-list-required",Be.required))},inputs:{role:"role",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[N._Bn([{provide:Fe.Eo,useExisting:rn}]),N.qOj],ngContentSelectors:ot,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(ke,Be){1&ke&&(N.F$t(),N.TgZ(0,"div",0),N.Hsn(1),N.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-chip::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}.mat-standard-chip._mat-animation-noopable{transition:none !important;animation:none !important}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}'],encapsulation:2,changeDetection:0}),rn})(),Vn=(()=>{class rn{}return rn.\u0275fac=function(ke){return new(ke||rn)},rn.\u0275mod=N.oAB({type:rn}),rn.\u0275inj=N.cJS({providers:[v.rD,{provide:Lt,useValue:{separatorKeyCodes:[p.K5]}}],imports:[v.BQ]}),rn})()},3238:(gn,_t,x)=>{"use strict";x.d(_t,{yN:()=>Fe,mZ:()=>ot,_A:()=>bn,rD:()=>Ne,sG:()=>qn,Y2:()=>pt,BQ:()=>ut,X2:()=>Ke,uc:()=>Ln,Ng:()=>Tn,rN:()=>Dt,nP:()=>Pe,us:()=>ce,wG:()=>J,si:()=>de,IR:()=>Gn,CB:()=>On,jH:()=>Ii,pj:()=>ft,Kr:()=>tt,Id:()=>Le,FD:()=>Lt,sb:()=>qe,E0:()=>Tt});var p=x(4650),N=x(2687),v=x(445),C=x(6895),te=x(3353),we=x(1281),he=x(8929),Se=x(1059);let Fe=(()=>{class Wt{}return Wt.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",Wt.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",Wt.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",Wt.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",Wt})(),ot=(()=>{class Wt{}return Wt.COMPLEX="375ms",Wt.ENTERING="225ms",Wt.EXITING="195ms",Wt})();const jt=new p.OlP("mat-sanity-checks",{providedIn:"root",factory:function ht(){return!0}});let ut=(()=>{class Wt{constructor(Et,ln,fn){this._sanityChecks=ln,this._document=fn,this._hasDoneGlobalChecks=!1,Et._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Et){return!(0,te.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Et])}}return Wt.\u0275fac=function(Et){return new(Et||Wt)(p.LFG(N.qm),p.LFG(jt,8),p.LFG(C.K0))},Wt.\u0275mod=p.oAB({type:Wt}),Wt.\u0275inj=p.cJS({imports:[v.vT,v.vT]}),Wt})();function Le(Wt){return class extends Wt{constructor(...gt){super(...gt),this._disabled=!1}get disabled(){return this._disabled}set disabled(gt){this._disabled=(0,we.Ig)(gt)}}}function ft(Wt,gt){return class extends Wt{constructor(...Et){super(...Et),this.defaultColor=gt,this.color=gt}get color(){return this._color}set color(Et){const ln=Et||this.defaultColor;ln!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),ln&&this._elementRef.nativeElement.classList.add(`mat-${ln}`),this._color=ln)}}}function tt(Wt){return class extends Wt{constructor(...gt){super(...gt),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(gt){this._disableRipple=(0,we.Ig)(gt)}}}function qe(Wt,gt=0){return class extends Wt{constructor(...Et){super(...Et),this._tabIndex=gt,this.defaultTabIndex=gt}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(Et){this._tabIndex=null!=Et?(0,we.su)(Et):this.defaultTabIndex}}}function Lt(Wt){return class extends Wt{constructor(...gt){super(...gt),this.errorState=!1}updateErrorState(){const gt=this.errorState,lt=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);lt!==gt&&(this.errorState=lt,this.stateChanges.next())}}}class bn{constructor(){this._localeChanges=new he.xQ,this.localeChanges=this._localeChanges}getValidDateOrNull(gt){return this.isDateInstance(gt)&&this.isValid(gt)?gt:null}deserialize(gt){return null==gt||this.isDateInstance(gt)&&this.isValid(gt)?gt:this.invalid()}setLocale(gt){this.locale=gt,this._localeChanges.next()}compareDate(gt,Et){return this.getYear(gt)-this.getYear(Et)||this.getMonth(gt)-this.getMonth(Et)||this.getDate(gt)-this.getDate(Et)}sameDate(gt,Et){if(gt&&Et){let ln=this.isValid(gt),fn=this.isValid(Et);return ln&&fn?!this.compareDate(gt,Et):ln==fn}return gt==Et}clampDate(gt,Et,ln){return Et&&this.compareDate(gt,Et)<0?Et:ln&&this.compareDate(gt,ln)>0?ln:gt}}const qn=new p.OlP("mat-date-formats");let Ne=(()=>{class Wt{isErrorState(Et,ln){return!!(Et&&Et.invalid&&(Et.touched||ln&&ln.submitted))}}return Wt.\u0275fac=function(Et){return new(Et||Wt)},Wt.\u0275prov=p.Yz7({token:Wt,factory:Wt.\u0275fac,providedIn:"root"}),Wt})(),Ke=(()=>{class Wt{}return Wt.\u0275fac=function(Et){return new(Et||Wt)},Wt.\u0275dir=p.lG2({type:Wt,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),Wt})();function Tt(Wt,gt,Et="mat"){Wt.changes.pipe((0,Se.O)(Wt)).subscribe(({length:ln})=>{en(gt,`${Et}-2-line`,!1),en(gt,`${Et}-3-line`,!1),en(gt,`${Et}-multi-line`,!1),2===ln||3===ln?en(gt,`${Et}-${ln}-line`,!0):ln>3&&en(gt,`${Et}-multi-line`,!0)})}function en(Wt,gt,Et){Wt.nativeElement.classList.toggle(gt,Et)}let Ln=(()=>{class Wt{}return Wt.\u0275fac=function(Et){return new(Et||Wt)},Wt.\u0275mod=p.oAB({type:Wt}),Wt.\u0275inj=p.cJS({imports:[ut,ut]}),Wt})();class It{constructor(gt,Et,ln,fn=!1){this._renderer=gt,this.element=Et,this.config=ln,this._animationForciblyDisabledThroughCss=fn,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Qt={enterDuration:225,exitDuration:150},$t=(0,te.i$)({passive:!0}),wn=["mousedown","touchstart"],zt=["mouseup","mouseleave","touchend","touchcancel"];class Gn{constructor(gt,Et,ln,fn){this._target=gt,this._ngZone=Et,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,fn.isBrowser&&(this._containerElement=(0,we.fI)(ln))}fadeInRipple(gt,Et,ln={}){const fn=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),lt={...Qt,...ln.animation};ln.centered&&(gt=fn.left+fn.width/2,Et=fn.top+fn.height/2);const st=ln.radius||function Dn(Wt,gt,Et){const ln=Math.max(Math.abs(Wt-Et.left),Math.abs(Wt-Et.right)),fn=Math.max(Math.abs(gt-Et.top),Math.abs(gt-Et.bottom));return Math.sqrt(ln*ln+fn*fn)}(gt,Et,fn),Xe=gt-fn.left,St=Et-fn.top,Gt=lt.enterDuration,ge=document.createElement("div");ge.classList.add("mat-ripple-element"),ge.style.left=Xe-st+"px",ge.style.top=St-st+"px",ge.style.height=2*st+"px",ge.style.width=2*st+"px",null!=ln.color&&(ge.style.backgroundColor=ln.color),ge.style.transitionDuration=`${Gt}ms`,this._containerElement.appendChild(ge);const j=window.getComputedStyle(ge),X=j.transitionDuration,K="none"===j.transitionProperty||"0s"===X||"0s, 0s"===X,fe=new It(this,ge,ln,K);ge.style.transform="scale3d(1, 1, 1)",fe.state=0,ln.persistent||(this._mostRecentTransientRipple=fe);let Qe=null;return!K&&(Gt||lt.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ct=()=>this._finishRippleTransition(fe),dn=()=>this._destroyRipple(fe);ge.addEventListener("transitionend",Ct),ge.addEventListener("transitioncancel",dn),Qe={onTransitionEnd:Ct,onTransitionCancel:dn}}),this._activeRipples.set(fe,Qe),(K||!Gt)&&this._finishRippleTransition(fe),fe}fadeOutRipple(gt){if(2===gt.state||3===gt.state)return;const Et=gt.element,ln={...Qt,...gt.config.animation};Et.style.transitionDuration=`${ln.exitDuration}ms`,Et.style.opacity="0",gt.state=2,(gt._animationForciblyDisabledThroughCss||!ln.exitDuration)&&this._finishRippleTransition(gt)}fadeOutAll(){this._getActiveRipples().forEach(gt=>gt.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(gt=>{gt.config.persistent||gt.fadeOut()})}setupTriggerEvents(gt){const Et=(0,we.fI)(gt);!Et||Et===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Et,this._registerEvents(wn))}handleEvent(gt){"mousedown"===gt.type?this._onMousedown(gt):"touchstart"===gt.type?this._onTouchStart(gt):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(zt),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(gt){0===gt.state?this._startFadeOutTransition(gt):2===gt.state&&this._destroyRipple(gt)}_startFadeOutTransition(gt){const Et=gt===this._mostRecentTransientRipple,{persistent:ln}=gt.config;gt.state=1,!ln&&(!Et||!this._isPointerDown)&&gt.fadeOut()}_destroyRipple(gt){var Et;const ln=null!==(Et=this._activeRipples.get(gt))&&void 0!==Et?Et:null;this._activeRipples.delete(gt),this._activeRipples.size||(this._containerRect=null),gt===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),gt.state=3,null!==ln&&(gt.element.removeEventListener("transitionend",ln.onTransitionEnd),gt.element.removeEventListener("transitioncancel",ln.onTransitionCancel)),gt.element.remove()}_onMousedown(gt){const Et=(0,N.X6)(gt),ln=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Et&&!ln&&(this._isPointerDown=!0,this.fadeInRipple(gt.clientX,gt.clientY,this._target.rippleConfig))}_onTouchStart(gt){if(!this._target.rippleDisabled&&!(0,N.yG)(gt)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Et=gt.changedTouches;for(let ln=0;ln<Et.length;ln++)this.fadeInRipple(Et[ln].clientX,Et[ln].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(gt=>{!gt.config.persistent&&(1===gt.state||gt.config.terminateOnPointerUp&&0===gt.state)&&gt.fadeOut()}))}_registerEvents(gt){this._ngZone.runOutsideAngular(()=>{gt.forEach(Et=>{this._triggerElement.addEventListener(Et,this,$t)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(wn.forEach(gt=>{this._triggerElement.removeEventListener(gt,this,$t)}),this._pointerUpEventsRegistered&&zt.forEach(gt=>{this._triggerElement.removeEventListener(gt,this,$t)}))}}const pt=new p.OlP("mat-ripple-global-options");let J=(()=>{class Wt{constructor(Et,ln,fn,lt,st){this._elementRef=Et,this._animationMode=st,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=lt||{},this._rippleRenderer=new Gn(this,ln,Et,fn)}get disabled(){return this._disabled}set disabled(Et){Et&&this.fadeOutAllNonPersistent(),this._disabled=Et,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Et){this._trigger=Et,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Et,ln=0,fn){return"number"==typeof Et?this._rippleRenderer.fadeInRipple(Et,ln,{...this.rippleConfig,...fn}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Et})}}return Wt.\u0275fac=function(Et){return new(Et||Wt)(p.Y36(p.SBq),p.Y36(p.R0b),p.Y36(te.t4),p.Y36(pt,8),p.Y36(p.QbO,8))},Wt.\u0275dir=p.lG2({type:Wt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Et,ln){2&Et&&p.ekj("mat-ripple-unbounded",ln.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),Wt})(),de=(()=>{class Wt{}return Wt.\u0275fac=function(Et){return new(Et||Wt)},Wt.\u0275mod=p.oAB({type:Wt}),Wt.\u0275inj=p.cJS({imports:[ut,ut]}),Wt})(),Pe=(()=>{class Wt{constructor(Et){this._animationMode=Et,this.state="unchecked",this.disabled=!1}}return Wt.\u0275fac=function(Et){return new(Et||Wt)(p.Y36(p.QbO,8))},Wt.\u0275cmp=p.Xpm({type:Wt,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(Et,ln){2&Et&&p.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===ln.state)("mat-pseudo-checkbox-checked","checked"===ln.state)("mat-pseudo-checkbox-disabled",ln.disabled)("_mat-animation-noopable","NoopAnimations"===ln._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(Et,ln){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),Wt})(),ce=(()=>{class Wt{}return Wt.\u0275fac=function(Et){return new(Et||Wt)},Wt.\u0275mod=p.oAB({type:Wt}),Wt.\u0275inj=p.cJS({imports:[ut]}),Wt})();class Dt{constructor(gt,Et=!1){this.source=gt,this.isUserInput=Et}}function On(Wt,gt,Et){if(Et.length){let ln=gt.toArray(),fn=Et.toArray(),lt=0;for(let st=0;st<Wt+1;st++)ln[st].group&&ln[st].group===fn[lt]&&lt++;return lt}return 0}function Ii(Wt,gt,Et,ln){return Wt<Et?Wt:Wt+gt>Et+ln?Math.max(0,Wt-ln+gt):Et}let Tn=(()=>{class Wt{}return Wt.\u0275fac=function(Et){return new(Et||Wt)},Wt.\u0275mod=p.oAB({type:Wt}),Wt.\u0275inj=p.cJS({imports:[de,C.ez,ut,ce]}),Wt})()},5938:(gn,_t,x)=>{"use strict";x.d(_t,{Bq:()=>ft,Is:()=>ke,WI:()=>Le,ZT:()=>jn,so:()=>vt,uw:()=>bn,xY:()=>Vn});var p=x(7855),N=x(8184),v=x(4080),ne=x(4650),C=x(3238),te=x(6895),we=x(8929),he=x(6787),Se=x(8514),ae=x(2198),me=x(2986),ye=x(1059),Ie=x(7340),Ue=x(2687),Je=x(9521);function Fe(Be,Ne){}const ot={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},ht={dialogContainer:(0,Ie.X$)("dialogContainer",[(0,Ie.SB)("void, exit",(0,Ie.oB)({opacity:0,transform:"scale(0.7)"})),(0,Ie.SB)("enter",(0,Ie.oB)({transform:"none"})),(0,Ie.eR)("* => enter",(0,Ie.ru)([(0,Ie.jt)("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",(0,Ie.oB)({transform:"none",opacity:1})),(0,Ie.IO)("@*",(0,Ie.pV)(),{optional:!0})]),ot),(0,Ie.eR)("* => void, * => exit",(0,Ie.ru)([(0,Ie.jt)("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",(0,Ie.oB)({opacity:0})),(0,Ie.IO)("@*",(0,Ie.pV)(),{optional:!0})]),ot)])};class jt{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=ot.params.enterAnimationDuration,this.exitAnimationDuration=ot.params.exitAnimationDuration}}let ut=(()=>{class Be extends p.LL{constructor(Ke,Tt,en,Ln,It,Qt,Mt,$t){super(Ke,Tt,en,Ln,It,Qt,Mt,$t),this._animationStateChanged=new ne.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(Ke){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:Ke})}}return Be.\u0275fac=function(Ke){return new(Ke||Be)(ne.Y36(ne.SBq),ne.Y36(Ue.qV),ne.Y36(te.K0,8),ne.Y36(jt),ne.Y36(Ue.ic),ne.Y36(ne.R0b),ne.Y36(N.Iu),ne.Y36(Ue.tE))},Be.\u0275cmp=ne.Xpm({type:Be,selectors:[["ng-component"]],features:[ne.qOj],decls:0,vars:0,template:function(Ke,Tt){},encapsulation:2}),Be})(),kt=(()=>{class Be extends ut{constructor(Ke,Tt,en,Ln,It,Qt,Mt,$t,wn){super(Ke,Tt,en,Ln,It,Qt,Mt,wn),this._changeDetectorRef=$t,this._state="enter"}_onAnimationDone({toState:Ke,totalTime:Tt}){"enter"===Ke?this._openAnimationDone(Tt):"exit"===Ke&&this._animationStateChanged.next({state:"closed",totalTime:Tt})}_onAnimationStart({toState:Ke,totalTime:Tt}){"enter"===Ke?this._animationStateChanged.next({state:"opening",totalTime:Tt}):("exit"===Ke||"void"===Ke)&&this._animationStateChanged.next({state:"closing",totalTime:Tt})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||ot.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||ot.params.exitAnimationDuration}}}}return Be.\u0275fac=function(Ke){return new(Ke||Be)(ne.Y36(ne.SBq),ne.Y36(Ue.qV),ne.Y36(te.K0,8),ne.Y36(jt),ne.Y36(Ue.ic),ne.Y36(ne.R0b),ne.Y36(N.Iu),ne.Y36(ne.sBO),ne.Y36(Ue.tE))},Be.\u0275cmp=ne.Xpm({type:Be,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(Ke,Tt){1&Ke&&ne.WFA("@dialogContainer.start",function(Ln){return Tt._onAnimationStart(Ln)})("@dialogContainer.done",function(Ln){return Tt._onAnimationDone(Ln)}),2&Ke&&(ne.Ikx("id",Tt._config.id),ne.uIk("aria-modal",Tt._config.ariaModal)("role",Tt._config.role)("aria-labelledby",Tt._config.ariaLabel?null:Tt._ariaLabelledBy)("aria-label",Tt._config.ariaLabel)("aria-describedby",Tt._config.ariaDescribedBy||null),ne.d8E("@dialogContainer",Tt._getAnimationState()))},features:[ne.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Ke,Tt){1&Ke&&ne.YNc(0,Fe,0,0,"ng-template",0)},dependencies:[v.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[ht.dialogContainer]}}),Be})();class vt{constructor(Ne,Ke,Tt){this._ref=Ne,this._containerInstance=Tt,this._afterOpened=new we.xQ,this._beforeClosed=new we.xQ,this._state=0,this.disableClose=Ke.disableClose,this.id=Ne.id,Tt._animationStateChanged.pipe((0,ae.h)(en=>"opened"===en.state),(0,me.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Tt._animationStateChanged.pipe((0,ae.h)(en=>"closed"===en.state),(0,me.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),Ne.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,he.T)(this.backdropClick(),this.keydownEvents().pipe((0,ae.h)(en=>en.keyCode===Je.hY&&!this.disableClose&&!(0,Je.Vb)(en)))).subscribe(en=>{this.disableClose||(en.preventDefault(),et(this,"keydown"===en.type?"keyboard":"mouse"))})}close(Ne){this._result=Ne,this._containerInstance._animationStateChanged.pipe((0,ae.h)(Ke=>"closing"===Ke.state),(0,me.q)(1)).subscribe(Ke=>{this._beforeClosed.next(Ne),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),Ke.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(Ne){let Ke=this._ref.config.positionStrategy;return Ne&&(Ne.left||Ne.right)?Ne.left?Ke.left(Ne.left):Ke.right(Ne.right):Ke.centerHorizontally(),Ne&&(Ne.top||Ne.bottom)?Ne.top?Ke.top(Ne.top):Ke.bottom(Ne.bottom):Ke.centerVertically(),this._ref.updatePosition(),this}updateSize(Ne="",Ke=""){return this._ref.updateSize(Ne,Ke),this}addPanelClass(Ne){return this._ref.addPanelClass(Ne),this}removePanelClass(Ne){return this._ref.removePanelClass(Ne),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function et(Be,Ne,Ke){return Be._closeInteractionType=Ne,Be.close(Ke)}const Le=new ne.OlP("MatDialogData"),ft=new ne.OlP("mat-dialog-default-options"),tt=new ne.OlP("mat-dialog-scroll-strategy"),Ge={provide:tt,deps:[N.aV],useFactory:function Lt(Be){return()=>Be.scrollStrategies.block()}};let Ot=0,Bt=(()=>{class Be{constructor(Ke,Tt,en,Ln,It,Qt,Mt,$t,wn,zt){this._overlay=Ke,this._defaultOptions=en,this._parentDialog=Ln,this._dialogRefConstructor=Mt,this._dialogContainerType=$t,this._dialogDataToken=wn,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new we.xQ,this._afterOpenedAtThisLevel=new we.xQ,this._idPrefix="mat-dialog-",this.afterAllClosed=(0,Se.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,ye.O)(void 0))),this._scrollStrategy=Qt,this._dialog=Tt.get(p.Vq)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const Ke=this._parentDialog;return Ke?Ke._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(Ke,Tt){let en;(Tt={...this._defaultOptions||new jt,...Tt}).id=Tt.id||`${this._idPrefix}${Ot++}`,Tt.scrollStrategy=Tt.scrollStrategy||this._scrollStrategy();const Ln=this._dialog.open(Ke,{...Tt,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:jt,useValue:Tt},{provide:p.ib,useValue:Tt}]},templateContext:()=>({dialogRef:en}),providers:(It,Qt,Mt)=>{var $t;return en=new this._dialogRefConstructor(It,Tt,Mt),en.updatePosition(null===($t=Tt)||void 0===$t?void 0:$t.position),[{provide:this._dialogContainerType,useValue:Mt},{provide:this._dialogDataToken,useValue:Qt.data},{provide:this._dialogRefConstructor,useValue:en}]}});return en.componentInstance=Ln.componentInstance,this.openDialogs.push(en),this.afterOpened.next(en),en.afterClosed().subscribe(()=>{const It=this.openDialogs.indexOf(en);It>-1&&(this.openDialogs.splice(It,1),this.openDialogs.length||this._getAfterAllClosed().next())}),en}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(Ke){return this.openDialogs.find(Tt=>Tt.id===Ke)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(Ke){let Tt=Ke.length;for(;Tt--;)Ke[Tt].close()}}return Be.\u0275fac=function(Ke){ne.$Z()},Be.\u0275prov=ne.Yz7({token:Be,factory:Be.\u0275fac}),Be})(),bn=(()=>{class Be extends Bt{constructor(Ke,Tt,en,Ln,It,Qt,Mt,$t){super(Ke,Tt,Ln,Qt,Mt,It,vt,kt,Le,$t)}}return Be.\u0275fac=function(Ke){return new(Ke||Be)(ne.LFG(N.aV),ne.LFG(ne.zs3),ne.LFG(te.Ye,8),ne.LFG(ft,8),ne.LFG(tt),ne.LFG(Be,12),ne.LFG(N.Xj),ne.LFG(ne.QbO,8))},Be.\u0275prov=ne.Yz7({token:Be,factory:Be.\u0275fac}),Be})(),jn=(()=>{class Be{constructor(Ke,Tt,en){this.dialogRef=Ke,this._elementRef=Tt,this._dialog=en,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function _n(Be,Ne){let Ke=Be.nativeElement.parentElement;for(;Ke&&!Ke.classList.contains("mat-dialog-container");)Ke=Ke.parentElement;return Ke?Ne.find(Tt=>Tt.id===Ke.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(Ke){const Tt=Ke._matDialogClose||Ke._matDialogCloseResult;Tt&&(this.dialogResult=Tt.currentValue)}_onButtonClick(Ke){et(this.dialogRef,0===Ke.screenX&&0===Ke.screenY?"keyboard":"mouse",this.dialogResult)}}return Be.\u0275fac=function(Ke){return new(Ke||Be)(ne.Y36(vt,8),ne.Y36(ne.SBq),ne.Y36(bn))},Be.\u0275dir=ne.lG2({type:Be,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(Ke,Tt){1&Ke&&ne.NdJ("click",function(Ln){return Tt._onButtonClick(Ln)}),2&Ke&&ne.uIk("aria-label",Tt.ariaLabel||null)("type",Tt.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[ne.TTD]}),Be})(),Vn=(()=>{class Be{}return Be.\u0275fac=function(Ke){return new(Ke||Be)},Be.\u0275dir=ne.lG2({type:Be,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),Be})(),ke=(()=>{class Be{}return Be.\u0275fac=function(Ke){return new(Ke||Be)},Be.\u0275mod=ne.oAB({type:Be}),Be.\u0275inj=ne.cJS({providers:[bn,Ge],imports:[p.Su,N.U8,v.eL,C.BQ,C.BQ]}),Be})()},9549:(gn,_t,x)=>{"use strict";x.d(_t,{Eo:()=>ai,G_:()=>Dn,KE:()=>pt,TO:()=>qn,hX:()=>Ke,lN:()=>J});var p=x(9643),N=x(6895),v=x(4650),ne=x(3238),C=x(445),te=x(1281),we=x(8929),he=x(6787),Se=x(3753),ae=x(1059),me=x(7625),ye=x(2986),Ie=x(7340),Ue=x(3353);const Je=["connectionContainer"],Fe=["inputContainer"],ot=["label"];function ht(de,Pe){1&de&&(v.ynx(0),v.TgZ(1,"div",14),v._UZ(2,"div",15)(3,"div",16)(4,"div",17),v.qZA(),v.TgZ(5,"div",18),v._UZ(6,"div",15)(7,"div",16)(8,"div",17),v.qZA(),v.BQk())}function jt(de,Pe){if(1&de){const ce=v.EpF();v.TgZ(0,"div",19),v.NdJ("cdkObserveContent",function(){v.CHM(ce);const be=v.oxw();return v.KtG(be.updateOutlineGap())}),v.Hsn(1,1),v.qZA()}if(2&de){const ce=v.oxw();v.Q6J("cdkObserveContentDisabled","outline"!=ce.appearance)}}function ut(de,Pe){if(1&de&&(v.ynx(0),v.Hsn(1,2),v.TgZ(2,"span"),v._uU(3),v.qZA(),v.BQk()),2&de){const ce=v.oxw(2);v.xp6(3),v.Oqu(ce._control.placeholder)}}function kt(de,Pe){1&de&&v.Hsn(0,3,["*ngSwitchCase","true"])}function vt(de,Pe){1&de&&(v.TgZ(0,"span",23),v._uU(1," *"),v.qZA())}function et(de,Pe){if(1&de){const ce=v.EpF();v.TgZ(0,"label",20,21),v.NdJ("cdkObserveContent",function(){v.CHM(ce);const be=v.oxw();return v.KtG(be.updateOutlineGap())}),v.YNc(2,ut,4,1,"ng-container",12),v.YNc(3,kt,1,0,"ng-content",12),v.YNc(4,vt,2,0,"span",22),v.qZA()}if(2&de){const ce=v.oxw();v.ekj("mat-empty",ce._control.empty&&!ce._shouldAlwaysFloat())("mat-form-field-empty",ce._control.empty&&!ce._shouldAlwaysFloat())("mat-accent","accent"==ce.color)("mat-warn","warn"==ce.color),v.Q6J("cdkObserveContentDisabled","outline"!=ce.appearance)("id",ce._labelId)("ngSwitch",ce._hasLabel()),v.uIk("for",ce._control.id)("aria-owns",ce._control.id),v.xp6(2),v.Q6J("ngSwitchCase",!1),v.xp6(1),v.Q6J("ngSwitchCase",!0),v.xp6(1),v.Q6J("ngIf",!ce.hideRequiredMarker&&ce._control.required&&!ce._control.disabled)}}function Le(de,Pe){1&de&&(v.TgZ(0,"div",24),v.Hsn(1,4),v.qZA())}function ft(de,Pe){if(1&de&&(v.TgZ(0,"div",25),v._UZ(1,"span",26),v.qZA()),2&de){const ce=v.oxw();v.xp6(1),v.ekj("mat-accent","accent"==ce.color)("mat-warn","warn"==ce.color)}}function tt(de,Pe){if(1&de&&(v.TgZ(0,"div"),v.Hsn(1,5),v.qZA()),2&de){const ce=v.oxw();v.Q6J("@transitionMessages",ce._subscriptAnimationState)}}function qe(de,Pe){if(1&de&&(v.TgZ(0,"div",30),v._uU(1),v.qZA()),2&de){const ce=v.oxw(2);v.Q6J("id",ce._hintLabelId),v.xp6(1),v.Oqu(ce.hintLabel)}}function Lt(de,Pe){if(1&de&&(v.TgZ(0,"div",27),v.YNc(1,qe,2,2,"div",28),v.Hsn(2,6),v._UZ(3,"div",29),v.Hsn(4,7),v.qZA()),2&de){const ce=v.oxw();v.Q6J("@transitionMessages",ce._subscriptAnimationState),v.xp6(1),v.Q6J("ngIf",ce.hintLabel)}}const Ge=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Ot=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let Bt=0;const bn=new v.OlP("MatError");let qn=(()=>{class de{constructor(ce,Ye){this.id="mat-error-"+Bt++,ce||Ye.nativeElement.setAttribute("aria-live","polite")}}return de.\u0275fac=function(ce){return new(ce||de)(v.$8M("aria-live"),v.Y36(v.SBq))},de.\u0275dir=v.lG2({type:de,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(ce,Ye){2&ce&&v.uIk("id",Ye.id)},inputs:{id:"id"},features:[v._Bn([{provide:bn,useExisting:de}])]}),de})();const jn={transitionMessages:(0,Ie.X$)("transitionMessages",[(0,Ie.SB)("enter",(0,Ie.oB)({opacity:1,transform:"translateY(0%)"})),(0,Ie.eR)("void => enter",[(0,Ie.oB)({opacity:0,transform:"translateY(-5px)"}),(0,Ie.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ai=(()=>{class de{}return de.\u0275fac=function(ce){return new(ce||de)},de.\u0275dir=v.lG2({type:de}),de})();const Be=new v.OlP("MatHint");let Ke=(()=>{class de{}return de.\u0275fac=function(ce){return new(ce||de)},de.\u0275dir=v.lG2({type:de,selectors:[["mat-label"]]}),de})(),Tt=(()=>{class de{}return de.\u0275fac=function(ce){return new(ce||de)},de.\u0275dir=v.lG2({type:de,selectors:[["mat-placeholder"]]}),de})();const en=new v.OlP("MatPrefix"),It=new v.OlP("MatSuffix");let Mt=0;const zt=(0,ne.pj)(class{constructor(de){this._elementRef=de}},"primary"),Gn=new v.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Dn=new v.OlP("MatFormField");let pt=(()=>{class de extends zt{constructor(ce,Ye,be,We,Ut,Nt,Yt){super(ce),this._changeDetectorRef=Ye,this._dir=be,this._defaults=We,this._platform=Ut,this._ngZone=Nt,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new we.xQ,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Mt++,this._labelId="mat-form-field-label-"+Mt++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==Yt,this.appearance=We?.appearance||"legacy",We&&(this._hideRequiredMarker=Boolean(We.hideRequiredMarker),We.color&&(this.color=this.defaultColor=We.color))}get appearance(){return this._appearance}set appearance(ce){var Ye;const be=this._appearance;this._appearance=ce||(null===(Ye=this._defaults)||void 0===Ye?void 0:Ye.appearance)||"legacy","outline"===this._appearance&&be!==ce&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(ce){this._hideRequiredMarker=(0,te.Ig)(ce)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(ce){this._hintLabel=ce,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(ce){ce!==this._floatLabel&&(this._floatLabel=ce||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(ce){this._explicitFormFieldControl=ce}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const ce=this._control;ce.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${ce.controlType}`),ce.stateChanges.pipe((0,ae.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),ce.ngControl&&ce.ngControl.valueChanges&&ce.ngControl.valueChanges.pipe((0,me.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,me.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,he.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,ae.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,ae.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,me.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(ce){const Ye=this._control?this._control.ngControl:null;return Ye&&Ye[ce]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,Se.R)(this._label.nativeElement,"transitionend").pipe((0,ye.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let ce=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&ce.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Ye=this._hintChildren?this._hintChildren.find(We=>"start"===We.align):null,be=this._hintChildren?this._hintChildren.find(We=>"end"===We.align):null;Ye?ce.push(Ye.id):this._hintLabel&&ce.push(this._hintLabelId),be&&ce.push(be.id)}else this._errorChildren&&ce.push(...this._errorChildren.map(Ye=>Ye.id));this._control.setDescribedByIds(ce)}}_validateControlChild(){}updateOutlineGap(){const ce=this._label?this._label.nativeElement:null,Ye=this._connectionContainerRef.nativeElement,be=".mat-form-field-outline-start",We=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!ce||!ce.children.length||!ce.textContent.trim()){const Dt=Ye.querySelectorAll(`${be}, ${We}`);for(let oi=0;oi<Dt.length;oi++)Dt[oi].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let Ut=0,Nt=0;const Yt=Ye.querySelectorAll(be),Sn=Ye.querySelectorAll(We);if(this._label&&this._label.nativeElement.children.length){const Dt=Ye.getBoundingClientRect();if(0===Dt.width&&0===Dt.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const oi=this._getStartEnd(Dt),ni=ce.children,On=this._getStartEnd(ni[0].getBoundingClientRect());let Ii=0;for(let Tn=0;Tn<ni.length;Tn++)Ii+=ni[Tn].offsetWidth;Ut=Math.abs(On-oi)-5,Nt=Ii>0?.75*Ii+10:0}for(let Dt=0;Dt<Yt.length;Dt++)Yt[Dt].style.width=`${Ut}px`;for(let Dt=0;Dt<Sn.length;Dt++)Sn[Dt].style.width=`${Nt}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(ce){return this._dir&&"rtl"===this._dir.value?ce.right:ce.left}_isAttachedToDOM(){const ce=this._elementRef.nativeElement;if(ce.getRootNode){const Ye=ce.getRootNode();return Ye&&Ye!==ce}return document.documentElement.contains(ce)}}return de.\u0275fac=function(ce){return new(ce||de)(v.Y36(v.SBq),v.Y36(v.sBO),v.Y36(C.Is,8),v.Y36(Gn,8),v.Y36(Ue.t4),v.Y36(v.R0b),v.Y36(v.QbO,8))},de.\u0275cmp=v.Xpm({type:de,selectors:[["mat-form-field"]],contentQueries:function(ce,Ye,be){if(1&ce&&(v.Suo(be,ai,5),v.Suo(be,ai,7),v.Suo(be,Ke,5),v.Suo(be,Ke,7),v.Suo(be,Tt,5),v.Suo(be,bn,5),v.Suo(be,Be,5),v.Suo(be,en,5),v.Suo(be,It,5)),2&ce){let We;v.iGM(We=v.CRH())&&(Ye._controlNonStatic=We.first),v.iGM(We=v.CRH())&&(Ye._controlStatic=We.first),v.iGM(We=v.CRH())&&(Ye._labelChildNonStatic=We.first),v.iGM(We=v.CRH())&&(Ye._labelChildStatic=We.first),v.iGM(We=v.CRH())&&(Ye._placeholderChild=We.first),v.iGM(We=v.CRH())&&(Ye._errorChildren=We),v.iGM(We=v.CRH())&&(Ye._hintChildren=We),v.iGM(We=v.CRH())&&(Ye._prefixChildren=We),v.iGM(We=v.CRH())&&(Ye._suffixChildren=We)}},viewQuery:function(ce,Ye){if(1&ce&&(v.Gf(Je,7),v.Gf(Fe,5),v.Gf(ot,5)),2&ce){let be;v.iGM(be=v.CRH())&&(Ye._connectionContainerRef=be.first),v.iGM(be=v.CRH())&&(Ye._inputContainerRef=be.first),v.iGM(be=v.CRH())&&(Ye._label=be.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(ce,Ye){2&ce&&v.ekj("mat-form-field-appearance-standard","standard"==Ye.appearance)("mat-form-field-appearance-fill","fill"==Ye.appearance)("mat-form-field-appearance-outline","outline"==Ye.appearance)("mat-form-field-appearance-legacy","legacy"==Ye.appearance)("mat-form-field-invalid",Ye._control.errorState)("mat-form-field-can-float",Ye._canLabelFloat())("mat-form-field-should-float",Ye._shouldLabelFloat())("mat-form-field-has-label",Ye._hasFloatingLabel())("mat-form-field-hide-placeholder",Ye._hideControlPlaceholder())("mat-form-field-disabled",Ye._control.disabled)("mat-form-field-autofilled",Ye._control.autofilled)("mat-focused",Ye._control.focused)("ng-untouched",Ye._shouldForward("untouched"))("ng-touched",Ye._shouldForward("touched"))("ng-pristine",Ye._shouldForward("pristine"))("ng-dirty",Ye._shouldForward("dirty"))("ng-valid",Ye._shouldForward("valid"))("ng-invalid",Ye._shouldForward("invalid"))("ng-pending",Ye._shouldForward("pending"))("_mat-animation-noopable",!Ye._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[v._Bn([{provide:Dn,useExisting:de}]),v.qOj],ngContentSelectors:Ot,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(ce,Ye){1&ce&&(v.F$t(Ge),v.TgZ(0,"div",0)(1,"div",1,2),v.NdJ("click",function(We){return Ye._control.onContainerClick&&Ye._control.onContainerClick(We)}),v.YNc(3,ht,9,0,"ng-container",3),v.YNc(4,jt,2,1,"div",4),v.TgZ(5,"div",5,6),v.Hsn(7),v.TgZ(8,"span",7),v.YNc(9,et,5,16,"label",8),v.qZA()(),v.YNc(10,Le,2,0,"div",9),v.qZA(),v.YNc(11,ft,2,4,"div",10),v.TgZ(12,"div",11),v.YNc(13,tt,2,1,"div",12),v.YNc(14,Lt,5,2,"div",13),v.qZA()()),2&ce&&(v.xp6(3),v.Q6J("ngIf","outline"==Ye.appearance),v.xp6(1),v.Q6J("ngIf",Ye._prefixChildren.length),v.xp6(5),v.Q6J("ngIf",Ye._hasFloatingLabel()),v.xp6(1),v.Q6J("ngIf",Ye._suffixChildren.length),v.xp6(1),v.Q6J("ngIf","outline"!=Ye.appearance),v.xp6(1),v.Q6J("ngSwitch",Ye._getDisplayedMessages()),v.xp6(1),v.Q6J("ngSwitchCase","error"),v.xp6(1),v.Q6J("ngSwitchCase","hint"))},dependencies:[N.O5,N.RF,N.n9,p.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[jn.transitionMessages]},changeDetection:0}),de})(),J=(()=>{class de{}return de.\u0275fac=function(ce){return new(ce||de)},de.\u0275mod=v.oAB({type:de}),de.\u0275inj=v.cJS({imports:[N.ez,ne.BQ,p.Q8,ne.BQ]}),de})()},3336:(gn,_t,x)=>{"use strict";x.d(_t,{Hw:()=>He,Ps:()=>Ve});var p=x(4650),N=x(3238),v=x(1281),ne=x(6895),C=x(1086),te=x(1737),we=x(567),he=x(2654),Se=x(2868),ae=x(4850),me=x(7221),ye=x(537),Ie=x(2474),Ue=x(2986),Je=x(1406),Fe=x(2198);class ot{}class jt{constructor(De){this.normalizedNames=new Map,this.lazyUpdate=null,De?this.lazyInit="string"==typeof De?()=>{this.headers=new Map,De.split("\n").forEach(Ce=>{const rt=Ce.indexOf(":");if(rt>0){const Vt=Ce.slice(0,rt),sn=Vt.toLowerCase(),Yn=Ce.slice(rt+1).trim();this.maybeSetNormalizedName(Vt,sn),this.headers.has(sn)?this.headers.get(sn).push(Yn):this.headers.set(sn,[Yn])}})}:()=>{this.headers=new Map,Object.keys(De).forEach(Ce=>{let rt=De[Ce];const Vt=Ce.toLowerCase();"string"==typeof rt&&(rt=[rt]),rt.length>0&&(this.headers.set(Vt,rt),this.maybeSetNormalizedName(Ce,Vt))})}:this.headers=new Map}has(De){return this.init(),this.headers.has(De.toLowerCase())}get(De){this.init();const Ce=this.headers.get(De.toLowerCase());return Ce&&Ce.length>0?Ce[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(De){return this.init(),this.headers.get(De.toLowerCase())||null}append(De,Ce){return this.clone({name:De,value:Ce,op:"a"})}set(De,Ce){return this.clone({name:De,value:Ce,op:"s"})}delete(De,Ce){return this.clone({name:De,value:Ce,op:"d"})}maybeSetNormalizedName(De,Ce){this.normalizedNames.has(Ce)||this.normalizedNames.set(Ce,De)}init(){this.lazyInit&&(this.lazyInit instanceof jt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(De=>this.applyUpdate(De)),this.lazyUpdate=null))}copyFrom(De){De.init(),Array.from(De.headers.keys()).forEach(Ce=>{this.headers.set(Ce,De.headers.get(Ce)),this.normalizedNames.set(Ce,De.normalizedNames.get(Ce))})}clone(De){const Ce=new jt;return Ce.lazyInit=this.lazyInit&&this.lazyInit instanceof jt?this.lazyInit:this,Ce.lazyUpdate=(this.lazyUpdate||[]).concat([De]),Ce}applyUpdate(De){const Ce=De.name.toLowerCase();switch(De.op){case"a":case"s":let rt=De.value;if("string"==typeof rt&&(rt=[rt]),0===rt.length)return;this.maybeSetNormalizedName(De.name,Ce);const Vt=("a"===De.op?this.headers.get(Ce):void 0)||[];Vt.push(...rt),this.headers.set(Ce,Vt);break;case"d":const sn=De.value;if(sn){let Yn=this.headers.get(Ce);if(!Yn)return;Yn=Yn.filter(Pn=>-1===sn.indexOf(Pn)),0===Yn.length?(this.headers.delete(Ce),this.normalizedNames.delete(Ce)):this.headers.set(Ce,Yn)}else this.headers.delete(Ce),this.normalizedNames.delete(Ce)}}forEach(De){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ce=>De(this.normalizedNames.get(Ce),this.headers.get(Ce)))}}class kt{encodeKey(De){return ft(De)}encodeValue(De){return ft(De)}decodeKey(De){return decodeURIComponent(De)}decodeValue(De){return decodeURIComponent(De)}}const et=/%(\d[a-f0-9])/gi,Le={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ft(je){return encodeURIComponent(je).replace(et,(De,Ce)=>{var rt;return null!==(rt=Le[Ce])&&void 0!==rt?rt:De})}function tt(je){return`${je}`}class qe{constructor(De={}){if(this.updates=null,this.cloneFrom=null,this.encoder=De.encoder||new kt,De.fromString){if(De.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function vt(je,De){const Ce=new Map;return je.length>0&&je.replace(/^\?/,"").split("&").forEach(Vt=>{const sn=Vt.indexOf("="),[Yn,Pn]=-1==sn?[De.decodeKey(Vt),""]:[De.decodeKey(Vt.slice(0,sn)),De.decodeValue(Vt.slice(sn+1))],pi=Ce.get(Yn)||[];pi.push(Pn),Ce.set(Yn,pi)}),Ce}(De.fromString,this.encoder)}else De.fromObject?(this.map=new Map,Object.keys(De.fromObject).forEach(Ce=>{const rt=De.fromObject[Ce],Vt=Array.isArray(rt)?rt.map(tt):[tt(rt)];this.map.set(Ce,Vt)})):this.map=null}has(De){return this.init(),this.map.has(De)}get(De){this.init();const Ce=this.map.get(De);return Ce?Ce[0]:null}getAll(De){return this.init(),this.map.get(De)||null}keys(){return this.init(),Array.from(this.map.keys())}append(De,Ce){return this.clone({param:De,value:Ce,op:"a"})}appendAll(De){const Ce=[];return Object.keys(De).forEach(rt=>{const Vt=De[rt];Array.isArray(Vt)?Vt.forEach(sn=>{Ce.push({param:rt,value:sn,op:"a"})}):Ce.push({param:rt,value:Vt,op:"a"})}),this.clone(Ce)}set(De,Ce){return this.clone({param:De,value:Ce,op:"s"})}delete(De,Ce){return this.clone({param:De,value:Ce,op:"d"})}toString(){return this.init(),this.keys().map(De=>{const Ce=this.encoder.encodeKey(De);return this.map.get(De).map(rt=>Ce+"="+this.encoder.encodeValue(rt)).join("&")}).filter(De=>""!==De).join("&")}clone(De){const Ce=new qe({encoder:this.encoder});return Ce.cloneFrom=this.cloneFrom||this,Ce.updates=(this.updates||[]).concat(De),Ce}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(De=>this.map.set(De,this.cloneFrom.map.get(De))),this.updates.forEach(De=>{switch(De.op){case"a":case"s":const Ce=("a"===De.op?this.map.get(De.param):void 0)||[];Ce.push(tt(De.value)),this.map.set(De.param,Ce);break;case"d":if(void 0===De.value){this.map.delete(De.param);break}{let rt=this.map.get(De.param)||[];const Vt=rt.indexOf(tt(De.value));-1!==Vt&&rt.splice(Vt,1),rt.length>0?this.map.set(De.param,rt):this.map.delete(De.param)}}}),this.cloneFrom=this.updates=null)}}class Ge{constructor(){this.map=new Map}set(De,Ce){return this.map.set(De,Ce),this}get(De){return this.map.has(De)||this.map.set(De,De.defaultValue()),this.map.get(De)}delete(De){return this.map.delete(De),this}has(De){return this.map.has(De)}keys(){return this.map.keys()}}function Bt(je){return typeof ArrayBuffer<"u"&&je instanceof ArrayBuffer}function bn(je){return typeof Blob<"u"&&je instanceof Blob}function qn(je){return typeof FormData<"u"&&je instanceof FormData}class ai{constructor(De,Ce,rt,Vt){let sn;if(this.url=Ce,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=De.toUpperCase(),function Ot(je){switch(je){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Vt?(this.body=void 0!==rt?rt:null,sn=Vt):sn=rt,sn&&(this.reportProgress=!!sn.reportProgress,this.withCredentials=!!sn.withCredentials,sn.responseType&&(this.responseType=sn.responseType),sn.headers&&(this.headers=sn.headers),sn.context&&(this.context=sn.context),sn.params&&(this.params=sn.params)),this.headers||(this.headers=new jt),this.context||(this.context=new Ge),this.params){const Yn=this.params.toString();if(0===Yn.length)this.urlWithParams=Ce;else{const Pn=Ce.indexOf("?");this.urlWithParams=Ce+(-1===Pn?"?":Pn<Ce.length-1?"&":"")+Yn}}else this.params=new qe,this.urlWithParams=Ce}serializeBody(){return null===this.body?null:Bt(this.body)||bn(this.body)||qn(this.body)||function jn(je){return typeof URLSearchParams<"u"&&je instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof qe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||qn(this.body)?null:bn(this.body)?this.body.type||null:Bt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(De={}){var Ce;const rt=De.method||this.method,Vt=De.url||this.url,sn=De.responseType||this.responseType,Yn=void 0!==De.body?De.body:this.body,Pn=void 0!==De.withCredentials?De.withCredentials:this.withCredentials,pi=void 0!==De.reportProgress?De.reportProgress:this.reportProgress;let Xi=De.headers||this.headers,pr=De.params||this.params;const dr=null!==(Ce=De.context)&&void 0!==Ce?Ce:this.context;return void 0!==De.setHeaders&&(Xi=Object.keys(De.setHeaders).reduce((Wi,nr)=>Wi.set(nr,De.setHeaders[nr]),Xi)),De.setParams&&(pr=Object.keys(De.setParams).reduce((Wi,nr)=>Wi.set(nr,De.setParams[nr]),pr)),new ai(rt,Vt,Yn,{params:pr,headers:Xi,context:dr,reportProgress:pi,responseType:sn,withCredentials:Pn})}}var Vn=(()=>((Vn=Vn||{})[Vn.Sent=0]="Sent",Vn[Vn.UploadProgress=1]="UploadProgress",Vn[Vn.ResponseHeader=2]="ResponseHeader",Vn[Vn.DownloadProgress=3]="DownloadProgress",Vn[Vn.Response=4]="Response",Vn[Vn.User=5]="User",Vn))();class ke extends class rn{constructor(De,Ce=200,rt="OK"){this.headers=De.headers||new jt,this.status=void 0!==De.status?De.status:Ce,this.statusText=De.statusText||rt,this.url=De.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(De={}){super(De),this.type=Vn.Response,this.body=void 0!==De.body?De.body:null}clone(De={}){return new ke({body:void 0!==De.body?De.body:this.body,headers:De.headers||this.headers,status:void 0!==De.status?De.status:this.status,statusText:De.statusText||this.statusText,url:De.url||this.url||void 0})}}function Ne(je,De){return{body:De,headers:je.headers,context:je.context,observe:je.observe,params:je.params,reportProgress:je.reportProgress,responseType:je.responseType,withCredentials:je.withCredentials}}let Ke=(()=>{class je{constructor(Ce){this.handler=Ce}request(Ce,rt,Vt={}){let sn;if(Ce instanceof ai)sn=Ce;else{let pi,Xi;pi=Vt.headers instanceof jt?Vt.headers:new jt(Vt.headers),Vt.params&&(Xi=Vt.params instanceof qe?Vt.params:new qe({fromObject:Vt.params})),sn=new ai(Ce,rt,void 0!==Vt.body?Vt.body:null,{headers:pi,context:Vt.context,params:Xi,reportProgress:Vt.reportProgress,responseType:Vt.responseType||"json",withCredentials:Vt.withCredentials})}const Yn=(0,C.of)(sn).pipe((0,Je.b)(pi=>this.handler.handle(pi)));if(Ce instanceof ai||"events"===Vt.observe)return Yn;const Pn=Yn.pipe((0,Fe.h)(pi=>pi instanceof ke));switch(Vt.observe||"body"){case"body":switch(sn.responseType){case"arraybuffer":return Pn.pipe((0,ae.U)(pi=>{if(null!==pi.body&&!(pi.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return pi.body}));case"blob":return Pn.pipe((0,ae.U)(pi=>{if(null!==pi.body&&!(pi.body instanceof Blob))throw new Error("Response is not a Blob.");return pi.body}));case"text":return Pn.pipe((0,ae.U)(pi=>{if(null!==pi.body&&"string"!=typeof pi.body)throw new Error("Response is not a string.");return pi.body}));default:return Pn.pipe((0,ae.U)(pi=>pi.body))}case"response":return Pn;default:throw new Error(`Unreachable: unhandled observe type ${Vt.observe}}`)}}delete(Ce,rt={}){return this.request("DELETE",Ce,rt)}get(Ce,rt={}){return this.request("GET",Ce,rt)}head(Ce,rt={}){return this.request("HEAD",Ce,rt)}jsonp(Ce,rt){return this.request("JSONP",Ce,{params:(new qe).append(rt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ce,rt={}){return this.request("OPTIONS",Ce,rt)}patch(Ce,rt,Vt={}){return this.request("PATCH",Ce,Ne(Vt,rt))}post(Ce,rt,Vt={}){return this.request("POST",Ce,Ne(Vt,rt))}put(Ce,rt,Vt={}){return this.request("PUT",Ce,Ne(Vt,rt))}}return je.\u0275fac=function(Ce){return new(Ce||je)(p.LFG(ot))},je.\u0275prov=p.Yz7({token:je,factory:je.\u0275fac}),je})();var Ii=x(1481);const Tn=["*"];let Wt;function Et(je){var De;return(null===(De=function gt(){if(void 0===Wt&&(Wt=null,typeof window<"u")){const je=window;void 0!==je.trustedTypes&&(Wt=je.trustedTypes.createPolicy("angular#components",{createHTML:De=>De}))}return Wt}())||void 0===De?void 0:De.createHTML(je))||je}function ln(je){return Error(`Unable to find icon with the name "${je}"`)}function lt(je){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${je}".`)}function st(je){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${je}".`)}class Xe{constructor(De,Ce,rt){this.url=De,this.svgText=Ce,this.options=rt}}let St=(()=>{class je{constructor(Ce,rt,Vt,sn){this._httpClient=Ce,this._sanitizer=rt,this._errorHandler=sn,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Vt}addSvgIcon(Ce,rt,Vt){return this.addSvgIconInNamespace("",Ce,rt,Vt)}addSvgIconLiteral(Ce,rt,Vt){return this.addSvgIconLiteralInNamespace("",Ce,rt,Vt)}addSvgIconInNamespace(Ce,rt,Vt,sn){return this._addSvgIconConfig(Ce,rt,new Xe(Vt,null,sn))}addSvgIconResolver(Ce){return this._resolvers.push(Ce),this}addSvgIconLiteralInNamespace(Ce,rt,Vt,sn){const Yn=this._sanitizer.sanitize(p.q3G.HTML,Vt);if(!Yn)throw st(Vt);const Pn=Et(Yn);return this._addSvgIconConfig(Ce,rt,new Xe("",Pn,sn))}addSvgIconSet(Ce,rt){return this.addSvgIconSetInNamespace("",Ce,rt)}addSvgIconSetLiteral(Ce,rt){return this.addSvgIconSetLiteralInNamespace("",Ce,rt)}addSvgIconSetInNamespace(Ce,rt,Vt){return this._addSvgIconSetConfig(Ce,new Xe(rt,null,Vt))}addSvgIconSetLiteralInNamespace(Ce,rt,Vt){const sn=this._sanitizer.sanitize(p.q3G.HTML,rt);if(!sn)throw st(rt);const Yn=Et(sn);return this._addSvgIconSetConfig(Ce,new Xe("",Yn,Vt))}registerFontClassAlias(Ce,rt=Ce){return this._fontCssClassesByAlias.set(Ce,rt),this}classNameForFontAlias(Ce){return this._fontCssClassesByAlias.get(Ce)||Ce}setDefaultFontSetClass(...Ce){return this._defaultFontSetClass=Ce,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(Ce){const rt=this._sanitizer.sanitize(p.q3G.RESOURCE_URL,Ce);if(!rt)throw lt(Ce);const Vt=this._cachedIconsByUrl.get(rt);return Vt?(0,C.of)(j(Vt)):this._loadSvgIconFromConfig(new Xe(Ce,null)).pipe((0,Se.b)(sn=>this._cachedIconsByUrl.set(rt,sn)),(0,ae.U)(sn=>j(sn)))}getNamedSvgIcon(Ce,rt=""){const Vt=G(rt,Ce);let sn=this._svgIconConfigs.get(Vt);if(sn)return this._getSvgFromConfig(sn);if(sn=this._getIconConfigFromResolvers(rt,Ce),sn)return this._svgIconConfigs.set(Vt,sn),this._getSvgFromConfig(sn);const Yn=this._iconSetConfigs.get(rt);return Yn?this._getSvgFromIconSetConfigs(Ce,Yn):(0,te._)(ln(Vt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(Ce){return Ce.svgText?(0,C.of)(j(this._svgElementFromConfig(Ce))):this._loadSvgIconFromConfig(Ce).pipe((0,ae.U)(rt=>j(rt)))}_getSvgFromIconSetConfigs(Ce,rt){const Vt=this._extractIconWithNameFromAnySet(Ce,rt);if(Vt)return(0,C.of)(Vt);const sn=rt.filter(Yn=>!Yn.svgText).map(Yn=>this._loadSvgIconSetFromConfig(Yn).pipe((0,me.K)(Pn=>{const Xi=`Loading icon set URL: ${this._sanitizer.sanitize(p.q3G.RESOURCE_URL,Yn.url)} failed: ${Pn.message}`;return this._errorHandler.handleError(new Error(Xi)),(0,C.of)(null)})));return(0,we.D)(sn).pipe((0,ae.U)(()=>{const Yn=this._extractIconWithNameFromAnySet(Ce,rt);if(!Yn)throw ln(Ce);return Yn}))}_extractIconWithNameFromAnySet(Ce,rt){for(let Vt=rt.length-1;Vt>=0;Vt--){const sn=rt[Vt];if(sn.svgText&&sn.svgText.toString().indexOf(Ce)>-1){const Yn=this._svgElementFromConfig(sn),Pn=this._extractSvgIconFromSet(Yn,Ce,sn.options);if(Pn)return Pn}}return null}_loadSvgIconFromConfig(Ce){return this._fetchIcon(Ce).pipe((0,Se.b)(rt=>Ce.svgText=rt),(0,ae.U)(()=>this._svgElementFromConfig(Ce)))}_loadSvgIconSetFromConfig(Ce){return Ce.svgText?(0,C.of)(null):this._fetchIcon(Ce).pipe((0,Se.b)(rt=>Ce.svgText=rt))}_extractSvgIconFromSet(Ce,rt,Vt){const sn=Ce.querySelector(`[id="${rt}"]`);if(!sn)return null;const Yn=sn.cloneNode(!0);if(Yn.removeAttribute("id"),"svg"===Yn.nodeName.toLowerCase())return this._setSvgAttributes(Yn,Vt);if("symbol"===Yn.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Yn),Vt);const Pn=this._svgElementFromString(Et("<svg></svg>"));return Pn.appendChild(Yn),this._setSvgAttributes(Pn,Vt)}_svgElementFromString(Ce){const rt=this._document.createElement("DIV");rt.innerHTML=Ce;const Vt=rt.querySelector("svg");if(!Vt)throw Error("<svg> tag not found");return Vt}_toSvgElement(Ce){const rt=this._svgElementFromString(Et("<svg></svg>")),Vt=Ce.attributes;for(let sn=0;sn<Vt.length;sn++){const{name:Yn,value:Pn}=Vt[sn];"id"!==Yn&&rt.setAttribute(Yn,Pn)}for(let sn=0;sn<Ce.childNodes.length;sn++)Ce.childNodes[sn].nodeType===this._document.ELEMENT_NODE&&rt.appendChild(Ce.childNodes[sn].cloneNode(!0));return rt}_setSvgAttributes(Ce,rt){return Ce.setAttribute("fit",""),Ce.setAttribute("height","100%"),Ce.setAttribute("width","100%"),Ce.setAttribute("preserveAspectRatio","xMidYMid meet"),Ce.setAttribute("focusable","false"),rt&&rt.viewBox&&Ce.setAttribute("viewBox",rt.viewBox),Ce}_fetchIcon(Ce){var rt;const{url:Vt,options:sn}=Ce,Yn=null!==(rt=sn?.withCredentials)&&void 0!==rt&&rt;if(!this._httpClient)throw function fn(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==Vt)throw Error(`Cannot fetch icon from URL "${Vt}".`);const Pn=this._sanitizer.sanitize(p.q3G.RESOURCE_URL,Vt);if(!Pn)throw lt(Vt);const pi=this._inProgressUrlFetches.get(Pn);if(pi)return pi;const Xi=this._httpClient.get(Pn,{responseType:"text",withCredentials:Yn}).pipe((0,ae.U)(pr=>Et(pr)),(0,ye.x)(()=>this._inProgressUrlFetches.delete(Pn)),(0,Ie.B)());return this._inProgressUrlFetches.set(Pn,Xi),Xi}_addSvgIconConfig(Ce,rt,Vt){return this._svgIconConfigs.set(G(Ce,rt),Vt),this}_addSvgIconSetConfig(Ce,rt){const Vt=this._iconSetConfigs.get(Ce);return Vt?Vt.push(rt):this._iconSetConfigs.set(Ce,[rt]),this}_svgElementFromConfig(Ce){if(!Ce.svgElement){const rt=this._svgElementFromString(Ce.svgText);this._setSvgAttributes(rt,Ce.options),Ce.svgElement=rt}return Ce.svgElement}_getIconConfigFromResolvers(Ce,rt){for(let Vt=0;Vt<this._resolvers.length;Vt++){const sn=this._resolvers[Vt](rt,Ce);if(sn)return X(sn)?new Xe(sn.url,null,sn.options):new Xe(sn,null)}}}return je.\u0275fac=function(Ce){return new(Ce||je)(p.LFG(Ke,8),p.LFG(Ii.H7),p.LFG(ne.K0,8),p.LFG(p.qLn))},je.\u0275prov=p.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})();function j(je){return je.cloneNode(!0)}function G(je,De){return je+":"+De}function X(je){return!(!je.url||!je.options)}const K=(0,N.pj)(class{constructor(je){this._elementRef=je}}),fe=new p.OlP("MAT_ICON_DEFAULT_OPTIONS"),Qe=new p.OlP("mat-icon-location",{providedIn:"root",factory:function Ct(){const je=(0,p.f3M)(ne.K0),De=je?je.location:null;return{getPathname:()=>De?De.pathname+De.search:""}}}),dn=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],pn=dn.map(je=>`[${je}]`).join(", "),ze=/^url\(['"]?#(.*?)['"]?\)$/;let He=(()=>{class je extends K{constructor(Ce,rt,Vt,sn,Yn,Pn){super(Ce),this._iconRegistry=rt,this._location=sn,this._errorHandler=Yn,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=he.w.EMPTY,Pn&&(Pn.color&&(this.color=this.defaultColor=Pn.color),Pn.fontSet&&(this.fontSet=Pn.fontSet)),Vt||Ce.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(Ce){this._inline=(0,v.Ig)(Ce)}get svgIcon(){return this._svgIcon}set svgIcon(Ce){Ce!==this._svgIcon&&(Ce?this._updateSvgIcon(Ce):this._svgIcon&&this._clearSvgElement(),this._svgIcon=Ce)}get fontSet(){return this._fontSet}set fontSet(Ce){const rt=this._cleanupFontValue(Ce);rt!==this._fontSet&&(this._fontSet=rt,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(Ce){const rt=this._cleanupFontValue(Ce);rt!==this._fontIcon&&(this._fontIcon=rt,this._updateFontIconClasses())}_splitIconName(Ce){if(!Ce)return["",""];const rt=Ce.split(":");switch(rt.length){case 1:return["",rt[0]];case 2:return rt;default:throw Error(`Invalid icon name: "${Ce}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const Ce=this._elementsWithExternalReferences;if(Ce&&Ce.size){const rt=this._location.getPathname();rt!==this._previousPath&&(this._previousPath=rt,this._prependPathToReferences(rt))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(Ce){this._clearSvgElement();const rt=this._location.getPathname();this._previousPath=rt,this._cacheChildrenWithExternalReferences(Ce),this._prependPathToReferences(rt),this._elementRef.nativeElement.appendChild(Ce)}_clearSvgElement(){const Ce=this._elementRef.nativeElement;let rt=Ce.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();rt--;){const Vt=Ce.childNodes[rt];(1!==Vt.nodeType||"svg"===Vt.nodeName.toLowerCase())&&Vt.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const Ce=this._elementRef.nativeElement,rt=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Vt=>Vt.length>0);this._previousFontSetClass.forEach(Vt=>Ce.classList.remove(Vt)),rt.forEach(Vt=>Ce.classList.add(Vt)),this._previousFontSetClass=rt,this.fontIcon!==this._previousFontIconClass&&!rt.includes("mat-ligature-font")&&(this._previousFontIconClass&&Ce.classList.remove(this._previousFontIconClass),this.fontIcon&&Ce.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(Ce){return"string"==typeof Ce?Ce.trim().split(" ")[0]:Ce}_prependPathToReferences(Ce){const rt=this._elementsWithExternalReferences;rt&&rt.forEach((Vt,sn)=>{Vt.forEach(Yn=>{sn.setAttribute(Yn.name,`url('${Ce}#${Yn.value}')`)})})}_cacheChildrenWithExternalReferences(Ce){const rt=Ce.querySelectorAll(pn),Vt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let sn=0;sn<rt.length;sn++)dn.forEach(Yn=>{const Pn=rt[sn],pi=Pn.getAttribute(Yn),Xi=pi?pi.match(ze):null;if(Xi){let pr=Vt.get(Pn);pr||(pr=[],Vt.set(Pn,pr)),pr.push({name:Yn,value:Xi[1]})}})}_updateSvgIcon(Ce){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),Ce){const[rt,Vt]=this._splitIconName(Ce);rt&&(this._svgNamespace=rt),Vt&&(this._svgName=Vt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Vt,rt).pipe((0,Ue.q)(1)).subscribe(sn=>this._setSvgElement(sn),sn=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${rt}:${Vt}! ${sn.message}`))})}}}return je.\u0275fac=function(Ce){return new(Ce||je)(p.Y36(p.SBq),p.Y36(St),p.$8M("aria-hidden"),p.Y36(Qe),p.Y36(p.qLn),p.Y36(fe,8))},je.\u0275cmp=p.Xpm({type:je,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(Ce,rt){2&Ce&&(p.uIk("data-mat-icon-type",rt._usingFontIcon()?"font":"svg")("data-mat-icon-name",rt._svgName||rt.fontIcon)("data-mat-icon-namespace",rt._svgNamespace||rt.fontSet)("fontIcon",rt._usingFontIcon()?rt.fontIcon:null),p.ekj("mat-icon-inline",rt.inline)("mat-icon-no-color","primary"!==rt.color&&"accent"!==rt.color&&"warn"!==rt.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[p.qOj],ngContentSelectors:Tn,decls:1,vars:0,template:function(Ce,rt){1&Ce&&(p.F$t(),p.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),je})(),Ve=(()=>{class je{}return je.\u0275fac=function(Ce){return new(Ce||je)},je.\u0275mod=p.oAB({type:je}),je.\u0275inj=p.cJS({imports:[N.BQ,N.BQ]}),je})()},4144:(gn,_t,x)=>{"use strict";x.d(_t,{Jk:()=>Je,Nt:()=>jt,c:()=>ut});var p=x(1281),N=x(3353),v=x(4650),ne=x(8896),C=x(8929);const te=(0,N.i$)({passive:!0});let we=(()=>{class kt{constructor(et,Le){this._platform=et,this._ngZone=Le,this._monitoredElements=new Map}monitor(et){if(!this._platform.isBrowser)return ne.E;const Le=(0,p.fI)(et),ft=this._monitoredElements.get(Le);if(ft)return ft.subject;const tt=new C.xQ,qe="cdk-text-field-autofilled",Lt=Ge=>{"cdk-text-field-autofill-start"!==Ge.animationName||Le.classList.contains(qe)?"cdk-text-field-autofill-end"===Ge.animationName&&Le.classList.contains(qe)&&(Le.classList.remove(qe),this._ngZone.run(()=>tt.next({target:Ge.target,isAutofilled:!1}))):(Le.classList.add(qe),this._ngZone.run(()=>tt.next({target:Ge.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{Le.addEventListener("animationstart",Lt,te),Le.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(Le,{subject:tt,unlisten:()=>{Le.removeEventListener("animationstart",Lt,te)}}),tt}stopMonitoring(et){const Le=(0,p.fI)(et),ft=this._monitoredElements.get(Le);ft&&(ft.unlisten(),ft.subject.complete(),Le.classList.remove("cdk-text-field-autofill-monitored"),Le.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(Le))}ngOnDestroy(){this._monitoredElements.forEach((et,Le)=>this.stopMonitoring(Le))}}return kt.\u0275fac=function(et){return new(et||kt)(v.LFG(N.t4),v.LFG(v.R0b))},kt.\u0275prov=v.Yz7({token:kt,factory:kt.\u0275fac,providedIn:"root"}),kt})(),ae=(()=>{class kt{}return kt.\u0275fac=function(et){return new(et||kt)},kt.\u0275mod=v.oAB({type:kt}),kt.\u0275inj=v.cJS({}),kt})();var me=x(4006),ye=x(3238),Ie=x(9549);const Je=new v.OlP("MAT_INPUT_VALUE_ACCESSOR"),Fe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let ot=0;const ht=(0,ye.FD)(class{constructor(kt,vt,et,Le){this._defaultErrorStateMatcher=kt,this._parentForm=vt,this._parentFormGroup=et,this.ngControl=Le,this.stateChanges=new C.xQ}});let jt=(()=>{class kt extends ht{constructor(et,Le,ft,tt,qe,Lt,Ge,Ot,Bt,bn){super(Lt,tt,qe,ft),this._elementRef=et,this._platform=Le,this._autofillMonitor=Ot,this._formField=bn,this._uid="mat-input-"+ot++,this.focused=!1,this.stateChanges=new C.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ai=>(0,N.qK)().has(ai)),this._iOSKeyupListener=ai=>{const Vn=ai.target;!Vn.value&&0===Vn.selectionStart&&0===Vn.selectionEnd&&(Vn.setSelectionRange(1,1),Vn.setSelectionRange(0,0))};const qn=this._elementRef.nativeElement,jn=qn.nodeName.toLowerCase();this._inputValueAccessor=Ge||qn,this._previousNativeValue=this.value,this.id=this.id,Le.IOS&&Bt.runOutsideAngular(()=>{et.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===jn,this._isTextarea="textarea"===jn,this._isInFormField=!!bn,this._isNativeSelect&&(this.controlType=qn.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(et){this._disabled=(0,p.Ig)(et),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(et){this._id=et||this._uid}get required(){var et,Le,ft,tt;return null!==(et=null!==(Le=this._required)&&void 0!==Le?Le:null===(ft=this.ngControl)||void 0===ft||null===(tt=ft.control)||void 0===tt?void 0:tt.hasValidator(me.kI.required))&&void 0!==et&&et}set required(et){this._required=(0,p.Ig)(et)}get type(){return this._type}set type(et){this._type=et||"text",this._validateType(),!this._isTextarea&&(0,N.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(et){et!==this.value&&(this._inputValueAccessor.value=et,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(et){this._readonly=(0,p.Ig)(et)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(et=>{this.autofilled=et.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(et){this._elementRef.nativeElement.focus(et)}_focusChanged(et){et!==this.focused&&(this.focused=et,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var et;const Le=this._formField,ft=!Le||"legacy"!==Le.appearance||null!==(et=Le._hasLabel)&&void 0!==et&&et.call(Le)?this.placeholder:null;if(ft!==this._previousPlaceholder){const tt=this._elementRef.nativeElement;this._previousPlaceholder=ft,ft?tt.setAttribute("placeholder",ft):tt.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const et=this._elementRef.nativeElement.value;this._previousNativeValue!==et&&(this._previousNativeValue=et,this.stateChanges.next())}_validateType(){Fe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let et=this._elementRef.nativeElement.validity;return et&&et.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const et=this._elementRef.nativeElement,Le=et.options[0];return this.focused||et.multiple||!this.empty||!!(et.selectedIndex>-1&&Le&&Le.label)}return this.focused||!this.empty}setDescribedByIds(et){et.length?this._elementRef.nativeElement.setAttribute("aria-describedby",et.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const et=this._elementRef.nativeElement;return this._isNativeSelect&&(et.multiple||et.size>1)}}return kt.\u0275fac=function(et){return new(et||kt)(v.Y36(v.SBq),v.Y36(N.t4),v.Y36(me.a5,10),v.Y36(me.F,8),v.Y36(me.sg,8),v.Y36(ye.rD),v.Y36(Je,10),v.Y36(we),v.Y36(v.R0b),v.Y36(Ie.G_,8))},kt.\u0275dir=v.lG2({type:kt,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(et,Le){1&et&&v.NdJ("focus",function(){return Le._focusChanged(!0)})("blur",function(){return Le._focusChanged(!1)})("input",function(){return Le._onInput()}),2&et&&(v.Ikx("disabled",Le.disabled)("required",Le.required),v.uIk("id",Le.id)("data-placeholder",Le.placeholder)("name",Le.name||null)("readonly",Le.readonly&&!Le._isNativeSelect||null)("aria-invalid",Le.empty&&Le.required?null:Le.errorState)("aria-required",Le.required),v.ekj("mat-input-server",Le._isServer)("mat-native-select-inline",Le._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[v._Bn([{provide:Ie.Eo,useExisting:kt}]),v.qOj,v.TTD]}),kt})(),ut=(()=>{class kt{}return kt.\u0275fac=function(et){return new(et||kt)},kt.\u0275mod=v.oAB({type:kt}),kt.\u0275inj=v.cJS({providers:[ye.rD],imports:[ae,Ie.lN,ye.BQ,ae,Ie.lN]}),kt})()},8255:(gn,_t,x)=>{"use strict";x.d(_t,{Tx:()=>Gn,VK:()=>en,p6:()=>zt});var p=x(2687),N=x(1281),v=x(9521),ne=x(4650),C=x(8929),te=x(2654),we=x(6787),he=x(1086),Se=x(8139),ae=x(1059),me=x(7545),ye=x(2986),Ie=x(7625),Ue=x(2198),Je=x(8583),Fe=x(7340),ot=x(4080),ht=x(6895),jt=x(3238),ut=x(445),kt=x(8184),vt=x(3353),et=x(2556);const Le=["mat-menu-item",""];function ft(Dn,pt){1&Dn&&(ne.O4$(),ne.TgZ(0,"svg",2),ne._UZ(1,"polygon",3),ne.qZA())}const tt=["*"];function qe(Dn,pt){if(1&Dn){const J=ne.EpF();ne.TgZ(0,"div",0),ne.NdJ("keydown",function(Pe){ne.CHM(J);const ce=ne.oxw();return ne.KtG(ce._handleKeydown(Pe))})("click",function(){ne.CHM(J);const Pe=ne.oxw();return ne.KtG(Pe.closed.emit("click"))})("@transformMenu.start",function(Pe){ne.CHM(J);const ce=ne.oxw();return ne.KtG(ce._onAnimationStart(Pe))})("@transformMenu.done",function(Pe){ne.CHM(J);const ce=ne.oxw();return ne.KtG(ce._onAnimationDone(Pe))}),ne.TgZ(1,"div",1),ne.Hsn(2),ne.qZA()()}if(2&Dn){const J=ne.oxw();ne.Q6J("id",J.panelId)("ngClass",J._classList)("@transformMenu",J._panelAnimationState),ne.uIk("aria-label",J.ariaLabel||null)("aria-labelledby",J.ariaLabelledby||null)("aria-describedby",J.ariaDescribedby||null)}}const Lt={transformMenu:(0,Fe.X$)("transformMenu",[(0,Fe.SB)("void",(0,Fe.oB)({opacity:0,transform:"scale(0.8)"})),(0,Fe.eR)("void => enter",(0,Fe.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Fe.oB)({opacity:1,transform:"scale(1)"}))),(0,Fe.eR)("* => void",(0,Fe.jt)("100ms 25ms linear",(0,Fe.oB)({opacity:0})))]),fadeInItems:(0,Fe.X$)("fadeInItems",[(0,Fe.SB)("showing",(0,Fe.oB)({opacity:1})),(0,Fe.eR)("void => *",[(0,Fe.oB)({opacity:0}),(0,Fe.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Bt=new ne.OlP("MatMenuContent"),rn=new ne.OlP("MAT_MENU_PANEL"),_n=(0,jt.Kr)((0,jt.Id)(class{}));let ke=(()=>{class Dn extends _n{constructor(J,de,Pe,ce,Ye){var be;super(),this._elementRef=J,this._document=de,this._focusMonitor=Pe,this._parentMenu=ce,this._changeDetectorRef=Ye,this.role="menuitem",this._hovered=new C.xQ,this._focused=new C.xQ,this._highlighted=!1,this._triggersSubmenu=!1,null==ce||null===(be=ce.addItem)||void 0===be||be.call(ce,this)}focus(J,de){this._focusMonitor&&J?this._focusMonitor.focusVia(this._getHostElement(),J,de):this._getHostElement().focus(de),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(J){this.disabled&&(J.preventDefault(),J.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var J;const de=this._elementRef.nativeElement.cloneNode(!0),Pe=de.querySelectorAll("mat-icon, .material-icons");for(let ce=0;ce<Pe.length;ce++)Pe[ce].remove();return(null===(J=de.textContent)||void 0===J?void 0:J.trim())||""}_setHighlighted(J){var de;this._highlighted=J,null===(de=this._changeDetectorRef)||void 0===de||de.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return Dn.\u0275fac=function(J){return new(J||Dn)(ne.Y36(ne.SBq),ne.Y36(ht.K0),ne.Y36(p.tE),ne.Y36(rn,8),ne.Y36(ne.sBO))},Dn.\u0275cmp=ne.Xpm({type:Dn,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(J,de){1&J&&ne.NdJ("click",function(ce){return de._checkDisabled(ce)})("mouseenter",function(){return de._handleMouseEnter()}),2&J&&(ne.uIk("role",de.role)("tabindex",de._getTabIndex())("aria-disabled",de.disabled.toString())("disabled",de.disabled||null),ne.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",de._highlighted)("mat-menu-item-submenu-trigger",de._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[ne.qOj],attrs:Le,ngContentSelectors:tt,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(J,de){1&J&&(ne.F$t(),ne.Hsn(0),ne._UZ(1,"div",0),ne.YNc(2,ft,2,0,"svg",1)),2&J&&(ne.xp6(1),ne.Q6J("matRippleDisabled",de.disableRipple||de.disabled)("matRippleTrigger",de._getHostElement()),ne.xp6(1),ne.Q6J("ngIf",de._triggersSubmenu))},dependencies:[ht.O5,jt.wG],encapsulation:2,changeDetection:0}),Dn})();const Be=new ne.OlP("mat-menu-default-options",{providedIn:"root",factory:function Ne(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Ke=0,Tt=(()=>{class Dn{constructor(J,de,Pe,ce){this._elementRef=J,this._ngZone=de,this._defaultOptions=Pe,this._changeDetectorRef=ce,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new ne.n_E,this._tabSubscription=te.w.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new C.xQ,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new ne.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+Ke++}get xPosition(){return this._xPosition}set xPosition(J){this._xPosition=J,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(J){this._yPosition=J,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(J){this._overlapTrigger=(0,N.Ig)(J)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(J){this._hasBackdrop=(0,N.Ig)(J)}set panelClass(J){const de=this._previousPanelClass;de&&de.length&&de.split(" ").forEach(Pe=>{this._classList[Pe]=!1}),this._previousPanelClass=J,J&&J.length&&(J.split(" ").forEach(Pe=>{this._classList[Pe]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(J){this.panelClass=J}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new p.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,ae.O)(this._directDescendantItems),(0,me.w)(J=>(0,we.T)(...J.map(de=>de._focused)))).subscribe(J=>this._keyManager.updateActiveItem(J)),this._directDescendantItems.changes.subscribe(J=>{var de;const Pe=this._keyManager;if("enter"===this._panelAnimationState&&null!==(de=Pe.activeItem)&&void 0!==de&&de._hasFocus()){const ce=J.toArray(),Ye=Math.max(0,Math.min(ce.length-1,Pe.activeItemIndex||0));ce[Ye]&&!ce[Ye].disabled?Pe.setActiveItem(Ye):Pe.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe((0,ae.O)(this._directDescendantItems),(0,me.w)(de=>(0,we.T)(...de.map(Pe=>Pe._hovered))))}addItem(J){}removeItem(J){}_handleKeydown(J){const de=J.keyCode,Pe=this._keyManager;switch(de){case v.hY:(0,v.Vb)(J)||(J.preventDefault(),this.closed.emit("keydown"));break;case v.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case v.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(de===v.LH||de===v.JH)&&Pe.setFocusOrigin("keyboard"),void Pe.onKeydown(J)}J.stopPropagation()}focusFirstItem(J="program"){this._ngZone.onStable.pipe((0,ye.q)(1)).subscribe(()=>{let de=null;if(this._directDescendantItems.length&&(de=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!de||!de.contains(document.activeElement)){const Pe=this._keyManager;Pe.setFocusOrigin(J).setFirstItemActive(),!Pe.activeItem&&de&&de.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(J){const de=Math.min(this._baseElevation+J,24),Pe=`${this._elevationPrefix}${de}`,ce=Object.keys(this._classList).find(Ye=>Ye.startsWith(this._elevationPrefix));(!ce||ce===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[Pe]=!0,this._previousElevation=Pe)}setPositionClasses(J=this.xPosition,de=this.yPosition){var Pe;const ce=this._classList;ce["mat-menu-before"]="before"===J,ce["mat-menu-after"]="after"===J,ce["mat-menu-above"]="above"===de,ce["mat-menu-below"]="below"===de,null===(Pe=this._changeDetectorRef)||void 0===Pe||Pe.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(J){this._animationDone.next(J),this._isAnimating=!1}_onAnimationStart(J){this._isAnimating=!0,"enter"===J.toState&&0===this._keyManager.activeItemIndex&&(J.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,ae.O)(this._allItems)).subscribe(J=>{this._directDescendantItems.reset(J.filter(de=>de._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return Dn.\u0275fac=function(J){return new(J||Dn)(ne.Y36(ne.SBq),ne.Y36(ne.R0b),ne.Y36(Be),ne.Y36(ne.sBO))},Dn.\u0275dir=ne.lG2({type:Dn,contentQueries:function(J,de,Pe){if(1&J&&(ne.Suo(Pe,Bt,5),ne.Suo(Pe,ke,5),ne.Suo(Pe,ke,4)),2&J){let ce;ne.iGM(ce=ne.CRH())&&(de.lazyContent=ce.first),ne.iGM(ce=ne.CRH())&&(de._allItems=ce),ne.iGM(ce=ne.CRH())&&(de.items=ce)}},viewQuery:function(J,de){if(1&J&&ne.Gf(ne.Rgc,5),2&J){let Pe;ne.iGM(Pe=ne.CRH())&&(de.templateRef=Pe.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),Dn})(),en=(()=>{class Dn extends Tt{constructor(J,de,Pe,ce){super(J,de,Pe,ce),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return Dn.\u0275fac=function(J){return new(J||Dn)(ne.Y36(ne.SBq),ne.Y36(ne.R0b),ne.Y36(Be),ne.Y36(ne.sBO))},Dn.\u0275cmp=ne.Xpm({type:Dn,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(J,de){2&J&&ne.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[ne._Bn([{provide:rn,useExisting:Dn}]),ne.qOj],ngContentSelectors:tt,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(J,de){1&J&&(ne.F$t(),ne.YNc(0,qe,3,6,"ng-template"))},dependencies:[ht.mk],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Lt.transformMenu,Lt.fadeInItems]},changeDetection:0}),Dn})();const Ln=new ne.OlP("mat-menu-scroll-strategy"),Qt={provide:Ln,deps:[kt.aV],useFactory:function It(Dn){return()=>Dn.scrollStrategies.reposition()}},$t=(0,vt.i$)({passive:!0});let wn=(()=>{class Dn{constructor(J,de,Pe,ce,Ye,be,We,Ut,Nt){this._overlay=J,this._element=de,this._viewContainerRef=Pe,this._menuItemInstance=be,this._dir=We,this._focusMonitor=Ut,this._ngZone=Nt,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=te.w.EMPTY,this._hoverSubscription=te.w.EMPTY,this._menuCloseSubscription=te.w.EMPTY,this._handleTouchStart=Yt=>{(0,p.yG)(Yt)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new ne.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new ne.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=ce,this._parentMaterialMenu=Ye instanceof Tt?Ye:void 0,de.nativeElement.addEventListener("touchstart",this._handleTouchStart,$t),be&&(be._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(J){this.menu=J}get menu(){return this._menu}set menu(J){J!==this._menu&&(this._menu=J,this._menuCloseSubscription.unsubscribe(),J&&(this._menuCloseSubscription=J.close.subscribe(de=>{this._destroyMenu(de),("click"===de||"tab"===de)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(de)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,$t),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const J=this.menu;if(this._menuOpen||!J)return;const de=this._createOverlay(J),Pe=de.getConfig(),ce=Pe.positionStrategy;this._setPosition(J,ce),Pe.hasBackdrop=J.hasBackdrop??!this.triggersSubmenu(),de.attach(this._getPortal(J)),J.lazyContent&&J.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(J),J instanceof Tt&&(J._startAnimation(),J._directDescendantItems.changes.pipe((0,Ie.R)(J.close)).subscribe(()=>{ce.withLockedPosition(!1).reapplyLastPosition(),ce.withLockedPosition(!0)}))}closeMenu(){var J;null===(J=this.menu)||void 0===J||J.close.emit()}focus(J,de){this._focusMonitor&&J?this._focusMonitor.focusVia(this._element,J,de):this._element.nativeElement.focus(de)}updatePosition(){var J;null===(J=this._overlayRef)||void 0===J||J.updatePosition()}_destroyMenu(J){if(!this._overlayRef||!this.menuOpen)return;const de=this.menu;var Pe;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===J||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,de instanceof Tt?(de._resetAnimation(),de.lazyContent?de._animationDone.pipe((0,Ue.h)(ce=>"void"===ce.toState),(0,ye.q)(1),(0,Ie.R)(de.lazyContent._attached)).subscribe({next:()=>de.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),null==de||null===(Pe=de.lazyContent)||void 0===Pe||Pe.detach())}_initMenu(J){J.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,J.direction=this.dir,this._setMenuElevation(J),J.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(J){if(J.setElevation){let de=0,Pe=J.parentMenu;for(;Pe;)de++,Pe=Pe.parentMenu;J.setElevation(de)}}_setIsMenuOpen(J){this._menuOpen=J,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(J)}_createOverlay(J){if(!this._overlayRef){const de=this._getOverlayConfig(J);this._subscribeToPositions(J,de.positionStrategy),this._overlayRef=this._overlay.create(de),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(J){return new kt.X_({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:J.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:J.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(J,de){J.setPositionClasses&&de.positionChanges.subscribe(Pe=>{const ce="start"===Pe.connectionPair.overlayX?"after":"before",Ye="top"===Pe.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>J.setPositionClasses(ce,Ye)):J.setPositionClasses(ce,Ye)})}_setPosition(J,de){let[Pe,ce]="before"===J.xPosition?["end","start"]:["start","end"],[Ye,be]="above"===J.yPosition?["bottom","top"]:["top","bottom"],[We,Ut]=[Ye,be],[Nt,Yt]=[Pe,ce],Sn=0;if(this.triggersSubmenu()){if(Yt=Pe="before"===J.xPosition?"start":"end",ce=Nt="end"===Pe?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Dt=this._parentMaterialMenu.items.first;this._parentInnerPadding=Dt?Dt._getHostElement().offsetTop:0}Sn="bottom"===Ye?this._parentInnerPadding:-this._parentInnerPadding}}else J.overlapTrigger||(We="top"===Ye?"bottom":"top",Ut="top"===be?"bottom":"top");de.withPositions([{originX:Pe,originY:We,overlayX:Nt,overlayY:Ye,offsetY:Sn},{originX:ce,originY:We,overlayX:Yt,overlayY:Ye,offsetY:Sn},{originX:Pe,originY:Ut,overlayX:Nt,overlayY:be,offsetY:-Sn},{originX:ce,originY:Ut,overlayX:Yt,overlayY:be,offsetY:-Sn}])}_menuClosingActions(){const J=this._overlayRef.backdropClick(),de=this._overlayRef.detachments(),Pe=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,he.of)(),ce=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,Ue.h)(Ye=>Ye!==this._menuItemInstance),(0,Ue.h)(()=>this._menuOpen)):(0,he.of)();return(0,we.T)(J,Pe,ce,de)}_handleMousedown(J){(0,p.X6)(J)||(this._openedBy=0===J.button?"mouse":void 0,this.triggersSubmenu()&&J.preventDefault())}_handleKeydown(J){const de=J.keyCode;(de===v.K5||de===v.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(de===v.SV&&"ltr"===this.dir||de===v.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(J){this.triggersSubmenu()?(J.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,Ue.h)(J=>J===this._menuItemInstance&&!J.disabled),(0,Je.g)(0,Se.e)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Tt&&this.menu._isAnimating?this.menu._animationDone.pipe((0,ye.q)(1),(0,Je.g)(0,Se.e),(0,Ie.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(J){return(!this._portal||this._portal.templateRef!==J.templateRef)&&(this._portal=new ot.UE(J.templateRef,this._viewContainerRef)),this._portal}}return Dn.\u0275fac=function(J){return new(J||Dn)(ne.Y36(kt.aV),ne.Y36(ne.SBq),ne.Y36(ne.s_b),ne.Y36(Ln),ne.Y36(rn,8),ne.Y36(ke,10),ne.Y36(ut.Is,8),ne.Y36(p.tE),ne.Y36(ne.R0b))},Dn.\u0275dir=ne.lG2({type:Dn,hostVars:3,hostBindings:function(J,de){1&J&&ne.NdJ("click",function(ce){return de._handleClick(ce)})("mousedown",function(ce){return de._handleMousedown(ce)})("keydown",function(ce){return de._handleKeydown(ce)}),2&J&&ne.uIk("aria-haspopup",de.menu?"menu":null)("aria-expanded",de.menuOpen||null)("aria-controls",de.menuOpen?de.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),Dn})(),zt=(()=>{class Dn extends wn{}return Dn.\u0275fac=function(){let pt;return function(de){return(pt||(pt=ne.n5z(Dn)))(de||Dn)}}(),Dn.\u0275dir=ne.lG2({type:Dn,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[ne.qOj]}),Dn})(),Gn=(()=>{class Dn{}return Dn.\u0275fac=function(J){return new(J||Dn)},Dn.\u0275mod=ne.oAB({type:Dn}),Dn.\u0275inj=ne.cJS({providers:[Qt],imports:[ht.ez,jt.BQ,jt.si,kt.U8,et.ZD,jt.BQ]}),Dn})()},1481:(gn,_t,x)=>{"use strict";x.d(_t,{Dx:()=>We,H7:()=>Qe,b2:()=>de,q6:()=>Gn,se:()=>Bt});var p=x(6895),N=x(4650);class v extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ne extends v{static makeCurrent(){(0,p.HT)(new ne)}onAndCancel(He,Ve,je){return He.addEventListener(Ve,je,!1),()=>{He.removeEventListener(Ve,je,!1)}}dispatchEvent(He,Ve){He.dispatchEvent(Ve)}remove(He){He.parentNode&&He.parentNode.removeChild(He)}createElement(He,Ve){return(Ve=Ve||this.getDefaultDocument()).createElement(He)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(He){return He.nodeType===Node.ELEMENT_NODE}isShadowRoot(He){return He instanceof DocumentFragment}getGlobalEventTarget(He,Ve){return"window"===Ve?window:"document"===Ve?He:"body"===Ve?He.body:null}getBaseHref(He){const Ve=function te(){return C=C||document.querySelector("base"),C?C.getAttribute("href"):null}();return null==Ve?null:function he(ze){we=we||document.createElement("a"),we.setAttribute("href",ze);const He=we.pathname;return"/"===He.charAt(0)?He:`/${He}`}(Ve)}resetBaseElement(){C=null}getUserAgent(){return window.navigator.userAgent}getCookie(He){return(0,p.Mx)(document.cookie,He)}}let we,C=null;const Se=new N.OlP("TRANSITION_ID"),me=[{provide:N.ip1,useFactory:function ae(ze,He,Ve){return()=>{Ve.get(N.CZH).donePromise.then(()=>{const je=(0,p.q)(),De=He.querySelectorAll(`style[ng-transition="${ze}"]`);for(let Ce=0;Ce<De.length;Ce++)je.remove(De[Ce])})}},deps:[Se,p.K0,N.zs3],multi:!0}];let Ie=(()=>{class ze{build(){return new XMLHttpRequest}}return ze.\u0275fac=function(Ve){return new(Ve||ze)},ze.\u0275prov=N.Yz7({token:ze,factory:ze.\u0275fac}),ze})();const Ue=new N.OlP("EventManagerPlugins");let Je=(()=>{class ze{constructor(Ve,je){this._zone=je,this._eventNameToPlugin=new Map,Ve.forEach(De=>De.manager=this),this._plugins=Ve.slice().reverse()}addEventListener(Ve,je,De){return this._findPluginFor(je).addEventListener(Ve,je,De)}addGlobalEventListener(Ve,je,De){return this._findPluginFor(je).addGlobalEventListener(Ve,je,De)}getZone(){return this._zone}_findPluginFor(Ve){const je=this._eventNameToPlugin.get(Ve);if(je)return je;const De=this._plugins;for(let Ce=0;Ce<De.length;Ce++){const rt=De[Ce];if(rt.supports(Ve))return this._eventNameToPlugin.set(Ve,rt),rt}throw new Error(`No event manager plugin found for event ${Ve}`)}}return ze.\u0275fac=function(Ve){return new(Ve||ze)(N.LFG(Ue),N.LFG(N.R0b))},ze.\u0275prov=N.Yz7({token:ze,factory:ze.\u0275fac}),ze})();class Fe{constructor(He){this._doc=He}addGlobalEventListener(He,Ve,je){const De=(0,p.q)().getGlobalEventTarget(this._doc,He);if(!De)throw new Error(`Unsupported event target ${De} for event ${Ve}`);return this.addEventListener(De,Ve,je)}}let ot=(()=>{class ze{constructor(){this._stylesSet=new Set}addStyles(Ve){const je=new Set;Ve.forEach(De=>{this._stylesSet.has(De)||(this._stylesSet.add(De),je.add(De))}),this.onStylesAdded(je)}onStylesAdded(Ve){}getAllStyles(){return Array.from(this._stylesSet)}}return ze.\u0275fac=function(Ve){return new(Ve||ze)},ze.\u0275prov=N.Yz7({token:ze,factory:ze.\u0275fac}),ze})(),ht=(()=>{class ze extends ot{constructor(Ve){super(),this._doc=Ve,this._hostNodes=new Map,this._hostNodes.set(Ve.head,[])}_addStylesToHost(Ve,je,De){Ve.forEach(Ce=>{const rt=this._doc.createElement("style");rt.textContent=Ce,De.push(je.appendChild(rt))})}addHost(Ve){const je=[];this._addStylesToHost(this._stylesSet,Ve,je),this._hostNodes.set(Ve,je)}removeHost(Ve){const je=this._hostNodes.get(Ve);je&&je.forEach(jt),this._hostNodes.delete(Ve)}onStylesAdded(Ve){this._hostNodes.forEach((je,De)=>{this._addStylesToHost(Ve,De,je)})}ngOnDestroy(){this._hostNodes.forEach(Ve=>Ve.forEach(jt))}}return ze.\u0275fac=function(Ve){return new(Ve||ze)(N.LFG(p.K0))},ze.\u0275prov=N.Yz7({token:ze,factory:ze.\u0275fac}),ze})();function jt(ze){(0,p.q)().remove(ze)}const ut={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kt=/%COMP%/g;function Lt(ze,He,Ve){for(let je=0;je<He.length;je++){let De=He[je];Array.isArray(De)?Lt(ze,De,Ve):(De=De.replace(kt,ze),Ve.push(De))}return Ve}function Ge(ze){return He=>{if("__ngUnwrap__"===He)return ze;!1===ze(He)&&(He.preventDefault(),He.returnValue=!1)}}let Bt=(()=>{class ze{constructor(Ve,je,De){this.eventManager=Ve,this.sharedStylesHost=je,this.appId=De,this.rendererByCompId=new Map,this.defaultRenderer=new bn(Ve)}createRenderer(Ve,je){if(!Ve||!je)return this.defaultRenderer;switch(je.encapsulation){case N.ifc.Emulated:{let De=this.rendererByCompId.get(je.id);return De||(De=new Vn(this.eventManager,this.sharedStylesHost,je,this.appId),this.rendererByCompId.set(je.id,De)),De.applyToHost(Ve),De}case 1:case N.ifc.ShadowDom:return new rn(this.eventManager,this.sharedStylesHost,Ve,je);default:if(!this.rendererByCompId.has(je.id)){const De=Lt(je.id,je.styles,[]);this.sharedStylesHost.addStyles(De),this.rendererByCompId.set(je.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ze.\u0275fac=function(Ve){return new(Ve||ze)(N.LFG(Je),N.LFG(ht),N.LFG(N.AFp))},ze.\u0275prov=N.Yz7({token:ze,factory:ze.\u0275fac}),ze})();class bn{constructor(He){this.eventManager=He,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(He,Ve){return Ve?document.createElementNS(ut[Ve]||Ve,He):document.createElement(He)}createComment(He){return document.createComment(He)}createText(He){return document.createTextNode(He)}appendChild(He,Ve){(ai(He)?He.content:He).appendChild(Ve)}insertBefore(He,Ve,je){He&&(ai(He)?He.content:He).insertBefore(Ve,je)}removeChild(He,Ve){He&&He.removeChild(Ve)}selectRootElement(He,Ve){let je="string"==typeof He?document.querySelector(He):He;if(!je)throw new Error(`The selector "${He}" did not match any elements`);return Ve||(je.textContent=""),je}parentNode(He){return He.parentNode}nextSibling(He){return He.nextSibling}setAttribute(He,Ve,je,De){if(De){Ve=De+":"+Ve;const Ce=ut[De];Ce?He.setAttributeNS(Ce,Ve,je):He.setAttribute(Ve,je)}else He.setAttribute(Ve,je)}removeAttribute(He,Ve,je){if(je){const De=ut[je];De?He.removeAttributeNS(De,Ve):He.removeAttribute(`${je}:${Ve}`)}else He.removeAttribute(Ve)}addClass(He,Ve){He.classList.add(Ve)}removeClass(He,Ve){He.classList.remove(Ve)}setStyle(He,Ve,je,De){De&(N.JOm.DashCase|N.JOm.Important)?He.style.setProperty(Ve,je,De&N.JOm.Important?"important":""):He.style[Ve]=je}removeStyle(He,Ve,je){je&N.JOm.DashCase?He.style.removeProperty(Ve):He.style[Ve]=""}setProperty(He,Ve,je){He[Ve]=je}setValue(He,Ve){He.nodeValue=Ve}listen(He,Ve,je){return"string"==typeof He?this.eventManager.addGlobalEventListener(He,Ve,Ge(je)):this.eventManager.addEventListener(He,Ve,Ge(je))}}function ai(ze){return"TEMPLATE"===ze.tagName&&void 0!==ze.content}class Vn extends bn{constructor(He,Ve,je,De){super(He),this.component=je;const Ce=Lt(De+"-"+je.id,je.styles,[]);Ve.addStyles(Ce),this.contentAttr=function tt(ze){return"_ngcontent-%COMP%".replace(kt,ze)}(De+"-"+je.id),this.hostAttr=function qe(ze){return"_nghost-%COMP%".replace(kt,ze)}(De+"-"+je.id)}applyToHost(He){super.setAttribute(He,this.hostAttr,"")}createElement(He,Ve){const je=super.createElement(He,Ve);return super.setAttribute(je,this.contentAttr,""),je}}class rn extends bn{constructor(He,Ve,je,De){super(He),this.sharedStylesHost=Ve,this.hostEl=je,this.shadowRoot=je.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ce=Lt(De.id,De.styles,[]);for(let rt=0;rt<Ce.length;rt++){const Vt=document.createElement("style");Vt.textContent=Ce[rt],this.shadowRoot.appendChild(Vt)}}nodeOrShadowRoot(He){return He===this.hostEl?this.shadowRoot:He}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(He,Ve){return super.appendChild(this.nodeOrShadowRoot(He),Ve)}insertBefore(He,Ve,je){return super.insertBefore(this.nodeOrShadowRoot(He),Ve,je)}removeChild(He,Ve){return super.removeChild(this.nodeOrShadowRoot(He),Ve)}parentNode(He){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(He)))}}let _n=(()=>{class ze extends Fe{constructor(Ve){super(Ve)}supports(Ve){return!0}addEventListener(Ve,je,De){return Ve.addEventListener(je,De,!1),()=>this.removeEventListener(Ve,je,De)}removeEventListener(Ve,je,De){return Ve.removeEventListener(je,De)}}return ze.\u0275fac=function(Ve){return new(Ve||ze)(N.LFG(p.K0))},ze.\u0275prov=N.Yz7({token:ze,factory:ze.\u0275fac}),ze})();const ke=["alt","control","meta","shift"],Be={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ne={alt:ze=>ze.altKey,control:ze=>ze.ctrlKey,meta:ze=>ze.metaKey,shift:ze=>ze.shiftKey};let Ke=(()=>{class ze extends Fe{constructor(Ve){super(Ve)}supports(Ve){return null!=ze.parseEventName(Ve)}addEventListener(Ve,je,De){const Ce=ze.parseEventName(je),rt=ze.eventCallback(Ce.fullKey,De,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(Ve,Ce.domEventName,rt))}static parseEventName(Ve){const je=Ve.toLowerCase().split("."),De=je.shift();if(0===je.length||"keydown"!==De&&"keyup"!==De)return null;const Ce=ze._normalizeKey(je.pop());let rt="",Vt=je.indexOf("code");if(Vt>-1&&(je.splice(Vt,1),rt="code."),ke.forEach(Yn=>{const Pn=je.indexOf(Yn);Pn>-1&&(je.splice(Pn,1),rt+=Yn+".")}),rt+=Ce,0!=je.length||0===Ce.length)return null;const sn={};return sn.domEventName=De,sn.fullKey=rt,sn}static matchEventFullKeyCode(Ve,je){let De=Be[Ve.key]||Ve.key,Ce="";return je.indexOf("code.")>-1&&(De=Ve.code,Ce="code."),!(null==De||!De)&&(De=De.toLowerCase()," "===De?De="space":"."===De&&(De="dot"),ke.forEach(rt=>{rt!==De&&(0,Ne[rt])(Ve)&&(Ce+=rt+".")}),Ce+=De,Ce===je)}static eventCallback(Ve,je,De){return Ce=>{ze.matchEventFullKeyCode(Ce,Ve)&&De.runGuarded(()=>je(Ce))}}static _normalizeKey(Ve){return"esc"===Ve?"escape":Ve}}return ze.\u0275fac=function(Ve){return new(Ve||ze)(N.LFG(p.K0))},ze.\u0275prov=N.Yz7({token:ze,factory:ze.\u0275fac}),ze})();const Gn=(0,N.eFA)(N._c5,"browser",[{provide:N.Lbi,useValue:p.bD},{provide:N.g9A,useValue:function Mt(){ne.makeCurrent()},multi:!0},{provide:p.K0,useFactory:function wn(){return(0,N.RDi)(document),document},deps:[]}]),Dn=new N.OlP(""),pt=[{provide:N.rWj,useClass:class ye{addToWindow(He){N.dqk.getAngularTestability=(je,De=!0)=>{const Ce=He.findTestabilityInTree(je,De);if(null==Ce)throw new Error("Could not find testability for element.");return Ce},N.dqk.getAllAngularTestabilities=()=>He.getAllTestabilities(),N.dqk.getAllAngularRootElements=()=>He.getAllRootElements(),N.dqk.frameworkStabilizers||(N.dqk.frameworkStabilizers=[]),N.dqk.frameworkStabilizers.push(je=>{const De=N.dqk.getAllAngularTestabilities();let Ce=De.length,rt=!1;const Vt=function(sn){rt=rt||sn,Ce--,0==Ce&&je(rt)};De.forEach(function(sn){sn.whenStable(Vt)})})}findTestabilityInTree(He,Ve,je){return null==Ve?null:He.getTestability(Ve)??(je?(0,p.q)().isShadowRoot(Ve)?this.findTestabilityInTree(He,Ve.host,!0):this.findTestabilityInTree(He,Ve.parentElement,!0):null)}},deps:[]},{provide:N.lri,useClass:N.dDg,deps:[N.R0b,N.eoX,N.rWj]},{provide:N.dDg,useClass:N.dDg,deps:[N.R0b,N.eoX,N.rWj]}],J=[{provide:N.zSh,useValue:"root"},{provide:N.qLn,useFactory:function $t(){return new N.qLn},deps:[]},{provide:Ue,useClass:_n,multi:!0,deps:[p.K0,N.R0b,N.Lbi]},{provide:Ue,useClass:Ke,multi:!0,deps:[p.K0]},{provide:Bt,useClass:Bt,deps:[Je,ht,N.AFp]},{provide:N.FYo,useExisting:Bt},{provide:ot,useExisting:ht},{provide:ht,useClass:ht,deps:[p.K0]},{provide:Je,useClass:Je,deps:[Ue,N.R0b]},{provide:p.JF,useClass:Ie,deps:[]},[]];let de=(()=>{class ze{constructor(Ve){}static withServerTransition(Ve){return{ngModule:ze,providers:[{provide:N.AFp,useValue:Ve.appId},{provide:Se,useExisting:N.AFp},me]}}}return ze.\u0275fac=function(Ve){return new(Ve||ze)(N.LFG(Dn,12))},ze.\u0275mod=N.oAB({type:ze}),ze.\u0275inj=N.cJS({providers:[...J,...pt],imports:[p.ez,N.hGG]}),ze})(),We=(()=>{class ze{constructor(Ve){this._doc=Ve}getTitle(){return this._doc.title}setTitle(Ve){this._doc.title=Ve||""}}return ze.\u0275fac=function(Ve){return new(Ve||ze)(N.LFG(p.K0))},ze.\u0275prov=N.Yz7({token:ze,factory:function(Ve){let je=null;return je=Ve?new Ve:function be(){return new We((0,N.LFG)(p.K0))}(),je},providedIn:"root"}),ze})();typeof window<"u"&&window;let Qe=(()=>{class ze{}return ze.\u0275fac=function(Ve){return new(Ve||ze)},ze.\u0275prov=N.Yz7({token:ze,factory:function(Ve){let je=null;return je=Ve?new(Ve||ze):N.LFG(dn),je},providedIn:"root"}),ze})(),dn=(()=>{class ze extends Qe{constructor(Ve){super(),this._doc=Ve}sanitize(Ve,je){if(null==je)return null;switch(Ve){case N.q3G.NONE:return je;case N.q3G.HTML:return(0,N.qzn)(je,"HTML")?(0,N.z3N)(je):(0,N.EiD)(this._doc,String(je)).toString();case N.q3G.STYLE:return(0,N.qzn)(je,"Style")?(0,N.z3N)(je):je;case N.q3G.SCRIPT:if((0,N.qzn)(je,"Script"))return(0,N.z3N)(je);throw new Error("unsafe value used in a script context");case N.q3G.URL:return(0,N.qzn)(je,"URL")?(0,N.z3N)(je):(0,N.mCW)(String(je));case N.q3G.RESOURCE_URL:if((0,N.qzn)(je,"ResourceURL"))return(0,N.z3N)(je);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${Ve} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(Ve){return(0,N.JVY)(Ve)}bypassSecurityTrustStyle(Ve){return(0,N.L6k)(Ve)}bypassSecurityTrustScript(Ve){return(0,N.eBb)(Ve)}bypassSecurityTrustUrl(Ve){return(0,N.LAX)(Ve)}bypassSecurityTrustResourceUrl(Ve){return(0,N.pB0)(Ve)}}return ze.\u0275fac=function(Ve){return new(Ve||ze)(N.LFG(p.K0))},ze.\u0275prov=N.Yz7({token:ze,factory:function(Ve){let je=null;return je=Ve?new Ve:function Ct(ze){return new dn(ze.get(p.K0))}(N.LFG(N.zs3)),je},providedIn:"root"}),ze})()},7868:(gn,_t,x)=>{"use strict";x.d(_t,{F0:()=>ps,rH:()=>qo,yS:()=>Bl,Bz:()=>Eo,lC:()=>Wo});var p=x(4650),N=x(5254),v=x(1086),ne=x(591),C=x(4450),te=x(6053),we=x(1221),he=x(8514),Se=x(4843),ae=x(1737),me=x(6498),ye=x(8896),Ie=x(1762),Ue=x(8929),Je=x(6895),Fe=x(4850),ot=x(7545),ht=x(2986),jt=x(1059),ut=x(2198),kt=x(1709),vt=x(7224),et=x(1406),Le=x(2868),ft=x(7221),tt=x(2014),qe=x(3489),Lt=x(4231);function Ge(F){return function(I){return 0===F?(0,ye.c)():I.lift(new Ot(F))}}class Ot{constructor(L){if(this.total=L,this.total<0)throw new Lt.W}call(L,I){return I.subscribe(new Bt(L,this.total))}}class Bt extends qe.L{constructor(L,I){super(L),this.total=I,this.ring=new Array,this.count=0}_next(L){const I=this.ring,H=this.total,ee=this.count++;I.length<H?I.push(L):I[ee%H]=L}_complete(){const L=this.destination;let I=this.count;if(I>0){const H=this.count>=this.total?this.total:this.count,ee=this.ring;for(let Re=0;Re<H;Re++){const nt=I++%H;L.next(ee[nt])}}L.complete()}}var bn=x(4907),qn=x(7314),jn=x(5379);function ai(F,L){const I=arguments.length>=2;return H=>H.pipe(F?(0,ut.h)((ee,Re)=>F(ee,Re,H)):jn.y,Ge(1),I?(0,qn.d)(L):(0,bn.T)(()=>new C.K))}class rn{constructor(L,I){this.predicate=L,this.inclusive=I}call(L,I){return I.subscribe(new _n(L,this.predicate,this.inclusive))}}class _n extends qe.L{constructor(L,I,H){super(L),this.predicate=I,this.inclusive=H,this.index=0}_next(L){const I=this.destination;let H;try{H=this.predicate(L,this.index++)}catch(ee){return void I.error(ee)}this.nextOrComplete(L,H)}nextOrComplete(L,I){const H=this.destination;Boolean(I)?H.next(L):(this.inclusive&&H.next(L),H.complete())}}class Be{constructor(L){this.value=L}call(L,I){return I.subscribe(new Ne(L,this.value))}}class Ne extends qe.L{constructor(L,I){super(L),this.value=I}_next(L){this.destination.next(this.value)}}var Ke=x(537),Tt=x(4327),en=x(9146),Ln=x(1481);const It="primary",Qt=Symbol("RouteTitle");class Mt{constructor(L){this.params=L||{}}has(L){return Object.prototype.hasOwnProperty.call(this.params,L)}get(L){if(this.has(L)){const I=this.params[L];return Array.isArray(I)?I[0]:I}return null}getAll(L){if(this.has(L)){const I=this.params[L];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function $t(F){return new Mt(F)}function wn(F,L,I){const H=I.path.split("/");if(H.length>F.length||"full"===I.pathMatch&&(L.hasChildren()||H.length<F.length))return null;const ee={};for(let Re=0;Re<H.length;Re++){const nt=H[Re],dt=F[Re];if(nt.startsWith(":"))ee[nt.substring(1)]=dt;else if(nt!==dt.path)return null}return{consumed:F.slice(0,H.length),posParams:ee}}function Gn(F,L){const I=F?Object.keys(F):void 0,H=L?Object.keys(L):void 0;if(!I||!H||I.length!=H.length)return!1;let ee;for(let Re=0;Re<I.length;Re++)if(ee=I[Re],!Dn(F[ee],L[ee]))return!1;return!0}function Dn(F,L){if(Array.isArray(F)&&Array.isArray(L)){if(F.length!==L.length)return!1;const I=[...F].sort(),H=[...L].sort();return I.every((ee,Re)=>H[Re]===ee)}return F===L}function pt(F){return Array.prototype.concat.apply([],F)}function J(F){return F.length>0?F[F.length-1]:null}function Pe(F,L){for(const I in F)F.hasOwnProperty(I)&&L(F[I],I)}function ce(F){return(0,p.CqO)(F)?F:(0,p.QGY)(F)?(0,N.D)(Promise.resolve(F)):(0,v.of)(F)}const We={exact:function Sn(F,L,I){if(!Et(F.segments,L.segments)||!On(F.segments,L.segments,I)||F.numberOfChildren!==L.numberOfChildren)return!1;for(const H in L.children)if(!F.children[H]||!Sn(F.children[H],L.children[H],I))return!1;return!0},subset:oi},Ut={exact:function Yt(F,L){return Gn(F,L)},subset:function Dt(F,L){return Object.keys(L).length<=Object.keys(F).length&&Object.keys(L).every(I=>Dn(F[I],L[I]))},ignored:()=>!0};function Nt(F,L,I){return We[I.paths](F.root,L.root,I.matrixParams)&&Ut[I.queryParams](F.queryParams,L.queryParams)&&!("exact"===I.fragment&&F.fragment!==L.fragment)}function oi(F,L,I){return ni(F,L,L.segments,I)}function ni(F,L,I,H){if(F.segments.length>I.length){const ee=F.segments.slice(0,I.length);return!(!Et(ee,I)||L.hasChildren()||!On(ee,I,H))}if(F.segments.length===I.length){if(!Et(F.segments,I)||!On(F.segments,I,H))return!1;for(const ee in L.children)if(!F.children[ee]||!oi(F.children[ee],L.children[ee],H))return!1;return!0}{const ee=I.slice(0,F.segments.length),Re=I.slice(F.segments.length);return!!(Et(F.segments,ee)&&On(F.segments,ee,H)&&F.children[It])&&ni(F.children[It],L,Re,H)}}function On(F,L,I){return L.every((H,ee)=>Ut[I](F[ee].parameters,H.parameters))}class Ii{constructor(L,I,H){this.root=L,this.queryParams=I,this.fragment=H}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$t(this.queryParams)),this._queryParamMap}toString(){return st.serialize(this)}}class Tn{constructor(L,I){this.segments=L,this.children=I,this.parent=null,Pe(I,(H,ee)=>H.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xe(this)}}class Wt{constructor(L,I){this.path=L,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=$t(this.parameters)),this._parameterMap}toString(){return fe(this)}}function Et(F,L){return F.length===L.length&&F.every((I,H)=>I.path===L[H].path)}let fn=(()=>{class F{}return F.\u0275fac=function(I){return new(I||F)},F.\u0275prov=p.Yz7({token:F,factory:function(){return new lt},providedIn:"root"}),F})();class lt{parse(L){const I=new De(L);return new Ii(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(L){const I=`/${St(L.root,!0)}`,H=function Ct(F){const L=Object.keys(F).map(I=>{const H=F[I];return Array.isArray(H)?H.map(ee=>`${ge(I)}=${ge(ee)}`).join("&"):`${ge(I)}=${ge(H)}`}).filter(I=>!!I);return L.length?`?${L.join("&")}`:""}(L.queryParams);return`${I}${H}${"string"==typeof L.fragment?`#${function j(F){return encodeURI(F)}(L.fragment)}`:""}`}}const st=new lt;function Xe(F){return F.segments.map(L=>fe(L)).join("/")}function St(F,L){if(!F.hasChildren())return Xe(F);if(L){const I=F.children[It]?St(F.children[It],!1):"",H=[];return Pe(F.children,(ee,Re)=>{Re!==It&&H.push(`${Re}:${St(ee,!1)}`)}),H.length>0?`${I}(${H.join("//")})`:I}{const I=function ln(F,L){let I=[];return Pe(F.children,(H,ee)=>{ee===It&&(I=I.concat(L(H,ee)))}),Pe(F.children,(H,ee)=>{ee!==It&&(I=I.concat(L(H,ee)))}),I}(F,(H,ee)=>ee===It?[St(F.children[It],!1)]:[`${ee}:${St(H,!1)}`]);return 1===Object.keys(F.children).length&&null!=F.children[It]?`${Xe(F)}/${I[0]}`:`${Xe(F)}/(${I.join("//")})`}}function Gt(F){return encodeURIComponent(F).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ge(F){return Gt(F).replace(/%3B/gi,";")}function G(F){return Gt(F).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function X(F){return decodeURIComponent(F)}function K(F){return X(F.replace(/\+/g,"%20"))}function fe(F){return`${G(F.path)}${function Qe(F){return Object.keys(F).map(L=>`;${G(L)}=${G(F[L])}`).join("")}(F.parameters)}`}const dn=/^[^\/()?;=#]+/;function pn(F){const L=F.match(dn);return L?L[0]:""}const ze=/^[^=?&#]+/,Ve=/^[^&#]+/;class De{constructor(L){this.url=L,this.remaining=L}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tn([],{}):new Tn([],this.parseChildren())}parseQueryParams(){const L={};if(this.consumeOptional("?"))do{this.parseQueryParam(L)}while(this.consumeOptional("&"));return L}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const L=[];for(this.peekStartsWith("(")||L.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),L.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let H={};return this.peekStartsWith("(")&&(H=this.parseParens(!1)),(L.length>0||Object.keys(I).length>0)&&(H[It]=new Tn(L,I)),H}parseSegment(){const L=pn(this.remaining);if(""===L&&this.peekStartsWith(";"))throw new p.vHH(4009,!1);return this.capture(L),new Wt(X(L),this.parseMatrixParams())}parseMatrixParams(){const L={};for(;this.consumeOptional(";");)this.parseParam(L);return L}parseParam(L){const I=pn(this.remaining);if(!I)return;this.capture(I);let H="";if(this.consumeOptional("=")){const ee=pn(this.remaining);ee&&(H=ee,this.capture(H))}L[X(I)]=X(H)}parseQueryParam(L){const I=function He(F){const L=F.match(ze);return L?L[0]:""}(this.remaining);if(!I)return;this.capture(I);let H="";if(this.consumeOptional("=")){const nt=function je(F){const L=F.match(Ve);return L?L[0]:""}(this.remaining);nt&&(H=nt,this.capture(H))}const ee=K(I),Re=K(H);if(L.hasOwnProperty(ee)){let nt=L[ee];Array.isArray(nt)||(nt=[nt],L[ee]=nt),nt.push(Re)}else L[ee]=Re}parseParens(L){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const H=pn(this.remaining),ee=this.remaining[H.length];if("/"!==ee&&")"!==ee&&";"!==ee)throw new p.vHH(4010,!1);let Re;H.indexOf(":")>-1?(Re=H.slice(0,H.indexOf(":")),this.capture(Re),this.capture(":")):L&&(Re=It);const nt=this.parseChildren();I[Re]=1===Object.keys(nt).length?nt[It]:new Tn([],nt),this.consumeOptional("//")}return I}peekStartsWith(L){return this.remaining.startsWith(L)}consumeOptional(L){return!!this.peekStartsWith(L)&&(this.remaining=this.remaining.substring(L.length),!0)}capture(L){if(!this.consumeOptional(L))throw new p.vHH(4011,!1)}}function Ce(F){return F.segments.length>0?new Tn([],{[It]:F}):F}function rt(F){const L={};for(const H of Object.keys(F.children)){const Re=rt(F.children[H]);(Re.segments.length>0||Re.hasChildren())&&(L[H]=Re)}return function Vt(F){if(1===F.numberOfChildren&&F.children[It]){const L=F.children[It];return new Tn(F.segments.concat(L.segments),L.children)}return F}(new Tn(F.segments,L))}function sn(F){return F instanceof Ii}function pr(F,L,I,H,ee){var Re;if(0===I.length)return nr(L.root,L.root,L.root,H,ee);const nt=function wr(F){if("string"==typeof F[0]&&1===F.length&&"/"===F[0])return new Mr(!0,0,F);let L=0,I=!1;const H=F.reduce((ee,Re,nt)=>{if("object"==typeof Re&&null!=Re){if(Re.outlets){const dt={};return Pe(Re.outlets,(Kt,kn)=>{dt[kn]="string"==typeof Kt?Kt.split("/"):Kt}),[...ee,{outlets:dt}]}if(Re.segmentPath)return[...ee,Re.segmentPath]}return"string"!=typeof Re?[...ee,Re]:0===nt?(Re.split("/").forEach((dt,Kt)=>{0==Kt&&"."===dt||(0==Kt&&""===dt?I=!0:".."===dt?L++:""!=dt&&ee.push(dt))}),ee):[...ee,Re]},[]);return new Mr(I,L,H)}(I);if(nt.toRoot())return nr(L.root,L.root,new Tn([],{}),H,ee);const Kt=function dt(li){var Wn;const di=function js(F,L,I,H){if(F.isAbsolute)return new rs(L.root,!0,0);if(-1===H)return new rs(I,I===L.root,0);return function ss(F,L,I){let H=F,ee=L,Re=I;for(;Re>ee;){if(Re-=ee,H=H.parent,!H)throw new p.vHH(4005,!1);ee=H.segments.length}return new rs(H,!1,ee-Re)}(I,H+(dr(F.commands[0])?0:1),F.numberOfDoubleDots)}(nt,L,null===(Wn=F.snapshot)||void 0===Wn?void 0:Wn._urlSegment,li),ji=di.processChildren?zr(di.segmentGroup,di.index,nt.commands):os(di.segmentGroup,di.index,nt.commands);return nr(L.root,di.segmentGroup,ji,H,ee)}(null===(Re=F.snapshot)||void 0===Re?void 0:Re._lastPathIndex);return Kt}function dr(F){return"object"==typeof F&&null!=F&&!F.outlets&&!F.segmentPath}function Wi(F){return"object"==typeof F&&null!=F&&F.outlets}function nr(F,L,I,H,ee){let nt,Re={};H&&Pe(H,(Kt,kn)=>{Re[kn]=Array.isArray(Kt)?Kt.map(li=>`${li}`):`${Kt}`}),nt=F===L?I:ir(F,L,I);const dt=Ce(rt(nt));return new Ii(dt,Re,ee)}function ir(F,L,I){const H={};return Pe(F.children,(ee,Re)=>{H[Re]=ee===L?I:ir(ee,L,I)}),new Tn(F.segments,H)}class Mr{constructor(L,I,H){if(this.isAbsolute=L,this.numberOfDoubleDots=I,this.commands=H,L&&H.length>0&&dr(H[0]))throw new p.vHH(4003,!1);const ee=H.find(Wi);if(ee&&ee!==J(H))throw new p.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rs{constructor(L,I,H){this.segmentGroup=L,this.processChildren=I,this.index=H}}function os(F,L,I){if(F||(F=new Tn([],{})),0===F.segments.length&&F.hasChildren())return zr(F,L,I);const H=function Br(F,L,I){let H=0,ee=L;const Re={match:!1,pathIndex:0,commandIndex:0};for(;ee<F.segments.length;){if(H>=I.length)return Re;const nt=F.segments[ee],dt=I[H];if(Wi(dt))break;const Kt=`${dt}`,kn=H<I.length-1?I[H+1]:null;if(ee>0&&void 0===Kt)break;if(Kt&&kn&&"object"==typeof kn&&void 0===kn.outlets){if(!Rr(Kt,kn,nt))return Re;H+=2}else{if(!Rr(Kt,{},nt))return Re;H++}ee++}return{match:!0,pathIndex:ee,commandIndex:H}}(F,L,I),ee=I.slice(H.commandIndex);if(H.match&&H.pathIndex<F.segments.length){const Re=new Tn(F.segments.slice(0,H.pathIndex),{});return Re.children[It]=new Tn(F.segments.slice(H.pathIndex),F.children),zr(Re,0,ee)}return H.match&&0===ee.length?new Tn(F.segments,{}):H.match&&!F.hasChildren()?Ms(F,L,I):H.match?zr(F,0,ee):Ms(F,L,I)}function zr(F,L,I){if(0===I.length)return new Tn(F.segments,{});{const H=function Ts(F){return Wi(F[0])?F[0].outlets:{[It]:F}}(I),ee={};return Pe(H,(Re,nt)=>{"string"==typeof Re&&(Re=[Re]),null!==Re&&(ee[nt]=os(F.children[nt],L,Re))}),Pe(F.children,(Re,nt)=>{void 0===H[nt]&&(ee[nt]=Re)}),new Tn(F.segments,ee)}}function Ms(F,L,I){const H=F.segments.slice(0,L);let ee=0;for(;ee<I.length;){const Re=I[ee];if(Wi(Re)){const Kt=lr(Re.outlets);return new Tn(H,Kt)}if(0===ee&&dr(I[0])){H.push(new Wt(F.segments[L].path,$o(I[0]))),ee++;continue}const nt=Wi(Re)?Re.outlets[It]:`${Re}`,dt=ee<I.length-1?I[ee+1]:null;nt&&dt&&dr(dt)?(H.push(new Wt(nt,$o(dt))),ee+=2):(H.push(new Wt(nt,{})),ee++)}return new Tn(H,{})}function lr(F){const L={};return Pe(F,(I,H)=>{"string"==typeof I&&(I=[I]),null!==I&&(L[H]=Ms(new Tn([],{}),0,I))}),L}function $o(F){const L={};return Pe(F,(I,H)=>L[H]=`${I}`),L}function Rr(F,L,I){return F==I.path&&Gn(L,I.parameters)}class Cr{constructor(L,I){this.id=L,this.url=I}}class Ao extends Cr{constructor(L,I,H="imperative",ee=null){super(L,I),this.type=0,this.navigationTrigger=H,this.restoredState=ee}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class as extends Cr{constructor(L,I,H){super(L,I),this.urlAfterRedirects=H,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gs extends Cr{constructor(L,I,H,ee){super(L,I),this.reason=H,this.code=ee,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Yi extends Cr{constructor(L,I,H,ee){super(L,I),this.error=H,this.target=ee,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Is extends Cr{constructor(L,I,H,ee){super(L,I),this.urlAfterRedirects=H,this.state=ee,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ra extends Cr{constructor(L,I,H,ee){super(L,I),this.urlAfterRedirects=H,this.state=ee,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class to extends Cr{constructor(L,I,H,ee,Re){super(L,I),this.urlAfterRedirects=H,this.state=ee,this.shouldActivate=Re,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Oa extends Cr{constructor(L,I,H,ee){super(L,I),this.urlAfterRedirects=H,this.state=ee,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fs extends Cr{constructor(L,I,H,ee){super(L,I),this.urlAfterRedirects=H,this.state=ee,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _s{constructor(L){this.route=L,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pt{constructor(L){this.route=L,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Rt{constructor(L){this.snapshot=L,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qt{constructor(L){this.snapshot=L,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vn{constructor(L){this.snapshot=L,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fn{constructor(L){this.snapshot=L,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class si{constructor(L,I,H){this.routerEvent=L,this.position=I,this.anchor=H,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Nr{constructor(L){this._root=L}get root(){return this._root.value}parent(L){const I=this.pathFromRoot(L);return I.length>1?I[I.length-2]:null}children(L){const I=Ki(L,this._root);return I?I.children.map(H=>H.value):[]}firstChild(L){const I=Ki(L,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(L){const I=jr(L,this._root);return I.length<2?[]:I[I.length-2].children.map(ee=>ee.value).filter(ee=>ee!==L)}pathFromRoot(L){return jr(L,this._root).map(I=>I.value)}}function Ki(F,L){if(F===L.value)return L;for(const I of L.children){const H=Ki(F,I);if(H)return H}return null}function jr(F,L){if(F===L.value)return[L];for(const I of L.children){const H=jr(F,I);if(H.length)return H.unshift(L),H}return[]}class ls{constructor(L,I){this.value=L,this.children=I}toString(){return`TreeNode(${this.value})`}}function xs(F){const L={};return F&&F.children.forEach(I=>L[I.value.outlet]=I),L}class ko extends Nr{constructor(L,I){super(L),this.snapshot=I,Ro(this,L)}toString(){return this.snapshot.toString()}}function vs(F,L){const I=function Dr(F,L){const nt=new Co([],{},{},"",{},It,L,null,F.root,-1,{});return new aa("",new ls(nt,[]))}(F,L),H=new ne.X([new Wt("",{})]),ee=new ne.X({}),Re=new ne.X({}),nt=new ne.X({}),dt=new ne.X(""),Kt=new $s(H,ee,nt,dt,Re,It,L,I.root);return Kt.snapshot=I.root,new ko(new ls(Kt,[]),I)}class $s{constructor(L,I,H,ee,Re,nt,dt,Kt){var kn,li;this.url=L,this.params=I,this.queryParams=H,this.fragment=ee,this.data=Re,this.outlet=nt,this.component=dt,this.title=null!==(kn=null===(li=this.data)||void 0===li?void 0:li.pipe((0,Fe.U)(Wn=>Wn[Qt])))&&void 0!==kn?kn:(0,v.of)(void 0),this._futureSnapshot=Kt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Fe.U)(L=>$t(L)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Fe.U)(L=>$t(L)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Go(F,L="emptyOnly"){const I=F.pathFromRoot;let H=0;if("always"!==L)for(H=I.length-1;H>=1;){const ee=I[H],Re=I[H-1];if(ee.routeConfig&&""===ee.routeConfig.path)H--;else{if(Re.component)break;H--}}return function bo(F){return F.reduce((L,I)=>{var H;return{params:{...L.params,...I.params},data:{...L.data,...I.data},resolve:{...I.data,...L.resolve,...null===(H=I.routeConfig)||void 0===H?void 0:H.data,...I._resolvedData}}},{params:{},data:{},resolve:{}})}(I.slice(H))}class Co{constructor(L,I,H,ee,Re,nt,dt,Kt,kn,li,Wn,di){var ji;this.url=L,this.params=I,this.queryParams=H,this.fragment=ee,this.data=Re,this.outlet=nt,this.component=dt,this.title=null===(ji=this.data)||void 0===ji?void 0:ji[Qt],this.routeConfig=Kt,this._urlSegment=kn,this._lastPathIndex=li,this._correctedLastPathIndex=di??li,this._resolve=Wn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$t(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$t(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(H=>H.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class aa extends Nr{constructor(L,I){super(I),this.url=L,Ro(this,I)}toString(){return wo(this._root)}}function Ro(F,L){L.value._routerState=F,L.children.forEach(I=>Ro(F,I))}function wo(F){const L=F.children.length>0?` { ${F.children.map(wo).join(", ")} } `:"";return`${F.value}${L}`}function Gs(F){if(F.snapshot){const L=F.snapshot,I=F._futureSnapshot;F.snapshot=I,Gn(L.queryParams,I.queryParams)||F.queryParams.next(I.queryParams),L.fragment!==I.fragment&&F.fragment.next(I.fragment),Gn(L.params,I.params)||F.params.next(I.params),function zt(F,L){if(F.length!==L.length)return!1;for(let I=0;I<F.length;++I)if(!Gn(F[I],L[I]))return!1;return!0}(L.url,I.url)||F.url.next(I.url),Gn(L.data,I.data)||F.data.next(I.data)}else F.snapshot=F._futureSnapshot,F.data.next(F._futureSnapshot.data)}function ys(F,L){const I=Gn(F.params,L.params)&&function gt(F,L){return Et(F,L)&&F.every((I,H)=>Gn(I.parameters,L[H].parameters))}(F.url,L.url);return I&&!(!F.parent!=!L.parent)&&(!F.parent||ys(F.parent,L.parent))}function ks(F,L,I){if(I&&F.shouldReuseRoute(L.value,I.value.snapshot)){const H=I.value;H._futureSnapshot=L.value;const ee=function zs(F,L,I){return L.children.map(H=>{for(const ee of I.children)if(F.shouldReuseRoute(H.value,ee.value.snapshot))return ks(F,H,ee);return ks(F,H)})}(F,L,I);return new ls(H,ee)}{if(F.shouldAttach(L.value)){const Re=F.retrieve(L.value);if(null!==Re){const nt=Re.route;return nt.value._futureSnapshot=L.value,nt.children=L.children.map(dt=>ks(F,dt)),nt}}const H=function es(F){return new $s(new ne.X(F.url),new ne.X(F.params),new ne.X(F.queryParams),new ne.X(F.fragment),new ne.X(F.data),F.outlet,F.component,F)}(L.value),ee=L.children.map(Re=>ks(F,Re));return new ls(H,ee)}}const Wr="ngNavigationCancelingError";function no(F,L){const{redirectTo:I,navigationBehaviorOptions:H}=sn(L)?{redirectTo:L,navigationBehaviorOptions:void 0}:L,ee=ba(!1,0,L);return ee.url=I,ee.navigationBehaviorOptions=H,ee}function ba(F,L,I){const H=new Error("NavigationCancelingError: "+(F||""));return H[Wr]=!0,H.cancellationCode=L,I&&(H.url=I),H}function zo(F){return Ws(F)&&sn(F.url)}function Ws(F){return F&&F[Wr]}class Qs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new mr,this.attachRef=null}}let mr=(()=>{class F{constructor(){this.contexts=new Map}onChildOutletCreated(I,H){const ee=this.getOrCreateContext(I);ee.outlet=H,this.contexts.set(I,ee)}onChildOutletDestroyed(I){const H=this.getContext(I);H&&(H.outlet=null,H.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let H=this.getContext(I);return H||(H=new Qs,this.contexts.set(I,H)),H}getContext(I){return this.contexts.get(I)||null}}return F.\u0275fac=function(I){return new(I||F)},F.\u0275prov=p.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();const Yr=!1;let Wo=(()=>{class F{constructor(I,H,ee,Re,nt){this.parentContexts=I,this.location=H,this.changeDetector=Re,this.environmentInjector=nt,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=ee||It,I.onChildOutletCreated(this.name,this)}ngOnDestroy(){var I;(null===(I=this.parentContexts.getContext(this.name))||void 0===I?void 0:I.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const I=this.parentContexts.getContext(this.name);I&&I.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,Yr);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,Yr);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,Yr);this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,H){this.activated=I,this._activatedRoute=H,this.location.insert(I.hostView),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,H){if(this.isActivated)throw new p.vHH(4013,Yr);this._activatedRoute=I;const ee=this.location,nt=I._futureSnapshot.component,dt=this.parentContexts.getOrCreateContext(this.name).children,Kt=new Ai(I,dt,ee.injector);if(H&&function Kr(F){return!!F.resolveComponentFactory}(H)){const kn=H.resolveComponentFactory(nt);this.activated=ee.createComponent(kn,ee.length,Kt)}else this.activated=ee.createComponent(nt,{index:ee.length,injector:Kt,environmentInjector:H??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return F.\u0275fac=function(I){return new(I||F)(p.Y36(mr),p.Y36(p.s_b),p.$8M("name"),p.Y36(p.sBO),p.Y36(p.lqb))},F.\u0275dir=p.lG2({type:F,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),F})();class Ai{constructor(L,I,H){this.route=L,this.childContexts=I,this.parent=H}get(L,I){return L===$s?this.route:L===mr?this.childContexts:this.parent.get(L,I)}}let io=(()=>{class F{}return F.\u0275fac=function(I){return new(I||F)},F.\u0275cmp=p.Xpm({type:F,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(I,H){1&I&&p._UZ(0,"router-outlet")},dependencies:[Wo],encapsulation:2}),F})();function bs(F,L){var I;return F.providers&&!F._injector&&(F._injector=(0,p.MMx)(F.providers,L,`Route: ${F.path}`)),null!==(I=F._injector)&&void 0!==I?I:L}function fi(F){const L=F.children&&F.children.map(fi),I=L?{...F,children:L}:{...F};return!I.component&&!I.loadComponent&&(L||I.loadChildren)&&I.outlet&&I.outlet!==It&&(I.component=io),I}function Ir(F){return F.outlet||It}function ql(F,L){const I=F.filter(H=>Ir(H)===L);return I.push(...F.filter(H=>Ir(H)!==L)),I}function cs(F){var L;if(!F)return null;if(null!==(L=F.routeConfig)&&void 0!==L&&L._injector)return F.routeConfig._injector;for(let I=F.parent;I;I=I.parent){const H=I.routeConfig;if(null!=H&&H._loadedInjector)return H._loadedInjector;if(null!=H&&H._injector)return H._injector}return null}class Ca{constructor(L,I,H,ee){this.routeReuseStrategy=L,this.futureState=I,this.currState=H,this.forwardEvent=ee}activate(L){const I=this.futureState._root,H=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,H,L),Gs(this.futureState.root),this.activateChildRoutes(I,H,L)}deactivateChildRoutes(L,I,H){const ee=xs(I);L.children.forEach(Re=>{const nt=Re.value.outlet;this.deactivateRoutes(Re,ee[nt],H),delete ee[nt]}),Pe(ee,(Re,nt)=>{this.deactivateRouteAndItsChildren(Re,H)})}deactivateRoutes(L,I,H){const ee=L.value,Re=I?I.value:null;if(ee===Re)if(ee.component){const nt=H.getContext(ee.outlet);nt&&this.deactivateChildRoutes(L,I,nt.children)}else this.deactivateChildRoutes(L,I,H);else Re&&this.deactivateRouteAndItsChildren(I,H)}deactivateRouteAndItsChildren(L,I){L.value.component&&this.routeReuseStrategy.shouldDetach(L.value.snapshot)?this.detachAndStoreRouteSubtree(L,I):this.deactivateRouteAndOutlet(L,I)}detachAndStoreRouteSubtree(L,I){const H=I.getContext(L.value.outlet),ee=H&&L.value.component?H.children:I,Re=xs(L);for(const nt of Object.keys(Re))this.deactivateRouteAndItsChildren(Re[nt],ee);if(H&&H.outlet){const nt=H.outlet.detach(),dt=H.children.onOutletDeactivated();this.routeReuseStrategy.store(L.value.snapshot,{componentRef:nt,route:L,contexts:dt})}}deactivateRouteAndOutlet(L,I){const H=I.getContext(L.value.outlet),ee=H&&L.value.component?H.children:I,Re=xs(L);for(const nt of Object.keys(Re))this.deactivateRouteAndItsChildren(Re[nt],ee);H&&H.outlet&&(H.outlet.deactivate(),H.children.onOutletDeactivated(),H.attachRef=null,H.resolver=null,H.route=null)}activateChildRoutes(L,I,H){const ee=xs(I);L.children.forEach(Re=>{this.activateRoutes(Re,ee[Re.value.outlet],H),this.forwardEvent(new Fn(Re.value.snapshot))}),L.children.length&&this.forwardEvent(new qt(L.value.snapshot))}activateRoutes(L,I,H){const ee=L.value,Re=I?I.value:null;if(Gs(ee),ee===Re)if(ee.component){const dt=H.getOrCreateContext(ee.outlet);this.activateChildRoutes(L,I,dt.children)}else this.activateChildRoutes(L,I,H);else if(ee.component){const dt=H.getOrCreateContext(ee.outlet);if(this.routeReuseStrategy.shouldAttach(ee.snapshot)){const Kt=this.routeReuseStrategy.retrieve(ee.snapshot);this.routeReuseStrategy.store(ee.snapshot,null),dt.children.onOutletReAttached(Kt.contexts),dt.attachRef=Kt.componentRef,dt.route=Kt.route.value,dt.outlet&&dt.outlet.attach(Kt.componentRef,Kt.route.value),Gs(Kt.route.value),this.activateChildRoutes(L,null,dt.children)}else{var nt;const Kt=cs(ee.snapshot),kn=null!==(nt=Kt?.get(p._Vd))&&void 0!==nt?nt:null;dt.attachRef=null,dt.route=ee,dt.resolver=kn,dt.injector=Kt,dt.outlet&&dt.outlet.activateWith(ee,dt.injector),this.activateChildRoutes(L,null,dt.children)}}else this.activateChildRoutes(L,null,H)}}class Ys{constructor(L){this.path=L,this.route=this.path[this.path.length-1]}}class Zr{constructor(L,I){this.component=L,this.route=I}}function qa(F,L,I){const H=F._root;return Po(H,L?L._root:null,I,[H.value])}function xi(F,L){const I=Symbol(),H=L.get(F,I);return H===I?"function"!=typeof F||(0,p.Z0I)(F)?L.get(F):F:H}function Po(F,L,I,H,ee={canDeactivateChecks:[],canActivateChecks:[]}){const Re=xs(L);return F.children.forEach(nt=>{(function No(F,L,I,H,ee={canDeactivateChecks:[],canActivateChecks:[]}){const Re=F.value,nt=L?L.value:null,dt=I?I.getContext(F.value.outlet):null;if(nt&&Re.routeConfig===nt.routeConfig){const Kt=function Vr(F,L,I){if("function"==typeof I)return I(F,L);switch(I){case"pathParamsChange":return!Et(F.url,L.url);case"pathParamsOrQueryParamsChange":return!Et(F.url,L.url)||!Gn(F.queryParams,L.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ys(F,L)||!Gn(F.queryParams,L.queryParams);default:return!ys(F,L)}}(nt,Re,Re.routeConfig.runGuardsAndResolvers);Kt?ee.canActivateChecks.push(new Ys(H)):(Re.data=nt.data,Re._resolvedData=nt._resolvedData),Po(F,L,Re.component?dt?dt.children:null:I,H,ee),Kt&&dt&&dt.outlet&&dt.outlet.isActivated&&ee.canDeactivateChecks.push(new Zr(dt.outlet.component,nt))}else nt&&re(L,dt,ee),ee.canActivateChecks.push(new Ys(H)),Po(F,null,Re.component?dt?dt.children:null:I,H,ee)})(nt,Re[nt.value.outlet],I,H.concat([nt.value]),ee),delete Re[nt.value.outlet]}),Pe(Re,(nt,dt)=>re(nt,I.getContext(dt),ee)),ee}function re(F,L,I){const H=xs(F),ee=F.value;Pe(H,(Re,nt)=>{re(Re,ee.component?L?L.children.getContext(nt):null:L,I)}),I.canDeactivateChecks.push(new Zr(ee.component&&L&&L.outlet&&L.outlet.isActivated?L.outlet.component:null,ee))}function Q(F){return"function"==typeof F}function Fr(F){return F instanceof C.K||"EmptyError"===F?.name}const Ko=Symbol("INITIAL_VALUE");function qi(){return(0,ot.w)(F=>(0,te.aj)(F.map(L=>L.pipe((0,ht.q)(1),(0,jt.O)(Ko)))).pipe((0,Fe.U)(L=>{for(const I of L)if(!0!==I){if(I===Ko)return Ko;if(!1===I||I instanceof Ii)return I}return!0}),(0,ut.h)(L=>L!==Ko),(0,ht.q)(1)))}function qr(F){return(0,Se.z)((0,Le.b)(L=>{if(sn(L))throw no(0,L)}),(0,Fe.U)(L=>!0===L))}const da={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Al(F,L,I,H,ee){const Re=ao(F,L,I);return Re.matched?function hl(F,L,I,H){const ee=L.canMatch;if(!ee||0===ee.length)return(0,v.of)(!0);const Re=ee.map(nt=>{const dt=xi(nt,F);return ce(function ro(F){return F&&Q(F.canMatch)}(dt)?dt.canMatch(L,I):F.runInContext(()=>dt(L,I)))});return(0,v.of)(Re).pipe(qi(),qr())}(H=bs(L,H),L,I).pipe((0,Fe.U)(nt=>!0===nt?Re:{...da})):(0,v.of)(Re)}function ao(F,L,I){var H;if(""===L.path)return"full"===L.pathMatch&&(F.hasChildren()||I.length>0)?{...da}:{matched:!0,consumedSegments:[],remainingSegments:I,parameters:{},positionalParamSegments:{}};const Re=(L.matcher||wn)(I,F,L);if(!Re)return{...da};const nt={};Pe(Re.posParams,(Kt,kn)=>{nt[kn]=Kt.path});const dt=Re.consumed.length>0?{...nt,...Re.consumed[Re.consumed.length-1].parameters}:nt;return{matched:!0,consumedSegments:Re.consumed,remainingSegments:I.slice(Re.consumed.length),parameters:dt,positionalParamSegments:null!==(H=Re.posParams)&&void 0!==H?H:{}}}function Na(F,L,I,H,ee="corrected"){if(I.length>0&&function q(F,L,I){return I.some(H=>ct(F,L,H)&&Ir(H)!==It)}(F,I,H)){const nt=new Tn(L,function _e(F,L,I,H){const ee={};ee[It]=H,H._sourceSegment=F,H._segmentIndexShift=L.length;for(const Re of I)if(""===Re.path&&Ir(Re)!==It){const nt=new Tn([],{});nt._sourceSegment=F,nt._segmentIndexShift=L.length,ee[Ir(Re)]=nt}return ee}(F,L,H,new Tn(I,F.children)));return nt._sourceSegment=F,nt._segmentIndexShift=L.length,{segmentGroup:nt,slicedSegments:[]}}if(0===I.length&&function xe(F,L,I){return I.some(H=>ct(F,L,H))}(F,I,H)){const nt=new Tn(F.segments,function W(F,L,I,H,ee,Re){const nt={};for(const dt of H)if(ct(F,I,dt)&&!ee[Ir(dt)]){const Kt=new Tn([],{});Kt._sourceSegment=F,Kt._segmentIndexShift="legacy"===Re?F.segments.length:L.length,nt[Ir(dt)]=Kt}return{...ee,...nt}}(F,L,I,H,F.children,ee));return nt._sourceSegment=F,nt._segmentIndexShift=L.length,{segmentGroup:nt,slicedSegments:I}}const Re=new Tn(F.segments,F.children);return Re._sourceSegment=F,Re._segmentIndexShift=L.length,{segmentGroup:Re,slicedSegments:I}}function ct(F,L,I){return(!(F.hasChildren()||L.length>0)||"full"!==I.pathMatch)&&""===I.path}function Xt(F,L,I,H){return!!(Ir(F)===H||H!==It&&ct(L,I,F))&&("**"===F.path||ao(L,F,I).matched)}function hn(F,L,I){return 0===L.length&&!F.children[I]}const Xn=!1;class Pi{constructor(L){this.segmentGroup=L||null}}class Ei{constructor(L){this.urlTree=L}}function Gi(F){return(0,ae._)(new Pi(F))}function Ni(F){return(0,ae._)(new Ei(F))}class Ps{constructor(L,I,H,ee,Re){this.injector=L,this.configLoader=I,this.urlSerializer=H,this.urlTree=ee,this.config=Re,this.allowRedirects=!0}apply(){const L=Na(this.urlTree.root,[],[],this.config).segmentGroup,I=new Tn(L.segments,L.children);return this.expandSegmentGroup(this.injector,this.config,I,It).pipe((0,Fe.U)(Re=>this.createUrlTree(rt(Re),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,ft.K)(Re=>{if(Re instanceof Ei)return this.allowRedirects=!1,this.match(Re.urlTree);throw Re instanceof Pi?this.noMatchError(Re):Re}))}match(L){return this.expandSegmentGroup(this.injector,this.config,L.root,It).pipe((0,Fe.U)(ee=>this.createUrlTree(rt(ee),L.queryParams,L.fragment))).pipe((0,ft.K)(ee=>{throw ee instanceof Pi?this.noMatchError(ee):ee}))}noMatchError(L){return new p.vHH(4002,Xn)}createUrlTree(L,I,H){const ee=Ce(L);return new Ii(ee,I,H)}expandSegmentGroup(L,I,H,ee){return 0===H.segments.length&&H.hasChildren()?this.expandChildren(L,I,H).pipe((0,Fe.U)(Re=>new Tn([],Re))):this.expandSegment(L,H,I,H.segments,ee,!0)}expandChildren(L,I,H){const ee=[];for(const Re of Object.keys(H.children))"primary"===Re?ee.unshift(Re):ee.push(Re);return(0,N.D)(ee).pipe((0,et.b)(Re=>{const nt=H.children[Re],dt=ql(I,Re);return this.expandSegmentGroup(L,dt,nt,Re).pipe((0,Fe.U)(Kt=>({segment:Kt,outlet:Re})))}),(0,tt.R)((Re,nt)=>(Re[nt.outlet]=nt.segment,Re),{}),ai())}expandSegment(L,I,H,ee,Re,nt){return(0,N.D)(H).pipe((0,et.b)(dt=>this.expandSegmentAgainstRoute(L,I,H,dt,ee,Re,nt).pipe((0,ft.K)(kn=>{if(kn instanceof Pi)return(0,v.of)(null);throw kn}))),(0,vt.P)(dt=>!!dt),(0,ft.K)((dt,Kt)=>{if(Fr(dt))return hn(I,ee,Re)?(0,v.of)(new Tn([],{})):Gi(I);throw dt}))}expandSegmentAgainstRoute(L,I,H,ee,Re,nt,dt){return Xt(ee,I,Re,nt)?void 0===ee.redirectTo?this.matchSegmentAgainstRoute(L,I,ee,Re,nt):dt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(L,I,H,ee,Re,nt):Gi(I):Gi(I)}expandSegmentAgainstRouteUsingRedirect(L,I,H,ee,Re,nt){return"**"===ee.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(L,H,ee,nt):this.expandRegularSegmentAgainstRouteUsingRedirect(L,I,H,ee,Re,nt)}expandWildCardWithParamsAgainstRouteUsingRedirect(L,I,H,ee){const Re=this.applyRedirectCommands([],H.redirectTo,{});return H.redirectTo.startsWith("/")?Ni(Re):this.lineralizeSegments(H,Re).pipe((0,kt.zg)(nt=>{const dt=new Tn(nt,{});return this.expandSegment(L,dt,I,nt,ee,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(L,I,H,ee,Re,nt){const{matched:dt,consumedSegments:Kt,remainingSegments:kn,positionalParamSegments:li}=ao(I,ee,Re);if(!dt)return Gi(I);const Wn=this.applyRedirectCommands(Kt,ee.redirectTo,li);return ee.redirectTo.startsWith("/")?Ni(Wn):this.lineralizeSegments(ee,Wn).pipe((0,kt.zg)(di=>this.expandSegment(L,I,H,di.concat(kn),nt,!1)))}matchSegmentAgainstRoute(L,I,H,ee,Re){return"**"===H.path?(L=bs(H,L),H.loadChildren?(H._loadedRoutes?(0,v.of)({routes:H._loadedRoutes,injector:H._loadedInjector}):this.configLoader.loadChildren(L,H)).pipe((0,Fe.U)(dt=>(H._loadedRoutes=dt.routes,H._loadedInjector=dt.injector,new Tn(ee,{})))):(0,v.of)(new Tn(ee,{}))):Al(I,H,ee,L).pipe((0,ot.w)(({matched:nt,consumedSegments:dt,remainingSegments:Kt})=>{var kn;return nt?(L=null!==(kn=H._injector)&&void 0!==kn?kn:L,this.getChildConfig(L,H,ee).pipe((0,kt.zg)(Wn=>{var di;const ji=null!==(di=Wn.injector)&&void 0!==di?di:L,Sr=Wn.routes,{segmentGroup:So,slicedSegments:Ur}=Na(I,dt,Kt,Sr),Or=new Tn(So.segments,So.children);if(0===Ur.length&&Or.hasChildren())return this.expandChildren(ji,Sr,Or).pipe((0,Fe.U)(tc=>new Tn(dt,tc)));if(0===Sr.length&&0===Ur.length)return(0,v.of)(new Tn(dt,{}));const Ls=Ir(H)===Re;return this.expandSegment(ji,Or,Sr,Ur,Ls?It:Re,!0).pipe((0,Fe.U)(Qr=>new Tn(dt.concat(Qr.segments),Qr.children)))}))):Gi(I)}))}getChildConfig(L,I,H){return I.children?(0,v.of)({routes:I.children,injector:L}):I.loadChildren?void 0!==I._loadedRoutes?(0,v.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):function el(F,L,I,H){const ee=L.canLoad;if(void 0===ee||0===ee.length)return(0,v.of)(!0);const Re=ee.map(nt=>{const dt=xi(nt,F);return ce(function Ae(F){return F&&Q(F.canLoad)}(dt)?dt.canLoad(L,I):F.runInContext(()=>dt(L,I)))});return(0,v.of)(Re).pipe(qi(),qr())}(L,I,H).pipe((0,kt.zg)(ee=>ee?this.configLoader.loadChildren(L,I).pipe((0,Le.b)(Re=>{I._loadedRoutes=Re.routes,I._loadedInjector=Re.injector})):function Ze(F){return(0,ae._)(ba(Xn,3))}())):(0,v.of)({routes:[],injector:L})}lineralizeSegments(L,I){let H=[],ee=I.root;for(;;){if(H=H.concat(ee.segments),0===ee.numberOfChildren)return(0,v.of)(H);if(ee.numberOfChildren>1||!ee.children[It])return(0,ae._)(new p.vHH(4e3,Xn));ee=ee.children[It]}}applyRedirectCommands(L,I,H){return this.applyRedirectCreateUrlTree(I,this.urlSerializer.parse(I),L,H)}applyRedirectCreateUrlTree(L,I,H,ee){const Re=this.createSegmentGroup(L,I.root,H,ee);return new Ii(Re,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(L,I){const H={};return Pe(L,(ee,Re)=>{if("string"==typeof ee&&ee.startsWith(":")){const dt=ee.substring(1);H[Re]=I[dt]}else H[Re]=ee}),H}createSegmentGroup(L,I,H,ee){const Re=this.createSegments(L,I.segments,H,ee);let nt={};return Pe(I.children,(dt,Kt)=>{nt[Kt]=this.createSegmentGroup(L,dt,H,ee)}),new Tn(Re,nt)}createSegments(L,I,H,ee){return I.map(Re=>Re.path.startsWith(":")?this.findPosParam(L,Re,ee):this.findOrReturn(Re,H))}findPosParam(L,I,H){const ee=H[I.path.substring(1)];if(!ee)throw new p.vHH(4001,Xn);return ee}findOrReturn(L,I){let H=0;for(const ee of I){if(ee.path===L.path)return I.splice(H),ee;H++}return L}}class Fo{}class Ns{constructor(L,I,H,ee,Re,nt,dt,Kt){this.injector=L,this.rootComponentType=I,this.config=H,this.urlTree=ee,this.url=Re,this.paramsInheritanceStrategy=nt,this.relativeLinkResolution=dt,this.urlSerializer=Kt}recognize(){const L=Na(this.urlTree.root,[],[],this.config.filter(I=>void 0===I.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,L,It).pipe((0,Fe.U)(I=>{if(null===I)return null;const H=new Co([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},It,this.rootComponentType,null,this.urlTree.root,-1,{}),ee=new ls(H,I),Re=new aa(this.url,ee);return this.inheritParamsAndData(Re._root),Re}))}inheritParamsAndData(L){const I=L.value,H=Go(I,this.paramsInheritanceStrategy);I.params=Object.freeze(H.params),I.data=Object.freeze(H.data),L.children.forEach(ee=>this.inheritParamsAndData(ee))}processSegmentGroup(L,I,H,ee){return 0===H.segments.length&&H.hasChildren()?this.processChildren(L,I,H):this.processSegment(L,I,H,H.segments,ee)}processChildren(L,I,H){return(0,N.D)(Object.keys(H.children)).pipe((0,et.b)(ee=>{const Re=H.children[ee],nt=ql(I,ee);return this.processSegmentGroup(L,nt,Re,ee)}),(0,tt.R)((ee,Re)=>ee&&Re?(ee.push(...Re),ee):null),function Vn(F,L=!1){return I=>I.lift(new rn(F,L))}(ee=>null!==ee),(0,qn.d)(null),ai(),(0,Fe.U)(ee=>{if(null===ee)return null;const Re=Nu(ee);return function fl(F){F.sort((L,I)=>L.value.outlet===It?-1:I.value.outlet===It?1:L.value.outlet.localeCompare(I.value.outlet))}(Re),Re}))}processSegment(L,I,H,ee,Re){return(0,N.D)(I).pipe((0,et.b)(nt=>{var dt;return this.processSegmentAgainstRoute(null!==(dt=nt._injector)&&void 0!==dt?dt:L,nt,H,ee,Re)}),(0,vt.P)(nt=>!!nt),(0,ft.K)(nt=>{if(Fr(nt))return hn(H,ee,Re)?(0,v.of)([]):(0,v.of)(null);throw nt}))}processSegmentAgainstRoute(L,I,H,ee,Re){if(I.redirectTo||!Xt(I,H,ee,Re))return(0,v.of)(null);let nt;if("**"===I.path){var dt,Kt;const kn=ee.length>0?J(ee).parameters:{},li=kl(H)+ee.length,Wn=new Co(ee,kn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ha(I),Ir(I),null!==(dt=null!==(Kt=I.component)&&void 0!==Kt?Kt:I._loadedComponent)&&void 0!==dt?dt:null,I,Cc(H),li,Ol(I),li);nt=(0,v.of)({snapshot:Wn,consumedSegments:[],remainingSegments:[]})}else nt=Al(H,I,ee,L).pipe((0,Fe.U)(({matched:kn,consumedSegments:li,remainingSegments:Wn,parameters:di})=>{var ji,Sr;if(!kn)return null;const So=kl(H)+li.length;return{snapshot:new Co(li,di,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ha(I),Ir(I),null!==(ji=null!==(Sr=I.component)&&void 0!==Sr?Sr:I._loadedComponent)&&void 0!==ji?ji:null,I,Cc(H),So,Ol(I),So),consumedSegments:li,remainingSegments:Wn}}));return nt.pipe((0,ot.w)(kn=>{var li,Wn;if(null===kn)return(0,v.of)(null);const{snapshot:di,consumedSegments:ji,remainingSegments:Sr}=kn;L=null!==(li=I._injector)&&void 0!==li?li:L;const So=null!==(Wn=I._loadedInjector)&&void 0!==Wn?Wn:L,Ur=function ts(F){return F.children?F.children:F.loadChildren?F._loadedRoutes:[]}(I),{segmentGroup:Or,slicedSegments:Ls}=Na(H,ji,Sr,Ur.filter(Qr=>void 0===Qr.redirectTo),this.relativeLinkResolution);if(0===Ls.length&&Or.hasChildren())return this.processChildren(So,Ur,Or).pipe((0,Fe.U)(Qr=>null===Qr?null:[new ls(di,Qr)]));if(0===Ur.length&&0===Ls.length)return(0,v.of)([new ls(di,[])]);const La=Ir(I)===Re;return this.processSegment(So,Ur,Or,Ls,La?It:Re).pipe((0,Fe.U)(Qr=>null===Qr?null:[new ls(di,Qr)]))}))}}function Zo(F){const L=F.value.routeConfig;return L&&""===L.path&&void 0===L.redirectTo}function Nu(F){const L=[],I=new Set;for(const H of F){if(!Zo(H)){L.push(H);continue}const ee=L.find(Re=>H.value.routeConfig===Re.value.routeConfig);void 0!==ee?(ee.children.push(...H.children),I.add(ee)):L.push(H)}for(const H of I){const ee=Nu(H.children);L.push(new ls(H.value,ee))}return L.filter(H=>!I.has(H))}function Cc(F){let L=F;for(;L._sourceSegment;)L=L._sourceSegment;return L}function kl(F){var L;let I=F,H=null!==(L=I._segmentIndexShift)&&void 0!==L?L:0;for(;I._sourceSegment;){var ee;I=I._sourceSegment,H+=null!==(ee=I._segmentIndexShift)&&void 0!==ee?ee:0}return H-1}function ha(F){return F.data||{}}function Ol(F){return F.resolve||{}}function pl(F){return"string"==typeof F.title||null===F.title}function pa(F){return(0,ot.w)(L=>{const I=F(L);return I?(0,N.D)(I).pipe((0,Fe.U)(()=>L)):(0,v.of)(L)})}let Nn=(()=>{class F{buildTitle(I){let H,ee=I.root;for(;void 0!==ee;){var Re;H=null!==(Re=this.getResolvedTitleForRoute(ee))&&void 0!==Re?Re:H,ee=ee.children.find(nt=>nt.outlet===It)}return H}getResolvedTitleForRoute(I){return I.data[Qt]}}return F.\u0275fac=function(I){return new(I||F)},F.\u0275prov=p.Yz7({token:F,factory:function(){return(0,p.f3M)(Qi)},providedIn:"root"}),F})(),Qi=(()=>{class F extends Nn{constructor(I){super(),this.title=I}updateTitle(I){const H=this.buildTitle(I);void 0!==H&&this.title.setTitle(H)}}return F.\u0275fac=function(I){return new(I||F)(p.LFG(Ln.Dx))},F.\u0275prov=p.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();class Fu{}class wi extends class ii{shouldDetach(L){return!1}store(L,I){}shouldAttach(L){return!1}retrieve(L){return null}shouldReuseRoute(L,I){return L.routeConfig===I.routeConfig}}{}const Zn=new p.OlP("",{providedIn:"root",factory:()=>({})}),In=new p.OlP("ROUTES");let xr=(()=>{class F{constructor(I,H){this.injector=I,this.compiler=H,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(I){if(this.componentLoaders.get(I))return this.componentLoaders.get(I);if(I._loadedComponent)return(0,v.of)(I._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(I);const H=ce(I.loadComponent()).pipe((0,Le.b)(Re=>{this.onLoadEndListener&&this.onLoadEndListener(I),I._loadedComponent=Re}),(0,Ke.x)(()=>{this.componentLoaders.delete(I)})),ee=new Ie.c(H,()=>new Ue.xQ).pipe((0,Tt.x)());return this.componentLoaders.set(I,ee),ee}loadChildren(I,H){if(this.childrenLoaders.get(H))return this.childrenLoaders.get(H);if(H._loadedRoutes)return(0,v.of)({routes:H._loadedRoutes,injector:H._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(H);const Re=this.loadModuleFactoryOrRoutes(H.loadChildren).pipe((0,Fe.U)(dt=>{this.onLoadEndListener&&this.onLoadEndListener(H);let Kt,kn,li=!1;Array.isArray(dt)?kn=dt:(Kt=dt.create(I).injector,kn=pt(Kt.get(In,[],p.XFs.Self|p.XFs.Optional)));return{routes:kn.map(fi),injector:Kt}}),(0,Ke.x)(()=>{this.childrenLoaders.delete(H)})),nt=new Ie.c(Re,()=>new Ue.xQ).pipe((0,Tt.x)());return this.childrenLoaders.set(H,nt),nt}loadModuleFactoryOrRoutes(I){return ce(I()).pipe((0,kt.zg)(H=>H instanceof p.YKP||Array.isArray(H)?(0,v.of)(H):(0,N.D)(this.compiler.compileModuleAsync(H))))}}return F.\u0275fac=function(I){return new(I||F)(p.LFG(p.zs3),p.LFG(p.Sil))},F.\u0275prov=p.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();class wc{}class us{shouldProcessUrl(L){return!0}extract(L){return L}merge(L,I){return L}}function ma(F){throw F}function Nl(F,L,I){return L.parse("/")}const Fl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Td(){var F,L;const I=(0,p.f3M)(fn),H=(0,p.f3M)(mr),ee=(0,p.f3M)(Je.Ye),Re=(0,p.f3M)(p.zs3),nt=(0,p.f3M)(p.Sil),dt=null!==(F=(0,p.f3M)(In,{optional:!0}))&&void 0!==F?F:[],Kt=null!==(L=(0,p.f3M)(Zn,{optional:!0}))&&void 0!==L?L:{},kn=(0,p.f3M)(Qi),li=(0,p.f3M)(Nn,{optional:!0}),Wn=(0,p.f3M)(wc,{optional:!0}),di=(0,p.f3M)(Fu,{optional:!0}),ji=new ps(null,I,H,ee,Re,nt,pt(dt));return Wn&&(ji.urlHandlingStrategy=Wn),di&&(ji.routeReuseStrategy=di),ji.titleStrategy=li??kn,function ml(F,L){F.errorHandler&&(L.errorHandler=F.errorHandler),F.malformedUriErrorHandler&&(L.malformedUriErrorHandler=F.malformedUriErrorHandler),F.onSameUrlNavigation&&(L.onSameUrlNavigation=F.onSameUrlNavigation),F.paramsInheritanceStrategy&&(L.paramsInheritanceStrategy=F.paramsInheritanceStrategy),F.relativeLinkResolution&&(L.relativeLinkResolution=F.relativeLinkResolution),F.urlUpdateStrategy&&(L.urlUpdateStrategy=F.urlUpdateStrategy),F.canceledNavigationResolution&&(L.canceledNavigationResolution=F.canceledNavigationResolution)}(Kt,ji),ji}let ps=(()=>{class F{constructor(I,H,ee,Re,nt,dt,Kt){this.rootComponentType=I,this.urlSerializer=H,this.rootContexts=ee,this.location=Re,this.config=Kt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ue.xQ,this.errorHandler=ma,this.malformedUriErrorHandler=Nl,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,v.of)(void 0),this.urlHandlingStrategy=new us,this.routeReuseStrategy=new wi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=nt.get(xr),this.configLoader.onLoadEndListener=di=>this.triggerEvent(new Pt(di)),this.configLoader.onLoadStartListener=di=>this.triggerEvent(new _s(di)),this.ngModule=nt.get(p.h0i),this.console=nt.get(p.c2e);const Wn=nt.get(p.R0b);this.isNgZoneEnabled=Wn instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(Kt),this.currentUrlTree=function be(){return new Ii(new Tn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=vs(this.currentUrlTree,this.rootComponentType),this.transitions=new ne.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var I;return null===(I=this.location.getState())||void 0===I?void 0:I.\u0275routerPageId}setupNavigations(I){const H=this.events;return I.pipe((0,ut.h)(ee=>0!==ee.id),(0,Fe.U)(ee=>({...ee,extractedUrl:this.urlHandlingStrategy.extract(ee.rawUrl)})),(0,ot.w)(ee=>{let Re=!1,nt=!1;return(0,v.of)(ee).pipe((0,Le.b)(dt=>{this.currentNavigation={id:dt.id,initialUrl:dt.rawUrl,extractedUrl:dt.extractedUrl,trigger:dt.source,extras:dt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ot.w)(dt=>{const Kt=this.browserUrlTree.toString(),kn=!this.navigated||dt.extractedUrl.toString()!==Kt||Kt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||kn)&&this.urlHandlingStrategy.shouldProcessUrl(dt.rawUrl))return Ti(dt.source)&&(this.browserUrlTree=dt.extractedUrl),(0,v.of)(dt).pipe((0,ot.w)(Wn=>{const di=this.transitions.getValue();return H.next(new Ao(Wn.id,this.serializeUrl(Wn.extractedUrl),Wn.source,Wn.restoredState)),di!==this.transitions.getValue()?ye.E:Promise.resolve(Wn)}),function Ks(F,L,I,H){return(0,ot.w)(ee=>function fr(F,L,I,H,ee){return new Ps(F,L,I,H,ee).apply()}(F,L,I,ee.extractedUrl,H).pipe((0,Fe.U)(Re=>({...ee,urlAfterRedirects:Re}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Le.b)(Wn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Wn.urlAfterRedirects},ee.urlAfterRedirects=Wn.urlAfterRedirects}),function Fa(F,L,I,H,ee,Re){return(0,kt.zg)(nt=>function rr(F,L,I,H,ee,Re,nt="emptyOnly",dt="legacy"){return new Ns(F,L,I,H,ee,nt,dt,Re).recognize().pipe((0,ot.w)(Kt=>null===Kt?function Do(F){return new me.y(L=>L.error(F))}(new Fo):(0,v.of)(Kt)))}(F,L,I,nt.urlAfterRedirects,H.serialize(nt.urlAfterRedirects),H,ee,Re).pipe((0,Fe.U)(dt=>({...nt,targetSnapshot:dt}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Le.b)(Wn=>{if(ee.targetSnapshot=Wn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Wn.extras.skipLocationChange){const ji=this.urlHandlingStrategy.merge(Wn.urlAfterRedirects,Wn.rawUrl);this.setBrowserUrl(ji,Wn)}this.browserUrlTree=Wn.urlAfterRedirects}const di=new Is(Wn.id,this.serializeUrl(Wn.extractedUrl),this.serializeUrl(Wn.urlAfterRedirects),Wn.targetSnapshot);H.next(di)}));if(kn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:di,extractedUrl:ji,source:Sr,restoredState:So,extras:Ur}=dt,Or=new Ao(di,this.serializeUrl(ji),Sr,So);H.next(Or);const Ls=vs(ji,this.rootComponentType).snapshot;return ee={...dt,targetSnapshot:Ls,urlAfterRedirects:ji,extras:{...Ur,skipLocationChange:!1,replaceUrl:!1}},(0,v.of)(ee)}return this.rawUrlTree=dt.rawUrl,dt.resolve(null),ye.E}),(0,Le.b)(dt=>{const Kt=new Ra(dt.id,this.serializeUrl(dt.extractedUrl),this.serializeUrl(dt.urlAfterRedirects),dt.targetSnapshot);this.triggerEvent(Kt)}),(0,Fe.U)(dt=>ee={...dt,guards:qa(dt.targetSnapshot,dt.currentSnapshot,this.rootContexts)}),function oo(F,L){return(0,kt.zg)(I=>{const{targetSnapshot:H,currentSnapshot:ee,guards:{canActivateChecks:Re,canDeactivateChecks:nt}}=I;return 0===nt.length&&0===Re.length?(0,v.of)({...I,guardsResult:!0}):function Ql(F,L,I,H){return(0,N.D)(F).pipe((0,kt.zg)(ee=>function ua(F,L,I,H,ee){const Re=L&&L.routeConfig?L.routeConfig.canDeactivate:null;if(!Re||0===Re.length)return(0,v.of)(!0);const nt=Re.map(dt=>{var Kt;const kn=null!==(Kt=cs(L))&&void 0!==Kt?Kt:ee,li=xi(dt,kn);return ce(function Er(F){return F&&Q(F.canDeactivate)}(li)?li.canDeactivate(F,L,I,H):kn.runInContext(()=>li(F,L,I,H))).pipe((0,vt.P)())});return(0,v.of)(nt).pipe(qi())}(ee.component,ee.route,I,L,H)),(0,vt.P)(ee=>!0!==ee,!0))}(nt,H,ee,F).pipe((0,kt.zg)(dt=>dt&&function $(F){return"boolean"==typeof F}(dt)?function Pa(F,L,I,H){return(0,N.D)(L).pipe((0,et.b)(ee=>(0,we.z)(function Qa(F,L){return null!==F&&L&&L(new Rt(F)),(0,v.of)(!0)}(ee.route.parent,H),function Xl(F,L){return null!==F&&L&&L(new vn(F)),(0,v.of)(!0)}(ee.route,H),function Ja(F,L,I){const H=L[L.length-1],Re=L.slice(0,L.length-1).reverse().map(nt=>function Mn(F){const L=F.routeConfig?F.routeConfig.canActivateChild:null;return L&&0!==L.length?{node:F,guards:L}:null}(nt)).filter(nt=>null!==nt).map(nt=>(0,he.P)(()=>{const dt=nt.guards.map(Kt=>{var kn;const li=null!==(kn=cs(nt.node))&&void 0!==kn?kn:I,Wn=xi(Kt,li);return ce(function Jn(F){return F&&Q(F.canActivateChild)}(Wn)?Wn.canActivateChild(H,F):li.runInContext(()=>Wn(H,F))).pipe((0,vt.P)())});return(0,v.of)(dt).pipe(qi())}));return(0,v.of)(Re).pipe(qi())}(F,ee.path,I),function Xa(F,L,I){const H=L.routeConfig?L.routeConfig.canActivate:null;if(!H||0===H.length)return(0,v.of)(!0);const ee=H.map(Re=>(0,he.P)(()=>{var nt;const dt=null!==(nt=cs(L))&&void 0!==nt?nt:I,Kt=xi(Re,dt);return ce(function nn(F){return F&&Q(F.canActivate)}(Kt)?Kt.canActivate(L,F):dt.runInContext(()=>Kt(L,F))).pipe((0,vt.P)())}));return(0,v.of)(ee).pipe(qi())}(F,ee.route,I))),(0,vt.P)(ee=>!0!==ee,!0))}(H,Re,F,L):(0,v.of)(dt)),(0,Fe.U)(dt=>({...I,guardsResult:dt})))})}(this.ngModule.injector,dt=>this.triggerEvent(dt)),(0,Le.b)(dt=>{if(ee.guardsResult=dt.guardsResult,sn(dt.guardsResult))throw no(0,dt.guardsResult);const Kt=new to(dt.id,this.serializeUrl(dt.extractedUrl),this.serializeUrl(dt.urlAfterRedirects),dt.targetSnapshot,!!dt.guardsResult);this.triggerEvent(Kt)}),(0,ut.h)(dt=>!!dt.guardsResult||(this.restoreHistory(dt),this.cancelNavigationTransition(dt,"",3),!1)),pa(dt=>{if(dt.guards.canActivateChecks.length)return(0,v.of)(dt).pipe((0,Le.b)(Kt=>{const kn=new Oa(Kt.id,this.serializeUrl(Kt.extractedUrl),this.serializeUrl(Kt.urlAfterRedirects),Kt.targetSnapshot);this.triggerEvent(kn)}),(0,ot.w)(Kt=>{let kn=!1;return(0,v.of)(Kt).pipe(function ou(F,L){return(0,kt.zg)(I=>{const{targetSnapshot:H,guards:{canActivateChecks:ee}}=I;if(!ee.length)return(0,v.of)(I);let Re=0;return(0,N.D)(ee).pipe((0,et.b)(nt=>function Pl(F,L,I,H){const ee=F.routeConfig,Re=F._resolve;return void 0!==ee?.title&&!pl(ee)&&(Re[Qt]=ee.title),function sr(F,L,I,H){const ee=function fa(F){return[...Object.keys(F),...Object.getOwnPropertySymbols(F)]}(F);if(0===ee.length)return(0,v.of)({});const Re={};return(0,N.D)(ee).pipe((0,kt.zg)(nt=>function Lo(F,L,I,H){var ee;const Re=null!==(ee=cs(L))&&void 0!==ee?ee:H,nt=xi(F,Re);return ce(nt.resolve?nt.resolve(L,I):Re.runInContext(()=>nt(L,I)))}(F[nt],L,I,H).pipe((0,vt.P)(),(0,Le.b)(dt=>{Re[nt]=dt}))),Ge(1),function ke(F){return L=>L.lift(new Be(F))}(Re),(0,ft.K)(nt=>Fr(nt)?ye.E:(0,ae._)(nt)))}(Re,F,L,H).pipe((0,Fe.U)(nt=>(F._resolvedData=nt,F.data=Go(F,I).resolve,ee&&pl(ee)&&(F.data[Qt]=ee.title),null)))}(nt.route,H,F,L)),(0,Le.b)(()=>Re++),Ge(1),(0,kt.zg)(nt=>Re===ee.length?(0,v.of)(I):ye.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Le.b)({next:()=>kn=!0,complete:()=>{kn||(this.restoreHistory(Kt),this.cancelNavigationTransition(Kt,"",2))}}))}),(0,Le.b)(Kt=>{const kn=new fs(Kt.id,this.serializeUrl(Kt.extractedUrl),this.serializeUrl(Kt.urlAfterRedirects),Kt.targetSnapshot);this.triggerEvent(kn)}))}),pa(dt=>{const Kt=kn=>{var li;const Wn=[];null!==(li=kn.routeConfig)&&void 0!==li&&li.loadComponent&&!kn.routeConfig._loadedComponent&&Wn.push(this.configLoader.loadComponent(kn.routeConfig).pipe((0,Le.b)(di=>{kn.component=di}),(0,Fe.U)(()=>{})));for(const di of kn.children)Wn.push(...Kt(di));return Wn};return(0,te.aj)(Kt(dt.targetSnapshot.root)).pipe((0,qn.d)(),(0,ht.q)(1))}),pa(()=>this.afterPreactivation()),(0,Fe.U)(dt=>{const Kt=function As(F,L,I){const H=ks(F,L._root,I?I._root:void 0);return new ko(H,L)}(this.routeReuseStrategy,dt.targetSnapshot,dt.currentRouterState);return ee={...dt,targetRouterState:Kt}}),(0,Le.b)(dt=>{this.currentUrlTree=dt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(dt.urlAfterRedirects,dt.rawUrl),this.routerState=dt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(dt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,dt),this.browserUrlTree=dt.urlAfterRedirects)}),((F,L,I)=>(0,Fe.U)(H=>(new Ca(L,H.targetRouterState,H.currentRouterState,I).activate(F),H)))(this.rootContexts,this.routeReuseStrategy,dt=>this.triggerEvent(dt)),(0,Le.b)({next(){Re=!0},complete(){Re=!0}}),(0,Ke.x)(()=>{var dt;Re||nt||this.cancelNavigationTransition(ee,"",1),(null===(dt=this.currentNavigation)||void 0===dt?void 0:dt.id)===ee.id&&(this.currentNavigation=null)}),(0,ft.K)(dt=>{if(nt=!0,Ws(dt)){zo(dt)||(this.navigated=!0,this.restoreHistory(ee,!0));const kn=new gs(ee.id,this.serializeUrl(ee.extractedUrl),dt.message,dt.cancellationCode);if(H.next(kn),zo(dt)){const li=this.urlHandlingStrategy.merge(dt.url,this.rawUrlTree),Wn={skipLocationChange:ee.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ti(ee.source)};this.scheduleNavigation(li,"imperative",null,Wn,{resolve:ee.resolve,reject:ee.reject,promise:ee.promise})}else ee.resolve(!1)}else{var Kt;this.restoreHistory(ee,!0);const kn=new Yi(ee.id,this.serializeUrl(ee.extractedUrl),dt,null!==(Kt=ee.targetSnapshot)&&void 0!==Kt?Kt:void 0);H.next(kn);try{ee.resolve(this.errorHandler(dt))}catch(li){ee.reject(li)}}return ye.E}))}))}resetRootComponentType(I){this.rootComponentType=I,this.routerState.root.component=this.rootComponentType}setTransition(I){this.transitions.next({...this.transitions.value,...I})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const H="popstate"===I.type?"popstate":"hashchange";"popstate"===H&&setTimeout(()=>{var ee;const Re={replaceUrl:!0},nt=null!==(ee=I.state)&&void 0!==ee&&ee.navigationId?I.state:null;if(nt){const Kt={...nt};delete Kt.navigationId,delete Kt.\u0275routerPageId,0!==Object.keys(Kt).length&&(Re.state=Kt)}const dt=this.parseUrl(I.url);this.scheduleNavigation(dt,H,nt,Re)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(I){this.events.next(I)}resetConfig(I){this.config=I.map(fi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(I,H={}){const{relativeTo:ee,queryParams:Re,fragment:nt,queryParamsHandling:dt,preserveFragment:Kt}=H,kn=ee||this.routerState.root,li=Kt?this.currentUrlTree.fragment:nt;let Wn=null;switch(dt){case"merge":Wn={...this.currentUrlTree.queryParams,...Re};break;case"preserve":Wn=this.currentUrlTree.queryParams;break;default:Wn=Re||null}return null!==Wn&&(Wn=this.removeEmptyProps(Wn)),pr(kn,this.currentUrlTree,I,Wn,li??null)}navigateByUrl(I,H={skipLocationChange:!1}){const ee=sn(I)?I:this.parseUrl(I),Re=this.urlHandlingStrategy.merge(ee,this.rawUrlTree);return this.scheduleNavigation(Re,"imperative",null,H)}navigate(I,H={skipLocationChange:!1}){return function Ll(F){for(let L=0;L<F.length;L++){if(null==F[L])throw new p.vHH(4008,false)}}(I),this.navigateByUrl(this.createUrlTree(I,H),H)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let H;try{H=this.urlSerializer.parse(I)}catch(ee){H=this.malformedUriErrorHandler(ee,this.urlSerializer,I)}return H}isActive(I,H){let ee;if(ee=!0===H?{...Fl}:!1===H?{...nl}:H,sn(I))return Nt(this.currentUrlTree,I,ee);const Re=this.parseUrl(I);return Nt(this.currentUrlTree,Re,ee)}removeEmptyProps(I){return Object.keys(I).reduce((H,ee)=>{const Re=I[ee];return null!=Re&&(H[ee]=Re),H},{})}processNavigations(){this.navigations.subscribe(I=>{var H;this.navigated=!0,this.lastSuccessfulId=I.id,this.currentPageId=I.targetPageId,this.events.next(new as(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(H=this.titleStrategy)||void 0===H||H.updateTitle(this.routerState.snapshot),I.resolve(!0)},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)})}scheduleNavigation(I,H,ee,Re,nt){if(this.disposed)return Promise.resolve(!1);let dt,Kt,kn;nt?(dt=nt.resolve,Kt=nt.reject,kn=nt.promise):kn=new Promise((Sr,So)=>{dt=Sr,Kt=So});const li=++this.navigationId;let Wn;if("computed"===this.canceledNavigationResolution)if(0===this.currentPageId&&(ee=this.location.getState()),ee&&ee.\u0275routerPageId)Wn=ee.\u0275routerPageId;else if(Re.replaceUrl||Re.skipLocationChange){var di;Wn=null!==(di=this.browserPageId)&&void 0!==di?di:0}else{var ji;Wn=(null!==(ji=this.browserPageId)&&void 0!==ji?ji:0)+1}else Wn=0;return this.setTransition({id:li,targetPageId:Wn,source:H,restoredState:ee,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:I,extras:Re,resolve:dt,reject:Kt,promise:kn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),kn.catch(Sr=>Promise.reject(Sr))}setBrowserUrl(I,H){const ee=this.urlSerializer.serialize(I),Re={...H.extras.state,...this.generateNgRouterState(H.id,H.targetPageId)};this.location.isCurrentPathEqualTo(ee)||H.extras.replaceUrl?this.location.replaceState(ee,"",Re):this.location.go(ee,"",Re)}restoreHistory(I,H=!1){if("computed"===this.canceledNavigationResolution){var ee,Re;const nt=this.currentPageId-I.targetPageId;"popstate"!==I.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(ee=this.currentNavigation)||void 0===ee?void 0:ee.finalUrl)||0===nt?this.currentUrlTree===(null===(Re=this.currentNavigation)||void 0===Re?void 0:Re.finalUrl)&&0===nt&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(nt)}else"replace"===this.canceledNavigationResolution&&(H&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(I,H,ee){const Re=new gs(I.id,this.serializeUrl(I.extractedUrl),H,ee);this.triggerEvent(Re),I.resolve(!1)}generateNgRouterState(I,H){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:H}:{navigationId:I}}}return F.\u0275fac=function(I){p.$Z()},F.\u0275prov=p.Yz7({token:F,factory:function(){return Td()},providedIn:"root"}),F})();function Ti(F){return"imperative"!==F}let qo=(()=>{class F{constructor(I,H,ee,Re,nt){this.router=I,this.route=H,this.tabIndexAttribute=ee,this.renderer=Re,this.el=nt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Ue.xQ,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(I){this._preserveFragment=(0,p.D6c)(I)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(I){this._skipLocationChange=(0,p.D6c)(I)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(I){this._replaceUrl=(0,p.D6c)(I)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(I){if(null!=this.tabIndexAttribute)return;const H=this.renderer,ee=this.el.nativeElement;null!==I?H.setAttribute(ee,"tabindex",I):H.removeAttribute(ee,"tabindex")}ngOnChanges(I){this.onChanges.next(this)}set routerLink(I){null!=I?(this.commands=Array.isArray(I)?I:[I],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return F.\u0275fac=function(I){return new(I||F)(p.Y36(ps),p.Y36($s),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq))},F.\u0275dir=p.lG2({type:F,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(I,H){1&I&&p.NdJ("click",function(){return H.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),F})(),Bl=(()=>{class F{constructor(I,H,ee){this.router=I,this.route=H,this.locationStrategy=ee,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Ue.xQ,this.subscription=I.events.subscribe(Re=>{Re instanceof as&&this.updateTargetUrlAndHref()})}set preserveFragment(I){this._preserveFragment=(0,p.D6c)(I)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(I){this._skipLocationChange=(0,p.D6c)(I)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(I){this._replaceUrl=(0,p.D6c)(I)}get replaceUrl(){return this._replaceUrl}set routerLink(I){this.commands=null!=I?Array.isArray(I)?I:[I]:null}ngOnChanges(I){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(I,H,ee,Re,nt){return!!(0!==I||H||ee||Re||nt||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return F.\u0275fac=function(I){return new(I||F)(p.Y36(ps),p.Y36($s),p.Y36(Je.S$))},F.\u0275dir=p.lG2({type:F,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(I,H){1&I&&p.NdJ("click",function(Re){return H.onClick(Re.button,Re.ctrlKey,Re.shiftKey,Re.altKey,Re.metaKey)}),2&I&&p.uIk("target",H.target)("href",H.href,p.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),F})();class ds{}let vr=(()=>{class F{constructor(I,H,ee,Re,nt){this.router=I,this.injector=ee,this.preloadingStrategy=Re,this.loader=nt}setUpPreloading(){this.subscription=this.router.events.pipe((0,ut.h)(I=>I instanceof as),(0,et.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,H){const ee=[];for(const Kt of H){var Re,nt;Kt.providers&&!Kt._injector&&(Kt._injector=(0,p.MMx)(Kt.providers,I,`Route: ${Kt.path}`));const kn=null!==(Re=Kt._injector)&&void 0!==Re?Re:I,li=null!==(nt=Kt._loadedInjector)&&void 0!==nt?nt:kn;if(Kt.loadChildren&&!Kt._loadedRoutes&&void 0===Kt.canLoad||Kt.loadComponent&&!Kt._loadedComponent)ee.push(this.preloadConfig(kn,Kt));else if(Kt.children||Kt._loadedRoutes){var dt;ee.push(this.processRoutes(li,null!==(dt=Kt.children)&&void 0!==dt?dt:Kt._loadedRoutes))}}return(0,N.D)(ee).pipe((0,en.J)())}preloadConfig(I,H){return this.preloadingStrategy.preload(H,()=>{let ee;ee=H.loadChildren&&void 0===H.canLoad?this.loader.loadChildren(I,H):(0,v.of)(null);const Re=ee.pipe((0,kt.zg)(nt=>{var dt;return null===nt?(0,v.of)(void 0):(H._loadedRoutes=nt.routes,H._loadedInjector=nt.injector,this.processRoutes(null!==(dt=nt.injector)&&void 0!==dt?dt:I,nt.routes))}));if(H.loadComponent&&!H._loadedComponent){const nt=this.loader.loadComponent(H);return(0,N.D)([Re,nt]).pipe((0,en.J)())}return Re})}}return F.\u0275fac=function(I){return new(I||F)(p.LFG(ps),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(ds),p.LFG(xr))},F.\u0275prov=p.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();const zn=new p.OlP("");let Vo=(()=>{class F{constructor(I,H,ee={}){this.router=I,this.viewportScroller=H,this.options=ee,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ee.scrollPositionRestoration=ee.scrollPositionRestoration||"disabled",ee.anchorScrolling=ee.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(I=>{I instanceof Ao?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof as&&(this.lastId=I.id,this.scheduleScrollEvent(I,this.router.parseUrl(I.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(I=>{I instanceof si&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,H){this.router.triggerEvent(new si(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,H))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return F.\u0275fac=function(I){p.$Z()},F.\u0275prov=p.Yz7({token:F,factory:F.\u0275fac}),F})();function ga(F,L){return{\u0275kind:F,\u0275providers:L}}function Hi(F){return[{provide:In,multi:!0,useValue:F}]}function Ul(){const F=(0,p.f3M)(p.zs3);return L=>{var I,H;const ee=F.get(p.z2F);if(L!==ee.components[0])return;const Re=F.get(ps),nt=F.get(Dc);1===F.get(co)&&Re.initialNavigation(),null===(I=F.get(Xo,null,p.XFs.Optional))||void 0===I||I.setUpPreloading(),null===(H=F.get(zn,null,p.XFs.Optional))||void 0===H||H.init(),Re.resetRootComponentType(ee.componentTypes[0]),nt.next(),nt.complete()}}const Dc=new p.OlP("",{factory:()=>new Ue.xQ}),co=new p.OlP("",{providedIn:"root",factory:()=>1});const Xo=new p.OlP("");function gl(F){return ga(0,[{provide:Xo,useExisting:vr},{provide:ds,useExisting:F}])}const Sc=new p.OlP("ROUTER_FORROOT_GUARD"),il=[Je.Ye,{provide:fn,useClass:lt},{provide:ps,useFactory:Td},mr,{provide:$s,useFactory:function Ea(F){return F.routerState.root},deps:[ps]},xr];function Sa(){return new p.PXZ("Router",ps)}let Eo=(()=>{class F{constructor(I){}static forRoot(I,H){return{ngModule:F,providers:[il,[],Hi(I),{provide:Sc,useFactory:Xs,deps:[[ps,new p.FiY,new p.tp0]]},{provide:Zn,useValue:H||{}},null!=H&&H.useHash?{provide:Je.S$,useClass:Je.Do}:{provide:Je.S$,useClass:Je.b0},{provide:zn,useFactory:()=>{const F=(0,p.f3M)(ps),L=(0,p.f3M)(Je.EM),I=(0,p.f3M)(Zn);return I.scrollOffset&&L.setOffset(I.scrollOffset),new Vo(F,L,I)}},null!=H&&H.preloadingStrategy?gl(H.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:Sa},null!=H&&H.initialNavigation?Hl(H):[],[{provide:fo,useFactory:Ul},{provide:p.tb,multi:!0,useExisting:fo}]]}}static forChild(I){return{ngModule:F,providers:[Hi(I)]}}}return F.\u0275fac=function(I){return new(I||F)(p.LFG(Sc,8))},F.\u0275mod=p.oAB({type:F}),F.\u0275inj=p.cJS({imports:[io]}),F})();function Xs(F){return"guarded"}function Hl(F){return["disabled"===F.initialNavigation?ga(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const L=(0,p.f3M)(ps);return()=>{L.setUpLocationChangeListener()}}},{provide:co,useValue:2}]).\u0275providers:[],"enabledBlocking"===F.initialNavigation?ga(2,[{provide:co,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:L=>{const I=L.get(Je.V_,Promise.resolve());let H=!1;return()=>I.then(()=>new Promise(Re=>{const nt=L.get(ps),dt=L.get(Dc);(function ee(Re){L.get(ps).events.pipe((0,ut.h)(dt=>dt instanceof as||dt instanceof gs||dt instanceof Yi),(0,Fe.U)(dt=>dt instanceof as||dt instanceof gs&&(0===dt.code||1===dt.code)&&null),(0,ut.h)(dt=>null!==dt),(0,ht.q)(1)).subscribe(()=>{Re()})})(()=>{Re(!0),H=!0}),nt.afterPreactivation=()=>(Re(!0),H||dt.closed?(0,v.of)(void 0):dt),nt.initialNavigation()}))}}]).\u0275providers:[]]}const fo=new p.OlP("")},3942:(gn,_t,x)=>{"use strict";x.d(_t,{Z:()=>Je});var p=x(2090),N=x(4859),v=x(9681),ne=x(1877);class C{constructor(ot,ht){this._delegate=ot,this.firebase=ht,(0,v._addComponent)(ot,new N.wA("app-compat",()=>this,"PUBLIC")),this.container=ot.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ot){this._delegate.automaticDataCollectionEnabled=ot}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ot=>{this._delegate.checkDestroyed(),ot()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,v.deleteApp)(this._delegate)))}_getService(ot,ht=v._DEFAULT_ENTRY_NAME){var jt;this._delegate.checkDestroyed();const ut=this._delegate.container.getProvider(ot);return!ut.isInitialized()&&"EXPLICIT"===(null===(jt=ut.getComponent())||void 0===jt?void 0:jt.instantiationMode)&&ut.initialize(),ut.getImmediate({identifier:ht})}_removeServiceInstance(ot,ht=v._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ot).clearInstance(ht)}_addComponent(ot){(0,v._addComponent)(this._delegate,ot)}_addOrOverwriteComponent(ot){(0,v._addOrOverwriteComponent)(this._delegate,ot)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const we=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ae=function Se(){const Fe=function he(Fe){const ot={},ht={__esModule:!0,initializeApp:function kt(ft,tt={}){const qe=v.initializeApp(ft,tt);if((0,p.r3)(ot,qe.name))return ot[qe.name];const Lt=new Fe(qe,ht);return ot[qe.name]=Lt,Lt},app:ut,registerVersion:v.registerVersion,setLogLevel:v.setLogLevel,onLog:v.onLog,apps:null,SDK_VERSION:v.SDK_VERSION,INTERNAL:{registerComponent:function et(ft){const tt=ft.name,qe=tt.replace("-compat","");if(v._registerComponent(ft)&&"PUBLIC"===ft.type){const Lt=(Ge=ut())=>{if("function"!=typeof Ge[qe])throw we.create("invalid-app-argument",{appName:tt});return Ge[qe]()};void 0!==ft.serviceProps&&(0,p.ZB)(Lt,ft.serviceProps),ht[qe]=Lt,Fe.prototype[qe]=function(...Ge){return this._getService.bind(this,tt).apply(this,ft.multipleInstances?Ge:[])}}return"PUBLIC"===ft.type?ht[qe]:null},removeApp:function jt(ft){delete ot[ft]},useAsService:function Le(ft,tt){return"serverAuth"===tt?null:tt},modularAPIs:v}};function ut(ft){if(!(0,p.r3)(ot,ft=ft||v._DEFAULT_ENTRY_NAME))throw we.create("no-app",{appName:ft});return ot[ft]}return ht.default=ht,Object.defineProperty(ht,"apps",{get:function vt(){return Object.keys(ot).map(ft=>ot[ft])}}),ut.App=Fe,ht}(C);return Fe.INTERNAL=Object.assign(Object.assign({},Fe.INTERNAL),{createFirebaseNamespace:Se,extendNamespace:function ot(ht){(0,p.ZB)(Fe,ht)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),Fe}(),me=new ne.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){me.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Fe=self.firebase.SDK_VERSION;Fe&&Fe.indexOf("LITE")>=0&&me.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Je=ae;!function Ue(Fe){(0,v.registerVersion)("@firebase/app-compat","0.1.38",Fe)}()},9681:(gn,_t,x)=>{"use strict";x.r(_t),x.d(_t,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>$t,_DEFAULT_ENTRY_NAME:()=>Vn,_addComponent:()=>Be,_addOrOverwriteComponent:()=>Ne,_apps:()=>_n,_clearComponents:()=>Ln,_components:()=>ke,_getProvider:()=>Tt,_registerComponent:()=>Ke,_removeServiceInstance:()=>en,deleteApp:()=>Dn,getApp:()=>zt,getApps:()=>Gn,initializeApp:()=>wn,onLog:()=>de,registerVersion:()=>J,setLogLevel:()=>Pe});var p=x(5861),N=x(4859),v=x(1877),ne=x(2090),C=x(8766);class te{constructor(lt){this.container=lt}getPlatformInfoString(){return this.container.getProviders().map(st=>{if(function we(fn){return"VERSION"===fn.getComponent()?.type}(st)){const Xe=st.getImmediate();return`${Xe.library}/${Xe.version}`}return null}).filter(st=>st).join(" ")}}const he="@firebase/app",ae=new v.Yd("@firebase/app"),Vn="[DEFAULT]",rn={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_n=new Map,ke=new Map;function Be(fn,lt){try{fn.container.addComponent(lt)}catch(st){ae.debug(`Component ${lt.name} failed to register with FirebaseApp ${fn.name}`,st)}}function Ne(fn,lt){fn.container.addOrOverwriteComponent(lt)}function Ke(fn){const lt=fn.name;if(ke.has(lt))return ae.debug(`There were multiple attempts to register component ${lt}.`),!1;ke.set(lt,fn);for(const st of _n.values())Be(st,fn);return!0}function Tt(fn,lt){const st=fn.container.getProvider("heartbeat").getImmediate({optional:!0});return st&&st.triggerHeartbeat(),fn.container.getProvider(lt)}function en(fn,lt,st=Vn){Tt(fn,lt).clearInstance(st)}function Ln(){ke.clear()}const Qt=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Mt{constructor(lt,st,Xe){this._isDeleted=!1,this._options=Object.assign({},lt),this._config=Object.assign({},st),this._name=st.name,this._automaticDataCollectionEnabled=st.automaticDataCollectionEnabled,this._container=Xe,this.container.addComponent(new N.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(lt){this.checkDestroyed(),this._automaticDataCollectionEnabled=lt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(lt){this._isDeleted=lt}checkDestroyed(){if(this.isDeleted)throw Qt.create("app-deleted",{appName:this._name})}}const $t="9.13.0";function wn(fn,lt={}){let st=fn;"object"!=typeof lt&&(lt={name:lt});const Xe=Object.assign({name:Vn,automaticDataCollectionEnabled:!1},lt),St=Xe.name;if("string"!=typeof St||!St)throw Qt.create("bad-app-name",{appName:String(St)});if(st||(st=(0,ne.aH)()),!st)throw Qt.create("no-options");const Gt=_n.get(St);if(Gt){if((0,ne.vZ)(st,Gt.options)&&(0,ne.vZ)(Xe,Gt.config))return Gt;throw Qt.create("duplicate-app",{appName:St})}const ge=new N.H0(St);for(const G of ke.values())ge.addComponent(G);const j=new Mt(st,Xe,ge);return _n.set(St,j),j}function zt(fn=Vn){const lt=_n.get(fn);if(!lt&&fn===Vn)return wn();if(!lt)throw Qt.create("no-app",{appName:fn});return lt}function Gn(){return Array.from(_n.values())}function Dn(fn){return pt.apply(this,arguments)}function pt(){return(pt=(0,p.Z)(function*(fn){const lt=fn.name;_n.has(lt)&&(_n.delete(lt),yield Promise.all(fn.container.getProviders().map(st=>st.delete())),fn.isDeleted=!0)})).apply(this,arguments)}function J(fn,lt,st){var Xe;let St=null!==(Xe=rn[fn])&&void 0!==Xe?Xe:fn;st&&(St+=`-${st}`);const Gt=St.match(/\s|\//),ge=lt.match(/\s|\//);if(Gt||ge){const j=[`Unable to register library "${St}" with version "${lt}":`];return Gt&&j.push(`library name "${St}" contains illegal characters (whitespace or "/")`),Gt&&ge&&j.push("and"),ge&&j.push(`version name "${lt}" contains illegal characters (whitespace or "/")`),void ae.warn(j.join(" "))}Ke(new N.wA(`${St}-version`,()=>({library:St,version:lt}),"VERSION"))}function de(fn,lt){if(null!==fn&&"function"!=typeof fn)throw Qt.create("invalid-log-argument");(0,v.Am)(fn,lt)}function Pe(fn){(0,v.Ub)(fn)}const be="firebase-heartbeat-store";let We=null;function Ut(){return We||(We=(0,C.X3)("firebase-heartbeat-database",1,{upgrade:(fn,lt)=>{0===lt&&fn.createObjectStore(be)}}).catch(fn=>{throw Qt.create("idb-open",{originalErrorMessage:fn.message})})),We}function Yt(){return(Yt=(0,p.Z)(function*(fn){var lt;try{return(yield Ut()).transaction(be).objectStore(be).get(oi(fn))}catch(st){if(st instanceof ne.ZR)ae.warn(st.message);else{const Xe=Qt.create("idb-get",{originalErrorMessage:null===(lt=st)||void 0===lt?void 0:lt.message});ae.warn(Xe.message)}}})).apply(this,arguments)}function Sn(fn,lt){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,p.Z)(function*(fn,lt){var st;try{const St=(yield Ut()).transaction(be,"readwrite");return yield St.objectStore(be).put(lt,oi(fn)),St.done}catch(Xe){if(Xe instanceof ne.ZR)ae.warn(Xe.message);else{const St=Qt.create("idb-set",{originalErrorMessage:null===(st=Xe)||void 0===st?void 0:st.message});ae.warn(St.message)}}})).apply(this,arguments)}function oi(fn){return`${fn.name}!${fn.options.appId}`}class Ii{constructor(lt){this.container=lt,this._heartbeatsCache=null;const st=this.container.getProvider("app").getImmediate();this._storage=new gt(st),this._heartbeatsCachePromise=this._storage.read().then(Xe=>(this._heartbeatsCache=Xe,Xe))}triggerHeartbeat(){var lt=this;return(0,p.Z)(function*(){const Xe=lt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),St=Tn();if(null===lt._heartbeatsCache&&(lt._heartbeatsCache=yield lt._heartbeatsCachePromise),lt._heartbeatsCache.lastSentHeartbeatDate!==St&&!lt._heartbeatsCache.heartbeats.some(Gt=>Gt.date===St))return lt._heartbeatsCache.heartbeats.push({date:St,agent:Xe}),lt._heartbeatsCache.heartbeats=lt._heartbeatsCache.heartbeats.filter(Gt=>{const ge=new Date(Gt.date).valueOf();return Date.now()-ge<=2592e6}),lt._storage.overwrite(lt._heartbeatsCache)})()}getHeartbeatsHeader(){var lt=this;return(0,p.Z)(function*(){if(null===lt._heartbeatsCache&&(yield lt._heartbeatsCachePromise),null===lt._heartbeatsCache||0===lt._heartbeatsCache.heartbeats.length)return"";const st=Tn(),{heartbeatsToSend:Xe,unsentEntries:St}=function Wt(fn,lt=1024){const st=[];let Xe=fn.slice();for(const St of fn){const Gt=st.find(ge=>ge.agent===St.agent);if(Gt){if(Gt.dates.push(St.date),Et(st)>lt){Gt.dates.pop();break}}else if(st.push({agent:St.agent,dates:[St.date]}),Et(st)>lt){st.pop();break}Xe=Xe.slice(1)}return{heartbeatsToSend:st,unsentEntries:Xe}}(lt._heartbeatsCache.heartbeats),Gt=(0,ne.L)(JSON.stringify({version:2,heartbeats:Xe}));return lt._heartbeatsCache.lastSentHeartbeatDate=st,St.length>0?(lt._heartbeatsCache.heartbeats=St,yield lt._storage.overwrite(lt._heartbeatsCache)):(lt._heartbeatsCache.heartbeats=[],lt._storage.overwrite(lt._heartbeatsCache)),Gt})()}}function Tn(){return(new Date).toISOString().substring(0,10)}class gt{constructor(lt){this.app=lt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var lt=this;return(0,p.Z)(function*(){return(yield lt._canUseIndexedDBPromise)&&(yield function Nt(fn){return Yt.apply(this,arguments)}(lt.app))||{heartbeats:[]}})()}overwrite(lt){var st=this;return(0,p.Z)(function*(){var Xe;if(yield st._canUseIndexedDBPromise){const Gt=yield st.read();return Sn(st.app,{lastSentHeartbeatDate:null!==(Xe=lt.lastSentHeartbeatDate)&&void 0!==Xe?Xe:Gt.lastSentHeartbeatDate,heartbeats:lt.heartbeats})}})()}add(lt){var st=this;return(0,p.Z)(function*(){var Xe;if(yield st._canUseIndexedDBPromise){const Gt=yield st.read();return Sn(st.app,{lastSentHeartbeatDate:null!==(Xe=lt.lastSentHeartbeatDate)&&void 0!==Xe?Xe:Gt.lastSentHeartbeatDate,heartbeats:[...Gt.heartbeats,...lt.heartbeats]})}})()}}function Et(fn){return(0,ne.L)(JSON.stringify({version:2,heartbeats:fn})).length}!function ln(fn){Ke(new N.wA("platform-logger",lt=>new te(lt),"PRIVATE")),Ke(new N.wA("heartbeat",lt=>new Ii(lt),"PRIVATE")),J(he,"0.8.3",fn),J(he,"0.8.3","esm2017"),J("fire-js","")}("")},4859:(gn,_t,x)=>{"use strict";x.d(_t,{H0:()=>he,wA:()=>v,zt:()=>C});var p=x(5861),N=x(2090);class v{constructor(ae,me,ye){this.name=ae,this.instanceFactory=me,this.type=ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const ne="[DEFAULT]";class C{constructor(ae,me){this.name=ae,this.container=me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const me=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(me)){const ye=new N.BH;if(this.instancesDeferred.set(me,ye),this.isInitialized(me)||this.shouldAutoInitialize())try{const Ie=this.getOrInitializeService({instanceIdentifier:me});Ie&&ye.resolve(Ie)}catch{}}return this.instancesDeferred.get(me).promise}getImmediate(ae){var me;const ye=this.normalizeInstanceIdentifier(ae?.identifier),Ie=null!==(me=ae?.optional)&&void 0!==me&&me;if(!this.isInitialized(ye)&&!this.shouldAutoInitialize()){if(Ie)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ye})}catch(Ue){if(Ie)return null;throw Ue}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function we(Se){return"EAGER"===Se.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[me,ye]of this.instancesDeferred.entries()){const Ie=this.normalizeInstanceIdentifier(me);try{const Ue=this.getOrInitializeService({instanceIdentifier:Ie});ye.resolve(Ue)}catch{}}}}clearInstance(ae=ne){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,p.Z)(function*(){const me=Array.from(ae.instances.values());yield Promise.all([...me.filter(ye=>"INTERNAL"in ye).map(ye=>ye.INTERNAL.delete()),...me.filter(ye=>"_delete"in ye).map(ye=>ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=ne){return this.instances.has(ae)}getOptions(ae=ne){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:me={}}=ae,ye=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(ye))throw Error(`${this.name}(${ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ie=this.getOrInitializeService({instanceIdentifier:ye,options:me});for(const[Ue,Je]of this.instancesDeferred.entries())ye===this.normalizeInstanceIdentifier(Ue)&&Je.resolve(Ie);return Ie}onInit(ae,me){var ye;const Ie=this.normalizeInstanceIdentifier(me),Ue=null!==(ye=this.onInitCallbacks.get(Ie))&&void 0!==ye?ye:new Set;Ue.add(ae),this.onInitCallbacks.set(Ie,Ue);const Je=this.instances.get(Ie);return Je&&ae(Je,Ie),()=>{Ue.delete(ae)}}invokeOnInitCallbacks(ae,me){const ye=this.onInitCallbacks.get(me);if(ye)for(const Ie of ye)try{Ie(ae,me)}catch{}}getOrInitializeService({instanceIdentifier:ae,options:me={}}){let ye=this.instances.get(ae);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:(Se=ae,Se===ne?void 0:Se),options:me}),this.instances.set(ae,ye),this.instancesOptions.set(ae,me),this.invokeOnInitCallbacks(ye,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,ye)}catch{}var Se;return ye||null}normalizeInstanceIdentifier(ae=ne){return this.component?this.component.multipleInstances?ae:ne:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const me=this.getProvider(ae.name);if(me.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);me.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const me=new C(ae,this);return this.providers.set(ae,me),me}getProviders(){return Array.from(this.providers.values())}}},1877:(gn,_t,x)=>{"use strict";x.d(_t,{Am:()=>Se,Ub:()=>he,Yd:()=>we,in:()=>N});const p=[];var N=(()=>{return(ae=N||(N={}))[ae.DEBUG=0]="DEBUG",ae[ae.VERBOSE=1]="VERBOSE",ae[ae.INFO=2]="INFO",ae[ae.WARN=3]="WARN",ae[ae.ERROR=4]="ERROR",ae[ae.SILENT=5]="SILENT",N;var ae})();const v={debug:N.DEBUG,verbose:N.VERBOSE,info:N.INFO,warn:N.WARN,error:N.ERROR,silent:N.SILENT},ne=N.INFO,C={[N.DEBUG]:"log",[N.VERBOSE]:"log",[N.INFO]:"info",[N.WARN]:"warn",[N.ERROR]:"error"},te=(ae,me,...ye)=>{if(me<ae.logLevel)return;const Ie=(new Date).toISOString(),Ue=C[me];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${me})`);console[Ue](`[${Ie}]  ${ae.name}:`,...ye)};class we{constructor(me){this.name=me,this._logLevel=ne,this._logHandler=te,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(me){if(!(me in N))throw new TypeError(`Invalid value "${me}" assigned to \`logLevel\``);this._logLevel=me}setLogLevel(me){this._logLevel="string"==typeof me?v[me]:me}get logHandler(){return this._logHandler}set logHandler(me){if("function"!=typeof me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=me}get userLogHandler(){return this._userLogHandler}set userLogHandler(me){this._userLogHandler=me}debug(...me){this._userLogHandler&&this._userLogHandler(this,N.DEBUG,...me),this._logHandler(this,N.DEBUG,...me)}log(...me){this._userLogHandler&&this._userLogHandler(this,N.VERBOSE,...me),this._logHandler(this,N.VERBOSE,...me)}info(...me){this._userLogHandler&&this._userLogHandler(this,N.INFO,...me),this._logHandler(this,N.INFO,...me)}warn(...me){this._userLogHandler&&this._userLogHandler(this,N.WARN,...me),this._logHandler(this,N.WARN,...me)}error(...me){this._userLogHandler&&this._userLogHandler(this,N.ERROR,...me),this._logHandler(this,N.ERROR,...me)}}function he(ae){p.forEach(me=>{me.setLogLevel(ae)})}function Se(ae,me){for(const ye of p){let Ie=null;me&&me.level&&(Ie=v[me.level]),ye.userLogHandler=null===ae?null:(Ue,Je,...Fe)=>{const ot=Fe.map(ht=>{if(null==ht)return null;if("string"==typeof ht)return ht;if("number"==typeof ht||"boolean"==typeof ht)return ht.toString();if(ht instanceof Error)return ht.message;try{return JSON.stringify(ht)}catch{return null}}).filter(ht=>ht).join(" ");Je>=(Ie??Ue.logLevel)&&ae({level:N[Je].toLowerCase(),message:ot,args:Fe,type:Ue.name})}}}},8766:(gn,_t,x)=>{"use strict";x.d(_t,{Lj:()=>kt,X3:()=>ut});var p=x(5861);let v,ne;const we=new WeakMap,he=new WeakMap,Se=new WeakMap,ae=new WeakMap,me=new WeakMap;let Ue={get(tt,qe,Lt){if(tt instanceof IDBTransaction){if("done"===qe)return he.get(tt);if("objectStoreNames"===qe)return tt.objectStoreNames||Se.get(tt);if("store"===qe)return Lt.objectStoreNames[1]?void 0:Lt.objectStore(Lt.objectStoreNames[0])}return ht(tt[qe])},set:(tt,qe,Lt)=>(tt[qe]=Lt,!0),has:(tt,qe)=>tt instanceof IDBTransaction&&("done"===qe||"store"===qe)||qe in tt};function ot(tt){return"function"==typeof tt?function Fe(tt){return tt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(tt)?function(...qe){return tt.apply(jt(this),qe),ht(we.get(this))}:function(...qe){return ht(tt.apply(jt(this),qe))}:function(qe,...Lt){const Ge=tt.call(jt(this),qe,...Lt);return Se.set(Ge,qe.sort?qe.sort():[qe]),ht(Ge)}}(tt):(tt instanceof IDBTransaction&&function Ie(tt){if(he.has(tt))return;const qe=new Promise((Lt,Ge)=>{const Ot=()=>{tt.removeEventListener("complete",Bt),tt.removeEventListener("error",bn),tt.removeEventListener("abort",bn)},Bt=()=>{Lt(),Ot()},bn=()=>{Ge(tt.error||new DOMException("AbortError","AbortError")),Ot()};tt.addEventListener("complete",Bt),tt.addEventListener("error",bn),tt.addEventListener("abort",bn)});he.set(tt,qe)}(tt),((tt,qe)=>qe.some(Lt=>tt instanceof Lt))(tt,function C(){return v||(v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(tt,Ue):tt)}function ht(tt){if(tt instanceof IDBRequest)return function ye(tt){const qe=new Promise((Lt,Ge)=>{const Ot=()=>{tt.removeEventListener("success",Bt),tt.removeEventListener("error",bn)},Bt=()=>{Lt(ht(tt.result)),Ot()},bn=()=>{Ge(tt.error),Ot()};tt.addEventListener("success",Bt),tt.addEventListener("error",bn)});return qe.then(Lt=>{Lt instanceof IDBCursor&&we.set(Lt,tt)}).catch(()=>{}),me.set(qe,tt),qe}(tt);if(ae.has(tt))return ae.get(tt);const qe=ot(tt);return qe!==tt&&(ae.set(tt,qe),me.set(qe,tt)),qe}const jt=tt=>me.get(tt);function ut(tt,qe,{blocked:Lt,upgrade:Ge,blocking:Ot,terminated:Bt}={}){const bn=indexedDB.open(tt,qe),qn=ht(bn);return Ge&&bn.addEventListener("upgradeneeded",jn=>{Ge(ht(bn.result),jn.oldVersion,jn.newVersion,ht(bn.transaction))}),Lt&&bn.addEventListener("blocked",()=>Lt()),qn.then(jn=>{Bt&&jn.addEventListener("close",()=>Bt()),Ot&&jn.addEventListener("versionchange",()=>Ot())}).catch(()=>{}),qn}function kt(tt,{blocked:qe}={}){const Lt=indexedDB.deleteDatabase(tt);return qe&&Lt.addEventListener("blocked",()=>qe()),ht(Lt).then(()=>{})}const vt=["get","getKey","getAll","getAllKeys","count"],et=["put","add","delete","clear"],Le=new Map;function ft(tt,qe){if(!(tt instanceof IDBDatabase)||qe in tt||"string"!=typeof qe)return;if(Le.get(qe))return Le.get(qe);const Lt=qe.replace(/FromIndex$/,""),Ge=qe!==Lt,Ot=et.includes(Lt);if(!(Lt in(Ge?IDBIndex:IDBObjectStore).prototype)||!Ot&&!vt.includes(Lt))return;const Bt=function(){var bn=(0,p.Z)(function*(qn,...jn){const ai=this.transaction(qn,Ot?"readwrite":"readonly");let Vn=ai.store;return Ge&&(Vn=Vn.index(jn.shift())),(yield Promise.all([Vn[Lt](...jn),Ot&&ai.done]))[0]});return function(jn){return bn.apply(this,arguments)}}();return Le.set(qe,Bt),Bt}!function Je(tt){Ue=tt(Ue)}(tt=>({...tt,get:(qe,Lt,Ge)=>ft(qe,Lt)||tt.get(qe,Lt,Ge),has:(qe,Lt)=>!!ft(qe,Lt)||tt.has(qe,Lt)}))},7185:(gn,_t,x)=>{"use strict";x.d(_t,{Rh:()=>jn,_W:()=>Bt});var p=x(4650),N=x(7340),v=x(8929),ne=x(6895),C=x(1481);const te=["toast-component",""];function we(ke,Be){if(1&ke){const Ne=p.EpF();p.TgZ(0,"button",5),p.NdJ("click",function(){p.CHM(Ne);const Tt=p.oxw();return p.KtG(Tt.remove())}),p.TgZ(1,"span",6),p._uU(2,"\xd7"),p.qZA()()}}function he(ke,Be){if(1&ke&&(p.ynx(0),p._uU(1),p.BQk()),2&ke){const Ne=p.oxw(2);p.xp6(1),p.hij("[",Ne.duplicatesCount+1,"]")}}function Se(ke,Be){if(1&ke&&(p.TgZ(0,"div"),p._uU(1),p.YNc(2,he,2,1,"ng-container",4),p.qZA()),2&ke){const Ne=p.oxw();p.Tol(Ne.options.titleClass),p.uIk("aria-label",Ne.title),p.xp6(1),p.hij(" ",Ne.title," "),p.xp6(1),p.Q6J("ngIf",Ne.duplicatesCount)}}function ae(ke,Be){if(1&ke&&p._UZ(0,"div",7),2&ke){const Ne=p.oxw();p.Tol(Ne.options.messageClass),p.Q6J("innerHTML",Ne.message,p.oJD)}}function me(ke,Be){if(1&ke&&(p.TgZ(0,"div",8),p._uU(1),p.qZA()),2&ke){const Ne=p.oxw();p.Tol(Ne.options.messageClass),p.uIk("aria-label",Ne.message),p.xp6(1),p.hij(" ",Ne.message," ")}}function ye(ke,Be){if(1&ke&&(p.TgZ(0,"div"),p._UZ(1,"div",9),p.qZA()),2&ke){const Ne=p.oxw();p.xp6(1),p.Udp("width",Ne.width+"%")}}class kt{constructor(Be,Ne){this.component=Be,this.injector=Ne}attach(Be,Ne){return this._attachedHost=Be,Be.attach(this,Ne)}detach(){const Be=this._attachedHost;if(Be)return this._attachedHost=void 0,Be.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(Be){this._attachedHost=Be}}class et{constructor(Be){this._overlayRef=Be,this.duplicatesCount=0,this._afterClosed=new v.xQ,this._activate=new v.xQ,this._manualClose=new v.xQ,this._resetTimeout=new v.xQ,this._countDuplicate=new v.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(Be,Ne){Be&&this._resetTimeout.next(),Ne&&this._countDuplicate.next(++this.duplicatesCount)}}class Le{constructor(Be,Ne,Ke,Tt,en,Ln){this.toastId=Be,this.config=Ne,this.message=Ke,this.title=Tt,this.toastType=en,this.toastRef=Ln,this._onTap=new v.xQ,this._onAction=new v.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(Be){this._onAction.next(Be)}onAction(){return this._onAction.asObservable()}}const tt=new p.OlP("ToastConfig");class qe extends class vt{attach(Be,Ne){return this._attachedPortal=Be,this.attachComponentPortal(Be,Ne)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(Be){this._disposeFn=Be}}{constructor(Be,Ne,Ke){super(),this._hostDomElement=Be,this._componentFactoryResolver=Ne,this._appRef=Ke}attachComponentPortal(Be,Ne){const Ke=this._componentFactoryResolver.resolveComponentFactory(Be.component);let Tt;return Tt=Ke.create(Be.injector),this._appRef.attachView(Tt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Tt.hostView),Tt.destroy()}),Ne?this._hostDomElement.insertBefore(this._getComponentRootNode(Tt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Tt)),Tt}_getComponentRootNode(Be){return Be.hostView.rootNodes[0]}}class Lt{constructor(Be){this._portalHost=Be}attach(Be,Ne=!0){return this._portalHost.attach(Be,Ne)}detach(){return this._portalHost.detach()}}let Ge=(()=>{class ke{constructor(Ne){this._document=Ne}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ne=this._document.createElement("div");Ne.classList.add("overlay-container"),Ne.setAttribute("aria-live","polite"),this._document.body.appendChild(Ne),this._containerElement=Ne}}return ke.\u0275fac=function(Ne){return new(Ne||ke)(p.LFG(ne.K0))},ke.\u0275prov=p.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"}),ke})(),Ot=(()=>{class ke{constructor(Ne,Ke,Tt,en){this._overlayContainer=Ne,this._componentFactoryResolver=Ke,this._appRef=Tt,this._document=en,this._paneElements=new Map}create(Ne,Ke){return this._createOverlayRef(this.getPaneElement(Ne,Ke))}getPaneElement(Ne="",Ke){return this._paneElements.get(Ke)||this._paneElements.set(Ke,{}),this._paneElements.get(Ke)[Ne]||(this._paneElements.get(Ke)[Ne]=this._createPaneElement(Ne,Ke)),this._paneElements.get(Ke)[Ne]}_createPaneElement(Ne,Ke){const Tt=this._document.createElement("div");return Tt.id="toast-container",Tt.classList.add(Ne),Tt.classList.add("toast-container"),Ke?Ke.getContainerElement().appendChild(Tt):this._overlayContainer.getContainerElement().appendChild(Tt),Tt}_createPortalHost(Ne){return new qe(Ne,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Ne){return new Lt(this._createPortalHost(Ne))}}return ke.\u0275fac=function(Ne){return new(Ne||ke)(p.LFG(Ge),p.LFG(p._Vd),p.LFG(p.z2F),p.LFG(ne.K0))},ke.\u0275prov=p.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"}),ke})(),Bt=(()=>{class ke{constructor(Ne,Ke,Tt,en,Ln){this.overlay=Ke,this._injector=Tt,this.sanitizer=en,this.ngZone=Ln,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...Ne.default,...Ne.config},Ne.config.iconClasses&&(this.toastrConfig.iconClasses={...Ne.default.iconClasses,...Ne.config.iconClasses})}show(Ne,Ke,Tt={},en=""){return this._preBuildNotification(en,Ne,Ke,this.applyConfig(Tt))}success(Ne,Ke,Tt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Ne,Ke,this.applyConfig(Tt))}error(Ne,Ke,Tt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Ne,Ke,this.applyConfig(Tt))}info(Ne,Ke,Tt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Ne,Ke,this.applyConfig(Tt))}warning(Ne,Ke,Tt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Ne,Ke,this.applyConfig(Tt))}clear(Ne){for(const Ke of this.toasts)if(void 0!==Ne){if(Ke.toastId===Ne)return void Ke.toastRef.manualClose()}else Ke.toastRef.manualClose()}remove(Ne){const Ke=this._findToast(Ne);if(!Ke||(Ke.activeToast.toastRef.close(),this.toasts.splice(Ke.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Tt=this.toasts[this.currentlyActive].toastRef;Tt.isInactive()||(this.currentlyActive=this.currentlyActive+1,Tt.activate())}return!0}findDuplicate(Ne="",Ke="",Tt,en){const{includeTitleDuplicates:Ln}=this.toastrConfig;for(const It of this.toasts){const Qt=Ln&&It.title===Ne;if((!Ln||Qt)&&It.message===Ke)return It.toastRef.onDuplicate(Tt,en),It}return null}applyConfig(Ne={}){return{...this.toastrConfig,...Ne}}_findToast(Ne){for(let Ke=0;Ke<this.toasts.length;Ke++)if(this.toasts[Ke].toastId===Ne)return{index:Ke,activeToast:this.toasts[Ke]};return null}_preBuildNotification(Ne,Ke,Tt,en){return en.onActivateTick?this.ngZone.run(()=>this._buildNotification(Ne,Ke,Tt,en)):this._buildNotification(Ne,Ke,Tt,en)}_buildNotification(Ne,Ke,Tt,en){if(!en.toastComponent)throw new Error("toastComponent required");const Ln=this.findDuplicate(Tt,Ke,this.toastrConfig.resetTimeoutOnDuplicate&&en.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Tt||Ke)&&this.toastrConfig.preventDuplicates&&null!==Ln)return Ln;this.previousToastMessage=Ke;let It=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(It=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Qt=this.overlay.create(en.positionClass,this.overlayContainer);this.index=this.index+1;let Mt=Ke;Ke&&en.enableHtml&&(Mt=this.sanitizer.sanitize(p.q3G.HTML,Ke));const $t=new et(Qt),wn=new Le(this.index,en,Mt,Tt,Ne,$t),Gn=p.zs3.create({providers:[{provide:Le,useValue:wn}],parent:this._injector}),Dn=new kt(en.toastComponent,Gn),pt=Qt.attach(Dn,en.newestOnTop);$t.componentInstance=pt.instance;const J={toastId:this.index,title:Tt||"",message:Ke||"",toastRef:$t,onShown:$t.afterActivate(),onHidden:$t.afterClosed(),onTap:wn.onTap(),onAction:wn.onAction(),portal:pt};return It||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{J.toastRef.activate()})),this.toasts.push(J),J}}return ke.\u0275fac=function(Ne){return new(Ne||ke)(p.LFG(tt),p.LFG(Ot),p.LFG(p.zs3),p.LFG(C.H7),p.LFG(p.R0b))},ke.\u0275prov=p.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"}),ke})();const qn={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class ke{constructor(Ne,Ke,Tt){this.toastrService=Ne,this.toastPackage=Ke,this.ngZone=Tt,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Ke.message,this.title=Ke.title,this.options=Ke.config,this.originalTimeout=Ke.config.timeOut,this.toastClasses=`${Ke.toastType} ${Ke.config.toastClass}`,this.sub=Ke.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ke.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ke.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ke.toastRef.countDuplicate().subscribe(en=>{this.duplicatesCount=en})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ne=(new Date).getTime();this.width=(this.hideTime-Ne)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Ne,Ke){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Ne),Ke)):this.timeout=setTimeout(()=>Ne(),Ke)}outsideInterval(Ne,Ke){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Ne),Ke)):this.intervalId=setInterval(()=>Ne(),Ke)}runInsideAngular(Ne){this.ngZone?this.ngZone.run(()=>Ne()):Ne()}}return ke.\u0275fac=function(Ne){return new(Ne||ke)(p.Y36(Bt),p.Y36(Le),p.Y36(p.R0b))},ke.\u0275cmp=p.Xpm({type:ke,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Ne,Ke){1&Ne&&p.NdJ("click",function(){return Ke.tapToast()})("mouseenter",function(){return Ke.stickAround()})("mouseleave",function(){return Ke.delayedHideToast()}),2&Ne&&(p.d8E("@flyInOut",Ke.state),p.Tol(Ke.toastClasses),p.Udp("display",Ke.displayStyle))},attrs:te,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Ne,Ke){1&Ne&&(p.YNc(0,we,3,0,"button",0),p.YNc(1,Se,3,5,"div",1),p.YNc(2,ae,1,3,"div",2),p.YNc(3,me,2,4,"div",3),p.YNc(4,ye,2,2,"div",4)),2&Ne&&(p.Q6J("ngIf",Ke.options.closeButton),p.xp6(1),p.Q6J("ngIf",Ke.title),p.xp6(1),p.Q6J("ngIf",Ke.message&&Ke.options.enableHtml),p.xp6(1),p.Q6J("ngIf",Ke.message&&!Ke.options.enableHtml),p.xp6(1),p.Q6J("ngIf",Ke.options.progressBar))},dependencies:[ne.O5],encapsulation:2,data:{animation:[(0,N.X$)("flyInOut",[(0,N.SB)("inactive",(0,N.oB)({opacity:0})),(0,N.SB)("active",(0,N.oB)({opacity:1})),(0,N.SB)("removed",(0,N.oB)({opacity:0})),(0,N.eR)("inactive => active",(0,N.jt)("{{ easeTime }}ms {{ easing }}")),(0,N.eR)("active => removed",(0,N.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),ke})()};let jn=(()=>{class ke{static forRoot(Ne={}){return{ngModule:ke,providers:[{provide:tt,useValue:{default:qn,config:Ne}}]}}}return ke.\u0275fac=function(Ne){return new(Ne||ke)},ke.\u0275mod=p.oAB({type:ke}),ke.\u0275inj=p.cJS({imports:[ne.ez]}),ke})()},5861:(gn,_t,x)=>{"use strict";function p(v,ne,C,te,we,he,Se){try{var ae=v[he](Se),me=ae.value}catch(ye){return void C(ye)}ae.done?ne(me):Promise.resolve(me).then(te,we)}function N(v){return function(){var ne=this,C=arguments;return new Promise(function(te,we){var he=v.apply(ne,C);function Se(me){p(he,te,we,Se,ae,"next",me)}function ae(me){p(he,te,we,Se,ae,"throw",me)}Se(void 0)})}}x.d(_t,{Z:()=>N})}},gn=>{gn(gn.s=8100)}]);